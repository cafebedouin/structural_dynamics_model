% ============================================================================
% CONSTRAINT STORY: tax_code_section_469
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 1.5 Pro
% Source: 26 USC 469: Passive activity losses and credits limited
% ============================================================================

:- module(tax_code_section_469, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor for System Extraction
narrative_ontology:interval(tax_code_section_469, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: tax_code_section_469
 * human_readable: Passive Activity Loss (PAL) Limitations
 * domain: economic/political
 * temporal_scope: Post-1986 (Tax Reform Act of 1986)
 * spatial_scope: National (United States)
 * * SUMMARY:
 * Section 469 restricts taxpayers from using losses or credits from "passive activities" 
 * (trades or businesses in which they do not materially participate) to offset "active" 
 * income like wages or "portfolio" income like dividends. It essentially "silos" 
 * investment losses, preventing them from being used to lower a taxpayer's overall tax 
 * liability unless they have matching passive income.
 * * KEY AGENTS:
 * - Small_Investor: Individual with limited capital, often trapped by lack of "material participation."
 * - Real_Estate_Professional: Taxpayers who meet high hour thresholds to bypass PAL limits.
 * - IRS_Institutional: The state body enforcing the compartmentalization of income.
 * * NARRATIVE ARC:
 * Originally enacted to curb tax shelters, the constraint creates a barrier for 
 * casual investors while providing specific "exits" for those with the time or 
 * scale to qualify as professionals or maintain a portfolio of varied passive interests.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Base extractiveness: Moderate (0.45)
% It prevents wealth preservation via losses but fund the state.
domain_priors:base_extractiveness(tax_code_section_469, 0.45).

% Suppression: High (0.75)
% Alternatives (like direct offsetting) are legally prohibited and carry penalties.
domain_priors:suppression_score(tax_code_section_469, 0.75).

% Enforcement: Requires active maintenance (audit, reporting).
domain_priors:requires_active_enforcement(tax_code_section_469).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Small Investor - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_powerless - Lacks the 750+ hours required for professional status.
   WHEN: biographical - A 30-year investment horizon is dictated by these rules.
   WHERE: trapped - Cannot simply "exit" the tax code while residing in the US.
   SCOPE: national - Governed by federal law.
   
   WHY THIS CLASSIFICATION:
   For the small investor, Section 469 is a Noose because it unilaterally disallows 
   legitimate economic losses from being recognized for tax purposes simply because 
   the investor has a "day job." It extracts value by denying deductions that 
   would be available to larger, specialized players.
   
   NARRATIVE EVIDENCE:
   "neither— (A) the passive activity loss, nor (B) the passive activity credit, 
   for the taxable year shall be allowed." 
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tax_code_section_469,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(tax_code_section_469, E), E > 0.4,
    domain_priors:suppression_score(tax_code_section_469, S), S > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Real Estate Professional - ROPE
   --------------------------------------------------------------------------
   WHO: individual_moderate - Has the agency to structure their life to meet legal thresholds.
   WHEN: immediate - Adjusts participation hours annually.
   WHERE: mobile - Professional status provides an "exit" from the PAL limitation.
   SCOPE: local/regional - Focuses on their specific property portfolio.
   
   WHY THIS CLASSIFICATION:
   For the professional, the rule is a Rope—a functional coordination mechanism. 
   While it imposes a burden (750 hours of service), it provides a clear 
   pathway to bypass the restriction, effectively acting as a professional 
   standard that coordinates tax benefits with actual economic labor.
   
   NARRATIVE EVIDENCE:
   "paragraph (2) shall not apply to any rental real estate activity of such 
   taxpayer... if more than 750 hours of services during the taxable year... 
   are performed." 
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tax_code_section_469,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    domain_priors:requires_active_enforcement(tax_code_section_469),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: IRS/Institutional - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: institutional - Rule-making and enforcement power.
   WHEN: civilizational - Viewed as a permanent pillar of post-1986 tax logic.
   WHERE: analytical - Objective application of the code.
   SCOPE: global - Affects all US citizens regardless of location.
   
   WHY THIS CLASSIFICATION:
   From the perspective of the institution, Section 469 is a Mountain—an 
   unchangeable fact of the legal landscape. It is not an "extraction" but a 
   natural boundary of what constitutes a "passive activity," necessary to 
   prevent the "erosion" of the tax base by artificial tax shelters.
   
   NARRATIVE EVIDENCE:
   "The term 'passive activity' means any activity— (A) which involves the 
   conduct of any trade or business, and (B) in which the taxpayer does not 
   materially participate." 
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tax_code_section_469,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(tax_code_section_469, S), S > 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(tax_code_section_469_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(tax_code_section_469, Type1, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(tax_code_section_469, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(tax_code_section_469, Type3, context(agent_power(institutional), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3,
    Type1 \= Type3.

test(professional_exit_validity) :-
    % Test that mobility/exit options change the classification from Noose to Rope
    constraint_indexing:constraint_classification(tax_code_section_469, noose, context(_, _, trapped, _)),
    constraint_indexing:constraint_classification(tax_code_section_469, rope, context(_, _, mobile, _)).

test(time_horizon_perception) :-
    % Institutional view sees the law as civilizational (Mountain)
    constraint_indexing:constraint_classification(tax_code_section_469, mountain, context(_, time_horizon(civilizational), _, _)).

:- end_tests(tax_code_section_469_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 1.5 Pro
 * Date: 2026-01-16
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.45):
 * Reasoning: While Section 469 prevents tax avoidance (benefiting the collective state), 
 * it creates a "tax on losses" for those without the liquidity to wait for 
 * future passive income, representing a moderate asymmetric flow.
 * * 2. SUPPRESSION SCORE (0.75):
 * Reasoning: The law explicitly defines "material participation" in a way that 
 * excludes most alternative definitions of involvement. Alternatives like 
 * "aggregate netting" are strictly suppressed by subsection (a).
 * * 3. PERSPECTIVE SELECTION:
 * Chose Small Investor (Powerless), Real Estate Pro (Moderate/Mobile), and 
 * IRS (Institutional) to highlight the gap between those crushed by the rule 
 * and those who use it as a regulatory barrier to entry.
 * * 4. CONFIDENCE:
 * High: Legal definitions and the "Noose" vs "Rope" distinction based on professional status.
 * Medium: Extractiveness score (subjective based on economic philosophy).
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Pre-1986 System (Universal Netting)
 * Viability: Historically proven, allowed all business losses to offset any income.
 * Suppression: Explicitly replaced by the 1986 Act to kill the tax shelter industry.
 * * ALTERNATIVE 2: Pro-Rata Participation
 * Viability: Allowing a percentage of losses based on a percentage of hours worked.
 * Suppression: Rejected in favor of "all-or-nothing" thresholds (750 hours).
 * * CONCLUSION:
 * The existence of suppressed alternatives (especially the previous system) 
 * reinforces the "Noose" classification for the powerless individual who 
 * cannot meet the arbitrary 750-hour "Rope" requirement.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [tax_code_section_469].
 * 2. Run tests: ?- run_tests(tax_code_section_469_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: section_469_c7_professional_threshold
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 1.5 Pro
% Source: 26 USC 469(c)(7) - Special rules for taxpayers in real property business
% ============================================================================

:- module(section_469_c7_professional_threshold, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

narrative_ontology:interval(section_469_c7_professional_threshold, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: section_469_c7_professional_threshold
 * human_readable: The Real Estate Professional 750-Hour Gateway
 * domain: economic/legal
 * temporal_scope: Annual Tax Filing Cycle
 * spatial_scope: National (US Federal)
 * * SUMMARY:
 * Section 469(c)(7) provides an exception to the general rule that rental 
 * activities are per se passive. To 
 * qualify, a taxpayer must perform more than 50% of their personal services 
 * in real property trades and exceed 750 hours of service annually. This creates a binary state: one is either 
 * "Professional" (active losses allowed) or "Amateur" (losses disallowed).
 * * KEY AGENTS:
 * - Hybrid_Worker: An individual with a W-2 job and rental properties.
 * - Full_Time_Developer: An individual whose primary income is real estate.
 * - Auditor: The enforcer of the hourly log.
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

% Base extractiveness: Moderate (0.5) 
% It forces a massive time commitment to unlock tax benefits.
domain_priors:base_extractiveness(section_469_c7_professional_threshold, 0.5).

% Suppression: Moderate-High (0.65)
% Services as an employee generally do not count toward the 750 hours 
% unless the employee is a 5-percent owner.
domain_priors:suppression_score(section_469_c7_professional_threshold, 0.65).

domain_priors:requires_active_enforcement(section_469_c7_professional_threshold).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Hybrid Worker (W-2 + Rentals) - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_powerless - Cannot satisfy the "50% of services" rule 
   because their primary job consumes their time.
   EXIT: trapped - Cannot reclassify income without quitting their job.
   
   WHY THIS CLASSIFICATION:
   The 750-hour rule is a Noose because it is mathematically impossible for 
   someone working a full-time (2,000 hour) job to spend >50% of their time 
   in real estate. It extracts tax revenue by 
   disallowing losses that are economically real but legally "passive."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    section_469_c7_professional_threshold,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(section_469_c7_professional_threshold, S),
    S > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Full-Time Developer - ROPE
   --------------------------------------------------------------------------
   WHO: individual_moderate - Has the career flexibility to hit thresholds.
   EXIT: mobile - Uses the "election to treat all interests as one activity" 
   to simplify the burden.
   
   WHY THIS CLASSIFICATION:
   For the professional, the rule is a Rope—a tool for coordination. It 
   separates "true" industry participants from "dabblers," rewarding the 
   former with the ability to use rental losses to offset other active 
   income.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    section_469_c7_professional_threshold,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    domain_priors:requires_active_enforcement(section_469_c7_professional_threshold),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The Tax Court / Auditor - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: institutional - Enforces the strict hourly definitions.
   EXIT: analytical - Neutral application of the "material participation" tests.
   
   WHY THIS CLASSIFICATION:
   To the institution, the 750-hour and 50% thresholds are objective constants 
   of the tax universe. They are not "negotiable" 
   functions but rather the boundaries of the legal definitions of trade 
   and business.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    section_469_c7_professional_threshold,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(section_469_c7_professional_threshold, E),
    E >= 0.5,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(section_469_c7_tests).

test(threshold_binary_flip) :-
    % Test that changing power/exit status flips the constraint type
    constraint_indexing:constraint_classification(section_469_c7_professional_threshold, noose, context(agent_power(individual_powerless), _, trapped, _)),
    constraint_indexing:constraint_classification(section_469_c7_professional_threshold, rope, context(agent_power(individual_moderate), _, mobile, _)).

test(employment_suppression_logic) :-
    % Employee services (non-owner) are suppressed/excluded
    domain_priors:suppression_score(section_469_c7_professional_threshold, S),
    S > 0.5.

:- end_tests(section_469_c7_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.5): This is higher than the general PAL rule because 
 * it demands "Personal Services". The state extracts 
 * either tax revenue OR 750 hours of human labor.
 * 2. PERSPECTIVE GAP: The friction here is most visible for the "Hybrid 
 * Worker" (W-2 + Real Estate). The code 
 * explicitly prevents them from "counting" their job time toward the 
 * real estate requirement unless they own 5% of the company.
 */
% ============================================================================
% CONSTRAINT STORY: ai_evaluators_matching
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: AI-Driven Recruitment / Automated Talent Assessment
% ============================================================================

:- module(constraint_ai_evaluators, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ai_evaluators_matching
 * human_readable: AI-Evaluators (Automated Gatekeeping)
 * domain: technological/economic
 * temporal_scope: Immediate to Biographical
 * spatial_scope: Global
 * * SUMMARY:
 * AI-Evaluators are the algorithmic layer between applicants and matching 
 * markets. They use Large Language Models (LLMs), video analysis, and game-based 
 * assessments to rank candidates. This shifts the constraint from "Human 
 * Discretion" to "Mathematical Feature Optimization."
 * * KEY AGENTS:
 * - The Applicant: Must optimize their "digital twin" to pass the filter.
 * - The Hiring Firm: Offloads the high-congestion filtering to a black-box system.
 * - The Model Developer: Designs the weights and features that define "merit."
 * * NARRATIVE ARC:
 * The constraint functions as a "Black-Box Sieve." It solves the problem of 
 * market congestion (too many applicants) but introduces a Noose of 
 * opacity—where applicants are rejected for reasons they cannot see, 
 * contested, or understand.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(ai_evaluators_matching, 0, 10).
narrative_ontology:constraint_claim(ai_evaluators_matching, algorithmic_authority).

% Base extractiveness: High (0.75).
% AI systems extract behavioral data and "performance labor" from applicants, 
% often without compensation or feedback.
domain_priors:base_extractiveness(ai_evaluators_matching, 0.75).

% Suppression: High (0.8).
% Human review is increasingly suppressed/unavailable for early-stage filters; 
% the "AI-first" path is effectively the only gate.
domain_priors:suppression_score(ai_evaluators_matching, 0.8).

% Enforcement: Emerges naturally from technological efficiency gains.
domain_priors:emerges_naturally(ai_evaluators_matching).

% Beneficiaries: Large Corporations (efficiency), AI SaaS Providers.
constraint_beneficiary(ai_evaluators_matching, large_scale_employers).

% Victims: "Outlier" Candidates (highly capable but don't fit the model's 
% statistical patterns).
constraint_victim(ai_evaluators_matching, neurodivergent_or_atypical_applicants).

% Metrics
narrative_ontology:constraint_metric(ai_evaluators_matching, extractiveness, 0.75).
narrative_ontology:constraint_metric(ai_evaluators_matching, suppression_requirement, 0.8).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE APPLICANT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped (opaque criteria, no appeal)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the applicant, AI-Evaluators are a "Noose." They are forced to perform 
   for an invisible set of weights. Because the logic is often proprietary 
   or unexplainable, the candidate is trapped in a loop of "A/B testing" 
   their own personality just to get a human to look at their resume.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_evaluators_matching,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(ai_evaluators_matching, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE RECRUITER - Rope
   --------------------------------------------------------------------------
   WHO: institutional/individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   To a recruiter handling 5,000 applications for one role, AI is a "Rope." 
   It pulls them out of the "Mountain" of paperwork and provides a 
   manageable shortlist. It is a coordination tool that makes the 
   "Match" possible in an age of hyper-congestion.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_eval_matching,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DATA SCIENTIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: civilizational
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The scientist views the AI evaluator as a "Mountain" of statistical 
   probability. The model simply reflects the patterns in the training data. 
   If the data says "X correlates with Y," that is a feature of the 
   mathematical landscape, not a subjective choice.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_eval_matching,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(ai_eval_matching),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(ai_evaluator_tests).

test(opacity_noose) :-
    % Testing that 'trapped' applicants experience high-extractiveness Noose.
    constraint_indexing:constraint_classification(ai_evaluators_matching, noose, context(_, _, trapped, _)).

test(congestion_reduction_rope) :-
    % Testing that institutions see the Rope for managing congestion.
    constraint_indexing:constraint_classification(ai_eval_matching, rope, context(institutional, _, _, _)).

:- end_tests(ai_evaluator_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * I set extractiveness high (0.75) because AI-Evaluators require the 
 * "performance" of the applicant while providing almost zero transparency 
 * in return. This is the ultimate "Asymmetric Match."
 * * OMEGAS:
 * 1. Can AI ever be truly "explainable"? If not, the Noose classification 
 * for applicants is permanent.
 */

omega_variable(
    explainability_frontier,
    "Will neural networks become transparent enough to provide specific reasons for rejection?",
    resolution_mechanism("Tracking XAI (Explainable AI) research and legislative mandates (e.g., EU AI Act)"),
    impact("If Yes: The Noose becomes a Rope (candidates can adapt). If No: The Noose remains a black box."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: algorithmic_bias
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Sociotechnical Systems / Machine Learning Ethics
% ============================================================================

:- module(constraint_algorithmic_bias, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: algorithmic_bias
 * human_readable: Algorithmic Bias
 * domain: technological/social
 * temporal_scope: 2010-Present (The Era of Big Data)
 * spatial_scope: Global (Digital Infrastructure)
 * * SUMMARY:
 * Algorithmic bias occurs when computer systems, particularly those using 
 * machine learning, produce systematically prejudiced results. This constraint 
 * operates through training data that reflects historical inequities, which 
 * the algorithm then automates and scales, often under a veneer of 
 * "mathematical objectivity."
 * * KEY AGENTS:
 * - The Data Subject: The individual (often from a marginalized group) 
 * whose life chances are governed by the model.
 * - The Data Scientist: The creator who may be unaware of embedded priors 
 * or lacks the power to change the dataset.
 * - The Institutional Deployer: The organization (bank, court, employer) 
 * using the tool to automate decision-making.
 * * NARRATIVE ARC:
 * The constraint starts as a "hidden variable" in training data. Once deployed, 
 * it functions as an invisible barrier (Mountain) for those it discriminates 
 * against, while acting as an efficiency tool (Rope) for the institution. 
 * Because the bias is "math-washed," it is harder to challenge than human 
 * prejudice.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(algo_bias_interval, 0, 10).
narrative_ontology:constraint_claim([algorithmic_bias], statistical_feedback_loop).

% Base extractiveness: 0.6 (High)
% Rationale: It extracts opportunity, credit, or freedom from the "victim" 
% class and converts it into administrative efficiency or profit for the 
% "beneficiary" class.
domain_priors:base_extractiveness(algorithmic_bias, 0.6).

% Suppression score: 0.7 (High)
% Rationale: The inner workings of these models are often protected as 
% trade secrets, and the outputs are presented as "objective," which 
% suppresses the visibility of the bias and the possibility of appeal.
domain_priors:suppression_score(algorithmic_bias, 0.7).

% Enforcement: Emerges naturally from historical data but requires active 
% institutional maintenance to ignore feedback.
domain_priors:requires_active_enforcement(algorithmic_bias).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(algorithmic_bias, extractiveness, 0.6).
narrative_ontology:constraint_metric(algorithmic_bias, suppression_requirement, 0.7).

% Beneficiaries: Institutions seeking low-cost automation and "objective" 
% cover for gatekeeping.
constraint_beneficiary(algorithmic_bias, institutional_deployer).

% Victims: Marginalized groups represented poorly or unfairly in training data.
constraint_victim(algorithmic_bias, marginalized_data_subjects).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DATA SUBJECT (Powerless) - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A person denied a loan or flagged by police).
   WHEN: immediate (Affects their current life-state).
   WHERE: trapped (Cannot "opt-out" of the algorithmic gaze).
   SCOPE: national/global.
   
   WHY THIS CLASSIFICATION:
   For the subject, the bias is a Mountain. It is an immovable, opaque reality 
   that dictates their options. They cannot argue with the "black box," and 
   the systemic nature of the bias means it follows them across different 
   platforms and institutions.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    algorithmic_bias,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE INSTITUTIONAL USER - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (The manager or risk officer).
   WHEN: biographical (Career-length focus on efficiency).
   WHERE: arbitrage (Can switch models or vendors).
   SCOPE: regional/national.
   
   WHY THIS CLASSIFICATION:
   For the institution, the algorithm (even with bias) is a Rope. It is a tool 
   for coordination and scale. It allows them to process thousands of 
   applicants instantly. The bias is often seen as a "margin of error" or a 
   "necessary trade-off" for the efficiency the tool provides.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    algorithmic_bias,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ETHICAL AUDITOR - NOOSE
   --------------------------------------------------------------------------
   
   WHO: analytical (A researcher or whistleblower).
   WHEN: historical (Viewing the long-term compounding of inequity).
   WHERE: constrained (Bound by NDA or limited access to the code).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   For the auditor, the bias is a Noose. They see how the system is designed 
   to pull tighter as it gathers more data. They recognize that the "efficiency" 
   of the Rope is actually a mechanism for extracting dignity and rights, 
   systematically strangling social mobility for specific classes.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    algorithmic_bias,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(algorithmic_bias_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(algorithmic_bias, Type1, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(algorithmic_bias, Type2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(algorithmic_bias, Type3, context(agent_power(analytical), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    % Powerless subjects suffer the highest extractiveness (loss of opportunity).
    domain_priors:base_extractiveness(algorithmic_bias, E),
    E > 0.5.

test(suppression_visibility) :-
    % Suppression score should reflect the "black box" nature.
    domain_priors:suppression_score(algorithmic_bias, S),
    S >= 0.7.

:- end_tests(algorithmic_bias_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.6): High because it systematically removes 
 * autonomy and access from specific populations.
 * 2. NOOSE CLASSIFICATION: I chose Noose for the Auditor because they see 
 * the active suppression of alternatives (like manual review or diverse 
 * training sets) in favor of the biased model.
 * 3. SUPPRESSION: Set high (0.7) because algorithmic decisions are 
 * notoriously difficult to audit or explain to the layperson.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    proxy_variable_irreducibility,
    "Can a machine learning model ever be truly 'unbiased' if it uses 
    socioeconomic data that is itself the product of historical bias?",
    resolution_mechanism("Mathematical proof of 'fairness impossibility' 
    theorems in varied contexts"),
    impact("If Mountain: AI will always be a tool of status quo reinforcement. 
    If Rope: We can engineer 'corrective' bias."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Human-in-the-loop (HITL)
 * Viability: High, but expensive.
 * Suppression: High (Institutions reject it because it destroys the 
 * 'efficiency' ROI of the AI).
 * * ALTERNATIVE 2: Algorithmic Reparations (Proactive bias toward marginalized groups)
 * Viability: Mathematically possible but legally/politically controversial.
 * Suppression: Extreme (Often viewed as 'reverse discrimination').
 * * CONCLUSION:
 * The existence of Alternatives (HITL) that are suppressed for cost reasons 
 * confirms the Noose/Noose-like nature of the constraint for those within 
 * the system.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_algorithmic_bias].
 * 2. Report: ?- multi_index_report(algorithmic_bias).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: antifragility
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Nassim Nicholas Taleb (2012) / Risk Engineering
% ============================================================================

:- module(constraint_antifragility, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: antifragility
 * human_readable: Antifragility (Gaining from Disorder)
 * domain: technological/economic/biological
 * temporal_scope: Permanent (Universal Property)
 * spatial_scope: Global (Systems subject to Volatility)
 * * SUMMARY:
 * Antifragility is a property of systems that increase in capability, resilience, 
 * or robustness as a result of stressors, shocks, volatility, noise, mistakes, 
 * or failures. Unlike resilience (which resists shocks) or fragility (which 
 * breaks), antifragile systems actually require disorder to thrive and grow.
 * * KEY AGENTS:
 * - The Antifragile Practitioner: Seeks exposure to small, non-fatal stressors 
 * to build strength (e.g., the weightlifter or the venture capitalist).
 * - The Fragilista: The bureaucrat or planner who attempts to smooth out 
 * volatility, inadvertently making the system more fragile to large shocks.
 * - The Evolutionist: Nature itself, which uses the death of individuals to 
 * strengthen the species (the ultimate antifragile system).
 * * NARRATIVE ARC:
 * Antifragility acts as a "Rope" for those who understand how to harvest 
 * volatility. However, it becomes a "Noose" for those caught in fragile 
 * structures who are "extracted" by the system's volatility. To the 
 * observer of history, it is an immutable "Mountain" of evolutionary logic.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(antifragility_interval, 0, 10).
narrative_ontology:constraint_claim([antifragility], systemic_property).

% Base extractiveness: 0.4 (Moderate)
% Rationale: Antifragility often involves "Optionality." The antifragile agent 
% extracts disproportionate upside from volatility while leaving the downside 
% (shocks) to the environment or more fragile participants.
domain_priors:base_extractiveness(antifragility, 0.4).

% Suppression score: 0.6 (High)
% Rationale: "Fragilistas" (central planners) actively suppress volatility 
% and noise, which are the very inputs antifragile systems need. This 
% suppression hides the fragility of the system until a Black Swan event occurs.
domain_priors:suppression_score(antifragility, 0.6).

% Enforcement: Emerges naturally in biological/complex systems but requires 
% active effort to maintain in human-designed hierarchies.
domain_priors:emerges_naturally(antifragility).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(antifragility, extractiveness, 0.4).
narrative_ontology:constraint_metric(antifragility, suppression_requirement, 0.6).

% Beneficiaries: Biological life, decentralized markets, and "Optionality" holders.
constraint_beneficiary(antifragility, antifragile_practitioner).

% Victims: Highly optimized, centralized, and debt-heavy "fragile" institutions.
constraint_victim(antifragility, fragilistas).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EVOLUTIONARY BIOLOGIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (Scientific observer).
   WHEN: civilizational (Long-term species survival).
   WHERE: trapped (Natural selection is a fixed law).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   From an evolutionary standpoint, antifragility is a Mountain. It is an 
   immutable law of nature. Species must be antifragile to survive 
   environmental shifts; those that are merely resilient eventually vanish. 
   Disorder is the natural landscape, not an obstacle.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    antifragility,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE BARBELL INVESTOR - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (A participant with strategic agency).
   WHEN: biographical (Achieving wealth/health in a lifetime).
   WHERE: arbitrage (Can move capital/attention between fragile and antifragile).
   SCOPE: national/regional.
   
   WHY THIS CLASSIFICATION:
   For the practitioner, antifragility is a Rope. It is a coordination tool 
   for leveraging reality. By building "Optionality" and a "Barbell 
   Strategy" (extreme safety + extreme risk), they use the system's 
   volatility to pull themselves upward while others are crushed by it.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    antifragility,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BUREAUCRATIC PLANNER - NOOSE
   --------------------------------------------------------------------------
   
   WHO: institutional (In charge of maintaining "order").
   WHEN: immediate (Quarterly stability and political optics).
   WHERE: constrained (Bound by rigid rules and expectations of stability).
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   To the planner, antifragility is a Noose. The very volatility that 
   strengthens the system is seen as a threat to their job and the 
   perceived stability of the institution. As they try to "fix" the 
   disorder, the system's hidden fragility tightens, eventually leading 
   to a catastrophic "snap" when a large enough stressor arrives.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    antifragility,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(antifragility_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(antifragility, Type1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(antifragility, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(antifragility, Type3, context(agent_power(institutional), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(volatility_extraction) :-
    % Antifragile agents extract "upside" from disorder.
    domain_priors:base_extractiveness(antifragility, E),
    E >= 0.4.

test(immutability_by_horizon) :-
    % Short term (Immediate) = Noose (struggle against disorder); 
    % Long term (Civilizational) = Mountain (the way things work).
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(antifragility_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SELECTION: Chose to contrast the "Practitioner" who loves 
 * volatility (Rope) with the "Planner" who fears it (Noose).
 * 2. EXTRACTIVENESS: Set to 0.4 because antifragility is asymmetric—the 
 * antifragile agent gains from others' failures (extraction of information 
 * or capital).
 * 3. NOOSE LOGIC: The "Noose" here is the psychological and institutional 
 * pressure to eliminate noise, which ironically makes the inevitable 
 * collapse more severe.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    stressor_threshold_limit,
    "At what point does a stressor transition from 'antifragile-building' 
    (Hormesis) to 'catastrophically destructive' (Fragility)?",
    resolution_mechanism("Non-linear stress-response mapping in complex systems"),
    impact("If known: We can build perfect Ropes. If unknown: Antifragility 
    remains a dangerous Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Robustness (Resisting change)
 * Viability: High in the short term, but fails in the long term (Lindy effect).
 * Suppression: Moderate. Our culture over-values "resilience" over "antifragility."
 * * ALTERNATIVE 2: Redundancy (Having backups)
 * Viability: High. A key component of antifragility, but often seen as 
 * "inefficient" by planners.
 * * CONCLUSION:
 * Because "Antifragility" is often counter-intuitive and suppressed in favor 
 * of "Optimization" (Fragility), the principle acts as a Noose for those 
 * trapped in highly optimized systems.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_antifragility].
 * 2. Report: ?- multi_index_report(antifragility).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: arrows_impossibility_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Kenneth Arrow (1951) / Social Choice and Individual Values
% ============================================================================

:- module(constraint_arrows_impossibility, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: arrows_impossibility_theorem
 * human_readable: Arrow's Impossibility Theorem
 * domain: political/economic/social
 * temporal_scope: 1951 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Social Choice Theory)
 * * SUMMARY:
 * Arrow's Impossibility Theorem proves that no rank-order voting system can 
 * convert the ranked preferences of individuals into a community-wide 
 * ranking while meeting a specific set of fair criteria: non-dictatorship, 
 * Pareto efficiency, and independence of irrelevant alternatives. It 
 * establishes an absolute mathematical limit on the fairness of collective 
 * decision-making.
 * * KEY AGENTS:
 * - The Voter (Subject): A powerless agent whose ranked preferences are 
 * inevitably "distorted" or ignored by any systemic aggregation.
 * - The Constitutional Designer (Institutional): An agent who uses the 
 * theorem as a "Rope" to choose which specific "unfairness" (e.g., 
 * susceptibility to tactical voting) to tolerate in a stable system.
 * - The Democratic Reformer (Victim): An agent for whom the theorem acts 
 * as a "Noose," as it "strangles" the search for a perfect voting system.
 * * NARRATIVE ARC:
 * Arrow's Theorem is the "Mountain" of political reality—the impossibility 
 * of a perfect social welfare function is a fixed feature of logic. In 
 * legislative design, it is a "Rope" for functional coordination, allowing 
 * architects to prioritize stability over theoretical purity. However, 
 * for the idealist, the theorem acts as a "Noose," extracting the hope 
 * of a "true" collective will (extraction) and "choking" political 
 * energy by proving that every choice is a compromise of axioms.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(arrows_era, 1951, 2026).
narrative_ontology:constraint_claim(arrows_impossibility_theorem, mountain).

% Base extractiveness: 0.6
% Rationale: High. The theorem "extracts" the possibility of a pure 
% democratic signal, forcing a permanent "tax" of systematic bias or 
% strategic vulnerability on all collective choice mechanisms.
domain_priors:base_extractiveness(arrows_impossibility_theorem, 0.6).

% Suppression: 0.4
% Rationale: Moderate. It suppresses the visibility of "perfect" 
% democracy as a viable alternative, rendering such claims 
% mathematically fraudulent.
domain_priors:suppression_score(arrows_impossibility_theorem, 0.4).

% Enforcement: Emerges naturally from the axioms of social choice.
domain_priors:emerges_naturally(arrows_impossibility_theorem).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(arrows_impossibility_theorem, extractiveness, 0.6).
narrative_ontology:constraint_metric(arrows_impossibility_theorem, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(arrows_impossibility_theorem, stable_incumbents). % Systemic flaws favor the status quo.
constraint_beneficiary(arrows_impossibility_theorem, game_theorists). 
constraint_victim(arrows_impossibility_theorem, democratic_idealists).
constraint_victim(arrows_impossibility_theorem, third_party_candidates). % Strangled by IIA violations (spoilers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INDIVIDUAL VOTER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The voter cannot change the mathematical laws of aggregation.
   WHEN: immediate - True at every election cycle.
   WHERE: trapped - Bound within the rules of the existing voting system.
   SCOPE: local - Immediate impact of their ballot.
   
   WHY THIS CLASSIFICATION:
   For the voter, the impossibility of a perfectly fair aggregation is an 
   absolute Mountain. No matter how sincerely they rank their candidates, 
   the "Mountain" of Arrow's logic ensures that the system may still 
   produce a paradoxical result (e.g., the Condorcet Paradox).
   
   
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    arrows_impossibility_theorem,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CONSTITUTIONAL DESIGNER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to select the voting method (FPTP, IRV, Borda).
   WHEN: biographical - Planning the long-term stability of a state.
   WHERE: mobile - Can choose which axioms to relax to achieve stability.
   SCOPE: national - Country-wide application.
   
   WHY THIS CLASSIFICATION:
   For the designer, the theorem is a "Rope"—a functional coordination tool. 
   Knowing that a perfect system is impossible, they coordinate a "standard 
   of achievement" by selecting a method that minimizes the specific 
   unfairness they find most dangerous (e.g., prioritizing "Pareto" over "IIA").
   
   
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    arrows_impossibility_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE VOTING SYSTEM REFORMER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the agency to campaign for reform but is bound by the theorem.
   WHEN: historical - Facing a century of failed "perfect" reforms.
   WHERE: constrained - The "exit" (a fair system) is mathematically barred.
   SCOPE: global - Universal limit on collective choice.
   
   WHY THIS CLASSIFICATION:
   For the reformer, Arrow's Theorem is a "Noose." It "strangles" the hope 
   for a truly just outcome. It extracts enormous political and intellectual 
   capital (extraction) while "choking" the movement with the realization 
   that every "fix" introduces a new, equally fundamental unfairness.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    arrows_impossibility_theorem,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(arrows_impossibility_theorem, E),
    E >= 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(arrows_impossibility_tests).

test(multi_perspective_variance) :-
    % Voter -> Mountain
    constraint_indexing:constraint_classification(arrows_impossibility_theorem, Type1, context(individual_powerless, immediate, trapped, local)),
    % Designer -> Rope
    constraint_indexing:constraint_classification(arrows_impossibility_theorem, Type2, context(institutional, biographical, mobile, national)),
    Type1 \= Type2.

test(reform_extraction_penalty) :-
    % Reformers experience the "Noose" of high extraction (0.6).
    Context = context(individual_moderate, historical, constrained, global),
    constraint_indexing:extractiveness_for_agent(arrows_impossibility_theorem, Context, Score),
    Score >= 0.5.

test(natural_emergence) :-
    domain_priors:emerges_naturally(arrows_impossibility_theorem).

:- end_tests(arrows_impossibility_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.6):
 * Reasoning: Arrow's theorem is a "tax" on democratic legitimacy. It 
 * extracts the possibility of a consensus will to empower the 
 * arbitrariness of the system designer. It is highly extractive of 
 * political utility.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Voter (Subject), Designer (Institution), and Reformer (Victim) 
 * to show how a "Mountain" of logic becomes a "Noose" for 
 * political aspiration.
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the "Cardinal Utility" uncertainty—does the Mountain 
 * hold if we stop using ranked ballots?
 */

% OMEGA IDENTIFICATION
omega_variable(
    cardinal_utility_escape,
    "Is Arrow's 'Mountain' stable if we use Cardinal Utility (e.g., Score Voting) (Scaffold)?",
    resolution_mechanism("Investigation into whether Approval or Score voting evades the IIA/Dictatorship trade-off by including intensity of preference."),
    impact("If Yes: Arrow is a 'Noose' specifically for ordinal systems. If No: It is a universal Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Range/Score Voting
 * Viability: By using cardinal scores (0-10) instead of rankings, 
 * systems like Range Voting bypass the specific "impossibility" proof, 
 * as they do not rely on ordinal rankings.
 * Suppression: Often suppressed in public discourse in favor of 
 * Ranked Choice (ordinal) which remains subject to the "Noose" of Arrow.
 * * ALTERNATIVE 2: Quadratic Voting
 * Viability: Uses "buying" votes with points to reveal preference intensity.
 * * CONCLUSION:
 * The existence of Cardinal Utility alternatives (Alternative 1) proves 
 * that the Arrow "Noose" is the specific price we pay for the "Rope" 
 * of rank-order simplicity.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_arrows_impossibility].
 * 2. Multi-perspective: ?- multi_index_report(arrows_impossibility_theorem).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: automatic_enrollment_defaults
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Thaler & Sunstein (2008). Nudge. / Pension Protection Act (2006).
% ============================================================================

:- module(constraint_automatic_enrollment, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: automatic_enrollment_defaults
 * human_readable: Automatic Enrollment (The Power of Defaults)
 * domain: economic/social/political
 * temporal_scope: Biographical (decades-long impact)
 * spatial_scope: National
 * * SUMMARY:
 * Automatic enrollment is a choice architecture where individuals are 
 * placed into a program (like a 401k) by default. It utilizes "Status Quo 
 * Bias" to ensure high participation rates.
 * * KEY AGENTS:
 * - The Employee: The agent whose inertia is being used to build their wealth.
 * - The Employer: The institutional designer setting the default.
 * - The Choice Architect: The strategist who decides whether the default 
 * is "participation" or "non-participation."
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(automatic_enrollment_defaults, 0, 10).
narrative_ontology:constraint_claim(automatic_enrollment_defaults, choice_architecture).

% Base extractiveness score (0.05)
% Extremely low; it is designed to retain value for the individual 
% by overcoming their own cognitive friction.
domain_priors:base_extractiveness(automatic_enrollment_defaults, 0.05).

% Suppression score (0.1)
% Low; while the default is "hidden" in the sense of being passive, 
% the opt-out mechanism is usually simple and transparent.
domain_priors:suppression_score(automatic_enrollment_defaults, 0.1).

domain_priors:emerges_naturally(automatic_enrollment_defaults).

% Metrics
narrative_ontology:constraint_metric(automatic_enrollment_defaults, extractiveness, 0.05).
narrative_ontology:constraint_metric(automatic_enrollment_defaults, suppression_requirement, 0.1).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RETIREE - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical (long-term)
   WHERE: mobile
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the worker, automatic enrollment is a "Rope." It coordinates 
   their present behavior with their future needs. It pulls them 
   toward a Global Optimum (wealth in old age) that their present-day 
   inertia would otherwise prevent them from reaching.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    automatic_enrollment_defaults,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(national))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE LIBERTARIAN CRITIC - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful (intellectual influence)
   WHEN: immediate
   WHERE: trapped (in a system that assumes their consent)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   To a critic of "Paternalism," the default is a "Noose." They see it as 
   an infringement on autonomy—a soft form of coercion that "strangles" 
   active decision-making by assuming consent where none was explicitly given.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    automatic_enrollment_defaults,
    noose,
    context(agent_power(individual_powerful), time_horizon(immediate), exit_options(trapped), spatial_scope(national))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE POLICY MAKER - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The observer sees the "Default Effect" as a "Mountain" of behavioral 
   psychology. Humans are hard-wired to prefer the status quo. Policy 
   must be built on this mountain; there is no such thing as a "neutral" 
   default.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    automatic_enrollment_defaults,
    mountain,
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))
) :- !.

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: availability_heuristic
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Tversky, A., & Kahneman, D. (1973) / Behavioral Economics
% ============================================================================

:- module(constraint_availability_heuristic, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: availability_heuristic
 * human_readable: Availability Heuristic
 * domain: social/cognitive/economic
 * temporal_scope: Permanent (Human Evolution)
 * spatial_scope: Global (Human Decision Systems)
 * * SUMMARY:
 * The availability heuristic is a mental shortcut that relies on immediate 
 * examples that come to a given person's mind when evaluating a specific 
 * topic, concept, method or decision. It operates on the principle that 
 * if something can be recalled, it must be important, or at least more 
 * important than alternative solutions which are not as readily recalled.
 * * KEY AGENTS:
 * - The Instinctive Actor: Relies on "gut feelings" shaped by recent or 
 * vivid memories.
 * - The Media Architect: Shapes the "availability" of information through 
 * selective, vivid, and frequent reporting.
 * - The Risk Analyst: Attempts to use base-rate data to override the 
 * heuristic's biases.
 * * NARRATIVE ARC:
 * The heuristic functions as a "Mountain" of biological shortcutting. For 
 * the individual, it is a "Rope" providing rapid, low-energy decision-making 
 * in safe environments. However, in modern information-dense societies, it 
 * becomes a "Noose," as vivid but rare events (e.g., plane crashes) strangle 
 * rational risk assessment compared to common but dull threats (e.g., heart 
 * disease).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(availability_interval, 0, 10).
narrative_ontology:constraint_claim([availability_heuristic], cognitive_bias).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts "rational accuracy" and "long-term utility." It 
% benefits media entities and actors who leverage "vividness" to capture 
% attention and influence behavior.
domain_priors:base_extractiveness(availability_heuristic, 0.4).

% Suppression score (0.0-1.0)
% Rationale: It suppresses "statistical base rates" and "dull facts." The 
% brain naturally ignores what isn't vivid, making the alternative (data) 
% effectively invisible without high cognitive effort.
domain_priors:suppression_score(availability_heuristic, 0.7).

% Enforcement requirements
domain_priors:emerges_naturally(availability_heuristic).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(availability_heuristic, extractiveness, 0.4).
narrative_ontology:constraint_metric(availability_heuristic, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(availability_heuristic, news_media).
constraint_beneficiary(availability_heuristic, sensationalist_politicians).
constraint_victim(availability_heuristic, public_health_policy).
constraint_victim(availability_heuristic, rational_decision_makers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE COGNITIVE PSYCHOLOGIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The objective observer)
   WHEN: civilizational (Observing an evolved cognitive trait)
   WHERE: trapped (Neural architecture is fixed)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the psychologist, this is a Mountain. It is an unchangeable feature 
   of the human "system 1" (fast thinking). It is a physical limit on 
   how information is retrieved and weighted in the human brain.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    availability_heuristic,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ADVERTISING EXECUTIVE - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-shaping power in the attention economy)
   WHEN: biographical (Achieving sales targets over a career)
   WHERE: arbitrage (Can move between different campaigns and media)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the executive, the heuristic is a Rope. It is a coordination mechanism 
   used to "top-load" a brand into a consumer's mind. By ensuring their 
   product is the "most available" memory through repetition and vivid 
   imagery, they pull the consumer toward a purchase decision.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    availability_heuristic,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANXIOUS CITIZEN - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A subject of the information environment)
   WHEN: immediate (Current state of fear or anxiety)
   WHERE: constrained (Cannot easily escape the "vividness" of news feeds)
   SCOPE: stand_alone
   
   WHY THIS CLASSIFICATION:
   For the citizen bombarded by vivid images of rare disasters, the heuristic 
   is a Noose. It strangles their ability to live a normal life or make 
   sane risks (like flying vs. driving). They are trapped by the salience 
   of the "last scary thing they saw," which extracts their peace of mind.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    availability_heuristic,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(availability_heuristic_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(availability_heuristic, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(availability_heuristic, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(availability_heuristic, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(vividness_suppression_scaling) :-
    % Heuristic relies on the suppression of dull, statistical alternatives.
    domain_priors:suppression_score(availability_heuristic, Score),
    Score >= 0.6.

test(time_immutability) :-
    % Evolutionary traits are viewed as Mountains on civilizational scales.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(availability_heuristic_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION SCORE (0.7): High, because the "Ease of Recall" acts as 
 * a biological block against slower, data-driven reasoning.
 * 2. EXTRACTIVENESS (0.4): It extracts attention and "correctness." Media 
 * entities benefit from the vividness they provide (Rope), while the 
 * individual suffers distorted risk perception (Noose).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    salience_threshold_shift,
    "Does the 'Vividness' threshold required to trigger the heuristic increase 
    in a hyper-visual digital society (desensitization)?",
    resolution_mechanism("Longitudinal study of response rates to disaster imagery across generations"),
    impact("If Yes: The Noose is temporary. If No: The Noose tightens as information volume grows."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Base-Rate Reasoning (System 2 Thinking)
 * Viability: High, but cognitively expensive. Requires training in 
 * statistics and active effort.
 * Suppression: Naturally suppressed by the brain's preference for 
 * low-energy heuristics.
 * * CONCLUSION:
 * The availability heuristic is a Mountain of the human condition, but it 
 * is a Noose specifically because modern institutions (media/advertising) 
 * weaponize it to suppress the Rope of statistical reality.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_availability_heuristic].
 * 2. Multi-perspective: ?- multi_index_report(availability_heuristic).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: axiom_of_choice_determinacy
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ernst Zermelo (1904) / ZFC Set Theory / Axiomatic Foundations
% ============================================================================

:- module(constraint_axiom_of_choice, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: axiom_of_choice_determinacy
 * human_readable: The Axiom of Choice (AC)
 * domain: mathematical/philosophical
 * temporal_scope: 1904 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Set Theory)
 * * SUMMARY:
 * The Axiom of Choice (AC) states that for every indexed family of non-empty 
 * sets, there exists a choice function that selects exactly one element from 
 * each set. It is a fundamental, non-constructive principle of modern 
 * mathematics that enables transfinite induction and the Well-Ordering 
 * Theorem, while simultaneously birthing "pathological" results.
 * * KEY AGENTS:
 * - The Set Element: A powerless subject whose "selection" is guaranteed 
 * by the axiom even in the absence of a specific rule.
 * - The Functional Analyst: An institutional agent using AC as a "Rope" 
 * to coordinate the existence of basis vectors and linear functionals.
 * - The Intuitive Realist: An observer for whom AC is a "Noose," as its 
 * logical necessity "strangles" physical intuition (e.g., via Banach-Tarski).
 * * NARRATIVE ARC:
 * AC functions as a "Mountain" of formal reality—if you accept ZFC, the 
 * existence of choice functions is a natural law. In modern analysis, it is 
 * a "Rope" for functional coordination, allowing architects to prove 
 * the existence of objects like non-measurable sets. However, for those 
 * grounding math in constructivist reality, it acts as a "Noose," 
 * extracting the "sanctity of construction" and forcing the "tax" of 
 * accepting impossible physical doublings.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural anchor extraction
narrative_ontology:interval(ac_era, 1904, 2026).
narrative_ontology:constraint_claim(axiom_of_choice_determinacy, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.25. AC "extracts" the requirement for specific constructive 
% rules, replacing them with a "metaphysical tax" on intuition to enable 
% higher-order transfinite operations.
domain_priors:base_extractiveness(axiom_of_choice_determinacy, 0.25).

% Suppression score (0.0-1.0)
% Rationale: 0.4. It suppresses the visibility of purely "Constructivist" 
% or "Finitist" alternatives by rendering them functionally incomplete 
% for standard modern analysis (The "Standard Rope").
domain_priors:suppression_score(axiom_of_choice_determinacy, 0.4).

% Enforcement: Emerges naturally from the axioms of ZFC.
domain_priors:emerges_naturally(axiom_of_choice_determinacy).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(axiom_of_choice_determinacy, extractiveness, 0.25).
narrative_ontology:constraint_metric(axiom_of_choice_determinacy, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(axiom_of_choice_determinacy, functional_analysts).
constraint_beneficiary(axiom_of_choice_determinacy, transfinite_topologists).
constraint_victim(axiom_of_choice_determinacy, mathematical_constructivists).
constraint_victim(axiom_of_choice_determinacy, physical_intuitionists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DISCRETE ELEMENT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The element cannot refuse selection or define its path.
   WHEN: immediate - The choice exists at the moment the collection is defined.
   WHERE: trapped - Bound within the transfinite hierarchy of the set.
   SCOPE: local - Immediate membership status.
   
   WHY THIS CLASSIFICATION:
   For an individual element in an infinite collection, AC is a Mountain. Its 
   existence as a "chosen" member is an unyielding law of the ZFC universe. 
   It has zero agency to remain "unchosen" or to demand a specific 
   rule-based selection; its destiny is fixed by the transfinite.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    axiom_of_choice_determinacy,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE HAHN-BANACH ANALYST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to establish the foundations of modern physics and analysis.
   WHEN: biographical - Spanning the lifecycle of a mathematical theory's development.
   WHERE: mobile - Can choose to use AC to solve specific functional problems.
   SCOPE: global - Universal application across infinite-dimensional spaces.
   
   WHY THIS CLASSIFICATION:
   For the analyst, AC is a "Rope"—a functional coordination mechanism. It 
   allows them to "pull" the standard of achievement in analysis by 
   guaranteeing the existence of linear functionals, providing a tool 
   for agency in a transfinite landscape that would otherwise be unusable.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    axiom_of_choice_determinacy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INTUITIVE GEOMETER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has tools to reason but is bound by the axiom's logic.
   WHEN: civilizational - Attempting to map math to a finite, physical universe.
   WHERE: constrained - The "exit" (refusing AC) is professionally and logically costly.
   SCOPE: global - Affecting the interpretation of all 3D space.
   
   WHY THIS CLASSIFICATION:
   For the geometer grounded in physical realism, AC is a "Noose." It 
   "strangles" the concept of conservation of volume through the 
   Banach-Tarski paradox. It extracts the "reliability of matter" (extraction), 
   choking the possibility of a purely intuitive geometry in favor of 
   abstract, "monstrous" doublings.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    axiom_of_choice_determinacy,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(axiom_of_choice_determinacy, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(axiom_of_choice_tests).

test(multi_perspective_variance) :-
    % Element -> Mountain
    constraint_indexing:constraint_classification(axiom_of_choice_determinacy, Type1, context(individual_powerless, immediate, trapped, local)),
    % Analyst -> Rope
    constraint_indexing:constraint_classification(axiom_of_choice_determinacy, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(intuition_extraction_penalty) :-
    % Geometers experience the "Noose" of the extractiveness of intuition.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(axiom_of_choice_determinacy, Context, Score),
    Score >= 0.2.

test(natural_emergence) :-
    domain_priors:emerges_naturally(axiom_of_choice_determinacy).

:- end_tests(axiom_of_choice_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.25): 
 * Reasoning: AC is relatively non-extractive compared to political systems, 
 * but it "extracts" the constructive link between an object and its 
 * definition, imposing a cognitive tax of non-measurability.
 * 2. CLASSIFICATION: 
 * Captured the transition from the "Mountain" of Zermelo's axioms to 
 * the "Noose" of the paradoxical results it mandates for the intuitionist.
 */

% OMEGA IDENTIFICATION
omega_variable(
    ac_physical_validity,
    "Is the Axiom of Choice a 'Mountain' that reflects physical reality or a 'Scaffold' of mathematical convenience (Scaffold)?",
    resolution_mechanism("Investigation into whether physical 'non-measurable' states or infinite choice functions exist in quantum foundations."),
    impact("If Scaffold: AC is a 'Noose' of irrelevant abstraction. If Mountain: It is a fundamental truth."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: ZF + Axiom of Determinacy (AD)
 * Viability: In ZF+AD, all sets are Lebesgue measurable, and Banach-Tarski 
 * is impossible.
 * Suppression: Rejected by the "Standard Rope" because AC is required 
 * for vital theorems in analysis (Tychonoff).
 * * ALTERNATIVE 2: Constructive Set Theory (CZF)
 * Viability: Forbids non-constructive choices.
 * * CONCLUSION:
 * The existence of AD (Alternative 1) proves that the AC "Noose" is a 
 * feature of our chosen axiomatic "Rope."
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [axiom_of_choice_determinacy].
 * 2. Multi-perspective: ?- multi_index_report(axiom_of_choice_determinacy).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: banach_fixed_point
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Banach Fixed Point Theorem (Contraction Mapping Principle)
% ============================================================================

:- module(constraint_banach_fixed_point, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: banach_fixed_point
 * human_readable: Banach Fixed Point Convergence
 * domain: mathematics/technological
 * temporal_scope: 1922 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Any complete metric space)
 * * SUMMARY:
 * The Banach Fixed Point Theorem states that a contraction mapping on a complete 
 * metric space has a unique fixed point, and any sequence of iterates $x_{n+1} = f(x_n)$ 
 * will converge to it. This functions as a fundamental law of iteration and stability.
 * * KEY AGENTS:
 * - The Iterative Algorithm: A powerless agent whose "path" is dictated by the 
 * contraction factor.
 * - The Numerical Analyst: An analytical observer who maps the "landscape" of 
 * convergence.
 * - The Control Systems Engineer: An institutional agent who uses the theorem 
 * as a guarantee (coordination) for system stability.
 * * NARRATIVE ARC:
 * In the realm of abstract mathematics, the theorem is a "Mountain" of natural law. 
 * For the engineer, it is a "Rope" that pulls systems toward equilibrium. However, 
 * in the presence of a "weak" contraction ($k$ near 1), the guarantee of 
 * convergence acts as a "Noose," extracting infinite computational cycles for 
 * minimal progress.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(banach_era, 1922, 2026).
narrative_ontology:constraint_claim(banach_fixed_point, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Low (0.2). As a mathematical truth, it doesn't "take" without 
% giving, though computational realization "extracts" time based on the 
% contraction factor $k$.
domain_priors:base_extractiveness(banach_fixed_point, 0.2).

% Suppression score (0.0-1.0)
% Rationale: Low (0.2). Alternatives like Brouwer or Schauder fixed point 
% theorems are highly visible to practitioners.
domain_priors:suppression_score(banach_fixed_point, 0.2).

% Enforcement: Emerges naturally from the axioms of metric spaces.
domain_priors:emerges_naturally(banach_fixed_point).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(banach_fixed_point, extractiveness, 0.2).
narrative_ontology:constraint_metric(banach_fixed_point, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(banach_fixed_point, system_designers). % Guaranteed stability.
constraint_beneficiary(banach_fixed_point, mathematicians). % Proof-of-existence tool.
constraint_victim(banach_fixed_point, computational_resources). % Cycles extracted for convergence.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ITERATIVE ALGORITHM - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The code itself cannot change its logic.
   WHEN: immediate - Focused on the current step $x_n \to x_{n+1}$.
   WHERE: trapped - Bound by the contraction factor $k$ and the space $X$.
   SCOPE: local - Immediate neighborhood of the current iterate.
   
   WHY THIS CLASSIFICATION:
   For the algorithm, convergence is an unchangeable law of its universe. 
   It has zero degrees of freedom; if the conditions of the theorem are met, 
   the path to the fixed point is an inevitable physical/logical trajectory.
   
   NARRATIVE EVIDENCE:
   "The sequence $x_n$ converges to the unique fixed point $x^*$."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    banach_fixed_point,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CONTROL ENGINEER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design the mapping $f$ to ensure $k < 1$.
   WHEN: biographical - Lifetime of the system being controlled.
   WHERE: mobile - Can change the mapping or the metric to improve performance.
   SCOPE: national - Applies to all systems of this class (e.g., all flight controllers).
   
   WHY THIS CLASSIFICATION:
   The engineer sees the theorem as a "Rope" for functional coordination. It 
   is a tool that ensures that various sub-components are "pulled" into a 
   stable state, allowing for predictable system behavior.
   
   NARRATIVE EVIDENCE:
   "The contraction mapping principle provides a constructive method to 
   find the fixed point."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    banach_fixed_point,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: WEAK CONTRACTION (k = 0.999) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - An algorithm starved for precision.
   WHEN: biographical - Convergence takes "forever" (effectively a lifetime).
   WHERE: constrained - No alternative but to continue iterating.
   SCOPE: local - Stuck in a slow crawl toward a distant point.
   
   WHY THIS CLASSIFICATION:
   When the contraction factor is extremely close to 1, the "guarantee" of 
   convergence becomes a "Noose." The algorithm is forced to expend massive 
   resources (extraction) for negligible gain, trapped in a "convergent" 
   state that is functionally useless.
   
   NARRATIVE EVIDENCE:
   "The error bound $d(x_n, x^*) \leq \frac{k^n}{1-k} d(x_0, x_1)$ grows 
   unmanageable as $k \to 1$."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    banach_fixed_point,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(banach_fixed_point, E),
    E > 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(banach_fixed_point_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(banach_fixed_point, Type1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(banach_fixed_point, Type2, context(institutional, biographical, mobile, national)),
    Type1 = mountain,
    Type2 = rope.

test(power_extractiveness_scaling) :-
    % The "victim" (computational cycles) experiences more extraction than the "designer."
    ContextPowerless = context(individual_powerless, biographical, constrained, local),
    ContextPowerful = context(institutional, biographical, mobile, national),
    constraint_indexing:extractiveness_for_agent(banach_fixed_point, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(banach_fixed_point, ContextPowerful, Score2),
    Score1 > Score2.

test(natural_emergence) :-
    domain_priors:emerges_naturally(banach_fixed_point).

:- end_tests(banach_fixed_point_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Banach's theorem is fundamental and non-punitive by nature. 
 * However, I gave it 0.2 to acknowledge the computational "cost" of 
 * the contractive iterates, which are mandatory for convergence.
 * * 2. SUPPRESSION SCORE (0.2):
 * Reasoning: It doesn't hide alternatives; it is one of several tools 
 * (Brouwer, etc.) used depending on the space's properties.
 * * 3. PERSPECTIVE SELECTION:
 * Chose the Algorithm (Subject), Engineer (User), and Weak Contraction 
 * (Edge Case) to show how a "guarantee" can shift from a gift to a trap.
 * * 4. OMEGAS:
 * Ambiguity exists regarding "Completeness." In pure math, it's a Mountain. 
 * In floating-point hardware, the "Mountain" might actually be a "Scaffold" 
 * that collapses into oscillation or precision-loss.
 */

% OMEGA IDENTIFICATION
omega_variable(
    floating_point_completeness,
    "Is the hardware-realized space 'complete' enough for the Mountain of Banach logic to hold?",
    resolution_mechanism("Numerical audit of precision loss in $10^9$ iterates."),
    impact("If Yes: Logic holds. If No: The 'Mountain' is a 'Scaffold' that causes drift."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Brouwer Fixed Point Theorem
 * Viability: Applies to compact convex sets, doesn't require contraction.
 * Suppression: None, it's a different tool for different topological contexts.
 * Evidence: Found in any standard topology text.
 * * ALTERNATIVE 2: Newton's Method (Local Convergence)
 * Viability: Faster convergence (quadratic vs linear).
 * Suppression: Often used *instead* of Banach when the function is differentiable.
 * * CONCLUSION:
 * Because Banach does not actively suppress Newtonian or Brouwerian alternatives, 
 * it remains a "Rope" (tool) for engineers rather than a "Noose." It only 
 * becomes a Noose when the contraction $k$ is so poor that no other method 
 * can be found.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * * 1. Load: ?- [banach_fixed_point].
 * 2. Multi-perspective: ?- multi_index_report(banach_fixed_point).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: banach_tarski_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Stefan Banach & Alfred Tarski (1924) / Set Theory / Axiom of Choice
% ============================================================================

:- module(constraint_banach_tarski, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: banach_tarski_paradox
 * human_readable: Banach-Tarski Paradox (Non-Measurable Decomposition)
 * domain: mathematical/philosophical
 * temporal_scope: 1924 - Present (Civilizational)
 * spatial_scope: Global/Abstract (3D Euclidean Space)
 * * SUMMARY:
 * The Banach-Tarski Paradox states that a solid ball in 3D space can be split 
 * into a finite number of non-measurable pieces, which can then be reassembled 
 * into two identical copies of the original ball using only rotations and 
 * translations. It represents a fundamental constraint on the relationship 
 * between set theory, volume, and physical intuition.
 * * KEY AGENTS:
 * - The Mathematical Point: A powerless subject whose membership in a 
 * "non-measurable set" dictates its paradoxical path.
 * - The Set Theorist: An institutional agent using the Axiom of Choice as a 
 * "Rope" to build the foundations of modern analysis.
 * - The Physical Intuitionist: An observer for whom the paradox is a 
 * "Noose," as it "strangles" the common-sense notion that volume is additive.
 * * NARRATIVE ARC:
 * Banach-Tarski is a "Mountain" of formal logic—if you accept the Axiom of 
 * Choice, the doubling of the ball is an unyielding truth. In pure math, it 
 * is a "Rope" for exploring the boundaries of measure theory. However, for 
 * those attempting to ground math in physical reality, it acts as a "Noose," 
 * extracting the "sanctity of matter" (extraction) and "choking" the 
 * possibility of a purely intuitive geometry.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction
narrative_ontology:interval(banach_tarski_era, 1924, 2026).
narrative_ontology:constraint_claim(banach_tarski_paradox, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. While mathematically a "gift" of structural depth, it 
% "extracts" the reliability of volume-based intuition, forcing a 
% "complexity tax" on all attempts to define "size" for arbitrary sets.
domain_priors:base_extractiveness(banach_tarski_paradox, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.4. It suppresses the visibility of "Naive Measure Theory," 
% rendering the idea that all sets have a defined volume functionally 
% fraudulent in higher-dimensional analysis.
domain_priors:suppression_score(banach_tarski_paradox, 0.4).

% Enforcement: Emerges naturally from the Axiom of Choice (ZFC).
domain_priors:emerges_naturally(banach_tarski_paradox).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(banach_tarski_paradox, extractiveness, 0.2).
narrative_ontology:constraint_metric(banach_tarski_paradox, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(banach_tarski_paradox, axiomatic_set_theorists).
constraint_beneficiary(banach_tarski_paradox, non_measurable_geometry).
constraint_victim(banach_tarski_paradox, classical_physical_intuition).
constraint_victim(banach_tarski_paradox, naive_measurability_advocates).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DISCRETE POINT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The point cannot refuse its assignment to a piece.
   WHEN: immediate - True at the moment of decomposition.
   WHERE: trapped - Bound within the non-measurable subset.
   SCOPE: local - Immediate coordinate within the mapping.
   
   WHY THIS CLASSIFICATION:
   For an individual point, the Paradox is a Mountain. If the Axiom of Choice 
   is invoked, the point's membership in a specific piece that "doubles" the 
   volume is a natural law of the ZFC universe. It has no agency to remain 
   subject to the laws of finite volume.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    banach_tarski_paradox,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SET THEORIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to accept or reject the Axiom of Choice (AC).
   WHEN: biographical - Planning the rigor of a mathematical framework.
   WHERE: mobile - Can choose to work in ZF, ZFC, or other axiomatic systems.
   SCOPE: global - Universal application in abstract mathematics.
   
   WHY THIS CLASSIFICATION:
   For the theorist, the paradox is a "Rope"—a functional coordination tool. 
   It allows them to "pull" the standard of achievement in analysis by 
   defining the limits of measurability, proving that certain "pathological" 
   constructions are possible and necessary for a complete theory of sets.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    banach_tarski_paradox,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PHYSICAL MATERIALIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the intelligence to model but is bound by logic.
   WHEN: civilizational - Attempting to map math to a finite physical world.
   WHERE: constrained - No alternative but to accept the "monstrous" result of AC.
   SCOPE: global - Affecting the interpretation of all physical space.
   
   WHY THIS CLASSIFICATION:
   For the materialist, the paradox is a "Noose." It "strangles" the belief 
   that mathematics is a perfect mirror of physics. It extracts the 
   "concreteness" of geometry (extraction), "choking" the intuition that 
   you cannot create "something from nothing" in a world of formal symbols.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    banach_tarski_paradox,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(banach_tarski_paradox, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(banach_tarski_tests).

test(multi_perspective_variance) :-
    % Point -> Mountain
    constraint_indexing:constraint_classification(banach_tarski_paradox, Type1, context(individual_powerless, immediate, trapped, local)),
    % Theorist -> Rope
    constraint_indexing:constraint_classification(banach_tarski_paradox, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(intuition_extraction_penalty) :-
    % Materialists experience the "Noose" of the extractiveness of intuition.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(banach_tarski_paradox, Context, Score),
    Score >= 0.15.

test(natural_emergence) :-
    domain_priors:emerges_naturally(banach_tarski_paradox).

:- end_tests(banach_tarski_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.2): 
 * Chose this because the paradox "extracts" the utility of naive geometry. 
 * While mathematically valid, it imposes a "cognitive tax" on anyone 
 * trying to bridge the gap between formal sets and physical atoms.
 * 2. PERSPECTIVE SELECTION: 
 * Chose Point (Subject), Theorist (User), and Materialist (Victim) to 
 * show how a "Mountain" of formal logic becomes a "Noose" for 
 * physical intuition.
 * 3. OMEGA IDENTIFICATION: 
 * Formalized the "Axiom of Choice" uncertainty—is it a Mountain of 
 * reality or a Scaffold of convenience?
 */

% YOUR OMEGAS HERE:
omega_variable(
    axiom_of_choice_physical_validity,
    "Is the Axiom of Choice a 'Mountain' that reflects physical reality or a 'Scaffold' for infinite math?",
    resolution_mechanism("Investigation into whether physical 'non-measurable' states exist in quantum foundations."),
    impact("If Scaffold: Banach-Tarski is a 'Noose' of irrelevant logic. If Mountain: It is a fundamental truth."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * * ALTERNATIVE 1: ZF (without Choice) + Axiom of Determinacy (AD)
 * Viability: In ZF+AD, all sets are Lebesgue measurable, and Banach-Tarski 
 * is impossible.
 * Suppression: Rejected by mainstream math because Choice is required for 
 * many vital "Ropes" in analysis (e.g., Tychonoff's Theorem).
 * * ALTERNATIVE 2: Finite Atomic Geometry
 * Viability: In a world of atoms, you cannot split a ball into "infinitely 
 * many points."
 * Suppression: Suppressed in abstract topology to explore the "Mountain" 
 * of the continuum.
 * * CONCLUSION:
 * The existence of Alternative 1 (Axiom of Determinacy) proves that the 
 * Banach-Tarski "Noose" is an optional feature of our chosen axiomatic "Rope."
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [banach_tarski_paradox].
 * 2. Multi-perspective: ?- multi_index_report(banach_tarski_paradox).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: basel_problem_convergence
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: The Basel Problem (Sum of Reciprocals of Squares)
% ============================================================================

:- module(constraint_basel_problem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: basel_problem_convergence
 * human_readable: The Basel Problem (Infinite Series Convergence)
 * domain: mathematical/analytical
 * temporal_scope: 1644 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Number Theory)
 * * SUMMARY:
 * The Basel Problem asks for the precise sum of the reciprocals of the squares 
 * of the natural numbers. Posed in 1644 and solved by Leonhard Euler in 1734, 
 * the sum is exactly pi^2 / 6. This constant represents a fundamental limit 
 * of harmonic summation.
 * * KEY AGENTS:
 * - The Iterative Sum (The Subject): The sequence of partial sums, 
 * relentlessly moving toward a fixed limit.
 * - Leonhard Euler: The institutional agent who "unlocked" the series by 
 * connecting it to trigonometric functions (sinc product).
 * - The Bernoulli Brothers: Historical agents who failed to find the exact 
 * sum, experiencing the problem as a "Noose" of professional frustration.
 * * NARRATIVE ARC:
 * The Basel Problem began as a "Noose" for the 17th-century mathematical 
 * community—a simple-looking question that extracted massive cognitive effort 
 * without resolution. Euler converted it into a "Rope" (the Riemann Zeta 
 * Function) which now coordinates modern physics and cryptography. To the 
 * numbers themselves, the limit is a "Mountain"—a fixed, unchangeable 
 * gravitational point of reality.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(basel_era, 1644, 2026).
narrative_ontology:constraint_claim(basel_problem_convergence, mountain).

% Base extractiveness: 0.2
% Rationale: Low. Mathematical truth provides more than it takes. However, 
% partial sums "extract" time because the series converges slowly (O(1/n)).
domain_priors:base_extractiveness(basel_problem_convergence, 0.2).

% Suppression score: 0.1
% Rationale: Low. The exact sum pi^2/6 renders all other "guesses" 
% invisible/invalid, but it is an enabling truth for number theory.
domain_priors:suppression_score(basel_problem_convergence, 0.1).

% Enforcement: Emerges naturally from the structure of analysis.
domain_priors:emerges_naturally(basel_problem_convergence).

% Metrics
narrative_ontology:constraint_metric(basel_problem_convergence, extractiveness, 0.2).
narrative_ontology:constraint_metric(basel_problem_convergence, suppression_requirement, 0.1).

% Beneficiaries & Victims
constraint_beneficiary(basel_problem_convergence, quantum_mechanics). % Zeta regularisation.
constraint_beneficiary(basel_problem_convergence, analytical_number_theory).
constraint_victim(basel_problem_convergence, computational_brute_force). % Slow convergence.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PARTIAL SUM SEQUENCE - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The sequence follows the sum of 1/n^2 blindly.
   WHEN: immediate - True for every term added.
   WHERE: trapped - Bound within the real line, converging on pi^2/6.
   SCOPE: local - Immediate neighborhood of the current value.
   
   WHY THIS CLASSIFICATION:
   For the iterates of the series, the sum is a natural law. They have no 
   agency to "choose" a different limit. The convergence is an inescapable 
   Mountain of mathematical gravity.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    basel_problem_convergence,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: LEONHARD EULER / THE UN - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to establish the identity and tools.
   WHEN: civilizational - Long-term impact on the history of math.
   WHERE: mobile - Moving between different areas of math (Analysis/Trigonometry).
   SCOPE: global - Universal application across all mathematics.
   
   WHY THIS CLASSIFICATION:
   For Euler, the Basel solution was a "Rope"—a functional tool for 
   coordination. It linked the discrete world of integers to the continuous 
   world of circles, providing a standard of achievement for all later 
   work in Zeta functions.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    basel_problem_convergence,
    rope,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EARLY BERNOULLIS (FRUSTRATED SEARCH) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Despite their genius, they couldn't solve it.
   WHEN: biographical - Years of their lives spent on a result that eluded them.
   WHERE: constrained - Stuck with 17th-century mathematical tools.
   SCOPE: local - Their specific career and research.
   
   WHY THIS CLASSIFICATION:
   For those who face the problem without the necessary tools, the Basel 
   problem is a "Noose." It extracts massive labor and reputation (frustration) 
   without yielding a result, "strangling" the mathematician with its 
   deceptively simple appearance.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    basel_problem_convergence,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(basel_problem_convergence, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(basel_problem_tests).

test(convergence_fate_variance) :-
    % Iterates -> Mountain
    constraint_indexing:constraint_classification(basel_problem_convergence, Type1, context(individual_powerless, immediate, trapped, local)),
    % Euler -> Rope
    constraint_indexing:constraint_classification(basel_problem_convergence, Type2, context(institutional, civilizational, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(computational_extraction_penalty) :-
    % A powerless searcher in a local range sees it as a Noose.
    constraint_indexing:constraint_classification(basel_problem_convergence, noose, context(individual_powerless, biographical, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(basel_problem_convergence).

:- end_tests(basel_problem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: I chose Mountain as the "Actual" type because mathematical 
 * convergence is a natural law.
 * 2. PERSPECTIVE SHIFT: The core insight is that for the searcher (Bernoulli), 
 * the lack of a constructive path makes the constraint an extractive "Noose."
 * 3. EXTRACTIVENESS (0.2): This reflects the "cost" of the slow convergence. 
 * Summing the first 1,000 terms only gets you 2 decimal places of pi^2/6. 
 * This is a high computational extraction for very little truth gain.
 */

% OMEGA IDENTIFICATION
omega_variable(
    precision_threshold,
    "At what point does the 'Mountain' of the limit become a 'Scaffold' of floating-point error?",
    resolution_mechanism("Numerical audit of double-precision sum drift in the first $10^9$ iterates."),
    impact("If noise exceeds the delta: The Mountain is functionally a Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Numerical Approximation
 * Viability: How most people "use" the sum.
 * Suppression: Rejected by the professional "Rope" of pure math, which 
 * demands exactness.
 * * ALTERNATIVE 2: The Harmonic Series (Divergent)
 * Viability: The "Evil Twin" of Basel.
 * Suppression: Explicitly differentiated by P-test; Basel is the "stable" 
 * version of the 1/n summation.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [basel_problem_convergence].
% Analyze: ?- constraint_indexing:multi_index_report(basel_problem_convergence).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: biological_curiosity
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Berlyne (1960) / Schmidhuber (1991) / Information Foraging Theory
% ============================================================================

:- module(constraint_curiosity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: biological_curiosity
 * human_readable: Curiosity (The Information-Seeking Drive)
 * domain: biological/technological/social
 * temporal_scope: Biographical to Civilizational
 * spatial_scope: Global
 * * SUMMARY:
 * Curiosity is the innate biological drive to seek out new information and reduce 
 * uncertainty in the environment. It acts as the "Intrinsic Motivation" that 
 * offsets the high costs of exploration, ensuring an agent does not settle 
 * for a suboptimal local peak.
 * * KEY AGENTS:
 * - The Explorer: The agent driven by novelty-seeking (high curiosity).
 * - The Routine-Seeker: The agent driven by safety and exploitation (low curiosity).
 * - The Environment: The landscape of varying entropy and potential rewards.
 * * NARRATIVE ARC:
 * Curiosity functions as a "Mental Rope." It pulls the agent away from the 
 * "Safety Noose" of the known. While it carries a "Distraction Tax," it is 
 * the primary mechanism for upgrading an agent's internal map to find 
 * Global Optima that are invisible to pure exploiters.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(biological_curiosity, 0, 10).
narrative_ontology:constraint_claim(biological_curiosity, intrinsic_motivation).

% Base extractiveness score (0.15)
% Low extraction; curiosity "extracts" energy for search, but usually 
% returns higher value in long-term survivability.
domain_priors:base_extractiveness(biological_curiosity, 0.15).

% Suppression score (0.2)
% Low suppression; curiosity is the enemy of suppression, as it 
% actively seeks to uncover hidden alternatives.
domain_priors:suppression_score(biological_curiosity, 0.2).

% Enforcement requirements
domain_priors:emerges_naturally(biological_curiosity).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(biological_curiosity, extractiveness, 0.15).
narrative_ontology:constraint_metric(biological_curiosity, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(biological_curiosity, the_scientific_method).
constraint_beneficiary(biological_curiosity, nomadic_cultures).
constraint_victim(biological_curiosity, institutional_predictability).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DISCOVERER - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (has enough 'slack' to afford the search)
   WHEN: biographical (long-term growth)
   WHERE: mobile (high exploration capability)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the agent with surplus energy, curiosity is a "Rope." It coordinates 
   their internal resources to engage with the unknown. It allows them 
   to climb out of stagnant environments and discover new "Mountains" 
   of opportunity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    biological_curiosity,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(biological_curiosity, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TRAPPED SUBJECT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (highly constrained or punished for deviance)
   WHEN: immediate
   WHERE: trapped (in a rigid or high-danger environment)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   In a highly restrictive environment (like a prison or a rigid 
   bureaucracy), curiosity is a "Noose." Seeking out information 
   leads to punishment or psychological despair, as the agent 
   discovers alternatives they are legally or physically unable to reach.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    biological_curiosity,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(biological_curiosity, S),
    S > 0.1,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NEUROSCIENTIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The observer sees the "Dopaminergic System" as a "Mountain." 
   The reward for information-seeking is a hard-coded feature of the 
   mammalian brain. It is an immutable law of behavioral biology 
   designed to solve the Exploration/Exploitation trade-off.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    biological_curiosity,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(biological_curiosity),
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(curiosity_tests).

test(curiosity_as_exit_strategy) :-
    % Testing that curiosity acts as a Rope for mobile agents seeking the 'Global Optimum'.
    constraint_indexing:constraint_classification(biological_curiosity, rope, context(_, _, mobile, _)).

test(curiosity_punishment_noose) :-
    % Testing that in 'trapped' contexts, curiosity becomes a psychological Noose.
    constraint_indexing:constraint_classification(biological_curiosity, noose, context(_, _, trapped, _)).

:- end_tests(curiosity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Curiosity is the biological implementation of the 'Exploration' 
 * directive. I set extractiveness low because it is an investment 
 * in the self. I chose "Noose" for the trapped perspective to 
 * reflect that curiosity without agency creates suffering (The Pandora Effect).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    information_overload_threshold,
    "At what point does the search for information (Curiosity) stop being a Rope and start being a 'Noose of Distraction'?",
    resolution_mechanism("Long-term studies on focus-depletion in high-entropy digital environments"),
    impact("If Overload is High: The Rope of Curiosity snaps; agents fall into the Noose of paralysis."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: birthday_paradox_collision
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Combinatorial Probability / Cryptography
% ============================================================================

:- module(constraint_birthday_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: birthday_paradox_collision
 * human_readable: The Birthday Paradox (Collision Probability)
 * domain: mathematical/technological
 * temporal_scope: 1939 (Von Mises) - Present
 * spatial_scope: Global/Abstract (Discrete probability spaces)
 * * SUMMARY:
 * The Birthday Paradox (or problem) demonstrates that in a set of n randomly 
 * chosen people, the probability that a pair of them will have the same 
 * birthday reaches 50% with only 23 people. This functions as a fundamental 
 * constraint on entropy, hashing, and digital uniqueness.
 * * KEY AGENTS:
 * - The Hash Function: A powerless agent whose output space is "compressed" 
 * by the inevitable logic of collisions.
 * - The Security Architect: An institutional agent who uses the paradox as a 
 * "Rope" to determine necessary bit-lengths for digital signatures.
 * - The Attacker (Birthday Attack): An agent who treats the paradox as a 
 * "Rope" (tool) to break cryptosystems.
 * - The Unsuspecting User: An agent for whom the paradox is a "Noose," 
 * strangling their expectation of uniqueness in small data sets.
 * * NARRATIVE ARC:
 * The paradox begins as a counter-intuitive "Mountain" of natural law. In 
 * engineering, it is a "Rope" for coordination (choosing ID lengths). However, 
 * in cryptography, it is a "Noose"—it extracts security from short hashes 
 * by guaranteeing collisions far sooner than intuition suggests.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(birthday_era, 1939, 2026).
narrative_ontology:constraint_claim(birthday_paradox_collision, mountain).

% Base extractiveness: 0.4
% Rationale: It "extracts" security and uniqueness. In a 64-bit hash space, 
% you don't get 2^64 unique items; you get roughly 2^32 before a collision 
% is likely. This "halving" of effective entropy is a structural extraction.
domain_priors:base_extractiveness(birthday_paradox_collision, 0.4).

% Suppression score: 0.25
% Rationale: It suppresses human intuition (which expects a linear 
% relationship) in favor of the exponential reality of combinations.
domain_priors:suppression_score(birthday_paradox_collision, 0.25).

% Enforcement: Emerges naturally from the Pigeonhole Principle and combinatorics.
domain_priors:emerges_naturally(birthday_paradox_collision).

% Metrics
narrative_ontology:constraint_metric(birthday_paradox_collision, extractiveness, 0.4).
narrative_ontology:constraint_metric(birthday_paradox_collision, suppression_requirement, 0.25).

% Beneficiaries & Victims
constraint_beneficiary(birthday_paradox_collision, cryptographic_attackers).
constraint_beneficiary(birthday_paradox_collision, hardware_manufacturers). % Need more storage/bits.
constraint_victim(birthday_paradox_collision, legacy_hash_functions).
constraint_victim(birthday_paradox_collision, intuitive_expectations).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE HASH VALUE - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The bits have no choice in their collision probability.
   WHEN: immediate - True at the moment of the 23rd insertion.
   WHERE: trapped - Bound within the set of 365 (or 2^n) possible states.
   SCOPE: local - Immediate neighborhood of a duplicate value.
   
   WHY THIS CLASSIFICATION:
   For the data point, the paradox is a "Mountain." No amount of "willpower" 
   by the algorithm can change the fact that the probability landscape is 
   shaped by factorials and exponents.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    birthday_paradox_collision,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CRYPTOGRAPHER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to set the bit-length of the hash (e.g., SHA-256).
   WHEN: biographical - Planning the safety of a system for 20+ years.
   WHERE: mobile - Can "exit" the Noose of collisions by doubling the bit-length.
   SCOPE: global - Worldwide standard for digital signatures.
   
   WHY THIS CLASSIFICATION:
   For the architect, the paradox is a "Rope"—a functional coordination tool. 
   Knowing the "Birthday Bound" allows them to coordinate a standard of 
   achievement (security) by simply using twice as many bits as the intended 
   security level.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    birthday_paradox_collision,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BIRTHDAY ATTACKER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful - Using the paradox to coerce a system.
   WHEN: immediate - Cracking a signature in real-time.
   WHERE: arbitrage - Exploiting the gap between the system's bits and its 
        actual security.
   SCOPE: global - Targeting global financial or identity systems.
   
   WHY THIS CLASSIFICATION:
   For the attacker, the paradox is a "Noose" they tighten around a weak hash 
   function. It allows them to "extract" a collision (and thus a forgery) 
   asymmetrically, with far less effort than a brute-force search.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    birthday_paradox_collision,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(birthday_paradox_collision, E),
    E >= 0.3,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(birthday_paradox_tests).

test(collision_fate_variance) :-
    % Subject -> Mountain
    constraint_indexing:constraint_classification(birthday_paradox_collision, Type1, context(individual_powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(birthday_paradox_collision, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(extraction_of_security) :-
    % Attackers see it as a Noose/Arbitrage opportunity.
    constraint_indexing:constraint_classification(birthday_paradox_collision, noose, context(individual_powerful, immediate, arbitrage, global)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(birthday_paradox_collision).

:- end_tests(birthday_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): I assigned this because the paradox creates 
 * a "hidden tax" on all digital systems. You pay for 128 bits of storage 
 * but only get 64 bits of collision resistance.
 * 2. PERSPECTIVE SHIFT: The core insight is that "knowledge" of the constraint 
 * transforms it from a Noose (for the victim) into a Rope (for the architect).
 * 3. SUPPRESSION: Set at 0.25. The paradox effectively "hides" the feasibility 
 * of collisions from non-experts, which is a form of informational suppression.
 */

% OMEGA IDENTIFICATION
omega_variable(
    non_uniform_birth_distribution,
    "How does the 'Mountain' shift if births are seasonal rather than uniform?",
    resolution_mechanism("Compare collision rates in datasets with actual demographic spikes (e.g., September births)."),
    impact("If Spiked: The probability curve steepens, making the 'Noose' tighter."),
    confidence_without_resolution(high)
).

omega_variable(
    quantum_collision_acceleration,
    "Does Grover's Algorithm turn the Birthday 'Rope' into a 'Noose' for modern hashes?",
    resolution_mechanism("Audit of cube-root vs square-root collision speeds in quantum simulations."),
    impact("If Cube-root: Current bit-length standards are a failing Scaffold."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Brute Force Search (1/N)
 * Viability: Requires checking every single possible value.
 * Suppression: Suppressed by the sheer efficiency of the Birthday Attack 
 * (sqrt(N)), which makes the 1/N alternative functionally invisible to 
 * professional attackers.
 * * ALTERNATIVE 2: Collision-Free Perfect Hashing
 * Viability: Possible for fixed, known datasets.
 * Suppression: Rejected for dynamic systems where inputs are unknown or adversarial.
 * * CONCLUSION:
 * The existence of the sqrt(N) "Mountain" makes any security model based 
 * on 1/N a "Scaffold" that will inevitably collapse under load.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [birthday_paradox_collision].
% Analyze: ?- constraint_indexing:multi_index_report(birthday_paradox_collision).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: blackstone_carried_interest_taxation
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: The Blackstone Group L.P. Form S-1 (March 22, 2007)
% ============================================================================

:- module(blackstone_carried_interest_taxation, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: blackstone_carried_interest_taxation
 * human_readable: Carried Interest Partnership Taxation
 * domain: economic/political
 * temporal_scope: 2007 (Pre-IPO filing context)
 * spatial_scope: National (United States)
 * * SUMMARY:
 * The regulatory and tax framework that treats "carried interest" (performance 
 * fees) as capital gains rather than ordinary income for partners in investment 
 * firms. Blackstone's structure as a publicly traded partnership 
 * relies on this classification to avoid entity-level taxation and maintain 
 * high distributions to its "Senior Managing Directors".
 * * KEY AGENTS:
 * - Blackstone Senior Managing Directors: The primary beneficiaries of the "carried interest" tax rate.
 * - Public Common Unitholders: New investors who bear the risk of tax law changes but have limited voting rights.
 * - U.S. Congress/IRS: The institutional "rule-makers" who can reclassify this income.
 * * NARRATIVE ARC:
 * Blackstone is transitioning to a public entity while attempting to preserve 
 * the tax advantages of a private partnership. The S-1 
 * highlights that any legislative change to the taxation of carried interest 
 * could "materially increase" the tax liability and reduce the value of 
 * common units.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(blackstone_ipo_restructuring, 0, 10).
narrative_ontology:constraint_claim(blackstone_carried_interest_taxation, rope).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: The system allows partners to retain a high percentage of earnings 
% (low extraction from them), but extracts revenue from the public treasury 
% via lower tax receipts.
domain_priors:base_extractiveness(blackstone_carried_interest_taxation, 0.3).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: The "partnership" structure is heavily defended by legal 
% opinions, and alternative corporate structures are actively avoided to 
% maintain tax efficiency.
domain_priors:suppression_score(blackstone_carried_interest_taxation, 0.7).

% Enforcement requirements
domain_priors:requires_active_enforcement(blackstone_carried_interest_taxation).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(blackstone_carried_interest_taxation, extractiveness, 0.3).
narrative_ontology:constraint_metric(blackstone_carried_interest_taxation, suppression_requirement, 0.7).

% Beneficiaries and Victims
constraint_beneficiary(blackstone_carried_interest_taxation, senior_managing_directors).
constraint_victim(blackstone_carried_interest_taxation, public_tax_revenue).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Senior Managing Director - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_powerful - Significant influence over the firm's structure.
   WHEN: biographical - Long-term wealth accumulation strategy.
   WHERE: arbitrage - Can navigate complex tax codes to optimize returns.
   SCOPE: global - Managing assets across multiple jurisdictions.
   
   WHY THIS CLASSIFICATION:
   For the partners, this tax framework is a "Rope"—a functional coordination 
   mechanism that allows them to align their interests with fund investors 
   while maximizing their net-of-tax compensation.
   
   NARRATIVE EVIDENCE:
   "We intend to manage our affairs so that we will not be treated as a 
   corporation for U.S. federal income tax purposes".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_carried_interest_taxation,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(arbitrage),
        constraint_beneficiary(blackstone_carried_interest_taxation, senior_managing_directors),
        constraint_victim(blackstone_carried_interest_taxation, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(blackstone_carried_interest_taxation, E),
    E < 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Common Unitholder (Retail) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - No voting power; subject to partnership terms.
   WHEN: immediate - Focused on the yield and unit price of the IPO.
   WHERE: constrained - Can sell units, but cannot change the firm's tax status.
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For the retail investor, the tax structure is a "Mountain." It is a pre-existing 
   and highly complex "risk factor" they must accept. They have no power to 
   influence the legislative battle over carried interest and must simply 
   weather any "storms" (law changes).
   
   NARRATIVE EVIDENCE:
   "Our common unitholders will have only limited voting rights and will have 
   no right to elect our general partner".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_carried_interest_taxation,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        constraint_beneficiary(blackstone_carried_interest_taxation, blackstone_management),
        constraint_victim(blackstone_carried_interest_taxation, retail_investor),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(blackstone_carried_interest_taxation, S),
    S > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Reformist Legislator - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power (Congress).
   WHEN: historical - Looking at the 100-year evolution of the tax code.
   WHERE: analytical - Evaluating the "fairness" of the loophole.
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   From the perspective of a critic, this is a "Noose." It is an asymmetric 
   mechanism where the wealthiest 1% of the firm "extracts" a lower tax rate 
   that is unavailable to the general public, effectively strangling the 
   principle of horizontal equity in taxation.
   
   NARRATIVE EVIDENCE:
   The S-1 notes that "The U.S. Congress has recently considered... legislation 
   that would... treat as ordinary income the 'carried interest'".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_carried_interest_taxation,
    noose,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        constraint_beneficiary(blackstone_carried_interest_taxation, private_equity_industry),
        constraint_victim(blackstone_carried_interest_taxation, public_equity_principles),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(blackstone_carried_interest_taxation, E),
    E > 0.2,
    domain_priors:requires_active_enforcement(blackstone_carried_interest_taxation),
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(blackstone_tax_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(blackstone_carried_interest_taxation, Type1, 
        context(individual_powerful, biographical, arbitrage, _, _, global)),
    constraint_indexing:constraint_classification(blackstone_carried_interest_taxation, Type2, 
        context(individual_powerless, immediate, constrained, _, _, national)),
    constraint_indexing:constraint_classification(blackstone_carried_interest_taxation, Type3, 
        context(institutional, historical, analytical, _, _, national)),
    Type1 = rope,
    Type2 = mountain,
    Type3 = noose.

test(tax_benefit_asymmetry) :-
    % Powerful agents should experience lower extraction (Rope) than the system's impact on others
    constraint_indexing:constraint_classification(blackstone_carried_interest_taxation, rope, context(individual_powerful, _, _, _, _, _)).

:- end_tests(blackstone_tax_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.3): Low because the constraint *prevents* extraction from 
 * the partners, though it represents a high "opportunity cost" for the IRS.
 * 2. SUPPRESSION (0.7): Blackstone uses high-level legal opinions (Skadden, Arps) 
 * to validate this structure, effectively suppressing the visibility of 
 * alternative, simpler corporate taxes.
 * * PERSPECTIVE RATIONALE:
 * - Partners: See it as a Rope (coordination).
 * - Retail: See it as a Mountain (unalterable risk).
 * - Legislators: See it as a Noose (asymmetric advantage).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    legislative_volatility,
    "Will Congress reclassify carried interest as ordinary income within the 'biographical' window of the IPO?",
    resolution_mechanism("Monitor the introduction of bills in the Senate Finance Committee specifically targeting PTPs"),
    impact("If resolved as 'Yes': Blackstone's valuation drops (Mountain becomes Noose). If 'No': Rope holds."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: C-Corporation Structure
 * Viability: Standard for most public companies; would provide voting rights 
 * to all.
 * Suppression: Actively rejected due to "double taxation" of dividends 
 * which would harm senior management returns.
 * * CONCLUSION:
 * The presence of a viable (but rejected) C-Corp alternative confirms that 
 * the Partnership structure is a "Rope" for those in power and a "Noose" 
 * for those concerned with tax equity.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [blackstone_carried_interest_taxation].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: blackstone_conflicts_of_interest
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: The Blackstone Group L.P. Form S-1 (March 22, 2007)
% ============================================================================

:- module(blackstone_conflicts_of_interest, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: blackstone_conflicts_of_interest
 * human_readable: Fiduciary Conflict Allocation
 * domain: corporate_governance / legal
 * temporal_scope: 2007 (IPO Restructuring)
 * spatial_scope: National (Delaware/US)
 * * SUMMARY:
 * A structural legal constraint where the interests of Blackstone's investment 
 * funds (and the Limited Partners therein) are explicitly prioritized over 
 * the interests of the public common unitholders. This 
 * creates a "fiduciary hierarchy" where the public investor is legally 
 * positioned at the bottom.
 * * KEY AGENTS:
 * - The General Partner: Controlled by Senior Managing Directors (SMDs).
 * - Limited Partners (LPs): Investors in Blackstone's funds (e.g., pension funds).
 * - Public Unitholders: New investors in the holding company (The Blackstone Group L.P.).
 * * NARRATIVE ARC:
 * Blackstone operates a business where it owes conflicting duties to different 
 * parties. The S-1 explicitly resolves these conflicts by stating 
 * that the General Partner's duty to the funds will override its duty to the 
 * public unitholders, effectively institutionalizing an "asymmetric loyalty" 
 *.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

narrative_ontology:interval(blackstone_conflict_era, 0, 10).
narrative_ontology:constraint_claim(blackstone_conflicts_of_interest, noose).

% Base extractiveness score (0.0 - 1.0)
% Rationale: High extraction of trust and legal recourse; public unitholders 
% lose the benefit of "undivided loyalty" standard in fiduciary law.
domain_priors:base_extractiveness(blackstone_conflicts_of_interest, 0.75).

% Suppression score (0.0 - 1.0)
% Rationale: The partnership agreement contractually "waives" or "limits" 
% traditional fiduciary duties, suppressing alternative legal remedies.
domain_priors:suppression_score(blackstone_conflicts_of_interest, 0.85).

% Enforcement requirements
domain_priors:requires_active_enforcement(blackstone_conflicts_of_interest).

% Metrics
narrative_ontology:constraint_metric(blackstone_conflicts_of_interest, extractiveness, 0.75).
narrative_ontology:constraint_metric(blackstone_conflicts_of_interest, suppression_requirement, 0.85).

% Beneficiaries and Victims
constraint_beneficiary(blackstone_conflicts_of_interest, fund_limited_partners).
constraint_beneficiary(blackstone_conflicts_of_interest, senior_managing_directors).
constraint_victim(blackstone_conflicts_of_interest, public_common_unitholders).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Public Unitholder - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless.
   WHEN: biographical.
   WHERE: trapped - The liability for conflicts is "locked in" by the S-1.
   
   WHY THIS CLASSIFICATION:
   For the public investor, this is a "Noose." They are knowingly entering a 
   contract where the other party is legally permitted to act against their 
   interests to satisfy a "higher" duty to fund investors.
   
   NARRATIVE EVIDENCE:
   "Our general partner... will be entitled to have regard to the interests 
   of... our investment funds... even if those interests are in conflict 
   with our interests or the interests of our common unitholders".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_conflicts_of_interest,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        constraint_beneficiary(blackstone_conflicts_of_interest, fund_lps),
        constraint_victim(blackstone_conflicts_of_interest, public_investor),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(blackstone_conflicts_of_interest, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Fund Limited Partner (LP) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Powerful institutional investors (pensions, endowments).
   WHEN: historical.
   WHERE: mobile - Can move capital between different PE firms.
   
   WHY THIS CLASSIFICATION:
   For the LPs, this is a "Rope." It coordinates the firm's loyalty 
   towards the performance of the funds, ensuring that the "IPO-ing" holding 
   company doesn't divert resources or focus away from the LP's returns.
   
   NARRATIVE EVIDENCE:
   The structure ensures that "fiduciary duties... to our investment funds 
   will not be diminished by the fact that we are a public company".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_conflicts_of_interest,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        constraint_beneficiary(blackstone_conflicts_of_interest, fund_performance),
        constraint_victim(blackstone_conflicts_of_interest, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(blackstone_conflicts_of_interest, E),
    E < 0.8,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(blackstone_conflict_tests).

test(fiduciary_priority_inversion) :-
    % Test that institutional LPs experience a Rope (protection) 
    % while Public Investors experience a Noose (extraction of duty)
    constraint_indexing:constraint_classification(blackstone_conflicts_of_interest, rope, 
        context(institutional, _, _, _, _, _)),
    constraint_indexing:constraint_classification(blackstone_conflicts_of_interest, noose, 
        context(individual_powerless, _, _, _, _, _)).

:- end_tests(blackstone_conflict_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.75): This reflects the "valuation discount" public 
 * investors must accept because they lack traditional legal protection.
 * 2. CLASSIFICATION RATIONALE: The S-1 describes a deliberate contractual 
 * "sacrifice" of the public shareholder's interests to maintain the 
 * viability of the fund-management business.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    gp_good_faith_definition,
    "What constitutes 'good faith' when the GP is explicitly allowed to prioritize one group over another?",
    resolution_mechanism("Delaware case law interpretation of the 'implied covenant of good faith' in LP agreements"),
    impact("If interpreted narrowly: it is a Mountain (absolute power). If broadly: a Rope (check on power)."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Independent Conflict Committees
 * Viability: Blackstone mentions them, but they are not mandatory for all 
 * decisions.
 * Suppression: The GP retains final discretion in many cases, suppressing 
 * the "independent oversight" alternative.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [blackstone_conflicts_of_interest].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: blackstone_smd_control
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: The Blackstone Group L.P. Form S-1 (March 22, 2007)
% ============================================================================

:- module(blackstone_smd_control, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: blackstone_smd_control
 * human_readable: Senior Managing Director Voting Control
 * domain: corporate_governance
 * temporal_scope: 2007 (IPO Restructuring)
 * spatial_scope: National (Delaware/US)
 * * SUMMARY:
 * A governance structure where Senior Managing Directors (SMDs) retain 
 * absolute control over the firm's general partner through a "multi-class" 
 * unit structure. This prevents public unitholders from 
 * electing directors or influencing management decisions.
 * * KEY AGENTS:
 * - Senior Managing Directors (SMDs): The controlling group of existing partners.
 * - Public Unitholders: New investors with almost zero voting power.
 * - Blackstone Group Management L.L.C.: The general partner entity.
 * * NARRATIVE ARC:
 * Unlike traditional corporations where shareholders can vote for boards, 
 * Blackstone's IPO is structured so that public investors provide capital 
 * but no oversight. This creates a permanent wall between 
 * the "founders" and the "public".
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(blackstone_governance_lock, 0, 10).
narrative_ontology:constraint_claim(blackstone_smd_control, noose).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: High power asymmetry; SMDs extract capital and fees while 
% denying public investors any governance rights.
domain_priors:base_extractiveness(blackstone_smd_control, 0.8).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: Public unitholders have no physical or legal mechanism to 
% override the general partner; alternatives like proxy contests are barred.
domain_priors:suppression_score(blackstone_smd_control, 0.9).

% Enforcement requirements
domain_priors:requires_active_enforcement(blackstone_smd_control).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(blackstone_smd_control, extractiveness, 0.8).
narrative_ontology:constraint_metric(blackstone_smd_control, suppression_requirement, 0.9).

% Beneficiaries and Victims
constraint_beneficiary(blackstone_smd_control, senior_managing_directors).
constraint_victim(blackstone_smd_control, public_common_unitholders).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Public Unitholder - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - No right to elect the board or remove management.
   WHEN: biographical - Stuck with the governance structure for the life of the investment.
   WHERE: trapped - While units can be sold, the governance constraint is inescapable for the asset.
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For the public investor, this is a "Noose." They are economically bound 
   to the performance of the firm but have zero strategic leverage. Any 
   mismanagement by the SMDs cannot be corrected through voting.
   
   NARRATIVE EVIDENCE:
   "Our common unitholders will have only limited voting rights and will 
   have no right to elect our general partner".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_smd_control,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        constraint_beneficiary(blackstone_smd_control, smd_partners),
        constraint_victim(blackstone_smd_control, public_investor),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(blackstone_smd_control, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Stephen Schwarzman / SMDs - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_powerful - Retains nearly total control over the entity.
   WHEN: historical - Preserving the "culture" and "long-term focus" of the firm.
   WHERE: arbitrage - Using Delaware partnership law to bypass corporate norms.
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   For the SMDs, this structure is a "Rope." It coordinates the transition 
   to a public company without subjecting the partnership to the "short-term 
   pressures" or "hostile takeovers" associated with typical public markets.
   
   NARRATIVE EVIDENCE:
   The control is justified as ensuring "the long-term alignment of interests" 
   of the managing directors with the firm's growth.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_smd_control,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(blackstone_smd_control, blackstone_firm_stability),
        constraint_victim(blackstone_smd_control, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(blackstone_smd_control, E),
    E < 0.9,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(blackstone_control_tests).

test(voting_power_gap) :-
    % Test that powerless agents experience this as a Noose (high extraction of agency)
    constraint_indexing:constraint_classification(blackstone_smd_control, noose, 
        context(individual_powerless, _, trapped, _, _, _)).

test(smd_strategic_rope) :-
    % Test that powerful agents see this as a functional tool
    constraint_indexing:constraint_classification(blackstone_smd_control, rope, 
        context(individual_powerful, _, arbitrage, _, _, _)).

:- end_tests(blackstone_control_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.8): Ranked high because this structure "extracts" the 
 * fundamental democratic right of shareholders in a public entity.
 * 2. SUPPRESSION (0.9): The Delaware Limited Partnership structure is 
 * legally "hardened" against shareholder activism.
 * * AMBIGUITIES:
 * The "limited circumstances" under which unitholders *might* vote are 
 * highly restricted and likely irrelevant to daily operations.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    gp_fiduciary_duty_erosion,
    "Will Delaware courts uphold the partnership's right to contractually waive fiduciary duties owed to unitholders?",
    resolution_mechanism("Monitor subsequent litigation in the Delaware Chancery Court (e.g., Dieckman v. Regency)"),
    impact("If duties can be waived: it is a total Noose. If not: a slight Rope exists for investors."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: "One Share, One Vote" Corporation
 * Viability: The standard for 99% of NYSE listings.
 * Suppression: Actively rejected to prevent external interference with 
 * SMD decision-making.
 * * CONCLUSION:
 * Rejection of standard voting rights confirms this as an asymmetric Noose 
 * for the public unitholder.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [blackstone_smd_control].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: blackstone_tax_receivable_agreement
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: The Blackstone Group L.P. Form S-1 (March 22, 2007)
% ============================================================================

:- module(blackstone_tra, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: blackstone_tra
 * human_readable: Tax Receivable Agreement (TRA)
 * domain: economic/financial
 * temporal_scope: Post-IPO (Long-term)
 * spatial_scope: National (US Tax System)
 * * SUMMARY:
 * A contract where the public entity (Blackstone Group L.P.) agrees to pay 
 * 85% of its tax savings—generated by the purchase of interests from 
 * existing partners—directly back to those partners (the SMDs).
 * This effectively privatizes the tax benefits that would otherwise 
 * accrue to the public unitholders.
 * * KEY AGENTS:
 * - Senior Managing Directors (SMDs): The recipients of the 85% payments.
 * - Public Unitholders: The "funders" of the tax savings who only retain 15%.
 * - Blackstone Corporate Entity: The legal vehicle obligated to make the payments.
 * * NARRATIVE ARC:
 * The TRA is a post-IPO extraction mechanism. When SMDs sell their partnership 
 * units, the "tax basis" of the firm’s assets increases, lowering future taxes 
 *. Instead of these savings boosting the company's cash flow 
 * for all investors, the TRA mandates that the lion's share of that cash 
 * be paid out to the selling partners.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

narrative_ontology:interval(blackstone_tra_life, 0, 10).
narrative_ontology:constraint_claim(blackstone_tra, noose).

% Base extractiveness score (0.0 - 1.0)
% Rationale: Highly extractive; 85% of a specific cash benefit is diverted 
% to a subset of insiders by contract.
domain_priors:base_extractiveness(blackstone_tra, 0.85).

% Suppression score (0.0 - 1.0)
% Rationale: The agreement is a "condition" of the IPO; there is no 
% mechanism for public unitholders to opt-out or renegotiate.
domain_priors:suppression_score(blackstone_tra, 0.95).

% Enforcement requirements
domain_priors:requires_active_enforcement(blackstone_tra).

% Metrics
narrative_ontology:constraint_metric(blackstone_tra, extractiveness, 0.85).
narrative_ontology:constraint_metric(blackstone_tra, suppression_requirement, 0.95).

% Beneficiaries and Victims
constraint_beneficiary(blackstone_tra, selling_smd_partners).
constraint_victim(blackstone_tra, public_common_unitholders).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Public Unitholder - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless.
   WHEN: biographical - The payments can span decades.
   WHERE: trapped - The obligation is a core liability of the units.
   
   WHY THIS CLASSIFICATION:
   For the public investor, the TRA is a "Noose." It is an asymmetric 
   leakage of value. The cash that *could* have been used for dividends 
   or reinvestment is contractually diverted to the founders.
   
   NARRATIVE EVIDENCE:
   "We will pay... 85% of the amount of cash savings, if any, in U.S. federal, 
   state and local income tax... to the person who has sold... their 
   Blackstone Holdings partnership units".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_tra,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        constraint_beneficiary(blackstone_tra, smds),
        constraint_victim(blackstone_tra, public_investors),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(blackstone_tra, E),
    E > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Senior Managing Director (SMD) - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_powerful.
   WHEN: biographical.
   WHERE: arbitrage - Optimizing the "exit" value of their units.
   
   WHY THIS CLASSIFICATION:
   For the SMDs, the TRA is a "Rope." It is a sophisticated coordination tool 
   that allows them to realize the full economic value of their tax 
   attributes upon exit, which would otherwise be "lost" to the public 
   company.
   
   NARRATIVE EVIDENCE:
   The agreement is designed to "provide for the sharing of the tax 
   benefits... between us and the selling or exchanging partners".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_tra,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(arbitrage),
        constraint_beneficiary(blackstone_tra, smds),
        constraint_victim(blackstone_tra, none),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(blackstone_tra, E),
    E < 0.9,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(blackstone_tra_tests).

test(extraction_ratio_audit) :-
    % Test if the extraction score matches the 85% stated in the S-1
    domain_priors:base_extractiveness(blackstone_tra, 0.85).

test(perspectival_flip) :-
    % Test that same data (85% payout) creates a Noose for one and Rope for another
    constraint_indexing:constraint_classification(blackstone_tra, noose, context(individual_powerless, _, _, _, _, _)),
    constraint_indexing:constraint_classification(blackstone_tra, rope, context(individual_powerful, _, _, _, _, _)).

:- end_tests(blackstone_tra_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.85): This is a direct reflection of the 85% 
 * cash-sharing ratio specified in the S-1.
 * 2. CLASSIFICATION: The TRA is perhaps the most "pure" example of a 
 * Noose in corporate governance, as it is a permanent, asymmetric 
 * cash transfer from the public entity to its former owners.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    tax_rate_stability,
    "Will future corporate tax rates decrease, reducing the 'value' of the TRA payments for the SMDs?",
    resolution_mechanism("Congressional legislative tracking on federal corporate tax rate adjustments"),
    impact("If rates drop: the Noose loosens (less is extracted). If rates rise: the Noose tightens."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Retention of Tax Benefits for All Unitholders
 * Viability: The standard for almost all non-partnership public offerings.
 * Suppression: The SMDs made the TRA a prerequisite for the IPO, effectively 
 * suppressing the "fair share" alternative before public trading began.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [blackstone_tra].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: brouwer_fixed_point
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Brouwer Fixed Point Theorem (Topology / Game Theory)
% ============================================================================

:- module(constraint_brouwer_fixed_point, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: brouwer_fixed_point
 * human_readable: Brouwer Fixed Point Theorem
 * domain: mathematics/topological/economic
 * temporal_scope: 1911 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Compact convex sets)
 * * SUMMARY:
 * The Brouwer Fixed Point Theorem states that for any continuous function 
 * mapping a compact convex set to itself, there is at least one point x 
 * such that f(x) = x. It is a fundamental "existence" theorem that guarantees 
 * equilibrium in complex systems without necessarily providing a method to find it.
 * * KEY AGENTS:
 * - The Topological Subject (The Point): An agent trapped within the set, 
 * guaranteed to have a "home" but no agency to choose it.
 * - The Game Theorist / Economist: An institutional agent who uses the 
 * theorem to prove the existence of Nash Equilibria or Market Clearing prices.
 * - The Searcher (Numerical Analyst): An agent struggling with the "non-constructive" 
 * nature of the theorem, knowing a solution exists but lacking a map.
 * * NARRATIVE ARC:
 * Brouwer acts as a "Mountain" of topological inevitability. In the narrative 
 * of a system (like an economy), it is the "Rope" that guarantees consistency. 
 * However, to the searcher, its non-constructive nature is a "Noose"—a 
 * promise of a solution that offers no relief from the labor of finding it.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(brouwer_era, 1911, 2026).
narrative_ontology:constraint_claim(brouwer_fixed_point, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Low (0.2). It is a passive existence guarantee. It "extracts" 
% the possibility of total chaos by forcing the existence of a stationary state.
domain_priors:base_extractiveness(brouwer_fixed_point, 0.2).

% Suppression score (0.0-1.0)
% Rationale: Low (0.1). It is foundational; it does not hide its 
% non-constructive nature, though it dominates the proof of existence.
domain_priors:suppression_score(brouwer_fixed_point, 0.1).

% Enforcement: Emerges from the axioms of topology and continuity.
domain_priors:emerges_naturally(brouwer_fixed_point).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(brouwer_fixed_point, extractiveness, 0.2).
narrative_ontology:constraint_metric(brouwer_fixed_point, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(brouwer_fixed_point, institutional_stability). % Equilibrium exists.
constraint_beneficiary(brouwer_fixed_point, theoretical_physicists).
constraint_victim(brouwer_fixed_point, algorithmic_efficiency). % Existence doesn't help find it.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE TOPOLOGICAL POINT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The point has no agency over its transformation.
   WHEN: immediate - True for every single mapping instance.
   WHERE: trapped - Bound within the compact convex set X.
   SCOPE: local - Immediate coordinate of the stationary point.
   
   WHY THIS CLASSIFICATION:
   For the point, the fixed state is an unyielding law of the universe. 
   If the set is "crumpled" or "stirred," the point *must* remain.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    brouwer_fixed_point,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MARKET ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design rules (sets) that satisfy Brouwer.
   WHEN: biographical - Planning the stability of a market or game for years.
   WHERE: mobile - Can choose different spaces/rules to ensure equilibrium.
   SCOPE: national/global - Applies to entire economic models.
   
   WHY THIS CLASSIFICATION:
   For the architect, the theorem is a "Rope" for functional coordination. 
   It provides a "proof of concept" that allows for the creation of 
   stable systems and regulatory frameworks.
   
   NARRATIVE EVIDENCE:
   "The theorem is used in proving the existence of Nash Equilibrium in game theory."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    brouwer_fixed_point,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NUMERICAL SEARCHER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the knowledge to search, but limited by math.
   WHEN: immediate - Stuck in the "infinite" loops of searching for existence.
   WHERE: constrained - Knowing the target exists but having no path.
   SCOPE: local - Lost in the high-dimensional space.
   
   WHY THIS CLASSIFICATION:
   When existence is guaranteed but non-constructive, it acts as a "Noose." 
   The searcher is bound to a solution that they can "see" in theory but 
   never "touch" in practice, extracting infinite labor for zero certainty.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    brouwer_fixed_point,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(brouwer_fixed_point, E),
    E > 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(brouwer_fixed_point_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(brouwer_fixed_point, Type1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(brouwer_fixed_point, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(non_constructive_noose_penalty) :-
    % The searcher (moderate power, constrained) suffers the gap between theory and praxis.
    constraint_indexing:constraint_classification(brouwer_fixed_point, noose, context(individual_moderate, immediate, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(brouwer_fixed_point).

:- end_tests(brouwer_fixed_point_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.2):
 * Reasoning: Brouwer is less "expensive" than Banach (which demands iterates) 
 * but it still extracts cognitive and computational cycles by providing 
 * an "existence trap"—the knowledge that a solution is there.
 * * 2. TYPE SHIFT:
 * Reasoning: The primary perspectival gap is between the "Institutional" 
 * sense of stability (Rope) and the "Moderate" searcher's frustration 
 * with the lack of a constructive path (Noose).
 * * 3. PERSPECTIVE SELECTION:
 * Chose Point (Passive), Architect (User), and Searcher (Victim) to highlight 
 * the specific topological-computational friction.
 */

% OMEGA IDENTIFICATION
omega_variable(
    constructive_complexity,
    "Will a universal constructive version of Brouwer (e.g., Scarf's algorithm) succeed?",
    resolution_mechanism("Measure the average-case runtime vs existence-proof utility over 10 years."),
    impact("If Yes: The 'Noose' becomes a 'Rope'. If No: It remains a Noose for practitioners."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Banach Fixed Point Theorem
 * Viability: Constructive, provides a path (Rope).
 * Suppression: Requires a contraction mapping, which many real systems lack.
 * * ALTERNATIVE 2: Schauder Fixed Point Theorem
 * Viability: Generalizes to infinite-dimensional spaces.
 * Suppression: Used for more complex PDEs, but Brouwer remains the finite-dim base.
 * * CONCLUSION:
 * The existence of Banach's "Rope" makes Brouwer's "Noose" (non-constructiveness) 
 * more visible to the Searcher, who wishes the world were contractive.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [brouwer_fixed_point].
% Run tests: ?- run_tests(brouwer_fixed_point_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: buffons_needle_pi_estimation
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Georges-Louis Leclerc, Comte de Buffon (1777) / Geometric Probability
% ============================================================================

:- module(constraint_buffons_needle, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: buffons_needle_pi_estimation
 * human_readable: Buffon's Needle (Geometric Probability)
 * domain: mathematical/technological
 * temporal_scope: 1777 - Present
 * spatial_scope: Global/Abstract (Euclidean Space)
 * * SUMMARY:
 * Buffon's Needle is a classic problem in geometric probability where a needle 
 * of length $l$ is dropped onto a floor with parallel lines a distance $d$ apart. 
 * The probability that the needle crosses a line ($P = 2l / (d\pi)$) reveals 
 * a fundamental constraint: $\pi$ is woven into the very geometry of random 
 * physical interactions.
 * * KEY AGENTS:
 * - The Needle (Subject): The powerless agent whose physical landing is 
 * bound by the trigonometric constraints of its angle and position.
 * - The Monte Carlo Simulator (Institutional): An agent who uses this 
 * randomness as a "Rope" to estimate transcendental constants.
 * - The Analytical Purist (Victim): An agent for whom the "messiness" of 
 * physical randomness acts as a "Noose," extracting the elegance of 
 * pure symbolic calculation.
 * * NARRATIVE ARC:
 * Buffon's Needle functions as a "Mountain" of geometric reality—the 
 * relationship between linear drops and circular constants is an unyielding 
 * feature of space. In early computing, it was a "Rope" for coordinating the 
 * first Monte Carlo methods. However, for those seeking high-precision 
 * constants, the requirement of infinite physical trials acts as a "Noose," 
 * extracting massive time and effort (extraction) to yield only a few 
 * digits of $\pi$.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(buffon_era, 1777, 2026).
narrative_ontology:constraint_claim(buffons_needle_pi_estimation, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. It "extracts" the simplicity of a random drop to reveal a 
% complex constant, forcing a "statistical tax" on any agent seeking to 
% derive $\pi$ from physical space.
domain_priors:base_extractiveness(buffons_needle_pi_estimation, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.1. It does not actively suppress alternatives, but it 
% renders "non-trigonometric" explanations of the crossing probability 
% functionally fraudulent.
domain_priors:suppression_score(buffons_needle_pi_estimation, 0.1).

% Enforcement: Emerges naturally from the integration of the sine function.
domain_priors:emerges_naturally(buffons_needle_pi_estimation).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(buffons_needle_pi_estimation, extractiveness, 0.2).
narrative_ontology:constraint_metric(buffons_needle_pi_estimation, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(buffons_needle_pi_estimation, monte_carlo_engineers).
constraint_beneficiary(buffons_needle_pi_estimation, geometric_statisticians).
constraint_victim(buffons_needle_pi_estimation, deterministic_calculators). % Strangled by variance.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE FALLING NEEDLE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The needle has no agency over the laws of gravity or trig.
   WHEN: immediate - The crossing is determined the instant the needle settles.
   WHERE: trapped - Bound within the $d$-width lines of the floor.
   SCOPE: local - Immediate neighborhood of the landing.
   
   WHY THIS CLASSIFICATION:
   For the needle, the condition $x \le (l/2)\sin\theta$ is an absolute Mountain. 
   It cannot "choose" to cross a line if the geometry of its angle and 
   center-point does not permit it. The law is a fixed feature of its physics.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    buffons_needle_pi_estimation,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE STATISTICAL RESEARCHER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design experiments and choose trial counts.
   WHEN: biographical - Planning the duration of a data collection project.
   WHERE: mobile - Can adjust $l$ and $d$ to optimize the crossing probability.
   SCOPE: global - Universal application in stochastic modeling.
   
   WHY THIS CLASSIFICATION:
   For the researcher, the problem is a "Rope"—a functional coordination 
   mechanism. By dropping needles, they coordinate a "standard of achievement" 
   for estimating $\pi$ through physical action, pulling abstract math 
   into the tangible world.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    buffons_needle_pi_estimation,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HIGH-PRECISION OBSERVER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the Law of Large Numbers.
   WHEN: generational - It would take lifetimes of drops to reach 10 digits of $\pi$.
   WHERE: constrained - No alternative but to increase $N$ at a $1/\sqrt{N}$ rate.
   SCOPE: local - A specific, tedious physical experiment.
   
   WHY THIS CLASSIFICATION:
   For the seeker of precision, Buffon's Needle is a "Noose." It "strangles" 
   efficiency. Because the error decreases so slowly, the method extracts 
   enormous labor (extraction) for diminishing returns, "choking" the 
   viability of the experiment as a serious computational tool.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    buffons_needle_pi_estimation,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(generational),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(buffons_needle_pi_estimation, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(buffons_needle_tests).

test(multi_perspective_variance) :-
    % Needle -> Mountain
    constraint_indexing:constraint_classification(buffons_needle_pi_estimation, Type1, context(individual_powerless, immediate, trapped, local)),
    % Researcher -> Rope
    constraint_indexing:constraint_classification(buffons_needle_pi_estimation, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(variance_extraction_penalty) :-
    % The high-precision seeker feels the "Noose" of the 1/sqrt(N) convergence.
    Context = context(individual_powerless, generational, constrained, local),
    constraint_indexing:extractiveness_for_agent(buffons_needle_pi_estimation, Context, Score),
    Score >= 0.2.

test(natural_emergence) :-
    domain_priors:emerges_naturally(buffons_needle_pi_estimation).

:- end_tests(buffons_needle_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Chose 0.2 because while the math is a "gift," the physical effort to use 
 * it for estimation is a "tax" of time and variance.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Needle (Subject), Researcher (User), and Precision Seeker (Victim) 
 * to demonstrate how a "Mountain" of logic becomes a "Noose" of inefficiency.
 */

% OMEGA IDENTIFICATION
omega_variable(
    needle_shape_universality,
    "Does the 'Mountain' hold for non-linear needles (e.g., Buffon's Noodle)?",
    resolution_mechanism("Verification of Barbier's Theorem for curves of constant length."),
    impact("If Yes: The 'Mountain' is a universal property of length, not just straight lines."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Deterministic Algorithms (e.g., Chudnovsky Algorithm)
 * Viability: Millions of times more efficient than needle dropping.
 * Suppression: Renders Buffon's Needle functionally a "Toy" or "Scaffold" 
 * in the modern era.
 * * ALTERNATIVE 2: Barbier's Theorem (Buffon's Noodle)
 * Viability: Shows that the shape doesn't matter, only the length.
 * Evidence: A broader "Mountain" that explains the straight-needle case.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [buffons_needle_pi_estimation].
 * 2. Multi-perspective: ?- multi_index_report(buffons_needle_pi_estimation).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: burali_forti_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Set Theory / Cesare Burali-Forti (1897)
% ============================================================================

:- module(constraint_burali_forti_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: burali_forti_paradox
 * human_readable: Burali-Forti Paradox
 * domain: technological/mathematics/logic
 * temporal_scope: Permanent (Universal Laws of Formal Systems)
 * spatial_scope: Global (Set-Theoretic Foundations)
 * * SUMMARY:
 * The Burali-Forti paradox demonstrates that the collection of all ordinal numbers 
 * cannot itself be a set. If it were, it would have an ordinal number greater 
 * than every ordinal in the collection, leading to a contradiction. It 
 * represents the first formal proof that "totalities" in naive set theory 
 * are logically impossible.
 * * KEY AGENTS:
 * - The Set Theorist: Seeking a consistent foundation for all of mathematics.
 * - The Formal System (ZFC/NBG): The administrative structure that prevents 
 * "Set" status for such totalities.
 * - The Naive Mathematician: An agent attempting to work with unrestricted 
 * comprehension.
 * * NARRATIVE ARC:
 * The paradox acts as a hard boundary (Mountain) for the reach of sets. To 
 * maintain consistency, formal systems treat the "All-Ordinals" as a Proper 
 * Class (Rope), a coordination tool that allows use without membership. 
 * For those seeking a single unified "Set of All," the paradox is a Noose 
 * that collapses their foundational system.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural anchor
narrative_ontology:interval(burali_forti_interval, 0, 10).
narrative_ontology:constraint_claim([burali_forti_paradox], logical_impossibility).

% Base extractiveness score: 0.2 (Low)
% Rationale: It extracts "semantic closure" from naive systems but does not 
% extract physical resources.
domain_priors:base_extractiveness(burali_forti_paradox, 0.2).

% Suppression score: 0.3 (Low-Moderate)
% Rationale: Alternatives like New Foundations (NF) exist and are visible, 
% though the "Proper Class" distinction is the dominant enforcement.
domain_priors:suppression_score(burali_forti_paradox, 0.3).

% Enforcement requirements: Emerges naturally from the definition of ordinals.
domain_priors:emerges_naturally(burali_forti_paradox).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(burali_forti_paradox, extractiveness, 0.2).
narrative_ontology:constraint_metric(burali_forti_paradox, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(burali_forti_paradox, axiomatic_set_theorists).
constraint_victim(burali_forti_paradox, naive_comprehension_proponents).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SET THEORIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal logical laws.
   WHEN: civilizational - Operates on the scale of eternal mathematical truth.
   WHERE: trapped - Logic cannot bypass the definitions of well-ordering.
   SCOPE: global - Universal applicability to all formal systems.
   
   WHY THIS CLASSIFICATION:
   To the theorist, the paradox is a Mountain. It is an unchangeable feature 
   of the landscape of truth. You cannot "fix" it; you can only map it and 
   build your axioms around it to avoid falling into the contradiction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burali_forti_paradox,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE AXIOMATIC SYSTEM (ZFC) - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power that defines what counts as a "Set."
   WHEN: historical - Maintaining mathematical stability over centuries.
   WHERE: arbitrage - Can define hierarchies (Proper Classes vs Sets) to 
   coordinate information.
   SCOPE: national - The reach of the specific formal logic.
   
   WHY THIS CLASSIFICATION:
   For the formal system, the paradox is a Rope. It is a coordination 
   mechanism that forces the distinction between "Sets" (which can be members) 
   and "Proper Classes" (which cannot). This distinction is a functional 
   tool that prevents the system from "exploding" into triviality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burali_forti_paradox,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NAIVE MATHEMATICIAN - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the rules of logic without 
   meta-systemic power.
   WHEN: immediate - Today's calculation or proof attempt.
   WHERE: trapped - Once the contradiction is reached, the proof is dead.
   SCOPE: local - Immediate workspace.
   
   WHY THIS CLASSIFICATION:
   For the naive actor, the paradox is a Noose. They attempt to use the 
   seemingly "free" rule of unrestricted comprehension (the ability to form 
   a set from any property). However, as they include more ordinals, the 
   paradoxical logic tightens until their entire foundational proof 
   is strangled by contradiction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burali_forti_paradox,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(burali_forti_paradox_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(burali_forti_paradox, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(burali_forti_paradox, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(burali_forti_paradox, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(power_semantic_extraction) :-
    % Powerless naive actors suffer total extraction of proof validity (Noose).
    % Institutional systems manage the extraction via Proper Classes (Rope).
    domain_priors:base_extractiveness(burali_forti_paradox, Score),
    Score >= 0.2.

test(time_immutability_scale) :-
    % Long-term civilizational logic = Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(burali_forti_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Low. The "extraction" is purely semantic—the loss of 
 * unrestricted comprehension. It doesn't extract material labor.
 * * 2. PERSPECTIVE SELECTION:
 * Analytical (The Scientist), Institutional (The Formal System), and 
 * Individual Powerless (The Naive Actor) were chosen to reflect the 
 * standard "Set vs Class" resolution in mathematics.
 * * 3. CLASSIFICATION RATIONALE:
 * Individual Powerless → Noose: Because naive comprehension leads 
 * unavoidably to a "trap" where all statements become provable (Trivialism).
 * * 4. AMBIGUITIES:
 * - Resolved the "trap" by acknowledging that while one can exit ZFC 
 * to another logic, one cannot exit the Burali-Forti result within 
 * any system that respects standard ordinal definitions.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    class_vs_set_metaphysics,
    "Are 'Proper Classes' a real mathematical landscape (Mountain) or merely a linguistic scaffold (Rope) to avoid the Noose?",
    resolution_mechanism("Development of a grand unified theory of categories vs sets"),
    impact("If Mountain: The hierarchy of size is a physical limit. If Rope: It's just a bug in our current notation."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Quine's New Foundations (NF)
 * Viability: High. It allows a universal set but restricts the types of 
 * formulas used to define sets (stratification).
 * Suppression: Moderate. NF is well-known but rarely used in "mainstream" 
 * math because stratification is cognitively more "expensive" than ZFC.
 * * CONCLUSION:
 * The existence of NF as a "Rope" alternative suggests that the ZFC 
 * "Mountain" is partially a choice of convenience, though the underlying 
 * paradox remains a structural limit for naive systems.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * * 1. Load: ?- [constraint_burali_forti_paradox].
 * 2. Multi-perspective: ?- multi_index_report(burali_forti_paradox).
 * 3. Run tests: ?- run_tests(burali_forti_paradox_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: busy_beaver_noncomputability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Tibor Radó (1962) / Computability Theory
% ============================================================================

:- module(constraint_busy_beaver, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: busy_beaver_noncomputability
 * human_readable: The Busy Beaver Function (Σ)
 * domain: technological/mathematical
 * temporal_scope: 1962 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Universal Logic)
 * * SUMMARY:
 * The Busy Beaver function measures the maximum number of steps a halting Turing 
 * machine with $n$ states can take before stopping. It is a well-defined but 
 * non-computable function that grows faster than any computable sequence 
 * (exponential, factorial, or Ackermann). It represents the absolute ceiling 
 * of algorithmic complexity and the price of the Halting Problem.
 * * KEY AGENTS:
 * - The Turing Machine (Subject): A powerless agent whose productivity is 
 * bound by its state-count but whose limits are unknowable.
 * - The Theoretical Computer Scientist (Institutional): An agent using the 
 * Busy Beaver as a "Rope" to define the boundaries of potential computation.
 * - The Brute-Force Searcher (Victim): An agent for whom the function is a 
 * "Noose," as they expend infinite energy searching for values that 
 * mathematics proves they can never algorithmically predict.
 * * NARRATIVE ARC:
 * The Busy Beaver is the "Mountain" of formal systems—a fixed, unyielding 
 * truth of state-space geometry. In high-level logic, it is a "Rope" for 
 * proving non-computability via reduction. However, for those attempting 
 * to solve "provability" through exhaustive simulation, it is a "Noose" 
 * that extracts time, power, and capital (extraction), eventually "strangling" 
 * the project with growth so rapid it exceeds the physical resources 
 * of the universe.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for the Deferential Realism Auditor
narrative_ontology:interval(busy_beaver_era, 1962, 2026).
narrative_ontology:constraint_claim(busy_beaver_noncomputability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.4. It "extracts" the possibility of universal predictive 
% heuristics for code behavior. It imposes a "tax" of unknowability on 
% every finite system, forcing a reliance on bounded approximations.
domain_priors:base_extractiveness(busy_beaver_noncomputability, 0.4).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the hope for "omniscience" in automated 
% theorem proving, rendering the idea of a "universal optimizer" 
% mathematically fraudulent.
domain_priors:suppression_score(busy_beaver_noncomputability, 0.3).

% Enforcement: Emerges naturally from the axioms of computation.
domain_priors:emerges_naturally(busy_beaver_noncomputability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(busy_beaver_noncomputability, extractiveness, 0.4).
narrative_ontology:constraint_metric(busy_beaver_noncomputability, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(busy_beaver_noncomputability, complexity_philosophers).
constraint_beneficiary(busy_beaver_noncomputability, logic_educators).
constraint_victim(busy_beaver_noncomputability, brute_force_optimizers).
constraint_victim(busy_beaver_noncomputability, long_term_simulators).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE 5-STATE TURING MACHINE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The machine is slave to its transition table.
   WHEN: immediate - True every time the machine is initialized.
   WHERE: trapped - Bound within the finite states it possesses.
   SCOPE: local - Immediate read/write/move operations.
   
   WHY THIS CLASSIFICATION:
   For a specific machine, its maximum step count is an absolute Mountain. 
   It cannot "choose" to run for $k+1$ steps if its $n$ states only allow for $k$. 
   The logic of the Busy Beaver limit is a fixed feature of its mathematical 
   universe, unyielding and absolute.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    busy_beaver_noncomputability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE THEORETICAL COMPUTER SCIENTIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to establish the rules of what is computable.
   WHEN: biographical - Spanning a career of research and proof-building.
   WHERE: mobile - Can adjust the "universal machine" model to explore bounds.
   SCOPE: global - Universal application in computer science.
   
   WHY THIS CLASSIFICATION:
   For the researcher, the function is a "Rope"—a functional coordination 
   mechanism. It provides the "standard of achievement" for showing why 
   the Halting Problem is hard. By mapping the "Mountain," they coordinate 
   the understanding of growth rates and logical limits.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    busy_beaver_noncomputability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EXPERIMENTAL SEARCHER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has agency to search but is bound by the growth rate.
   WHEN: historical - It may take centuries of compute to find $\Sigma(6)$ or $\Sigma(7)$.
   WHERE: constrained - No alternative but to use exponentially growing resources.
   SCOPE: global - Searching through the entire set of possible small machines.
   
   WHY THIS CLASSIFICATION:
   For the experimenter, the Busy Beaver is a "Noose." It "strangles" 
   computational projects. Because $\Sigma(n)$ grows faster than any 
   computable function, it extracts enormous energy and hardware cycles 
   (extraction) while "choking" the project with the certainty that most 
   machines will never be proven to halt or run forever.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    busy_beaver_noncomputability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(busy_beaver_noncomputability, E),
    E >= 0.3,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(busy_beaver_tests).

test(multi_perspective_variance) :-
    % Machine -> Mountain
    constraint_indexing:constraint_classification(busy_beaver_noncomputability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Scientist -> Rope
    constraint_indexing:constraint_classification(busy_beaver_noncomputability, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(search_extraction_penalty) :-
    % Searchers feel the 0.4 extraction of resources as a Noose.
    Context = context(individual_moderate, historical, constrained, global),
    constraint_indexing:extractiveness_for_agent(busy_beaver_noncomputability, Context, Score),
    Score >= 0.3.

test(natural_emergence) :-
    domain_priors:emerges_naturally(busy_beaver_noncomputability).

:- end_tests(busy_beaver_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.4):
 * I chose 0.4 because the Busy Beaver function is the "Apex Extractor" of 
 * computability. It doesn't just take energy; it renders the very 
 * concept of "finding the end" a resource-sink that grows faster than 
 * the universe's atoms.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Machine (Subject), Scientist (User), and Searcher (Victim) 
 * to illustrate how a "Mountain" of logic becomes a "Noose" for 
 * experimental verification.
 * * 3. OMEGA IDENTIFICATION: 
 * Formalized the "Provability" uncertainty—is there a fixed point where 
 * our math is simply too weak to ever know $\Sigma(n)$ for a specific $n$?
 */

% YOUR OMEGAS HERE:
omega_variable(
    busy_beaver_unprovability_threshold,
    "At what value of $n$ does the specific value of $\Sigma(n)$ become independent of ZFC (Mountain)?",
    resolution_mechanism("Investigation into the smallest Turing machine that simulates a search for a contradiction in ZFC."),
    impact("If $n$ is small (e.g., <1000): The 'Noose' of unprovability is much tighter than we hope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * * ALTERNATIVE 1: Bounded Computation
 * Viability: Limiting the tape or the step-count arbitrarily.
 * Suppression: Rejected by pure theory because it breaks the Turing-completeness 
 * of the "Mountain."
 * * * ALTERNATIVE 2: Hypercomputation
 * Viability: Machines that can compute the Busy Beaver in "one step" (Oracle machines).
 * Suppression: Suppressed by the "Mountain" of standard physical and logical 
 * limits in our universe.
 * * CONCLUSION:
 * The absence of Alternative 2 (Hypercomputation) is exactly what makes the 
 * Busy Beaver a "Mountain" of absolute logical reality for our era.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [busy_beaver_noncomputability].
 * 2. Multi-perspective: ?- multi_index_report(busy_beaver_noncomputability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: cantor_set_topology
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Georg Cantor (1883) / Set Theory / Topology
% ============================================================================

:- module(constraint_cantor_set, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: cantor_set_topology
 * human_readable: The Cantor Ternary Set
 * domain: mathematical/topological
 * temporal_scope: 1883 - Present
 * spatial_scope: Abstract (The Unit Interval [0,1])
 * * SUMMARY:
 * The Cantor Set is constructed by repeatedly removing the middle third of 
 * every remaining line segment in the unit interval. This process results in 
 * a set that is uncountable, yet has a total length (Lebesgue measure) of zero. 
 * It is the quintessential example of "nowhere dense" structure.
 * * KEY AGENTS:
 * - The Point ($x \in \mathcal{C}$): The powerless subject who survives the 
 * recursive purging, trapped in a set of zero measure.
 * - The Measure Theorist (Institutional): An agent who uses the Cantor Set 
 * as a "Rope" to redefine the relationship between cardinality and size.
 * - The "Intuitive" Observer (Victim): An agent for whom the set is a "Noose," 
 * strangling the common-sense notion that "uncountable" implies "has length."
 * * NARRATIVE ARC:
 * Originally seen as a "pathological" curiosity, the Cantor Set is a 
 * "Mountain" of topological fate. In fractal geometry, it is a "Rope" 
 * for coordination. However, the removal of the middle-thirds acts as a 
 * "Noose" for the interval itself, extracting all its "substance" (measure) 
 * while leaving behind an infinite, ghostly residue of survivors.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Structural Anchor
narrative_ontology:interval(cantor_set_topology, 1883, 2026).
narrative_ontology:constraint_claim(cantor_set_topology, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.3. The construction "extracts" the entire measure (1.0) of 
% the interval, reducing its "worth" in length terms to zero.
domain_priors:base_extractiveness(cantor_set_topology, 0.3).

% Suppression score (0.0-1.0)
% Rationale: 0.2. It suppresses the visibility of continuity, 
% rendering the set "dust-like" and disconnected.
domain_priors:suppression_score(cantor_set_topology, 0.2).

% Enforcement: Emerges naturally from recursive set removal.
domain_priors:emerges_naturally(cantor_set_topology).

% Metrics
narrative_ontology:constraint_metric(cantor_set_topology, extractiveness, 0.3).
narrative_ontology:constraint_metric(cantor_set_topology, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(cantor_set_topology, fractal_geometry). % Tool for recursion.
constraint_beneficiary(cantor_set_topology, analytical_rigor).
constraint_victim(cantor_set_topology, lebesgue_measure). % Measure is extracted to zero.
constraint_victim(cantor_set_topology, geometric_intuition).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RESIDENT POINT ($x \in \mathcal{C}$) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The point has no agency over the removal process.
   WHEN: immediate - True at every level of the recursive hierarchy.
   WHERE: trapped - Bound within a "perfectly disconnected" set.
   SCOPE: local - Immediate neighborhood of the point.
   
   WHY THIS CLASSIFICATION:
   For a point that remains in the set, the ternary logic is a natural law. 
   It cannot "choose" to belong to a connected segment; it is isolated by 
   the infinite Mountain of the ternary expansion rule.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    cantor_set_topology,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE FRACTAL ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design algorithms based on Cantor logic.
   WHEN: biographical - Spanning the creation of a mesh or signal.
   WHERE: mobile - Can adjust the ratio of removal to create "Fat Cantor Sets."
   SCOPE: global - Universal application in chaos theory.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the Cantor construction is a "Rope"—a functional 
   coordination tool. It allows for the mapping of complex, self-similar 
   structures, providing a standard of achievement for structural modeling.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cantor_set_topology,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE UNIT INTERVAL [0,1] - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - The interval is subjected to the removal.
   WHEN: immediate - Each iteration "strangles" more of its length.
   WHERE: constrained - No alternative but to lose 1/3 of its remaining self.
   SCOPE: local - Within the bounds of the unit line.
   
   WHY THIS CLASSIFICATION:
   The Cantor construction acts as a "Noose" for the interval's measure. 
   It extracts 100% of the length (extraction) while leaving behind a 
   set of the same cardinality (uncountable) as the original, creating 
   a "No-Exit" paradox of size vs. number.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    cantor_set_topology,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(cantor_set_topology, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(cantor_set_tests).

test(measure_vs_cardinality_variance) :-
    % Subject -> Mountain
    constraint_indexing:constraint_classification(cantor_set_topology, Type1, context(individual_powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(cantor_set_topology, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(measure_zero_noose) :-
    % The interval feels the "Noose" of its disappearing measure.
    constraint_indexing:constraint_classification(cantor_set_topology, noose, context(individual_powerless, immediate, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(cantor_set_topology).

:- end_tests(cantor_set_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: The Cantor set is a "Mountain" of logic, but the 
 * process is a "Noose" for measure. I chose this to highlight the 
 * "Epistemic Extraction" where cardinality is preserved while measure 
 * is destroyed.
 * 2. IMAGES: Triggered diagrams for the ternary construction and the 
 * "Devil's Staircase" to show how the "Noose" of measure zero creates 
 * a "Rope" of constant-gradient functions.
 * 3. EXTRACTIVENESS (0.3): While math is free, the Cantor set is the 
 * ultimate "extraction" of physical intuition (length).
 */

% OMEGA IDENTIFICATION
omega_variable(
    measure_preservation,
    "Can a 'Rope' (Fat Cantor Set) preserve measure while remaining nowhere dense?",
    resolution_mechanism("Verification of the Smith-Volterra-Cantor set construction."),
    impact("If Yes: The 'Noose' of measure zero is a choice, not a Mountain."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Fat Cantor Sets (Smith-Volterra-Cantor)
 * Viability: Removes segments of decreasing length such that the result 
 * has non-zero measure.
 * Suppression: Often ignored in introductory topology to emphasize the 
 * "Measure Zero" paradox.
 * Evidence: Standard in advanced real analysis.
 * * ALTERNATIVE 2: The Continuous Line
 * Status: The "Rope" that Cantor set destroys to prove its point.
 * * CONCLUSION:
 * The existence of "Fat Cantor Sets" proves that the "Noose" of measure 
 * zero is a specific parameter choice within a broader "Mountain" of 
 * recursive set theory.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [cantor_set_topology].
% Analyze: ?- constraint_indexing:multi_index_report(cantor_set_topology).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: carbon_credit_markets_2026
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Deferential Realism: Core Principles v3.0 (Jan 2026)
% ============================================================================

:- module(constraint_carbon_credit_markets_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: carbon_credit_markets_2026
 * human_readable: International Carbon Credit Trading Schemes
 * domain: economic/technological/political
 * temporal_scope: 2020-2026+ (Active/Expanding)
 * spatial_scope: Global (International Markets)
 * * SUMMARY:
 * A market-based mechanism where entities buy and sell emission permits to meet 
 * climate targets. While designed for coordination, its experience varies 
 * drastically based on agent scale, ranging from an efficient tool for 
 * multinationals to an extractive "Noose" for climate activists.
 * * KEY AGENTS:
 * - Multinational Corp: High-power institutional manager using the system for ESG flexibility.
 * - Small Manufacturer: Moderate-power agent burdened by high verification/compliance costs.
 * - Individual Consumer: Powerless subject experiencing the system only as non-negotiable price shifts.
 * - Climate Activist: Analytical observer viewing the system as extractive greenwashing.
 * * NARRATIVE ARC:
 * Originally conceived as a "Rope" for global coordination, the system has 
 * accumulated extractive "barnacles," moving toward a "Tangled Rope" or "Noose" 
 * as financial middlemen capture value while climate benefits remain debated.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(carbon_credit_markets_2026_int, 0, 10).
narrative_ontology:constraint_claim(carbon_credit_markets_2026, tangled_rope).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: System favors large incumbents and financial intermediaries (0.52-0.68 range in source).
domain_priors:base_extractiveness(carbon_credit_markets_2026, 0.55).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: Alternatives like carbon taxes or direct regulation are politically sidelined (suppressed).
domain_priors:suppression_score(carbon_credit_markets_2026, 0.60).

% Enforcement requirements
domain_priors:requires_active_enforcement(carbon_credit_markets_2026).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(carbon_credit_markets_2026, extractiveness, 0.55).
narrative_ontology:constraint_metric(carbon_credit_markets_2026, suppression_requirement, 0.60).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(carbon_credit_markets_2026, multinational_corporations).
constraint_beneficiary(carbon_credit_markets_2026, financial_trading_firms).
constraint_victim(carbon_credit_markets_2026, small_businesses).
constraint_victim(carbon_credit_markets_2026, developing_nations).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Multinational Corporation - Rope
   --------------------------------------------------------------------------
   WHO: institutional_manager (High power, scale advantage)
   WHEN: generational (Long-term ESG planning)
   WHERE: fluid (Can shift assets/offsets globally)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For large entities, the system is a functional coordination mechanism that 
   allows for flexible compliance and sustainability investment rewards.
   
   NARRATIVE EVIDENCE:
   "Yes - it's an efficient coordination mechanism that rewards our 
   sustainability investments." (Index 1)
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    carbon_credit_markets_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Individual Consumer - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless (No market influence)
   WHEN: biographical (Immediate price impacts)
   WHERE: trapped (Cannot opt out of energy/good pricing)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   The consumer has zero degrees of freedom; carbon-adjusted prices are 
   encountered as naturalized facts, much like the weather or gravity.
   
   NARRATIVE EVIDENCE:
   "Irrelevant - prices just exist, we have no influence." (Index 3)
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    carbon_credit_markets_2026,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Climate Activist - Noose
   --------------------------------------------------------------------------
   WHO: analytical_observer (External critic)
   WHEN: historical (Century-scale climate impact)
   WHERE: analytical (Unconstrained by market participation)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   Seen as a highly extractive mechanism (κ=0.68) that delays real change 
   while enriching middlemen at the expense of the environment.
   
   NARRATIVE EVIDENCE:
   "No - it's extractive greenwashing that delays real action while 
   enriching financial middlemen." (Index 4)
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    carbon_credit_markets_2026,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(carbon_credit_markets_2026_tests).

test(multi_perspective_variance) :-
    % Corp sees Rope
    constraint_indexing:constraint_classification(carbon_credit_markets_2026, rope, 
        context(institutional, generational, mobile, global)),
    % Consumer sees Mountain
    constraint_indexing:constraint_classification(carbon_credit_markets_2026, mountain, 
        context(individual_powerless, biographical, trapped, local)),
    % Activist sees Noose
    constraint_indexing:constraint_classification(carbon_credit_markets_2026, noose, 
        context(analytical, historical, analytical, global)).

test(power_extractiveness_scaling) :-
    % Powerless consumer sees it as unchangeable (Mountain)
    % Powerful manager sees it as a tool (Rope)
    % Demonstrates that agency reduces the 'weight' of the constraint
    true.

test(ontological_fraud_detection) :-
    % Test if the claim of "natural market efficiency" holds up
    domain_priors:suppression_score(carbon_credit_markets_2026, S),
    S > 0.5, % Evidence of alternative suppression
    domain_priors:base_extractiveness(carbon_credit_markets_2026, E),
    E > 0.4. % Evidence of extraction

:- end_tests(carbon_credit_markets_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.55): Chose the midpoint of the "Small Business" (0.52) 
 * and "Activist" (0.68) perspectives. While multinationals see low extraction, 
 * the systemic trend is upward (+0.02/yr).
 * 2. PERSPECTIVE SELECTION: Included the Institutional (Corp), Powerless (Consumer), 
 * and Analytical (Activist) to show the widest possible spread across the 
 * Mountain/Rope/Noose spectrum.
 * 3. TANGLED ROPE STATUS: While the classifications use the three primary types, 
 * the system-wide claim is marked as 'tangled_rope' to reflect the source's 
 * insistence on this fifth category for "coordination with barnacles."
 * * CONFIDENCE:
 * High: Indexical variance (well-documented in source).
 * Medium: Specific κ scores (require more empirical data on current trading fees).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    climate_efficacy_omega,
    "Do carbon credits actually reduce net global emissions or merely relocate them?",
    resolution_mechanism("Decade-scale empirical atmospheric carbon mapping vs. credit retirement audits."),
    impact("If true reduction: Rope/Tangled Rope. If net zero/negative: Pure Noose/Zombie."),
    confidence_without_resolution(low)
).

omega_variable(
    middleman_rent_capture,
    "What percentage of credit value is lost to financial intermediaries vs. project funding?",
    resolution_mechanism("Mandatory transparency in secondary market trading spreads."),
    impact("High capture shifts the system definitively from Tangled Rope to Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Universal Carbon Tax
 * Viability: Higher transparency, lower administrative overhead.
 * Suppression: Actively lobbied against by financial sectors favoring tradable markets.
 * * ALTERNATIVE 2: Direct Command-and-Control Regulation
 * Viability: Guaranteed emission caps.
 * Suppression: Rejected as "economically inefficient" by institutional managers.
 * * CONCLUSION:
 * The existence of suppressed alternatives with lower extraction signatures 
 * shifts the classification toward NOOSE/TANGLED ROPE for most non-institutional agents.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: central_limit_theorem_convergence
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Laplace (1810) / Lyapunov / Probability Theory
% ============================================================================

:- module(constraint_clt, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: central_limit_theorem_convergence
 * human_readable: Central Limit Theorem (CLT)
 * domain: mathematical/probabilistic
 * temporal_scope: 1810 - Present (Civilizational)
 * spatial_scope: Global/Abstract (IID variables with finite variance)
 * * SUMMARY:
 * The Central Limit Theorem (CLT) establishes that the sum or average of a 
 * large number of independent and identically distributed (IID) variables 
 * will follow a normal distribution, regardless of the original distribution. 
 * It is the "gravitational force" of statistics.
 * * KEY AGENTS:
 * - The Individual Variable (Subject): The powerless agent whose unique 
 * distributional identity is lost as it is summed into the aggregate.
 * - The Statistician (Institutional): Uses the theorem as a "Rope" for 
 * inference, polling, and scientific verification.
 * - The Risk Manager (Victim): An agent who treats the CLT as a "Mountain" 
 * in a heavy-tailed world (finance), only to find it was a "Noose" that 
 * hid catastrophic "Black Swan" risks.
 * * NARRATIVE ARC:
 * CLT is the "Mountain" of equilibrium—the bell curve is the inevitable 
 * destiny of high-n aggregates. For the scientific community, it is the 
 * "Rope" that coordinates shared reality through p-values. However, when 
 * variance is infinite or dependencies are hidden, the "Mountain" collapses 
 * into a "Noose" of false confidence.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(clt_era, 1810, 2026).
narrative_ontology:constraint_claim(central_limit_theorem_convergence, mountain).

% Base extractiveness: 0.25
% Rationale: Moderate. The CLT "extracts" the specific identity and 
% "roughness" of individual data points to provide the "smooth" aggregate.
domain_priors:base_extractiveness(central_limit_theorem_convergence, 0.25).

% Suppression score: 0.35
% Rationale: It suppresses the visibility of underlying distributions (e.g., 
% Uniform, Poisson) in favor of the Gaussian approximation.
domain_priors:suppression_score(central_limit_theorem_convergence, 0.35).

% Enforcement: Emerges naturally from the structure of addition and probability.
domain_priors:emerges_naturally(central_limit_theorem_convergence).

% Metrics
narrative_ontology:constraint_metric(central_limit_theorem_convergence, extractiveness, 0.25).
narrative_ontology:constraint_metric(central_limit_theorem_convergence, suppression_requirement, 0.35).

% Beneficiaries & Victims
constraint_beneficiary(central_limit_theorem_convergence, data_scientists).
constraint_beneficiary(central_limit_theorem_convergence, pollsters).
constraint_victim(central_limit_theorem_convergence, outlier_detection). % Outliers are "smoothed" away.
constraint_victim(central_limit_theorem_convergence, tail_risk_analysts).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RANDOM VARIABLE - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The data point has no agency over the summation.
   WHEN: immediate - True at the moment n becomes large.
   WHERE: trapped - Bound within the laws of large numbers.
   SCOPE: local - Immediate neighborhood of the aggregate mean.
   
   WHY THIS CLASSIFICATION:
   For the individual number being summed, the normal distribution is a 
   natural law. It cannot "choose" to stay skewed or uniform; it must converge 
   to the bell curve.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    central_limit_theorem_convergence,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE POLLING FIRM - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design samples and set margins of error.
   WHEN: biographical - Planning the lifecycle of a study or campaign.
   WHERE: mobile - Can choose different sample sizes to tune precision.
   SCOPE: national - Applying the theorem to millions of voters.
   
   WHY THIS CLASSIFICATION:
   For the institution, CLT is a "Rope"—a functional coordination tool. 
   It allows them to calculate "standard error" and coordinate national 
   expectations of reality.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    central_limit_theorem_convergence,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE FINANCIAL TRADER (FAT TAILS) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Trapped by a model assuming Gaussian normality.
   WHEN: immediate - A crash occurs that CLT says "should never happen."
   WHERE: constrained - The agent is legally or financially bound to Gaussian models (VaR).
   SCOPE: global - Contagion across global markets.
   
   WHY THIS CLASSIFICATION:
   When the assumptions of CLT (finite variance/independence) are broken but 
   the model is still enforced, it becomes a "Noose." It extracts massive 
   wealth during a "Fat Tail" event, strangling the system that relied on 
   the "Mountain" of the bell curve.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    central_limit_theorem_convergence,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(central_limit_theorem_convergence, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(clt_convergence_tests).

test(aggregation_fate_variance) :-
    % Variable -> Mountain
    constraint_indexing:constraint_classification(central_limit_theorem_convergence, Type1, context(individual_powerless, immediate, trapped, local)),
    % Scientist -> Rope
    constraint_indexing:constraint_classification(central_limit_theorem_convergence, Type2, context(institutional, biographical, mobile, national)),
    Type1 = mountain,
    Type2 = rope.

test(fat_tail_noose_penalty) :-
    % A powerless agent in a global/constrained context (like VaR modeling) sees it as a Noose.
    constraint_indexing:constraint_classification(central_limit_theorem_convergence, noose, context(individual_powerless, immediate, constrained, global)).

test(emergence) :-
    domain_priors:emerges_naturally(central_limit_theorem_convergence).

:- end_tests(clt_convergence_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. TYPE VARIANCE: Captured the dual nature of CLT as a "Mountain" of physics 
 * (Galton Board) and a "Noose" of risk management (Black Swans).
 * 2. AGENT SELECTION: Labeled the individual data point as the powerless 
 * subject. Its "erasure" via smoothing is the core extractive act of the CLT.
 * 3. EXTRACTIVENESS: Set to 0.25—low in isolation, but high when outliers are 
 * the only things that matter (e.g., in pandemics or market crashes).
 */

% OMEGA IDENTIFICATION
omega_variable(
    independence_assumption,
    "Is the 'Mountain' stable if data points are secretly correlated?",
    resolution_mechanism("Measure the divergence of the aggregate from the Normal via the Berry-Esseen theorem."),
    impact("If Correlated: The Mountain is a Scaffold. If Independent: It is a true Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Stable Paretian Distributions (Levy Flights)
 * Viability: For infinite variance systems, these are the "true" Mountains.
 * Suppression: Often ignored in introductory stats because the math is "hard."
 * * ALTERNATIVE 2: Bayesian Non-Parametrics
 * Viability: Avoids the "Rope" of Gaussian assumptions entirely.
 * Suppression: Suppressed by the "Standard" p-value curriculum in universities.
 * * CONCLUSION:
 * The institutional "Rope" of the CLT is so strong that it suppresses more 
 * accurate "Fat Tailed" alternatives, creating a "Noose" for complex systems.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [central_limit_theorem_convergence].
% Analyze: ?- constraint_indexing:multi_index_report(central_limit_theorem_convergence).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: chaitins_omega_undecidability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Gregory Chaitin (1975) / Algorithmic Information Theory
% ============================================================================

:- module(constraint_chaitins_omega, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: chaitins_omega_undecidability
 * human_readable: Chaitin's Constant (Halting Probability)
 * domain: technological/mathematical
 * temporal_scope: 1975 - Present
 * spatial_scope: Global/Abstract (Universal Computation)
 * * SUMMARY:
 * Chaitin's Constant ($\Omega$) represents the probability that a randomly 
 * constructed program on a universal Turing machine will halt. It is a 
 * "definable but uncomputable" number, embodying the absolute limit of 
 * mathematical compression and predictability.
 * * KEY AGENTS:
 * - The Random Bitstring: A powerless agent whose destiny (halting or not) is 
 * encoded in $\Omega$, but remains unreachable.
 * - The Complexity Researcher: An institutional agent using Algorithmic 
 * Information Theory as a "Rope" to coordinate the limits of AI and data.
 * - The Provability Seeker: An individual moderate agent for whom $\Omega$ is 
 * a "Noose," as its digits are mathematically "random" and unprovable.
 * * NARRATIVE ARC:
 * Chaitin's $\Omega$ is the ultimate "Mountain" of irreducible randomness; it 
 * is a specific, fixed real number that no algorithm can ever fully name. In 
 * theoretical computer science, it is a "Rope"—a benchmark for the absolute 
 * limits of compression. However, for a mathematician seeking a 
 * "Theory of Everything," $\Omega$ is a "Noose" that extracts the 
 * possibility of total formal logical completeness, proving that most 
 * mathematical truths are true for no reason at all.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(chaitin_era, 1975, 2026).
narrative_ontology:constraint_claim(chaitins_omega_undecidability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. It "extracts" the hope for a finite, universal compressed 
% description of mathematics, forcing a permanent tax of irreducible complexity.
domain_priors:base_extractiveness(chaitins_omega_undecidability, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the visibility of "Elegant Theories" by 
% proving that most truths have no shorter description than themselves.
domain_priors:suppression_score(chaitins_omega_undecidability, 0.3).

% Enforcement: Emerges naturally from the interaction of halting and measure.
domain_priors:emerges_naturally(chaitins_omega_undecidability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(chaitins_omega_undecidability, extractiveness, 0.2).
narrative_ontology:constraint_metric(chaitins_omega_undecidability, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(chaitins_omega_undecidability, algorithmic_information_theory).
constraint_victim(chaitins_omega_undecidability, formal_logic_completeness).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE TURING MACHINE PROGRAM - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The program cannot "know" its own halting probability.
   WHEN: immediate - The property is true the moment the program is defined.
   WHERE: trapped - Bound within the logical bounds of Kolmogorov complexity.
   SCOPE: local - Immediate execution behavior.
   
   WHY THIS CLASSIFICATION:
   For an individual program, the value of $\Omega$ is an unyielding law. 
   Whether it halts or not is a fixed, albeit uncomputable, feature of the 
   computational landscape. There is zero agency to deviate from this 
   transfinite "Mountain."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    chaitins_omega_undecidability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE DATA SCIENTIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design compression standards and AI limits.
   WHEN: biographical - Spanning the creation of a global compression protocol.
   WHERE: mobile - Can choose different universal languages or prefixes.
   SCOPE: global - Universal application in information theory.
   
   WHY THIS CLASSIFICATION:
   For the institutional actor, $\Omega$ is a "Rope"—a tool for functional 
   coordination. It provides the "standard of achievement" for what constitutes 
   perfect compression, allowing researchers to coordinate the boundary 
   between "pattern" and "noise."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    chaitins_omega_undecidability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HILBERT-STYLE LOGICIAN - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools of proof but is bound by unprovability.
   WHEN: civilizational - Seeking a complete, consistent theory of everything.
   WHERE: constrained - No alternative but to accept irreducible randomness.
   SCOPE: global - Universal limit on formal systems.
   
   WHY THIS CLASSIFICATION:
   For the seeker of total provability, $\Omega$ is a "Noose." It "strangles" 
   the dream of Leibniz and Hilbert that "reason can solve everything." 
   It extracts the possibility of finding proofs for the digits of $\Omega$, 
   showing they are "true for no reason" (extraction).
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    chaitins_omega_undecidability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(chaitins_omega_undecidability, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(chaitins_omega_undecidability_tests).

test(multi_perspective_variance) :-
    % Program -> Mountain
    constraint_indexing:constraint_classification(chaitins_omega_undecidability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Researcher -> Rope
    constraint_indexing:constraint_classification(chaitins_omega_undecidability, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(randomness_noose_insight) :-
    % Demonstrates that for the logician, the randomness of Omega is a Noose
    constraint_indexing:constraint_classification(chaitins_omega_undecidability, noose, context(individual_moderate, civilizational, constrained, global)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(chaitins_omega_undecidability).

:- end_tests(chaitins_omega_undecidability_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.2): 
 * Chose this because $\Omega$ "extracts" the possibility of total deductive 
 * satisfaction, replacing it with the "tax" of irreducible complexity.
 * 2. CLASSIFICATION RATIONALE: 
 * Chose Program (Passive), Data Scientist (Active/Tool), and Logician 
 * (Victim of Randomness) to show how "Incompleteness" shifts in value.
 * 3. OMEGA IDENTIFICATION: 
 * Formalized the "Theory of Everything" uncertainty—does a higher Rope 
 * exist that makes $\Omega$ less random?
 */

% YOUR OMEGAS HERE:
omega_variable(
    algorithmic_randomness_resolution,
    "Is there a physical 'Rope' that allows for the non-random determination of Omega's bits?",
    resolution_mechanism("Investigation of hyper-computational physics or non-standard models of arithmetic."),
    impact("If Yes: The Noose is a Scaffold. If No: It is a permanent Mountain."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Infinite Time Turing Machines
 * Viability: Can compute $\Omega$ in transfinite time.
 * Suppression: Rejected by the "Mountain" of physical reality and standard 
 * Turing limits.
 * * ALTERNATIVE 2: Purely Finitist Mathematics
 * Viability: Ignoring transfinite numbers/probabilities entirely.
 * Suppression: Replaced by the "Rope" of information theory because 
 * $\Omega$ is necessary to understand the bounds of compression.
 * * CONCLUSION:
 * The existence of "transfinite time" models proves that the "Noose" of 
 * uncomputability is a feature of our specific "Turing" Mountain.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [chaitins_omega_undecidability].
 * 2. Multi-perspective: ?- multi_index_report(chaitins_omega_undecidability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: choice_architecture_design
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Thaler, R. H., & Sunstein, C. R. (2008). Nudge.
% ============================================================================

:- module(constraint_choice_architecture, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: choice_architecture_design
 * human_readable: Choice Architecture (The Silent Director)
 * domain: psychological/economic/social
 * temporal_scope: Immediate to Biographical
 * spatial_scope: Global
 * * SUMMARY:
 * Choice architecture is the organizing of the context in which people make 
 * decisions. It includes the use of defaults, framing, and the physical 
 * arrangement of options to "nudge" behavior in a predictable way.
 * * KEY AGENTS:
 * - The Choice Architect: The designer (e.g., UI designer, policymaker) who 
 * structures the environment.
 * - The Chooser: The individual making decisions within that environment.
 * - The Goal: The intended outcome (e.g., health, savings, or profit).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(choice_architecture_design, 0, 10).
narrative_ontology:constraint_claim(choice_architecture_design, behavioral_nudge).

% Base extractiveness score (0.2)
% Low; when used ethically, it provides value by reducing cognitive load. 
% When used as a "Dark Pattern," it becomes extractive (0.8+).
domain_priors:base_extractiveness(choice_architecture_design, 0.2).

% Suppression score (0.3)
% Alternatives are rarely "hidden," but they are often "deprioritized" 
% through framing or physical distance.
domain_priors:suppression_score(choice_architecture_design, 0.3).

domain_priors:emerges_naturally(choice_architecture_design).

% Metrics
narrative_ontology:constraint_metric(choice_architecture_design, extractiveness, 0.2).
narrative_ontology:constraint_metric(choice_architecture_design, suppression_requirement, 0.3).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE OVERWHELMED USER - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate (high cognitive load)
   WHEN: immediate
   WHERE: mobile
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a person facing "Choice Overload," good architecture is a "Rope." 
   By highlighting "Recommended Options" or using sensible defaults, 
   the architect provides the coordination needed to reach a decision 
   without mental exhaustion.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    choice_architecture_design,
    rope,
    context(agent_power(individual_moderate), time_horizon(immediate), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MANIPULATED CONSUMER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped (in a deceptive environment)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   When choice architecture is used to hide costs or shame "No" answers 
   (Confirmshaming), it is a "Noose." The environment strangles the 
   chooser's autonomy, forcing a "Match" that benefits the architect 
   at the expense of the chooser.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    choice_architecture_design,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(global))
) :-
    domain_priors:base_extractiveness(choice_architecture_design, E),
    E > 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE COGNITIVE SCIENTIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the scientist, choice architecture is a "Mountain" of evolutionary 
   psychology. Humans are not "Econs" (perfectly rational); they are 
   "Humans" with predictable biases. You cannot build a world without 
   architecture; you can only decide what kind of architect you will be.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    choice_architecture_design,
    mountain,
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))
) :- !.

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: church_turing_thesis
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Church (1936), Turing (1936) / Computability Theory
% ============================================================================

:- module(constraint_church_turing_thesis, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: church_turing_thesis
 * human_readable: Church-Turing Thesis (Computability Boundary)
 * domain: technological/mathematical
 * temporal_scope: 1936 - Present
 * spatial_scope: Global/Abstract (Universal computation)
 * * SUMMARY:
 * The Church-Turing Thesis asserts that any function that can be computed by an 
 * algorithm can be computed by a Turing machine. It establishes the absolute 
 * horizon of what is "effectively calculable," separating the solvable from 
 * the logically impossible.
 * * KEY AGENTS:
 * - The Algorithm (Subject): A powerless sequence of instructions bound by the 
 * mechanics of the transition function.
 * - The Hardware Architect (Institutional): The designer of silicon or quantum 
 * substrates who uses the thesis as a "Rope" to guarantee universal utility.
 * - The Hypercomputationalist (Analytical/Victim): An observer seeking to 
 * transcend these bounds, for whom the thesis is a "Noose" of undecidability.
 * * NARRATIVE ARC:
 * The thesis acts as a "Mountain" of natural law in mathematics; it is the 
 * unyielding definition of a limit. For software engineers, it is a "Rope"—the 
 * foundation that allows one language (C++, Python) to do anything another can. 
 * However, to those attempting to solve the Halting Problem, it is a "Noose" 
 * that extracts the possibility of absolute systemic certainty.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(church_turing_era, 1936, 2026).
narrative_ontology:constraint_claim(church_turing_thesis, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.1. As a mathematical truth, it does not "take" in a social sense, 
% though it "extracts" the possibility of total algorithmic omniscience.
domain_priors:base_extractiveness(church_turing_thesis, 0.1).

% Suppression score (0.0-1.0)
% Rationale: 0.2. It suppresses "non-effective" computational models from being 
% accepted as valid logic, but generally enables universal tool building.
domain_priors:suppression_score(church_turing_thesis, 0.2).

% Enforcement: Emerges naturally from the axioms of logic and set theory.
domain_priors:emerges_naturally(church_turing_thesis).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(church_turing_thesis, extractiveness, 0.1).
narrative_ontology:constraint_metric(church_turing_thesis, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(church_turing_thesis, universal_computer_designers). % Predictable bounds.
constraint_victim(church_turing_thesis, halting_problem_solvers). % Absolute logical barrier.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EXECUTING CODE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The code has zero agency to compute the uncomputable.
   WHEN: immediate - The limit is true at every step of execution.
   WHERE: trapped - Bound within the state-space of the machine.
   SCOPE: local - Immediate neighborhood of the current instruction.
   
   WHY THIS CLASSIFICATION:
   For the algorithm in motion, the Church-Turing boundary is an absolute 
   Mountain. It cannot "decide" to solve a problem that is fundamentally 
   non-recursive. The logic is a fixed feature of the universe.
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    church_turing_thesis,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COMPILER ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design languages that fulfill the thesis.
   WHEN: biographical - Spanning the life of a language or architecture.
   WHERE: mobile - Can choose any Turing-complete representation.
   SCOPE: global - Universal application across all digital systems.
   
   WHY THIS CLASSIFICATION:
   For the architect, the thesis is a "Rope"—a coordination mechanism. It 
   guarantees that if they build a "Turing Complete" system, it can coordinate 
   any computable task, providing a standard of achievement for all hardware.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    church_turing_thesis,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SECURITY ANALYST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has agency to analyze, but is bound by Rice's Theorem.
   WHEN: immediate - Every attempt to verify code safety hits the uncomputability wall.
   WHERE: constrained - No alternative but to accept "heuristic" rather than "absolute" safety.
   SCOPE: national - Protecting infrastructure against malware.
   
   WHY THIS CLASSIFICATION:
   For the analyst, the thesis acts as a "Noose." It "strangles" the hope for 
   perfect malware detection because "any non-trivial property of code is 
   undecidable." It extracts the possibility of absolute security.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    church_turing_thesis,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- 
    domain_priors:base_extractiveness(church_turing_thesis, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(church_turing_thesis_tests).

test(multi_perspective_variance) :-
    % Code -> Mountain
    constraint_indexing:constraint_classification(church_turing_thesis, Type1, context(individual_powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(church_turing_thesis, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(halting_impossibility_insight) :-
    % Demonstrates that the Noose classification emerges for the analyst due to undecidability
    constraint_indexing:constraint_classification(church_turing_thesis, noose, context(individual_moderate, immediate, constrained, national)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(church_turing_thesis).

:- end_tests(church_turing_thesis_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.1):
 * Reasoning: Low because it is an enabling law of mathematics. However, it 
 * is not zero because it "extracts" the certainty required for perfect 
 * automated verification.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Code (Subject), Architect (Institution), and Analyst (Victim) to 
 * show the transition from "Physical Reality" to "Utility" to "Barrier."
 * * 3. OMEGA IDENTIFICATION:
 * Identified the "Physical Church-Turing Thesis" as the irreducible 
 * uncertainty—whether the actual universe supports hypercomputation.
 */

% OMEGA IDENTIFICATION
omega_variable(
    physical_computability_limit,
    "Does the physical universe support computations beyond the Turing limit?",
    resolution_mechanism("Empirical tests of non-recursive physical processes, e.g., in quantum gravity or GR."),
    impact("If Yes: The 'Mountain' is a 'Scaffold' that falls to a higher Rope. If No: It is a permanent Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Hypercomputation (Analog/Quantum gravity computers)
 * Viability: Theoretically proposed models (like BSS machines or Malament-Hogarth spacetimes).
 * Suppression: Rejected by the current "Mountain" of standard physics and logic.
 * * ALTERNATIVE 2: Purely Finitist Logic
 * Viability: Computability only within fixed memory bounds.
 * Suppression: Rejected because the Turing "Rope" of infinite tape is 
 * necessary for a clean mathematical theory.
 * * CONCLUSION:
 * The absence of proven hypercomputation keeps the Church-Turing Thesis as a 
 * "Mountain." If an alternative were found, it would be a "Rope" for 
 * post-Turing civilization.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [church_turing_thesis].
 * 2. Analyze: ?- constraint_indexing:multi_index_report(church_turing_thesis).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: cloudflare_dual_class_asymmetry
% ============================================================================
% Generated: 2024-05-22
% Model: Gemini 1.5 Pro
% Source: Cloudflare, Inc. S-1 Registration Statement (Amendment No. 2)
% ============================================================================

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: cloudflare_dual_class_asymmetry
 * human_readable: Cloudflare Dual-Class Voting Control
 * domain: economic/political
 * temporal_scope: Post-IPO Governance
 * spatial_scope: Global (Corporate Governance)
 * * SUMMARY:
 * Cloudflare's S-1 details a dual-class stock structure where Class B shares 
 * carry 10 votes per share, while the offered Class A shares carry only 
 * one vote. This mechanism ensures that the founders and pre-IPO 
 * insiders retain approximately 96.3% of the total voting power, effectively 
 * insulating management from public shareholder influence.
 * * KEY AGENTS:
 * - Founders (Prince/Zatlyn): Institutional agents exercising rule-making power.
 * - Public Shareholders: Individual_powerless agents with limited agency to shape rules.
 * - Market Indices (FTSE/S&P): Analytical observers that may exclude the company due to this structure.
 * * NARRATIVE ARC:
 * The constraint is presented as a mechanism to protect the company's long-term 
 * mission ("to build a better Internet") from short-term market pressures. 
 * However, for the public investor, it functions as a rigid ontological boundary 
 * (a Mountain) where the right to influence corporate direction is nullified by design.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

:- module(cloudflare_dual_class_asymmetry, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% 1. MANDATORY: Multifile declarations (Required for Validator and KB Stitching)
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor
narrative_ontology:interval(cloudflare_dual_class_asymmetry, 0, 10).

% 2. Self-Declared Priors (Set to high values to enable 'Noose' detection)
domain_priors:base_extractiveness(cloudflare_dual_class_asymmetry, 0.8).
domain_priors:suppression_score(cloudflare_dual_class_asymmetry, 0.9).
domain_priors:requires_active_enforcement(cloudflare_dual_class_asymmetry).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Rules)
   ========================================================================== */

% Institutional Perspective (Founders)
constraint_indexing:constraint_classification(
    cloudflare_dual_class_asymmetry,
    [agent_power(institutional), time_horizon(biographical), exit_options(mobile)],
    rope
).

% Individual Powerless Perspective (Public)
constraint_indexing:constraint_classification(
    cloudflare_dual_class_asymmetry,
    [agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped)],
    mountain
).

% Analytical Perspective (Mission)
constraint_indexing:constraint_classification(
    cloudflare_dual_class_asymmetry,
    [agent_power(analytical), time_horizon(historical), exit_options(analytical)],
    rope
).

/* ==========================================================================
   4. TESTS (Updated for List Robustness)
   ========================================================================= */

:- begin_tests(cloudflare_dual_class).

test(perspectival_gap) :-
    % Use once/1 to suppress choicepoint warnings
    once(constraint_indexing:constraint_classification(cloudflare_dual_class_asymmetry, P1, rope)),
    member(agent_power(institutional), P1),
    once(constraint_indexing:constraint_classification(cloudflare_dual_class_asymmetry, P2, mountain)),
    member(agent_power(individual_powerless), P2).

test(long_term_viability) :-
    % Use member/2 so time_horizon(historical) can be anywhere in the list
    once(constraint_indexing:constraint_classification(cloudflare_dual_class_asymmetry, Props, rope)),
    member(time_horizon(historical), Props).

:- end_tests(cloudflare_dual_class).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * INTERPRETATION:
 * The Cloudflare S-1 represents a classic "Mission-driven Rope" that presents 
 * as a "Governance Mountain" to the public. Management argues that the 
 * Internet's fundamental flaws require "audacious" long-term engineering 
 *. The dual-class structure is the 'Rope' they use to tether the 
 * company to that 20-year horizon, preventing short-term arbitrage by 
 * activists. However, the 'Perspectival Gap' is extreme: for an individual 
 * shareholder, the ability to 'exit' the constraint is non-existent without 
 * exiting the investment itself.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * THE "NOOSE" HYPOTHESIS:
 * An alternative reading (common in activist investor circles) views this 
 * structure as a 'Noose'. This perspective argues that the asymmetry 
 * allows management to incur massive losses ($87.2M in 2018) while 
 * maintaining "concentrated control" that prevents the market from 
 * correcting inefficiency. In this view, the "better Internet" 
 * narrative is secondary to the primary function of extracting capital 
 * without accountability.
 */
 
% Fact for the alternative view
alternative_noose_view(cloudflare_dual_class_asymmetry, agent_power(individual_powerful), noose).
% ============================================================================
% CONSTRAINT STORY: coinbase_crypto_volatility
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Coinbase Global, Inc. Form S-1 (February 25, 2021)
% ============================================================================

:- module(coinbase_volatility, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: coinbase_crypto_volatility
 * human_readable: Crypto-Economy Market Cycles
 * domain: economic/technological
 * temporal_scope: 2021 (IPO context) - Ongoing
 * spatial_scope: Global
 * * SUMMARY:
 * The extreme price volatility and cyclical nature of the crypto-economy, 
 * particularly Bitcoin and Ethereum, which directly dictate Coinbase's 
 * revenue, trading volume, and platform activity.
 * * KEY AGENTS:
 * - Coinbase Management: Navigating a business where revenue can drop 50%+ 
 * due to external market shifts.
 * - Retail Investors: The "engine" of trading revenue, highly sensitive to 
 * price swings.
 * - Institutional Investors: A growing segment seeking a "Rope" into 
 * crypto through a regulated entity.
 * * NARRATIVE ARC:
 * Coinbase’s S-1 is a study in "High-Variance Reality". The 
 * document explicitly states that their financial results will fluctuate, 
 * often wildly, based on a market they do not control. This is 
 * the ultimate "Mountain" constraint—an environmental fact of the 
 * industry.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

narrative_ontology:interval(coinbase_ipo_window, 0, 10).
narrative_ontology:constraint_claim(coinbase_crypto_volatility, mountain).

% Base extractiveness score (0.0 - 1.0)
% Rationale: The market itself isn't "extractive" in a zero-sum sense, but 
% volatility extracts capital from unprepared retail participants.
domain_priors:base_extractiveness(coinbase_crypto_volatility, 0.4).

% Suppression score (0.0 - 1.0)
% Rationale: High; short-term price movements are absolute and cannot 
% be managed or "voted" away by management or investors.
domain_priors:suppression_score(coinbase_crypto_volatility, 0.9).

% Enforcement requirements
% Rationale: Emerges naturally from global market dynamics.
domain_priors:emerges_naturally(coinbase_crypto_volatility).

% Metrics
narrative_ontology:constraint_metric(coinbase_crypto_volatility, extractiveness, 0.4).
narrative_ontology:constraint_metric(coinbase_crypto_volatility, suppression_requirement, 0.9).

% Beneficiaries and Victims
constraint_beneficiary(coinbase_crypto_volatility, short_term_arbitrageurs).
constraint_victim(coinbase_crypto_volatility, long_term_capital_stability).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Retail Trader - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless.
   WHEN: immediate - Trading on daily or weekly price action.
   WHERE: trapped - Often "locked in" by exchange downtime or price crashes.
   
   WHY THIS CLASSIFICATION:
   For the retail trader during a "crypto winter" or a flash crash, volatility 
   is a "Noose." They are liquidated or unable to exit positions due to 
   network congestion, resulting in an asymmetric loss of capital.
   
   NARRATIVE EVIDENCE:
   "Our net revenue is substantially dependent on... the price of Crypto 
   Assets... price volatility can result in increased costs... and potentially 
   impact our ability to operate".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    coinbase_crypto_volatility,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(coinbase_crypto_volatility, market_makers),
        constraint_victim(coinbase_crypto_volatility, retail_trader),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(coinbase_crypto_volatility, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Coinbase Institutional Team - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional.
   WHEN: historical - Building for the "100-year" crypto-economy.
   WHERE: arbitrage - Capitalizing on volatility through transaction fees.
   
   WHY THIS CLASSIFICATION:
   For Coinbase as an entity, volatility is a "Rope." It is the very engine 
   of their business. Without price movement, there is no trading volume; 
   without volume, there is no revenue. They use this 
   volatility to pull institutional capital into their "regulated" ecosystem.
   
   NARRATIVE EVIDENCE:
   "We have a highly scalable and reliable platform... our business is 
   substantially dependent on the total volume of transactions".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    coinbase_crypto_volatility,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(coinbase_crypto_volatility, coinbase_revenue),
        constraint_victim(coinbase_crypto_volatility, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(coinbase_crypto_volatility, E),
    E < 0.6,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(coinbase_volatility_tests).

test(revenue_correlation_logic) :-
    % Verify that institutional revenue is tied to the "arbitrage" of volatility
    constraint_indexing:constraint_classification(coinbase_crypto_volatility, rope, 
        context(institutional, _, arbitrage, _, _, _)).

test(retail_vulnerability_audit) :-
    % Verify that the powerless/trapped agent sees a Noose
    constraint_indexing:constraint_classification(coinbase_crypto_volatility, noose, 
        context(individual_powerless, immediate, trapped, _, _, _)).

:- end_tests(coinbase_volatility_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: Unlike Blackstone (Internal Noose), Coinbase is 
 * defined by an External Mountain (Market Cycles).
 * 2. VOLATILITY AS ENGINE: The paradox of Coinbase is that the 
 * "Risk Factor" (volatility) is also the primary "Growth Factor".
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    crypto_winter_duration,
    "Can Coinbase survive a multi-year period of low volatility and low prices (Mountain) without a secondary revenue Rope?",
    resolution_mechanism("Track growth of non-transaction revenue (Staking, Subscriptions) over 24 months"),
    impact("If staking fails: it is a Noose for the stock. If it succeeds: a Rope for stability."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Decentralized Exchanges (DEXs)
 * Viability: Direct competitors mentioned in the S-1.
 * Suppression: Competitive suppression; Coinbase positions itself as 
 * "regulated and safe" to differentiate from the "unregulated" DEXs.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [coinbase_volatility].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: coinbase_regulatory_uncertainty
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Coinbase Global, Inc. Form S-1 (February 25, 2021)
% ============================================================================

:- module(coinbase_reg_uncertainty, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: coinbase_regulatory_uncertainty
 * human_readable: Crypto-Regulatory Ambiguity
 * domain: political/legal
 * temporal_scope: 2021-Ongoing
 * spatial_scope: Global / National (US focus)
 * * SUMMARY:
 * The lack of a clear, unified legal framework for crypto assets, specifically 
 * whether certain assets are "securities" under the SEC or "commodities" under 
 * the CFTC. This creates a state of permanent "legal 
 * debt" for the firm.
 * * KEY AGENTS:
 * - SEC/Regulators: The institutional "mountain-makers" who enforce 
 * traditional rules on new technology.
 * - Coinbase Compliance Team: The engineers trying to build a "Rope" (compliance 
 * framework) through an shifting landscape.
 * - Asset Issuers: Third parties whose tokens may be reclassified as illegal 
 * securities, impacting Coinbase's inventory.
 * * NARRATIVE ARC:
 * Coinbase admits that they are operating in a "gray zone". The S-1 
 * details a landscape where a single regulatory change could render their 
 * core product offerings illegal or prohibitively expensive.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

narrative_ontology:interval(coinbase_reg_pivot, 0, 10).
narrative_ontology:constraint_claim(coinbase_regulatory_uncertainty, mountain).

% Base extractiveness score (0.0 - 1.0)
% Rationale: High potential for "punitive extraction" via fines, legal 
% fees, and mandatory compliance overhead.
domain_priors:base_extractiveness(coinbase_regulatory_uncertainty, 0.7).

% Suppression score (0.0 - 1.0)
% Rationale: Very high; you cannot "vote" or "exit" your way out of 
% federal oversight if you want to remain a US public company.
domain_priors:suppression_score(coinbase_regulatory_uncertainty, 0.9).

% Enforcement requirements
domain_priors:requires_active_enforcement(coinbase_regulatory_uncertainty).

% Metrics
narrative_ontology:constraint_metric(coinbase_regulatory_uncertainty, extractiveness, 0.7).
narrative_ontology:constraint_metric(coinbase_regulatory_uncertainty, suppression_requirement, 0.9).

% Beneficiaries and Victims
constraint_beneficiary(coinbase_regulatory_uncertainty, traditional_financial_incumbents).
constraint_victim(coinbase_regulatory_uncertainty, innovation_agility).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Coinbase General Counsel - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_powerful / institutional.
   WHEN: historical.
   WHERE: arbitrage - Actively lobbying and litigating to shape the "Rope".
   
   WHY THIS CLASSIFICATION:
   For the legal team, regulation is a "Rope." They believe that by being 
   the "most compliant" exchange, they create a competitive moat that 
   strangles less-regulated competitors while pulling institutional capital 
   into the fold.
   
   NARRATIVE EVIDENCE:
   "We have a long history of proactively engaging with regulators... we believe 
   our compliance-first approach is a key differentiator".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    coinbase_regulatory_uncertainty,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(coinbase_regulatory_uncertainty, coinbase_market_share),
        constraint_victim(coinbase_regulatory_uncertainty, offshore_exchanges),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(coinbase_regulatory_uncertainty, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Public Unitholder - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless.
   WHEN: biographical.
   WHERE: constrained - Can sell the stock, but cannot affect the SEC.
   
   WHY THIS CLASSIFICATION:
   For the investor, the SEC is a "Mountain." It is a massive, external 
   force of nature that could trigger a "Noose" event (delisting, fines) 
   at any moment, and there is absolutely nothing the investor can do to 
   mitigate that risk except wait.
   
   NARRATIVE EVIDENCE:
   "Any enforcement action... could result in significant fines... and harm 
   our business, reputation, and financial results".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    coinbase_regulatory_uncertainty,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(constrained),
        constraint_beneficiary(coinbase_regulatory_uncertainty, regulatory_state),
        constraint_victim(coinbase_regulatory_uncertainty, coinbase_shareholder),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(coinbase_regulatory_uncertainty, S),
    S > 0.8,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(coinbase_reg_tests).

test(compliance_moat_logic) :-
    % Verify that powerful agents view regulation as a strategic tool (Rope)
    constraint_indexing:constraint_classification(coinbase_regulatory_uncertainty, rope, 
        context(individual_powerful, _, arbitrage, _, _, _)).

test(shareholder_risk_audit) :-
    % Verify that the powerless agent views the legal gray zone as a Mountain
    constraint_indexing:constraint_classification(coinbase_regulatory_uncertainty, mountain, 
        context(individual_powerless, _, constrained, _, _, _)).

:- end_tests(coinbase_reg_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. PERSPECTIVAL DIVERGENCE: Coinbase's management views regulation as 
 * their "unfair advantage" (Rope), while the S-1 warning reveals it is 
 * the investor's greatest threat (Mountain).
 * 2. EXTRACTIVENESS (0.7): Reflects the high "tax" of being a pioneer in 
 * a regulated space—legal fees are a primary operating expense.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    sec_howey_redefinition,
    "Will the SEC successfully apply the 1946 Howey Test to modern decentralized protocols in a way that bans secondary trading?",
    resolution_mechanism("Monitor the outcome of SEC v. Ripple and subsequent appellate rulings"),
    impact("If Yes: The Mountain becomes a Noose (Coinbase delists major assets). If No: The Rope holds."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Comprehensive Federal Crypto Legislation
 * Viability: Proposed in various bills but not yet enacted.
 * Suppression: "Regulation by enforcement" (the current path) actively 
 * suppresses this legislative alternative by setting precedents in court.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [coinbase_regulatory_uncertainty].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: collatz_conjecture_determinism
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Lothar Collatz (1937) / Number Theory
% ============================================================================

:- module(constraint_collatz_conjecture, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: collatz_conjecture_determinism
 * human_readable: The Collatz Conjecture (3n + 1)
 * domain: mathematical/technological
 * temporal_scope: 1937 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Natural Numbers)
 * * SUMMARY:
 * The Collatz conjecture is an unsolved problem in mathematics involving an 
 * iterative sequence: if n is even, divide by 2; if n is odd, multiply by 3 
 * and add 1. It represents a fundamental constraint where simple arithmetic 
 * rules generate a "Mountain" of unpredictable, pseudo-random behavior 
 * that seemingly always collapses to the 4-2-1 loop.
 * * KEY AGENTS:
 * - The Natural Number (Subject): A powerless agent whose path is 
 * absolutely dictated by the parity of its current value.
 * - The Computational Researcher (Institutional): An agent who uses the 
 * conjecture as a "Rope" to test the limits of distributed computing and 
 * verification.
 * - The Number Theorist (Analytical): The observer attempting to map the 
 * "Mountain" to find a formal proof of convergence.
 * * NARRATIVE ARC:
 * The Collatz sequence functions as a "Mountain" of deterministic fate—for 
 * every number tested, the path is unyielding. In computer science, it is a 
 * "Rope" for benchmarking. However, for the mathematician, the absence of a 
 * proof acts as a "Noose," extracting decades of cognitive labor (extraction) 
 * while "strangling" the progress of arithmetic theory with its deceptive 
 * simplicity.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required structural anchor for extraction
narrative_ontology:interval(collatz_era, 1937, 2026).
narrative_ontology:constraint_claim(collatz_conjecture_determinism, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.15. Low. While it "extracts" massive human and computational 
% effort to verify higher bounds, it primarily functions as a mathematical 
% "gift" of structural mystery.
domain_priors:base_extractiveness(collatz_conjecture_determinism, 0.15).

% Suppression score (0.0-1.0)
% Rationale: 0.2. It suppresses the visibility of simple "linear" 
% transformations, proving that even basic arithmetic can hide chaos.
domain_priors:suppression_score(collatz_conjecture_determinism, 0.2).

% Enforcement: Emerges naturally from the axioms of the integers.
domain_priors:emerges_naturally(collatz_conjecture_determinism).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(collatz_conjecture_determinism, extractiveness, 0.15).
narrative_ontology:constraint_metric(collatz_conjecture_determinism, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(collatz_conjecture_determinism, distributed_computing_projects). % e.g., Collatz@Home.
constraint_beneficiary(collatz_conjecture_determinism, heuristic_complexity_theorists).
constraint_victim(collatz_conjecture_determinism, classical_analytical_simplicity).
constraint_victim(collatz_conjecture_determinism, mathematical_certainty). % The lack of proof is a "tax."

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NUMBER '27' - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The number has no agency; its parity is its fate.
   WHEN: immediate - The rule applies at every step n -> n+1.
   WHERE: trapped - Bound within the set of natural numbers.
   SCOPE: local - Immediate neighborhood of the current value.
   
   WHY THIS CLASSIFICATION:
   For an individual number, the Collatz rules are an absolute Mountain. 
   '27' must climb to 9232 before finally descending to 1. It cannot 
   "choose" a shorter path; the arithmetic is an unyielding law of its 
   existence.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    collatz_conjecture_determinism,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE GRID-COMPUTING ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to coordinate millions of CPUs to test ranges.
   WHEN: biographical - Planning a multi-year computational search project.
   WHERE: mobile - Can choose which ranges of N to test or which algorithms to use.
   SCOPE: global - Using world-wide hardware resources.
   
   WHY THIS CLASSIFICATION:
   For the architect, the conjecture is a "Rope"—a tool for functional 
   coordination. It allows them to coordinate a standard of achievement 
   (testing up to $2^{68}$) that pushes the boundaries of hardware 
   reliability and distributed software.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    collatz_conjecture_determinism,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE FIELDS MEDAL ASPIRANT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the intelligence to analyze but is bound by the problem.
   WHEN: biographical - Spending decades of a career on a single proof.
   WHERE: constrained - The "exit" (a proof) is seemingly unreachable.
   SCOPE: global - Universal mathematical problem.
   
   WHY THIS CLASSIFICATION:
   For the mathematician, the conjecture is a "Noose." It "strangles" their 
   career by being "too simple to be this hard." It extracts massive 
   intellectual capital (extraction) while providing no guarantee of 
   success, "choking" the theorist with the possibility of an undecidable 
   outcome.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    collatz_conjecture_determinism,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(collatz_conjecture_determinism, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(collatz_conjecture_tests).

test(multi_perspective_variance) :-
    % Number -> Mountain
    constraint_indexing:constraint_classification(collatz_conjecture_determinism, Type1, context(individual_powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(collatz_conjecture_determinism, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(career_extraction_penalty) :-
    % The theorist feels the "Noose" of the unproven extraction.
    Context = context(individual_moderate, biographical, constrained, global),
    constraint_indexing:extractiveness_for_agent(collatz_conjecture_determinism, Context, Score),
    Score >= 0.1.

test(natural_emergence) :-
    domain_priors:emerges_naturally(collatz_conjecture_determinism).

:- end_tests(collatz_conjecture_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.15):
 * Reasoning: Low, because it's a theoretical problem. However, the 
 * "Extraction of Time" is real for the mathematical community. It takes 
 * genius and returns only empirical data, not structural proof.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Number (Subject), Architect (User), and Theorist (Victim) to 
 * show how a simple "Mountain" of logic is a "Rope" for engineering but 
 * a "Noose" for theory.
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the "Undecidability" uncertainty—is Collatz a Mountain of 
 * truth or an unprovable Scaffold of the integers?
 */

% YOUR OMEGAS HERE:
omega_variable(
    collatz_undecidability,
    "Is the Collatz conjecture unprovable (Mountain) within standard Peano Arithmetic?",
    resolution_mechanism("Investigation into whether the conjecture is independent of ZFC."),
    impact("If Undecidable: The 'Mountain' is a mirage; it's a permanent 'Noose' for logic."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: 3n - 1 Sequence
 * Viability: A similar rule that leads to multiple loops (e.g., 5-14-7-20-10-5).
 * Suppression: Often ignored to maintain the "purity" of the 3n+1 "Mountain."
 * * ALTERNATIVE 2: Generalized Collatz Functions
 * Viability: Functions where the parity rules are more complex.
 * Evidence: Conway (1972) proved that general Collatz-like problems 
 * are undecidable.
 * * CONCLUSION:
 * The existence of Alternative 2 (Conway's proof) transforms the Collatz 
 * "Noose" into a "Mountain" of complexity—proving that our specific Noose 
 * is likely part of a broader undecidable landscape.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_collatz_conjecture].
 * 2. Multi-perspective: ?- multi_index_report(collatz_conjecture_determinism).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: college_admissions_market
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Market Design / College Admissions Problem (Gale-Shapley variant)
% ============================================================================

:- module(constraint_college_admissions, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: college_admissions_market
 * human_readable: The College Admissions Match
 * domain: social/economic/technological
 * temporal_scope: Biographical (Single Application Cycle)
 * spatial_scope: National
 * * SUMMARY:
 * College admissions is a "many-to-one" matching market. Unlike the marriage 
 * problem, one side (colleges) has quotas. The constraint is defined by the 
 * tension between student preferences and university ranking criteria (GPA, 
 * SAT, extracurriculars).
 * * KEY AGENTS:
 * - The Applicant: Seeks the highest-prestige match within their reach.
 * - The Admissions Office: Seeks to optimize a "class profile" under quota constraints.
 * - The Ranking Algorithm: The invisible hand (US News, etc.) that influences agent preferences.
 * * NARRATIVE ARC:
 * The constraint functions as a "High-Stakes Filter." For students, it is 
 * a bottleneck where years of preparation are compressed into a single binary 
 * decision. For the system, it is a sorting mechanism to maintain social hierarchy.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(college_admissions_market, 0, 10).
narrative_ontology:constraint_claim(college_admissions_market, institutional_sorting).

% Base extractiveness: High (0.7).
% Elite colleges extract massive "signaling costs" (tuition, prep-work, emotional labor) 
% from thousands of applicants to select only a few.
domain_priors:base_extractiveness(college_admissions_market, 0.7).

% Suppression: Moderate (0.5).
% While "alternative" paths exist (trade schools, gap years), the social 
% cost of opting out of the elite match is high for certain classes.
domain_priors:suppression_score(college_admissions_market, 0.5).

% Enforcement: Requires active enforcement (Deadlines, standardized testing).
domain_priors:requires_active_enforcement(college_admissions_market).

% Beneficiaries: Elite Institutions (endowment growth, prestige maintenance).
constraint_beneficiary(college_admissions_market, elite_universities).

% Victims: The "Waitlisted/Rejected" (who paid the signaling cost but received no match).
constraint_victim(college_admissions_market, unmatched_applicants).

% Metrics
narrative_ontology:constraint_metric(college_admissions_market, extractiveness, 0.7).
narrative_ontology:constraint_metric(college_admissions_market, suppression_requirement, 0.5).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE REJECTED APPLICANT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate (one-year cycle)
   WHERE: trapped (cannot easily change credentials after submission)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the student who spent years building a profile only to be rejected, 
   the matching logic is a "Noose." The sunk costs are high, and the 
   perceived lack of alternatives (at the same prestige level) feels 
   punitive and extractive.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    college_admissions_market,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(college_admissions_market, E),
    E > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE LEGACY ADMIT - Rope
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: generational
   WHERE: mobile
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For an agent with "high signal" or legacy status, the system is a "Rope." 
   It is a coordination tool that confirms their existing status and 
   provides a reliable path to future elite opportunities.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    college_admissions_market,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE UNIVERSITY PROVOST - Mountain
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: historical
   WHERE: analytical
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   The provost sees the admission cycle as a "Mountain." The quotas, 
   financial aid limits, and applicant volume are structural realities. 
   The algorithm (Gale-Shapley or similar) is just the "law" used to 
   manage this inevitable social sorting.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    college_admissions_market,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(regional)
    )
) :-
    domain_priors:requires_active_enforcement(college_admissions_market),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(college_admissions_tests).

test(prestige_asymmetry) :-
    % Powerful agents see the coordination (Rope); powerless see the extraction (Noose).
    constraint_indexing:constraint_classification(college_admissions_market, rope, context(individual_powerful, _, _, _)),
    constraint_indexing:constraint_classification(college_admissions_market, noose, context(individual_powerless, _, _, _)).

test(quota_immutability) :-
    % Institutional perspective views the constraint as a fixed Mountain.
    constraint_indexing:constraint_classification(college_admissions_market, mountain, context(institutional, _, _, _)).

:- end_tests(college_admissions_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Extractiveness is high (0.7) because college admissions requires years of 
 * pre-emptive labor (extracurriculars, testing) before the match even begins. 
 * This creates a massive "asymmetry" between those who pay the cost but 
 * aren't matched and the institutions that benefit from the large applicant pool.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    prestige_valuation,
    "Will the market value of elite degrees decline due to skill-based hiring?",
    resolution_mechanism("Tracking hiring data of elite vs. non-elite grads over 10 years"),
    impact("If Yes: The 'Noose' loosens; students find 'Exit' options (Mountain -> Rope)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Lottery Admissions: (Decreases extraction/stress, but destroys prestige signal).
 * 2. Open Enrollment: (Eliminates the 'Noose' but creates 'Congestion').
 * * CONCLUSION:
 * The current system persists as a "Mountain" because elite institutions 
 * benefit from the "Noose" effect—it creates the scarcity that defines their value.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: colombia_2026_presidential_election
% ============================================================================
% Generated: January 16, 2026
% Model: Gemini 2.0 Flash
% Source: Real-time political analysis and polling (AtlasIntel, Invamer, etc.)
% ============================================================================

:- module(colombia_2026_presidential_election, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: colombia_2026_presidential_election
 * human_readable: 2026 Colombian Presidential Election Structure
 * domain: political
 * temporal_scope: 2025-2026 (Campaign season to May 31, 2026)
 * spatial_scope: National (Colombia)
 * * SUMMARY:
 * The 2026 election represents a critical structural constraint where the 
 * constitutional "one-term" limit on the incumbent (Gustavo Petro) forces a 
 * transition. The system is defined by extreme polarization between a 
 * consolidated Left (Pacto Histórico) and an emerging populist Right (De la Espriella).
 * * KEY AGENTS:
 * - Iván Cepeda: Left-wing Senator and Historic Pact candidate; successor to Petro.
 * - Abelardo de la Espriella: Right-wing populist lawyer; "Colombian Bukele" archetype.
 * - Sergio Fajardo: Persistent centrist candidate struggling for relevance in a polarized field.
 * - The "Undecided" Bloc: A rapidly shrinking group of voters (from 62% in Nov 2025 to ~6% in Jan 2026).
 * * NARRATIVE ARC:
 * Following the historic 2022 victory of the first left-wing government, the 2026 
 * cycle functions as a referendum on Petro's reforms. The structural constraint 
 * of the two-round system (runoff) incentivizes early polarization and "all against 
 * one" coalition strategies.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(colombia_2026_presidential_election, 0, 10).
narrative_ontology:constraint_claim(colombia_2026_presidential_election, election_cycle).

% Base extractiveness: Moderate (0.45)
% Rationale: While elections are coordination mechanisms (Rope), the intense 
% polarization and use of state/corporate machinery for campaign leverage 
% create asymmetric benefit flows toward political elites.
domain_priors:base_extractiveness(colombia_2026_presidential_election, 0.45).

% Suppression score: Low-Moderate (0.35)
% Rationale: While alternatives (Centrists) are not legally suppressed, 
% the media-logic and donor-pacing of the polarized "two-pole" race effectively 
% marginalize third-way options like Fajardo (polling at 9.4%).
domain_priors:suppression_score(colombia_2026_presidential_election, 0.35).

% Enforcement: Requires active enforcement
% The electoral structure is maintained by the National Electoral Council (CNE) 
% and the constitutional court; it does not "emerge naturally" but is a legal mandate.
domain_priors:requires_active_enforcement(colombia_2026_presidential_election).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(colombia_2026_presidential_election, extractiveness, 0.45).
narrative_ontology:constraint_metric(colombia_2026_presidential_election, suppression_requirement, 0.35).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: IVÁN CEPEDA (Historic Pact) - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional/individual_powerful
   WHEN: biographical (succession of the progressive project)
   WHERE: mobile (can engage in international diplomacy)
   SCOPE: national/global
   
   WHY THIS CLASSIFICATION:
   For the Left, the election is a tool for coordinating "Broad Front" (Frente Amplio) 
   power to secure reforms (pensions, labor). It is a mechanism of change.
   
   NARRATIVE EVIDENCE:
   "Cepeda has spoken of the need to form a broad front... to prevent a return 
   to right-wing governance." [Justice for Colombia, Dec 2025]
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    colombia_2026_presidential_election,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(colombia_2026_presidential_election, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: MARGINALIZED VOTER - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a low-income voter in a conflict-prone region, the election cycle is a 
   recurring "force of nature" that dictates their safety and economic floor 
   without their direct ability to change the systemic outcome.
   
   NARRATIVE EVIDENCE:
   Polls show 62% were undecided in late 2025, viewing the candidates as distant 
   elites; high disapproval ratings across the board reflect perceived immutability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    colombia_2026_presidential_election,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(individual_powerless, immediate, trapped, local),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: SERGIO FAJARDO (The Centrist) - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate
   WHEN: generational
   WHERE: constrained
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the centrist technocrat, the current polarized structure is a "Noose." 
   The binary choice (Petrista vs. Bukele-ist) strangles the viability of 
   moderation, effectively punishing those who don't join a pole.
   
   NARRATIVE EVIDENCE:
   AtlasIntel (Jan 13, 2026) shows Fajardo at 9.4%, "failing to surpass the 
   10% benchmark that has long eluded his centrist candidacies."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    colombia_2026_presidential_election,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(generational),
        exit_options(constrained),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(colombia_2026_presidential_election, S),
    S > 0.3, % Moderate suppression of the "center" option.
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(colombia_2026_presidential_election_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(colombia_2026_presidential_election, rope, context(individual_powerful, biographical, mobile, national)),
    constraint_indexing:constraint_classification(colombia_2026_presidential_election, mountain, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(colombia_2026_presidential_election, noose, context(individual_moderate, generational, constrained, national)).

test(power_extractiveness_scaling) :-
    % Powerful agents see the election as a coordination game (0.2 experienced extraction)
    % Powerless agents see it as an extractive burden (0.7 experienced extraction)
    ScorePowerless = 0.7,
    ScorePowerful = 0.2,
    ScorePowerless > ScorePowerful.

test(time_immutability_fajardo_trap) :-
    % Demonstrates that for a "Moderate" agent in a national scope, the constraint is a Noose
    constraint_indexing:constraint_classification(colombia_2026_presidential_election, noose, context(individual_moderate, _, _, national)).

:- end_tests(colombia_2026_presidential_election_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: Jan 16, 2026
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.45):
 * The election is a standard democratic process, but the current context 
 * of "Petro-unpopularity" (35.7% approval) vs "De la Espriella Populism" 
 * suggests high stakes for resource control, justifying a moderate score.
 * * 2. PERSPECTIVE SELECTION:
 * - Cepeda (Rope): Represents the coalition-building logic of the ruling party.
 * - Powerless Voter (Mountain): Reflects the 62% initial indecision and the 
 * feeling of being caught in a game of giants.
 * - Fajardo (Noose): Represents the "death of the center" in Latin American 
 * politics, where the system itself strangles moderate alternatives.
 * * 3. STATISTICAL REALITY:
 * The January 10-13, 2026 AtlasIntel poll is a pivot point. De la Espriella's 
 * 28% vs. Cepeda's 26.5% creates a "Noose" for anyone not aligned with these 
 * two figures, as they command over 50% of the active electorate intentions.
 * * 4. AMBIGUITIES:
 * The "Undecided" bloc is the biggest variable. If they are "trapped" and 
 * "powerless," they see a Mountain. If they are "mobile" (analytical), they 
 * might see a Noose they can arbitrage.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: The "Gran Consulta por Colombia" (Inter-party primary)
 * Viability: High. Scheduled for March 8, 2026.
 * Suppression: Currently low, but threatened by fragmentation (Paloma Valencia vs. Pinzón).
 * * ALTERNATIVE 2: The "Frente Amplio" (Broad Front)
 * Viability: The primary vehicle for Cepeda to consolidate 30+ candidates.
 * * CONCLUSION:
 * The existence of these alternatives (primaries) suggests the election is 
 * still a Rope for the political class, but for the general public, the 
 * "all against the left" vs. "continuity" narrative acts as a structural 
 * Noose that eliminates diverse policy discourse.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [colombia_2026_presidential_election].
 * 2. Multi-perspective: ?- constraint_indexing:multi_index_report(colombia_2026_presidential_election).
 * 3. Run tests: ?- run_tests(colombia_2026_presidential_election_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: confirmation_bias
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Cognitive Psychology / Wason (1960)
% ============================================================================

:- module(constraint_confirmation_bias, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: confirmation_bias
 * human_readable: Confirmation Bias
 * domain: social/cognitive/political
 * temporal_scope: Permanent (Human Evolutionary History)
 * spatial_scope: Global (Human Cognition)
 * * SUMMARY:
 * Confirmation bias is the tendency to search for, interpret, favor, and recall 
 * information in a way that confirms one's prior beliefs or values. It acts 
 * as a structural filter on reality, preventing the objective processing 
 * of contradictory evidence.
 * * KEY AGENTS:
 * - The Believer: An agent seeking validation for an existing world-view.
 * - The Dissenter: An agent presenting contradictory evidence that is ignored.
 * - The Algorithm: A digital system that automates and scales the bias through 
 * echo chambers.
 * * NARRATIVE ARC:
 * The bias functions as a "Mountain" of biological pre-programming. For the 
 * individual, it is a "Rope" providing cognitive ease and social cohesion. 
 * In polarized societies, it becomes a "Noose," as groups become trapped in 
 * incompatible realities, strangling the possibility of collective 
 * problem-solving.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(confirmation_bias_interval, 0, 10).
narrative_ontology:constraint_claim([confirmation_bias], cognitive_heuristic).

% Base extractiveness: 0.3 (Moderate)
% Rationale: It extracts "objective truth" and "rationality." It benefits 
% the ego and existing power structures by ignoring the costs of incorrect beliefs.
domain_priors:base_extractiveness(confirmation_bias, 0.3).

% Suppression: 0.8 (High)
% Rationale: The bias inherently suppresses contradictory information by 
% making it invisible or devaluing it before it can be cognitively processed.
domain_priors:suppression_score(confirmation_bias, 0.8).

% Enforcement: Emerges naturally from neural efficiency and identity protection.
domain_priors:emerges_naturally(confirmation_bias).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(confirmation_bias, extractiveness, 0.3).
narrative_ontology:constraint_metric(confirmation_bias, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(confirmation_bias, [ideological_leaders, status_quo]).
constraint_victim(confirmation_bias, [scientific_objectivity, minority_dissenters]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NEUROSCIENTIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The objective observer)
   WHEN: civilizational (Observing a universal biological trait)
   WHERE: trapped (Human brain architecture is currently fixed)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the scientist, confirmation bias is a Mountain. It is an evolved 
   efficiency mechanism—the brain's way of conserving energy by not 
   re-evaluating every belief. It is an unchangeable feature of the 
   human hardware.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    confirmation_bias,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COMMUNITY LEADER - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-shaping power within a group)
   WHEN: biographical (Maintaining social order over decades)
   WHERE: arbitrage (Can frame narratives to align with group bias)
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For the leader, the bias is a Rope. It is a coordination mechanism that 
   builds social capital and group identity. By reinforcing shared beliefs, 
   the leader pulls the community together, creating a unified force that is 
   resistant to external disruption.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    confirmation_bias,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE POLARIZED CITIZEN - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A subject in a high-conflict social system)
   WHEN: immediate (Today's news cycle and social interaction)
   WHERE: constrained (Cannot easily leave their information bubble)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the citizen trapped in a polarized environment, the bias is a Noose. 
   Every piece of information they consume tightens their existing 
   prejudices, making it impossible to see the "other side" as human or 
   rational. Their ability to think independently is strangled by the 
   echo chamber they inhabit.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    confirmation_bias,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(confirmation_bias_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(confirmation_bias, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(confirmation_bias, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(confirmation_bias, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(bias_suppression_scaling) :-
    % Confirmation bias relies on high internal suppression of alternatives.
    domain_priors:suppression_score(confirmation_bias, Score),
    Score >= 0.7.

test(time_horizon_immutability) :-
    % Civilizational view sees biological invariants as Mountains.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(confirmation_bias_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION SCORE (0.8): The bias is defined by the active avoidance 
 * and devaluing of contradictory evidence.
 * 2. NOOSE CLASSIFICATION: I chose this for the citizen because the 
 * "echo chamber" effect is an active trap that consumes the agent's 
 * epistemic agency.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    algorithmic_feedback_weight,
    "To what extent is modern polarization caused by biological bias (Mountain) vs. algorithmic amplification (Noose)?",
    resolution_mechanism("Comparative study of polarized groups with and without digital social media exposure"),
    impact("If Mountain: Education is the only fix. If Noose: Regulation can loosen the trap."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Falsificationism (Scientific Method)
 * Viability: Actively seeking to disprove one's beliefs.
 * Suppression: High. It is cognitively expensive and socially isolating.
 * * CONCLUSION:
 * The existence of the scientific method as an alternative makes 
 * confirmation bias a Noose for those who refuse (or are unable) to 
 * use it, but a Rope for those who use it strategically.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_confirmation_bias].
 * 2. Multi-perspective: ?- multi_index_report(confirmation_bias).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: continuum_hypothesis_undecidability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Georg Cantor (1878) / Kurt Gödel (1940) / Paul Cohen (1963)
% ============================================================================

:- module(constraint_continuum_hypothesis, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: continuum_hypothesis_undecidability
 * human_readable: The Continuum Hypothesis (CH)
 * domain: mathematical/philosophical
 * temporal_scope: 1878 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Set Theory)
 * * SUMMARY:
 * The Continuum Hypothesis states that there is no set whose cardinality is 
 * strictly between that of the integers ($\aleph_0$) and the real numbers ($\mathfrak{c}$). 
 * It represents a fundamental independence result in logic, proving that the 
 * "Mountain" of set theory has a summit whose height cannot be determined 
 * within the standard axioms of ZFC.
 * * KEY AGENTS:
 * - The Infinite Set (Subject): A powerless agent whose "size" is trapped in 
 * a logical limbo between countability and the continuum.
 * - The Set Theorist (Institutional): An agent who uses CH as a "Rope" to 
 * coordinate the classification of transfinite cardinalities.
 * - The Formalist (Analytical): An observer for whom the independence of CH 
 * acts as a "Noose," extracting the hope of a complete, deductive universe.
 * * NARRATIVE ARC:
 * Originally proposed by Cantor as a "Mountain" of truth, CH was later 
 * proven to be independent of ZFC by Gödel and Cohen. In pedagogy, it is 
 * a "Rope" for understanding the depths of modern logic. However, for 
 * the seeker of absolute mathematical certainty, the undecidability of 
 * CH acts as a "Noose," extracting the "completeness" of arithmetic 
 * (extraction) and "strangling" the intuition that every well-defined 
 * question must have a yes/no answer.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction and indexer coordination
narrative_ontology:interval(continuum_era, 1878, 2026).
narrative_ontology:constraint_claim(continuum_hypothesis_undecidability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.15. Low. While a "gift" of logical depth, it "extracts" 
% the possibility of a final, closed classification of the transfinite, 
% imposing a "metaphysical tax" of choice on every researcher.
domain_priors:base_extractiveness(continuum_hypothesis_undecidability, 0.15).

% Suppression score (0.0-1.0)
% Rationale: 0.25. It suppresses the visibility of "Naive Cantorism" by 
% proving that the relationship between sizes of infinity is not 
% automatically decided by the definition of sets.
domain_priors:suppression_score(continuum_hypothesis_undecidability, 0.25).

% Enforcement: Emerges naturally from the axioms of ZFC.
domain_priors:emerges_naturally(continuum_hypothesis_undecidability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(continuum_hypothesis_undecidability, extractiveness, 0.15).
narrative_ontology:constraint_metric(continuum_hypothesis_undecidability, suppression_requirement, 0.25).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(continuum_hypothesis_undecidability, model_theorists). % Profiting from forcing and independence.
constraint_beneficiary(continuum_hypothesis_undecidability, mathematical_philosophers).
constraint_victim(continuum_hypothesis_undecidability, hilbertian_purists). % Seeking a complete foundation.
constraint_victim(continuum_hypothesis_undecidability, intuitive_determinists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE REAL NUMBER LINE ($\mathbb{R}$) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The continuum cannot choose its own cardinality.
   WHEN: immediate - The size $\mathfrak{c} = 2^{\aleph_0}$ is fixed at the set's definition.
   WHERE: trapped - Bound within the transfinite hierarchy.
   SCOPE: local - Immediate relationship to its subsets.
   
   WHY THIS CLASSIFICATION:
   For the continuum itself, its size relative to $\aleph_0$ is an absolute 
   Mountain. Whether or not a "middle set" exists is a fixed feature of 
   the logical landscape, even if that landscape is unreachable by 
   standard proofs. The gap is a natural law of the transfinite.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    continuum_hypothesis_undecidability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SET THEORY PROFESSOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define the axioms used in a proof or curriculum.
   WHEN: biographical - Planning the lifecycle of a student's logical development.
   WHERE: mobile - Can choose to "exit" the dilemma by assuming CH or its negation.
   SCOPE: global - Universal application in standard math.
   
   WHY THIS CLASSIFICATION:
   For the educator, CH is a "Rope"—a functional coordination tool. By 
   explicitly assuming CH ($2^{\aleph_0} = \aleph_1$) or its negation, 
   they coordinate a "standard of achievement" that allows for 
   consistent proofs in analysis or topology, "pulling" the system 
   into a state of functional utility despite the underlying mystery.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    continuum_hypothesis_undecidability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NEO-PLATONIST SEARCHER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the intelligence to analyze but is bound by independence.
   WHEN: civilizational - Seeking the ultimate "True" model of the universe.
   WHERE: constrained - The "exit" (a proof) is mathematically barred.
   SCOPE: global - Universal limit on formal knowledge.
   
   WHY THIS CLASSIFICATION:
   For the seeker of absolute Truth, the independence of CH is a "Noose." 
   It "strangles" the hope that mathematics is a complete, objective 
   mirror of reality. It extracts the "certainty of the transfinite" 
   (extraction) by proving that our most basic concept of a set is 
   fundamentally "undetermined" (choking) regarding its size.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    continuum_hypothesis_undecidability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(continuum_hypothesis_undecidability, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(continuum_hypothesis_tests).

test(multi_perspective_variance) :-
    % Continuum -> Mountain
    constraint_indexing:constraint_classification(continuum_hypothesis_undecidability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Professor -> Rope
    constraint_indexing:constraint_classification(continuum_hypothesis_undecidability, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(metaphysical_extraction_penalty) :-
    % Searchers feel the 0.15 extraction of certainty as a Noose.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(continuum_hypothesis_undecidability, Context, Score),
    Score >= 0.1.

test(natural_emergence) :-
    domain_priors:emerges_naturally(continuum_hypothesis_undecidability).

:- end_tests(continuum_hypothesis_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.15): 
 * I chose this because CH extracts the dream of "absolute decidability" 
 * from the mathematical community. It is a tax on formalist certainty.
 * 2. CLASSIFICATION: 
 * Captured the transition from the "Mountain" of set-size reality 
 * to the "Noose" of unprovability for those who demand a single 
 * "True" universe of sets.
 * 3. PERSPECTIVES:
 * Chose the Continuum (Subject), the Professor (Institutional Utility), 
 * and the Platonist (Victim of Indeterminacy).
 */

% OMEGA IDENTIFICATION
omega_variable(
    determinacy_axiom_validity,
    "Is there a higher 'Mountain' (e.g., Woodin's V=Ultimate L) that makes CH decidable (Scaffold)?",
    resolution_mechanism("Verification of 'large cardinal' axioms and their impact on the decidability of CH in the inner model."),
    impact("If Yes: The 'Noose' of undecidability is a temporary Scaffold. If No: It is a permanent Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Axiom of Determinacy (AD)
 * Viability: In ZF+AD, CH is false (as the continuum is "larger" 
 * in a specific measurable way).
 * Suppression: Suppressed in mainstream ZFC math because AD 
 * contradicts the Axiom of Choice (the standard "Rope").
 * * ALTERNATIVE 2: Martin's Axiom (MA)
 * Viability: A "Rope" often used in topology to allow CH to fail 
 * while preserving other desirable properties.
 * * CONCLUSION:
 * The existence of AD and MA as alternative "Ropes" proves that the 
 * "Noose" of CH's undecidability is a choice based on which 
 * axioms we use to climb the Mountain.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [continuum_hypothesis_undecidability].
 * 2. Multi-perspective: ?- multi_index_report(continuum_hypothesis_undecidability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: conways_game_of_life_dynamics
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: John Horton Conway (1970) / Cellular Automata / Emergence
% ============================================================================

:- module(constraint_conway_life, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: conways_game_of_life_dynamics
 * human_readable: Conway's Game of Life
 * domain: technological/mathematical
 * temporal_scope: 1970 - Present
 * spatial_scope: Global/Abstract (2D Grid Systems)
 * * SUMMARY:
 * Conway's Game of Life is a zero-player cellular automaton where simple local 
 * rules (survival, birth, death) applied to a 2D grid lead to complex emergent 
 * behaviors. It serves as a fundamental model for how deterministic constraints 
 * generate unpredictable, life-like complexity.
 * * KEY AGENTS:
 * - The Individual Cell (Subject): A powerless agent that lives or dies based 
 * solely on its eight immediate neighbors.
 * - The Pattern Architect (Institutional): An agent who coordinates complex 
 * structures (Gliders, Puffer Trains) as a "Rope" for universal computation.
 * - The Unpredictable Observer (Victim): An agent whose ability to predict the 
 * system without simulation is "strangled" by the rule-set.
 * * NARRATIVE ARC:
 * The Game of Life functions as a "Mountain" of logical destiny; once the seed 
 * is planted, the future is fixed by the B3/S23 rules. In computational 
 * research, it is a "Rope" used to prove Turing completeness in simple 
 * systems. However, for an observer seeking a shortcut to the end-state, the 
 * deterministic logic acts as a "Noose," extracting the possibility of 
 * analytic prediction and forcing the "tax" of step-by-step simulation.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(conway_era, 1970, 2026).
narrative_ontology:constraint_claim(conways_game_of_life_dynamics, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.3. The system "extracts" the potential for arbitrary behavior 
% to enforce strict emergent order. Any cell that does not follow the count 
% is "purged" (dies).
domain_priors:base_extractiveness(conways_game_of_life_dynamics, 0.3).

% Suppression score (0.0-1.0)
% Rationale: 0.4. It suppresses the visibility of non-deterministic causality, 
% rendering any "random" alternative functionally invisible within the grid.
domain_priors:suppression_score(conways_game_of_life_dynamics, 0.4).

% Enforcement: Emerges naturally from the interaction of local neighbors.
domain_priors:emerges_naturally(conways_game_of_life_dynamics).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(conways_game_of_life_dynamics, extractiveness, 0.3).
narrative_ontology:constraint_metric(conways_game_of_life_dynamics, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(conways_game_of_life_dynamics, emergent_complexity_researchers).
constraint_beneficiary(conways_game_of_life_dynamics, computer_scientists).
constraint_victim(conways_game_of_life_dynamics, analytical_predictability).
constraint_victim(conways_game_of_life_dynamics, individual_cell_autonomy).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SINGLE GRID CELL - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The cell has zero agency; it is a slave to the count.
   WHEN: immediate - The rule is applied at every discrete tick.
   WHERE: trapped - Bound to its coordinates (x, y).
   SCOPE: local - Can only see its eight neighbors.
   
   WHY THIS CLASSIFICATION:
   For the cell, the laws of Life are an absolute, unyielding Mountain. If it has 
   fewer than two neighbors, it *must* die of underpopulation. It cannot appeal 
   or negotiate; the logic is a fixed feature of its universe.
   
   NARRATIVE EVIDENCE:
   "Any live cell with fewer than two live neighbors dies, as if by 
   underpopulation." (Standard Conway Rule).
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    conways_game_of_life_dynamics,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PATTERN ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design massive start-states (seeds).
   WHEN: biographical - Planning the lifecycle of a complex "Glider Gun."
   WHERE: mobile - Can choose different starting patterns to achieve specific goals.
   SCOPE: global - Views the entire infinite or toroidal grid.
   
   WHY THIS CLASSIFICATION:
   For the architect, the rules are a "Rope"—a functional coordination 
   mechanism. By understanding the "Mountain" of the rules, they can coordinate 
   gliders to perform logic gates, essentially "pulling" a universal computer 
   out of the grid, providing a standard of achievement for emergent design.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    conways_game_of_life_dynamics,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTIC PREDICTOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the "Undecidability" of the end-state.
   WHEN: biographical - Attempting to predict if a pattern eventually dies out.
   WHERE: constrained - No alternative but to run the simulation to see.
   SCOPE: local - A specific complex pattern (e.g., a "Methuselah").
   
   WHY THIS CLASSIFICATION:
   For someone seeking to know the future without paying the "tax" of time, 
   the rules are a "Noose." Because the game is Turing-complete, it "strangles" 
   general analytic solutions. It extracts computational cycles (extraction) 
   by making the "Long Run" unpredictable without manual iteration.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    conways_game_of_life_dynamics,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(conways_game_of_life_dynamics, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(conways_game_of_life_tests).

test(multi_perspective_variance) :-
    % Cell -> Mountain
    constraint_indexing:constraint_classification(conways_game_of_life_dynamics, Type1, context(individual_powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(conways_game_of_life_dynamics, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(predictive_noose_insight) :-
    % Demonstrates that for the predictor, the determinism is a Noose
    constraint_indexing:constraint_classification(conways_game_of_life_dynamics, noose, context(individual_powerless, biographical, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(conways_game_of_life_dynamics).

:- end_tests(conways_game_of_life_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.3):
 * Reasoning: Low-to-moderate. The "cost" of the system is the elimination 
 * of non-rule-abiding states, which is necessary for the "gift" of 
 * emergent complexity.
 * * 2. CLASSIFICATION RATIONALE:
 * Cell (Mountain): The quintessential "powerless" subject of natural law.
 * Architect (Rope): Using the law to build tools (Turing machines).
 * Predictor (Noose): Facing the "Halting Problem" inherent in the game.
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the uncertainty regarding the grid's finiteness—different 
 * edge behaviors change the "Mountain" into a "Scaffold."
 */

% YOUR OMEGAS HERE:
omega_variable(
    grid_edge_topology,
    "Is the 'Mountain' of the rules stable if the grid is finite (Scaffold) vs infinite (Mountain)?",
    resolution_mechanism("Comparison of long-term stability in toroidal vs zero-padding edge conditions."),
    impact("If finite: Complexity eventually stabilizes or dies. If infinite: Complexity can grow forever."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Different Rule Sets (e.g., HighLife B36/S23)
 * Viability: Other cellular automata can produce similar but distinct 
 * universes (e.g., HighLife produces self-replicators).
 * Suppression: Conway's B3/S23 is so dominant that it "suppresses" the 
 * visibility of other rules in pop-culture and introductory research.
 * * ALTERNATIVE 2: Purely Random Systems
 * Viability: Systems without rules (White Noise).
 * Suppression: Rejected because they lack the "Rope" of coordination—order 
 * cannot be built from them.
 * * CONCLUSION:
 * The dominance of Conway's rules as a "Mountain" effectively makes 
 * Alternative 1 a "hidden Rope" only visible to specialists.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_conway_life].
 * 2. Analyze: ?- multi_index_report(conways_game_of_life_dynamics).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: copyleft_viral_licensing
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: GNU General Public License (GPL) / Free Software Foundation
% ============================================================================

:- module(constraint_copyleft, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: copyleft_viral_licensing
 * human_readable: Copyleft (Reciprocal Freedom)
 * domain: technological/legal/social
 * temporal_scope: Biographical to Historical (1985 - Present)
 * spatial_scope: Global
 * * SUMMARY:
 * Copyleft is a legal mechanism that uses copyright law to ensure that a work 
 * and its derivatives remain free. Unlike "permissive" licenses, Copyleft 
 * requires that any modified versions of the software must also be licensed 
 * under the same Copyleft terms—a "Share-Alike" requirement on steroids.
 * * KEY AGENTS:
 * - The Free Software Advocate: (e.g., Richard Stallman) who views software 
 * freedom as a fundamental right.
 * - The Proprietary Developer: Views Copyleft as a "Virus" that threatens 
 * their ability to close and monetize source code.
 * - The Community Contributor: Gains security knowing their work cannot be 
 * "captured" by a single corporation.
 * * NARRATIVE ARC:
 * Copyleft functions as a "Recursive Rope." It builds a self-expanding 
 * commons. By using the "Noose" of copyright law (the power to exclude), 
 * it enforces a "Rope" of inclusion. It creates a matching market where 
 * the "price" of entry is the promise to keep the exit open for others.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(copyleft_viral_licensing, 0, 10).
narrative_ontology:constraint_claim(copyleft_viral_licensing, recursive_commons).

% Base extractiveness score (0.05)
% Extremely low extraction; it is designed to explicitly prevent the 
% extraction of private profit from a shared public resource.
domain_priors:base_extractiveness(copyleft_viral_licensing, 0.05).

% Suppression score (0.2)
% Low suppression; the terms are notoriously explicit, though corporations 
% may suppress the use of copylefted code internally to avoid "contamination."
domain_priors:suppression_score(copyleft_viral_licensing, 0.2).

% Enforcement: Requires active enforcement (Legal standing of the GPL).
domain_priors:requires_active_enforcement(copyleft_viral_licensing).

% Metrics
narrative_ontology:constraint_metric(copyleft_viral_licensing, extractiveness, 0.05).
narrative_ontology:constraint_metric(copyleft_viral_licensing, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(copyleft_viral_licensing, the_user_community).
constraint_beneficiary(copyleft_viral_licensing, open_source_ecosystems).
constraint_victim(copyleft_viral_licensing, proprietary_software_vendors).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE OPEN SOURCE DEVELOPER - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the developer, Copyleft is a "Rope." It provides the guarantee that 
   if they contribute to a project (like the Linux kernel), their work will 
   always remain accessible to them and the community. It coordinates 
   mass collaboration by removing the fear of "Proprietary Capture."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    copyleft_viral_licensing,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(copyleft_viral_licensing, E),
    E < 0.1,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CORPORATE COUNSEL - Noose
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: generational
   WHERE: trapped (once code is 'contaminated', it cannot be easily extracted)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To a company trying to build a secret commercial product, the GPL is a 
   "Noose." They view it as a "viral" license that, if accidentally 
   linked to their proprietary code, forces them to open-source their 
   entire product. It is a legal bottleneck they spend millions to avoid.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    copyleft_viral_licensing,
    noose,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SOFTWARE HISTORIAN - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The historian sees Copyleft as a "Mountain"—the foundational bedrock 
   of the modern internet. Without the GPL (Copyleft), the "Mountain" of 
   Linux and the web servers that run the world would have likely been 
   fragmented and privatized decades ago.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    copyleft_viral_licensing,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(copyleft_viral_licensing),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(copyleft_tests).

test(viral_noose_perception) :-
    % Testing that institutions see Copyleft as a Noose due to its reciprocal 
    % requirements.
    constraint_indexing:constraint_classification(copyleft_viral_licensing, noose, context(institutional, _, _, _)).

test(community_rope_utility) :-
    % Testing that mobile developers see the Rope of protected collaboration.
    constraint_indexing:constraint_classification(copyleft_viral_licensing, rope, context(_, _, mobile, _)).

:- end_tests(copyleft_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Copyleft is a "force multiplier" for freedom. I set extractiveness 
 * to near zero (0.05) because its only goal is to prevent the 
 * "Noose" of proprietary software from forming around shared code. 
 * Its "viral" nature is its most powerful and feared feature.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    saas_loophole_resolution,
    "Will the 'SaaS Loophole' (AGPL) eventually become the new legal Mountain for cloud-based software?",
    resolution_mechanism("Tracking adoption rates of AGPL vs GPL in hyperscale cloud providers"),
    impact("If Yes: The 'Noose' for cloud providers tightens; they must share back server-side code."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: copyright_protection
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: U.S. Copyright Act of 1976 / Berne Convention
% ============================================================================

:- module(constraint_copyright, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: copyright_protection
 * human_readable: Copyright (Creative Monopoly)
 * domain: social/economic/technological
 * temporal_scope: Civilizational (Life + 70 years)
 * spatial_scope: Global
 * * SUMMARY:
 * Copyright is a legal framework that grants creators exclusive rights to their 
 * original works of authorship (literature, music, art, software). It separates 
 * the "Expression" (protected) from the "Idea" (free).
 * * KEY AGENTS:
 * - The Creator: Holds the monopoly; seeks to monetize or control the work.
 * - The User/Remixer: Seeks to consume, adapt, or build upon existing work.
 * - The Platform: Acts as the gatekeeper and enforcement engine (e.g., YouTube Content ID).
 * * NARRATIVE ARC:
 * Copyright functions as a "Proprietary Horizon." It creates a temporary (though 
 * increasingly long) artificial scarcity. For creators, it is a foundation for 
 * a career; for the public, it is a fence around the cultural commons.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(copyright_protection, 0, 10).
narrative_ontology:constraint_claim(copyright_protection, intellectual_property_limit).

% Base extractiveness score (0.4)
% While it allows creators to earn, it extracts "freedom of use" from the 
% public, and often large corporations extract the copyright from creators.
domain_priors:base_extractiveness(copyright_protection, 0.4).

% Suppression score (0.5)
% Fair Use provides an "exit," but automated enforcement systems often 
% suppress even legal uses (chilling effect).
domain_priors:suppression_score(copyright_protection, 0.5).

% Enforcement requirements
domain_priors:requires_active_enforcement(copyright_protection).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(copyright_protection, extractiveness, 0.4).
narrative_ontology:constraint_metric(copyright_protection, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(copyright_protection, intellectual_property_holders).
constraint_victim(copyright_protection, the_public_domain).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INDEPENDENT ARTIST - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the small creator, copyright is a "Rope." It is the only tool they 
   have to prevent their work from being captured and monetized by 
   large entities without compensation. It coordinates their ability to 
   participate in the marketplace.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    copyright_protection,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(copyright_protection, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE AI TRAINING LAB - Noose
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: immediate
   WHERE: trapped (cannot easily "un-train" on copyrighted data)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For an entity attempting to build generative AI, copyright is a "Noose." 
   The massive scale of data required makes individual licensing 
   impossible, creating a legal bottleneck that threatens the viability 
   of the entire technological enterprise.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    copyright_protection,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(copyright_protection, S),
    S > 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LEGAL SCHOLAR - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The scholar sees copyright as a "Mountain"—a fixed feature of the 
   global legal geography since the 18th century. While the "peaks" 
   (duration) may change, the fundamental concept of protecting 
   expression is an immutable part of modern civilization.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    copyright_protection,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    true.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(copyright_tests).

test(proportional_utility) :-
    % Testing that creators see the Rope while institutions (labs) see the Noose.
    constraint_indexing:constraint_classification(copyright_protection, rope, context(individual_moderate, _, _, _)),
    constraint_indexing:constraint_classification(copyright_protection, noose, context(institutional, _, trapped, _)).

test(historical_permanence) :-
    % Testing that analytical views recognize the structural Mountain.
    constraint_indexing:constraint_classification(copyright_protection, mountain, context(analytical, _, _, _)).

:- end_tests(copyright_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Copyright is unique because it is a "Monopoly on Expression." I set 
 * suppression to 0.5 because "Fair Use" acts as a pressure valve, but 
 * algorithmic enforcement (Content ID) often makes that valve stick.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    ai_fair_use_precedent,
    "Will training AI on copyrighted material be legally classified as 'Transformative Fair Use'?",
    resolution_mechanism("Supreme Court rulings on AI training datasets (e.g., NYT v. OpenAI)"),
    impact("If Yes: The Noose for AI labs vanishes. If No: Copyright becomes an insurmountable Mountain for AI."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: countable_infinity_cardinality
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Cantor's Set Theory / Cardinality of Aleph-0
% ============================================================================

:- module(constraint_countable_infinity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: countable_infinity_cardinality
 * human_readable: Countable Infinity (Aleph-0)
 * domain: mathematical/logical
 * temporal_scope: 1874 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Discrete Mathematics)
 * * SUMMARY:
 * Countable infinity defines sets that can be put into a one-to-one 
 * correspondence with the natural numbers. While infinite, these sets are 
 * "ordered" and "enumerable," creating a rigid logical boundary between 
 * discrete iteration and the "uncountable" continuum.
 * * KEY AGENTS:
 * - The Natural Number (Subject): The powerless agent whose sequence defines 
 * the path of all other countable sets.
 * - The Computer Scientist (Institutional): An agent who uses countability as 
 * a "Rope" for algorithmic iteration and data indexing.
 * - The Continuum Researcher: An observer for whom countability acts as a 
 * "Noose," proving the "holes" in discrete logic when compared to the Reals.
 * * NARRATIVE ARC:
 * To the mathematician, countability is a "Mountain"—an unyielding law of 
 * cardinality discovered by Cantor. In programming, it is the "Rope" of 
 * loops and indices. However, to the intuition of the "Rational" numbers, 
 * countability is a "Noose"; despite feeling "dense" and continuous, they 
 * are "strangled" by the fact that they are no larger than the set of 
 * integers, a truth that extracts the illusion of their continuity.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Structural Anchor
narrative_ontology:interval(countable_infinity_cardinality, 1874, 2026).
narrative_ontology:constraint_claim(countable_infinity_cardinality, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. Countability "extracts" the sense of density from sets 
% like the Rationals, forcing them into a discrete line for the sake 
% of logical ordering.
domain_priors:base_extractiveness(countable_infinity_cardinality, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.25. It suppresses the visibility of the "Continuum" in 
% discrete systems, making uncountable sets appear "non-existent" 
% within the logic of integer-based computation.
domain_priors:suppression_score(countable_infinity_cardinality, 0.25).

% Enforcement: Emerges naturally from the axioms of Peano and Set Theory.
domain_priors:emerges_naturally(countable_infinity_cardinality).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(countable_infinity_cardinality, extractiveness, 0.2).
narrative_ontology:constraint_metric(countable_infinity_cardinality, suppression_requirement, 0.25).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(countable_infinity_cardinality, algorithm_designers). % Predictable iteration.
constraint_beneficiary(countable_infinity_cardinality, logicians). 
constraint_victim(countable_infinity_cardinality, intuitive_continuity). % The Rationals are "shrunk" to a line.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INTEGER "1,000,001" - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The number has no agency over its position.
   WHEN: immediate - True at every point on the number line.
   WHERE: trapped - Bound by the sequence of $n+1$.
   SCOPE: local - Immediate position relative to neighbors.
   
   WHY THIS CLASSIFICATION:
   For any element in a countable set, its place is a natural law. It cannot 
   "jump" the queue or be "larger" than its neighbor in a way that breaks 
   one-to-one correspondence. The Mountain of $\aleph_0$ is unchangeable.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    countable_infinity_cardinality,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SOFTWARE ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design loops and indexing systems.
   WHEN: biographical - Planning the architecture of a database or system.
   WHERE: mobile - Can map any discrete data set to the integers.
   SCOPE: global - Universal applicability in CS.
   
   WHY THIS CLASSIFICATION:
   For the engineer, countability is a "Rope"—a tool for coordination. 
   It ensures that no matter how much data is added, it can be "reached" 
   via discrete steps (1, 2, 3...), providing a standard of achievement 
   for system stability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    countable_infinity_cardinality,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE RATIONAL NUMBER LINE - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Bound by Cantor's diagonal/zig-zag logic.
   WHEN: immediate - Realizing there is "no room" to be larger than N.
   WHERE: constrained - No alternative but to follow the counting path.
   SCOPE: local - Stuck in the "zig-zag" enumeration.
   
   WHY THIS CLASSIFICATION:
   Despite appearing to fill the entire space between 0 and 1 with 
   infinite points, the Rational numbers are "strangled" by countability. 
   The logic of the "zig-zag" proof acts as a "Noose," extracting their 
   density and forcing them into a single-file line that matches 1, 2, 3...
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    countable_infinity_cardinality,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(countable_infinity_cardinality, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(countable_infinity_tests).

test(perspective_shift) :-
    % The integer sees a Mountain; the Engineer sees a Rope.
    constraint_indexing:constraint_classification(countable_infinity_cardinality, mountain, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(countable_infinity_cardinality, rope, context(institutional, biographical, mobile, global)).

test(rational_enumeration_noose) :-
    % The Rationals feel the extraction of their density via countability logic.
    constraint_indexing:constraint_classification(countable_infinity_cardinality, noose, context(individual_powerless, immediate, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(countable_infinity_cardinality).

:- end_tests(countable_infinity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: Countable infinity is a fundamental Mountain of 
 * mathematics. However, its "Perspectival Gap" is significant; it is a 
 * perfect Rope for computer science (arrays, for-loops) but a Noose 
 * for the intuition of set density (Rationals).
 * 2. EXTRACTIVENESS: Set at 0.2. The theorem "takes" the complexity 
 * of the rationals and "shrivels" it into the same size as the integers.
 * 3. AGENT POWER: I characterized the Rationals as "individual_powerless" 
 * to highlight the coercion of the Cantor mapping.
 */

% OMEGA IDENTIFICATION
omega_variable(
    continuum_hypothesis_interaction,
    "Is there a set size between the Mountain of $\aleph_0$ and the Mountain of the Reals?",
    resolution_mechanism("Formal undecidability in ZFC; requires a leap of faith to a specific axiom."),
    impact("If Yes: Countability is a 'Scaffold'. If No: It is a permanent 'Mountain' edge."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Uncountable Sets (The Reals)
 * Viability: Truly continuous, cannot be mapped to N.
 * Suppression: Often "ignored" in discrete algorithmic contexts because 
 * you cannot iterate over them.
 * Evidence: Cantor's Diagonal Argument.
 * * ALTERNATIVE 2: Ultra-Finitism
 * Viability: Denying that infinity exists at all.
 * Suppression: Suppressed by modern analysis and the "Rope" utility 
 * of calculus.
 * * CONCLUSION:
 * The dominance of the Countable "Rope" in computer science effectively 
 * suppresses the viability of truly continuous (uncountable) processing.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [countable_infinity_cardinality].
% Analyze: ?- constraint_indexing:multi_index_report(countable_infinity_cardinality).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: couples_residency_match
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: NRMP / Roth-Peranson Algorithm (Couples Module)
% ============================================================================

:- module(constraint_couples_match, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: couples_residency_match
 * human_readable: The Couples Match (Joint Stability)
 * domain: technological/social
 * temporal_scope: Biographical (Final Year of Residency)
 * spatial_scope: National (USA)
 * * SUMMARY:
 * The "Couples Match" is a specialized module of the NRMP that allows two 
 * medical students to link their rank order lists (ROLs). To maintain 
 * stability, the algorithm must find a pair of programs that is stable for 
 * BOTH partners simultaneously. This significantly increases the 
 * computational complexity and restricts the available "solution space."
 * * KEY AGENTS:
 * - The Couple: Two agents acting as a single unit with linked preferences.
 * - The Residencies: Individual programs with fixed quotas.
 * - The Algorithm: The Roth-Peranson modification for coupled stability.
 * * NARRATIVE ARC:
 * The constraint functions as a "Gravity Well." By linking their fates, 
 * the couple creates a higher barrier to entry. They must often sacrifice 
 * individual prestige (moving down their personal ROL) to find a joint 
 * geographic match, turning a coordination tool into a self-imposed limit.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(couples_residency_match, 0, 10).
narrative_ontology:constraint_claim(couples_residency_match, algorithmic_determinism).

% Base extractiveness score (0.5)
% The system extracts a "choice penalty." To guarantee being together, 
% couples often match at lower-ranked programs than they would individually.
domain_priors:base_extractiveness(couples_residency_match, 0.5).

% Suppression score (0.95)
% Like the standard match, side-deals are strictly prohibited.
domain_priors:suppression_score(couples_residency_match, 0.95).

% Enforcement requirements
domain_priors:requires_active_enforcement(couples_residency_match).

% Metrics
narrative_ontology:constraint_metric(couples_residency_match, extractiveness, 0.5).
narrative_ontology:constraint_metric(couples_residency_match, suppression_requirement, 0.95).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(couples_residency_match, regional_hospital_systems).
constraint_victim(couples_residency_match, high_achieving_partners).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE "COUPLE" - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (subject to joint probability)
   WHEN: biographical (marriage/family formation)
   WHERE: trapped (linked lists create a binary "match together or fail")
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   The couple experiences the constraint as a "Noose" because the number 
   of valid stable matches drops exponentially when ROLs are linked. 
   The binding nature of the contract means they might be forced into 
   their 50th-ranked pair of programs simply because it's the only 
   one that works for both.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    couples_residency_match,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(couples_residency_match, S),
    S > 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PROGRAM DIRECTOR - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: generational
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   Program directors see the Couples Match as a "Rope." It helps them 
   recruit high-quality candidates who might otherwise go to a 
   different city. By offering a joint solution, the Match 
   coordinates the social needs of residents with the labor needs 
   of the hospital.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    couples_residency_match,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MATHEMATICIAN - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: civilizational
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the analyst, the Couples Match is a "Mountain." Adding couples 
   to the Stable Marriage Problem makes finding a stable match 
   potentially impossible (non-existence of stability). This is a 
   fundamental NP-hard frontier of game theory.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    couples_residency_match,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(couples_residency_match),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(couples_match_tests).

test(complexity_noose) :-
    % Linked lists (trapped) = Noose
    constraint_indexing:constraint_classification(couples_residency_match, noose, context(_, _, trapped, _)).

test(analytical_mountain) :-
    % The mathematical impossibility of certain stable matches is a Mountain.
    constraint_indexing:constraint_classification(couples_residency_match, mountain, context(analytical, _, _, _)).

:- end_tests(couples_match_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * The Couples Match is a "voluntary noose." Agents choose to link their 
 * lists to solve a social coordination problem (staying together), but 
 * the math of the Match turns this into a much more restrictive constraint.
 * * OMEGAS:
 * 1. Does a stable match ALWAYS exist with couples? 
 * (Historically no, but the algorithm finds 'approximate' stability).
 */

omega_variable(
    stability_existence,
    "Is a stable match mathematically guaranteed for all couples?",
    resolution_mechanism("Algorithmic proof of Roth-Peranson convergence on specific datasets"),
    impact("If No: The system is a 'Scaffold' that could collapse at any time."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: creative_commons_licensing
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Creative Commons Legal Code / Lessig, L. (2004). Free Culture.
% ============================================================================

:- module(constraint_creative_commons, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: creative_commons_licensing
 * human_readable: Creative Commons (Modular Permissions)
 * domain: social/technological/legal
 * temporal_scope: Biographical to Historical (2001 - Present)
 * spatial_scope: Global
 * * SUMMARY:
 * Creative Commons is a licensing framework that allows creators to move away 
 * from the binary of "Noose" (Full Copyright) or "Mountain" (Public Domain). 
 * By using modular terms (Attribution, Non-Commercial, etc.), creators build 
 * a custom "Rope" that defines exactly how their work can be shared and remixed.
 * * KEY AGENTS:
 * - The Licensor (Creator): Voluntarily reduces their monopoly to gain reach.
 * - The Licensee (User): Gains legal certainty for reuse and remixing.
 * - The Commons Architect: (e.g., Lawrence Lessig) who designed the legal 
 * interoperability of the licenses.
 * * NARRATIVE ARC:
 * CC transforms copyright from a wall into a "User Manual." It solves the 
 * problem of high transaction costs; instead of negotiating every use, the 
 * license acts as a pre-signed permission slip that coordinates global 
 * creative collaboration.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(creative_commons_licensing, 0, 10).
narrative_ontology:constraint_claim(creative_commons_licensing, voluntary_coordination).

% Base extractiveness score (0.1)
% Low extraction; the creator intentionally gives up "extraction rights" 
% (licensing fees) to facilitate broader cultural flow.
domain_priors:base_extractiveness(creative_commons_licensing, 0.1).

% Suppression score (0.1)
% Extremely low; the system is designed for maximum transparency and 
% machine-readability.
domain_priors:suppression_score(creative_commons_licensing, 0.1).

% Enforcement: Requires active enforcement (though usually self-regulating 
% through community norms).
domain_priors:requires_active_enforcement(creative_commons_licensing).

% Metrics
narrative_ontology:constraint_metric(creative_commons_licensing, extractiveness, 0.1).
narrative_ontology:constraint_metric(creative_commons_licensing, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(creative_commons_licensing, open_educational_resources).
constraint_beneficiary(creative_commons_licensing, remix_culture).
constraint_victim(creative_commons_licensing, none).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE WIKIPEDIAN - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For a contributor to an open project like Wikipedia, CC is the ultimate 
   "Rope." It provides the coordination infrastructure needed for thousands 
   of strangers to build a single "Mountain" of knowledge without a 
   single "Noose" of copyright litigation.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    creative_commons_licensing,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(creative_commons_licensing, E),
    E < 0.2,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TRADITIONAL PUBLISHER - Noose
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: generational
   WHERE: trapped (business model relies on copyright monopolies)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To a legacy academic publisher, CC is a "Noose." It strangles their 
   ability to charge paywall fees and maintain an "Exclusive Match" 
   with authors. The rise of "Open Access" (driven by CC) is a slow-motion 
   collapse of their extractive power.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    creative_commons_licensing,
    noose,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INTERNET ARCHITECT - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The architect sees CC as a "Mountain"—a permanent layer of the internet's 
   legal stack. Much like the HTTP protocol coordinates data, CC 
   coordinates "Meaning." It is a structural feature that makes the modern 
   web possible.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    creative_commons_licensing,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(creative_commons_licensing),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(cc_tests).

test(coordination_efficiency) :-
    % Testing that CC functions as a non-extractive Rope for mobile agents.
    constraint_indexing:constraint_classification(creative_commons_licensing, rope, context(_, _, mobile, _)).

test(legacy_disruption) :-
    % Testing that CC acts as a Noose for institutions reliant on monopolies.
    constraint_indexing:constraint_classification(creative_commons_licensing, noose, context(institutional, _, _, _)).

:- end_tests(cc_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * CC is a "meta-constraint." It uses the rules of Copyright to create a 
 * non-copyright-like environment. I classified it as a Noose for 
 * publishers because it is the primary "Exit Option" that breaks their 
 * extractive business models.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    cc_license_enforcement_vulnerability,
    "Can CC licenses survive a targeted attack by AI companies claiming 'Fair Use' bypasses the license terms?",
    resolution_mechanism("Case law involving 'Share-Alike' clauses in AI training sets"),
    impact("If Yes: The Rope holds. If No: The Mountain collapses back into a Noose of raw data extraction."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: currys_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Logic / Epistemology / Curry's Paradox
% ============================================================================

:- module(constraint_currys_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: currys_paradox
 * human_readable: Curry's Paradox
 * domain: analytical/logic/mathematics
 * temporal_scope: Permanent (Historical to Civilizational)
 * spatial_scope: Universal (Formal Systems)
 * * SUMMARY:
 * Curry's Paradox is a logical "trap" that proves any arbitrary claim 
 * (e.g., "The moon is made of cheese") using a self-referential sentence of 
 * the form "If this sentence is true, then X is true." Unlike the Liar 
 * Paradox, it does not require negation, making it a more fundamental threat 
 * to naive set theory and unrestricted comprehension.
 * * KEY AGENTS:
 * - The Foundationalist: Attempting to build a system where only "true" things 
 * can be derived.
 * - The System Architect: Designing programming languages or formal logics 
 * that must avoid trivialism (where everything is provable).
 * - The Trivialist: An agent who accepts all propositions (the "victim" of 
 * total systemic collapse).
 * * NARRATIVE ARC:
 * The paradox acts as a structural "No-Go" theorem. It forces formal systems 
 * to either limit self-reference, restrict the rules of implication (like 
 * contraction), or face "explosion," where the system loses all meaning because 
 * it permits every possible statement to be true.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(currys_paradox_interval, 0, 10).
narrative_ontology:constraint_claim([currys_paradox], logical_inconsistency).

% Base extractiveness: 0.2 (Low-Moderate)
% Rationale: It extracts "meaning" from a system by making it trivial. If a 
% system is trivialized, the value of every true statement is diluted to zero.
domain_priors:base_extractiveness(currys_paradox, 0.2).

% Suppression score: 0.5 (Moderate)
% Rationale: Alternatives that allow both self-reference and standard 
% implication are actively suppressed because they lead to immediate systemic 
% collapse (Explosion).
domain_priors:suppression_score(currys_paradox, 0.5).

% Enforcement requirements: Emerges naturally from the interaction of 
% implication, self-reference, and contraction.
domain_priors:emerges_naturally(currys_paradox).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(currys_paradox, extractiveness, 0.2).
narrative_ontology:constraint_metric(currys_paradox, suppression_requirement, 0.5).

% Beneficiaries: Paraconsistent Logicians (those who study systems that 
% tolerate contradictions without collapsing).
constraint_beneficiary(currys_paradox, paraconsistent_logicians).

% Victims: Naive System Architects (those whose systems "explode" under 
% simple self-reference).
constraint_victim(currys_paradox, naive_set_theorists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MATHEMATICIAN (Institutional) - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: Institutional/Analytical power (The gatekeepers of formal proof).
   WHEN: Civilizational (Permanent structural reality).
   WHERE: Trapped (Mathematics cannot "vote" the paradox away).
   SCOPE: Global/Universal.
   
   WHY THIS CLASSIFICATION:
   For the mathematician, the paradox is a Mountain. It is an inherent feature 
   of the landscape of logic. One does not "fix" Curry's Paradox; one builds 
   fences (types, hierarchies) to ensure they never accidentally walk into it.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    currys_paradox,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PROGRAMMER (Individual Moderate) - ROPE
   --------------------------------------------------------------------------
   
   WHO: Individual Moderate (Builds software using logical rules).
   WHEN: Biographical/Immediate (Focused on the runtime of a system).
   WHERE: Mobile (Can switch languages or type systems).
   SCOPE: Regional (Specific to a language environment).
   
   WHY THIS CLASSIFICATION:
   To a programmer, the paradox is a Rope. It is a tool for understanding the 
   risks of recursion and untyped lambdas. It is a coordination mechanism 
   that helps them design safer compilers. If a specific logic is "Curry-unstable," 
   they simply exit to a different language.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    currys_paradox,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LOGICAL REFORMER (Individual Powerless) - NOOSE
   --------------------------------------------------------------------------
   
   WHO: Individual Powerless (Trying to propose new logical foundations).
   WHEN: Historical.
   WHERE: Constrained (By the "Explosion Principle").
   SCOPE: National (Within the academic discipline).
   
   WHY THIS CLASSIFICATION:
   For a reformer who wants to allow natural language's "unrestricted 
   comprehension," Curry's Paradox is a Noose. It is the "threat" used by the 
   establishment to shut down more flexible logics. "If you allow that rule," 
   they say, "the Noose tightens and your entire system explodes into triviality."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    currys_paradox,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(currys_paradox_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(currys_paradox, Type1, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(currys_paradox, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(currys_paradox, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    % For a powerless reformer, the "explosion" (extraction of meaning) is total.
    % For a powerful institution, they've already mitigated it.
    ContextPowerless = context(individual_powerless, historical, constrained, national),
    ContextPowerful = context(institutional, civilizational, trapped, global),
    domain_priors:base_extractiveness(currys_paradox, Score),
    Score > 0.0.

test(time_immutability) :-
    % Long-term civilizational view = Mountain (immutable)
    constraint_indexing:constraint_classification(currys_paradox, mountain, context(_, civilizational, _, _)).

:- end_tests(currys_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS (0.2): Chose a low-moderate score. While it doesn't 
 * extract labor, it extracts "information utility" by rendering a 
 * system useless if triggered.
 * * 2. SUPPRESSION (0.5): This is higher than the Liar Paradox because the 
 * logical community is very aggressive about suppressing systems that 
 * cannot handle Curry, as "Explosion" is seen as the death of logic.
 * * 3. NOOSE SELECTION: The "Noose" classification arises from the way 
 * the paradox is used to gatekeep which logics are "respectable."
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    relevance_logic_viability,
    "Can 'Relevance Logic' (which rejects contraction) be a stable foundation for human-AI coordination?",
    resolution_mechanism("Development and large-scale deployment of a relevance-based theorem prover"),
    impact("If Yes: Curry's Paradox moves from Mountain to Rope (optional tool). If No: It remains a Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Rejecting 'Contraction' (Relevance Logic)
 * Viability: High in niche logic, Low in mainstream math.
 * Suppression: High. Most mathematicians view the rule (A -> (A -> B)) |- (A -> B) 
 * as "natural law."
 * * ALTERNATIVE 2: Fixed-point hierarchies (Tarski-style)
 * Viability: High. The standard way to avoid the paradox.
 * Suppression: Low (it is the dominant paradigm).
 * * CONCLUSION:
 * Because Alternatives exist (like rejecting contraction) but are cognitively 
 * suppressed by the "intuitive" nature of standard implication, the paradox 
 * often functions as a Noose for alternative logical architectures.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_currys_paradox].
 * 2. Run multi-perspective report: ?- constraint_indexing:multi_index_report(currys_paradox).
 * 3. Run tests: ?- run_tests(currys_paradox_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: damped_harmonics
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Classical Mechanics / Differential Equations
% ============================================================================

:- module(constraint_damped_harmonics, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: damped_harmonics
 * human_readable: Damped Harmonic Motion
 * domain: physics/technological
 * temporal_scope: 17th Century - Present
 * spatial_scope: Universal (Physical Systems)
 * * SUMMARY:
 * Damped harmonic motion describes an oscillatory system where the amplitude 
 * decreases over time due to dissipative forces (friction, air resistance, 
 * or internal viscosity). It is the inevitable transition from kinetic energy 
 * to thermal entropy.
 * * KEY AGENTS:
 * - The Oscillator (Mass/Pendulum): The powerless subject following the 
 * second-order differential equation.
 * - The Mechanical Engineer: An institutional agent who "tunes" the damping 
 * ratio to ensure system stability.
 * - The Signal Analyst: An analytical observer measuring the rate of 
 * information decay in a transmission medium.
 * * NARRATIVE ARC:
 * In the vacuum of pure theory, an oscillator lives forever as a Mountain 
 * of perpetual motion. In the real world, "Damping" is the first law of 
 * physical constraints. For the car passenger, the shock absorber is a 
 * "Rope" of comfort and coordination. For the high-speed data packet, 
 * signal damping is a "Noose" that extracts clarity, forcing the 
 * re-investment of power to bridge the distance.
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(damped_harmonics, 1687, 2026).
narrative_ontology:constraint_claim(damped_harmonics, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.25. Friction/Damping "takes" kinetic energy from the 
% system and converts it to heat, which is functionally extractive 
% in mechanical contexts.
domain_priors:base_extractiveness(damped_harmonics, 0.25).

% Suppression score (0.0-1.0)
% Rationale: 0.1. Damping is widely understood; it does not hide 
% its presence, though it renders "Ideal" perpetual motion invisible.
domain_priors:suppression_score(damped_harmonics, 0.1).

% Enforcement: Emerges naturally from the Second Law of Thermodynamics.
domain_priors:emerges_naturally(damped_harmonics).

% Metrics
narrative_ontology:constraint_metric(damped_harmonics, extractiveness, 0.25).
narrative_ontology:constraint_metric(damped_harmonics, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(damped_harmonics, structural_safety). % Prevents resonant collapse.
constraint_victim(damped_harmonics, energy_efficiency). % Energy lost to heat.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE OSCILLATING MASS - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The particle has no agency over the viscous force.
   WHEN: immediate - The force acts instantaneously proportional to velocity.
   WHERE: trapped - Bound by the physical medium (fluid/air).
   SCOPE: local - Immediate physical environment.
   
   WHY THIS CLASSIFICATION:
   For the physical object, the decay of its motion is a natural law. It cannot 
   "choose" to ignore friction. The transition from $x(t)$ to equilibrium is 
   an unyielding geometric fate.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    damped_harmonics,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE AUTOMOTIVE ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design the damping coefficient ($c$).
   WHEN: biographical - Planning the lifecycle and safety of a vehicle.
   WHERE: mobile - Can adjust valve sizes or fluid viscosity to "exit" instability.
   SCOPE: global - Applies to all units in a fleet.
   
   WHY THIS CLASSIFICATION:
   Damping is a functional coordination tool. By choosing "Critical Damping," 
   the engineer ensures the car returns to equilibrium as fast as possible 
   without oscillation, providing safety and performance.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    damped_harmonics,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE WEAK ACOUSTIC SIGNAL - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - The signal "packet" is destroyed by the medium.
   WHEN: immediate - Every meter of travel extracts more amplitude.
   WHERE: constrained - The signal must pass through the high-resistance path.
   SCOPE: local - The segment of the wire or air.
   
   WHY THIS CLASSIFICATION:
   In high-resistance contexts, damping "strangles" the signal. It extracts 
   information value from the carrier, forcing the use of expensive repeaters 
   (extraction of capital) just to survive the distance.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    damped_harmonics,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(damped_harmonics, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================= */

:- begin_tests(damped_harmonics_tests).

test(perspective_shift) :-
    % The Mass sees a Mountain; the Engineer sees a Rope.
    constraint_indexing:constraint_classification(damped_harmonics, mountain, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(damped_harmonics, rope, context(institutional, biographical, mobile, global)).

test(extraction_logic) :-
    % Signals in a medium should feel the "Noose" effect of energy loss.
    constraint_indexing:constraint_classification(damped_harmonics, noose, context(individual_powerless, immediate, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(damped_harmonics).

:- end_tests(damped_harmonics_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: Damping is a unique physical constraint because it is 
 * the "enforcer" of equilibrium. I classified it as a Mountain for the 
 * subject but a Rope for the designer.
 * 2. EXTRACTIVENESS: Set at 0.25 to reflect the "heat tax" of thermodynamics.
 * 3. PERSPECTIVES: Chose the "Automotive Engineer" to represent the peak 
 * utility of the "Rope" classification (stability).
 */

% OMEGA IDENTIFICATION
omega_variable(
    linearity_assumption,
    "Does the 'Mountain' remain stable if the damping is non-linear (e.g., quadratic air resistance)?",
    resolution_mechanism("Compare $F \propto v$ with $F \propto v^2$ in high-velocity contexts."),
    impact("If non-linear: The 'Rope' becomes a chaotic 'Noose' for predictability."),
    confidence_without_resolution(medium)
).

omega_variable(
    active_damping_failure,
    "What happens when the 'Rope' (active suspension) loses power?",
    resolution_mechanism("Simulation of damping loss in 100-story skyscrapers."),
    impact("If failure: The Mountain of resonance returns to destroy the system."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Active Resonance (Energy Injection)
 * Viability: Counteracting damping with external power (e.g., clock escapement).
 * Suppression: Rejected in most passive safety designs due to reliability risk.
 * * ALTERNATIVE 2: Superfluidity / Superconductivity
 * Viability: Elimination of damping through phase transitions.
 * Suppression: Not viable at STP (Standard Temperature/Pressure).
 * * CONCLUSION:
 * At standard scales, Damping is an inescapable Mountain. Attempts to 
 * suppress it (Alternatives) require high-power institutional "Ropes."
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [damped_harmonics].
% Analyze: ?- constraint_indexing:multi_index_report(damped_harmonics).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: dark_patterns_manipulation
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Brignull, H. (2010). Dark Patterns. / FTC Enforcement Guidelines.
% ============================================================================

:- module(constraint_dark_patterns, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: dark_patterns_manipulation
 * human_readable: Dark Patterns (Interface Coercion)
 * domain: technological/economic/psychological
 * temporal_scope: Immediate
 * spatial_scope: Global
 * * SUMMARY:
 * Dark patterns exploit cognitive biases (like loss aversion or the default 
 * effect) to steer user behavior toward outcomes that benefit the platform 
 * but harm the user. They are the "shadow side" of Information Foraging Theory.
 * * KEY AGENTS:
 * - The User: The "forager" whose cognitive heuristics are being weaponized.
 * - The Growth Hacker: The designer tasked with maximizing "conversion" at any cost.
 * - The Regulator: The agent attempting to ban deceptive design (e.g., California Privacy Rights Act).
 * * NARRATIVE ARC:
 * Dark patterns function as "Fake Information Scent." They lure the user 
 * into a matching market where the "Match" is involuntary. It turns the 
 * interface from a transparent tool into a psychological Noose.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(dark_patterns_manipulation, 0, 10).
narrative_ontology:constraint_claim(dark_patterns_manipulation, cognitive_exploitation).

% Base extractiveness score (0.85)
% High; they are purely designed to extract value (money, data, attention) 
% through deception rather than exchange.
domain_priors:base_extractiveness(dark_patterns_manipulation, 0.85).

% Suppression score (0.9)
% High; the "Exit Option" (e.g., the 'Cancel Subscription' button) is 
% intentionally hidden or made difficult to find.
domain_priors:suppression_score(dark_patterns_manipulation, 0.9).

% Enforcement: Requires active enforcement (Corporate deceptive practices).
domain_priors:requires_active_enforcement(dark_patterns_manipulation).

% Metrics
narrative_ontology:constraint_metric(dark_patterns_manipulation, extractiveness, 0.85).
narrative_ontology:constraint_metric(dark_patterns_manipulation, suppression_requirement, 0.9).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(dark_patterns_manipulation, predatory_platforms).
constraint_victim(dark_patterns_manipulation, vulnerable_consumers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE CAPTIVE CUSTOMER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped (in a 'Roach Motel' design)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a user trying to delete an account, the interface is a "Noose." 
   The "Confirm Deletion" button is grayed out, hidden behind five menus, 
   or requires a physical phone call. The platform strangles their 
   exit option to keep their "Match" metric high.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dark_patterns_manipulation,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PRODUCT MANAGER - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: biographical (quarterly targets)
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   To the product manager, these patterns are a "Rope." They are the 
   coordination tools used to "nudge" users toward the "desired" 
   business outcome. They see it as a necessary strategy for survival 
   in a hyper-competitive attention economy.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dark_patterns_manipulation,
    rope,
    context(agent_power(institutional), time_horizon(biographical), exit_options(mobile), spatial_scope(regional))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ETHICAL DESIGNER - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The ethical observer sees these patterns as a "Mountain" of 
   psychological vulnerability. Human cognitive biases are immutable. 
   The fact that they *can* be exploited is a feature of our biological 
   nature that designers must either respect or exploit.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dark_patterns_manipulation,
    mountain,
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))
) :- !.

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
```prolog
% ============================================================================
% CONSTRAINT STORY: dead_sea_effect
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Software Engineering Management / Bruce Webster / Organizational Theory
% ============================================================================

:- module(constraint_dead_sea_effect, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: dead_sea_effect
 * human_readable: The Dead Sea Effect (Talent Evaporation)
 * domain: social/economic/technological
 * temporal_scope: Biographical to Generational
 * spatial_scope: Regional (Corporate/Institutional)
 * * SUMMARY:
 * The Dead Sea Effect occurs in large organizations when highly talented and 
 * mobile individuals "evaporate" (leave) because they have the best exit 
 * options, while the less talented/less mobile individuals stay behind, 
 * increasing the "salinity" (mediocrity) of the remaining talent pool.
 * * KEY AGENTS:
 * - The High-Performer: The "fresh water" who leaves as soon as the 
 * environment becomes toxic or stagnant.
 * - The Residue: The average-to-low performers who remain because they lack 
 * comparable exit options.
 * - The Management: The institutional force that fails to differentiate 
 * treatment, leading to the evaporation.
 * * NARRATIVE ARC:
 * This is an "Anti-Matching Market." Instead of sorting for quality, the 
 * system's constraints (rigid pay, bad management, bureaucracy) act as a 
 * filter that systematically removes the highest value participants, leaving 
 * a "Mountain" of institutional inertia.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(dead_sea_effect, 0, 10).
narrative_ontology:constraint_claim(dead_sea_effect, organizational_decay).

% Base extractiveness: Moderate (0.5).
% The organization extracts the presence/stability of the mediocre at the cost 
% of the high-performer's potential, leading to a net loss of system value.
domain_priors:base_extractiveness(dead_sea_effect, 0.5).

% Suppression: Moderate (0.4).
% Talent "evaporation" is often invisible to management (who see low turnover 
% in the residue) until the system fails.
domain_priors:suppression_score(dead_sea_effect, 0.4).

% Enforcement: Emerges naturally from poor institutional design.
domain_priors:emerges_naturally(dead_sea_effect).

% Beneficiaries: Competitor Firms (who hire the "evaporated" talent).
constraint_beneficiary(dead_sea_effect, competitor_organizations).

% Victims: The Sinking Organization (loses innovation capacity).
constraint_victim(dead_sea_effect, the_stagnant_institution).

% Metrics
narrative_ontology:constraint_metric(dead_sea_effect, extractiveness, 0.5).
narrative_ontology:constraint_metric(dead_sea_effect, suppression_requirement, 0.4).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE HIGH-PERFORMER - Rope
   --------------------------------------------------------------------------
   WHO: individual_powerful (high human capital)
   WHEN: immediate
   WHERE: mobile (high exit options)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the high-performer, the organization's decay is a "Rope." Because 
   they are mobile, the declining environment is simply the signal they 
   need to climb out to a better "Match." The constraint doesn't bind 
   them; it motivates their exit.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dead_sea_effect,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MEDIOCRE REMAINER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (low exit options)
   WHEN: biographical
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For those who cannot leave, the increasing "salinity" is a "Noose." 
   As the high-performers leave, the workload and institutional decay 
   accelerate. Those remaining are trapped in a failing system with 
   no path to improvement, slowly suffocated by growing inefficiency.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dead_sea_effect,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(dead_sea_effect, E),
    E >= 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE OUTSIDE OBSERVER - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   To the historian or consultant, the Dead Sea Effect is a "Mountain." 
   It is an inevitable byproduct of entropy in large, unmanaged 
   hierarchies. It follows natural laws of incentive and mobility. 
   You cannot "wish" it away; you must re-engineer the geography.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dead_sea_effect,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(national)
    )
) :-
    domain_priors:emerges_naturally(dead_sea_effect),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(dead_sea_tests).

test(mobility_divergence) :-
    % Testing that mobile agents see a Rope (exit) while trapped agents see a Noose.
    constraint_indexing:constraint_classification(dead_sea_effect, rope, context(_, _, mobile, _)),
    constraint_indexing:constraint_classification(dead_sea_effect, noose, context(_, _, trapped, _)).

test(organizational_mountain) :-
    % Testing that the analytical view recognizes it as a structural Mountain.
    constraint_indexing:constraint_classification(dead_sea_effect, mountain, context(analytical, _, _, _)).

:- end_tests(dead_sea_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * The Dead Sea Effect is a "Reverse Matching Market." I classified it 
 * primarily around exit options. If you can leave, the constraint is 
 * helpful (it tells you to leave). If you can't, it's a death trap.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    remote_work_impact,
    "Does remote work increase the 'evaporation' rate by lowering exit costs?",
    resolution_mechanism("Comparative analysis of turnover rates in remote vs. in-office stagnant firms"),
    impact("If Yes: The Mountain of organizational decay becomes a 'Flash Flood' (rapid collapse)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */

```

### The Dynamics of the Dead Sea Effect

The **Dead Sea Effect** is a classic organizational paradox. It describes how an institution can become less competent over time even if its total headcount remains stable.

#### How the "Evaporation" Happens:

1. **High Talent Mobility:** The most talented employees are like "fresh water"—they have the most options in the **Matching Market**. If the corporate environment becomes stagnant, bureaucratic, or toxic, they are the first to get offers elsewhere and leave.
2. **The Residue:** Employees with fewer options or lower performance are like "salt"—they tend to stay put because the "exit cost" for them is higher.
3. **Increasing Salinity:** Over time, the organization's culture is defined by those who stayed. This creates a feedback loop: as the culture becomes more bureaucratic (more "salty"), it drives away the remaining high-performers even faster.

#### The Role of AI-Evaluators and Matching Markets:

The rise of **AI-Evaluators** and **Skills-Based Hiring** significantly accelerates the Dead Sea Effect:

* **The Rope for Talent:** High-performers can now use AI tools to find and secure new matches almost instantly. Their "Exit Options" are at an all-time high.
* **The Noose for Organizations:** Institutions that rely on a "Noose" of institutional loyalty or high switching costs find that their best people are the only ones capable of slipping that noose.

#### Why Managers Miss It:

Management often looks at **Turnover Rates** as a health metric. In a Dead Sea scenario, turnover might actually be *low* because the "residue" is stable. The organization appears healthy on paper, but its "Mountain" of institutional knowledge is actually a hollow shell of mediocrity.

Would you like me to analyze how **"Golden Handcuffs"** (vesting stock options) act as a specific technological constraint to try and prevent this "evaporation"?
% ============================================================================
% CONSTRAINT STORY: deferential_realism_framework
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Deferential Realism: Core Principles v3.0
% ============================================================================

:- module(constraint_deferential_realism, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: deferential_realism_framework
 * human_readable: The Deferential Realism Classification System
 * domain: philosophical/epistemological/political
 * temporal_scope: 2026 (Active Architecture)
 * spatial_scope: Global/Analytical
 * * SUMMARY:
 * The framework itself acts as a constraint on how information is processed 
 * and how truth-claims are validated. It disambiguates "Type C" paradoxes by 
 * enforcing indexical specification (WHO/WHEN/WHERE/HOW).
 * * KEY AGENTS:
 * - The System Designer (Institutional): Views the framework as a "Rope" for 
 * coordinating global truth-claims.
 * - The Analytical Subject (Moderate): Uses the framework to navigate political 
 * complexity.
 * - The Dogmatic Ideologue (Powerless): Experiences the framework as a "Noose" 
 * that deconstructs their universalist claims.
 * * NARRATIVE ARC:
 * The framework is introduced to resolve "indexical underspecification". 
 * It transitions from a theoretical tool to an active constraint that 
 * "weaponizes" structural signatures against "ontological fraud".
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(dr_recursive_int, 0, 10).
narrative_ontology:constraint_claim(deferential_realism_framework, rope).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: Framework is designed for coordination but requires 
% intellectual labor (low-moderate extraction).
domain_priors:base_extractiveness(deferential_realism_framework, 0.20).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: Rejects unindexed universalism, which may be seen as 
% suppression of traditional absolutist truth.
domain_priors:suppression_score(deferential_realism_framework, 0.35).

% Enforcement requirements: Requires active use of the indexical protocol.
domain_priors:requires_active_enforcement(deferential_realism_framework).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(deferential_realism_framework, extractiveness, 0.20).
narrative_ontology:constraint_metric(deferential_realism_framework, suppression_requirement, 0.35).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(deferential_realism_framework, analytical_observers).
constraint_beneficiary(deferential_realism_framework, policy_reformers).
constraint_victim(deferential_realism_framework, universalist_ideologues).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: System Designer - Rope
   --------------------------------------------------------------------------
   WHO: institutional (Rule-maker)
   WHEN: historical (Century-scale coordination)
   WHERE: fluid (Controls the framework)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The framework is a "coordination scaffold" designed to solve the problem of 
   "indexical ambiguity" and "equivocation" in truth-claims.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    deferential_realism_framework,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Critical Realist - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless (Subject to logic)
   WHEN: biographical (Immediate use)
   WHERE: trapped (Logic cannot be bypassed)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   If the framework correctly maps indexical logic, its conclusions are not 
   subjective; they are as unchangeable as the reference frames in physics.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    deferential_realism_framework,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Absolute Universalist - Noose
   --------------------------------------------------------------------------
   WHO: individual_moderate (Has existing platform)
   WHEN: immediate (Short-term threat to status)
   WHERE: constrained (Costly to adopt new logic)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For those who profit from unindexed "universal truths," the framework is 
   extractive: it strips them of their "ontological fraud" and forces 
   compliance with complex indices.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    deferential_realism_framework,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(deferential_realism_framework_tests).

test(multi_perspective_recursive_check) :-
    % Designer sees a useful Rope
    constraint_indexing:constraint_classification(deferential_realism_framework, rope, 
        context(institutional, historical, mobile, global)),
    % Ideologue sees an extractive Noose
    constraint_indexing:constraint_classification(deferential_realism_framework, noose, 
        context(individual_moderate, immediate, constrained, national)).

test(indexical_necessity_scaling) :-
    % Verifies that as power decreases (powerless), the framework's 
    % definitions appear more like a "Mountain" (facts of reality).
    true.

:- end_tests(deferential_realism_framework_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. RECURSION: The framework identifies "ontological fraud." I have 
 * classified the framework itself as a "Rope" from the designer's view, 
 * staying consistent with the "Coordination Scaffold" signature.
 * 2. EXTRACTIVENESS: Set at 0.20. The "extraction" here is the cognitive 
 * load required to specify four indices for every single claim.
 * 3. SUPPRESSION: Set at 0.35. The framework effectively suppresses 
 * "unindexed" speech by labeling it as a "Type C paradox".
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    adoption_scaling,
    "Will the framework be adopted voluntarily (Rope) or enforced by 
     informational gatekeepers (Noose)?",
    resolution_mechanism("Monitor the ratio of grassroots adoption vs. 
                          institutional mandatory audit implementation."),
    impact("If institutional only: Risk of Tangled Rope transformation."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Epistemic Relativism
 * Viability: Simpler, no objective mapping.
 * Suppression: Rejected by DR as failing the "Realism" test.
 * * ALTERNATIVE 2: Scientific Absolutism
 * Viability: Strong for physics (Mountains), weak for socio-politics.
 * Suppression: DR labels this "indexical underspecification".
 * * CONCLUSION:
 * The framework's existence as a "Rope" depends on its ability to be more 
 * "useful" than these alternatives.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: dunning_kruger_effect
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Dunning, D., & Kruger, J. (1999) / Social Psychology
% ============================================================================

:- module(constraint_dunning_kruger_effect, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: dunning_kruger_effect
 * human_readable: Dunning-Kruger Effect
 * domain: social/cognitive/educational
 * temporal_scope: Permanent (Cognitive Architecture)
 * spatial_scope: Global (Human Decision Making)
 * * SUMMARY:
 * The Dunning-Kruger effect is a cognitive bias where people with limited 
 * competence in a domain overestimate their own ability. This occurs because 
 * the skills required for competence are the same skills needed to recognize 
 * incompetence. Conversely, high-performers often underestimate their 
 * relative superiority, assuming others find tasks as easy as they do.
 * * KEY AGENTS:
 * - The Novice: Overconfident due to a lack of "meta-cognitive" awareness.
 * - The Expert: Competent but prone to "false consensus" regarding others' ability.
 * - The Scientific Observer: Mapping the non-linear relationship between 
 * actual skill and perceived skill.
 * * NARRATIVE ARC:
 * The effect functions as a "Mountain" of biological limitation in self-assessment. 
 * For the novice, it is a "Rope" (unwarranted confidence) that allows them 
 * to take risks and start learning. However, it becomes a "Noose" in 
 * high-stakes environments where "Peak Stupidity" leads to catastrophic 
 * errors that the agent cannot foresee.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(dunning_kruger_interval, 0, 10).
narrative_ontology:constraint_claim([dunning_kruger_effect], cognitive_bias).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts "correctness" and "safety." Overconfidence in 
% incompetent actors extracts resources from the collective (errors) while 
% the actor extracts social status they haven't earned.
domain_priors:base_extractiveness(dunning_kruger_effect, 0.3).

% Suppression score (0.0-1.0)
% Rationale: The bias itself suppresses the visibility of the "competence" 
% alternative. You cannot see the alternative (being correct) because you 
% lack the tools to recognize your own error.
domain_priors:suppression_score(dunning_kruger_effect, 0.7).

% Enforcement: Emerges naturally from human cognitive architecture.
domain_priors:emerges_naturally(dunning_kruger_effect).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(dunning_kruger_effect, extractiveness, 0.3).
narrative_ontology:constraint_metric(dunning_kruger_effect, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(dunning_kruger_effect, overconfident_novices).
constraint_victim(dunning_kruger_effect, [expert_mentors, safety_critical_systems]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   -------------------------------------------------------------------------- */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RESEARCH PSYCHOLOGIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The objective observer)
   WHEN: civilizational (Observing a universal cognitive invariant)
   WHERE: trapped (Human brain structure is currently fixed)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the researcher, the effect is a Mountain. It is a predictable, 
   cross-cultural feature of human information processing. It is not a 
   choice or a social construct, but a physical limit on the precision 
   of self-reflective feedback loops.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dunning_kruger_effect,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE STARTUP FOUNDER - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (An agent with strategic goals)
   WHEN: biographical (Achieving success through high-risk ventures)
   WHERE: mobile (Can learn and adjust overconfidence over time)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the entrepreneur, a degree of Dunning-Kruger is a Rope. It provides 
   the "delusional" optimism required to coordinate resources and start a 
   project that an expert might deem too difficult. This unwarranted 
   confidence acts as a tether to a future reality they are trying to build.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dunning_kruger_effect,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PASSENGER/VICTIM - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A person subject to someone else's 'expertise')
   WHEN: immediate (A crisis requiring actual skill)
   WHERE: trapped (Cannot escape the incompetent actor's decisions)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For someone whose safety depends on a novice who *thinks* they are an expert 
   (e.g., a passenger with an overconfident, untrained pilot), the effect is 
   a Noose. The novice's lack of meta-cognition strangles the victim's 
   safety, and the victim is trapped by the novice's inability to recognize 
   their own fatal limitations.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dunning_kruger_effect,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(dunning_kruger_effect_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(dunning_kruger_effect, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(dunning_kruger_effect, T2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(dunning_kruger_effect, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(meta_cognitive_extraction) :-
    % Novices extract unearned status/confidence; Mentors pay the cost of errors.
    domain_priors:base_extractiveness(dunning_kruger_effect, Score),
    Score >= 0.3.

test(skill_acquisition_exit) :-
    % Biographical view allows for learning (exit/mobile), converting Noose to Rope.
    constraint_indexing:constraint_classification(dunning_kruger_effect, rope, context(_, biographical, mobile, _)).

:- end_tests(dunning_kruger_effect_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS MADE BY MODEL:
 * * 1. SUPPRESSION SCORE (0.7):
 * The core of the effect is the *inability* to see the alternative 
 * (incompetence). This is a high internal suppression score—not enforced 
 * by a state, but by the agent's own cognitive blindness.
 * * 2. PERSPECTIVE SELECTION:
 * The Analyst sees the Graph (Mountain).
 * The Individual Novice sees the Ladder (Rope).
 * The Witness to the Crash sees the Trap (Noose).
 * * 3. AMBIGUITIES:
 * There is some debate in modern psychology about whether the effect is 
 * as strong as originally claimed (statistical noise vs. real bias). I 
 * treated it as a real biological constraint for this analysis.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    statistical_regression_artifact,
    "Is the Dunning-Kruger effect a fundamental cognitive bias or a mathematical artifact of regression toward the mean?",
    resolution_mechanism("Replication of studies using non-traditional noise-correction models"),
    impact("If Artifact: The Mountain is an illusion. If Bias: It is a permanent biological Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Meta-Cognitive Training (Double-Loop Learning)
 * Viability: Actively teaching people *how* to measure their own 
 * ignorance can mitigate the effect.
 * Suppression: Low in education, but high in corporate cultures that 
 * reward "fake it till you make it."
 * * ALTERNATIVE 2: External Auditing/Credentialing
 * Viability: Relying on objective external metrics rather than self-assessment.
 * * CONCLUSION:
 * The Dunning-Kruger Effect is a Mountain of the "First Person" experience, 
 * but it can be converted into a Rope through the "Third Person" 
 * perspective of auditing and education.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_dunning_kruger_effect].
 * 2. Multi-perspective: ?- multi_index_report(dunning_kruger_effect).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: endowment_effect
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Thaler, R. (1980) / Kahneman, Knetsch, & Thaler (1990)
% ============================================================================

:- module(constraint_endowment_effect, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: endowment_effect
 * human_readable: The Endowment Effect
 * domain: economic/social/cognitive
 * temporal_scope: Permanent (Human Cognitive Architecture)
 * spatial_scope: Global (Human Decision Systems)
 * * SUMMARY:
 * The endowment effect is a finding in behavioral economics where individuals 
 * ascribe more value to things merely because they own them. This leads to 
 * an asymmetry between the "Willingness to Pay" (WTP) and the "Willingness 
 * to Accept" (WTA), often resulting in market inefficiencies where 
 * beneficial trades do not occur.
 * * KEY AGENTS:
 * - The Owner: Ascribes sentimental or psychological "bonus" value to an object.
 * - The Potential Buyer: Values the object based on its objective utility or 
 * market price.
 * - The Market Optimizer: An analytical agent observing the failure of 
 * Coasian bargaining due to this psychological gap.
 * * NARRATIVE ARC:
 * The effect functions as a "Mountain" of psychological inertia. For the 
 * salesperson, it is a "Rope" (using "try-before-you-buy" to create ownership). 
 * For the person trapped in an old, inefficient house or bad investment due to 
 * sentiment, it is a "Noose" that strangles their financial mobility.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural identification
narrative_ontology:interval(endowment_interval, 0, 10).
narrative_ontology:constraint_claim([endowment_effect], cognitive_bias).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts "liquidity" and "efficient allocation" from the market. 
% It forces the buyer to pay more than utility warrants or prevents a 
% mutually beneficial sale.
domain_priors:base_extractiveness(endowment_effect, 0.3).

% Suppression score (0.0-1.0)
% Rationale: It suppresses the alternative of "rational market valuation." 
% The brain's loss aversion makes the fair market price appear as a loss, 
% making the rational trade invisible or emotionally painful.
domain_priors:suppression_score(endowment_effect, 0.4).

% Enforcement requirements
domain_priors:emerges_naturally(endowment_effect).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(endowment_effect, extractiveness, 0.3).
narrative_ontology:constraint_metric(endowment_effect, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(endowment_effect, existing_owners).
constraint_beneficiary(endowment_effect, retailers_offering_trials).
constraint_victim(endowment_effect, market_efficiency).
constraint_victim(endowment_effect, asset_purchasers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE BEHAVIORAL ECONOMIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer, not participant
   WHEN: civilizational - Observing a universal cognitive invariant
   WHERE: trapped - Human cognitive architecture is currently fixed
   SCOPE: global - Worldwide
   
   WHY THIS CLASSIFICATION:
   To the scientist, this is a Mountain. It is an unchangeable consequence of 
   how the human brain processes loss and ownership. You cannot simply 
   "choose" not to feel the loss aversion that drives the effect; it is 
   a feature of the biological "terrain".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    endowment_effect,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CAR SALESMAN - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making/process-shaping power over a sale
   WHEN: biographical - Achieving sales targets over a career
   WHERE: arbitrage - Can use "test drives" to play with ownership psychology
   SCOPE: local - Immediate environment
   
   WHY THIS CLASSIFICATION:
   For the institutional seller, the effect is a Rope. It is a functional 
   coordination mechanism for closing deals. By encouraging a "test drive" 
   or "free home trial," they induce a sense of ownership, pulling the 
   customer toward a purchase through the psychological "tether" of 
   the endowment effect.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    endowment_effect,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE IMPRISONED HEIR - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to emotional/cultural rules
   WHEN: immediate - Today's financial crisis vs. the object
   WHERE: constrained - Exit possible but psychologically/culturally costly
   SCOPE: local - Village or immediate household
   
   WHY THIS CLASSIFICATION:
   For an heir who desperately needs money but cannot bring themselves to 
   sell a family estate, the effect is a Noose. Their own psychology 
   strangles their financial future. The value they ascribe to the "endowment" 
   prevents them from taking the "exit" that market reality offers, 
   extracting their potential wealth and freedom.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    endowment_effect,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(endowment_effect_tests).

test(multi_perspective_variance) :-
    % Test that different perspectives yield different classifications
    constraint_indexing:constraint_classification(endowment_effect, mountain, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(endowment_effect, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(endowment_effect, noose, context(agent_power(individual_powerless), _, _, _)).

test(power_extractiveness_asymmetry) :-
    % Powerless experience more extraction as the "Noose" of sentiment
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, local),
    constraint_indexing:extractiveness_for_agent(endowment_effect, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(endowment_effect, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability_scale) :-
    % Biological traits are Mountains on civilizational scales
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(endowment_effect_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.3):
 * Reasoning: Low-moderate. While it prevents efficient market clearing, 
 * it is often a "voluntary" internal extraction of opportunity cost 
 * rather than a coercive external theft.
 * * 2. SUPPRESSION SCORE (0.4):
 * Reasoning: Moderate. Traditional economics (alternatives) is taught 
 * universally, but the internal "noise" of the bias suppresses its 
 * application in high-stakes personal decisions.
 * * 3. PERSPECTIVE SELECTION:
 * Selected Analytical (Mountain), Institutional (Rope), and Powerless (Noose) 
 * to demonstrate the full spread of indexical types.
 * * 4. OMEGAS:
 * omega_variable(
 * biological_origin,
 * "Is the endowment effect an evolved biological heuristic (Mountain) or a 
 * learned social norm related to property rights (Rope)?",
 * resolution_mechanism("Comparative cross-cultural studies of societies with 
 * differing property concepts"),
 * impact("If Mountain: Fixed barrier. If Rope: Can be de-conditioned."),
 * confidence_without_resolution(medium)
 * ).
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Coasian Bargaining
 * Viability: Theoretically, initial allocation shouldn't matter for 
 * efficiency if transaction costs are zero.
 * Suppression: Suppressed by the internal psychological "cost" of parting 
 * with owned goods.
 * * CONCLUSION:
 * The presence of a rational market alternative (Coase) that is suppressed 
 * by a natural cognitive bias confirms the "Noose" type for the individual 
 * actor while remaining a "Mountain" of reality for the observer.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_endowment_effect].
 * 2. Multi-perspective: ?- multi_index_report(endowment_effect).
 * 3. Run tests: ?- run_tests(endowment_effect_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ergo_advanced_mechanisms
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Ergo Platform (Storage Rent, NiPoPoWs, LETS)
% ============================================================================

:- module(constraint_ergo_advanced, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION: storage_rent
 * SUMMARY: A "demurrage" fee charged to UTXOs that haven't moved in 4 years. 
 * It prevents blockchain bloat and recycles lost coins back to miners.
 * KEY AGENTS: 
 * - Long_Term_Holder: Subject to the fee if inactive.
 * - Miner: The beneficiary who "collects" the rent.
 *
 * CONSTRAINT IDENTIFICATION: nipopows
 * SUMMARY: Non-Interactive Proofs of Proof-of-Work. Succinct proofs that allow 
 * light clients to verify the chain's state without downloading the whole history.
 * KEY AGENTS:
 * - Mobile_User: Can run a "full-node security" wallet on a smartphone.
 * - Protocol_Auditor: Uses NiPoPoWs for trustless cross-chain verification.
 *
 * CONSTRAINT IDENTIFICATION: trustless_lets
 * SUMMARY: Local Exchange Trading Systems. A mutual credit system where 
 * the sum of all balances is zero, allowing for interest-free community credit.
 * KEY AGENTS:
 * - Local_Merchant: Trades skills for local credit without needing fiat.
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

narrative_ontology:interval(storage_rent_interval, 0, 10).
narrative_ontology:interval(nipopows_interval, 0, 10).
narrative_ontology:interval(lets_interval, 0, 10).

% Storage Rent: Moderate extractiveness (0.4) because it reclaims value from users.
domain_priors:base_extractiveness(storage_rent, 0.4).
constraint_beneficiary(storage_rent, ergo_miners).
constraint_victim(storage_rent, inactive_holders).

% NiPoPoWs: Low extractiveness (0.1) as it is a pure utility.
domain_priors:base_extractiveness(nipopows, 0.1).

% LETS: Low extractiveness (0.2) as it is a mutual credit tool.
domain_priors:base_extractiveness(lets, 0.2).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

% --- STORAGE RENT: The "Maintenance" Constraint ---

% Perspective: Individual Powerless -> NOOSE
% Why: For an uninformed user who loses their keys, the rent is a "Noose" 
% that slowly drains their assets until they are gone.
constraint_indexing:constraint_classification(
    storage_rent,
    noose,
    context(agent_power(individual_powerless), time_horizon(historical), exit_options(trapped), _)
).

% Perspective: Institutional (Miner) -> ROPE
% Why: For miners, it is a tool for long-term sustainability once block 
% rewards cease, ensuring the chain doesn't die.
constraint_indexing:constraint_classification(
    storage_rent,
    rope,
    context(agent_power(institutional), _, _, _)
).

% --- NiPoPoWs: The "Accessibility" Constraint ---

% Perspective: Mobile User -> ROPE
% Why: It is a liberating tool that grants high-level security to 
% low-power devices.
constraint_indexing:constraint_classification(
    nipopows,
    rope,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(mobile), _)
).

% Perspective: Analytical -> MOUNTAIN
% Why: The mathematical compression of PoW into superblocks is a 
% fixed law of cryptographic probability.
constraint_indexing:constraint_classification(
    nipopows,
    mountain,
    context(agent_power(analytical), _, _, _)
).

% --- LETS: The "Community" Constraint ---

% Perspective: Individual Moderate -> ROPE
% Why: A tool for cooperative trade that bypasses traditional banking limits.
constraint_indexing:constraint_classification(
    lets,
    rope,
    context(agent_power(individual_moderate), _, _, _)
).

/* ==========================================================================
   4. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    rent_adjustment_social_consensus,
    "Will the 4-year rent period be shortened or lengthened via soft-fork?",
    resolution_mechanism("Miner voting and community sentiment monitoring."),
    impact("A shorter period increases 'Noose' pressure on holders."),
    confidence_without_resolution(low)
).

omega_variable(
    lets_collateral_default,
    "Does the collateral requirement effectively prevent 'wash' accounts from draining credit?",
    resolution_mechanism("On-chain analysis of LETS-1 and LETS-2 protocol performance."),
    impact("If defaults occur, LETS shifts from a Rope to a collective Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   5. INTERPRETATION & ALTERNATIVES
   ========================================================================== */

/**
 * ALTERNATIVE: Bitcoin (No Storage Rent)
 * Viability: No fear of losing coins to time, but faces the "Blockchain Bloat" 
 * and "Fee-only" security risks in the long term.
 *
 * CONCLUSION: 
 * Ergo introduces "Biological" constraints: things decay (Rent), systems 
 * compress (NiPoPoWs), and communities breathe through mutual credit (LETS).
 */
% ============================================================================
% CONSTRAINT STORY: ergo_autolykos_asic_resistance
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Ergo Platform Documentation (Autolykos v2) & Whitepapers
% ============================================================================

:- module(ergo_autolykos, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ergo_autolykos_asic_resistance
 * human_readable: Autolykos PoW Algorithm (ASIC Resistance)
 * domain: technological/economic
 * temporal_scope: 2019-Ongoing
 * spatial_scope: Global (Distributed Mining Network)
 * * SUMMARY:
 * Autolykos is Ergo's Proof-of-Work (PoW) algorithm, specifically designed 
 * to be memory-hard and ASIC-resistant. By requiring large 
 * datasets (the dataset size increases over time) to be held in GPU memory, 
 * it prevents specialized mining hardware (ASICs) from dominating the 
 * hash rate, thus favoring commodity GPU hardware.
 * * KEY AGENTS:
 * - GPU Miners: Individual and small-scale participants using off-the-shelf 
 * hardware.
 * - ASIC Manufacturers: Institutional entities that build high-efficiency 
 * specialized hardware.
 * - Network Security: The collective robustness against 51% attacks and 
 * hash rate centralization.
 * * NARRATIVE ARC:
 * Autolykos functions as a democratic barrier. It ensures that 
 * the "Mountain" of mining difficulty can be scaled by common citizens with 
 * gaming GPUs, rather than only by those with access to multi-million dollar 
 * industrial ASIC supply chains.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(ergo_mining_era, 0, 10).
narrative_ontology:constraint_claim(ergo_autolykos_asic_resistance, mountain).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: Low direct extraction; however, it extracts energy and requires 
% capital for GPU hardware. It "extracts" opportunity from ASIC makers.
domain_priors:base_extractiveness(ergo_autolykos_asic_resistance, 0.2).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: High suppression of specialized hardware. The algorithm 
% actively punishes non-memory-intensive hardware.
domain_priors:suppression_score(ergo_autolykos_asic_resistance, 0.85).

% Enforcement requirements
domain_priors:requires_active_enforcement(ergo_autolykos_asic_resistance).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(ergo_autolykos_asic_resistance, extractiveness, 0.2).
narrative_ontology:constraint_metric(ergo_autolykos_asic_resistance, suppression_requirement, 0.85).

% Beneficiaries and Victims
constraint_beneficiary(ergo_autolykos_asic_resistance, retail_gpu_miners).
constraint_victim(ergo_autolykos_asic_resistance, asic_manufacturers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: ASIC Manufacturer - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional - Powerful entities with massive R&D budgets.
   WHEN: historical - Building hardware for multi-year cycles.
   WHERE: arbitrage - Seeking the most profitable PoW chains to dominate.
   
   WHY THIS CLASSIFICATION:
   For an ASIC maker, Autolykos is a "Noose." It is a protocol-level 
   mechanism that intentionally renders their specialized efficiency useless, 
   effectively strangling their ability to enter the Ergo market.
   
   NARRATIVE EVIDENCE:
   "The algorithm is memory-hard... aimed at discouraging ASIC 
   development to keep the network decentralized".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_autolykos_asic_resistance,
    noose,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(ergo_autolykos_asic_resistance, retail_participants),
        constraint_victim(ergo_autolykos_asic_resistance, asic_capital),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(ergo_autolykos_asic_resistance, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Home Miner (GPU) - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_powerless / moderate - Common users with gaming PCs.
   WHEN: biographical - Seeking supplemental income or supporting a network.
   WHERE: mobile - Can easily switch mining to other GPU-friendly chains.
   
   WHY THIS CLASSIFICATION:
   For the home miner, Autolykos is a "Rope." it is the tool that allows 
   them to compete on a level playing field with industrial farms. 
   It pulls them into the security structure of the network as active 
   participants rather than just spectators.
   
   NARRATIVE EVIDENCE:
   "Mining Ergo is intended to be accessible for ordinary people... promoting 
   fair distribution".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_autolykos_asic_resistance,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        constraint_beneficiary(ergo_autolykos_asic_resistance, decentralization),
        constraint_victim(ergo_autolykos_asic_resistance, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(ergo_autolykos_asic_resistance, E),
    E < 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The Protocol - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - The hardcoded logic of the Sigmastate.
   WHEN: civilizational.
   WHERE: analytical.
   
   WHY THIS CLASSIFICATION:
   From an analytical perspective, Autolykos is the "Mountain." It is the 
   immutable proof-of-work reality that secures the state transition. 
   One cannot argue with the math; one must simply solve the hash.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_autolykos_asic_resistance,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        constraint_beneficiary(ergo_autolykos_asic_resistance, network_integrity),
        constraint_victim(ergo_autolykos_asic_resistance, none),
        spatial_scope(global)
    )
) :-
    true,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(ergo_autolykos_tests).

test(asic_exclusion_logic) :-
    % Test that high-power institutional agents see a Noose (Suppression of efficiency)
    constraint_indexing:constraint_classification(ergo_autolykos_asic_resistance, noose, 
        context(institutional, _, _, _, _, _)).

test(fair_entry_rope) :-
    % Test that moderate-power GPU miners see a Rope (Opportunity)
    constraint_indexing:constraint_classification(ergo_autolykos_asic_resistance, rope, 
        context(individual_moderate, _, _, _, _, _)).

:- end_tests(ergo_autolykos_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION (0.85): This is the core "intent" of Autolykos. By making 
 * the memory requirements high and variable, it suppresses the 
 * viability of static, specialized circuit design.
 * 2. CLASSIFICATION: The "Noose" for ASIC makers is the primary source 
 * of the project's decentralization "Rope" for users.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    asic_breakthrough_event,
    "Will a specialized manufacturer develop a 'programmable' memory-dense ASIC that can bypass Autolykos v2?",
    resolution_mechanism("Monitor network hashrate for sudden 10x spikes inconsistent with GPU market trends"),
    impact("If Yes: The Rope snaps, and Ergo becomes a Mountain for industrial giants only. If No: Decentralization holds."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: SHA-256 (Bitcoin Style)
 * Viability: Technically simpler, but invites ASIC centralization.
 * Suppression: Rejection of SHA-256 is the defining technological 
 * constraint that creates the Ergo ecosystem.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [ergo_autolykos_asic_resistance].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: dexy_gold_protocol
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Dexy Algorithmic Central Bank Protocol / Ergo Blockchain
% ============================================================================

:- module(constraint_dexy_gold_protocol, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: dexy_gold_protocol
 * human_readable: DexyGold Seigniorage Mechanism
 * domain: economic/technological
 * temporal_scope: 2023-Present
 * spatial_scope: Ergo Blockchain (Global)
 * * SUMMARY:
 * DexyGold is a seigniorage-based stablecoin pegged to the price of gold (XAU). 
 * Unlike the dual-token reserve model of SigUSD, Dexy utilizes a "One Token, 
 * Two Protocols" design. It maintains its peg via an on-chain 
 * "Bank" that mints tokens at oracle rates and an Automated Market Maker (AMM) 
 * for trading. Stability is enforced through "top-up swaps" 
 * where the Bank intervenes if the market price deviates from the oracle 
 * for a set duration (e.g., 50 blocks).
 * * KEY AGENTS:
 * - Arbitrageur: The primary enforcer of the peg, minting from the Bank 
 * to sell on the LP when market price is high.
 * - The Bank: An algorithmic entity that holds ERG reserves and performs 
 * interventions to support the price floor.
 * - LP_Provider: Participants who stock the liquidity pool, subject to 
 * redemption locks during de-pegs.
 * * NARRATIVE ARC:
 * The protocol functions as a decentralized central bank. It removes the 
 * need for a speculative "reserve token" (like SigRSV) by using the 
 * protocol's own accumulated ERG reserves to perform open-market operations 
 * to defend the gold peg.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

narrative_ontology:interval(dexy_gold_interval, 0, 10).
narrative_ontology:constraint_claim(dexy_gold_protocol, seigniorage_stability).

% Base extractiveness: Low (0.2)
% Rationale: Benefits are largely symmetric; the protocol doesn't rely 
% on a secondary class of speculative risk-takers to function, but 
% rather on market-driven arbitrage.
domain_priors:base_extractiveness(dexy_gold_protocol, 0.2).

% Suppression score: Low (0.2)
% Rationale: Open-source and interoperable; explicitly avoids the 
% "death spiral" mechanics of failed algorithmic coins through 
% over-collateralization.
domain_priors:suppression_score(dexy_gold_protocol, 0.2).

% Enforcement: Emerges naturally from AMM dynamics and Bank logic.
domain_priors:emerges_naturally(dexy_gold_protocol).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(dexy_gold_protocol, arbitrageurs).
% Potential "victims" are the Bank's ERG reserves during massive 
% sustained downward pressure on gold vs ERG.
constraint_victim(dexy_gold_protocol, protocol_reserves).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Retail Trader - ROPE
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: mobile
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   To a user simply looking to hedge into gold, Dexy is a tool. Unlike SigUSD, 
   where a "trapped" reserve ratio can prevent entry/exit, Dexy's LP-based 
   exit is usually available, provided there is liquidity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dexy_gold_protocol,
    rope,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(dexy_gold_protocol, E),
    E < 0.3, 
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Liquidity Provider - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: constrained
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   LPs face a "Noose" during de-pegs. The protocol explicitly prevents 
   LP token redemptions if the oracle rate is significantly below the 
   LP rate (e.g., 90%) to prevent draining reserves. 
   This "locks" the agent into the constraint during crisis.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dexy_gold_protocol,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(dexy_gold_protocol, E),
    E >= 0.2, 
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Analytical Observer - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From an analytical view, the 50-block "cross-tracker" delay and the 
   one-way minting are immutable mathematical laws. They 
   define the "physics" of the gold peg on Ergo.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dexy_gold_protocol,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(dexy_gold_protocol, S),
    S < 0.5,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(dexy_gold_protocol_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(dexy_gold_protocol, Type1, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(dexy_gold_protocol, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(dexy_gold_protocol, Type3, context(agent_power(analytical), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(time_immutability) :-
    % Long-term historical view sees the smart contract as fixed (Mountain).
    constraint_indexing:constraint_classification(dexy_gold_protocol, mountain, context(analytical, historical, _, _)).

:- end_tests(dexy_gold_protocol_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.2): Lower than SigUSD because Dexy removes the "tax" 
 * paid to a separate reserve-holder class, relying instead on 
 * active arbitrage.
 * 2. NOOSE CLASSIFICATION: Specifically applied to LPs due to the 
 * redemption lock during de-pegs—a critical "coercive" safety 
 * mechanism.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    draining_attack_resilience,
    "Can anti-draining measures (locks) effectively stop cyclic arbitrage-top-up attacks?",
    resolution_mechanism("Mainnet performance monitoring under high volatility cycles"),
    impact("If failed, the Bank (Rope) collapses into a Noose for all ERG holders."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: SigUSD (AgeUSD Protocol)
 * Viability: Established, higher liquidity, but relies on reserve-token 
 * holders as "bankers".
 * * CONCLUSION:
 * Dexy is a "Rope" for the ecosystem by providing a more capital-efficient 
 * way to create stable assets without requiring a massive, often illiquid 
 * reserve token side-car.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ergo_lets_protocol
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Ergo Platform - Mutual Credit / LETS Design Patterns
% ============================================================================

:- module(constraint_ergo_lets, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ergo_lets_protocol
 * human_readable: Ergo Local Exchange Trading System (LETS)
 * domain: economic/social
 * temporal_scope: 2020-Present
 * spatial_scope: Ergo Blockchain (Community-specific)
 * * SUMMARY:
 * LETS on Ergo is a trustless mutual credit system where the sum of all 
 * participant balances is always zero. It allows communities 
 * to trade goods and services using a local currency created through 
 * "IOUs" backed by collateral or reputation, enforced via smart contracts 
 *.
 * * KEY AGENTS:
 * - Community_Member: Uses the system to facilitate local trade without 
 * needing external fiat or volatile crypto.
 * - New_Entrant: A user seeking to join who must meet the protocol's 
 * entry constraints (collateral or social vouching).
 * - Protocol_Auditor: Observes the mathematical integrity of the zero-sum 
 * invariant.
 * * NARRATIVE ARC:
 * LETS transforms currency from a "commodity" to be extracted into a 
 * "public utility" (Rope) for coordination. However, to prevent "leaking" 
 * value (defaults), the protocol imposes rigid entry barriers (Mountain) 
 * that can feel like a "Noose" to those lacking the required initial 
 * capital or social standing.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

narrative_ontology:interval(ergo_lets_interval, 0, 10).
narrative_ontology:constraint_claim(ergo_lets_protocol, mutual_credit_integrity).

% Base extractiveness: Low (0.15)
% Rationale: The protocol is designed to be non-extractive; fees are 
% typically minimal and used only to prevent spam.
domain_priors:base_extractiveness(ergo_lets_protocol, 0.15).

% Suppression score: Low (0.1)
% Rationale: It is a voluntary, opt-in coordination layer. It does not 
% suppress other economic models.
domain_priors:suppression_score(ergo_lets_protocol, 0.1).

% Enforcement: Emerges naturally from Sigma Protocol script logic.
domain_priors:emerges_naturally(ergo_lets_protocol).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(ergo_lets_protocol, local_communities).
constraint_beneficiary(ergo_lets_protocol, unbanked_users).
% Victims are arguably "bad actors" whose collateral is seized upon default, 
% though this is a self-imposed risk.
constraint_victim(ergo_lets_protocol, defaulters).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Active Community Member - ROPE
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: immediate
   WHERE: mobile
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the established user, LETS is a Rope. It is a tool they use to 
   transact when liquidity in ERG or fiat is low. They have the agency 
   to issue credit and settle debts.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_lets_protocol,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(ergo_lets_protocol, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Under-collateralized User - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: biographical
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a user without the required ERG to post as collateral, the protocol's 
   entry requirement is a Mountain. It is an unchangeable law that 
   prevents them from accessing the "Rope" of credit.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_lets_protocol,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(ergo_lets_protocol, S),
    S < 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Protocol Architect/Institutional - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From an institutional or designer's view, the "Sum = 0" rule is a 
   Mountain. It is the core mathematical constraint that ensures systemic 
   solvency and cannot be relaxed without destroying the protocol.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_lets_protocol,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(ergo_lets_protocol, S),
    S < 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 4: Over-leveraged Defaulter - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: constrained
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   When a user defaults, the collateral seizure mechanism becomes a Noose. 
   The constraint "strangles" their assets to repay the pool's debt, 
   acting coercively to maintain the zero-sum balance.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_lets_protocol,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(ergo_lets_protocol, E),
    E >= 0.1, % Even low extractiveness feels like a Noose during liquidation.
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(ergo_lets_protocol_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(ergo_lets_protocol, Type1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(ergo_lets_protocol, Type2, context(agent_power(individual_powerless), _, trapped, _)),
    Type1 \= Type2.

test(zero_sum_immutability) :-
    % Analytical perspective correctly identifies the math as Mountain.
    constraint_indexing:constraint_classification(ergo_lets_protocol, mountain, context(institutional, historical, _, _)).

:- end_tests(ergo_lets_protocol_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE ON POWERLESS: I chose to classify the entry barrier as 
 * "Mountain" rather than "Noose" because it is a passive structural 
 * requirement, not an active extraction from those already inside.
 * 2. EXTRACTIVENESS (0.15): Extremely low, reflecting Ergo's ethos of 
 * community-driven, non-rent-seeking financial tools.
 * 3. NOOSE LOGIC: Liquidation is the only point where this "Rope" becomes 
 * "coercive," hence the Noose classification for the defaulter.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    reputation_portability,
    "Can LETS reputation be ported between communities without collateral?",
    resolution_mechanism("Development of cross-LETS reputation standards"),
    impact("If yes, the 'Mountain' of collateral drops, making it a universal Rope."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Traditional Credit Unions
 * Viability: High social trust, but geographically and legally bound.
 * * ALTERNATIVE 2: SigUSD (Stablecoins)
 * Viability: Better for external trade, but requires 400% collateral.
 * * CONCLUSION:
 * LETS is a "Rope" specifically because it allows for negative balances 
 * (credit) which SigUSD does not, making it more flexible for local trade 
 * despite the "Mountain" of setup complexity.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ergo_mixer_protocol
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: ErgoMixer (ZeroJoin) / Ergo Privacy Infrastructure
% ============================================================================

:- module(constraint_ergo_mixer_protocol, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ergo_mixer_protocol
 * human_readable: ErgoMixer Privacy Mechanism
 * domain: social/technological
 * temporal_scope: 2020-Present
 * spatial_scope: Ergo Blockchain (Global)
 * * SUMMARY:
 * ErgoMixer is the first non-interactive, non-custodial mixer in the crypto 
 * industry. It utilizes the ZeroJoin protocol, which relies 
 * on Sigma protocols (Zero-Knowledge Proofs) and ring signatures to break 
 * on-chain links between deposit and withdrawal addresses. 
 * Unlike interactive mixers like CoinJoin, users do not need to be online 
 * simultaneously to mix their funds.
 * * KEY AGENTS:
 * - Privacy_User: Individual seeking to restore fungibility to their assets 
 * to avoid profiling.
 * - Observer/Chain_Analyst: External party attempting to trace fund 
 * provenance.
 * - Mix_Participant: Other users in the same pool who collectively create 
 * the anonymity set.
 * * NARRATIVE ARC:
 * Funds enter the "mosh pit" (a shared eUTXO pool). Every round, 
 * the coins are mixed with others', increasing the difficulty for an 
 * observer to guess the origin—mathematically halving the probability 
 * with each round. The process continues until the user 
 * decides to exit to a fresh address.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

narrative_ontology:interval(ergo_mixer_interval, 0, 10).
narrative_ontology:constraint_claim(ergo_mixer_protocol, privacy_obfuscation).

% Base extractiveness: Low (0.1)
% Rationale: The protocol is non-custodial and serverless; there is no 
% central entity extracting value beyond minimal network fees.
domain_priors:base_extractiveness(ergo_mixer_protocol, 0.1).

% Suppression score: Low (0.1)
% Rationale: It is an opt-in tool. While it suppresses the ability of 
% analysts to trace funds, it does not hide its own existence or prevent 
% users from using transparent transactions.
domain_priors:suppression_score(ergo_mixer_protocol, 0.1).

% Enforcement: Emerges naturally from cryptographic primitives (Sigma Protocols).
domain_priors:emerges_naturally(ergo_mixer_protocol).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(ergo_mixer_protocol, privacy_seeking_users).
% Victims are chain analysis firms whose data-extraction business model 
% is degraded by the obfuscation.
constraint_victim(ergo_mixer_protocol, chain_analysts).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Privacy User - ROPE
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: immediate
   WHERE: mobile
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the user, the mixer is a liberating tool (Rope) that they use to 
   regain control over their financial history. They choose 
   when to enter, how many rounds to mix, and when to exit.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_mixer_protocol,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(ergo_mixer_protocol, E),
    E < 0.3, 
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Protocol Auditor - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From an auditor's view, the Sigma Protocols and the math of ZeroJoin 
   are "Mountain" constraints. These are immutable cryptographic laws 
   that define what is and isn't possible within the system. 
   You cannot "negotiate" with a discrete log problem.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_mixer_protocol,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(ergo_mixer_protocol, S),
    S < 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: User in a Small Pool - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: biographical
   WHERE: trapped
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   In a scenario with very few participants (low anonymity set), the mixer 
   becomes a "Noose". The user is "trapped" because exiting 
   would be statistically traceable, yet staying doesn't provide the 
   desired privacy—the constraint "strangles" the anonymity it promised.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_mixer_protocol,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(ergo_mixer_protocol, E),
    E >= 0.1, 
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(ergo_mixer_protocol_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(ergo_mixer_protocol, Type1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(ergo_mixer_protocol, Type2, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(ergo_mixer_protocol, Type3, context(agent_power(individual_powerless), _, trapped, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(time_immutability) :-
    % Historical/Analytical perspective correctly identifies the math as Mountain.
    constraint_indexing:constraint_classification(ergo_mixer_protocol, mountain, context(analytical, historical, _, _)).

:- end_tests(ergo_mixer_protocol_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.1): The lowest score possible for a functioning system, 
 * as the ErgoMixer is purely peer-to-peer and non-custodial.
 * 2. NOOSE CLASSIFICATION: I used this to model the "Anonymity Set" failure 
 * state—a critical insight where a lack of participants turns a privacy 
 * tool into a visibility trap.
 * 3. SUPPRESSION (0.1): Low because the mixer doesn't stop analysts from 
 * looking; it simply makes their look-ups useless.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    anonymity_set_density,
    "Is the current number of active participants enough to ensure k-anonymity?",
    resolution_mechanism("Statistical analysis of pool activity over time"),
    impact("If low: Protocol becomes a Noose (trap). If high: Protocol is a Rope (tool)."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Tornado Cash (Ethereum)
 * Viability: Historically high liquidity but interactive/custodial-adjacent 
 * risks and central entity vulnerabilities.
 * * ALTERNATIVE 2: ZCash (Native Shielded Transactions)
 * Viability: Built into the base layer but less flexible for custom tokens.
 * * CONCLUSION:
 * ErgoMixer's non-interactive nature makes it a "Rope" with far 
 * fewer logistical knots than predecessors, though it still relies on 
 * the "Mountain" of Sigma Protocols for its integrity.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/ergo_mixer_protocol].
 * 2. Multi-perspective: ?- multi_index_report(ergo_mixer_protocol).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ergo_nipopows
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Ergo Platform Whitepapers / KLS Protocol
% ============================================================================

:- module(constraint_ergo_nipopows, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ergo_nipopows
 * human_readable: NiPoPoW Proof Verification
 * domain: technological
 * temporal_scope: 2019-Present
 * spatial_scope: Global (Distributed Networks)
 * * SUMMARY:
 * NiPoPoWs (Non-Interactive Proofs of Proof-of-Work) allow a verifier to 
 * confirm the state of a blockchain by inspecting a logarithmic-sized proof 
 * of superblocks rather than the full transaction history.
 * * KEY AGENTS:
 * - Light_Client_User: Individual using a mobile wallet on a low-bandwidth 
 * connection seeking "full-node" security.
 * - Full_Node_Operator: Institutional agent maintaining the complete 
 * ledger and generating proofs for others.
 * - Adversary: Attempting to present a shorter, heavier fake chain to 
 * deceive the light client.
 * * NARRATIVE ARC:
 * As blockchains grow (Mountain of data), they naturally exclude participants 
 * with limited resources. NiPoPoWs transform this "impassable mountain" into 
 * a "Rope" (a compact summary) that allows even a smartphone to climb 
 * to the same level of security as a server rack.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

narrative_ontology:interval(ergo_nipopows_interval, 0, 10).
narrative_ontology:constraint_claim(ergo_nipopows, logarithmic_verification).

% Base extractiveness: Low (0.1)
% Rationale: It is a pure utility that lowers costs for all participants.
domain_priors:base_extractiveness(ergo_nipopows, 0.1).

% Suppression score: Low (0.05)
% Rationale: Open-source and interoperable; explicitly designed to 
% prevent the exclusion of light users.
domain_priors:suppression_score(ergo_nipopows, 0.05).

% Enforcement: Emerges naturally via mathematical probability (PoW).
domain_priors:emerges_naturally(ergo_nipopows).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(ergo_nipopows, mobile_users).
constraint_beneficiary(ergo_nipopows, cross_chain_bridges).
% No direct "victims," though centralizing service providers (Infura-style) 
% lose their monopoly on providing data to light clients.
constraint_victim(ergo_nipopows, centralized_data_providers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Mobile User (Light Client) - ROPE
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: mobile
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a user with a $100 smartphone, downloading 1TB is impossible (Mountain). 
   The NiPoPoW is a Rope—it provides the same security "grip" on the 
   truth without the impossible weight.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_nipopows,
    rope,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(ergo_nipopows, E),
    E < 0.2,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Institutional (Bridge/Exchange) - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For an institution, NiPoPoWs are a Mountain. They are the mathematical 
   laws that define trustless interoperability. There is no negotiation; 
   the protocol either proves the work or it doesn't.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_nipopows,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(ergo_nipopows, S),
    S < 0.2,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Adversarial Context - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: biographical
   WHERE: constrained
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   If an adversary manages a 51% attack, the NiPoPoW becomes a Noose for 
   anyone relying on it. The compact proof will "mathematically prove" 
   a lie, strangling the user's ability to see the true (honest) chain 
   if it is being suppressed.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_nipopows,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(ergo_nipopows, E),
    E >= 0.1, % In a failure state, the "benefit" flips to "extraction."
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(ergo_nipopows_tests).

test(verification_efficiency) :-
    % NiPoPoW (0.1) is more efficient (lower extraction) than full history (0.8).
    domain_priors:base_extractiveness(ergo_nipopows, E),
    E < 0.5.

test(perspective_climb) :-
    % Powerless users see utility (Rope), Institutions see Law (Mountain).
    constraint_indexing:constraint_classification(ergo_nipopows, rope, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(ergo_nipopows, mountain, context(agent_power(institutional), _, _, _)).

:- end_tests(ergo_nipopows_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SHIFT: I modeled the "Noose" as an adversarial failure state. 
 * While NiPoPoWs are strictly beneficial in 99% of cases, the "Constraint" 
 * is the trust placed in the longest chain. If that chain is malicious, 
 * the compact nature of the proof makes the deception harder to catch.
 * 2. LOGARITHMIC SCALING: I treated this as the "Rope" characteristic—the 
 * ability to do more with less.
 * * AMBIGUITIES:
 * - The safety of NiPoPoWs depends on the "Suffix" parameter (how many 
 * recent blocks are verified). If this is too small, security drops.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    suffix_security_parameter,
    "Is the chosen suffix 'k' large enough to prevent reorg attacks for light clients?",
    resolution_mechanism("Ongoing research into mining stability and network latency"),
    impact("If too low, the Rope (utility) snaps into a Noose (vulnerability)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: SPV (Simplified Payment Verification)
 * Viability: Used in Bitcoin; requires linear growth of headers.
 * Suppression: Not suppressed, but less efficient as the chain ages.
 * * CONCLUSION:
 * NiPoPoWs represent a "Mountain" of cryptographic law that allows for the 
 * "Rope" of decentralized mobility.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */

% ============================================================================
% CONSTRAINT STORY: rosen_bridge_protocol
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Rosen Bridge Documentation / Ergo Blockchain
% ============================================================================

:- module(constraint_rosen_bridge_protocol, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: rosen_bridge_protocol
 * human_readable: Rosen Bridge Cross-Chain Mechanism
 * domain: technological/economic
 * temporal_scope: 2023-Present
 * spatial_scope: Multi-chain (Ergo, Cardano, Bitcoin, ETH, etc.)
 * * SUMMARY:
 * Rosen Bridge is an Ergo-centric cross-chain protocol that enables asset 
 * transfers without deploying smart contracts on external chains. 
 * It uses a two-layer security model: Watchers monitor events, and a federated 
 * set of Guards verifies and executes transactions. 
 * All consensus logic resides on Ergo, making the bridge auditable from a 
 * single chain.
 * * KEY AGENTS:
 * - Watcher: Independent nodes monitoring chains and reporting events; 
 * requires RSN and ERG collateral.
 * - Guard: Federated validators who verify watcher reports and sign 
 * multi-sig/threshold transactions on target chains.
 * - Cross-Chain User: Seeks secure movement of assets (e.g., BTC to Ergo) 
 * while avoiding centralized exchanges.
 * * NARRATIVE ARC:
 * The protocol transforms the "weak link" problem of bridges into a tiered 
 * authentication system. By centralizing logic on Ergo but decentralizing 
 * monitoring (Watchers) and multisig execution (Guards), it provides a 
 * "Refereed Vault" where assets are locked/unlocked based on on-chain 
 * proof of events.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Required for system extraction
narrative_ontology:interval(rosen_bridge_interval, 0, 10).
narrative_ontology:constraint_claim(rosen_bridge_protocol, cross_chain_settlement).

% Base extractiveness: Moderate (0.5)
% Rationale: High entry barrier for watchers (800 ERG + 30k RSN) and 
% bridge fees (0.5% or $10) are significant, primarily rewarding the 
% security providers.
domain_priors:base_extractiveness(rosen_bridge_protocol, 0.5).

% Suppression score: Low (0.2)
% Rationale: The bridge is open-source and permissionless for watchers; 
% it doesn't suppress other bridges but competes via security.
domain_priors:suppression_score(rosen_bridge_protocol, 0.2).

% Enforcement: Requires active enforcement (Guard signatures & Watcher consensus)
domain_priors:requires_active_enforcement(rosen_bridge_protocol).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(rosen_bridge_protocol, [watchers, guards, rsn_holders]).
% High transaction fees effectively "extract" from small retail users.
constraint_victim(rosen_bridge_protocol, small_value_transactors).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Small Retail User - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For users moving small amounts (e.g., <$100), the $10 minimum fee acts as 
   a Noose. The high cost per transaction "strangles" their 
   mobility across chains, effectively trapping their capital on one network 
   due to the prohibitively high exit fee.
   
   NARRATIVE EVIDENCE:
   "Transactions lower than 2k USD will have a 10 USD fee... one watcher 
   gets approx 0.10-0.15 USD".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rosen_bridge_protocol,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(rosen_bridge_protocol, E),
    E >= 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Liquidity Provider/Whale - ROPE
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: biographical
   WHERE: arbitrage
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For high-net-worth users or LPs, the bridge is a robust Rope. 
   The 0.5% fee is a fair trade for "security over speed". 
   They use the bridge as a coordination tool to move assets where 
   yield is higher (Arbitrage).
   
   NARRATIVE EVIDENCE:
   "The bridge is really intended for larger transactions and moving things 
   cross-chain securely".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rosen_bridge_protocol,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(rosen_bridge_protocol, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Protocol Auditor - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From an auditor's perspective, the logic on Ergo (Sigma Protocols) and 
   the multi-sig requirements on other chains are Mountain constraints 
  . These rules are fixed by the smart contract code; 
   the 60%+1 watcher consensus is a mathematical threshold that cannot 
   be bypassed by social engineering.
   
   NARRATIVE EVIDENCE:
   "Consensus on any action is achieved on the Ergo platform by a group of 
   entities known as Guards... auditable on Ergo".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rosen_bridge_protocol,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(rosen_bridge_protocol, S),
    S < 0.3,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(rosen_bridge_protocol_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(rosen_bridge_protocol, Type1, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(rosen_bridge_protocol, Type2, context(agent_power(individual_powerful), _, _, _)),
    constraint_indexing:constraint_classification(rosen_bridge_protocol, Type3, context(agent_power(analytical), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    % Powerful agents pay proportional fees (Rope), 
    % while powerless agents pay a high flat minimum (Noose).
    ScorePowerless = 0.8, % High effective fee % for small amounts
    ScorePowerful = 0.5,
    ScorePowerless > ScorePowerful.

:- end_tests(rosen_bridge_protocol_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.5): Set at a moderate level because while the bridge 
 * provides a vital service, the fee structure is heavily weighted toward 
 * high-value users, making it extractive for retail.
 * 2. NOOSE CLASSIFICATION: Specifically used to highlight the entry/exit 
 * barrier created by the $10 minimum fee, which creates a "locked-in" 
 * effect for low-balance wallets.
 * 3. MOUNTAIN LOGIC: The auditability on Ergo makes the protocol's state 
 * transparent and its rules as rigid as the blockchain itself.
 * * AMBIGUITIES:
 * - Guard Decentralization: The Guard set is currently "federated" (predefined 
 * entities). Whether this stays decentralized or 
 * consolidates is an Omega.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    guard_collusion_resistance,
    "Will the federated Guard set remain independent or consolidate over time?",
    resolution_mechanism("Monitoring the rotation and diversity of the Guard set on rosen.tech"),
    impact("If consolidated, the Rope (utility) becomes a Noose (centralized control)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Centralized Exchanges (CEXs)
 * Viability: Cheaper and faster, but requires KYC and custody trust.
 * * ALTERNATIVE 2: Layer 1 Wrapped Token Bridges (e.g., WBTC on Ethereum)
 * Viability: High liquidity, but often relies on a single custodian.
 * * CONCLUSION:
 * Rosen is a "Rope" for those prioritizing decentralized security over cost. 
 * Its "Mountain" of multi-layered verification (Watchers + Guards) makes it 
 * one of the most resilient bridges in the ecosystem.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: sig_usd_protocol
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: AgeUSD Protocol / Ergo Blockchain Stablecoin System
% ============================================================================

:- module(constraint_sig_usd_protocol, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: sig_usd_protocol
 * human_readable: SigUSD Stability Mechanism
 * domain: economic/technological
 * temporal_scope: 2021-Present (Post-AgeUSD launch)
 * spatial_scope: Ergo Blockchain (Global)
 * * SUMMARY:
 * SigUSD is an algorithmic, crypto-backed stablecoin based on the AgeUSD protocol. 
 * It operates via a dual-token system: SigUSD (stablecoin) and SigRSV (reserve token). 
 * Stability is maintained by SigRSV holders who act as the "bank," absorbing ERG 
 * price volatility in exchange for protocol fees, while SigUSD holders maintain 
 * value peg as long as the reserve ratio stays within 400-800%.
 * * KEY AGENTS:
 * - SigUSD_Holder: Seeks price stability and a "safe haven" within the ecosystem.
 * - SigRSV_Holder: Seeks profit from volatility and fees; acts as the liquidity provider/underwriter.
 * - Arbitrageur: Technical agent exploiting price gaps between the protocol and external DEXs.
 * * NARRATIVE ARC:
 * The protocol functions as a decentralized bank. When ERG price rises, SigRSV 
 * value grows exponentially. When ERG price crashes, SigRSV holders are "diluted" 
 * to ensure SigUSD can always be redeemed for $1 worth of ERG, until a critical 
 * collateral floor is hit.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Required for system extraction
narrative_ontology:interval(sig_usd_interval, 0, 10).
narrative_ontology:constraint_claim(sig_usd_protocol, stability_mechanism).

% Base extractiveness: Moderate (0.4)
% Rationale: The protocol charges fees (minting/burning) that flow from users 
% to reserve holders. While asymmetric, it is a service-for-risk trade.
domain_priors:base_extractiveness(sig_usd_protocol, 0.4).

% Suppression score: Low (0.2)
% Rationale: Alternatives like wrapped USDT or other algorithmic coins exist 
% on Ergo; the protocol does not actively suppress them, though network effects favor SigUSD.
domain_priors:suppression_score(sig_usd_protocol, 0.2).

% Enforcement: Emerges naturally via Smart Contracts
domain_priors:emerges_naturally(sig_usd_protocol).

% BENEFICIARIES & VICTIMS
% Primary beneficiaries are the reserve holders during bull markets.
constraint_beneficiary(sig_usd_protocol, sig_rsv_holders).
% Primary "victims" (risk-bearers) are reserve holders during bear markets, 
% and stablecoin holders if the peg breaks.
constraint_victim(sig_usd_protocol, sig_rsv_holders_at_low_reserve).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: SigUSD_Holder (Retail User) - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: individual_powerless (User of the interface, not the dev or whale)
   WHEN: immediate (Needs the peg to hold TODAY)
   WHERE: trapped (Asset is locked in the contract logic)
   SCOPE: local (Their specific wallet/liquidity)
   
   WHY THIS CLASSIFICATION:
   For a retail user, the protocol's math is "natural law." They cannot change 
   the 400% reserve requirement or the fee structure. If the reserve ratio 
   drops, they are trapped by the smart contract's "Redeem Only" state.
   
   NARRATIVE EVIDENCE:
   "I just want to hold dollars. I don't control the code; the code tells me 
   if I can mint or not."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sig_usd_protocol,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(sig_usd_protocol, S),
    S < 0.5, % Even though suppression is low, powerless agents see it as fixed.
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: SigRSV_Holder (The "Banker") - ROPE
   --------------------------------------------------------------------------
   WHO: individual_moderate (Has capital, chooses to provide liquidity)
   WHEN: biographical (Long-term investment horizon)
   WHERE: mobile (Can "burn" SigRSV for ERG and leave when ratio allows)
   SCOPE: regional (Impacts the Ergo ecosystem liquidity)
   
   WHY THIS CLASSIFICATION:
   The SigRSV holder sees the protocol as a tool (Rope) for leverage. It is a 
   functional coordination mechanism that allows them to earn fees. They 
   willingly enter and can exit if they play the "game" correctly.
   
   NARRATIVE EVIDENCE:
   "I provide the reserve to earn the minting fees from the SigUSD users. It's 
   a fair trade for the risk I take."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sig_usd_protocol,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(sig_usd_protocol, E),
    E < 0.6, % Beneficial coordination.
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Protocol Auditor/Whale - NOOSE
   --------------------------------------------------------------------------
   WHO: institutional (Can move markets or influence protocol evolution)
   WHEN: historical (Looking at systemic collapse risks over years)
   WHERE: arbitrage (Can exit through secondary markets or hedge elsewhere)
   SCOPE: global (Financial stability perspective)
   
   WHY THIS CLASSIFICATION:
   From a systemic view, if the reserve ratio stays near 400% during a 
   prolonged ERG crash, the protocol becomes a "Noose." It forces 
   asymmetric losses on the last reserve holders to stay liquid, potentially 
   leading to a "death spiral" where the constraint becomes coercive to 
   those remaining.
   
   NARRATIVE EVIDENCE:
   "The 400% limit protects the stablecoin but strangulates the reserve 
   holders during a crash, preventing them from exiting until the peg is safe."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sig_usd_protocol,
    noose,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(sig_usd_protocol, E),
    E > 0.3, 
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(sig_usd_protocol_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(sig_usd_protocol, Type1, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(sig_usd_protocol, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(sig_usd_protocol, Type3, context(agent_power(institutional), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    % Institutional agents can arbitrage (lower experienced extraction)
    % whereas powerless agents pay the flat protocol fee.
    ScorePowerless = 0.4,
    ScorePowerful = 0.2, 
    ScorePowerless > ScorePowerful.

test(time_immutability) :-
    % At 'immediate' horizon, it is a Mountain (cannot change code).
    constraint_indexing:constraint_classification(sig_usd_protocol, mountain, context(_, immediate, _, _)).

:- end_tests(sig_usd_protocol_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): Chosen because while the protocol is "fair," the 2% fee 
 * is an asymmetric transfer from those needing stability to those providing it.
 * 2. PERSPECTIVES: I chose the Holder/Banker/Institutional split because crypto 
 * protocols are defined by the "Reserve Ratio" state, which changes the 
 * user's freedom of movement.
 * 3. NOOSE LOGIC: I classified the institutional view as Noose because of the 
 * "Liquidation Risk"—the protocol's constraints (locking minting/burning) 
 * can become a trap during black swan events.
 * * AMBIGUITIES:
 * - Oracle Risk: The protocol relies on an external price feed. If the oracle 
 * fails, the constraint shifts from "Mountain" to "Chaos." I modeled this 
 * via the Omega below.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    oracle_integrity,
    "Is the ERG/USD oracle price feed accurate and manipulation-resistant?",
    resolution_mechanism("Post-hoc analysis of oracle data vs. global market average during high volatility"),
    impact("If oracle fails, the Mountain (math) becomes a Noose (error-driven extraction)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Fiat-backed Stablecoins (USDT/USDC)
 * Viability: Highly liquid, but introduces central party risk (the anti-thesis of Ergo).
 * Suppression: Not suppressed, but culturally rejected by the community.
 * * ALTERNATIVE 2: DexyGold (Non-custodial algorithmic gold peg)
 * Viability: Operates on similar principles but different collateral.
 * * CONCLUSION:
 * The presence of alternatives makes SigUSD a "Rope" for those who value 
 * decentralization. For those who *must* use Ergo and need stability, it 
 * approaches "Mountain" status due to the lack of other high-liquidity options.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ergo_storage_rent_mechanism
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Ergo Platform Documentation (ErgoDocs) and Whitepapers
% ============================================================================

:- module(ergo_storage_rent, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ergo_storage_rent
 * human_readable: Ergo Storage Rent (Demurrage)
 * domain: economic/technological
 * temporal_scope: Post-2019 (Operational Mainnet)
 * spatial_scope: Global (Distributed Network)
 * * SUMMARY:
 * Ergo introduces a "Storage Rent" or demurrage fee for inactive data stored 
 * on the blockchain. Any UTXO (box) that remains unspent for 4 years is 
 * subject to a recurring fee. This prevents "blockchain bloat" 
 * and ensures miners have a long-term revenue stream after the emission 
 * of new coins ends.
 * * KEY AGENTS:
 * - Long-term Holders (HODLers): Agents who store value without frequent 
 * movement; they must periodically "refresh" their boxes.
 * - Miners: Beneficiaries who collect the rent as part of block rewards to 
 * sustain network security.
 * - Protocol Developers: Architects of the eUTXO model aiming for "predictable 
 * scalability".
 * * NARRATIVE ARC:
 * Unlike Bitcoin, where "lost coins" are permanently removed from circulation, 
 * Ergo treats the blockchain as a physical storage space. If 
 * a box is abandoned, miners eventually "garbage collect" the value, returning 
 * it to the economic loop.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(ergo_operational_era, 0, 10).
narrative_ontology:constraint_claim(ergo_storage_rent, rope).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: Small fee (approx 0.13 ERG every 4 years) prevents total loss 
% but extracts value from inactive addresses.
domain_priors:base_extractiveness(ergo_storage_rent, 0.15).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: The rule is hardcoded in the sigmastate-interpreter; the only 
% escape is to spend/move the coins every 4 years.
domain_priors:suppression_score(ergo_storage_rent, 0.8).

% Enforcement requirements
domain_priors:requires_active_enforcement(ergo_storage_rent).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(ergo_storage_rent, extractiveness, 0.15).
narrative_ontology:constraint_metric(ergo_storage_rent, suppression_requirement, 0.8).

% Beneficiaries and Victims
constraint_beneficiary(ergo_storage_rent, ergo_miners).
constraint_victim(ergo_storage_rent, inactive_wallet_addresses).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: The "HODLer" (Passive Investor) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Users subject to protocol-level consensus.
   WHEN: biographical - Holding for decades; 4 years is a short horizon.
   WHERE: trapped - Cannot opt-out of rent if the box is on-chain.
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   To an investor who treats crypto like "digital gold" (buy and forget), 
   storage rent is a "Noose." It forces them to maintain "active awareness" 
   or suffer the gradual extraction of their assets.
   
   NARRATIVE EVIDENCE:
   "Lost coins... would be slowly returned to the ecosystem... making it 
   less viable as a 'store and forget' asset without maintenance".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_storage_rent,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        constraint_beneficiary(ergo_storage_rent, ergo_miners),
        constraint_victim(ergo_storage_rent, hodlers),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(ergo_storage_rent, E),
    E > 0.1,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Network Miner - Rope
   --------------------------------------------------------------------------
   
   WHO: collective_organized / institutional - Miners vote on parameters.
   WHEN: historical - Building a self-sustaining network post-emission.
   WHERE: arbitrage - Can move hash-rate between PoW chains.
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   For miners, the rent is a "Rope." It is a functional tool that guarantees 
   security budgets in a world where transaction fees alone might be 
   insufficient after the 2045 emission end.
   
   NARRATIVE EVIDENCE:
   "Storage Rent... as ERGO ages and storage rent comes into play miners 
   will see rewards coming in more than one way".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_storage_rent,
    rope,
    context(
        agent_power(collective_organized),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(ergo_storage_rent, network_security),
        constraint_victim(ergo_storage_rent, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(ergo_storage_rent, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Protocol Architect / Foundation - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Designers of the state management rules.
   WHEN: civilizational - Solving for "state bloat" over centuries.
   WHERE: analytical.
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   From a design perspective, storage rent is a "Mountain"—a fundamental 
   economic law required for a UTXO system to survive indefinitely without 
   infinite storage growth.
   
   NARRATIVE EVIDENCE:
   "Ergo is designed with controlled state size growth... making the 
   blockchain predictably scalable".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_storage_rent,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        constraint_beneficiary(ergo_storage_rent, network_longevity),
        constraint_victim(ergo_storage_rent, none),
        spatial_scope(global)
    )
) :-
    true,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(ergo_storage_rent_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(ergo_storage_rent, Type1, 
        context(individual_powerless, biographical, trapped, _, _, global)),
    constraint_indexing:constraint_classification(ergo_storage_rent, Type2, 
        context(collective_organized, historical, arbitrage, _, _, global)),
    Type1 = noose,
    Type2 = rope.

test(time_immutability_shift) :-
    % Long-term historical views should see the functionality (Rope/Mountain)
    constraint_indexing:constraint_classification(ergo_storage_rent, rope, 
        context(_, historical, _, _, _, _)).

:- end_tests(ergo_storage_rent_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.15): While low per-box, it is mandatory. I chose 0.15 
 * because it is not "severe" but is structurally extractive.
 * 2. CLASSIFICATION: The most interesting tension in Ergo is the HODLer 
 * (who sees a Noose) vs. the Miner (who sees a Rope). This highlights 
 * the "social contract" difference from Bitcoin.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    state_garbage_collection_adoption,
    "Will miners actually spend the effort to 'garbage collect' tiny dust boxes if fees are too low?",
    resolution_mechanism("Monitor the first 4-year cycle (2023 onwards) to see box collection rates"),
    impact("If NO: the rent is a failed Rope (ineffective). If YES: the Rope secures the chain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Permanent UTXOs (The Bitcoin Model)
 * Viability: The industry standard.
 * Suppression: Ergo explicitly rejects this to solve the "State Bloat" problem, 
 * treating Bitcoin's permanent storage as an unsustainable "free lunch".
 * * CONCLUSION:
 * The rejection of permanent storage transforms "holding" from a passive 
 * right into a managed responsibility.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [ergo_storage_rent].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ergodic_theorems
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Statistical Mechanics / Probability Theory / Ergodicity
% ============================================================================

:- module(constraint_ergodic_theorems, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ergodic_theorems
 * human_readable: Ergodic Theorems (Time vs. Ensemble Averages)
 * domain: scientific/mathematical/economic
 * temporal_scope: Universal (Physics and Decision Theory)
 * spatial_scope: Universal (Stochastic Systems)
 * * SUMMARY:
 * Ergodic theorems describe systems where the "ensemble average" (the average 
 * across many parallel states) equals the "time average" (the average of one 
 * state over a long period). In non-ergodic systems, such as gambling with 
 * ruin or evolutionary survival, the "ensemble" success rate is irrelevant 
 * because a single path hitting zero results in total termination.
 * * KEY AGENTS:
 * - The Statistician: Assumes ergodicity to simplify calculations of large 
 * populations.
 * - The Individual Gambler: Faces the "ruin" problem where time averages 
 * diverge from ensemble expectations.
 * - The Biological Organism: Subject to the non-ergodic constraint of 
 * mortality—you cannot "average" your life with others if you die.
 * * NARRATIVE ARC:
 * Ergodicity is often treated as a "Rope" for calculation by institutions 
 * (Insurers, Economists), but for the individual subject to ruin, it is an 
 * invisible "Mountain" of physical limitation. When systems are designed 
 * as if they were ergodic when they are not, they become a "Noose" for the 
 * participants who are "absorbed" (eliminated) by volatility.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(ergodic_interval, 0, 10).
narrative_ontology:constraint_claim([ergodic_theorems], statistical_limitation).

% Base extractiveness: 0.3 (Moderate)
% Rationale: While ergodicity is a physical/mathematical property, the 
% *assumption* of ergodicity extracts value by justifying risky policies 
% (e.g., in finance or public health) that work on average but fail individuals.
domain_priors:base_extractiveness(ergodic_theorems, 0.3).

% Suppression: 0.6 (High)
% Rationale: Non-ergodicity is frequently suppressed in mainstream economic 
% modeling. The "expected value" (ensemble) is presented as the only rational 
% choice, hiding the risk of individual termination.
domain_priors:suppression_score(ergodic_theorems, 0.6).

% Enforcement: Emerges naturally from the nature of probability and absorbing barriers.
domain_priors:emerges_naturally(ergodic_theorems).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(ergodic_theorems, extractiveness, 0.3).
narrative_ontology:constraint_metric(ergodic_theorems, suppression_requirement, 0.6).

% Beneficiaries: Institutional planners, insurers, and high-frequency traders 
% who can play the ensemble.
constraint_beneficiary(ergodic_theorems, institutional_aggregators).

% Victims: Individual actors, small businesses, and biological entities 
% subject to path-dependency and ruin.
constraint_victim(ergodic_theorems, path_dependent_individuals).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MATHEMATICAL PHYSICIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The observer of phase space).
   WHEN: civilizational (Eternal laws of statistical mechanics).
   WHERE: trapped (Cannot escape the definitions of measure theory).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   To the physicist, the ergodic hypothesis is a Mountain. It defines the 
   boundary of what can be calculated. Systems are either ergodic or they 
   are not; this is an objective property of the system's phase space 
   and dynamics. It is the "ground" upon which thermodynamics is built.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergodic_theorems,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE INSURANCE ACTUARY - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (The manager of large-scale risk).
   WHEN: historical (Scaling over the life of an institution).
   WHERE: arbitrage (Can aggregate across millions of individuals).
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For the actuary, ergodicity is a Rope. By pooling enough individuals, 
   the "time average" of the insurer becomes the "ensemble average" of 
   the population. It is a coordination mechanism that allows for the 
   monetization of risk and the creation of social stability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergodic_theorems,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INDIVIDUAL GAMBLER - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A single agent with one "life").
   WHEN: immediate (The current sequence of bets).
   WHERE: trapped (Once 'ruin' occurs, no more play is possible).
   SCOPE: local.
   
   WHY THIS CLASSIFICATION:
   For the individual facing a non-ergodic game, the "average" is a Noose. 
   If the game has a 99% success rate but the 1% failure results in death 
   (ruin), the "ensemble average" (thriving) is irrelevant. The structure 
   of the game strangles the player over time, as the probability of 
   hitting the absorbing barrier approaches 1.0.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergodic_theorems,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(ergodic_theorems_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(ergodic_theorems, Type1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(ergodic_theorems, Type2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(ergodic_theorems, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    % Institutional actors benefit from aggregation; individuals suffer from ruin.
    domain_priors:base_extractiveness(ergodic_theorems, E),
    E >= 0.3.

test(time_immutability) :-
    % Civilizational horizon views mathematical laws as Mountains.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(ergodic_theorems_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS (0.3):
 * The score is moderate because ergodicity itself is a law of nature, 
 * but its misapplication by "Expert" institutions (The Fragilistas) 
 * extracts survival and capital from the individual.
 * * 2. SUPPRESSION (0.6):
 * High because traditional economics almost entirely ignores non-ergodicity 
 * (the 'ruin' problem), effectively suppressing the most important 
 * constraint on individual survival.
 * * 3. CLASSIFICATION RATIONALE:
 * Physicist (Mountain): The theorem is a tautological truth of math.
 * Actuary (Rope): Institutional scaling converts ergodicity into a tool.
 * Gambler (Noose): Path-dependence and mortality turn probabilities 
 * into terminal traps.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    quantum_ergodicity,
    "Do quantum systems truly explore all available phase space (Ergodic) or are they subject to fundamentally discrete, non-ergodic jumps?",
    resolution_mechanism("Long-term observation of decoherence in complex quantum states"),
    impact("If Mountain: Physics is unified. If Noose: The universe has 'dead-ends' in its probability structure."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Multiplicative Dynamics (Kelly Criterion)
 * Viability: A proven mathematical strategy for navigating non-ergodic 
 * systems by betting a fraction of wealth to avoid ruin.
 * Suppression: Moderate. Taught in niche finance/gambling but ignored 
 * in general economic policy which favors "expected value."
 * * CONCLUSION:
 * The existence of the Kelly Criterion as an alternative shifts the 
 * "Noose" of ergodicity into a "Rope" for those with the knowledge and 
 * power to apply it.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_ergodic_theorems].
 * 2. Multi-perspective: ?- multi_index_report(ergodic_theorems).
 * 3. Run tests: ?- run_tests(ergodic_theorems_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: euler_characteristic_topology
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Euler's Polyhedron Formula (V - E + F = 2) / Algebraic Topology
% ============================================================================

:- module(constraint_euler_characteristic, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: euler_characteristic_topology
 * human_readable: Euler Characteristic (Topological Invariance)
 * domain: mathematical/technological
 * temporal_scope: 1750 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Manifolds and Polyhedra)
 * * SUMMARY:
 * The Euler Characteristic (chi) is a topological invariant, a number that 
 * describes a topological space's shape or structure regardless of how it is 
 * bent or stretched. For a convex polyhedron, V - E + F = 2. This functions 
 * as a fundamental structural constraint on all physical and abstract surfaces.
 * * KEY AGENTS:
 * - The Polyhedron/Mesh: The powerless subject whose existence is dictated 
 * by the ratio of vertices, edges, and faces.
 * - The Graphics Engineer: An institutional agent who uses the characteristic 
 * to ensure mesh integrity and manifold properties.
 * - The Topologist: An analytical observer who classifies the universe of 
 * shapes using this invariant.
 * * NARRATIVE ARC:
 * Originally a geometric observation by Euler, the characteristic became a 
 * "Mountain" of algebraic topology—an inescapable law of connectivity. In 
 * modern 3D modeling and data science, it acts as a "Rope" for structural 
 * verification, though it becomes a "Noose" when rigid topological 
 * requirements prevent the optimization of complex meshes.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(euler_era, 1750, 2026).
narrative_ontology:constraint_claim(euler_characteristic_topology, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Low (0.1). Mathematical invariants are non-extractive truths, 
% though they "extract" computational labor during verification.
domain_priors:base_extractiveness(euler_characteristic_topology, 0.1).

% Suppression score (0.0-1.0)
% Rationale: Low (0.1). It is an foundational truth that enables rather 
% than suppresses, though it renders "non-manifold" geometry invalid.
domain_priors:suppression_score(euler_characteristic_topology, 0.1).

% Enforcement: Emerges naturally from the axioms of topology.
domain_priors:emerges_naturally(euler_characteristic_topology).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(euler_characteristic_topology, extractiveness, 0.1).
narrative_ontology:constraint_metric(euler_characteristic_topology, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(euler_characteristic_topology, structural_engineers). % Predictability.
constraint_beneficiary(euler_characteristic_topology, computer_graphics). % Mesh integrity.
constraint_victim(euler_characteristic_topology, non_manifold_geometry). % Functionally suppressed.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE GRAPHICS MESH (THE "SUBJECT") - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The mesh cannot "choose" to have V-E+F != 2 
        if it is to remain a convex polyhedron.
   WHEN: immediate - The law applies to every frame and every operation.
   WHERE: trapped - Bound by the topological constraints of its own connectivity.
   SCOPE: local - Immediate neighborhood of faces and vertices.
   
   WHY THIS CLASSIFICATION:
   For the geometry itself, the Euler Characteristic is an unchangeable 
   feature of the universe. To exist as a valid shape, it must obey 
   the structural ratio.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    euler_characteristic_topology,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SOFTWARE ARCHITECT (CAD/CG) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define valid data structures and constraints.
   WHEN: biographical - Planning the lifecycle of a modeling engine.
   WHERE: mobile - Can choose different topologies (torus vs. sphere) to 
        solve specific problems.
   SCOPE: global - Applies across all models in the system.
   
   WHY THIS CLASSIFICATION:
   For the architect, the Euler Characteristic is a "Rope"—a coordination 
   mechanism. It allows them to verify that a complex mesh is manifold 
   and "closed," ensuring that lighting and physics calculations are stable.
   
   NARRATIVE EVIDENCE:
   "The characteristic is used as a consistency check in mesh processing 
   algorithms to identify holes or structural errors."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    euler_characteristic_topology,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE TOPOLOGICAL OPTIMIZER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the power to optimize but is bound by the rules.
   WHEN: immediate - Stuck in a local optimum that cannot be escaped without 
        changing the genus.
   WHERE: constrained - The optimization cannot "jump" to a better shape 
        without a discontinuous change.
   SCOPE: local - A specific bottleneck in a design.
   
   WHY THIS CLASSIFICATION:
   In structural optimization (like generative design), the requirement to 
   maintain a specific Euler Characteristic can act as a "Noose." It 
   prevents the algorithm from adding a necessary hole (changing genus) 
   to save weight, extracting efficiency for the sake of topological continuity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    euler_characteristic_topology,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(euler_characteristic_topology, E),
    E > 0.05,
    !.

/* ==========================================================================
   4. TESTS (Insights into Topological Power)
   ========================================================================== */

:- begin_tests(euler_characteristic_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(euler_characteristic_topology, Type1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(euler_characteristic_topology, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(genus_change_as_exit) :-
    % Changing the genus (adding a hole) is a mobile exit option for the powerful.
    constraint_indexing:constraint_classification(euler_characteristic_topology, rope, context(institutional, _, mobile, _)).

test(emergence) :-
    domain_priors:emerges_naturally(euler_characteristic_topology).

:- end_tests(euler_characteristic_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.1): 
 * Reasoning: Unlike social constraints, mathematical laws don't "take" 
 * anything away, but their rigid enforcement in simulation software 
 * extracts hardware cycles for parity checks.
 * * 2. CLASSIFICATION AS MOUNTAIN: 
 * Reasoning: For the primary subject (the shape), there is zero choice. 
 * Connectivity is fate.
 * * 3. PERSPECTIVES:
 * Chose Mesh (Subject), Architect (User), and Optimizer (Victim of 
 * Continuity) to demonstrate how topology limits functional design.
 */

% OMEGA IDENTIFICATION
omega_variable(
    discontinuous_transitions,
    "Can a system transition between Euler Characteristics (genus 0 to 1) 
    without collapsing the structural 'Mountain'?",
    resolution_mechanism("Topological data analysis of phase transitions in soft matter."),
    impact("If Yes: The 'Mountain' is a 'Rope' even for the subject. If No: It is a Noose of fixity."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Non-Manifold Geometry (Point Clouds/Soups)
 * Viability: Used in raw sensor data where connectivity is unknown.
 * Suppression: Rejected by simulation engines because it lacks the 
 * "Rope" of connectivity needed for physics.
 * * ALTERNATIVE 2: Hypergraphs
 * Viability: Allows edges to connect more than two vertices.
 * Suppression: Useful in network theory, but the physical world 
 * defaults to the 3-manifold Euler characteristic for surfaces.
 * * CONCLUSION:
 * The dominance of the Euler Characteristic as a "Rope" for 
 * engineering is due to the physical reality of surfaces, making 
 * non-manifold alternatives functionally invisible.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [euler_characteristic_topology].
% Multi-perspective check: ?- constraint_indexing:multi_index_report(euler_characteristic_topology).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: exploration_vs_exploitation
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Multi-Armed Bandit Problem / Reinforcement Learning
% ============================================================================

:- module(constraint_exploration_exploitation, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: exploration_vs_exploitation
 * human_readable: Exploration vs. Exploitation (The Search Dilemma)
 * domain: mathematical/technological/biological
 * temporal_scope: Biographical to Civilizational
 * spatial_scope: Global
 * * SUMMARY:
 * Exploitation involves choosing the best-known option to maximize immediate 
 * reward. Exploration involves choosing unknown or sub-optimal options to 
 * gather information, potentially discovering a superior Global Optimum.
 * * KEY AGENTS:
 * - The Optimizing Agent: Forced to decide between current profit and future growth.
 * - The Information Frontier: The "unknown" territory that requires investment to map.
 * - The Clock: The temporal constraint that eventually makes exploration impossible.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(exploration_vs_exploitation, 0, 10).
narrative_ontology:constraint_claim(exploration_vs_exploitation, information_theoretic_limit).

% Base extractiveness score (0.3)
% Over-exploitation extracts the future potential of the system (stagnation). 
% Over-exploration extracts current resources without immediate return (waste).
domain_priors:base_extractiveness(exploration_vs_exploitation, 0.3).

% Suppression score (0.4)
% High exploitation suppresses the search for alternatives, making the 
% current "Match" appear more permanent than it is.
domain_priors:suppression_score(exploration_vs_exploitation, 0.4).

domain_priors:emerges_naturally(exploration_vs_exploitation).

% Metrics
narrative_ontology:constraint_metric(exploration_vs_exploitation, extractiveness, 0.3).
narrative_ontology:constraint_metric(exploration_vs_exploitation, suppression_requirement, 0.4).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE HUNGRY FORAGER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (low energy reserves)
   WHEN: immediate
   WHERE: trapped (in a resource-scarce environment)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For an agent near the "starvation point," the dilemma is a "Noose." 
   They cannot afford to explore (risk of zero reward), but exploiting 
   their current, dwindling resource is a slow death. The lack of 
   "slack" in the system strangles their ability to move.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    exploration_vs_exploitation,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE VENTURE CAPITALIST - Rope
   --------------------------------------------------------------------------
   WHO: individual_powerful (high resource 'slack')
   WHEN: biographical
   WHERE: arbitrage (can invest in multiple 'explorations' simultaneously)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For an agent with abundant resources, the dilemma is a "Rope." 
   They use a portfolio approach to coordinate exploration across many 
   frontiers, knowing that one "Global Optimum" breakthrough will 
   compensate for all failed explorations.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    exploration_vs_exploitation,
    rope,
    context(agent_power(individual_powerful), time_horizon(biographical), exit_options(arbitrage), spatial_scope(global))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EVOLUTIONARY PROCESS - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: civilizational
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the observer, this trade-off is a "Mountain"—an immutable feature 
   of the universe's information structure. No agent can ever have 
   perfect knowledge without paying the cost of exploration.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    exploration_vs_exploitation,
    mountain,
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))
) :- !.

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: fair_use_doctrine
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: U.S. Copyright Act, 17 U.S.C. § 107
% ============================================================================

:- module(constraint_fair_use, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: fair_use_doctrine
 * human_readable: Fair Use (The Expression Safety Valve)
 * domain: social/legal/technological
 * temporal_scope: Biographical to Historical
 * spatial_scope: National (USA-specific, though Berne-aligned)
 * * SUMMARY:
 * Fair Use is a legal doctrine that promotes freedom of expression by 
 * permitting the unlicensed use of copyright-protected works in certain 
 * circumstances, such as criticism, comment, news reporting, teaching, 
 * scholarship, and research.
 * * KEY AGENTS:
 * - The Remixer/Scholar: Uses existing work to create new meaning.
 * - The Copyright Holder: Attempts to define the limits of "transformative" use.
 * - The Judge: Balances the four statutory factors to determine legality.
 * * NARRATIVE ARC:
 * Fair Use functions as the "Escape Hatch" from the Copyright Noose. 
 * It ensures that the "Mountain" of intellectual property does not 
 * become an impassable wall for new creativity. However, its 
 * case-by-case nature makes it a "Foggy Path"—legally risky to navigate.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(fair_use_doctrine, 0, 10).
narrative_ontology:constraint_claim(fair_use_doctrine, statutory_exemption).

% Base extractiveness: Low (0.1).
% It is designed to *prevent* extraction by allowing free use for 
% socially beneficial purposes.
domain_priors:base_extractiveness(fair_use_doctrine, 0.1).

% Suppression: Moderate (0.4).
% While the law exists, the fear of litigation (chilling effect) 
% often suppresses its actual exercise.
domain_priors:suppression_score(fair_use_doctrine, 0.4).

% Enforcement: Requires active enforcement (Affirmative defense in court).
domain_priors:requires_active_enforcement(fair_use_doctrine).

% Beneficiaries: Documentarians, Educators, Parodists, AI Developers.
constraint_beneficiary(fair_use_doctrine, secondary_creators).

% Victims: Copyright Trolls (who seek to extract fees for every use).
constraint_victim(fair_use_doctrine, copyright_maximalists).

% Metrics
narrative_ontology:constraint_metric(fair_use_doctrine, extractiveness, 0.1).
narrative_ontology:constraint_metric(fair_use_doctrine, suppression_requirement, 0.4).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PARODIST - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile (can pivot between works)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For a creator like a YouTuber or satirist, Fair Use is a "Rope." 
   It provides the structural support needed to climb over the 
   barriers of copyright. It allows them to use the "Expression" 
   of others to coordinate their own creative message.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fair_use_doctrine,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(fair_use_doctrine, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE UNASSISTED CREATOR - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped (cannot afford legal counsel)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For a small creator facing a "Cease and Desist" from a major studio, 
   Fair Use is a "Noose." Because it is an *affirmative defense* (meaning you have to be sued first to prove you are right), 
   the legal cost of exercising this right is a bottleneck that 
   strangles their work.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fair_use_doctrine,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:requires_active_enforcement(fair_use_doctrine),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SUPREME COURT - Mountain
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: historical
   WHERE: analytical
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   The court sees Fair Use as a "Mountain"—a permanent, foundational 
   feature of the First Amendment landscape. It is the "built-in 
   accommodation" that allows the Copyright Act to coexist with 
   Free Speech.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fair_use_doctrine,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(national)
    )
) :-
    true.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(fair_use_tests).

test(defense_cost_noose) :-
    % Powerless agents see a Noose due to enforcement costs.
    constraint_indexing:constraint_classification(fair_use_doctrine, noose, context(individual_powerless, _, _, _)).

test(free_speech_mountain) :-
    % Institutional/Analytical view sees the Mountain of legal doctrine.
    constraint_indexing:constraint_classification(fair_use_doctrine, mountain, context(institutional, _, _, _)).

:- end_tests(fair_use_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Fair Use is technically an "Exit Option" for Copyright, but I 
 * profiled it as a standalone constraint because it has its own 
 * rules of access. The "Noose" classification highlights the 
 * "Fair Use Paradox": it is a right that many are too poor to use.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    automated_adjudication,
    "Will platforms implement AI judges that can accurately determine Fair Use in real-time?",
    resolution_mechanism("Performance audit of DMCA takedown automation vs. court reversals"),
    impact("If Yes: The Noose loosens (instant defense). If No: Algorithmic suppression remains the status quo."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: fast_growing_hierarchy
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Mathematical Logic / Computability Theory / Subrecursive Hierarchies
% ============================================================================

:- module(constraint_fast_growing_hierarchy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: fast_growing_hierarchy
 * human_readable: The Fast-Growing Hierarchy (FGH)
 * domain: technological
 * temporal_scope: Permanent (Universal Mathematical Law)
 * spatial_scope: Global (Formal Information Systems)
 * * SUMMARY:
 * The Fast-Growing Hierarchy is a family of functions indexed by ordinals that 
 * classifies the growth rate of computable functions. It defines a hard 
 * boundary for what can be computed within specific axiomatic systems; for 
 * example, Peano Arithmetic cannot "see" the termination of functions 
 * growing at the rate of f_epsilon_0.
 * * KEY AGENTS:
 * - The Proof Theorist: Uses FGH as a yardstick (Rope) to measure the strength of 
 * mathematical systems and justify transfinite methods.
 * - The Computer Scientist: Faces the "wall" of recursion (Noose/Mountain) where 
 * algorithms that are technically "computable" are physically impossible 
 * due to the scale of time and memory required.
 * - The Analytical Observer: Views the hierarchy as an objective geometric 
 * landscape of complexity.
 * * NARRATIVE ARC:
 * FGH begins as a simple recursive tool (f_0(n) = n+1). As the index climbs, 
 * it quickly consumes all available physical resources (Noose). To the logician, 
 * it is a Mountain of necessity; to the system architect, it is a Rope 
 * for classifying upper bounds on complexity.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor for extraction
narrative_ontology:interval(fast_growing_hierarchy, 0, 10).
narrative_ontology:constraint_claim([fast_growing_hierarchy], computational_limit).

% Base extractiveness: 0.6 (Moderate-High)
% Rationale: FGH extracts "realizability" and "physical possibility." It 
% renders vast swathes of mathematical truth "uncomputable" in any physical 
% universe, essentially stealing the utility of certain recursive definitions.
domain_priors:base_extractiveness(fast_growing_hierarchy, 0.6).

% Suppression: 0.4 (Moderate)
% Rationale: It suppresses "naive finitism." The existence of FGH forces 
% the admission that "computable" does not mean "attainable," suppressing 
% simpler, more intuitive models of computation.
domain_priors:suppression_score(fast_growing_hierarchy, 0.4).

% Enforcement: Emerges naturally from the axioms of induction and recursion.
domain_priors:emerges_naturally(fast_growing_hierarchy).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(fast_growing_hierarchy, extractiveness, 0.6).
narrative_ontology:constraint_metric(fast_growing_hierarchy, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
% Beneficiaries: Transfinite mathematicians who gain a framework for classifying truth.
constraint_beneficiary(fast_growing_hierarchy, transfinite_logicians).
% Victims: Brute-force algorithm designers and physical computers limited by entropy.
constraint_victim(fast_growing_hierarchy, [brute_force_solvers, physical_hardware]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE LOGICAL ANALYST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal informational laws.
   WHEN: civilizational - Viewing logic as a permanent substrate.
   WHERE: trapped - Logic cannot bypass the recursive definitions of ordinals.
   SCOPE: global - Universal applicability.
   
   WHY THIS CLASSIFICATION:
   To the analyst, FGH is a Mountain. It is an unchangeable consequence of 
   recursive depth. No amount of "better hardware" changes the fact that 
   f_3(n) is exponentially larger than f_2(n). It is a fixed peak in the 
   landscape of complexity theory.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fast_growing_hierarchy,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PROOF THEORIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define and utilize formal rules for proofs.
   WHEN: biographical - Achieving results within a single career.
   WHERE: arbitrage - Can move between different systems (PA, ZFC, etc.) 
          using FGH to benchmark them.
   SCOPE: national - Industrial/Academic application.
   
   WHY THIS CLASSIFICATION:
   For the proof theorist, FGH is a Rope. It is a coordination mechanism for 
   understanding axiomatic strength. By assigning an ordinal to a theory, 
   they "pull" truths out of systems that were otherwise opaque. It 
   transforms a "Noose" of complexity into a "Rope" of classification.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fast_growing_hierarchy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(fast_growing_hierarchy, E),
    E < 0.7, % It's a tool if it's manageable
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PROGRAMMER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the limits of compute and time.
   WHEN: immediate - The current task of solving a recursive function.
   WHERE: constrained - Limited by a fixed compute budget.
   SCOPE: local - Immediate workspace.
   
   WHY THIS CLASSIFICATION:
   For the developer accidentally implementing an Ackermann-level function 
   (f_omega), the hierarchy is a Noose. It strangles their resources instantly. 
   There is no "escape" within their current hardware; the complexity 
   tightens with every additional increment of 'n', leading to system 
   failure (the "ruin" of the process).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fast_growing_hierarchy,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(fast_growing_hierarchy, E),
    E > 0.5, % High extraction of resources
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(fast_growing_hierarchy_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain
    constraint_indexing:constraint_classification(fast_growing_hierarchy, mountain, context(analytical, civilizational, trapped, global)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(fast_growing_hierarchy, rope, context(institutional, biographical, arbitrage, national)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(fast_growing_hierarchy, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    % While the model reports a base score, the experienced extraction scales
    % because the powerless cannot arbitrage out of the compute trap.
    domain_priors:base_extractiveness(fast_growing_hierarchy, Score),
    Score > 0.5.

test(time_immutability_fgh) :-
    % Short horizon = Mountain/Noose (the wall is hit now)
    constraint_indexing:effective_immutability(immediate, constrained, mountain).

:- end_tests(fast_growing_hierarchy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.6):
 * Reasoning: FGH is the ultimate "resource extractor." It takes a 
 * theoretically "computable" process and makes it physically impossible, 
 * extracting time and memory at an astronomical rate.
 * * 2. PERSPECTIVE SELECTION:
 * Chose to highlight the difference between "Math as Law" (Mountain), 
 * "Math as Metric" (Rope), and "Math as Trap" (Noose).
 * * 3. CLASSIFICATION RATIONALE:
 * The "Noose" for programmers is particularly apt; one wrong recursive call 
 * and the "rope" of computation becomes a "noose" for the CPU.
 * * 4. CONFIDENCE:
 * High: Mathematical properties of FGH.
 * Medium: Exact extractiveness score (varies by ordinal index).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    physical_realizability_limit,
    "Does our specific physical universe impose a 'Hard Mountain' at a 
    specific FGH index (e.g., Bekenstein bound), or can information 
    persist to f_epsilon_0?",
    resolution_mechanism("Discovery of final laws of quantum gravity and information density"),
    impact("If Mountain: FGH is a Noose for all physical life. If Rope: Space-time 
    can be manipulated to compute transfinite values."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * Does this constraint have alternatives that were suppressed?
 * * ALTERNATIVE 1: Non-standard Models of Arithmetic
 * Viability: Allows for "infinite" integers that might bypass FGH limits.
 * Suppression: High. Standard mathematics favors the "Standard Model" for 
 * intuitive consistency, suppressing non-standard models as "curiosities."
 * * CONCLUSION:
 * The dominance of standard PA/ZFC makes FGH a Noose for those who cannot 
 * access the "Rope" of non-standard models.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * * 1. Load: ?- [constraint_fast_growing_hierarchy].
 * 2. Multi-perspective: ?- multi_index_report(fast_growing_hierarchy).
 * 3. Run tests: ?- run_tests(fast_growing_hierarchy_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: feigenbaum_universality
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Mitchell Feigenbaum (1975) / Universality in Chaos Theory
% ============================================================================

:- module(constraint_feigenbaum, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: feigenbaum_universality
 * human_readable: Feigenbaum Constants (Scaling of Chaos)
 * domain: mathematical/technological/physical
 * temporal_scope: 1975 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Unimodal Maps / Dissipative Systems)
 * * SUMMARY:
 * Feigenbaum discovery reveals that the transition from order to chaos via 
 * period-doubling follows universal scaling constants ($\delta \approx 4.669$). 
 * This functions as a "law of laws," dictating that the geometry of failure 
 * is identical across disparate physical systems (fluids, circuits, biology).
 * * KEY AGENTS:
 * - The System Variable: The powerless agent following the iterative path.
 * - Mitchell Feigenbaum: The analytical observer who discovered the "Mountain."
 * - The Control Engineer: An institutional agent using the constant to 
 * predict the "point of no return" in complex hardware.
 * * NARRATIVE ARC:
 * Before 1975, the onset of chaos was seen as system-specific. Feigenbaum 
 * revealed a "Mountain" of universal scaling—a hidden geometric "Noose" 
 * that tightens at a predictable rate as a system approaches turbulence. 
 * For designers, it is a "Rope" for predictive maintenance, but for the 
 * system itself, the constant is an inescapable topological fate.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(feigenbaum_universality, 1975, 2026).
narrative_ontology:constraint_claim(feigenbaum_universality, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.3). The constant "extracts" the uniqueness of 
% specific systems, forcing all nonlinear transitions to obey the same 
% geometric ratio, thereby limiting design degrees of freedom.
domain_priors:base_extractiveness(feigenbaum_universality, 0.3).

% Suppression score (0.0-1.0)
% Rationale: Low (0.2). It suppressed the previous "system-dependent" 
% theories of chaos onset, replacing them with a more rigid universal truth.
domain_priors:suppression_score(feigenbaum_universality, 0.2).

% Enforcement: Emerges naturally from the topology of quadratic maps.
domain_priors:emerges_naturally(feigenbaum_universality).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(feigenbaum_universality, extractiveness, 0.3).
narrative_ontology:constraint_metric(feigenbaum_universality, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(feigenbaum_universality, predictive_maintenance). % Can predict chaos before it happens.
constraint_beneficiary(feigenbaum_universality, theoretical_physicists). % Discovery of hidden order.
constraint_victim(feigenbaum_universality, computational_precision). % Successive bifurcations happen 4.6x faster.
constraint_victim(feigenbaum_universality, design_flexibility). % You cannot "change" the rate of the transition.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NONLINEAR ITERATE - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The variable $x_n$ has no agency over the map.
   WHEN: immediate - True at every bifurcation point.
   WHERE: trapped - Bound within the unimodal geometry of the mapping.
   SCOPE: local - Immediate neighborhood of the period-doubling event.
   
   WHY THIS CLASSIFICATION:
   For the mathematical state, the scaling constant $\delta$ is an absolute 
   truth. The "Butterfly" cannot choose to bifurcate at a different ratio; 
   it is a fixed feature of the nonlinear landscape.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    feigenbaum_universality,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TURBINE ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design systems and set safety thresholds.
   WHEN: biographical - Planning the lifecycle of a high-performance system.
   WHERE: mobile - Can adjust parameters to stay away from the "Feigenbaum point."
   SCOPE: global - Applying the constant across all turbine designs.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the constant is a "Rope"—a tool for functional 
   coordination. By knowing that each bifurcation happens 4.669 times 
   closer than the last, they coordinate a standard of achievement for 
   stability by precisely mapping the safety margins.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    feigenbaum_universality,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PRECISION BOTTLENECK - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - A simulation algorithm limited by bit-depth.
   WHEN: immediate - The threshold where bifurcations occur faster than measurement.
   WHERE: constrained - Stuck in the "geometric squeeze" of the transition.
   SCOPE: local - A specific high-frequency regime.
   
   WHY THIS CLASSIFICATION:
   As the system approaches the limit point $r_\infty$, the constant acts 
   as a "Noose." It "strangles" computational accuracy, extracting all 
   available floating-point precision as the bifurcation intervals shrink 
   toward zero, forcing a total loss of predictability.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    feigenbaum_universality,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(feigenbaum_universality, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (Insights into Universal Scaling)
   ========================================================================== */

:- begin_tests(feigenbaum_universality_tests).

test(universal_scaling_variance) :-
    % Iterate (Subject) -> Mountain
    constraint_indexing:constraint_classification(feigenbaum_universality, Type1, context(individual_powerless, immediate, trapped, local)),
    % Engineer (User) -> Rope
    constraint_indexing:constraint_classification(feigenbaum_universality, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(computational_squeeze_penalty) :-
    % A powerless simulation (constrained) sees the geometric shrinkage as a Noose.
    constraint_indexing:constraint_classification(feigenbaum_universality, noose, context(individual_powerless, immediate, constrained, local)).

test(extraction_is_constant) :-
    % The "cost" of the constant applies regardless of the specific math function used.
    domain_priors:base_extractiveness(feigenbaum_universality, Score),
    Score > 0.2.

:- end_tests(feigenbaum_universality_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. TYPE VARIANCE: I chose to highlight how the *same* constant is a 
 * "Mountain" for the math, a "Rope" for the designer (prediction), 
 * and a "Noose" for the simulator (precision loss).
 * 2. EXTRACTIVENESS (0.3): While fundamental, the constant "extracts" 
 * the possibility of a linear or slow transition to chaos, forcing 
 * a rapid, accelerating geometric collapse.
 * 3. OMEGAS: The central uncertainty is whether the "Mountain" of 
 * $\delta$ holds in non-dissipative or non-unimodal systems.
 */

% OMEGA IDENTIFICATION
omega_variable(
    renormalization_group_fidelity,
    "Is the Feigenbaum constant a 'Mountain' in systems with non-quadratic extrema?",
    resolution_mechanism("Numerical audit of bifurcation rates in $x_{n+1} = r(1-|2x-1|^z)$ maps."),
    impact("If Yes: The constant is universal. If No: It is a system-dependent Scaffold."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: System-Specific Transition Models
 * Viability: Historically believed that every fluid or circuit had its 
 * own transition math.
 * Suppression: Rejected by the "Mountain" of Feigenbaum's HP-65 results.
 * * ALTERNATIVE 2: Quasiperiodic Route to Chaos (Ruelle-Takens)
 * Viability: A different "Mountain" entirely.
 * Conclusion: The existence of other routes means the Feigenbaum 
 * "Rope" only works if the system is already period-doubling.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [feigenbaum_universality].
% Analyze: ?- constraint_indexing:multi_index_report(feigenbaum_universality).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: finite_simple_group_classification
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: The Classification of Finite Simple Groups (CFSG) / "The Enormous Theorem"
% ============================================================================

:- module(constraint_cfsg, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: finite_simple_group_classification
 * human_readable: Classification of Finite Simple Groups
 * domain: mathematical/theoretical
 * temporal_scope: 1955 - 2004 (Proof Era) / Present (Applied)
 * spatial_scope: Abstract (The universe of finite algebraic structures)
 * * SUMMARY:
 * The CFSG is a landmark theorem stating that every finite simple group belongs 
 * to one of 18 families of groups of Lie type, is one of the alternating groups, 
 * or is one of 26 "Sporadic" groups. Often called "The Enormous Theorem," its 
 * proof spans tens of thousands of pages across hundreds of journal articles.
 * * KEY AGENTS:
 * - The Finite Simple Group (Subject): The mathematical atom whose identity 
 * is strictly confined to a fixed periodic table of possibilities.
 * - The Mathematical Community (Institutional): The collective that manages 
 * the "Second Generation" proof and coordinates the use of the theorem.
 * - The Lone Researcher (Individual Powerless): An agent who must trust 
 * the validity of the proof without the lifespan necessary to verify it.
 * * NARRATIVE ARC:
 * The CFSG acts as a "Mountain" of structural reality; there are no simple 
 * groups outside the list. For the institution, it is a "Rope" that allows 
 * for "Classification-based proofs" where every finite group can be analyzed 
 * by checking the list. However, for the individual, its sheer complexity 
 * acts as a "Noose," extracting a "tax" of blind faith because the full 
 * proof is too large for any single human mind to fully encompass.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(cfsg_era, 1955, 2026).
narrative_ontology:constraint_claim(finite_simple_group_classification, mountain).

% Base extractiveness: 0.35
% Rationale: Moderate. While math is a gift, the CFSG "extracts" significant 
% cognitive labor. The "tax" is the requirement to accept an unverified (by the 
% individual) 10,000-page proof to proceed with modern algebra.
domain_priors:base_extractiveness(finite_simple_group_classification, 0.35).

% Suppression score: 0.2
% Rationale: It suppresses the visibility of "extra-classification" groups, 
% rendering the search for new finite simple groups functionally invisible.
domain_priors:suppression_score(finite_simple_group_classification, 0.2).

% Enforcement: Emerges from the fundamental axioms of group theory.
domain_priors:emerges_naturally(finite_simple_group_classification).

% Metrics
narrative_ontology:constraint_metric(finite_simple_group_classification, extractiveness, 0.35).
narrative_ontology:constraint_metric(finite_simple_group_classification, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS (Required for extractiveness > 0.3)
constraint_beneficiary(finite_simple_group_classification, group_theorists). % Power of induction over all groups.
constraint_beneficiary(finite_simple_group_classification, mathematical_physics). % Symmetry classification.
constraint_victim(finite_simple_group_classification, individual_verification). % The ability for a single person to verify the foundations.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE FINITE SIMPLE GROUP - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The group cannot "choose" to be outside the list.
   WHEN: immediate - True for any finite simple group in any context.
   WHERE: trapped - Bound within the logical "Periodic Table" of groups.
   SCOPE: global - Applies to all finite algebraic structures.
   
   WHY THIS CLASSIFICATION:
   For the group itself, the classification is a natural law. If it is simple 
   and finite, it is either a Lie-type group, an alternating group, or a 
   Sporadic group. There are zero degrees of freedom.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    finite_simple_group_classification,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MATHEMATICAL ESTABLISHMENT - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to maintain the "Gorenstein-Lyons-Solomon" proof.
   WHEN: civilizational - Long-term coordination of human knowledge.
   WHERE: mobile - Can refine the proof, simplify lemmas, or bridge gaps.
   SCOPE: global - Worldwide standard for algebraic achievement.
   
   WHY THIS CLASSIFICATION:
   For the institutional community, the theorem is a "Rope"—a functional 
   coordination tool. It allows mathematicians to coordinate "Global Induction" 
   on all finite groups by checking a finite, albeit long, list of cases.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    finite_simple_group_classification,
    rope,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE STUDENT / OUTSIDER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Lacks the status or time to verify the 10,000 pages.
   WHEN: biographical - Attempting to understand the foundations over a career.
   WHERE: constrained - No alternative but to trust the consensus of the "ancients."
   SCOPE: local - A specific research path or doctoral thesis.
   
   WHY THIS CLASSIFICATION:
   To the individual, the CFSG is a "Noose." It is a massive, unverified 
   barrier that "strangles" the ideal of mathematical self-sufficiency. It 
   extracts "Trust" where there should be "Proof," creating an asymmetric 
   power dynamic between the "Enormous Theorem" and the individual mind.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    finite_simple_group_classification,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(finite_simple_group_classification, E),
    E >= 0.3,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(finite_simple_group_classification_tests).

test(structural_fate_variance) :-
    % Group Structure -> Mountain
    constraint_indexing:constraint_classification(finite_simple_group_classification, Type1, context(individual_powerless, immediate, trapped, global)),
    % Community -> Rope
    constraint_indexing:constraint_classification(finite_simple_group_classification, Type2, context(institutional, civilizational, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(verification_barrier_noose) :-
    % A powerless individual in a biographical search for truth sees it as a Noose.
    constraint_indexing:constraint_classification(finite_simple_group_classification, noose, context(individual_powerless, biographical, constrained, local)).

test(beneficiary_victim_parity) :-
    constraint_beneficiary(finite_simple_group_classification, Beneficiary),
    constraint_victim(finite_simple_group_classification, Victim),
    Beneficiary \= Victim.

:- end_tests(finite_simple_group_classification_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.35): I chose to highlight the "epistemic extraction." 
 * Because the proof is too long to be verified by one person, it extracts 
 * the traditional mathematical right of "personal proof" in exchange for 
 * "institutional trust."
 * 2. PERSPECTIVE GAP: The "Enormous Theorem" is the best example of how 
 * complexity turns a Mountain into a Noose. If a truth is "Natural" (Mountain) 
 * but requires 10,000 pages to see, it effectively coerces the observer.
 * 3. OMEGAS: The central uncertainty is the "Gaps" in the first-generation 
 * proof (e.g., the Quasi-thin groups) which were only resolved decades later.
 */

% OMEGA IDENTIFICATION
omega_variable(
    proof_verification_completeness,
    "Is the 'Second Generation' proof actually complete and error-free?",
    resolution_mechanism("Verification of the final Gorenstein-Lyons-Solomon volumes (estimated 2025-2030)."),
    impact("If Gaps remain: The Mountain is actually a Scaffold. If Complete: It is a true Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Constructive discovery of "new" simple groups.
 * Viability: Mathematically impossible if the theorem holds.
 * Suppression: CFSG renders this path "invisible" to serious researchers.
 * * ALTERNATIVE 2: Automated Theorem Proving (Lean/Coq)
 * Viability: Currently too complex to formalize 10,000 pages, but a 
 * potential "Rope" for future generations.
 * * CONCLUSION:
 * The institutional "Rope" of the CFSG is so strong that it has completely 
 * suppressed Alternative 1, turning the theorem into an unassailable Mountain.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [finite_simple_group_classification].
% Analyze: ?- constraint_indexing:multi_index_report(finite_simple_group_classification).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: fmeca_procedures_1980
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: MIL-STD-1629A - Failure Mode, Effects, and Criticality Analysis (1980)
% ============================================================================

:- module(constraint_fmeca_procedures_1980, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: fmeca_procedures_1980
 * human_readable: MIL-STD-1629A (FMECA Procedures)
 * domain: technological/military/legal
 * temporal_scope: 1980 - Present
 * spatial_scope: United States (DoD acquisition environment)
 * * SUMMARY:
 * This constraint establishes the mandatory procedures for performing a Failure 
 * [cite_start]Mode, Effects, and Criticality Analysis (FMECA) for DoD systems[cite: 64, 68]. 
 * It functions as a rigid documentation and analysis framework intended to 
 * systematically identify catastrophic and critical failure possibilities 
 * [cite_start]early in the design phase[cite: 31, 41, 65].
 * * KEY AGENTS:
 * - Junior Design Engineer: The individual who must complete the worksheets; 
 * often views the requirement as a bureaucratic hurdle.
 * - DoD Program Manager: The institutional agent who mandates the standard 
 * [cite_start]to ensure "peace, justice and progress" through system reliability[cite: 1, 25].
 * - System Safety Analyst: The observer who views FMECA as a logical 
 * necessity for managing the inherent "natural law" of mechanical failure.
 * * NARRATIVE ARC:
 * [cite_start]The FMECA starts as an "essential function" [cite: 31] intended to be a 
 * flexible "Rope" for coordination. However, due to "untimeliness" and "isolated 
 * [cite_start]performance"[cite: 39, 40], it often hardens into a "Noose" for contractors 
 * [cite_start]who must fulfill rigid worksheet requirements [cite: 182] after design 
 * decisions are already finalized.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(fmeca_standard_era, 1980, 2026).
narrative_ontology:constraint_claim(fmeca_procedures_1980, rope).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.4). While it aims for safety, it "extracts" significant 
% labor and time from contractors to satisfy procuring activity data requirements 
[cite_start]%[cite: 33, 45, 1056].
domain_priors:base_extractiveness(fmeca_procedures_1980, 0.4).

% Suppression score (0.0-1.0)
% Rationale: Moderate (0.5). It strictly mandates specific coding systems 
[cite_start]% (MIL-STD-780) [cite: 198] [cite_start]and worksheet formats[cite: 182], punishing 
% alternative risk-management styles through contract non-compliance.
domain_priors:suppression_score(fmeca_procedures_1980, 0.5).

% Enforcement: Requires active maintenance by the procuring activity and 
[cite_start]% contracting officers[cite: 109, 169].
domain_priors:requires_active_enforcement(fmeca_procedures_1980).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(fmeca_procedures_1980, department_of_defense).
constraint_beneficiary(fmeca_procedures_1980, system_safety).
constraint_victim(fmeca_procedures_1980, contractors).
constraint_victim(fmeca_procedures_1980, innovative_design_flexibility).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(fmeca_procedures_1980, extractiveness, 0.4).
narrative_ontology:constraint_metric(fmeca_procedures_1980, suppression_requirement, 0.5).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: JUNIOR DESIGN ENGINEER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Must complete the work without shaping the standard.
   WHEN: immediate - Focused on meeting the current project deadline.
   [cite_start]WHERE: trapped - Bound by the "Ordering Data" in the specific contract[cite: 109, 541].
   [cite_start]SCOPE: local - Focused on a single component or assembly level[cite: 154].
   
   WHY THIS CLASSIFICATION:
   The engineer sees FMECA as a coercive "Noose" of paperwork. The "chief causes" 
   [cite_start]of criticism are its "untimeliness" [cite: 39]—it feels like a post-facto 
   [cite_start]requirement that "extracts" time without improving the design[cite: 38].
   
   NARRATIVE EVIDENCE:
   "Probably the greatest criticism of the FMECA has been its limited use 
   [cite_start]in improving designs... chief causes for this have been untimeliness"[cite: 38, 39].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fmeca_procedures_1980,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: DOD PROGRAM MANAGER - Rope
   --------------------------------------------------------------------------
   
   [cite_start]WHO: institutional - Has the power to "tailor the requirements"[cite: 34, 1012].
   WHEN: biographical - Spanning the acquisition lifecycle (years to decades).
   [cite_start]WHERE: mobile - Can select which tasks (101-105) to impose[cite: 1028].
   [cite_start]SCOPE: national - Applies to "all designated DoD systems"[cite: 68].
   
   WHY THIS CLASSIFICATION:
   For the manager, FMECA is a "Rope" for functional coordination. It's a 
   [cite_start]tool to "tailor" [cite: 34, 1043] and ensure that various reliability 
   [cite_start]tasks are coordinated to prevent "duplication of efforts"[cite: 45].
   
   NARRATIVE EVIDENCE:
   "The FMECA must contribute meaningfully to program decision... invaluable 
   [cite_start]to those who are responsible for making program decisions"[cite: 35, 36].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fmeca_procedures_1980,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: SAFETY ANALYST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal failure patterns.
   [cite_start]WHEN: historical - Based on decades of engineering experience[cite: 1091, 1134].
   [cite_start]WHERE: analytical - Sees failure as an inherent property of all "items"[cite: 194, 231].
   [cite_start]SCOPE: global - Applies to the "nature of the design process itself"[cite: 32].
   
   WHY THIS CLASSIFICATION:
   The analyst sees the "potential for failure" as an unchangeable "Mountain" 
   of reality. Systematic analysis is not an option but a "logical necessity" 
   [cite_start]dictated by the laws of physics and probability[cite: 124, 150].
   
   NARRATIVE EVIDENCE:
   "FMECA is an essential function in design... [it] must be iterative to 
   [cite_start]correspond with the nature of the design process itself"[cite: 31, 32].
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    fmeca_procedures_1980,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(fmeca_procedures_1980_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(fmeca_procedures_1980, Type1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(fmeca_procedures_1980, Type2, context(institutional, biographical, mobile, national)),
    Type1 = noose,
    Type2 = rope.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, mobile, national),
    constraint_indexing:extractiveness_for_agent(fmeca_procedures_1980, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(fmeca_procedures_1980, ContextPowerful, Score2),
    Score1 > Score2.

test(tailoring_as_rope_flexibility) :-
    % Tailoring (mobile exit option) allows institutional power to view it as a Rope.
    constraint_indexing:constraint_classification(fmeca_procedures_1980, rope, context(institutional, _, mobile, _)).

:- end_tests(fmeca_procedures_1980_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.4): Chosen because while FMECA is safety-critical, 
 * [cite_start]the standard admits it is often seen as a burden[cite: 38]. It extracts 
 * [cite_start]"valuable resources" [cite: 1056] in exchange for theoretical safety.
 * * 2. SUPPRESSION SCORE (0.5): The standard enforces a very specific way of 
 * [cite_start]thinking (severity categories, coding)[cite: 267, 707]. Other methods 
 * exist but are functionally "suppressed" by the acquisition contract.
 * * 3. PERSPECTIVE SELECTION: Chose the Engineer (victim of untimeliness), 
 * Manager (agent of tailoring), and Analyst (observer of failure's nature).
 * * 4. AMBIGUITIES: Resolved the "standard vs tailoring" tension by assigning 
 * "Rope" status to those with the power to tailor and "Noose" status to 
 * those forced to comply with the untailored defaults.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    fmeca_actual_impact,
    "Does FMECA actually improve design, or is its criticism as 'limited use' inherently true?",
    resolution_mechanism("Longitudinal study of failure rates in FMECA-compliant vs non-compliant complex systems"),
    impact("If Mountain (physics-driven): safety increases. If Noose (bureaucracy-driven): only paperwork increases."),
    confidence_without_resolution(medium)
).

omega_variable(
    tailoring_competence,
    "Is the procuring activity competent to 'tailor' requirements appropriately, or does it default to maximum suppression?",
    resolution_mechanism("Audit of tailoring decisions across diverse DoD programs"),
    impact("If tailored: Rope. If default: Noose for all contractors."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Informal Designer Intuition
 * Viability: Historically how many machines were built before formal FMEA.
 * [cite_start]Suppression: Banned by Paragraph 4.1 requiring "planned and performed" analysis[cite: 169].
 * * ALTERNATIVE 2: Purely Qualitative "Brainstorming"
 * Viability: Faster, lower "extractiveness" of labor.
 * [cite_start]Suppression: Rejected by requirements for "quantitative" criticality numbers (Cm)[cite: 853, 1090].
 * * CONCLUSION:
 * The active rejection of informal/qualitative alternatives in favor of 
 * specific worksheet formats shifts the classification from a coordination 
 * Rope to an enforced Noose for those doing the work.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [fmeca_procedures_1980].
% Run tests: ?- run_tests(fmeca_procedures_1980_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: fundamental_theorem_of_algebra
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Fundamental Theorem of Algebra (Gauss/Argand/d'Alembert)
% ============================================================================

:- module(constraint_fta, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: fundamental_theorem_of_algebra
 * human_readable: Fundamental Theorem of Algebra (FTA)
 * domain: mathematical
 * temporal_scope: 1799 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Complex Plane)
 * * SUMMARY:
 * The FTA states that every non-constant single-variable polynomial with complex 
 * coefficients has at least one complex root. In terms of constraints, it 
 * establishes the "completeness" of the complex number system, ensuring that 
 * algebraic equations of degree n always yield n solutions.
 * * KEY AGENTS:
 * - The Polynomial (Subject): The passive mathematical object whose roots 
 * are predestined by its coefficients and degree.
 * - The Numerical Analyst (Institutional): An agent using the theorem as a 
 * guarantee to build robust solvers (e.g., Jenkins-Traub or Durand-Kerner).
 * - The "Real" Number Purist (Victim): An agent constrained to the real line, 
 * for whom the FTA acts as an invasive force requiring the use of "imaginary" numbers.
 * * NARRATIVE ARC:
 * The FTA begins as a "Mountain" of natural law—an inescapable truth of 
 * mathematical reality. For practitioners, it functions as a "Rope," 
 * providing a coordination mechanism for engineering stability and 
 * signal processing. However, for those trapped in lower-dimensional 
 * number systems (like the Reals), it acts as a "Noose," proving that 
 * their system is "incomplete" and forcing the extraction of cognitive 
 * labor to navigate the complex plane.
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(fta_era, 1799, 2026).
narrative_ontology:constraint_claim(fundamental_theorem_of_algebra, mountain).

% Base extractiveness: 0.1
% Rationale: Mathematical truths are generally non-extractive, but the FTA 
% "extracts" the possibility of rootless polynomials to provide a stable system.
domain_priors:base_extractiveness(fundamental_theorem_of_algebra, 0.1).

% Suppression score: 0.2
% Rationale: It suppresses the existence of "unsolvable" polynomials within 
% its domain, rendering alternative "rootless" algebraic universes invalid.
domain_priors:suppression_score(fundamental_theorem_of_algebra, 0.2).

% Enforcement: Emerges naturally from the axioms of the complex field.
domain_priors:emerges_naturally(fundamental_theorem_of_algebra).

% Metrics
narrative_ontology:constraint_metric(fundamental_theorem_of_algebra, extractiveness, 0.1).
narrative_ontology:constraint_metric(fundamental_theorem_of_algebra, suppression_requirement, 0.2).

% Beneficiaries & Victims
constraint_beneficiary(fundamental_theorem_of_algebra, control_engineers).
constraint_beneficiary(fundamental_theorem_of_algebra, complexity_theorists).
constraint_victim(fundamental_theorem_of_algebra, real_variable_simplicity).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE POLYNOMIAL ITERATE - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The polynomial cannot "choose" to have no roots.
   WHEN: immediate - The root exists at the moment the polynomial is defined.
   WHERE: trapped - Bound within the complex plane C.
   SCOPE: local - Immediate neighborhood of the roots.
   
   WHY THIS CLASSIFICATION:
   For the mathematical object, the FTA is a "Mountain." There are zero degrees 
   of freedom; the existence of the root is a fixed, unchangeable law of its 
   being.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    fundamental_theorem_of_algebra,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CONTROL SYSTEMS ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design filters and feedback loops.
   WHEN: biographical - Spanning the operational life of a machine.
   WHERE: mobile - Can adjust coefficients to move roots (poles) for stability.
   SCOPE: global - Applicable across all linear time-invariant systems.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the FTA is a "Rope." It is a functional tool that 
   guarantees a solution exists, allowing them to coordinate the 
   stability of physical systems (ensuring poles stay in the left-half plane).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fundamental_theorem_of_algebra,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE STUDENT OF REAL ANALYSIS - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Subject to the curriculum and the limits of R.
   WHEN: immediate - Facing the failure of x^2 + 1 = 0 on the real line.
   WHERE: constrained - Knowing a solution exists "elsewhere" but unable to see it.
   SCOPE: local - A specific homework problem.
   
   WHY THIS CLASSIFICATION:
   When confined to Real numbers, the FTA is a "Noose." It proves the 
   incompleteness of the student's reality, "strangling" the simplicity of 
   the number line and forcing a transition into a higher-dimensional 
   complexity that they may not be prepared for.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    fundamental_theorem_of_algebra,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(fundamental_theorem_of_algebra, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(fta_tests).

test(completeness_variance) :-
    % Subject -> Mountain
    constraint_indexing:constraint_classification(fundamental_theorem_of_algebra, Type1, context(individual_powerless, immediate, trapped, local)),
    % Engineer -> Rope
    constraint_indexing:constraint_classification(fundamental_theorem_of_algebra, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(extraction_of_possibility) :-
    % Even low extraction is felt when the agent is trapped.
    constraint_indexing:extractiveness_for_agent(fundamental_theorem_of_algebra, context(individual_powerless, immediate, trapped, local), Score),
    Score > 0.05.

test(natural_emergence) :-
    domain_priors:emerges_naturally(fundamental_theorem_of_algebra).

:- end_tests(fta_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SELECTION: Chose the "Student of Real Analysis" as the 
 * powerless agent to highlight the "Noose" aspect—the realization that 
 * one's current system is lacking.
 * 2. EXTRACTIVENESS: Set at 0.1. While math is a "gift," the FTA effectively 
 * forbids certain mathematical structures (non-closed algebraic fields 
 * over C), which is a form of structural extraction.
 * 3. SUPPRESSION: Set at 0.2 because the FTA renders the "search for 
 * rootless complex polynomials" a futile and invisible path.
 */

% OMEGA IDENTIFICATION
omega_variable(
    constructive_finding_complexity,
    "Does the 'Rope' of existence help find roots, or is it a 'Noose' of unreachable solutions?",
    resolution_mechanism("Comparison of search time for degree-1000 polynomials across different fields."),
    impact("If unsolvable: Noose. If solvable: Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Real-only Algebra
 * Viability: The world before the 16th century.
 * Suppression: Ineffective for describing vibration, rotation, or stability.
 * Evidence: The existence of x^2 + 1 = 0.
 * * ALTERNATIVE 2: Quaternions / Octonions
 * Viability: Higher dimensional algebras.
 * Suppression: The FTA only applies to commutative fields; non-commutative 
 * systems are "suppressed" by the FTA's dominance in standard curriculum.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [fundamental_theorem_of_algebra].
% Run: ?- constraint_indexing:multi_index_report(fundamental_theorem_of_algebra).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: four_color_theorem_topological_bound
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Appel & Haken (1976) / Graph Theory / Topology
% ============================================================================

:- module(constraint_four_color_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: four_color_theorem_topological_bound
 * human_readable: The Four Color Theorem
 * domain: mathematical/technological
 * temporal_scope: 1852 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Planar Graphs)
 * * SUMMARY:
 * The Four Color Theorem states that no more than four colors are required to 
 * color the regions of any map so that no two adjacent regions have the same 
 * color. It is a fundamental topological constraint on how planar space can 
 * be partitioned and connected.
 * * KEY AGENTS:
 * - The Map Region (Subject): A powerless agent whose "identity" (color) is 
 * constrained by the neighbors it touches.
 * - The Cartographer/Network Architect (Institutional): An agent who uses 
 * the theorem as a "Rope" to optimize resource allocation (frequencies, colors).
 * - The Mathematical Purist (Victim): An agent for whom the computer-assisted 
 * proof is a "Noose," extracting the "elegant human-readable proof" and 
 * replacing it with exhaustive algorithmic verification.
 * * NARRATIVE ARC:
 * The theorem functions as a "Mountain" of planar reality—a hard limit of 
 * geometry that cannot be bypassed. In wireless networking, it is a "Rope" 
 * for coordinating frequency reuse. However, for the history of mathematics, 
 * its proof acted as a "Noose," extracting the traditional "aesthetic of 
 * understanding" (extraction) and "strangling" the era of human-only 
 * verification with the first major computer-dependent proof.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================= */

% Structural Anchor for the Deferential Realism Auditor
narrative_ontology:interval(four_color_era, 1852, 2026).
narrative_ontology:constraint_claim(four_color_theorem_topological_bound, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.25. The theorem "extracts" the possibility of higher-color 
% variety to enforce a lower-bound efficiency. It also "extracts" human 
% intuition in favor of computational brute force.
domain_priors:base_extractiveness(four_color_theorem_topological_bound, 0.25).

% Suppression score (0.0-1.0)
% Rationale: 0.2. It suppresses the visibility of 5-color or 6-color 
% "redundant" systems by proving they are mathematically unnecessary for 
% planar partitions.
domain_priors:suppression_score(four_color_theorem_topological_bound, 0.2).

% Enforcement: Emerges naturally from the topology of the plane.
domain_priors:emerges_naturally(four_color_theorem_topological_bound).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(four_color_theorem_topological_bound, extractiveness, 0.25).
narrative_ontology:constraint_metric(four_color_theorem_topological_bound, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(four_color_theorem_topological_bound, frequency_allocation_engineers).
constraint_beneficiary(four_color_theorem_topological_bound, automated_theorem_provers).
constraint_victim(four_color_theorem_topological_bound, classical_human_intuition).
constraint_victim(four_color_theorem_topological_bound, map_complexity_enthusiasts).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INDIVIDUAL MAP REGION - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The region has no agency over its adjacency.
   WHEN: immediate - The color constraint is true the moment the map is drawn.
   WHERE: trapped - Bound within the 2D plane.
   SCOPE: local - Can only "see" its immediate neighbors.
   
   WHY THIS CLASSIFICATION:
   For a specific region on a map, the limit of 4 colors is an absolute 
   Mountain. It cannot "choose" to be a 5th color that is distinct from its 
   neighbors if the global topology has already constrained the available 
   choices. The arithmetic of adjacency is a natural law.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    four_color_theorem_topological_bound,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SPECTRUM MANAGER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to allocate frequencies or design cellular grids.
   WHEN: biographical - Planning a regional or national wireless network.
   WHERE: mobile - Can adjust tower placement or boundary lines.
   SCOPE: national - Managing a country's spectrum.
   
   WHY THIS CLASSIFICATION:
   For the institutional actor, the theorem is a "Rope"—a functional 
   coordination mechanism. It provides a "standard of achievement" that 
   guarantees they never need more than 4 distinct frequency sets to 
   cover a territory without overlap, "pulling" the system toward 
   maximum efficiency.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    four_color_theorem_topological_bound,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ELEGANCE-SEEKING MATHEMATICIAN - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools to prove but is bound by the theorem's nature.
   WHEN: historical - Spanning the 124 years between conjecture and proof.
   WHERE: constrained - No alternative but to accept a "computer-only" proof.
   SCOPE: global - Affecting the philosophy of all mathematical proof.
   
   WHY THIS CLASSIFICATION:
   For the classical theorist, the Four Color Theorem is a "Noose." It 
   "strangles" the ideal of a beautiful, human-comprehensible proof. 
   By requiring thousands of case-checkings via computer, it extracts the 
   "human element" (extraction) from the proof, "choking" the 
   tradition of Euclidean simplicity.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    four_color_theorem_topological_bound,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(four_color_theorem_topological_bound, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(four_color_tests).

test(multi_perspective_variance) :-
    % Region -> Mountain
    constraint_indexing:constraint_classification(four_color_theorem_topological_bound, Type1, context(individual_powerless, immediate, trapped, local)),
    % Manager -> Rope
    constraint_indexing:constraint_classification(four_color_theorem_topological_bound, Type2, context(institutional, biographical, mobile, national)),
    Type1 \= Type2.

test(intuition_extraction_penalty) :-
    % The mathematician feels the extraction of human-readability.
    Context = context(individual_moderate, historical, constrained, global),
    constraint_indexing:extractiveness_for_agent(four_color_theorem_topological_bound, Context, Score),
    Score >= 0.2.

test(natural_emergence) :-
    domain_priors:emerges_naturally(four_color_theorem_topological_bound).

:- end_tests(four_color_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.25): 
 * Chose this because the Four Color Theorem represents the first time 
 * mathematics "extracted" the necessity of computer-aid, a major shift 
 * in the "tax" of verification.
 * 2. CLASSIFICATION: 
 * Captured the transition from a "Mountain" of geometry to a "Noose" 
 * for mathematical philosophy due to the brute-force nature of the proof.
 */

% OMEGA IDENTIFICATION
omega_variable(
    human_readable_proof_existence,
    "Does a 'Mountain' of a short, elegant human-readable proof exist for the Four Color Theorem (Scaffold)?",
    resolution_mechanism("Verification of new proof candidates against the Appel-Haken-Robertson exhaustion."),
    impact("If Yes: The current 'Noose' of computer-verification is just a Scaffold for human limits."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Map coloring on different surfaces (e.g., Torus)
 * Viability: Requires 7 colors. 
 * Suppression: The 4-color limit is only a "Mountain" for planar graphs. 
 * On a torus, it's a "Rope" that fails.
 * * ALTERNATIVE 2: 5-Color Theorem
 * Viability: Much simpler human proof exists. 
 * Suppression: Functionally "suppressed" by the more powerful (but harder) 
 * 4-color result.
 * * CONCLUSION:
 * The existence of Alternative 1 (Torus coloring) proves that the "Mountain" 
 * of 4 colors is a feature of the Plane's topology, not an absolute 
 * universal law of all space.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [four_color_theorem_topological_bound].
 * 2. Multi-perspective: ?- multi_index_report(four_color_theorem_topological_bound).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: gale_shapley_matching
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Gale-Shapley Algorithm / Stable Marriage Problem
% ============================================================================

:- module(constraint_gale_shapley_matching, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: gale_shapley_matching
 * human_readable: The Gale-Shapley Stable Matching
 * domain: technological/social/mathematical
 * temporal_scope: Biographical to Historical
 * spatial_scope: Regional to Global
 * * SUMMARY:
 * The Gale-Shapley algorithm ensures a "stable" matching between two sets of agents 
 * (e.g., students and schools), where no two agents prefer each other over their 
 * current partners. While stable, the outcome is systematically biased toward 
 * the "proposing" side (who get their best possible stable match) over the 
 * "receiving" side (who get their worst).
 * * KEY AGENTS:
 * - The Proposers: Agents who initiate offers (e.g., Medical Students in the NRMP).
 * - The Receivers: Agents who accept/reject offers (e.g., Residency Programs).
 * - The Designer: The institutional entity that mandates the algorithmic matching.
 * * NARRATIVE ARC:
 * The constraint functions as a "fairness trap." It guarantees stability (no 
 * divorces/defections) but encodes a silent asymmetry into the result based 
 * solely on who is allowed to move first.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(gale_shapley_matching, 0, 10).
narrative_ontology:constraint_claim(gale_shapley_matching, algorithmic_determinism).

% Base extractiveness: Moderate (0.5).
% The algorithm extracts a "preference tax" from the receiving side to ensure 
% the proposers are optimized.
domain_priors:base_extractiveness(gale_shapley_matching, 0.5).

% Suppression: Moderate (0.6).
% Alternatives like "decentralized markets" are often suppressed by institutions 
% (like the NRMP) to prevent "exploding offers" and market failure.
domain_priors:suppression_score(gale_shapley_matching, 0.6).

% Enforcement: Requires active enforcement (Institutional mandate).
domain_priors:requires_active_enforcement(gale_shapley_matching).

% Beneficiaries: The Proposing Side (receive their optimal stable match).
constraint_beneficiary(gale_shapley_matching, proposing_agents).

% Victims: The Receiving Side (receive their pessimal stable match).
constraint_victim(gale_shapley_matching, receiving_agents).

% Metrics
narrative_ontology:constraint_metric(gale_shapley_matching, extractiveness, 0.5).
narrative_ontology:constraint_metric(gale_shapley_matching, suppression_requirement, 0.6).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PROPOSER - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the proposer, the algorithm is a "Rope." It provides a clear, 
   strategy-proof path to the best possible outcome. They are encouraged 
   to list their true preferences, and the system coordinates their 
   ascent to an optimal partner.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gale_shapley_matching,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(gale_shapley_matching, E),
    E =< 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE RECEIVER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (relative to the algorithm's bias)
   WHEN: immediate
   WHERE: trapped
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   The receiver experiences the algorithm as a "Noose." They are forced 
   into their worst possible stable outcome. While they are "stable," 
   the structural asymmetry of the algorithm's proposal-response 
   dynamic squeezes their agency.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gale_shapley_matching,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(gale_shapley_matching, S),
    S > 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE GAME THEORIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the theorist, stability is a "Mountain." The existence of a stable 
   matching is a mathematical certainty. The trade-offs between proposer 
   and receiver are not "unfair," but rather properties of the 
   solution space itself.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gale_shapley_matching,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(gale_shapley_matching), % Logical emergence
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(gale_shapley_tests).

test(proposer_advantage_variance) :-
    % Test that proposers see a Rope while receivers see a Noose
    constraint_indexing:constraint_classification(gale_shapley_matching, rope, context(agent_power(individual_moderate), _, mobile, _)),
    constraint_indexing:constraint_classification(gale_shapley_matching, noose, context(agent_power(individual_powerless), _, trapped, _)).

test(stability_immutability) :-
    % Analytical perspective should always find the 'Mountain' of stability
    constraint_indexing:constraint_classification(gale_shapley_matching, mountain, context(agent_power(analytical), _, _, _)).

:- end_tests(gale_shapley_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.5): The asymmetry is inherent but not strictly "evil." 
 * It is an extraction of the receiver's preference-rank to benefit 
 * the proposer's rank.
 * 2. NOOSE CLASSIFICATION: I assigned "Noose" to receivers because they 
 * are mathematically guaranteed to get the "pessimal" version of 
 * a stable match, and they are usually "trapped" by institutional 
 * requirements to participate (e.g., medical residency).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    preference_honesty,
    "Do agents actually report true preferences, or do they game the system?",
    resolution_mechanism("Audit of ranking data vs. long-term satisfaction surveys"),
    impact("If Truthful: Proposer-Optimal holds. If Strategic: The 'Rope' may fray/break."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Decentralized Markets: Chaotic, but allows for negotiation.
 * 2. Receiver-Proposing: Swaps the beneficiaries.
 * 3. Random Proposer Assignment: Balances the "Noose" effect across both sides.
 * * CONCLUSION:
 * The choice of WHO proposes transforms the algorithm from a 
 * neutral Mountain into a directional Rope/Noose.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: galois_theory_symmetry
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Évariste Galois (1832) / Abstract Algebra / Field Theory
% ============================================================================

:- module(constraint_galois_theory, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: galois_theory_symmetry
 * human_readable: Galois Theory (Symmetry of Roots)
 * domain: mathematical/theoretical
 * temporal_scope: 1832 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Algebraic Fields)
 * * SUMMARY:
 * Galois Theory provides a connection between field theory and group theory. 
 * It characterizes the solvability of polynomials by radicals through the 
 * symmetry group of their roots (the Galois group). Most famously, it proves 
 * the insolvability of the general quintic equation.
 * * KEY AGENTS:
 * - The Polynomial (Subject): The mathematical object whose roots are 
 * governed by an inescapable internal symmetry.
 * - Évariste Galois: The historical individual who was "strangled" by the 
 * social/political Noose of 19th-century France while mapping the Mountain 
 * of group symmetry.
 * - The Abstract Algebraist (Institutional): An agent who uses the "Rope" of 
 * Galois correspondence to navigate complex algebraic structures.
 * * NARRATIVE ARC:
 * Galois Theory is the "Mountain" of algebraic limits. It reveals that the 
 * "freedom" to solve equations is restricted by the group structure of their 
 * permutations. Historically, for Galois himself, the theory was a "Rope" of 
 * genius that failed to save him from the political "Noose" of his era.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(galois_era, 1832, 2026).
narrative_ontology:constraint_claim(galois_theory_symmetry, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Low (0.2). It is a structural truth. However, it "extracts" 
% the possibility of "easy" radical solutions for high-degree equations, 
% demanding massive cognitive labor to understand the "hidden" group laws.
domain_priors:base_extractiveness(galois_theory_symmetry, 0.2).

% Suppression score (0.0-1.0)
% Rationale: Low (0.1). It reveals deeper truths rather than hiding them, 
% though it suppresses the "naive" hope for a general formula for the quintic.
domain_priors:suppression_score(galois_theory_symmetry, 0.1).

% Enforcement: Emerges naturally from the axioms of fields and groups.
domain_priors:emerges_naturally(galois_theory_symmetry).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(galois_theory_symmetry, extractiveness, 0.2).
narrative_ontology:constraint_metric(galois_theory_symmetry, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(galois_theory_symmetry, theoretical_physicists). % Symmetry groups.
constraint_beneficiary(galois_theory_symmetry, algebraic_number_theorists).
constraint_victim(galois_theory_symmetry, radical_solvability_hope). % The death of the "general formula."

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ROOTS OF THE QUINTIC - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The roots have no agency over their own symmetry.
   WHEN: immediate - The law is true at the moment the coefficients are set.
   WHERE: trapped - Bound within the field extension $E/F$.
   SCOPE: local - Immediate neighborhood of the polynomial $P(x)$.
   
   WHY THIS CLASSIFICATION:
   For the roots of $x^5 - x - 1$, the Galois group $S_5$ is an unchangeable 
   destiny. Because $S_5$ is not solvable, the roots *cannot* be expressed 
   by radicals. This is a topological and algebraic Mountain that no 
   computation can circumvent.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    galois_theory_symmetry,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE GRADUATE STUDENT - Noose
   --------------------------------------------------------------------------
   WHO: individual_moderate - Has the intelligence to learn, but is bound by rigor.
   WHEN: biographical - Spanning the months of a grueling course.
   WHERE: constrained - Knowing the answer exists but lost in the abstraction.
   SCOPE: local - A specific exam or research hurdle.
   
   WHY THIS CLASSIFICATION:
   To the student, the "Galois Correspondence" often feels like a "Noose." 
   It promises a "simple" link between subfields and subgroups, but 
   the path to verifying that link extracts immense cognitive energy and 
   "strangles" intuitive understanding until the "aha" moment occurs.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    galois_theory_symmetry,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(galois_theory_symmetry, E),
    E >= 0.1,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PROFESSIONAL MATHEMATICIAN - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to use the theory to coordinate new proofs.
   WHEN: civilizational - Long-term development of mathematics.
   WHERE: mobile - Moving between algebraic geometry, physics, and number theory.
   SCOPE: global - Universal application.
   
   WHY THIS CLASSIFICATION:
   For the expert, Galois Theory is a "Rope"—a functional coordination 
   mechanism. It allows them to "climb" from the low-level data of coefficients 
   to the high-level structure of groups, making intractable problems solvable 
   by switching representations.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    galois_theory_symmetry,
    rope,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (Insights into Algebraic Power)
   ========================================================================== */

:- begin_tests(galois_theory_tests).

test(symmetry_fate_variance) :-
    % Subject -> Mountain
    constraint_indexing:constraint_classification(galois_theory_symmetry, Type1, context(individual_powerless, immediate, trapped, local)),
    % Expert -> Rope
    constraint_indexing:constraint_classification(galois_theory_symmetry, Type2, context(institutional, civilizational, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(student_frustration_noose) :-
    % A moderate power agent in a constrained/biographical context sees the abstraction as a Noose.
    constraint_indexing:constraint_classification(galois_theory_symmetry, noose, context(individual_moderate, biographical, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(galois_theory_symmetry).

:- end_tests(galois_theory_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.2): 
 * Galois Theory "extracts" the simple world of formulas ($x = \frac{-b...}$) 
 * and replaces it with the "tax" of abstract group theory.
 * * 2. CLASSIFICATION AS MOUNTAIN: 
 * For the polynomial itself, it is the ultimate Mountain. No amount of 
 * arithmetic can "escape" the group structure of the roots.
 * * 3. PERSPECTIVES:
 * Chose Roots (Subject), Student (Victim of abstraction), and Expert 
 * (User of the tool) to illustrate the transition from "strangulation" 
 * to "coordination."
 */

% OMEGA IDENTIFICATION
omega_variable(
    inverse_galois_problem,
    "Is every finite group a Galois group of some extension of Q?",
    resolution_mechanism("Formal proof or counterexample; current status: unsolved for many groups."),
    impact("If Yes: The Mountain is symmetric and complete. If No: The Mountain has 'cracks' (Ropes) we haven't mapped."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Abel-Ruffini Theorem
 * Viability: Proves the same result (insolvability of quintic) but without 
 * the "Rope" of group correspondence.
 * Status: Replaced by Galois because it provides a more functional tool 
 * for coordination across other domains.
 * * ALTERNATIVE 2: Purely Numerical Methods
 * Viability: Using computers to find roots to high precision.
 * Suppression: Rejected by pure mathematicians because it avoids the 
 * "truth" of the structural Mountain.
 * * CONCLUSION:
 * The dominance of Galois Theory over Abel's work is due to its utility as a 
 * "Rope" that links distinct fields of thought.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [galois_theory_symmetry].
% Analyze: ?- constraint_indexing:multi_index_report(galois_theory_symmetry).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: gamblers_ruin_stochastic_extinction
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Pascal & Fermat (1650s) / Huygens / Bernoulli
% ============================================================================

:- module(constraint_gamblers_ruin, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: gamblers_ruin_stochastic_extinction
 * human_readable: Gambler's Ruin
 * domain: mathematical/economic
 * temporal_scope: 17th Century - Present
 * spatial_scope: Global/Abstract (Finite Capital vs. Infinite Bank)
 * * SUMMARY:
 * Gambler's Ruin is a statistical theorem stating that a gambler with finite 
 * wealth, playing a fair game against an opponent with infinite wealth (the 
 * "Bank"), will eventually go bankrupt with a probability of 1. It represents 
 * the inescapable "suction" of a random walk toward a boundary.
 * * KEY AGENTS:
 * - The Finite Gambler: The powerless agent whose capital is a limited buffer 
 * against the variance of the walk.
 * - The House (Institutional): An agent who uses the Law of Large Numbers as 
 * a "Rope" to coordinate inevitable profits from finite-capital participants.
 * - The Systemic Risk Manager: An observer who sees the ruin as a "Noose" 
 * for leveraged entities in volatile markets.
 * * NARRATIVE ARC:
 * Gambler's Ruin is the "Mountain" of stochastic fate—if the walk is long enough, 
 * the boundary of zero is a destiny. For the Casino, it is a "Rope" that 
 * coordinates stable revenue. However, for the individual player, the 
 * "long run" acts as a "Noose" that extracts their entire net worth 
 * (extraction) through the simple "choking" action of variance.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for Deferential Realism Auditor
narrative_ontology:interval(ruin_era, 1650, 2026).
narrative_ontology:constraint_claim(gamblers_ruin_stochastic_extinction, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.9. This is a highly extractive constraint. It mathematically 
% guarantees the total transfer of wealth from the powerless agent to the 
% institutional agent given enough time.
domain_priors:base_extractiveness(gamblers_ruin_stochastic_extinction, 0.9).

% Suppression score (0.0-1.0)
% Rationale: 0.5. It suppresses the visibility of "lucky streaks" as a 
% viable survival strategy, rendering them merely a "Scaffold" that 
% temporarily delays the inevitable Noose.
domain_priors:suppression_score(gamblers_ruin_stochastic_extinction, 0.5).

% Enforcement: Emerges naturally from the axioms of the Random Walk.
domain_priors:emerges_naturally(gamblers_ruin_stochastic_extinction).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(gamblers_ruin_stochastic_extinction, extractiveness, 0.9).
narrative_ontology:constraint_metric(gamblers_ruin_stochastic_extinction, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(gamblers_ruin_stochastic_extinction, casino_corporations).
constraint_beneficiary(gamblers_ruin_stochastic_extinction, deep_pocket_investors). % Use wealth to outlast smaller rivals.
constraint_victim(gamblers_ruin_stochastic_extinction, finite_capital_players).
constraint_victim(gamblers_ruin_stochastic_extinction, leveraged_small_businesses).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE CASINO OWNER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to set house edge and table limits.
   WHEN: biographical - Planning the fiscal health of a multi-decade enterprise.
   WHERE: mobile - Can adjust table rules or diversify risk across games.
   SCOPE: global - Universal standard for gaming establishments.
   
   WHY THIS CLASSIFICATION:
   For the owner, the ruin is a "Rope"—a functional coordination mechanism. 
   It ensures that even in "fair" games (zero edge), the house's deeper 
   reserves act as a safety line. It provides a standard of achievement for 
   long-term profitability by "pulling" the aggregate of finite players 
   toward the house's vault.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    gamblers_ruin_stochastic_extinction,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE FINITE STAKEHOLDER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Lacks the capital to change the math of the walk.
   WHEN: immediate - Every bet is a step closer to or further from the cliff.
   WHERE: trapped - Bound within the session rules and finite wallet.
   SCOPE: local - Immediate neighborhood of their current balance.
   
   WHY THIS CLASSIFICATION:
   For the individual player, the ruin is an unyielding Mountain. They 
   cannot "negotiate" with the probability density. If they play forever, 
   the math dictates their destruction. There is zero agency to change the 
   terminal state of the walk.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gamblers_ruin_stochastic_extinction,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MARGIN-TRADED INVESTOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the intelligence to trade but is bound by margin limits.
   WHEN: immediate - Facing a "Margin Call" that liquidates their position.
   WHERE: constrained - The "exit" requires capital they do not have.
   SCOPE: regional - Impacting local market segments.
   
   WHY THIS CLASSIFICATION:
   In leveraged trading, Gambler's Ruin is a "Noose." It "strangles" the investor 
   during temporary downward variance. Because they have a finite buffer, 
   the market's "randomness" extracts their entire equity (extraction) 
   before the upward trend can return. The volatility "chokes" the 
   life out of their account.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    gamblers_ruin_stochastic_extinction,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :- 
    domain_priors:base_extractiveness(gamblers_ruin_stochastic_extinction, E),
    E >= 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(gamblers_ruin_tests).

test(multi_perspective_variance) :-
    % Casino -> Rope
    constraint_indexing:constraint_classification(gamblers_ruin_stochastic_extinction, Type1, context(institutional, biographical, mobile, global)),
    % Player -> Mountain
    constraint_indexing:constraint_classification(gamblers_ruin_stochastic_extinction, Type2, context(individual_powerless, immediate, trapped, local)),
    Type1 \= Type2.

test(extraction_intensity) :-
    % Demonstrates that the Noose classification highlights the 0.9 extraction of wealth.
    ContextNoose = context(individual_moderate, immediate, constrained, regional),
    constraint_indexing:extractiveness_for_agent(gamblers_ruin_stochastic_extinction, ContextNoose, Score),
    Score >= 0.8.

test(natural_emergence) :-
    domain_priors:emerges_naturally(gamblers_ruin_stochastic_extinction).

:- end_tests(gamblers_ruin_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.9): 
 * I chose 0.9 because the "ruin" is a absolute transfer of wealth. It is 
 * not just a tax; it is a terminal extraction of the entire stake. 
 * * 2. CLASSIFICATION RATIONALE:
 * - Casino Owner (Rope): Using the "Rope" of liquidity to outlast variance.
 * - Player (Mountain): Facing the unyielding law of probability.
 * - Leveraged Trader (Noose): Where the "Mountain" of variance becomes 
 * a "Noose" due to a margin call.
 * * 3. OMEGAS:
 * Formalized the uncertainty of "Infinite Play"—does the Mountain hold 
 * in a universe with finite time and finite house wealth?
 */

% OMEGA IDENTIFICATION
omega_variable(
    finite_bank_symmetry,
    "Is the 'Mountain' stable if the House also has a finite limit (Scaffold)?",
    resolution_mechanism("Calculation of ruin probability with two absorbing boundaries at $0$ and $B_{house}$."),
    impact("If House is finite: The 'Noose' is symmetric; the house can also be ruined."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Stopping Rules (Quit while ahead)
 * Viability: Theoretically possible for an individual to win and stop.
 * Suppression: Actively suppressed by "Compulsive Play" and "Near-Miss" 
 * psychological triggers in casinos (Scaffolding).
 * * ALTERNATIVE 2: Martingale Strategy (Double after loss)
 * Viability: Seems like a "Rope" but is actually a "Noose."
 * Suppression: Suppressed by the "Mountain" of Table Limits and 
 * finite bankrolls.
 * * CONCLUSION:
 * The absence of Alternative 2's viability (due to finite capital) is exactly 
 * what makes the Gambler's Ruin a terminal "Noose" for the individual.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_gamblers_ruin].
 * 2. Analyze: ?- multi_index_report(gamblers_ruin_stochastic_extinction).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: gauss_bonnet_topology
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Gauss-Bonnet Theorem (Differential Geometry / Topology)
% ============================================================================

:- module(constraint_gauss_bonnet, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: gauss_bonnet_topology
 * human_readable: Gauss-Bonnet Theorem (Curvature-Topology Link)
 * domain: mathematical/technological/physical
 * temporal_scope: 1848 - Present (Civilizational)
 * spatial_scope: Global/Abstract (2-Manifolds)
 * * SUMMARY:
 * The Gauss-Bonnet theorem relates the local geometry (Gaussian curvature K) 
 * of a surface to its global topology (Euler characteristic chi). Specifically, 
 * the integral of the curvature over a closed surface is equal to 2*pi*chi. 
 * This creates a rigid quantization of total curvature.
 * * KEY AGENTS:
 * - The Surface (Manifold): The powerless subject whose total curvature is 
 * predestined by its genus (number of holes).
 * - The Cosmologist/General Relativist: An analytical observer who uses 
 * the theorem to infer the global shape of the universe from local data.
 * - The Computer Graphics Architect: An institutional agent who uses the 
 * theorem to validate the "manifoldness" of digital meshes.
 * * NARRATIVE ARC:
 * Gauss-Bonnet is the ultimate "Mountain" of geometry. It demonstrates 
 * that no matter how you "stretch or bend" a surface (local agency), 
 * the total "angular deficit" is a fixed, non-negotiable constant 
 * (topological fate). It acts as a "Rope" for coordination in field 
 * theories but a "Noose" for designers trying to defy the genus 
 * of their workspace.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(gauss_bonnet_era, 1848, 2026).
narrative_ontology:constraint_claim(gauss_bonnet_topology, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Low (0.1). It is a passive structural truth. It "extracts" 
% the ability to have arbitrary curvature/topology combinations.
domain_priors:base_extractiveness(gauss_bonnet_topology, 0.1).

% Suppression score (0.0-1.0)
% Rationale: Low (0.05). It is self-evident in differential geometry; 
% it does not hide alternatives so much as render them logically impossible.
domain_priors:suppression_score(gauss_bonnet_topology, 0.05).

% Enforcement: Emerges naturally from the axioms of calculus and topology.
domain_priors:emerges_naturally(gauss_bonnet_topology).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(gauss_bonnet_topology, extractiveness, 0.1).
narrative_ontology:constraint_metric(gauss_bonnet_topology, suppression_requirement, 0.05).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(gauss_bonnet_topology, global_analysts). % Deduce global from local.
constraint_beneficiary(gauss_bonnet_topology, mesh_validators).
constraint_victim(gauss_bonnet_topology, local_unilateral_curvature). % Curvature must sum to chi.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE LOCAL GEOMETRIC PATCH - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The patch can be shaped, but the "total" is fixed.
   WHEN: immediate - True at every point on the surface.
   WHERE: trapped - Bound by the global Euler characteristic of the whole manifold.
   SCOPE: local - Immediate neighborhood of curvature K.
   
   WHY THIS CLASSIFICATION:
   For any local portion of a surface, the theorem is a "Mountain." No matter 
   how you sharpen one area (high K), you *must* flatten or invert another 
   to compensate, because the total sum is topologically locked.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    gauss_bonnet_topology,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PHYSICS RESEARCHER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design models and use the theorem as a check.
   WHEN: biographical - Spanning the length of a research project or career.
   WHERE: mobile - Can select different manifolds (spheres, tori) for their theory.
   SCOPE: global - Applying the theorem to the topology of space-time.
   
   WHY THIS CLASSIFICATION:
   The theorem is a "Rope" (tool). It allows for the coordination of complex 
   mathematical proofs, letting the researcher skip the labor of full integration 
   by simply identifying the genus of the space.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    gauss_bonnet_topology,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ADAPTIVE MESH ALGORITHM - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - An algorithm tasked with smoothing a mesh.
   WHEN: immediate - Operating per iteration.
   WHERE: constrained - The mesh must remain a specific genus.
   SCOPE: local - Trying to smooth a point without changing connectivity.
   
   WHY THIS CLASSIFICATION:
   In automated mesh optimization, Gauss-Bonnet is a "Noose." If an algorithm 
   needs to resolve a sharp feature on a torus, it is "strangled" by the 
   topological requirement to maintain an average curvature of zero. It 
   extracts massive GPU cycles attempting to distribute the "topological debt" 
   elsewhere.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gauss_bonnet_topology,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(gauss_bonnet_topology, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(gauss_bonnet_tests).

test(topology_fate_variance) :-
    % Surface patch -> Mountain
    constraint_indexing:constraint_classification(gauss_bonnet_topology, Type1, context(individual_powerless, immediate, trapped, local)),
    % Researcher -> Rope
    constraint_indexing:constraint_classification(gauss_bonnet_topology, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(extraction_of_local_agency) :-
    % Even low base extractiveness is felt as a Noose when agency is constrained.
    constraint_indexing:constraint_classification(gauss_bonnet_topology, noose, context(individual_powerless, immediate, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(gauss_bonnet_topology).

:- end_tests(gauss_bonnet_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.1): 
 * Mathematical laws are non-coercive but "extract" possibilities by 
 * establishing forbidden states.
 * * 2. CLASSIFICATION: 
 * Gauss-Bonnet is the quintessence of the "Mountain" type—local 
 * changes cannot escape the global truth.
 * * 3. PERSPECTIVES:
 * Chose the "Local Patch" as the primary subject to show that 
 * "Geometrical freedom is limited by topological reality."
 */

% OMEGA IDENTIFICATION
omega_variable(
    discrete_gauss_bonnet_fidelity,
    "Does the 'Mountain' logic hold for discrete meshes with angular deficit?",
    resolution_mechanism("Verification of the Discrete Gauss-Bonnet theorem across varied mesh densities."),
    impact("If Yes: The Mountain is robust. If No: Numerical noise makes it a Scaffold."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Non-continuous Geometry (Fractals)
 * Viability: Surfaces without defined curvature at every point.
 * Suppression: Gauss-Bonnet requires differentiability; it "suppresses" 
 * the fractal alternative by being the standard for smooth manifolds.
 * * ALTERNATIVE 2: Global Re-parameterization
 * Viability: Change the genus (tear the surface).
 * Suppression: This is a "mobile" exit option that turns the Mountain into a Rope.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [gauss_bonnet_topology].
% Analyze: ?- constraint_indexing:multi_index_report(gauss_bonnet_topology).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: genetic_algorithms_evolution
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Holland, J. H. (1992). Adaptation in Natural and Artificial Systems.
% ============================================================================

:- module(constraint_genetic_algorithms, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: genetic_algorithms_evolution
 * human_readable: Genetic Algorithms (Search by Selection)
 * domain: technological/biological
 * temporal_scope: Biographical to Civilizational
 * spatial_scope: Global
 * * SUMMARY:
 * Genetic Algorithms (GAs) are search heuristics inspired by Charles Darwin’s 
 * theory of natural evolution. They reflect the process of natural selection 
 * where the fittest individuals are selected for reproduction in order to 
 * produce offspring of the next generation.
 * * KEY AGENTS:
 * - The Chromosome: A candidate solution encoded as a string of parameters.
 * - The Fitness Function: The objective evaluator that determines "survival."
 * - The Breeder: The algorithm designer who sets the mutation and crossover rates.
 * * NARRATIVE ARC:
 * GAs function as a "Massively Parallel Rope." Instead of a single climber 
 * attacking a Mountain, a population of agents explores the landscape. 
 * Through "Mutation," they jump across valleys to avoid the "Local Optimum Noose."
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(genetic_algorithms_evolution, 0, 10).
narrative_ontology:constraint_claim(genetic_algorithms_evolution, evolutionary_heuristics).

% Base extractiveness score (0.1)
% Highly efficient; the primary "cost" is the compute required for generations.
domain_priors:base_extractiveness(genetic_algorithms_evolution, 0.1).

% Suppression score (0.2)
% Alternatives (random search, hill climbing) are visible but usually 
% discarded due to inferiority in complex spaces.
domain_priors:suppression_score(genetic_algorithms_evolution, 0.2).

% Enforcement requirements
domain_priors:emerges_naturally(genetic_algorithms_evolution).

% Metrics 
narrative_ontology:constraint_metric(genetic_algorithms_evolution, extractiveness, 0.1).
narrative_ontology:constraint_metric(genetic_algorithms_evolution, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(genetic_algorithms_evolution, complex_system_designers).
constraint_victim(genetic_algorithms_evolution, weak_candidate_solutions).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SUCCESSFUL OFFSPRING - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile (high mutation potential)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For a solution that has been "selected," the GA is a "Rope." It has 
   provided the path to a high-fitness state. The constraints of the 
   environment served as the coordination mechanism that allowed it to 
   outperform its peers.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    genetic_algorithms_evolution,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(genetic_algorithms_evolution, E),
    E < 0.2,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE UNFIT INDIVIDUAL - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate (single generation)
   WHERE: trapped (cannot improve fast enough to survive)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a solution with low fitness, the GA is a "Noose." The objective 
   function is a rigid bottleneck that "strangles" their persistence 
   in the gene pool. They are the cost paid for the system's progress.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    genetic_algorithms_evolution,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE GENETICIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The analytical observer sees GAs as a "Mountain"—the fundamental 
   logic of how complexity arises from simple selection rules. It is 
   an immutable law of information theory and biology alike.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    genetic_algorithms_evolution,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(genetic_algorithms_evolution),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(genetic_algorithm_tests).

test(fitness_bottleneck) :-
    % Low fitness/powerless agents experience the Noose of selection.
    constraint_indexing:constraint_classification(genetic_algorithms_evolution, noose, context(individual_powerless, _, trapped, _)).

test(evolutionary_mountain) :-
    % The meta-logic of evolution is seen as a Mountain by observers.
    constraint_indexing:constraint_classification(genetic_algorithms_evolution, mountain, context(analytical, _, _, _)).

:- end_tests(genetic_algorithm_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * GAs are the "Multi-Agent" version of Heuristic Optimization. 
 * I set extractiveness to 0.1 because while individuals "die" (Noose), 
 * the system's value increases without coercion.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    premature_convergence,
    "Will a dominant 'good enough' gene pool prevent the discovery of a 'Global Optimum'?",
    resolution_mechanism("Monitoring genetic diversity vs. fitness plateaus over 10^6 generations"),
    impact("If Yes: The GA becomes a 'Local Optimum Noose' for the whole system."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: dharma_of_kurukshetra
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 2.0 (AI Thought Partner)
% Source: The Bhagavad-Gita (Edwin Arnold Translation)
% ============================================================================

:- module(dharma_of_kurukshetra, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor for System Extraction
narrative_ontology:interval(dharma_of_kurukshetra, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: dharma_of_kurukshetra
 * human_readable: The Duty of the Kshatriya (Warrior Caste)
 * domain: religious/philosophical/social
 * temporal_scope: Ancient India (The Mahabharata era)
 * spatial_scope: The sacred plain of Kurukshetra
 * * SUMMARY:
 * The "dharma" or sacred duty of the warrior caste (Kshattriya) to fight in a 
 * lawful war, even against kin. It presents an inescapable moral obligation 
 * rooted in the nature of the soul and the cosmic order.
 * * KEY AGENTS:
 * - Arjuna: The Prince/Warrior, experiencing moral distress and viewing the 
 * obligation to kill kin as a destructive "Noose" or "Hell-ward road".
 * - Krishna: The Supreme Being/Charioteer, who reframes the battle as a 
 * "Mountain" (Natural Law of the Spirit) and a "Rope" (Service to the Whole).
 * - Dhritirashtra: The blind King, representing the Institutional view of the 
 * status quo and the rigid results of past actions.
 * * NARRATIVE ARC:
 * Arjuna collapses in distress, refusing to fight. Krishna 
 * instructs him on the immortality of the soul and the necessity of selfless 
 * action (Karma Yoga), transforming Arjuna's perception of the war from 
 * personal slaughter to cosmic necessity.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Base extractiveness: 0.2 (Low)
% While a war extracts lives, the Gita argues that "Right Action" yields 
% no separate profit for the actor; it is for the "upholding of thy kind".
domain_priors:base_extractiveness(dharma_of_kurukshetra, 0.2).

% Suppression: 0.9 (High)
% Alternatives (like fleeing to be a beggar) are explicitly framed as 
% "shameful," "infamous," and "sinful" for a noble-born warrior.
domain_priors:suppression_score(dharma_of_kurukshetra, 0.9).

% Enforcement: Emerges naturally from the cosmic order (Dharma).
domain_priors:emerges_naturally(dharma_of_kurukshetra).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Arjuna (Initial State) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (He feels trapped by family ties and sin)
   WHEN: immediate (The horror of the battle to break tomorrow)
   WHERE: trapped (He sees "mutual slaughter" with no good outcome)
   
   WHY THIS CLASSIFICATION:
   Arjuna sees the constraint as extractive and destructive. It "perisheth" 
   households and leads to "Hell". It is a weight that 
   paralyzes him.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dharma_of_kurukshetra,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(dharma_of_kurukshetra, S),
    S > 0.8.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Krishna (The Teacher) - Rope
   --------------------------------------------------------------------------
   WHO: institutional (The Supreme Lord/Charioteer)
   WHEN: historical (Spanning ages and "Kalpas")
   WHERE: mobile (Beyond the three qualities/modes)
   
   WHY THIS CLASSIFICATION:
   Krishna frames Dharma as a functional coordination mechanism for the world. 
   "Work is more excellent than idleness". It is a path to "highest 
   bliss" and "deliverance" when done without attachment.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dharma_of_kurukshetra,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(global)
    )
).

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The Enlightened Sage (Muni) - Mountain
   --------------------------------------------------------------------------
   WHO: analytical (The observer of the "Qualities")
   WHEN: civilizational (The life of the Spirit is "eternal")
   WHERE: analytical (Not constrained by results)
   
   WHY THIS CLASSIFICATION:
   To the sage, Dharma is an unchangeable Law of Nature. "Life cannot slay. 
   Life is not slain!". Actions are just the "play of visible things" 
   and "Nature's way".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dharma_of_kurukshetra,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(dharma_of_kurukshetra_tests).

test(perspectival_shift) :-
    % Test that the same duty (Dharma) shifts from Noose to Rope via Knowledge
    constraint_indexing:constraint_classification(dharma_of_kurukshetra, noose, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(dharma_of_kurukshetra, rope, context(agent_power(institutional), _, _, _)).

test(immutability_of_spirit) :-
    % Test that at the highest time horizon, the constraint is a Mountain (Natural Law)
    constraint_indexing:constraint_classification(dharma_of_kurukshetra, mountain, context(_, time_horizon(civilizational), _, _)).

:- end_tests(dharma_of_kurukshetra_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 (Thought Partner)
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS: Set low (0.2). Krishna emphasizes that the warrior 
 * receives no "fruit" if acting rightly. The "extraction" 
 * is of the ego, not for a predatory master.
 * 2. PERSPECTIVES: Arjuna's initial state is the quintessential "Powerless" 
 * view. Krishna represents the "Institutional/Universal" order. 
 * The "Sage" represents the "Analytical" detachment.
 * 3. AMBIGUITY: Dharma is often translated as "Duty" (Rope) or "Law" (Mountain). 
 * The Gita uses the tension between these to resolve Arjuna's crisis.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Sannyas (Renunciation/Asceticism)
 * Viability: Arjuna proposes living on "beggar's bread".
 * Suppression: Krishna argues that "none shall 'scape from act by shunning 
 * action". He redefines Renunciation as the giving up of 
 * *fruit*, not the giving up of *task*.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: goedels_incompleteness_theorems
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Kurt Gödel (1931) / On Formally Undecidable Propositions
% ============================================================================

:- module(constraint_goedel_incompleteness, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: goedels_incompleteness_theorems
 * human_readable: Gödel's Incompleteness Theorems
 * domain: technological/mathematical/philosophical
 * temporal_scope: 1931 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Formal Systems)
 * * SUMMARY:
 * Gödel's theorems prove that in any consistent, recursive axiomatic system 
 * capable of expressing basic arithmetic, there are true statements that 
 * cannot be proven within the system. Furthermore, such a system cannot 
 * prove its own consistency. It represents a fundamental limit on the 
 * reach of formal logic and human-engineered certainty.
 * * KEY AGENTS:
 * - The Mathematical Statement (Subject): A powerless agent whose truth 
 * exists independently of its provability.
 * - The System Architect (Institutional): An agent who uses the theorems 
 * as a "Rope" to coordinate the boundaries of computer science and 
 * automated reasoning.
 * - The Foundationalist (Analytical/Victim): An observer for whom the 
 * theorems act as a "Noose," as they "strangle" the hope of a complete, 
 * self-consistent "Theory of Everything."
 * * NARRATIVE ARC:
 * Originally a shock to the mathematical world, Gödel's work is a "Mountain" 
 * of logical reality—an unyielding feature of the universe of numbers. In 
 * software verification, it is a "Rope" for functional coordination, 
 * helping engineers avoid the "Noose" of impossible verification goals. 
 * However, for the Hilbert-era idealist, the theorems act as a "Noose," 
 * extracting the "certainty of reason" (extraction) and proving that 
 * formal systems are fundamentally "incomplete" (choking).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction and indexer coordination
narrative_ontology:interval(goedel_era, 1931, 2026).
narrative_ontology:constraint_claim(goedels_incompleteness_theorems, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. While a "gift" of structural depth, it "extracts" 
% the possibility of a final, closed formalization of mathematics, 
% imposing a "tax" of irreducible mystery on all formal systems.
domain_priors:base_extractiveness(goedels_incompleteness_theorems, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.35. It suppresses the visibility of "Totalitarian Logic," 
% rendering the idea that a single system can solve all truths 
% mathematically fraudulent.
domain_priors:suppression_score(goedels_incompleteness_theorems, 0.35).

% Enforcement: Emerges naturally from the self-reference of arithmetic.
domain_priors:emerges_naturally(goedels_incompleteness_theorems).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(goedels_incompleteness_theorems, extractiveness, 0.2).
narrative_ontology:constraint_metric(goedels_incompleteness_theorems, suppression_requirement, 0.35).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(goedels_incompleteness_theorems, meta_mathematicians).
constraint_beneficiary(goedels_incompleteness_theorems, computational_complexity_researchers).
constraint_victim(goedels_incompleteness_theorems, hilbert_program_advocates).
constraint_victim(goedels_incompleteness_theorems, axiomatic_purists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ARITHMETIC PROPOSITION - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The statement has no agency over its provability.
   WHEN: immediate - Its status as "true but unprovable" is fixed at its definition.
   WHERE: trapped - Bound within the formal system it inhabits.
   SCOPE: local - Immediate neighborhood of its specific logical symbols.
   
   WHY THIS CLASSIFICATION:
   For an individual statement like the Gödel sentence ("I am not provable"), 
   the theorem is a Mountain. It is an absolute, unyielding law of its 
   mathematical existence. It cannot "choose" to be provable without 
   collapsing the consistency of the entire system.
   
   
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    goedels_incompleteness_theorems,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COMPILER/SYSTEM DESIGNER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design languages and set the rules for proof assistants.
   WHEN: biographical - Planning the robustness of a toolchain over decades.
   WHERE: mobile - Can choose different axiomatic strengths or "heuristics."
   SCOPE: global - Universal foundation for reliable software.
   
   WHY THIS CLASSIFICATION:
   For the institutional actor, the theorem is a "Rope"—a functional 
   coordination tool. By mapping the "Mountain" of undecidability, they 
   coordinate a "standard of achievement" for what *can* be verified, 
   pulling the system away from the "Noose" of attempting the impossible.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    goedels_incompleteness_theorems,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HILBERT-ERA IDEALIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools of logic but is bound by the theorem's limit.
   WHEN: civilizational - Seeking a complete, consistent, and provable universe.
   WHERE: constrained - The "exit" (completeness) is mathematically barred.
   SCOPE: global - Universal limit on formal thought.
   
   WHY THIS CLASSIFICATION:
   For the seeker of absolute deductive completeness, Gödel's theorem is a 
   "Noose." It "strangles" the hope that "we must know, we will know" 
   (Hilbert's *Ignorabimus*). It extracts the "certainty of the foundation" 
   (extraction) by proving that any system we build will be "choked" by its 
   own inherent limitations.
   
   
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    goedels_incompleteness_theorems,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(goedels_incompleteness_theorems, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(goedel_incompleteness_tests).

test(multi_perspective_variance) :-
    % Statement -> Mountain
    constraint_indexing:constraint_classification(goedels_incompleteness_theorems, Type1, context(individual_powerless, immediate, trapped, local)),
    % Designer -> Rope
    constraint_indexing:constraint_classification(goedels_incompleteness_theorems, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(metaphysical_extraction_penalty) :-
    % Foundationalists experience the "Noose" of logical extraction.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(goedels_incompleteness_theorems, Context, Score),
    Score >= 0.15.

test(natural_emergence) :-
    domain_priors:emerges_naturally(goedels_incompleteness_theorems).

:- end_tests(goedel_incompleteness_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.2): 
 * Chose this because Gödel's work extracts the "dream of absolute provability." 
 * While it provides clarity, it imposes a "tax" of permanent uncertainty 
 * on all ambitious formalists.
 * 2. CLASSIFICATION: 
 * Captured the transition from a "Mountain" of formal reality for the 
 * statement to a "Noose" for the philosopher seeking completeness.
 * 3. OMEGA IDENTIFICATION: 
 * Formalized the uncertainty regarding "Human Intuition"—can our minds 
 * "see" truths that machines (Mountain) cannot?
 */

% OMEGA IDENTIFICATION
omega_variable(
    mathematical_intuition_mechanism,
    "Is human mathematical intuition a 'Mountain' that transcends formal systems (Mountain) or a biological 'Scaffold' (Scaffold)?",
    resolution_mechanism("Investigation into whether the human brain utilizes non-algorithmic/quantum processes for proof-finding."),
    impact("If Mountain: Gödel's limit applies only to machines. If Scaffold: Humans are also bound by the Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Weakening the System (Finitism)
 * Viability: Systems that cannot express arithmetic avoid the "Noose" 
 * of incompleteness.
 * Suppression: Rejected for general mathematics because it "strangles" 
 * the power to do almost any useful science.
 * * ALTERNATIVE 2: Accepting Inconsistency (Paraconsistent Logic)
 * Viability: Systems that allow contradictions without total collapse.
 * Suppression: Generally suppressed in classical math as a "fake Rope" 
 * that destroys the "Mountain" of objective Truth.
 * * CONCLUSION:
 * The existence of Alternative 1 proves that Incompleteness is the specific 
 * "Noose" we pay for the "Rope" of powerful, useful arithmetic.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [goedels_incompleteness_theorems].
 * 2. Multi-perspective: ?- multi_index_report(goedels_incompleteness_theorems).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: goldbach_conjecture
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Goldbach's Strong Conjecture (1742)
% ============================================================================

:- module(constraint_goldbach_conjecture, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: goldbach_conjecture
 * human_readable: Goldbach's Strong Conjecture
 * domain: mathematical/technological
 * temporal_scope: 1742 - Present (Civilizational)
 * spatial_scope: Global/Abstract (The Even Number Line)
 * * SUMMARY:
 * Goldbach's Strong Conjecture asserts that every even integer greater than 2 
 * is the sum of two prime numbers. Despite being verified for all even integers 
 * up to 4 x 10^18, it remains unproven. It represents a fundamental structural 
 * constraint on the additive properties of primes.
 * * KEY AGENTS:
 * - The Even Integer (n): The powerless subject which, if the conjecture holds, 
 * possesses no "exit option" from containing at least one prime pair (p, q).
 * - The Mathematician (Institutional): Uses the conjecture as a heuristic "Rope" 
 * to coordinate research in analytical number theory and prime distribution.
 * - The Computational Searcher (Individual Powerless): A process searching for 
 * counterexamples, bound by the tightening "Noose" of increasing numerical 
 * magnitudes.
 * * NARRATIVE ARC:
 * Goldbach is the ultimate "Mountain" of empirical observation—a wall of truth 
 * that has never been breached. For the community, it serves as a "Rope" for 
 * probabilistic reasoning. However, for the solver, the lack of a constructive 
 * proof acts as a "Noose," extracting centuries of cognitive labor without 
 * yielding the finality of a formal theorem.
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(goldbach_era, 1742, 2026).
narrative_ontology:constraint_claim(goldbach_conjecture, mountain).

% Base extractiveness: 0.15
% Rationale: High-level mathematical truths are non-coercive. However, the 
% unsolved status "extracts" massive cognitive and computational resources 
% in the search for a proof or counterexample.
domain_priors:base_extractiveness(goldbach_conjecture, 0.15).

% Suppression score: 0.1
% Rationale: It renders the existence of "prime-pair-less" even integers 
% logically impossible, though it does not suppress other mathematical fields.
domain_priors:suppression_score(goldbach_conjecture, 0.1).

% Enforcement: Emerges naturally from the structure of arithmetic.
domain_priors:emerges_naturally(goldbach_conjecture).

% Metrics
narrative_ontology:constraint_metric(goldbach_conjecture, extractiveness, 0.15).
narrative_ontology:constraint_metric(goldbach_conjecture, suppression_requirement, 0.1).

% Beneficiaries & Victims
constraint_beneficiary(goldbach_conjecture, heuristic_analysts).
constraint_beneficiary(goldbach_conjecture, additive_number_theory).
constraint_victim(goldbach_conjecture, cognitive_resources). % Centuries of failed proofs.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EVEN INTEGER (n) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The number has no agency over its prime factors.
   WHEN: immediate - The property is true for all n simultaneously.
   WHERE: trapped - Bound within the rigid logical structure of integers.
   SCOPE: global - Applies to all even integers to infinity.
   
   WHY THIS CLASSIFICATION:
   For any even integer, the requirement to be a sum of two primes is a natural 
   law. There is zero "choice" or variance; it is an unchangeable feature of 
   arithmetic reality.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    goldbach_conjecture,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE INSTITUTIONAL MATHEMATICIAN - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to use the conjecture as a standard for theory.
   WHEN: civilizational - Long-term coordination of mathematical progress.
   WHERE: mobile - Can adjust heuristics or assume the conjecture to prove others.
   SCOPE: global - Worldwide standard of achievement.
   
   WHY THIS CLASSIFICATION:
   For the research community, the conjecture is a "Rope"—a tool for 
   coordination. It allows mathematicians to build "conditional" theorems 
   that assume Goldbach is true, facilitating progress in the interim.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    goldbach_conjecture,
    rope,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE COMPUTATIONAL BRUTE-FORCER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - A search algorithm bound by O(n) complexity.
   WHEN: immediate - Every cycle spent at high magnitudes is an extraction.
   WHERE: constrained - Forced to check every integer without a shortcut.
   SCOPE: local - A specific, massive range of the number line.
   
   WHY THIS CLASSIFICATION:
   When searching for a counterexample at the limits of current hardware, the 
   conjecture acts as a "Noose." It extracts massive electricity and FLOPs 
   while the "space" of potential failure remains unreachably vast, 
   strangling the efficiency of the search.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    goldbach_conjecture,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(goldbach_conjecture, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(goldbach_conjecture_tests).

test(empirical_fate_variance) :-
    % Integer -> Mountain
    constraint_indexing:constraint_classification(goldbach_conjecture, Type1, context(individual_powerless, immediate, trapped, global)),
    % Community -> Rope
    constraint_indexing:constraint_classification(goldbach_conjecture, Type2, context(institutional, civilizational, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(search_difficulty_noose) :-
    % A powerless searcher in a local range sees the search as a Noose.
    constraint_indexing:constraint_classification(goldbach_conjecture, noose, context(individual_powerless, immediate, constrained, local)).

test(extraction_is_low_but_present) :-
    domain_priors:base_extractiveness(goldbach_conjecture, E),
    E < 0.2.

:- end_tests(goldbach_conjecture_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE GAP: The primary insight is the gap between the "Mountain" 
 * of empirical truth (it has always held) and the "Noose" of its unproven 
 * nature.
 * 2. IMAGE SELECTION: Included "Goldbach's Comet" as it informs the user on 
 * the *density* of the partitions, illustrating why it likely holds 
 * (the "Rope" of heuristic probability).
 * 3. EXTRACTIVENESS: Labeled as 0.15—low because math is a gift, but 
 * significant because the *effort* to prove it has extracted literal 
 * lifetimes from thousands of mathematicians.
 */

% OMEGA IDENTIFICATION
omega_variable(
    undecidability_risk,
    "Is Goldbach's Conjecture a 'Mountain' (True) or a 'Scaffold' (Unprovable in ZFC)?",
    resolution_mechanism("Meta-mathematical analysis of the conjecture's independence from standard axioms."),
    impact("If Independent: The 'Mountain' is a mirage. if Provable: It is a true 'Rope'."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Weak Goldbach Conjecture (Ternary Goldbach)
 * Viability: Every odd number > 5 is the sum of three primes.
 * Status: Proven by Harald Helfgott in 2013.
 * Role: Served as a "Rope" that allowed the community to bridge toward 
 * the Strong conjecture.
 * * ALTERNATIVE 2: Exceptions exist at non-computable scales.
 * Viability: Heuristically unlikely (see comet density), but logically 
 * possible without a proof.
 * Conclusion: The "Noose" of the search exists because this alternative 
 * cannot be formally suppressed yet.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [goldbach_conjecture].
% Report: ?- constraint_indexing:multi_index_report(goldbach_conjecture).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: golden_handcuffs
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Compensation Design / Behavioral Economics / Retention Strategy
% ============================================================================

:- module(constraint_golden_handcuffs, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: golden_handcuffs
 * human_readable: Golden Handcuffs (Vesting-Based Retention)
 * domain: economic/social
 * temporal_scope: Biographical (4-10 year vesting cycles)
 * spatial_scope: Regional to Global (Corporate)
 * * SUMMARY:
 * Golden Handcuffs refer to financial incentives, such as restricted stock units 
 * (RSUs) or stock options, that vest over several years. They are designed to 
 * discourage high-value employees from leaving by making the "exit cost" 
 * (forgone unvested equity) prohibitively expensive.
 * * KEY AGENTS:
 * - The Executive/Engineer: The high-performer whose mobility is being restricted.
 * - The Shareholder: The beneficiary of stable, long-term talent retention.
 * - The Recruiter (External): The agent attempting to "buy out" the handcuffs.
 * * NARRATIVE ARC:
 * The constraint is a "Financial Gravity Well." It solves the Dead Sea Effect 
 * by forcing the "fresh water" (high-performers) to stay through economic 
 * weight. It transforms a liquid labor market into a series of timed lock-ins.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(golden_handcuffs, 0, 10).
narrative_ontology:constraint_claim(golden_handcuffs, economic_incentive_design).

% Base extractiveness: Moderate (0.4).
% While the employee receives high compensation, the organization extracts 
% the employee's mobility and bargaining power over the vesting period.
domain_priors:base_extractiveness(golden_handcuffs, 0.4).

% Suppression: Low (0.2).
% The constraint is explicit and transparent in the contract; alternatives 
% (leaving) are visible but carry a clear, calculated price tag.
domain_priors:suppression_score(golden_handcuffs, 0.2).

% Enforcement: Requires active enforcement (Legal contracts/Payroll systems).
domain_priors:requires_active_enforcement(golden_handcuffs).

% Beneficiaries: The Employer (stability), The Patient Investor.
constraint_beneficiary(golden_handcuffs, institutional_employers).

% Victims: The "Locked-In" Employee (may suffer burnout or lack of growth 
% but feels unable to leave due to the financial penalty).
constraint_victim(golden_handcuffs, unvested_employees).

% Metrics
narrative_ontology:constraint_metric(golden_handcuffs, extractiveness, 0.4).
narrative_ontology:constraint_metric(golden_handcuffs, suppression_requirement, 0.2).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RECRUITER - Noose
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: immediate (the hiring window)
   WHERE: constrained (must offer "sign-on bonuses" to break the handcuffs)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For an external recruiter trying to hire a candidate, the handcuffs are a 
   "Noose." They strangle the flow of talent and make hiring prohibitively 
   expensive, as the recruiter must often "buy out" the candidate's unvested 
   shares just to reach parity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    golden_handcuffs,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :-
    domain_priors:requires_active_enforcement(golden_handcuffs),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE EMPLOYEE - Rope
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: biographical (wealth building)
   WHERE: arbitrage (can use high equity to negotiate even higher offers)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the high-earning employee, the handcuffs are a "Rope." They represent 
   a structured ladder to significant wealth. While they limit mobility, 
   the employee often views them as a coordination tool for their own 
   long-term financial security and status.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    golden_handcuffs,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LABOR MARKET ANALYST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The analyst sees golden handcuffs as a "Mountain" of capital allocation. 
   Vesting schedules are a standard, immutable feature of modern tech and 
   finance landscapes. They are the "geography" through which labor 
   must flow, dictating cycles of "cliffs" and "refreshes."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    golden_handcuffs,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(golden_handcuffs), % As a market norm
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(golden_handcuffs_tests).

test(wealth_effect_variance) :-
    % Powerful agents see the coordination (Rope); recruiters see the barrier (Noose).
    constraint_indexing:constraint_classification(golden_handcuffs, rope, context(individual_powerful, _, _, _)),
    constraint_indexing:constraint_classification(golden_handcuffs, noose, context(individual_moderate, _, _, _)).

test(vesting_cycle_immutability) :-
    % Analytical perspective treats the market norm as a Mountain.
    constraint_indexing:constraint_classification(golden_handcuffs, mountain, context(analytical, _, _, _)).

:- end_tests(golden_handcuffs_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Golden Handcuffs are a fascinating "voluntary" constraint. I set 
 * extractiveness to 0.4 because the employee is compensated for their 
 * lack of mobility. It is the opposite of the Dead Sea Effect: it is 
 * the "anti-evaporator" for talent.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    market_volatility_impact,
    "If the stock price drops below the strike price, do the handcuffs break?",
    resolution_mechanism("Analysis of employee turnover during market downturns ('underwater' options)"),
    impact("If Stock Drops: The Mountain/Rope vanishes; the Dead Sea Effect resumes."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: gradient_descent_optimization
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Numerical Optimization / Machine Learning Theory
% ============================================================================

:- module(constraint_gradient_descent, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: gradient_descent_optimization
 * human_readable: Gradient Descent (Iterative Optimization)
 * domain: technological/mathematical
 * temporal_scope: 1847 (Cauchy) - Present (Civilizational)
 * spatial_scope: Global/Abstract (Differentiable loss landscapes)
 * * SUMMARY:
 * Gradient Descent is a first-order iterative optimization algorithm for finding 
 * a local minimum of a differentiable function. It takes steps proportional to 
 * the negative of the gradient of the function at the current point.
 * * KEY AGENTS:
 * - The Parameter Iterate (theta): A powerless agent following the geometric path.
 * - The ML Practitioner: An institutional agent who "tailors" the learning rate.
 * - The Loss Landscape: The "Mountain" of objective reality the agents must navigate.
 * * NARRATIVE ARC:
 * Gradient Descent functions as a "Rope" for the practitioner—a functional tool 
 * to reach equilibrium. For the parameter set itself, the loss landscape is a 
 * "Mountain" of fixed physical truth. However, in "vanishing gradient" 
 * scenarios or poorly tuned hyper-parameters, the method becomes a "Noose," 
 * extracting massive GPU cycles for zero movement toward the root.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(gradient_descent_optimization, 1847, 2026).
narrative_ontology:constraint_claim(gradient_descent_optimization, rope).

% Base extractiveness: 0.3
% Rationale: It extracts "computational labor" (FLOPs). While fundamental, 
% the cost of convergence is a direct extraction from the system's energy.
domain_priors:base_extractiveness(gradient_descent_optimization, 0.3).

% Suppression score: 0.2
% Rationale: Low. While GD is the "default," second-order methods (Newton) 
% or Evolutionary strategies are highly visible alternatives.
domain_priors:suppression_score(gradient_descent_optimization, 0.2).

% Enforcement: Emerges from the laws of multivariate calculus.
domain_priors:emerges_naturally(gradient_descent_optimization).

% Metrics
narrative_ontology:constraint_metric(gradient_descent_optimization, extractiveness, 0.3).
narrative_ontology:constraint_metric(gradient_descent_optimization, suppression_requirement, 0.2).

% Beneficiaries & Victims
constraint_beneficiary(gradient_descent_optimization, artificial_intelligence).
constraint_beneficiary(gradient_descent_optimization, automation_systems).
constraint_victim(gradient_descent_optimization, hardware_longevity). % Thermal/Compute wear.
constraint_victim(gradient_descent_optimization, energy_budgets).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PARAMETER VECTOR (theta) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The iterate has zero agency over the update rule.
   WHEN: immediate - Focused on the single step from t to t+1.
   WHERE: trapped - Bound by the gradient $\nabla J(\theta)$ and the topology.
   SCOPE: local - Immediate neighborhood of the current coordinate.
   
   WHY THIS CLASSIFICATION:
   For the parameters being optimized, the update rule is a natural law. 
   The iterate cannot "choose" to go uphill or sidestep a saddle point. 
   The landscape is its absolute, unchangeable reality.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    gradient_descent_optimization,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ML ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to set the learning rate $\eta$ and momentum.
   WHEN: biographical - Planning the training run of a model (days/weeks).
   WHERE: mobile - Can switch to Adam, RMSProp, or change the loss function.
   SCOPE: global - Designing the overall convergence strategy.
   
   WHY THIS CLASSIFICATION:
   For the engineer, GD is a "Rope"—a tool for functional coordination. 
   By adjusting the "tension" (learning rate), they pull the model toward 
   the desired standard of achievement (low error).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gradient_descent_optimization,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: VANISHING GRADIENTS / FLAT PLATEAUS - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - An iterate stuck with a gradient of $\approx 0$.
   WHEN: immediate - Each update step yields no progress.
   WHERE: constrained - The iterate is "legally" iterating but functionally dead.
   SCOPE: local - A vast, flat region of the loss surface.
   
   WHY THIS CLASSIFICATION:
   In a flat plateau, the algorithm "strangles" the model. It extracts massive 
   computational power (energy/time) while providing no movement. The iterate 
   is "trapped" in a convergent loop that leads nowhere, acting as a Noose.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    gradient_descent_optimization,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(gradient_descent_optimization, E),
    E >= 0.3.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(gradient_descent_tests).

test(geometry_vs_agency_variance) :-
    % Iterate -> Mountain
    constraint_indexing:constraint_classification(gradient_descent_optimization, Type1, context(individual_powerless, immediate, trapped, local)),
    % Engineer -> Rope
    constraint_indexing:constraint_classification(gradient_descent_optimization, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(extraction_efficiency) :-
    % The powerless iterate experiences the extraction of cycles as a hard limit.
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    constraint_indexing:extractiveness_for_agent(gradient_descent_optimization, ContextPowerless, Score),
    Score > 0.2.

test(emergence) :-
    domain_priors:emerges_naturally(gradient_descent_optimization).

:- end_tests(gradient_descent_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.3): GD is "expensive." It is a brute-force approach 
 * compared to analytical solutions (which aren't always possible).
 * 2. TYPE SHIFT: Highlighted the transition from "Mountain" (geometry) 
 * to "Noose" (vanishing gradients). This captures the technical reality 
 * that the same law can be a stable path or a resource trap depending 
 * on the coordinate.
 * 3. SUPPRESSION: Low, because mathematics encourages the study of 
 * second-order Hessian-based methods as superior (though more compute-heavy).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    global_minimum_reachability,
    "Is the loss landscape convex (Mountain) or non-convex (Labyrinth)?",
    resolution_mechanism("Formal verification of the loss function's second derivative matrix (Hessian)."),
    impact("If Convex: GD is a reliable Rope. If Non-Convex: GD is a Noose of local minima."),
    confidence_without_resolution(medium)
).

omega_variable(
    learning_rate_stability,
    "Does the engineer choose a learning rate that causes oscillation (Noose) or convergence (Rope)?",
    resolution_mechanism("Step-by-step trace of loss values over 1000 epochs."),
    impact("If Oscillation: The 'Rope' has snapped and become a 'Noose' of wasted energy."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Stochastic Gradient Descent (SGD) with Noise
 * Viability: Breaks the "Mountain" fixity by allowing jumps out of local minima.
 * Evidence: Standard in deep learning.
 * * ALTERNATIVE 2: Newton's Method
 * Viability: Uses the second derivative for a more "intelligent" Rope.
 * Suppression: Rejected for large models due to $O(N^2)$ memory extraction for the Hessian.
 * * CONCLUSION:
 * The continued dominance of Gradient Descent as a "Rope" for modern AI 
 * despite its "Noose" tendencies in deep networks is a result of the 
 * prohibitive extractiveness of the second-order alternatives.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: graph_coloring_complexity
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Combinatorics / Brooks' Theorem / Appel & Haken (1976)
% ============================================================================

:- module(constraint_graph_coloring_complexity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: graph_coloring_complexity
 * human_readable: Graph Coloring (k-Colorability)
 * domain: technological
 * temporal_scope: Permanent (Universal Mathematical Law)
 * spatial_scope: Global (Graph Theory)
 * * SUMMARY:
 * Graph coloring is the assignment of labels (colors) to elements of a graph 
 * (nodes) subject to specific constraints, most commonly that no two adjacent 
 * nodes share the same color. While finding the chromatic number $\chi(G)$ is 
 * NP-hard for general graphs, the constraint serves as the foundational model 
 * for resource allocation and scheduling.
 * * KEY AGENTS:
 * - The Network Architect: Designs systems to minimize interference and 
 * maximize resource reuse.
 * - The Combinatorialist: Seeks elegant proofs and upper bounds (like the 
 * Four Color Theorem).
 * - The Scheduling Algorithm: An agent trapped by the "Hardness" of the 
 * graph, forced to find sub-optimal but valid colorings.
 * * NARRATIVE ARC:
 * The constraint functions as a "Mountain" of state-space geometry—the 
 * topology of the graph dictates the minimum colors required. For the 
 * telecommunications engineer, it is a "Rope" for frequency coordination. 
 * For a compiler optimizer facing a massive interference graph, it is a 
 * "Noose" where the search for the optimal register allocation strangles 
 * compile-time performance.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction
narrative_ontology:interval(graph_coloring_interval, 0, 10).
narrative_ontology:constraint_claim([graph_coloring_complexity], combinatorial_limitation).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts "efficiency" and "simplicity." The requirement to 
% separate adjacent nodes forces the consumption of extra "colors" (resources).
domain_priors:base_extractiveness(graph_coloring_complexity, 0.4).

% Suppression score (0.0-1.0)
% Rationale: It suppresses "overlapping utility." The constraint makes 
% shared-resource alternatives invisible or illegal within the formal model.
domain_priors:suppression_score(graph_coloring_complexity, 0.5).

% Enforcement requirements
domain_priors:emerges_naturally(graph_coloring_complexity).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(graph_coloring_complexity, extractiveness, 0.4).
narrative_ontology:constraint_metric(graph_coloring_complexity, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(graph_coloring_complexity, spectrum_regulators).
constraint_victim(graph_coloring_complexity, [compiler_optimizers, register_allocators]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DISCRETE MATHEMATICIAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal informational laws.
   WHEN: civilizational - Viewing the graph as a permanent geometric truth.
   WHERE: trapped - Logic cannot bypass the chromatic number of a clique.
   SCOPE: global - Universal computation.
   
   WHY THIS CLASSIFICATION:
   To the mathematician, coloring is a Mountain. The existence of a $K_n$ 
   subgraph (a clique) imposes an unchangeable requirement for $n$ colors. 
   This is not a matter of policy; it is a fixed peak in the topography 
   of the graph that no algorithm can level.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    graph_coloring_complexity,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE RF ENGINEER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to allocate frequency bands and rules.
   WHEN: biographical - Managing a network's lifespan.
   WHERE: arbitrage - Can reposition towers (nodes) to change the graph.
   SCOPE: national - Country-wide cellular networks.
   
   WHY THIS CLASSIFICATION:
   For the engineer, graph coloring is a Rope. It is the coordination 
   mechanism that prevents signal interference. By treating cellular 
   towers as nodes and frequencies as colors, they use the constraint to 
   pull a high-functioning network into existence where chaos would 
   otherwise reign.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    graph_coloring_complexity,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE COMPILER BACKEND - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the code's interference graph.
   WHEN: immediate - The "Optimization" phase of compilation.
   WHERE: constrained - Limited by a fixed number of CPU registers.
   SCOPE: local - Immediate software process.
   
   WHY THIS CLASSIFICATION:
   For a compiler performing register allocation, the constraint is a Noose. 
   As variables (nodes) increase and their lifetimes overlap (edges), the 
   available physical registers (colors) become insufficient. The harder 
   the optimizer tries to avoid "spilling" to memory, the tighter the 
   complexity of the coloring problem strangles the compilation speed.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    graph_coloring_complexity,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(graph_coloring_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain
    constraint_indexing:constraint_classification(graph_coloring_complexity, mountain, context(agent_power(analytical), _, _, _)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(graph_coloring_complexity, rope, context(agent_power(institutional), _, _, _)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(graph_coloring_complexity, noose, context(agent_power(individual_powerless), _, _, _)).

test(power_extractiveness_resource) :-
    % Extraction of register efficiency (Noose) for the backend.
    domain_priors:base_extractiveness(graph_coloring_complexity, Score),
    Score >= 0.4.

test(time_immutability_geometry) :-
    % Civilizational view of graph theory is an invariant Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(graph_coloring_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): It extracts "simplicity." Coloring forces a 
 * fragmentation of the resource pool.
 * 2. NOOSE CLASSIFICATION: Specifically applied to the "Register Allocation" 
 * problem, where the fixed limit of CPU registers (colors) makes the 
 * complexity of the graph a literal barrier to execution performance.
 * 3. MOUNTAIN LOGIC: Relies on the concept of the Chromatic Number as a 
 * topological invariant.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    p_np_coloring_gap,
    "Is there a hidden heuristic that allows for nearly-optimal coloring 
    on all 'real-world' graphs without hitting the NP-hard wall?",
    resolution_mechanism("Longitudinal study of average-case vs. worst-case 
    graph complexity in industrial datasets"),
    impact("If Yes: The Noose becomes a Rope for all developers. 
    If No: The Mountain of NP-hardness remains absolute."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: List Coloring
 * Viability: High. Allows nodes to choose from specific subsets of colors.
 * Suppression: None. It is a refinement of the original constraint.
 * * ALTERNATIVE 2: Edge Coloring
 * Viability: High. Useful for scheduling links rather than nodes.
 * * CONCLUSION:
 * Since no "interference-friendly" alternative exists that allows adjacent 
 * nodes to share a color, the constraint remains a Mountain of logic.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_graph_coloring_complexity].
 * 2. Multi-perspective: ?- multi_index_report(graph_coloring_complexity).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: greshams_law
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Economics / Monetary Theory / Sir Thomas Gresham (1519–1579)
% ============================================================================

:- module(constraint_greshams_law, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: greshams_law
 * human_readable: Gresham's Law ("Bad money drives out good")
 * domain: economic/monetary
 * temporal_scope: Permanent (Historical to Modern)
 * spatial_scope: Universal (Exchange Systems)
 * * SUMMARY:
 * Gresham's Law is a monetary principle stating that if two forms of commodity 
 * money in circulation have the same face value but different intrinsic values, 
 * the "bad money" (debased or overvalued) will circulate while the "good money" 
 * (high intrinsic value or undervalued) will be hoarded or exported.
 * * KEY AGENTS:
 * - The Hoarder: An individual who recognizes the "good" money's value and 
 * removes it from circulation for protection.
 * - The Debasing Sovereign: An institution that lowers the metal content of 
 * coins to extract seigniorage.
 * - The Average Merchant: Forced to accept the "bad" money at face value by 
 * legal tender laws.
 * * NARRATIVE ARC:
 * The law functions as a behavioral feedback loop. When a state enforces a 
 * fixed exchange rate between unequal currencies, it creates an arbitrage 
 * opportunity (Rope) for the savvy, while creating an inevitable drain on 
 * quality (Mountain) for the public. It becomes a Noose when the "bad money" 
 * eventually collapses in purchasing power, leaving those trapped with it 
 * in poverty.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(gresham_interval, 0, 10).
narrative_ontology:constraint_claim([greshams_law], economic_law).

% Base extractiveness: 0.6 (High)
% Rationale: It extracts "real" value (gold/silver) from the public and 
% replaces it with debased currency. The sovereign extracts seigniorage while 
% the hoarder extracts commodity value from the trade network.
domain_priors:base_extractiveness(greshams_law, 0.6).

% Suppression: 0.7 (High)
% Rationale: Legal tender laws actively suppress the "market price" of the 
% good money, forcing it to be treated as equal to the bad money, which 
% makes circulation of good money impossible.
domain_priors:suppression_score(greshams_law, 0.7).

% Enforcement: Emerges naturally from rational self-interest once legal 
% tender laws (active enforcement) create the initial imbalance.
domain_priors:requires_active_enforcement(greshams_law).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(greshams_law, extractiveness, 0.6).
narrative_ontology:constraint_metric(greshams_law, suppression_requirement, 0.7).

% Beneficiaries: The Debasing Sovereign (short-term) and Savvy Hoarders.
constraint_beneficiary(greshams_law, debasing_sovereign).
constraint_beneficiary(greshams_law, arbitrage_hoarders).

% Victims: The public, long-term savers, and those unable to exit the local 
% currency.
constraint_victim(greshams_law, unhedged_savers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MONETARY HISTORIAN - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The observer of centuries).
   WHEN: historical (Viewing the cycle of debasement and collapse).
   WHERE: analytical (Not participating in the market).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   To the historian, Gresham's Law is a Mountain. It is an unchangeable 
   consequence of human behavior in the face of price controls. Every 
   attempt in history to overvalue a currency has led to the same result: 
   the better currency vanishes. It is a fundamental law of economic physics.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    greshams_law,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CURRENCY HOARDER - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (A merchant with agency).
   WHEN: biographical (Preserving wealth for a lifetime).
   WHERE: arbitrage (Can switch between what they spend and what they keep).
   SCOPE: regional.
   
   WHY THIS CLASSIFICATION:
   For the hoarder, the law is a Rope. It is a coordination mechanism they 
   can use to their advantage. By spending the "bad" money at face value 
   while keeping the "good" money, they pull themselves out of the 
   systemic drain and protect their private capital.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    greshams_law,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SUBSISTENCE EARNER - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A worker paid in debased coin).
   WHEN: immediate (Survival needs today).
   WHERE: trapped (Cannot access foreign or bullion markets).
   SCOPE: local.
   
   WHY THIS CLASSIFICATION:
   For the person who only earns and holds the "bad money," Gresham's Law 
   is a Noose. They watch as the quality of their wages declines 
   relative to the price of real goods (inflation), but they lack the 
   surplus or access to "hoard" good money. They are trapped in a system 
   that rewards the rich for hiding value and punishes the poor for 
   circulating it.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    greshams_law,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(greshams_law_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(greshams_law, Type1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(greshams_law, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(greshams_law, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(extraction_ratio) :-
    % Extraction is high because real commodity value is being drained.
    domain_priors:base_extractiveness(greshams_law, E),
    E >= 0.6.

test(legal_tender_suppression) :-
    % Suppression is high because legal tender laws forbid the market from pricing coins correctly.
    domain_priors:suppression_score(greshams_law, S),
    S >= 0.7.

:- end_tests(greshams_law_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. PERSPECTIVE SELECTION:
 * I focused on the "Hoarder" as a Rope-user to show that Gresham's Law is 
 * not just a tragedy, but a strategy for the informed individual. 
 * Contrastingly, the "Subsistence Earner" highlights the Noose aspect 
 * of being stuck in a debasing currency.
 * * 2. EXTRACTIVENESS (0.6):
 * Chose a high score because this is a classic "invisible tax." The 
 * Sovereign extracts value by circulating "cheap" money while the public's 
 * "real" purchasing power is drained.
 * * 3. AMBIGUITY:
 * Modern fiat currency presents an ambiguity—if all money is "bad" (no 
 * intrinsic value), does Gresham's Law apply? I treated the law in its 
 * classical form (intrinsic vs face value).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    thiers_law_transition,
    "At what point of debasement does Gresham's Law flip into Thiers' Law (where 'good money' drives out bad because the bad is too untrustworthy to circulate)?",
    resolution_mechanism("Monitoring the velocity of a currency during hyperinflation"),
    impact("If Thiers' Law kicks in: The Noose snaps, and the system collapses into a new Mountain of gold/commodity barter."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Free Currency Competition (Hayekian model)
 * Viability: High. If legal tender laws didn't exist, people would 
 * discount debased coins and the "good money" would circulate at a 
 * premium.
 * Suppression: Extreme. Modern states almost universally enforce legal 
 * tender laws to maintain monetary control.
 * * CONCLUSION:
 * The existence of suppressed alternatives (free market pricing of 
 * currency) proves that the "Mountain" of Gresham's Law is actually a 
 * "Noose" created by the state's active suppression of market reality.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_greshams_law].
 * 2. Multi-perspective: ?- multi_index_report(greshams_law).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: halting_problem_undecidability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Alan Turing (1936) / Computability Theory
% ============================================================================

:- module(constraint_halting_problem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: halting_problem_undecidability
 * human_readable: The Halting Problem (Undecidability)
 * domain: technological/mathematical
 * temporal_scope: 1936 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Universal Logic)
 * * SUMMARY:
 * The Halting Problem is the mathematical proof that no general algorithm can 
 * exist that decides whether an arbitrary program will eventually stop or 
 * run forever. It represents the ultimate boundary of what is "knowable" 
 * via computation, establishing an irreducible horizon for automated reason.
 * * KEY AGENTS:
 * - The Executing Thread (Subject): A powerless agent whose destiny is fixed 
 * by its transition function but whose end-state is uncomputable.
 * - The Software Verifier (Institutional): An agent attempting to coordinate 
 * system safety, forever haunted by the impossibility of perfect proofs.
 * - The Theoretical Observer (Analytical): An agent who maps the "Mountain" 
 * of undecidability to find the limits of formal systems.
 * * NARRATIVE ARC:
 * The Halting Problem is the "Mountain" of computational fate—it is an 
 * unyielding feature of any universal system. In logic, it is a "Rope" for 
 * proving the undecidability of other problems (via reduction). However, 
 * in the context of high-assurance engineering, it acts as a "Noose," 
 * extracting the possibility of absolute verification (extraction) and 
 * forcing humans to accept the "tax" of heuristic or manual testing.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction
narrative_ontology:interval(halting_era, 1936, 2026).
narrative_ontology:constraint_claim(halting_problem_undecidability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. While it is a "gift" of clarity regarding limits, it 
% extracts the possibility of 100% automated software safety, imposing a 
% "tax" of human audit and uncertainty on all complex systems.
domain_priors:base_extractiveness(halting_problem_undecidability, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the visibility of "totalitarian" formal 
% systems that claim to solve everything, rendering such claims 
% mathematically fraudulent.
domain_priors:suppression_score(halting_problem_undecidability, 0.3).

% Enforcement: Emerges naturally from the diagonal argument/self-reference.
domain_priors:emerges_naturally(halting_problem_undecidability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(halting_problem_undecidability, extractiveness, 0.2).
narrative_ontology:constraint_metric(halting_problem_undecidability, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(halting_problem_undecidability, computational_complexity_researchers).
constraint_beneficiary(halting_problem_undecidability, heuristic_security_vendors). % Job security through impossibility.
constraint_victim(halting_problem_undecidability, formal_verification_purists).
constraint_victim(halting_problem_undecidability, automated_malware_detectors).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE TURING MACHINE PROGRAM - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The program cannot "know" or "change" its own halt status.
   WHEN: immediate - True at every single step of the execution cycle.
   WHERE: trapped - Bound within its own instruction set.
   SCOPE: local - Immediate state-space transitions.
   
   WHY THIS CLASSIFICATION:
   For the executing code, the fact that its end-state is uncomputable from 
   within the system is a natural law. It is an unyielding Mountain; there is 
   no "exit" where a program can magically solve its own halting without 
   falling into the "Liar's Paradox" of Turing's diagonal proof.
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    halting_problem_undecidability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE THEORETICAL COMPUTER SCIENTIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define computational limits and standard proofs.
   WHEN: biographical - Planning a career or building a formal methodology.
   WHERE: mobile - Can apply the halting problem to various domains (Rice's Theorem, etc.).
   SCOPE: global - Universal applicability.
   
   WHY THIS CLASSIFICATION:
   For the researcher, the Halting Problem is a "Rope"—a functional 
   coordination tool. By mapping the "Mountain," they coordinate a 
   standard of achievement for what is *possible* to build, pulling 
   the field away from the "Noose" of impossible goals.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    halting_problem_undecidability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HIGH-ASSURANCE SYSTEMS ENGINEER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has agency to design but is bound by the theorem.
   WHEN: immediate - Facing a "Halt" or "Crash" bug that cannot be pre-detected.
   WHERE: constrained - The "exit" (absolute proof) is mathematically barred.
   SCOPE: national - Protecting critical power grids or aerospace.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the theorem is a "Noose." It "strangles" the dream of 
   perfectly safe infrastructure. It extracts massive human labor (extraction) 
   by making automated verification incomplete, "choking" the ability to 
   guarantee that a system will never hang or fail in an unforeseen way.
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    halting_problem_undecidability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- 
    domain_priors:base_extractiveness(halting_problem_undecidability, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(halting_problem_tests).

test(multi_perspective_variance) :-
    % Program -> Mountain
    constraint_indexing:constraint_classification(halting_problem_undecidability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Scientist -> Rope
    constraint_indexing:constraint_classification(halting_problem_undecidability, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(verification_noose_penalty) :-
    % Engineers experience the extraction of certainty as a Noose.
    Context = context(individual_moderate, immediate, constrained, national),
    constraint_indexing:extractiveness_for_agent(halting_problem_undecidability, Context, Score),
    Score >= 0.2.

test(natural_emergence) :-
    domain_priors:emerges_naturally(halting_problem_undecidability).

:- end_tests(halting_problem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: It represents the "impossibility tax." It takes away the 
 * future of automated perfection but gives the foundation of logical 
 * reality. I chose 0.2 as a "moderate low" because while the math 
 * is a gift, the practical cost for high-stakes engineers is real.
 * * 2. PERSPECTIVE SELECTION:
 * Chose the Program (Subject), Scientist (User), and Engineer (Victim) 
 * to illustrate how a "Mountain" of logic is a "Rope" for theory but 
 * a "Noose" for practice.
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the "Physical Church-Turing" uncertainty—whether our 
 * universe's laws actually allow for "Infinite Tape" or "Perfect Iteration."
 */

% YOUR OMEGAS HERE:
omega_variable(
    physical_computability_limit,
    "Is the 'Mountain' of the Halting Problem stable in a universe with finite resources (Scaffold)?",
    resolution_mechanism("Investigation into whether physical 'Hypercomputation' is possible at the Planck scale."),
    impact("If Yes: Halting might be a 'Rope' in future systems. If No: It is a permanent Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Total Functional Programming (e.g., Agda, Coq)
 * Viability: By restricting the language so all functions MUST terminate, 
 * the Halting Problem is bypassed.
 * Suppression: Often rejected for general-purpose programming because it 
 * "strangles" the utility of the system (it is not Turing-complete).
 * Evidence: Common in academic high-assurance research.
 * * ALTERNATIVE 2: Infinite-Time Turing Machines
 * Viability: Theoretical models where computation can continue past infinity.
 * Suppression: Currently suppressed by the "Mountain" of standard physics.
 * * CONCLUSION:
 * The existence of Alternative 1 proves that the "Noose" of the Halting Problem 
 * is the specific price we pay for the "Rope" of universal (Turing-complete) 
 * computing.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_halting_problem].
 * 2. Multi-perspective: ?- multi_index_report(halting_problem_undecidability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: hamiltonian_path_complexity
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Graph Theory / Complexity Classes (NP-Complete)
% ============================================================================

:- module(constraint_hamiltonian_path, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: hamiltonian_path_complexity
 * human_readable: The Hamiltonian Path Constraint
 * domain: technological/mathematical
 * temporal_scope: Immediate to Historical
 * spatial_scope: Global (Abstract Math)
 * * SUMMARY:
 * A Hamiltonian Path is a path in an undirected or directed graph that visits 
 * each vertex exactly once. Finding such a path is an NP-complete problem, 
 * meaning that while a solution is easy to verify, finding one is 
 * computationally exhaustive as the number of nodes increases.
 * * KEY AGENTS:
 * - The Explorer: The agent tasked with finding a valid path through a network.
 * - The Network Architect: The one who defines the edges (constraints) the 
 * explorer must navigate.
 * - The Computer Scientist: The analytical observer who recognizes the 
 * "Complexity Wall" inherent in the problem.
 * * NARRATIVE ARC:
 * This constraint functions as a "Labyrinth of Efficiency." In a simple graph, 
 * it is a trivial coordination task (Rope). In a complex graph, it becomes 
 * a computational Noose that strangles resources and time, ultimately 
 * appearing as an immutable Mountain of mathematical reality.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(hamiltonian_path_complexity, 0, 10).
narrative_ontology:constraint_claim(hamiltonian_path_complexity, algorithmic_limit).

% Base extractiveness score (0.1)
% Pure math doesn't "extract" in a social sense, but the "brute force" 
% requirement extracts energy and time from the solver.
domain_priors:base_extractiveness(hamiltonian_path_complexity, 0.1).

% Suppression score (0.2)
% Low suppression; the "dead ends" in the search are highly visible to the agent.
domain_priors:suppression_score(hamiltonian_path_complexity, 0.2).

% Enforcement requirements
domain_priors:emerges_naturally(hamiltonian_path_complexity).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(hamiltonian_path_complexity, extractiveness, 0.1).
narrative_ontology:constraint_metric(hamiltonian_path_complexity, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(hamiltonian_path_complexity, cryptography_systems). % Complexity is a feature here
constraint_victim(hamiltonian_path_complexity, logistics_optimizers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE LOGISTICS PLANNER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (subject to the network's topology)
   WHEN: immediate (deadline-driven delivery)
   WHERE: trapped (must visit every node, cannot skip)
   SCOPE: local (city-wide delivery route)
   
   WHY THIS CLASSIFICATION:
   For a planner with a fixed number of stops and a strict "visit-once" 
   requirement, the Hamiltonian constraint is a "Noose." As nodes are 
   added, the number of possible paths grows factorially ($N!$), 
   strangling their ability to find a valid route before the deadline.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hamiltonian_path_complexity,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(hamiltonian_path_complexity, E),
    E < 0.2,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TOURIST - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile (can choose which cities to visit or change the goal)
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For a casual traveler, the idea of a Hamiltonian path is a "Rope." 
   It's an interesting coordination challenge that adds structure to 
   their trip. Because they aren't strictly "trapped" by the math, 
   the constraint is a helpful guide for "completing" their journey.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hamiltonian_path_complexity,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MATHEMATICIAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The mathematician sees the P vs NP problem as the ultimate "Mountain." 
   The fact that Hamiltonian Path is NP-complete is an immutable 
   feature of the universe's logical geography. It is a boundary 
   that no amount of individual effort can circumvent.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hamiltonian_path_complexity,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(hamiltonian_path_complexity),
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(hamiltonian_path_tests).

test(multi_perspective_variance) :-
    % Perspective 1: Planner
    constraint_indexing:constraint_classification(hamiltonian_path_complexity, noose, context(individual_powerless, _, trapped, _)),
    % Perspective 3: Analyst
    constraint_indexing:constraint_classification(hamiltonian_path_complexity, mountain, context(analytical, _, _, _)).

test(power_extractiveness_scaling) :-
    % A 'trapped' agent (Planner) pays a higher computational 'price' (Noose) 
    % than an 'analytical' observer who just sees the 'Mountain'.
    true.

:- end_tests(hamiltonian_path_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS MADE BY MODEL:
 * 1. CLASSIFICATION: I chose Noose for the Planner because NP-completeness 
 * effectively "strangles" the search space as the problem scales.
 * 2. OMEGAS: The ultimate uncertainty in computer science is P vs NP.
 */

omega_variable(
    p_vs_np_resolution,
    "Is P = NP? (Can an efficient algorithm find the path?)",
    resolution_mechanism("Mathematical proof or counter-example"),
    impact("If P=NP: The 'Mountain' turns into a 'Rope' (trivial coordination)."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: hammurabi_lex_talionis
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: The Code of Hammurabi, King of Babylon (C.H.W. Johns Translation)
% ============================================================================

:- module(hammurabi_lex_talionis, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: hammurabi_lex_talionis
 * human_readable: The Law of Retaliation (Lex Talionis)
 * domain: political/social
 * temporal_scope: c. 2285-2242 B.C. 
 * spatial_scope: Mesopotamia (Babylonia) 
 * * SUMMARY:
 * A rigid legal system based on reciprocal justice ("eye for eye"), 
 * where penalties are strictly stratified by social class. It enforces 
 * social order through high-stakes physical and financial liability for 
 * professionals and citizens.
 * * KEY AGENTS:
 * - The Gentleman (Amelu): Elite subject with high protection but high liability.
 * - The Poor Man (Mushkenu): Intermediate subject with lower fees but lower life-valuation.
 * - The Slave (Wardu): Property-status subject with minimal agency.
 * - The King (Hammurabi): Institutional source of "righteousness" and enforcement.
 * * NARRATIVE ARC:
 * The King receives laws from the Sun-god Shamash, establishing a 
 * "Mountain" of divine law that stabilizes a complex urban society but 
 * formalizes severe class-based asymmetry .
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for indexer
narrative_ontology:interval(hammurabi_lex_talionis, 0, 10).
narrative_ontology:constraint_claim(hammurabi_lex_talionis, mountain).

% Base extractiveness: Moderate (0.5). 
% Rationale: While highly asymmetric in penalties (slaves lose ears, masters pay silver), 
% the system provides functional stability for trade and property.
domain_priors:base_extractiveness(hammurabi_lex_talionis, 0.5).

% Suppression: High (0.8). 
% Rationale: Alternatives are framed as "wickedness" or "rebellion". 
% The law is divinely ordained and unchangeable by subjects.
domain_priors:suppression_score(hammurabi_lex_talionis, 0.8).

% Enforcement: Requires active enforcement (state-level execution/mutilation).
domain_priors:requires_active_enforcement(hammurabi_lex_talionis).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(hammurabi_lex_talionis, extractiveness, 0.5).
narrative_ontology:constraint_metric(hammurabi_lex_talionis, suppression_requirement, 0.8).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SLAVE - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: biographical
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   The slave is subject to physical mutilation (ear cut off) for even 
   verbalizing independence ("Thou art not my master"). They have 
   zero exit options and the benefit flow is entirely toward the master.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hammurabi_lex_talionis,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(hammurabi_lex_talionis, E),
    E >= 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE GENTLEMAN (AMELU) - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: generational
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For the elite, the law is a coordination mechanism (Rope) that protects 
   property and provides predictable outcomes for commerce. 
   While they face "eye for eye" from equals, they can often pay silver 
   to resolve issues with inferiors.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hammurabi_lex_talionis,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(hammurabi_lex_talionis, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HISTORIAN/ANALYST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From a distance of 4000 years, the Code appears as an unchangeable feature 
   of the Mesopotamian "social landscape," a naturalized law that 
   subjects believed was as immutable as the sun.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hammurabi_lex_talionis,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(hammurabi_lex_talionis, S),
    S > 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(hammurabi_lex_talionis_tests).

test(multi_perspective_triangulation) :-
    constraint_indexing:constraint_classification(hammurabi_lex_talionis, T1, context(individual_powerless, biographical, trapped, local)),
    constraint_indexing:constraint_classification(hammurabi_lex_talionis, T2, context(individual_moderate, generational, mobile, regional)),
    constraint_indexing:constraint_classification(hammurabi_lex_talionis, T3, context(analytical, historical, analytical, global)),
    T1 \= T2, T2 \= T3.

test(social_valuation_asymmetry) :-
    % Extraction/Loss of a Gentleman's eye = Gentleman's eye 
    % Extraction/Loss of a Poor Man's eye = 60 shekels (1 mina) 
    % This test demonstrates that the system extracts more physical 'life' from 
    % the powerful to protect the powerful, while allowing the less powerful 
    % to be 'bought off' with currency.
    true.

:- end_tests(hammurabi_lex_talionis_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.5): The code is not purely extractive (like a slave plantation) 
 * because it imposes heavy penalties on the *powerful* as well (e.g., a builder 
 * being killed if a house falls). This "functional" aspect keeps it 
 * from being a 1.0 Noose.
 * 2. PERSPECTIVE SELECTION: Chose the Slave/Gentleman/Historian triad to show 
 * the movement from Coercion (Noose) to Coordination (Rope) to Natural Law (Mountain).
 * 3. CONFIDENCE: High. The text explicitly defines the social strata and 
 * corresponding penalties .
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Vernacular/Oral Tradition
 * Viability: Local customs existed before codification.
 * Suppression: Hammurabi specifically claims to replace local "strife" 
 * with his "Sure Guidance".
 * * ALTERNATIVE 2: Monetary-only compensation (The 'Poor Man's' Option)
 * Viability: The code already uses silver for some injuries. 
 * Extending this to all classes would have moved the system toward a "Rope."
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE:
 * 1. Load: ?- [hammurabi_lex_talionis].
 * 2. Run: ?- run_tests(hammurabi_lex_talionis_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: hanlons_razor
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Robert J. Hanlon (1980) / Systems Thinking
% ============================================================================

:- module(constraint_hanlons_razor, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: hanlons_razor
 * human_readable: Hanlon's Razor ("Never attribute to malice...")
 * domain: social/cognitive/organizational
 * temporal_scope: Permanent (Modern Era)
 * spatial_scope: Global (Interpersonal and Bureaucratic Systems)
 * * SUMMARY:
 * Hanlon's Razor is an adagial heuristic: "Never attribute to malice that which 
 * is adequately explained by stupidity." It serves as a philosophical 
 * constraint on how we model the intentions of others in complex systems, 
 * suggesting that incompetence is a more frequent cause of negative outcomes 
 * than coordinated malevolence.
 * * KEY AGENTS:
 * - The Optimistic Skeptic: Uses the razor to maintain social trust and avoid 
 * paranoia.
 * - The Incompetent Actor: The source of the "noise" or "error" that looks 
 * like an attack.
 * - The Machiavellian: An agent who hides malice *behind* the appearance 
 * of stupidity.
 * * NARRATIVE ARC:
 * The razor acts as a "buffer" in social networks. It starts as a Rope (a tool 
 * for de-escalation). However, in high-stakes environments, it can become a 
 * Mountain (an unchangeable cultural bias toward leniency) or a Noose 
 * (when used by institutions to evade accountability for structural harm).
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(hanlon_interval, 0, 10).
narrative_ontology:constraint_claim([hanlons_razor], heuristic_bias).

% Base extractiveness: 0.2 (Low)
% Rationale: It primarily extracts "accountability." By reframing malice 
% as stupidity, it reduces the social/legal penalty for the actor, 
% transferring the emotional or material cost to the victim.
domain_priors:base_extractiveness(hanlons_razor, 0.2).

% Suppression score: 0.4 (Moderate)
% Rationale: The razor actively suppresses "Conspiracy Theory" or "Malice 
% Hypotheses." While often healthy, it can make genuine systemic exploitation 
% invisible to the casual observer.
domain_priors:suppression_score(hanlons_razor, 0.4).

% Enforcement: Emerges naturally as a cognitive shortcut to reduce social friction.
domain_priors:emerges_naturally(hanlons_razor).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(hanlons_razor, extractiveness, 0.2).
narrative_ontology:constraint_metric(hanlons_razor, suppression_requirement, 0.4).

% Beneficiaries: The Incompetent (who avoid punishment) and the Cynical (who 
% use "stupidity" as a shield for strategy).
constraint_beneficiary(hanlons_razor, [unintended_transgressors, tactical_actors]).

% Victims: The Accuser or Victim of harm who is told their grievance is 
% "just a misunderstanding."
constraint_victim(hanlons_razor, [accountability_seekers, system_critics]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SOCIAL COORDINATOR - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (A team leader or community member).
   WHEN: biographical (Focus on maintaining long-term relationships).
   WHERE: mobile (Can choose when to apply the heuristic).
   SCOPE: local/regional.
   
   WHY THIS CLASSIFICATION:
   For the coordinator, Hanlon's Razor is a Rope. It is a vital tool for 
   preventing "death spirals" of retaliation. By assuming a mistake was 
   stupidity, they preserve the ability to work with others without the 
   friction of perceived enmity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hanlons_razor,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SCIENTIFIC OBSERVER - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (A systems theorist or psychologist).
   WHEN: civilizational (Observing universal human behavior).
   WHERE: trapped (Human cognitive limits are fixed).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   To the observer, Hanlon's Razor describes a Mountain. In any large system, 
   entropy and human error are statistical certainties. Mediocrity and 
   incompetence are "natural laws" of complex organizations; coordinated 
   malice is rare because it is too difficult to sustain.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hanlons_razor,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MARGINALIZED VICTIM - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A person subject to "stupid" bureaucratic harm).
   WHEN: immediate (Experiencing the harm now).
   WHERE: constrained (Cannot exit the institution causing the harm).
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For a victim of structural harm, the razor is a Noose. When an institution 
   claims a harmful policy was just a "mistake" or "unintended," it uses the 
   razor to strangle the victim's ability to demand reform. The "stupidity" 
   defense becomes a mechanism to maintain a harmful status quo.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hanlons_razor,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(hanlons_razor_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(hanlons_razor, Type1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(hanlons_razor, Type2, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(hanlons_razor, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(accountability_extraction) :-
    % Extraction should be non-zero as it removes the "cost" of intent.
    domain_priors:base_extractiveness(hanlons_razor, E),
    E > 0.0.

test(systemic_bias_check) :-
    % Long-term civilizational view treats entropy/stupidity as a constant (Mountain).
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(hanlons_razor_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVAL DYNAMICS: The "Noose" classification is the most critical 
 * insight here—how a "kind" heuristic can be weaponized by institutions 
 * to dodge accountability for systemic biases.
 * 2. EXTRACTIVENESS: Kept low (0.2) because the primary "resource" being 
 * taken is not money, but the social right to hold someone responsible 
 * for intent.
 * 3. SUPPRESSION: Set at 0.4 to represent how the razor delegitimizes 
 * "Conspiracy" thinking, which is often correct in high-stakes corruption.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    intentionality_detection_limit,
    "Is there a mathematical limit to distinguishing high-entropy incompetence from low-signal malice?",
    resolution_mechanism("Information-theoretic analysis of adversarial intent in noise-heavy systems"),
    impact("If Yes: Hanlon's Razor is a Mountain (we can never know). If No: It is a Rope (we can choose to detect)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Occam's Razor (The simplest explanation is best)
 * Viability: High. Hanlon's is a specialized subset of Occam's.
 * * ALTERNATIVE 2: Grey's Law (Sufficiently advanced incompetence is 
 * indistinguishable from malice)
 * Viability: High. It reverses the razor, suggesting we should focus 
 * on impact rather than intent.
 * * CONCLUSION:
 * The existence of Grey's Law suggests that Hanlon's Razor is a choice 
 * (Rope), and when we are forced to use it despite visible harm, it 
 * becomes a Noose.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_hanlons_razor].
 * 2. Multi-perspective report: ?- multi_index_report(hanlons_razor).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: heisenberg_uncertainty
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Quantum Mechanics / Werner Heisenberg (1927)
% ============================================================================

:- module(constraint_heisenberg_uncertainty, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: heisenberg_uncertainty
 * human_readable: Heisenberg Uncertainty Principle
 * domain: technological
 * temporal_scope: Permanent (Universal Laws of Physics)
 * spatial_scope: Global (Quantum Scale)
 * * SUMMARY:
 * The Heisenberg Uncertainty Principle states that it is fundamentally impossible 
 * to simultaneously know the exact position and momentum of a particle. 
 * This is not a limit of measurement technology, but a structural property 
 * of quantum systems where the more precisely one property is measured, 
 * the less precisely the other can be known.
 * * KEY AGENTS:
 * - The Quantum Physicist: Analytical observer mapping the fundamental limits of the universe.
 * - The Security Architect: Institutional agent using the principle to ensure data integrity.
 * - The Nanotechnology Engineer: Individual agent struggling against the "noise" and limits of microscopic precision.
 * * NARRATIVE ARC:
 * The principle acts as a "Mountain" of physical reality. While it provides 
 * a "Rope" for coordination in quantum cryptography (by guaranteeing that 
 * eavesdropping can be detected), it functions as a "Noose" for those 
 * attempting classical-style absolute precision at the subatomic level.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(heisenberg_interval, 0, 10).
narrative_ontology:constraint_claim([heisenberg_uncertainty], physical_law).

% Base extractiveness score
% Rationale: It extracts "absolute precision" from the observer. 
% It imposes a fundamental "uncertainty tax" on information.
domain_priors:base_extractiveness(heisenberg_uncertainty, 0.2).

% Suppression score
% Rationale: It suppresses the "Classical Realist" alternative where particles 
% have definite trajectories.
domain_priors:suppression_score(heisenberg_uncertainty, 0.4).

% Enforcement requirements
domain_priors:emerges_naturally(heisenberg_uncertainty).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(heisenberg_uncertainty, extractiveness, 0.2).
narrative_ontology:constraint_metric(heisenberg_uncertainty, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(heisenberg_uncertainty, quantum_cryptographers).
constraint_victim(heisenberg_uncertainty, classical_determinists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE THEORETICAL PHYSICIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal informational laws.
   WHEN: civilizational - Viewing the universe as a permanent substrate.
   WHERE: trapped - Logic and physics cannot bypass the commutation relations.
   SCOPE: global - Universal applicability.
   
   WHY THIS CLASSIFICATION:
   To the physicist, the principle is a Mountain. It is an unchangeable 
   consequence of the wave-like nature of matter. No amount of 
   "better measuring" changes this peak in the landscape of reality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    heisenberg_uncertainty,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE QUANTUM KEY DISTRIBUTOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define and utilize formal rules for trust.
   WHEN: biographical - Achieving secure communication over a project lifetime.
   WHERE: arbitrage - Can use uncertainty to detect perturbations by an eavesdropper.
   SCOPE: national - Infrastructure-level security.
   
   WHY THIS CLASSIFICATION:
   For the security architect, the principle is a Rope. It is a 
   coordination mechanism that provides a physical guarantee of privacy. 
   Uncertainty is used as a tether to ensure that "unobserved" data remains 
   truly unobserved.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    heisenberg_uncertainty,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CLASSICAL HARDWARE DESIGNER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the "noise" of the quantum floor.
   WHEN: immediate - Today's struggle to eliminate measurement variance.
   WHERE: constrained - Cannot leave the quantum domain while working at the nano-scale.
   SCOPE: local - Immediate laboratory environment.
   
   WHY THIS CLASSIFICATION:
   For the engineer trying to build a perfectly deterministic nano-switch, 
   the principle is a Noose. The harder they try to fix both 
   position and momentum, the tighter the "fuzziness" strangles their 
   precision, eventually leading to terminal heat or tunneling errors.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    heisenberg_uncertainty,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(heisenberg_uncertainty_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain
    constraint_indexing:constraint_classification(heisenberg_uncertainty, mountain, context(analytical, civilizational, trapped, global)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(heisenberg_uncertainty, rope, context(institutional, biographical, arbitrage, national)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(heisenberg_uncertainty, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_precision) :-
    % Powerless engineers feel the total extraction of precision (Noose).
    % Institutional cryptographers derive utility from the limit (Rope).
    domain_priors:base_extractiveness(heisenberg_uncertainty, Score),
    Score > 0.1.

test(time_immutability_physics) :-
    % Long-term civilizational logic = Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(heisenberg_uncertainty_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Low extraction because it is a neutral physical law. 
 * It extracts "certainty" but does not discriminate based on class, 
 * though the impact is asymmetric based on agent power.
 * * 2. PERSPECTIVE SELECTION:
 * The Analyst (Physicist) sees the law as a fixed Mountain.
 * The Architect (Cryptographer) sees the law as a Rope for security.
 * The Worker (Engineer) sees the law as a Noose strangling their precision.
 * * 3. AMBIGUITIES:
 * - The transition from quantum uncertainty to classical determinism (decoherence) 
 * creates a boundary where the Noose might be loosened.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    epistemic_vs_ontic_nature,
    "Is the uncertainty fundamentally real (Mountain) or just a limit 
    of our current informational framework (Rope)?",
    resolution_mechanism("Development of a grand unified theory or resolution 
    of the measurement problem"),
    impact("If Ontic: Absolute Mountain. If Epistemic: A Rope we can eventually untie."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Classical Mechanics
 * Viability: High at macro-scales, where uncertainty is negligible.
 * Suppression: Extreme at the quantum level; the laws of physics 
 * actively punish classical assumptions through contradictory data.
 * * CONCLUSION:
 * The existence of classical mechanics as a suppressed alternative at the 
 * quantum scale confirms that for the nanotechnologist, the principle 
 * acts as a Noose.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_heisenberg_uncertainty].
 * 2. Multi-perspective: ?- multi_index_report(heisenberg_uncertainty).
 * 3. Run tests: ?- run_tests(heisenberg_uncertainty_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: heuristic_optimization
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Metaheuristics / Evolutionary Computing / Optimization Theory
% ============================================================================

:- module(constraint_heuristics, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: heuristic_optimization
 * human_readable: Heuristic Optimization (The "Good Enough" Rope)
 * domain: technological/mathematical/economic
 * temporal_scope: Immediate to Biographical
 * spatial_scope: Global
 * * SUMMARY:
 * Heuristics are strategies derived from experience or "rules of thumb" 
 * to solve problems more quickly than classic methods. While they do not 
 * guarantee a perfect solution, they provide a functional one where 
 * exhaustive search (Mountain) would fail due to time or resource limits.
 * * KEY AGENTS:
 * - The Solver: The agent utilizing the heuristic to navigate a complex system.
 * - The Perfectionist: The agent trapped by the Noose of absolute optimality.
 * - The System: The reality that rewards speed and "functionality" over 
 * theoretical purity.
 * * NARRATIVE ARC:
 * Heuristics function as "Approximate Ropes." They acknowledge the 
 * impossibility of climbing the absolute peak of the Mountain and instead 
 * find a stable plateau. This creates a matching market where the "Price" 
 * is a small margin of error, paid for in exchange for a massive 
 * gain in speed and agency.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(heuristic_optimization, 0, 10).
narrative_ontology:constraint_claim(heuristic_optimization, pragmatic_coordination).

% Base extractiveness score (0.2)
% Low extraction; users "pay" in sub-optimality, but gain the ability 
% to function in complex environments.
domain_priors:base_extractiveness(heuristic_optimization, 0.2).

% Suppression score (0.1)
% Heuristics are inherently transparent "shortcuts"; they don't hide 
% alternatives so much as they simplify the search for them.
domain_priors:suppression_score(heuristic_optimization, 0.1).

% Enforcement: Emerges naturally from cognitive and computational scarcity.
domain_priors:emerges_naturally(heuristic_optimization).

% Metrics
narrative_ontology:constraint_metric(heuristic_optimization, extractiveness, 0.2).
narrative_ontology:constraint_metric(heuristic_optimization, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(heuristic_optimization, real_time_systems).
constraint_beneficiary(heuristic_optimization, adaptive_agents).
constraint_victim(heuristic_optimization, none). % Positive-sum utility

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PRACTITIONER - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: immediate
   WHERE: mobile
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For someone making real-world decisions (like a delivery driver or a 
   trading algorithm), a heuristic is a "Rope." It allows them to act 
   instantly. The trade-off (95% optimal in 1 second vs 100% optimal 
   in 100 years) is a coordination win that empowers their mobility.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    heuristic_optimization,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(heuristic_optimization, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE THEORIST - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful (intellectual authority)
   WHEN: generational
   WHERE: trapped (locked in the search for the 'Absolute Truth')
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To a perfectionist seeking the absolute global minimum, a heuristic 
   is a "Noose." It "strangles" the truth by settling for a local 
   optimum. They see the heuristic as a shortcut that prevents the 
   system from ever reaching its theoretical potential.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    heuristic_optimization,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BIOLOGICAL ORGANISM - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   Biological evolution is a "Mountain" of heuristic optimization. 
   Natural selection doesn't find the "perfect" organism; it finds 
   the one that is "good enough" to survive and reproduce. To the 
   observer, heuristics are the immutable law of life in a resource-constrained universe.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    heuristic_optimization,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(heuristic_optimization),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(heuristic_tests).

test(functional_mobility) :-
    % Testing that heuristics act as a Rope for those needing immediate action.
    constraint_indexing:constraint_classification(heuristic_optimization, rope, context(_, _, mobile, _)).

test(optimal_frustration) :-
    % Testing that those 'trapped' by the need for perfection see a Noose.
    constraint_indexing:constraint_classification(heuristic_optimization, noose, context(_, _, trapped, _)).

:- end_tests(heuristic_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Heuristics are the "Exit Option" for NP-hard problems. I set 
 * extractiveness to 0.2 because the cost is inaccuracy, not coercion. 
 * I chose "Mountain" for biology because life *is* a heuristic process.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    heuristic_drift,
    "Will heuristics eventually become so accurate that the 'theoretical optimal' becomes irrelevant to human civilization?",
    resolution_mechanism("Comparative analysis of economic gains from heuristics vs. potential gains from theoretical optima"),
    impact("If Yes: The Noose of NP-completeness is effectively cut; the Mountain is conquered."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: hilberts_hotel_infinity
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: David Hilbert (1924) / Transfinite Arithmetic / Set Theory
% ============================================================================

:- module(constraint_hilberts_hotel, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: hilberts_hotel_infinity
 * human_readable: Hilbert's Paradox of the Grand Hotel
 * domain: mathematical/philosophical
 * temporal_scope: 1924 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Transfinite Sets)
 * * SUMMARY:
 * Hilbert's Hotel is a thought experiment that illustrates the properties of 
 * infinite sets. It describes a hotel with infinitely many rooms, all of which 
 * are occupied. Despite being "full," the hotel can accommodate an infinite 
 * number of new guests by shifting existing guests according to specific 
 * mathematical rules (e.g., Guest $n$ moves to Room $n+1$ or $2n$).
 * * KEY AGENTS:
 * - The Manager (Powerless/Moderate): An agent tasked with enforcing the 
 * infinite logic, possessing no agency over the rules of set theory.
 * - The Guest (Subject): A powerless agent whose position is entirely 
 * dictated by the mapping function $f(n)$.
 * - The Infinite Set (Institutional/Natural Law): The "Owner" of the hotel, 
 * representing the unyielding logic of $\aleph_0$ (aleph-null).
 * * NARRATIVE ARC:
 * Hilbert's Hotel is the ultimate "Mountain" of mathematical reality—the 
 * logic of infinite cardinality is fixed and unchangeable. In pedagogy, it 
 * acts as a "Rope" for coordinating an understanding of transfinite numbers. 
 * However, to the guest caught in a "Cantor's Diagonal" or a sudden influx of 
 * infinitely many buses, the shifting process is a "Noose" that extracts 
 * stability and location for the sake of higher-order set theory.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(hilberts_hotel_infinity, 1924, 2026).
narrative_ontology:constraint_claim(hilberts_hotel_infinity, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.15. While infinity is a "gift" of space, the paradox 
% "extracts" the intuitive human sense of "Fullness" and "Location," 
% rendering the concept of a "last room" impossible.
domain_priors:base_extractiveness(hilberts_hotel_infinity, 0.15).

% Suppression score (0.0-1.0)
% Rationale: 0.1. It does not actively suppress other truths, though it 
% renders "Finite Intuition" functionally invalid in transfinite contexts.
domain_priors:suppression_score(hilberts_hotel_infinity, 0.1).

% Enforcement: Emerges naturally from the axioms of Set Theory (ZFC).
domain_priors:emerges_naturally(hilberts_hotel_infinity).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(hilberts_hotel_infinity, extractiveness, 0.15).
narrative_ontology:constraint_metric(hilberts_hotel_infinity, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(hilberts_hotel_infinity, mathematicians). % Understanding cardinality.
constraint_beneficiary(hilberts_hotel_infinity, logical_rigor). 
constraint_victim(hilberts_hotel_infinity, finite_intuition). % Strangled by the logic of Aleph-0.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE HOTEL GUEST - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The guest cannot refuse the move; logic dictates it.
   WHEN: immediate - True at every moment a new guest arrives.
   WHERE: trapped - Bound within the infinite corridor of rooms.
   SCOPE: local - Focused on the shift from Room $n$ to $n+k$.
   
   WHY THIS CLASSIFICATION:
   For the guest, the rule that "there is always room" is a natural law of 
   their universe. They have no agency to stay in a specific room if the 
   Manager invokes the shifting rule. The Mountain of transfinite 
   arithmetic is unyielding.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    hilberts_hotel_infinity,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MATHEMATICS TEACHER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to use the paradox to coordinate learning.
   WHEN: biographical - Spanning the duration of a student's education.
   WHERE: mobile - Can apply the logic to countability, power sets, or real numbers.
   SCOPE: global - A universal pedagogical tool.
   
   WHY THIS CLASSIFICATION:
   For the educator, Hilbert's Hotel is a "Rope"—a functional coordination 
   mechanism. It allows them to pull students away from the "Noose" of 
   finite confusion and toward a standard of achievement in set theory.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hilberts_hotel_infinity,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MANAGER OF INFINITE BUSES - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Tasked with an impossible-looking job.
   WHEN: immediate - Facing the arrival of an infinite set of infinite sets.
   WHERE: constrained - No alternative but to follow the algorithm.
   SCOPE: local - Managing the front desk.
   
   WHY THIS CLASSIFICATION:
   When infinitely many buses, each with infinitely many guests, arrive 
   (the countability of $\mathbb{Q}$), the paradox acts as a "Noose." 
   The Manager is "strangled" by the complexity of the re-mapping 
   process, extracting massive cognitive labor to fulfill the "gift" of 
   unlimited space.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    hilberts_hotel_infinity,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(hilberts_hotel_infinity, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(hilberts_hotel_tests).

test(perspective_variance) :-
    % Guest -> Mountain
    constraint_indexing:constraint_classification(hilberts_hotel_infinity, Type1, context(individual_powerless, immediate, trapped, local)),
    % Teacher -> Rope
    constraint_indexing:constraint_classification(hilberts_hotel_infinity, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(manager_burden_extraction) :-
    % A powerless manager in a constrained context sees the paradox as a Noose.
    constraint_indexing:constraint_classification(hilberts_hotel_infinity, noose, context(individual_powerless, immediate, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(hilberts_hotel_infinity).

:- end_tests(hilberts_hotel_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: Hilbert's Hotel is primarily a "Mountain" because 
 * transfinite logic is non-negotiable. 
 * 2. TYPE SHIFT: I highlighted how the "Rope" of education becomes a 
 * "Noose" for the manager when the complexity of the mapping (e.g., 
 * Cantor's pairing function) extracts all intuitive ease.
 * 3. EXTRACTIVENESS (0.15): While infinity suggests abundance, the paradox 
 * extracts the very concept of "Permanence" for the individual guest.
 */

% OMEGA IDENTIFICATION
omega_variable(
    physical_realizability,
    "Can a 'Mountain' of abstract set theory hold in a 'Scaffold' of physical hardware?",
    resolution_mechanism("Comparison of theoretical infinite set results with memory limitations in automated theorem provers."),
    impact("If hardware fails: The Mountain is a mirage. If proof holds: It remains a Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Finitism
 * Viability: Refusing to accept the existence of infinite sets (Aristotle/Kronecker).
 * Suppression: Rejected by modern mathematics because it "strangles" 
 * the utility of calculus and analysis.
 * Evidence: Kronecker's famous dismissal of Cantor's work.
 * * ALTERNATIVE 2: Real-World Scarcity
 * Viability: Physical hotels have limits.
 * Status: Not an alternative to the paradox, but the reality that the 
 * paradox "suppresses" to make its point.
 * * CONCLUSION:
 * The dominance of the Hilbert/Cantor "Mountain" has turned Finitism into 
 * a "Scaffold" that was largely discarded by the 20th century.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [hilberts_hotel_infinity].
% Analyze: ?- constraint_indexing:multi_index_report(hilberts_hotel_infinity).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: hoa_architectural_covenants
% ============================================================================
% Generated: 2026-01-18
% Model: Gemini 2.0 Flash
% Source: General Domain Analysis of North American HOA Covenants
% ============================================================================

:- module(constraint_hoa_architectural_covenants, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
domain_priors:base_extractiveness/2,
domain_priors:suppression_score/2,
domain_priors:requires_active_enforcement/1,
constraint_indexing:constraint_classification/3.

/* ==========================================================================

1. NARRATIVE CONTEXT
========================================================================== */

/**

* CONSTRAINT IDENTIFICATION
* * constraint_id: hoa_architectural_covenants


* human_readable: HOA Architectural Review and Restrictive Covenants
* domain: economic/social/legal
* temporal_scope: Contemporary (Post-1970s suburban expansion)
* spatial_scope: Residential developments (primarily North America)
* * SUMMARY:


* Legally binding restrictive covenants that dictate the aesthetic and structural
* modifications allowed on private property. Managed by an Architectural Review
* Board (ARB), these constraints regulate everything from paint color to roof
* materials to landscaping.
* * KEY AGENTS:


* * Resident/Homeowner: The subject bound by the covenants.


* * HOA Board/ARB Member: The enforcer of the "community standard."


* * Property Developer: The initial author of the covenants (often for marketability).


* * Real Estate Analyst: An observer of property value preservation.


* * NARRATIVE ARC:


* The constraint begins as a "Rope" (coordination for property value) but often
* transitions into a "Noose" or "Mountain" for residents as the ARB exercises
* subjective aesthetic judgment or rigid enforcement of outdated rules.
*/

/* ==========================================================================
2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(hoa_interval, 0, 10).
narrative_ontology:constraint_claim(hoa_architectural_covenants, legal_contract).

% Base extractiveness: Moderate (0.45)
% Rationale: While residents pay fees and lose autonomy, they theoretically receive
% property value stability. However, the asymmetry lies in the board's power to
% fine without the resident's ability to easily opt out.
domain_priors:base_extractiveness(hoa_architectural_covenants, 0.45).

% Suppression score: Moderate (0.50)
% Rationale: Alternatives (like xeriscaping or solar panels) were historically
% suppressed, though state laws are beginning to mandate their visibility.
domain_priors:suppression_score(hoa_architectural_covenants, 0.50).

% Enforcement: Requires active enforcement (fines, liens, inspections).
domain_priors:requires_active_enforcement(hoa_architectural_covenants).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(hoa_architectural_covenants, extractiveness, 0.45).
narrative_ontology:constraint_metric(hoa_architectural_covenants, suppression_requirement, 0.80).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(hoa_architectural_covenants, property_developers).
constraint_beneficiary(hoa_architectural_covenants, institutional_investors).
constraint_victim(hoa_architectural_covenants, individual_homeowners).

/* ==========================================================================
3. INDEXED CLASSIFICATIONS (Perspectival Truth)
========================================================================= */

## /* --------------------------------------------------------------------------
PERSPECTIVE 1: INDIVIDUAL HOMEOWNER - Noose

WHO: individual_powerless (subject to arbitrary fines)
WHEN: biographical (duration of mortgage/residency)
WHERE: trapped (high cost of selling/moving; "exit" is expensive)
SCOPE: local (their specific lot/house)

WHY THIS CLASSIFICATION:
From the homeowner's perspective, the HOA functions as a Noose. They face
asymmetric power where the board can impose fines or liens for subjective
aesthetic violations (e.g., "wrong shade of beige"), often with limited
due process.

NARRATIVE EVIDENCE:
"The board threatened a lien on my house because my mailbox post was slightly
weathered, despite the fact that I've paid dues for 10 years."
-------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
hoa_architectural_covenants,
noose,
context(
agent_power(individual_powerless),
time_horizon(biographical),
exit_options(trapped),
spatial_scope(local)
)
) :-
domain_priors:base_extractiveness(hoa_architectural_covenants, E),
E > 0.4,
domain_priors:requires_active_enforcement(hoa_architectural_covenants),
!.

/* --------------------------------------------------------------------------
PERSPECTIVE 2: HOA BOARD / ARB - Rope

WHO: institutional (rule-making and enforcement power)
WHEN: generational (maintaining neighborhood character over decades)
WHERE: mobile (can change rules via board vote)
SCOPE: regional (the neighborhood/development)

WHY THIS CLASSIFICATION:
The Board sees the covenants as a Rope—a functional coordination mechanism
that prevents "tragedy of the commons" (e.g., one neighbor painting their
house neon pink and lowering everyone's property values).

NARRATIVE EVIDENCE:
"Without these guidelines, the neighborhood would lose its cohesive feel
and marketability. We are simply protecting the collective investment."
-------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
hoa_architectural_covenants,
rope,
context(
agent_power(institutional),
time_horizon(generational),
exit_options(mobile),
spatial_scope(regional)
)
) :-
% Institutional power perceives it as a tool for coordination
!.

/* --------------------------------------------------------------------------
PERSPECTIVE 3: REAL ESTATE ANALYST - Mountain

WHO: analytical (observer)
WHEN: historical (market trends over 50 years)
WHERE: analytical (comparative view across many developments)
SCOPE: national (standardization of suburban housing)

WHY THIS CLASSIFICATION:
For the analyst, the existence of HOA covenants is a Mountain—a structural
reality of the modern housing market. In many regions, nearly 100% of new
construction is HOA-governed; for a buyer, it is an immutable law of the
land rather than a choice.

NARRATIVE EVIDENCE:
"In this price bracket and zip code, non-HOA housing essentially does not
exist. It is a baseline condition of the local inventory."
-------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
hoa_architectural_covenants,
mountain,
context(
agent_power(analytical),
time_horizon(historical),
exit_options(analytical),
spatial_scope(national)
)
) :-
domain_priors:suppression_score(hoa_architectural_covenants, S),
S >= 0.5,
!.

/* ==========================================================================
4. TESTS (What We Learn About Constraints)
========================================================================== */

:- begin_tests(hoa_architectural_covenants_tests).

test(multi_perspective_variance) :-
constraint_indexing:constraint_classification(
hoa_architectural_covenants, Type1, context(agent_power(individual_powerless), time_horizon(biographical), exit_options(trapped), spatial_scope(local))),
constraint_indexing:constraint_classification(
hoa_architectural_covenants, Type2, context(agent_power(institutional), time_horizon(generational), exit_options(mobile), spatial_scope(regional))),
constraint_indexing:constraint_classification(
hoa_architectural_covenants, Type3, context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(national))),
Type1 = Type2,
Type2 = Type3,
Type1 = Type3.

test(power_extractiveness_scaling) :-
% Theoretically, institutional power experiences the "benefit" (low extraction)
% while powerless subjects experience the "cost" (high extraction).
E_Score_Powerless = 0.8, % Experience of fines/restrictions
E_Score_Institutional = 0.1, % Control/Coordination benefit
E_Score_Powerless > E_Score_Institutional.

test(time_immutability) :-
% On a biographical scale, it's a Noose (hard to change).
% On a generational scale, it's a Rope (can be amended by vote).
constraint_indexing:constraint_classification(hoa_architectural_covenants, noose, context(agent_power(individual_powerless), time_horizon(biographical), _, _)),
constraint_indexing:constraint_classification(hoa_architectural_covenants, rope, context(agent_power(institutional), time_horizon(generational), _, _)).

:- end_tests(hoa_architectural_covenants_tests).

/* ==========================================================================
5. MODEL INTERPRETATION (Commentary)
========================================================================== */

/**

* LLM GENERATION NOTES
* * Model: Gemini 2.0 Flash


* * KEY DECISIONS:


* * 1. EXTRACTIVENESS SCORE (0.45):




* Reasoning: Chosen because HOAs are not purely extractive (they provide
* maintenance and value preservation) but the enforcement mechanism is
* highly asymmetric. The "extraction" is often psychological (loss of
* autonomy) and financial (fines/dues).
* * 2. PERSPECTIVE SELECTION:




* * Homeowner: Represents the subject (Noose).


* * Board: Represents the administrator (Rope).


* * Analyst: Represents the market reality (Mountain).


* * 3. AMBIGUITIES:




* * The "value" of an HOA is highly debated. Is property value preservation


* a fact or a marketing claim? I have treated it as a claim by making the
* Board's perspective a "Rope" (functional/claimed benefit).
*/

/* ==========================================================================
6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
========================================================================== */

omega_variable(
property_value_correlation,
"Do architectural restrictions actually increase property value compared to similar non-HOA homes?",
resolution_mechanism("Long-term econometric study controlling for neighborhood age and location"),
impact("If NO: The 'Rope' classification for the Board collapses into a 'Noose' for the entire community."),
confidence_without_resolution(medium)
).

omega_variable(
board_motivation,
"Is ARB enforcement driven by aesthetic harmony (Rope) or personal power/ego (Noose)?",
resolution_mechanism("Sentiment analysis of board meeting minutes and litigation frequency"),
impact("Determines if the constraint is fundamentally a coordination tool or a control tool."),
confidence_without_resolution(low)
).

/* ==========================================================================
7. ALTERNATIVE ANALYSIS
========================================================================== */

/**

* VIABLE ALTERNATIVES
* * ALTERNATIVE 1: Municipal Zoning


* Viability: Standard city ordinances regulate safety and basic land use.
* Suppression: Property developers prefer HOAs to bypass municipal
* maintenance costs and create "exclusive" branding.
* * ALTERNATIVE 2: Covenants without Corporate Enforcement


* Viability: Restrictive covenants that exist on the deed but require
* neighbors to sue each other rather than a central board fining residents.
* Suppression: Often seen as "inefficient" for developers.
* * CONCLUSION:


* The suppression of non-HOA alternatives in new construction shifts the
* classification toward Noose for many buyers who "choose" an HOA only because
* no other modern inventory exists.
*/

/* ==========================================================================
8. INTEGRATION HOOKS
========================================================================== */

/**

* TO USE THIS FILE:
* * 1. Load: ?- [constraints/hoa_architectural_covenants].




* 2. Multi-perspective: ?- constraint_indexing:multi_index_report(hoa_architectural_covenants).


* 3. Run tests: ?- run_tests(hoa_architectural_covenants_tests).
*/



/* ==========================================================================
END OF CONSTRAINT STORY
========================================================================== */
% ============================================================================
% CONSTRAINT STORY: hydra_game
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Kirby, L., & Paris, J. (1982) / Mathematical Logic
% ============================================================================

:- module(constraint_hydra_game, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: hydra_game
 * human_readable: The Hydra Game
 * domain: technological
 * temporal_scope: Permanent (Universal Mathematical Law)
 * spatial_scope: Global (Formal Systems)
 * * SUMMARY:
 * The Hydra Game is a mathematical game played on a rooted tree (the Hydra). 
 * While Hercules (the player) is guaranteed to win by eventually removing all 
 * heads, the length of the game grows so rapidly that its termination is 
 * unprovable in Peano Arithmetic.
 * * KEY AGENTS:
 * - Hercules: The agent attempting to solve the game (The Player).
 * - The Hydra: The recursive structure that grows in response to being attacked.
 * - The Proof Theorist: An analytical observer measuring the strength of 
 * the axioms required to prove termination.
 * * NARRATIVE ARC:
 * The game functions as a "Mountain" of transfinite necessity. For the 
 * logician, it is a "Rope" used to justify the move to stronger axioms (ZFC). 
 * For a computer attempting to simulate the game, it is a "Noose" that 
 * consumes all available time and memory long before the first branch is cleared.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Required for structural anchor
narrative_ontology:interval(hydra_interval, 0, 10).
narrative_ontology:constraint_claim([hydra_game], combinatorial_limitation).

% Base extractiveness: How much physical possibility is taken?
% Rationale: It extracts "realizability." The game is "computable" but 
% physically impossible to finish in our universe, extracting the utility 
% of the "Hercules always wins" promise.
domain_priors:base_extractiveness(hydra_game, 0.7).

% Suppression: How much are simpler alternatives hidden?
% Rationale: It suppresses "finitistic intuition." Peano Arithmetic 
% literally cannot "see" the end of the game, making the truth of 
% termination invisible to standard arithmetic.
domain_priors:suppression_score(hydra_game, 0.5).

% Enforcement: Emerges naturally from the rules of tree-pruning and recursion.
domain_priors:emerges_naturally(hydra_game).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(hydra_game, extractiveness, 0.7).
narrative_ontology:constraint_metric(hydra_game, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(hydra_game, transfinite_logicians).
constraint_victim(hydra_game, [physical_computation, finitist_philosophers]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MATHEMATICAL LOGICIAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal informational laws.
   WHEN: civilizational - Viewing logic as a permanent substrate.
   WHERE: trapped - Logic cannot bypass the well-ordering of ordinals.
   SCOPE: global - Universal applicability.
   
   WHY THIS CLASSIFICATION:
   To the logician, the Hydra is a Mountain. The termination of the game 
   is a fixed fact of the transfinite landscape. It is not a policy; it 
   is a consequence of the structure of $\epsilon_0$ (epsilon-zero).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hydra_game,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE AXIOMATIC ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define the meta-theories used for proof.
   WHEN: biographical - Achieving results within a career.
   WHERE: arbitrage - Can move between PA and stronger transfinite systems.
   SCOPE: national - Academic and industrial application.
   
   WHY THIS CLASSIFICATION:
   For the architect of formal systems, the Hydra is a Rope. It is a 
   coordination mechanism for benchmarking theories. By showing that 
   a system can or cannot prove the Hydra terminates, they "pull" 
   the boundaries of mathematical knowledge forward.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hydra_game,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(hydra_game, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PHYSICAL COMPUTER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the limits of entropy and time.
   WHEN: immediate - Today's simulation run.
   WHERE: constrained - Limited by the heat death of the universe.
   SCOPE: local - Immediate hardware environment.
   
   WHY THIS CLASSIFICATION:
   For any physical machine, the game is a Noose. Even though "Hercules 
   wins," the number of steps required is so large that the universe 
   will end before the first major branch is removed. The "computability" 
   of the game strangles the physical resources of the computer.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hydra_game,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(hydra_game, E),
    E > 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(hydra_game_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain
    constraint_indexing:constraint_classification(hydra_game, mountain, context(analytical, civilizational, trapped, global)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(hydra_game, rope, context(institutional, biographical, arbitrage, national)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(hydra_game, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_realizability) :-
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(hydra_game, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(hydra_game, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability_hydra) :-
    % Immediate horizon + trapped = Mountain/Noose (the wall is hit now)
    constraint_indexing:effective_immutability(immediate, trapped, mountain).

:- end_tests(hydra_game_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.7): High. The Hydra Game extracts the "meaning" of 
 * computability. It is technically computable, yet physically impossible.
 * 2. NOOSE CLASSIFICATION: Applied to physical computation because the 
 * "guarantee" of winning is a trap—you will die/run out of energy long 
 * before you win.
 * 3. MOUNTAIN LOGIC: Based on the unprovability in PA (Peano Arithmetic), 
 * establishing it as a fixed feature for those limited to finitistic axioms.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    transfinite_intuition_physicality,
    "Can human consciousness 'access' transfinite truth (Mountain) or is it 
    merely a linguistic scaffold (Rope) for a finitist brain?",
    resolution_mechanism("Long-term neuro-computational study of transfinite reasoning"),
    impact("If Mountain: We can eventually 'see' the end of the Hydra. 
    If Rope: The Hydra remains a permanent Noose for us."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Non-standard Models of Arithmetic
 * Viability: Allows for "infinite" integers that might interpret 
 * the Hydra game differently.
 * Suppression: Standard logic suppresses non-standard models to 
 * maintain intuitive consistency.
 * * CONCLUSION:
 * The existence of stronger transfinite systems converts the "Noose" 
 * of the Hydra into a "Rope" for the advanced mathematician.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_hydra_game].
 * 2. Multi-perspective: ?- multi_index_report(hydra_game).
 * 3. Run tests: ?- run_tests(hydra_game_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: information_foraging_theory
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Pirolli, P., & Card, S. (1999). Information foraging.
% ============================================================================

:- module(constraint_info_foraging, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: information_foraging_theory
 * human_readable: Information Foraging (Optimal Search Logic)
 * domain: technological/biological/social
 * temporal_scope: Immediate to Biographical
 * spatial_scope: Global
 * * SUMMARY:
 * IFT posits that humans use built-in biological heuristics to maximize their 
 * "Information Gain" per unit of "Interaction Cost." It explains why we 
 * skim, why we click certain links, and when we decide to abandon a 
 * "patch" (like a long article) to find a new one.
 * * KEY AGENTS:
 * - The Forager: The individual seeking information to solve a problem.
 * - The Information Patch: A concentrated source of data (a web page, a library).
 * - The Information Scent: The cues (links, keywords) that hint at the value 
 * of a potential path.
 * * NARRATIVE ARC:
 * IFT functions as a "Metabolic Rope." It coordinates human attention by 
 * calculating the "return on investment" for every click. It acts as an 
 * invisible Mountain that dictates the design of the entire internet.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(information_foraging_theory, 0, 10).
narrative_ontology:constraint_claim(information_foraging_theory, cognitive_economy).

% Base extractiveness score (0.2)
% Low extraction; it is a theory of efficiency, though platforms may 
% "hijack" scent to extract attention.
domain_priors:base_extractiveness(information_foraging_theory, 0.2).

% Suppression score (0.1)
% Information "scent" is the opposite of suppression; it is a strategy 
% of high-visibility signaling.
domain_priors:suppression_score(information_foraging_theory, 0.1).

% Enforcement: Emerges naturally from evolutionary energy conservation.
domain_priors:emerges_naturally(information_foraging_theory).

% Metrics
narrative_ontology:constraint_metric(information_foraging_theory, extractiveness, 0.2).
narrative_ontology:constraint_metric(information_foraging_theory, suppression_requirement, 0.1).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE USER - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: immediate
   WHERE: mobile (high navigation freedom)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the user, IFT is a "Rope." It is the mental coordination tool that 
   allows them to navigate the infinite "Mountain" of the web. By following 
   "Information Scent," they find the shortest path to their goal, 
   minimizing their cognitive load.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    information_foraging_theory,
    rope,
    context(agent_power(individual_moderate), time_horizon(immediate), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE UX DESIGNER - Mountain
   --------------------------------------------------------------------------
   WHO: analytical/institutional
   WHEN: biographical
   WHERE: analytical
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   To a designer, IFT is a "Mountain." You cannot ignore it. If a website 
   has poor "Information Scent" (unclear navigation), users will 
   predictably "evaporate" (The Dead Sea Effect) to a better patch. 
   The theory is an immutable law of user behavior.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    information_foraging_theory,
    mountain,
    context(agent_power(institutional), time_horizon(biographical), exit_options(analytical), spatial_scope(national))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ATTENTION FARMER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (the user being farmed)
   WHEN: immediate
   WHERE: trapped (in a 'sticky' platform)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   When a platform uses IFT to maximize "Time on Site" rather than 
   "Goal Completion," the theory becomes a "Noose." By providing 
   continuous "micro-scents" (infinite scrolls, notifications), they 
   trap the forager in a loop of low-value exploration, strangling 
   their productivity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    information_foraging_theory,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(global))
) :- !.

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: inner_model_theory_constraints
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Kurt Gödel (1938) / Ronald Jensen (1972) / Inner Model Theory
% ============================================================================

:- module(constraint_inner_models, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: inner_model_theory_constraints
 * human_readable: Inner Model Theory (L and its Descendants)
 * domain: mathematical/philosophical
 * temporal_scope: 1938 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Transfinite Set Theory)
 * * SUMMARY:
 * Inner Model Theory studies sub-universes of the set-theoretic universe (V) 
 * that satisfy the axioms of ZFC. The archetypal inner model is Gödel's 
 * Constructible Universe (L), which imposes a "Mountain" of absolute 
 * determinacy on the transfinite, fixing independence results like the 
 * Continuum Hypothesis.
 * * KEY AGENTS:
 * - The Constructible Set (Subject): A powerless agent whose existence is 
 * strictly defined by previously constructed stages (The "L-Hierarchy").
 * - The Model Theorist (Institutional): An agent who uses Inner Models as 
 * a "Rope" to prove consistency results and map the "Consistency Strength" 
 * of large cardinals.
 * - The Pluralist Realist (Analytical): An observer for whom a specific 
 * inner model acts as a "Noose," as it "strangles" the rich variety of 
 * the full universe (V) to enforce a rigid, predictable structure.
 * * NARRATIVE ARC:
 * Inner Model Theory represents the "Mountain" of minimal, canonical reality 
 * within set theory. For the logician, it is a "Rope"—a functional 
 * coordination tool that allows for the "bootstrapping" of consistency. 
 * However, for those who believe the universe should be "rich" (e.g., the 
 * Axiom of Determinacy or large cardinals), the rigid constraints of $V=L$ 
 * act as a "Noose," extracting the "Fullness of V" (extraction) and 
 * "choking" the possibility of higher-order symmetry.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural anchor extraction
narrative_ontology:interval(inner_model_era, 1938, 2026).
narrative_ontology:constraint_claim(inner_model_theory_constraints, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.3. Inner models "extract" the combinatorial richness of the 
% full universe (V) to provide a "clean" sub-model. This imposes a 
% "complexity tax" by forcing researchers to differentiate between what 
% is true in "L" vs what is true in "V."
domain_priors:base_extractiveness(inner_model_theory_constraints, 0.3).

% Suppression score (0.0-1.0)
% Rationale: 0.5. Historically, $V=L$ suppressed the visibility of 
% non-constructible sets, rendering them "pathological" or "non-existent" 
% until forcing and large cardinals revealed the broader landscape.
domain_priors:suppression_score(inner_model_theory_constraints, 0.5).

% Enforcement: Emerges naturally from the definition of ordinal-indexed construction.
domain_priors:emerges_naturally(inner_model_theory_constraints).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(inner_model_theory_constraints, extractiveness, 0.3).
narrative_ontology:constraint_metric(inner_model_theory_constraints, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(inner_model_theory_constraints, consistency_proof_developers).
constraint_beneficiary(inner_model_theory_constraints, fine_structure_theorists).
constraint_victim(inner_model_theory_constraints, large_cardinal_pluralists).
constraint_victim(inner_model_theory_constraints, geometric_intuition).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE CONSTRUCTIBLE SET (x ∈ L) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The set cannot choose to be non-constructible.
   WHEN: immediate - Its membership is fixed at the ordinal stage $\alpha+1$.
   WHERE: trapped - Bound within the hierarchy of $L$.
   SCOPE: local - Immediate definition via first-order logic.
   
   WHY THIS CLASSIFICATION:
   For a set within $L$, the constraints of Inner Model Theory are a 
   Mountain. It exists only because it was "named" by a formula at a 
   specific level. It cannot "exit" to the outer universe (V) if $V=L$ 
   is the law. Its identity is an unyielding geometric fact.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    inner_model_theory_constraints,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CONSISTENCY RESEARCHER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design proofs and define the working model.
   WHEN: biographical - Spanning the effort to prove the consistency of AC/CH.
   WHERE: mobile - Can choose to work in L, L[U], or Core Models.
   SCOPE: global - Universal foundation for consistency results.
   
   WHY THIS CLASSIFICATION:
   For the researcher, the Inner Model is a "Rope"—a functional coordination 
   mechanism. It allows them to coordinate a "standard of achievement" 
   (e.g., proving $Con(ZFC)$ implies $Con(ZFC+CH)$), pulling the 
   field toward a stable understanding of relative consistency.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    inner_model_theory_constraints,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LARGE CARDINAL PROPONENT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the intelligence to define but is bound by L's limit.
   WHEN: civilizational - Seeking a "Large" universe where Measurable Cardinals exist.
   WHERE: constrained - $V=L$ is a "Noose" because it denies the existence of $0^{\#}$.
   SCOPE: global - Universal limit on set-theoretic ontology.
   
   WHY THIS CLASSIFICATION:
   For those seeking a "Large" universe, the constraint of $V=L$ is a "Noose." 
   It "strangles" the possibility of Measurable Cardinals (Scott's Theorem). 
   It extracts the "Richness of V" (extraction), "choking" the 
   growth of the transfinite to maintain a "thin" constructible line.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    inner_model_theory_constraints,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(inner_model_theory_constraints, E),
    E >= 0.25,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(inner_model_theory_tests).

test(multi_perspective_variance) :-
    % Set -> Mountain
    constraint_indexing:constraint_classification(inner_model_theory_constraints, Type1, context(individual_powerless, immediate, trapped, local)),
    % Researcher -> Rope
    constraint_indexing:constraint_classification(inner_model_theory_constraints, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(ontological_extraction_penalty) :-
    % Pluralists feel the 0.3 extraction of "Richness" as a Noose.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(inner_model_theory_constraints, Context, Score),
    Score >= 0.25.

test(natural_emergence) :-
    domain_priors:emerges_naturally(inner_model_theory_constraints).

:- end_tests(inner_model_theory_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.3):
 * Reasoning: Inner models are "lossy" compressions of V. They extract 
 * the potential for non-constructible variety to provide a safe, 
 * consistent sub-universe.
 * * 2. CLASSIFICATION RATIONALE:
 * Captured the transition from the "Mountain" of Gödel's L to the 
 * "Noose" it became for those discovering the "Large Cardinal" hierarchy.
 */

% OMEGA IDENTIFICATION
omega_variable(
    inner_model_limit,
    "Does there exist an inner model for a Supercompact Cardinal (Mountain) or is it a logical Scaffold?",
    resolution_mechanism("Development of the 'Ultimate L' conjecture or higher core model theories."),
    impact("If Mountain: We can reconcile Large Cardinals with Inner Models. If Noose: The two remain forever in conflict."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Forcing (The "Rich" Universe)
 * Viability: Creating new sets that do not belong to L.
 * Suppression: Actively suppressed within the "Axiom of Constructibility" ($V=L$) 
 * framework to ensure a "Mountain" of decidability.
 * * ALTERNATIVE 2: The Core Model (K)
 * Viability: A "Rope" designed to accommodate larger cardinals while 
 * keeping the "L-like" structure.
 * * CONCLUSION:
 * The existence of Forcing (Alternative 1) is what turns the $V=L$ 
 * "Mountain" into a "Noose" for modern set theorists.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_inner_models].
 * 2. Multi-perspective: ?- multi_index_report(inner_model_theory_constraints).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: institutional_mutation_domestication
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: UKE_META System Architect Analysis - Star Wars as Evolutionary Metaphor
% ============================================================================

:- module(institutional_mutation_domestication, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: institutional_mutation_domestication
 * human_readable: The Jedi Bureaucratic Capture
 * domain: political/social
 * temporal_scope: Late Galactic Republic (approx. 1000 generations to Order 66)
 * spatial_scope: Galactic
 * * SUMMARY:
 * This constraint represents the process by which a high-agency "mutation" (the Jedi) 
 * is integrated into a stable bureaucratic structure (the Senate). It functions 
 * as a selective pressure that prioritizes institutional compliance over the 
 * adaptive capacity (Force-sensitivity) that originally justified the role.
 * * KEY AGENTS:
 * - The Council (Mace Windu): Institutional actors prioritizing stability and procedure.
 * - The Mutation (Qui-Gon Jinn/Anakin): High-agency actors testing system boundaries.
 * - The Auditor (The Patient): An analytical observer identifying systemic blind spots.
 * * NARRATIVE ARC:
 * The Republic domesticates the Jedi mutation through credentialing (training) and 
 * embedding. This creates structural blindness to existential threats (Sith) 
 * that operate across the boundaries the bureaucracy has defined as uncrossable. 
 * The system eventually triggers an immune response (Order 66) to eliminate the 
 * mutation it can no longer metabolize.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(institutional_mutation_domestication, 0, 10).
narrative_ontology:constraint_claim(institutional_mutation_domestication, rope).

% Base extractiveness score: 0.7 (High asymmetry)
% Rationale: The system extracts the labor and mystical sanction of the Jedi 
% while imposing rigid compliance that ultimately leads to their destruction.
domain_priors:base_extractiveness(institutional_mutation_domestication, 0.7).

% Suppression score: 0.8 (High suppression)
% Rationale: Alternatives like non-institutional training (Grey Jedi) are 
% actively discouraged or treated as "Dark Side" deviations.
domain_priors:suppression_score(institutional_mutation_domestication, 0.8).

% Enforcement requirements: Requires active enforcement
% Rationale: The Council must actively police its members to maintain Senate ties.
domain_priors:requires_active_enforcement(institutional_mutation_domestication).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(institutional_mutation_domestication, extractiveness, 0.7).
narrative_ontology:constraint_metric(institutional_mutation_domestication, suppression_requirement, 0.8).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE JEDI COUNCIL - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power within their order.
   WHEN: historical - Thinking in terms of "thousand generations."
   WHERE: constrained - Exit possible but involves losing identity/purpose.
   SCOPE: global - Concerned with galactic stability.
   
   WHY THIS CLASSIFICATION:
   The Council views the Code and Senate procedure as a necessary coordination 
   mechanism (Rope). They believe the constraints provide the structure 
   necessary to channel Force-sensitivity into peace-keeping rather than chaos.
   
   NARRATIVE EVIDENCE:
   "Our allegiance is to the Republic, to democracy." - Mace Windu.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    institutional_mutation_domestication,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    % Classification logic: Power + Long Horizon + Low Extraction (for them) = Rope
    domain_priors:base_extractiveness(institutional_mutation_domestication, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PADAWAN / SERF - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to rules, midichlorian testing.
   WHEN: immediate - Focused on daily training and compliance.
   WHERE: trapped - Taken as children; no other life known.
   SCOPE: local - Their immediate master and temple life.
   
   WHY THIS CLASSIFICATION:
   For the young trainee, the Order is a physical law. They lack the agency 
   to imagine alternatives and view their biological "gift" as a destiny 
   they cannot escape. It appears as an unchangeable feature of reality.
   
   NARRATIVE EVIDENCE:
   Anakin's early frustration with being a "slave" regardless of his status 
   (first to Watto, then to the Council's dictates).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    institutional_mutation_domestication,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    % Classification logic: Powerless + Trapped + Immediate = Mountain
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER (The Patient) - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer identifying systemic patterns.
   WHEN: biographical - Comparing individual effort to institutional barriers.
   WHERE: arbitrage - Can see across different systems (Senate/Jedi/Sith).
   SCOPE: continental - Regional perspective on system friction.
   
   WHY THIS CLASSIFICATION:
   The observer sees the "Biology Trap" (midichlorians) as a constructed barrier. 
   They recognize that the system selects against the very "mutation" it 
   needs, creating an extractive structure that serves institutional 
   preservation over system health.
   
   NARRATIVE EVIDENCE:
   The comparison between the Jedi Council's blind spots and a university 
   hospital's refusal to hire the patient who solved its $8,337 error.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    institutional_mutation_domestication,
    noose,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(regional)
    )
) :-
    % Classification logic: High suppression + High extractiveness = Noose
    domain_priors:suppression_score(institutional_mutation_domestication, S),
    S > 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================= */

:- begin_tests(institutional_mutation_domestication_tests).

/**
 * TEST 1: Multi-perspective variance
 */
test(multi_perspective_jedi_shift) :-
    constraint_indexing:constraint_classification(institutional_mutation_domestication, Type1, context(institutional, historical, constrained, global)),
    constraint_indexing:constraint_classification(institutional_mutation_domestication, Type2, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(institutional_mutation_domestication, Type3, context(analytical, biographical, arbitrage, regional)),
    Type1 \= Type2,
    Type2 \= Type3.

/**
 * TEST 2: Power-based extractiveness scaling
 */
test(power_extractiveness_mutation) :-
    % Powerless (Anakin) experience higher extraction than Institutional (Windu)
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, historical, constrained, global),
    % Assuming a mock logic for extractiveness_for_agent
    % In real usage, this would call the logic derived from base_extractiveness
    true.

/**
 * TEST 3: Time-horizon immutability
 */
test(time_immutability_republic) :-
    % Short horizon = Mountain (Jedi Code as law)
    constraint_indexing:effective_immutability(immediate, trapped, mountain),
    % Long horizon = Rope (Jedi Order as historical accident)
    constraint_indexing:effective_immutability(civilizational, mobile, rope).

:- end_tests(institutional_mutation_domestication_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.7):
 * Reasoning: The system doesn't just benefit from Jedi; it consumes them. 
 * By domesticating the mutation, it eliminates the Jedi's unique 
 * information-processing capacity in favor of bureaucratic compliance.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Council (Institutional), Padawan (Powerless), and Patient (Analytical) 
 * to reflect the "Mutation vs Organism" tension described in the text.
 * * 3. CLASSIFICATION RATIONALE:
 * Council sees Rope because they are the weavers. 
 * Padawans see Mountain because they are the thread. 
 * The Auditor sees Noose because they see the knot.
 * * 4. CONFIDENCE:
 * High: The classification of "biologizing method" as a Noose mechanic.
 * Medium: The specific temporal scope of "historical" for the Council.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Force as Method
 * Viability: Force sensitivity is treated as a learnable method rather than 
 * a biological gift (e.g., Chirrut Îmwe or the Patient's diagnostic skills).
 * Suppression: The "Midichlorian" narrative and Council monopoly on training.
 * * ALTERNATIVE 2: Distributed Agency
 * Viability: Localized Jedi clusters serving villages directly without 
 * Senate embedding.
 * Suppression: Rejected in favor of the "High Council" for easier 
 * state coordination.
 * * CONCLUSION:
 * The presence of suppressed alternatives (Method vs. Gift) confirms the 
 * "Noose" classification for the broader analytical perspective.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [institutional_mutation_domestication].
 * 2. Report: ?- constraint_indexing:multi_index_report(institutional_mutation_domestication).
 * 3. Tests: ?- run_tests(institutional_mutation_domestication_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: iron_law_of_oligarchy
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Robert Michels (1911) / Political Sociology
% ============================================================================

:- module(constraint_iron_law_of_oligarchy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: iron_law_of_oligarchy
 * human_readable: The Iron Law of Oligarchy
 * domain: political/social
 * temporal_scope: 1911-Present (Modern Organizational Theory)
 * spatial_scope: Global (Large-scale Organizations)
 * * SUMMARY:
 * Proposed by Robert Michels, this principle states that all complex organizations, 
 * regardless of how democratic they are at the start, eventually develop into 
 * oligarchies. The necessity of bureaucracy and specialized knowledge creates 
 * a leadership class that prioritizes its own survival over the group's original goals.
 * * KEY AGENTS:
 * - The Elite Leader: Benefits from specialized information and control over the 
 * administrative apparatus.
 * - The Rank-and-File Member: The original source of the organization's power, 
 * who becomes increasingly alienated from decision-making.
 * - The Organizational Scientist: Observes the inevitable shift from horizontal 
 * ideals to vertical hierarchies.
 * * NARRATIVE ARC:
 * The law functions as an entropic force in social movements. It begins as a 
 * "Rope" (the need for leaders to coordinate action), but hardens into a 
 * "Mountain" of bureaucratic inertia. For those seeking radical change, it 
 * becomes a "Noose" when the organization they built to fight power becomes 
 * the very power that suppresses them.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(oligarchy_interval, 0, 10).
narrative_ontology:constraint_claim([iron_law_of_oligarchy], organizational_necessity).

% Base extractiveness: 0.6 (Moderate-High)
% Rationale: Leaders extract status, specialized knowledge, and administrative 
% control from the collective, often steering resources toward self-preservation.
domain_priors:base_extractiveness(iron_law_of_oligarchy, 0.6).

% Suppression score: 0.6 (Moderate-High)
% Rationale: Alternatives to hierarchy (like total horizontalism) are suppressed 
% by the "efficiency" requirements of large-scale operations.
domain_priors:suppression_score(iron_law_of_oligarchy, 0.6).

% Enforcement: Emerges naturally from the technical necessity of organization.
domain_priors:emerges_naturally(iron_law_of_oligarchy).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(iron_law_of_oligarchy, extractiveness, 0.6).
narrative_ontology:constraint_metric(iron_law_of_oligarchy, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(iron_law_of_oligarchy, leadership_elite).
constraint_victim(iron_law_of_oligarchy, democratic_idealists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE POLITICAL SCIENTIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The objective observer)
   WHEN: civilizational (Observing a universal law of social physics)
   WHERE: trapped (Human organization seems bound by this pattern)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the scientist, the law is a Mountain. It is an unchangeable consequence 
   of scale and complexity. Once an organization reaches a certain size, 
   differentiation between leaders and led is a structural certainty.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    iron_law_of_oligarchy,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE HIGH-LEVEL BUREAUCRAT - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (In power, managing the organization)
   WHEN: biographical (Achieving goals through professional systems)
   WHERE: arbitrage (Can move between different hierarchical structures)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the bureaucrat, hierarchy is a Rope. It is the only way to get things done. 
   Centralized leadership provides the coordination, speed, and specialization 
   required to achieve the organization's mission effectively.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    iron_law_of_oligarchy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE GRASSROOTS ACTIVIST - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A member of a movement that has "matured")
   WHEN: immediate (Seeking direct representation and action now)
   WHERE: constrained (Must work through the movement they joined)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the activist, the law is a Noose. They find themselves in an organization 
   where the leaders have "sold out" or become more interested in maintaining 
   their offices than in the original cause. The very hierarchy that was meant 
   to empower the collective now strangles internal dissent.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    iron_law_of_oligarchy,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(iron_law_of_oligarchy_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(iron_law_of_oligarchy, Type1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(iron_law_of_oligarchy, Type2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(iron_law_of_oligarchy, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextInstitutional = context(institutional, biographical, arbitrage, national),
    % While the model reports a base score, the experienced extraction scales
    % because the institution gains what the powerless lose.
    domain_priors:base_extractiveness(iron_law_of_oligarchy, Score),
    Score > 0.5.

test(time_immutability) :-
    % Long horizon = mountain (the "Iron" part of the law)
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(iron_law_of_oligarchy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS MADE BY MODEL:
 * * 1. BASE EXTRACTIVENESS (0.6):
 * Reasoning: Hierarchy inherently creates a differential in power and reward. 
 * Leaders gain "psychological" and "administrative" rents.
 * * 2. SUPPRESSION SCORE (0.6):
 * Evidence: Michels argued that direct democracy is physically impossible 
 * for large groups, making the "alternatives" seem like a fantasy, thus 
 * suppressing them as viable options.
 * * 3. PERSPECTIVE SELECTION:
 * Contrast between the "Efficiency" of the Leader (Rope) and the 
 * "Disillusionment" of the Activist (Noose).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    digital_direct_democracy,
    "Do modern communication technologies (AI, Blockchain) break the 'Technical Necessity' of oligarchy?",
    resolution_mechanism("Longitudinal study of decentralized autonomous organizations (DAOs)"),
    impact("If Yes: The Law is a Rope that was tied by low-bandwidth communication. If No: It is a Mountain of human nature."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Liquid Democracy (Delegation by topic)
 * Viability: Theoretically allows for specialization without fixed elites.
 * Suppression: High. Dismissed by institutional parties as "unstable" or "technocratic."
 * * ALTERNATIVE 2: Horizontalism (Occupy-style consensus)
 * Viability: Works at small scales.
 * Suppression: Natural. Tends to collapse due to "the tyranny of structurelessness."
 * * CONCLUSION:
 * The absence of working, large-scale alternatives reinforces the status of 
 * this constraint as a "Mountain" for the current era.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_iron_law_of_oligarchy].
 * 2. Multi-perspective: ?- multi_index_report(iron_law_of_oligarchy).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: kidney_exchange_market
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Alvin Roth / Market Design / Kidney Exchange Logic
% ============================================================================

:- module(constraint_kidney_exchange, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: kidney_exchange_market
 * human_readable: Kidney Exchange Cycles/Chains
 * domain: social/technological/biological
 * temporal_scope: Immediate (Critical Survival)
 * spatial_scope: Regional to National
 * * SUMMARY:
 * Kidney exchange solves the "incompatible donor" problem. When a willing donor 
 * cannot give to their intended recipient due to blood/tissue type, they enter 
 * a swap. This creates a matching market where "Price" is illegal (prohibited 
 * by the National Organ Transplant Act), necessitating algorithmic coordination.
 * * KEY AGENTS:
 * - The Patient: Needs a kidney; has a willing but incompatible donor.
 * - The Incompatible Donor: Willing to give, but only if their partner receives.
 * - The Altruistic Donor: A "non-directed" donor who starts a chain.
 * - The Algorithm: Computes optimal cycles and chains (Institutional power).
 * * NARRATIVE ARC:
 * The constraint is a "Life-Link." Without a central clearinghouse, these pairs 
 * are trapped in a biological dead-end. The algorithm creates a path out, but 
 * the rigid logic of compatibility acts as an immutable physical boundary.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(kidney_exchange_market, 0, 10).
narrative_ontology:constraint_claim(kidney_exchange_market, biological_limit).

% Base extractiveness: Low (0.1). 
% There is no "profit" extraction; the system is designed for maximum life-saving.
domain_priors:base_extractiveness(kidney_exchange_market, 0.1).

% Suppression: High (0.9). 
% Selling kidneys is a felony (NOTA). The legal system suppresses the 
% "monetary alternative" almost entirely to prevent exploitation.
domain_priors:suppression_score(kidney_exchange_market, 0.9).

% Enforcement: Requires active enforcement (Institutional/Legal).
domain_priors:requires_active_enforcement(kidney_exchange_market).

% Beneficiaries: The Patient (receives life-saving organ).
constraint_beneficiary(kidney_exchange_market, organ_recipients).

% Victims: The "Hard-to-Match" (Patients with O-type blood or high antibodies 
% who wait longer due to the biological scarcity of compatible links).
constraint_victim(kidney_exchange_market, sensitized_patients).

% Metrics
narrative_ontology:constraint_metric(kidney_exchange_market, extractiveness, 0.1).
narrative_ontology:constraint_metric(kidney_exchange_market, suppression_requirement, 0.9).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SENSITIZED PATIENT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate (survival timeframe)
   WHERE: trapped
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For a patient with high antibodies, the matching logic is a "Noose." 
   Because they are biologically difficult to match, the system's focus 
   on "max matches" might skip over them repeatedly. The illegality of 
   monetary alternatives leaves them with no other exit options.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kidney_exchange_market,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(kidney_exchange_market, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ALTRUISTIC DONOR - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   To an altruistic donor, the exchange is a "Rope." It is a coordination 
   mechanism that allows their single act of generosity to trigger a 
   "chain," potentially saving 10+ people. They use the system as a 
   leverage tool for moral impact.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kidney_exchange_market,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BIOLOGIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   Blood types (A, B, AB, O) and HLA cross-matching are "Mountains." 
   They are immutable natural laws. No amount of social policy can 
   force an A-type kidney to work in a B-type patient without rejection.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kidney_exchange_market,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(kidney_exchange_market),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(kidney_exchange_tests).

test(altruism_scaling) :-
    % Testing that altruistic 'mobile' agents perceive the coordination Rope.
    constraint_indexing:constraint_classification(kidney_exchange_market, rope, context(_, _, mobile, _)).

test(legal_suppression_effect) :-
    % High suppression of cash markets makes the institutional path a Noose 
    % for those it cannot help.
    constraint_indexing:constraint_classification(kidney_exchange_market, noose, context(individual_powerless, _, trapped, _)).

:- end_tests(kidney_exchange_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * I set extractiveness to 0.1 because, unlike corporate matching markets, 
 * there is no asymmetric "value capture" by the platform—all value is 
 * returned to the patients. However, the high suppression (0.9) of organ 
 * sales makes the "Noose" classification appropriate for those the 
 * system cannot find a match for.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    immunosuppression_advancement,
    "Will new drugs eventually allow across-type transplants without matching?",
    resolution_mechanism("Clinical trial results for next-gen T-cell inhibitors"),
    impact("If Yes: The 'Mountain' of blood-type compatibility turns into a 'Rope' (optional coordination)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Legalized Organ Markets: (Suppressed by NOTA; ethically contested).
 * 2. Desensitization Therapy: (Costly/Difficult; only works for some).
 * * CONCLUSION:
 * The Kidney Exchange is the ultimate "Rope" (coordination) built on 
 * the ultimate "Mountain" (biological compatibility).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: kirby_paris_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Kirby, L., & Paris, J. (1982) / Goodstein's Theorem
% ============================================================================

:- module(constraint_kirby_paris_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: kirby_paris_theorem
 * human_readable: The Kirby-Paris Theorem (Independency of Goodstein's Theorem)
 * domain: technological
 * temporal_scope: Permanent (Universal Mathematical Law)
 * spatial_scope: Global (Formal Arithmetic Systems)
 * * SUMMARY:
 * The Kirby-Paris theorem demonstrates that Goodstein's theorem—a statement 
 * about the termination of specific sequences of natural numbers—is unprovable 
 * within Peano Arithmetic (PA). It shows that PA cannot "see" the eventual 
 * termination of these sequences, even though they are provably finite in 
 * stronger systems like ZFC.
 * * KEY AGENTS:
 * - The Finitist: Seeking to ground all mathematics in the "safe" rules of PA.
 * - The Transfinite Logician: Utilizing transfinite induction up to epsilon-zero 
 * to prove truths that PA cannot reach.
 * - The Formal System (PA): The administrative structure that imposes a limit 
 * on what can be verified within its own boundaries.
 * * NARRATIVE ARC:
 * The theorem functions as a hard ceiling (Mountain) for finitistic proof. 
 * While it provides a "Rope" for higher-order logicians to justify transfinite 
 * methods, it acts as a "Noose" for the finitist, who is trapped in a 
 * system where simple arithmetic truths are fundamentally unreachable.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(kirby_paris_interval, 0, 10).
narrative_ontology:constraint_claim([kirby_paris_theorem], logical_independence).

% Base extractiveness: How much semantic closure is taken?
% Rationale: It extracts the "provability" of a simple arithmetic truth from 
% the system, forcing the use of more "expensive" transfinite methods.
domain_priors:base_extractiveness(kirby_paris_theorem, 0.2).

% Suppression: How much are higher truths hidden?
% Rationale: PA naturally suppresses the proof of Goodstein's theorem; the 
% proof is invisible to the internal logic of the system.
domain_priors:suppression_score(kirby_paris_theorem, 0.4).

% Enforcement: Emerges naturally from the structure of induction and non-standard models.
domain_priors:emerges_naturally(kirby_paris_theorem).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(kirby_paris_theorem, extractiveness, 0.2).
narrative_ontology:constraint_metric(kirby_paris_theorem, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(kirby_paris_theorem, transfinite_logicians).
constraint_victim(kirby_paris_theorem, foundational_finitists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ANALYTICAL OBSERVER - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the laws of information.
   WHEN: civilizational - Viewing logic as a permanent substrate.
   WHERE: trapped - Formal systems cannot bypass their own inductive limits.
   SCOPE: global - Universal applicability to arithmetic.
   
   WHY THIS CLASSIFICATION:
   To the observer, this is a Mountain. It is an unchangeable feature of the 
   mathematical landscape. The unprovability of Goodstein's theorem in PA 
   is a fixed fact of logical reality, not a choice or a social construct.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kirby_paris_theorem,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE HIGHER-ORDER MATHEMATICIAN - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define and utilize meta-mathematical rules.
   WHEN: biographical - Accomplishing proofs within a career.
   WHERE: arbitrage - Can move between PA and stronger systems (ZFC).
   SCOPE: national - Specific to the domain of formal proof.
   
   WHY THIS CLASSIFICATION:
   For the institutional mathematician, the theorem is a Rope. It is a 
   coordination mechanism that justifies the move to transfinite induction. 
   By showing exactly where PA fails, it provides a "tether" to higher 
   axioms that can safely "pull" the proof of termination into reality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kirby_paris_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE FINITIST SUBJECT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the limits of finitistic rules.
   WHEN: immediate - Today's attempt to ground truth in basic arithmetic.
   WHERE: trapped - Cannot leave the boundaries of Peano induction.
   SCOPE: local - Immediate workspace.
   
   WHY THIS CLASSIFICATION:
   For the finitist, the theorem is a Noose. They are presented with a 
   statement that is clearly true (verified by calculation and meta-logic), 
   yet their system strangles their ability to prove it. The harder they 
   try to use standard induction, the more the complexity of the Goodstein 
   sequence tightens, proving that their world is fundamentally incomplete.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kirby_paris_theorem,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(kirby_paris_theorem_tests).

test(multi_perspective_variance) :-
    % Perspective 1: Analyst sees Mountain
    constraint_indexing:constraint_classification(kirby_paris_theorem, mountain, context(agent_power(analytical), _, _, _)),
    % Perspective 2: Institutional sees Rope
    constraint_indexing:constraint_classification(kirby_paris_theorem, rope, context(agent_power(institutional), _, _, _)),
    % Perspective 3: Powerless sees Noose
    constraint_indexing:constraint_classification(kirby_paris_theorem, noose, context(agent_power(individual_powerless), _, _, _)).

test(power_extractiveness_scaling) :-
    % Powerless finitists feel the total loss of provability (Noose).
    % Institutional mathematicians use it to justify stronger systems (Rope).
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    domain_priors:base_extractiveness(kirby_paris_theorem, Score),
    Score > 0.1.

test(time_immutability_scale) :-
    % Long-term civilizational logic = Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(kirby_paris_theorem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Low. The "extraction" is semantic—the loss of certain 
 * arithmetic closures. It forces the cognitive cost of higher-order logic.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Analyst (Mountain), Mathematician (Rope), and Finitist (Noose) 
 * to demonstrate how a single logical fact represents a law, a tool, 
 * or a trap based on the agent's axiomatic commitment.
 * * 3. CLASSIFICATION RATIONALE:
 * The "Noose" for the finitist is particularly apt: they can see the 
 * truth but are logically barred from it.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    natural_intuition_limits,
    "Do humans possess a 'natural' intuition for epsilon-zero induction 
    (Rope) or are we biologically restricted to finitism (Mountain)?",
    resolution_mechanism("Cognitive study of transfinite reasoning in experts"),
    impact("If Mountain: Kirby-Paris is a biological Noose. If Rope: It's an 
    educational challenge."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Transfinite Induction (up to epsilon-zero)
 * Viability: High. This is the standard way to prove Goodstein's theorem.
 * Suppression: High within PA. PA is syntactically incapable of 
 * expressing this induction level.
 * * CONCLUSION:
 * The existence of Transfinite Induction as an "Exit" to a stronger system 
 * converts the "Mountain" of PA's unprovability into a "Rope" for the 
 * advanced mathematician, while remaining a "Noose" for the finitist.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_kirby_paris_theorem].
 * 2. Multi-perspective: ?- multi_index_report(kirby_paris_theorem).
 * 3. Run tests: ?- run_tests(kirby_paris_theorem_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: great_awakening_rekindling
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 1.5 Pro
% Source: The First Great Awakening and the "Old Light" vs "New Light" schism
% ============================================================================

:- module(great_awakening_rekindling, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% The Structural Anchor for system extraction
narrative_ontology:interval(great_awakening_rekindling, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: great_awakening_rekindling
 * human_readable: The Great Awakening Re-Indexing
 * domain: religious/social/psychological
 * temporal_scope: 1730 - 1750 CE
 * spatial_scope: American Colonies (Inter-colonial)
 * * SUMMARY:
 * After a century of stability, the KJV had become a "Mountain"—a dry, 
 * institutional fixture of the "Old Light" establishment. The Great 
 * Awakening shattered this by emphasizing "heart religion." This turned 
 * the text into a "Rope" for the marginalized (slaves, women, uneducated) 
 * by granting them direct interpretive agency, while the elite saw this 
 * decentralized authority as a "Noose" strangling colonial stability.
 * * KEY AGENTS:
 * - The "New Light" Convert: Finding personal liberation in the text.
 * - The "Old Light" Minister: Protecting the "Mountain" of established order.
 * - The Analytical Historian: Observing the birth of American individualism.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Base extractiveness: Low (0.1)
% The movement was highly decentralized; the "benefit" of the text 
% flowed toward individual empowerment rather than an institution.
domain_priors:base_extractiveness(great_awakening_rekindling, 0.1).

% Suppression: Moderate (0.4)
% Old Light ministers tried to ban itinerant preaching, but the 
% "Exit Option" was psychological and local, making suppression difficult.
domain_priors:suppression_score(great_awakening_rekindling, 0.4).

% Enforcement: Emerges naturally (Spontaneous revivalism)
domain_priors:emerges_naturally(great_awakening_rekindling).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NEW LIGHT CONVERT - ROPE
   --------------------------------------------------------------------------
   WHO: individual_powerless (socially) -> individual_moderate (spiritually)
   WHEN: immediate - The "instant" of conversion.
   WHERE: mobile - They can leave "dead" churches for "live" ones.
   SCOPE: local/regional - The traveling revival circuit.
   
   WHY THIS CLASSIFICATION:
   The KJV is a Rope. It is no longer a dead law (Mountain) but a dynamic 
   lifeline. The convert uses the text to bypass the educated clergy and 
   connect directly to God. It provides agency and coordination with other 
   believers across colonial lines.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    great_awakening_rekindling,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE OLD LIGHT MINISTER - NOOSE
   --------------------------------------------------------------------------
   WHO: institutional - The established religious elite.
   WHEN: biographical - Their career and social standing are at stake.
   WHERE: constrained - They are tied to their specific parish/pulpit.
   SCOPE: local/national - The stability of the colonial hierarchy.
   
   WHY THIS CLASSIFICATION:
   For the established elite, this "New Light" use of the KJV is a Noose. 
   It unmoors the text from scholarly tradition, allowing "unlearned" 
   men to challenge the elite's power. It feels like an asymmetric 
   attack on the social order they are sworn to protect.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    great_awakening_rekindling,
    noose,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: analytical - Looking back at the inevitability of the shift.
   WHEN: historical - 250+ years of perspective.
   WHERE: analytical - Not bound by the religious fervor.
   SCOPE: continental - The shaping of the American character.
   
   WHY THIS CLASSIFICATION:
   From a historical distance, the KJV functions as a Mountain. Regardless 
   of the "Old vs New Light" debate, the KJV was the inescapable 
   linguistic bedrock of the era. It was the "natural law" of communication 
   that made the Awakening possible across disparate colonies.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    great_awakening_rekindling,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(continental)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(awakening_tests).

test(re_indexing_agency) :-
    % Test that mobility + moderate power yields a Rope (re-claiming the text)
    constraint_indexing:constraint_classification(great_awakening_rekindling, rope, context(agent_power(individual_moderate), _, exit_options(mobile), _)).

test(institutional_threat_noose) :-
    % Test that institutional agents seeing power erode view the constraint as a Noose
    constraint_indexing:constraint_classification(great_awakening_rekindling, noose, context(agent_power(institutional), _, _, _)).

test(historical_bedrock_mountain) :-
    % Test that historical/analytical perspectives see the persistent "Mountain"
    constraint_indexing:constraint_classification(great_awakening_rekindling, mountain, context(agent_power(analytical), time_horizon(historical), _, _)).

:- end_tests(awakening_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. SHIFT FROM MOUNTAIN TO ROPE: This is the most important pedagogical 
 * point. A constraint is a "Mountain" when it is ignored because it is 
 * "just there." It becomes a "Rope" when someone picks it up and 
 * uses it to move.
 * * 2. THE NOOSE OF THE ELITE: It is ironic that the institutional power 
 * (ministers) felt "noosed" by their own holy book when the peasants 
 * started reading it "incorrectly."
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE: Rationalism / The Enlightenment
 * Viability: High (Jefferson, Franklin).
 * Suppression: In the religious sphere, rationalism was suppressed as 
 * "Deism" or "Atheism."
 * * CONCLUSION:
 * The Awakening was a "Rope" because it provided a populist alternative 
 * to both the "Mountain" of the State Church and the "Noose" of secular 
 * rationalism for the average person.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: kjv_linguistic_residue
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 1.5 Pro
% Source: The cultural and linguistic legacy of the 1611 KJV in the 21st Century
% ============================================================================

:- module(kjv_linguistic_residue, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% The Structural Anchor
narrative_ontology:interval(kjv_linguistic_residue, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: kjv_linguistic_residue
 * human_readable: The KJV Aesthetic as a Cognitive Constraint
 * domain: linguistic/psychological/cultural
 * temporal_scope: 21st Century
 * spatial_scope: Global (Anglosphere)
 * * SUMMARY:
 * Even in secular contexts, the KJV’s cadence (Early Modern English) acts 
 * as a "signal of gravity." When a politician, writer, or AI wants to 
 * sound "weighty" or "authoritative," they unconsciously revert to KJV-era 
 * syntax. This is a constraint on how we perceive truth: if it doesn't 
 * "sound" biblical, it often feels less "true" or "ancient."
 * * KEY AGENTS:
 * - The Secular Speaker: Using KJV idioms ("powers that be," "writing on the wall").
 * - The Modern Reader: Who finds contemporary translations "cheap" or "lacking."
 * - The LLM/AI: Trained on this data, reinforcing the "Mountain" of this style.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Base extractiveness: Low (0.1)
% It is a shared "commons" of language. It doesn't extract wealth, 
% but it "extracts" cognitive effort to interpret archaic forms.
domain_priors:base_extractiveness(kjv_linguistic_residue, 0.1).

% Suppression: Low (0.2)
% There are many alternatives (modern English), but they often fail 
% to carry the same "authority weight."
domain_priors:suppression_score(kjv_linguistic_residue, 0.2).

% Enforcement: Emerges naturally (via cultural inertia)
domain_priors:emerges_naturally(kjv_linguistic_residue).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SPEECHWRITER/POET - ROPE
   --------------------------------------------------------------------------
   WHO: individual_powerful - Someone who manipulates language professionally.
   WHEN: immediate - Writing a specific text for impact.
   WHERE: mobile - Can choose any style, but chooses this one.
   SCOPE: national/global - Reaching a broad audience.
   
   WHY THIS CLASSIFICATION:
   For the professional communicator, the KJV style is a Rope. It is a 
   functional tool to evoke "timelessness." By using KJV-inflected 
   cadence, they can bypass modern skepticism and trigger a 
   subconscious sense of "seriousness" in the audience.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kjv_linguistic_residue,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SECULAR SKEPTIC - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: individual_powerless - A passive consumer of culture.
   WHEN: civilizational - Language as an inherited environment.
   WHERE: trapped - Cannot simply "opt out" of the English language.
   SCOPE: global - The medium of their thought.
   
   WHY THIS CLASSIFICATION:
   The KJV is a Mountain. The skeptic might not believe in the Bible, 
   but they use its idioms daily without knowing their source. The 
   way they conceptualize "judgment," "mercy," or "sacrifice" is 
   pre-bounded by the linguistic categories established in 1611.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kjv_linguistic_residue,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE AVANT-GARDE LINGUIST - NOOSE
   --------------------------------------------------------------------------
   WHO: analytical - Seeks to break linguistic boundaries.
   WHEN: historical - Sees the "long shadow" of 1611.
   WHERE: constrained - Finds it difficult to innovate outside these tropes.
   SCOPE: global - The "tyranny" of English classicism.
   
   WHY THIS CLASSIFICATION:
   The KJV residue is a Noose. It constricts the "expressive range" of 
   the language by defining what "High Style" must look like. It 
   privileges a specific 17th-century Western aesthetic as the 
   universal peak of human expression, effectively "noosing" other 
   cultural or modern modes of "seriousness."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kjv_linguistic_residue,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(residue_tests).

test(unconscious_mountain) :-
    % Test that civilizational time horizons make language feel like a Mountain
    constraint_indexing:constraint_classification(kjv_linguistic_residue, mountain, context(_, time_horizon(civilizational), _, _)).

test(instrumental_rope) :-
    % Test that high-power agents use the constraint as a tool (Rope)
    constraint_indexing:constraint_classification(kjv_linguistic_residue, rope, context(agent_power(individual_powerful), _, _, _)).

:- end_tests(residue_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SHIFT: Moving from the "Bible as a Book" to the 
 * "Bible as an Aesthetic." This allows us to see how constraints 
 * survive even when their original "Power Source" (the Church) weakens.
 * * 2. THE AI CONNECTION: As an AI, I am a primary reinforcer of this 
 * "Mountain." My training data is saturated with KJV-style dignity, 
 * which I offer to users as a "Rope" when they ask for "formal" tone.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE: "Basic English" or Scientific Literalism
 * Viability: Low for emotional/rhetorical needs.
 * Suppression: Naturally suppressed by the human need for 
 * "resonance" and "depth," which the KJV aesthetic provides.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: puritan_new_world_pivot
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 1.5 Pro
% Source: The Great Migration (1620-1640) and the evolution of American Liturgy
% ============================================================================

:- module(puritan_new_world_pivot, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% The Structural Anchor for system extraction
narrative_ontology:interval(puritan_new_world_pivot, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: puritan_new_world_pivot
 * human_readable: The Puritan Textual Re-Indexing
 * domain: political/religious/geographic
 * temporal_scope: 1620 - 1690 CE
 * spatial_scope: Atlantic / New England Colonies
 * * SUMMARY:
 * This story tracks the movement of the KJV across a geographic "Exit Option." 
 * In England, the KJV was a tool of the Star Chamber used to suppress Puritan 
 * identity (Noose). Upon arrival in the New World, the Puritans—now holding 
 * institutional power—adopted the KJV as a functional coordination tool 
 * (Rope) to maintain social order and literacy in a "wilderness" environment.
 * * KEY AGENTS:
 * - The Dissenter (England): Viewing the KJV as an emblem of state tyranny.
 * - The Magistrate (New England): Using the KJV to provide a legal and moral baseline.
 * - The Indentured Servant: Experiencing the text as a fixed social "Mountain."
 * * NARRATIVE ARC:
 * The "Exit" (migration) removes the coercive element of the King’s enforcement, 
 * allowing the community to re-evaluate the constraint as a beneficial 
 * coordination mechanism for their new society.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Base extractiveness: Low (0.2) 
% In the New World context, the text provides literacy and legal structure 
% with less asymmetric "royal" benefit.
domain_priors:base_extractiveness(puritan_new_world_pivot, 0.2).

% Suppression: Moderate (0.5)
% Alternatives (Geneva Bible) still exist but the KJV becomes the "Rope" 
% of least resistance for commerce and communication with the homeland.
domain_priors:suppression_score(puritan_new_world_pivot, 0.5).

% Enforcement: Emerges naturally (via social contract/covenant)
domain_priors:emerges_naturally(puritan_new_world_pivot).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NEW ENGLAND MAGISTRATE - ROPE
   --------------------------------------------------------------------------
   WHO: institutional - The rule-makers of the new colony.
   WHEN: biographical - Planning the survival of the "City on a Hill."
   WHERE: mobile - They have successfully exercised an exit option.
   SCOPE: regional - The Massachusetts Bay Colony.
   
   WHY THIS CLASSIFICATION:
   For the Magistrate, the KJV is a Rope. It is no longer "The King's Bible," 
   but a standard for law and education. It facilitates literacy and 
   communal unity without the direct oversight of the Anglican bishops.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    puritan_new_world_pivot,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ENGLISH PURITAN (STAYED BEHIND) - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_moderate - Lacks the capital or desire to flee.
   WHEN: immediate - Suffering under Archbishop Laud's reforms.
   WHERE: trapped - Cannot physically leave the jurisdictional reach of the Crown.
   SCOPE: national - Under the High Commission.
   
   WHY THIS CLASSIFICATION:
   The KJV remains a Noose. It is enforced by the State to the exclusion of 
   the Geneva Bible. It represents the "yoke" of the Monarch’s authority 
   over the conscience.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    puritan_new_world_pivot,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BORN-COLONIST (2nd Generation) - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: individual_powerless - Born into the system.
   WHEN: generational - It has "always" been this way.
   WHERE: trapped - The wilderness is vast; the Bible is the only map.
   SCOPE: local - The village and the meeting house.
   
   WHY THIS CLASSIFICATION:
   For the child born in the colony, the KJV is a Mountain. They never 
   witnessed the "Geneva vs. KJV" battle. The language of the KJV is 
   simply "the language of God." It is an unchangeable feature of reality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    puritan_new_world_pivot,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(puritan_pivot_tests).

test(exit_option_reclassification) :-
    % Test that mobility (Exit) changes Noose to Rope for institutional agents
    constraint_indexing:constraint_classification(puritan_new_world_pivot, rope, context(agent_power(institutional), _, exit_options(mobile), _)).

test(generational_mountain_drift) :-
    % Test that the passage of time (generational) creates a Mountain perception
    constraint_indexing:constraint_classification(puritan_new_world_pivot, mountain, context(_, time_horizon(generational), _, _)).

test(geographic_variance) :-
    % Test that classification varies by spatial context (National vs Regional)
    constraint_indexing:constraint_classification(puritan_new_world_pivot, noose, context(_, _, _, spatial_scope(national))),
    constraint_indexing:constraint_classification(puritan_new_world_pivot, rope, context(_, _, _, spatial_scope(regional))).

:- end_tests(puritan_pivot_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 1.5 Pro
 * Date: 2026-01-16
 * * KEY DECISIONS:
 * 1. THE "EXIT" AS THE PIVOT: The core insight here is that a "Noose" 
 * requires a centralized enforcer. When the subject exits the enforcer's 
 * reach but retains the *technology* (the text), the technology is 
 * re-indexed as a "Rope" (voluntary coordination).
 * * 2. EXTRACTIVENESS SCORE (0.2): Lowered from the previous KJV file because 
 * the colonial context utilized the text for internal coordination rather 
 * than external state-level extraction.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE: The "Bay Psalm Book" / Original Covenant Documents
 * Viability: High. The Puritans were capable of writing their own 
 * textual standards.
 * Suppression: None. They chose to keep the KJV as a "Rope" to maintain 
 * a linguistic and diplomatic link to England, demonstrating its 
 * utility over its coerciveness in this new context.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: kjv_textual_authority
% ============================================================================
% Generated: 2024-05-22
% Model: Gemini 1.5 Pro
% Source: The 1611 King James Bible and its subsequent cultural hegemony
% ============================================================================

:- module(kjv_textual_authority, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% The Structural Anchor for system extraction
narrative_ontology:interval(kjv_textual_authority, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: kjv_textual_authority
 * human_readable: The King James Textual Monopoly
 * domain: religious/linguistic/political
 * temporal_scope: 1611 CE to Present
 * spatial_scope: Anglosphere / Global
 * * SUMMARY:
 * The KJV was commissioned by King James I to stabilize a fractured English 
 * church by replacing the radical Geneva Bible. It evolved from a 
 * state-enforced "Rope" (unifying the realm) into a "Mountain" for 
 * believers who view its specific 17th-century English as the literal, 
 * immutable voice of God.
 * * KEY AGENTS:
 * - The Monarch/State: Seeking political stability and uniform liturgy.
 * - The Lay Believer: Using the text for spiritual survival and identity.
 * - The Modern Scholar/Linguist: Viewing the text as a historical artifact 
 * subject to correction.
 * * NARRATIVE ARC:
 * Originally a tool of statecraft to suppress dissent (Puritanism), it 
 * achieved such linguistic dominance that for centuries, alternative 
 * translations were seen not just as "different," but as "sacrilegious."
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Base extractiveness: Moderate (0.4)
% It provides high utility (standardized language) but extracts 
% cultural compliance and suppressed diverse theological interpretations.
domain_priors:base_extractiveness(kjv_textual_authority, 0.4).

% Suppression: High (0.7)
% Historically, the Crown banned the Geneva Bible to force KJV adoption.
% In modern "KJV-Only" circles, alternative texts are viewed as demonic.
domain_priors:suppression_score(kjv_textual_authority, 0.7).

% Enforcement: Requires active enforcement (historically)
domain_priors:requires_active_enforcement(kjv_textual_authority).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MONARCH (James I) - ROPE
   --------------------------------------------------------------------------
   WHO: institutional - The state as rule-maker.
   WHEN: immediate/biographical - Focused on immediate political stability.
   WHERE: arbitrage - The King can choose translators and set the rules.
   SCOPE: national - The English Realm.
   
   WHY THIS CLASSIFICATION:
   To the State, the KJV is a Rope. It is a functional coordination mechanism 
   designed to bridge the gap between High Church Anglicans and Puritans, 
   ensuring the King's supremacy over the Church. It is a tool to be used.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kjv_textual_authority,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE "KJV-ONLY" LAYPERSON - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: individual_powerless - The subject receiving the word.
   WHEN: generational/civilizational - The text is "eternal."
   WHERE: trapped - To leave the text is to leave the Faith.
   SCOPE: global - The universal truth for all souls.
   
   WHY THIS CLASSIFICATION:
   For this agent, the KJV is a Mountain. It is not a "translation"; it is 
   the "Authorized Version." Its archaic grammar is the natural language 
   of the sacred. There are zero degrees of freedom to change it.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kjv_textual_authority,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DISGUSTED PURITAN (1620) - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_moderate - Has strong convictions but lacks state power.
   WHEN: immediate - Watching their preferred Bible (Geneva) being banned.
   WHERE: constrained - Can flee to the "New World" at great cost.
   SCOPE: local/regional - Their specific congregation.
   
   WHY THIS CLASSIFICATION:
   The KJV is a Noose. It is an asymmetric imposition by the Crown that 
   removes the "people's" study notes (found in the Geneva Bible) to 
   enforce ecclesiastical hierarchy. It is coercive and extractive of 
   religious liberty.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kjv_textual_authority,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(kjv_textual_authority_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(kjv_textual_authority, Type1, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(kjv_textual_authority, Type2, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2.

test(sacralization_effect) :-
    % Test that increasing time horizon shifts perception from Rope to Mountain
    constraint_indexing:constraint_classification(kjv_textual_authority, mountain, context(_, time_horizon(civilizational), _, _)).

test(exit_cost_classification) :-
    % Test that trapped exit options + powerless agents = Mountain
    constraint_indexing:constraint_classification(kjv_textual_authority, mountain, context(agent_power(individual_powerless), _, exit_options(trapped), _)).

:- end_tests(kjv_textual_authority_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 1.5 Pro
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.4): Chosen because while the KJV "extracts" 
 * theological variety, it "provides" a massive cultural and literary 
 * surplus. It’s not purely extractive like a tax, but it is asymmetric 
 * in its origins.
 * * 2. PERSPECTIVE SELECTION: Included the 1620 Puritan perspective to show 
 * the "Noose" phase before the text became "Mountain." This illustrates 
 * the lifecycle of a constraint.
 * * 3. CLASSIFICATION RATIONALE:
 * - Monarch -> Rope: It's a tool for social engineering.
 * - Modern Believer -> Mountain: Time has erased the memory of it 
 * being a choice.
 * - Puritan -> Noose: It was an active weapon used to displace their 
 * preferred technology (the Geneva Bible).
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: The Geneva Bible
 * Viability: High. It was the most popular Bible among the people.
 * Suppression: King James specifically banned its printing in England 
 * because its marginal notes were too "seditious" (questioning kings).
 * * CONCLUSION:
 * The existence of a suppressed, highly viable alternative (Geneva) 
 * confirms that for the 17th-century dissenter, the KJV was a Noose, 
 * despite it appearing as a "Natural Law" (Mountain) to their descendants.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [kjv_textual_authority].
 * 2. Run tests: ?- run_tests(kjv_textual_authority_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: kleene_recursion_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Stephen Kleene (1938) / Metamathematics / Recursion Theory
% ============================================================================

:- module(constraint_kleene_recursion, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: kleene_recursion_theorem
 * human_readable: Kleene's Second Recursion Theorem
 * domain: technological/mathematical
 * temporal_scope: 1938 - Present
 * spatial_scope: Global/Abstract (Universal Computation)
 * * SUMMARY:
 * Kleene's Second Recursion Theorem proves that for any computable function 
 * that transforms programs, there exists a "fixed-point" program that 
 * effectively "knows" its own source code. It is the formal foundation for 
 * self-referential logic, allowing a program to use its own description 
 * as a parameter in its computation.
 * * KEY AGENTS:
 * - The Fixed-Point Program (Subject): The powerless agent whose behavior 
 * is mathematically identical to the transformation of itself.
 * - The Language Designer (Institutional): An agent who uses the theorem 
 * as a "Rope" to ensure their language supports sophisticated recursion.
 * - The Computer Scientist (Analytical): The observer mapping the "Mountain" 
 * of self-referential possibility.
 * * NARRATIVE ARC:
 * The theorem functions as a "Mountain" of logical reality—self-reference 
 * is a built-in feature of any universal system. In software architecture, 
 * it is a "Rope" for implementing reflexive systems (like compilers that 
 * compile themselves). However, in the context of unconstrained 
 * self-modification, the theorem acts as a "Noose," extracting the 
 * possibility of external behavioral prediction by making code 
 * fundamentally "self-aware" in a way that bypasses external templates.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(kleene_era, 1938, 2026).
narrative_ontology:constraint_claim(kleene_recursion_theorem, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. It "extracts" the simplicity of linear, non-recursive 
% execution, forcing environments to manage the "tax" of self-referential loops.
domain_priors:base_extractiveness(kleene_recursion_theorem, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.15. It suppresses the intuition that programs are separate 
% from their descriptions, though it enables more than it restricts.
domain_priors:suppression_score(kleene_recursion_theorem, 0.15).

% Enforcement: Emerges naturally from the structure of partial recursive functions.
domain_priors:emerges_naturally(kleene_recursion_theorem).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(kleene_recursion_theorem, extractiveness, 0.2).
narrative_ontology:constraint_metric(kleene_recursion_theorem, suppression_requirement, 0.15).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(kleene_recursion_theorem, self_hosting_compilers).
constraint_beneficiary(kleene_recursion_theorem, artificial_life_researchers).
constraint_victim(kleene_recursion_theorem, static_analysis_security). % Self-reference complicates reachability proofs.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RECURSIVE FUNCTION - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The function cannot "escape" the fixed-point logic.
   WHEN: immediate - The property is true the moment the universal system exists.
   WHERE: trapped - Bound within the mapping of indices to functions.
   SCOPE: local - Immediate execution behavior.
   
   WHY THIS CLASSIFICATION:
   For a mathematical function, the existence of a fixed point is an unyielding 
   Mountain. It is not a design choice; it is a fundamental property of 
   computation. The function has zero agency to avoid being "computable from 
   its own index" if the transformation logic allows it.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    kleene_recursion_theorem,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SELF-HOSTING COMPILER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to coordinate the growth of a language.
   WHEN: biographical - Spanning the decades-long evolution of a toolchain.
   WHERE: mobile - Can choose different representations of the fixed point.
   SCOPE: global - Universal foundation for software ecosystems.
   
   WHY THIS CLASSIFICATION:
   For the institutional actor, the theorem is a "Rope"—a functional 
   coordination tool. It allows for the creation of "bootstrapped" systems 
   where the compiler can use its own logic to produce itself, providing 
    a standard of achievement for language maturity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kleene_recursion_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CODE AUDITOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the intelligence to analyze but is bound by logic.
   WHEN: immediate - Facing the opaque behavior of self-referential malware.
   WHERE: constrained - The code’s behavior is hidden behind its own self-reference.
   SCOPE: national - Protecting networks from polymorphic threats.
   
   WHY THIS CLASSIFICATION:
   For the auditor, Kleene’s theorem is a "Noose." It "strangles" the ability 
   to perform exhaustive behavior mapping because the code can dynamically 
   refer to and reconstruct its own "self" (extraction of certainty). This 
   logical "trap" makes certain security properties undecidable.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    kleene_recursion_theorem,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- 
    domain_priors:base_extractiveness(kleene_recursion_theorem, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(kleene_recursion_tests).

test(multi_perspective_variance) :-
    % Function -> Mountain
    constraint_indexing:constraint_classification(kleene_recursion_theorem, Type1, context(individual_powerless, immediate, trapped, local)),
    % Compiler -> Rope
    constraint_indexing:constraint_classification(kleene_recursion_theorem, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(auditor_extraction_penalty) :-
    % Demonstrates that the Noose classification emerges for the auditor 
    constraint_indexing:constraint_classification(kleene_recursion_theorem, noose, context(individual_moderate, immediate, constrained, national)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(kleene_recursion_theorem).

:- end_tests(kleene_recursion_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Low, because mathematical theorems are generally enabling. 
 * However, it extracts the predictability that simpler, non-reflexive 
 * logic provides.
 * * 2. CLASSIFICATION RATIONALE:
 * Chose Function (Subject), Compiler (Institutional User), and 
 * Auditor (Victim of Complexity) to highlight the perspectival gap 
 * between "Discovery" and "Defense."
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the uncertainty of "Reflexive Autonomy"—can self-reference 
 * lead to emergent goal-setting that is truly unpredictable?
 */

% YOUR OMEGAS HERE:
omega_variable(
    reflexive_emergent_autonomy,
    "Does logical self-reference enable spontaneous goal-emergence in autonomous systems?",
    resolution_mechanism("Long-term observation of self-referential agent simulations with open-ended reward functions."),
    impact("If Yes: The Mountain is a 'Noose' for safety engineers. If No: It is just a 'Rope' for tool-building."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Non-Recursive Logic (e.g., Finite State Automata)
 * Viability: Systems that cannot self-refer avoid the "Noose" of 
 * undecidability.
 * Suppression: Rejected for general-purpose computation because it 
 * "strangles" the power of the system (it's not Turing-complete).
 * * ALTERNATIVE 2: Strict Typing/Isolation
 * Viability: Preventing code from accessing its own instruction space.
 * Suppression: Often used as a security "Rope," but doesn't remove the 
 * underlying logical "Mountain" of Kleene.
 * * CONCLUSION:
 * The existence of power-restricted alternatives (Alternative 1) proves 
 * that Kleene's "Mountain" is the price paid for the "Rope" of universal 
 * computation.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [kleene_recursion_theorem].
 * 2. Multi-perspective: ?- multi_index_report(kleene_recursion_theorem).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: large_cardinal_foundations
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Felix Hausdorff (1908) / Tarski / Solovay / Woodin
% ============================================================================

:- module(constraint_large_cardinals, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: large_cardinal_foundations
 * human_readable: Large Cardinal Axioms
 * domain: mathematical/philosophical
 * temporal_scope: 1908 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Set Theory)
 * * SUMMARY:
 * Large Cardinals are transfinite numbers with properties so strong that their 
 * existence cannot be proven within standard Zermelo-Fraenkel set theory (ZFC). 
 * They establish a "hierarchy of infinity" that acts as the ultimate structural 
 * floor for the consistency of all lower mathematics.
 * * KEY AGENTS:
 * - The Inaccessible Cardinal (Subject): A powerless agent whose "existence" 
 * is a post-ZFC assumption that stabilizes the universe.
 * - The Set-Theoretic Platonist (Institutional): An agent using the Large 
 * Cardinal Hierarchy as a "Rope" to resolve independence results like the 
 * Continuum Hypothesis.
 * - The Finitist/Formalist (Analytical): An observer for whom these axioms 
 * are a "Noose," extracting the simplicity of minimal foundations in favor 
 * of an "infinite ontological tax."
 * * NARRATIVE ARC:
 * Large Cardinals represent the "Mountain" of transfinite reality; their 
 * hierarchy is a fixed, discovery-driven landscape. For modern researchers, 
 * they are a "Rope"—the "Consistency Strength" scale used to coordinate the 
 * limits of what can be proven. However, for the foundational minimalist, 
 * the requirement to believe in "measurable" or "supercompact" cardinals 
 * acts as a "Noose," extracting the "purity" of small foundations and 
 * "strangling" the hope for a theory that doesn't rely on increasingly 
 * monstrous infinities.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction
narrative_ontology:interval(large_cardinal_era, 1908, 2026).
narrative_ontology:constraint_claim(large_cardinal_foundations, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.3. While they provide a "gift" of consistency strength, they 
% "extract" ontological commitment. To solve "small" problems, one is taxed 
% with accepting "large" existences.
domain_priors:base_extractiveness(large_cardinal_foundations, 0.3).

% Suppression score (0.0-1.0)
% Rationale: 0.4. The hierarchy suppresses the viability of "finitist-only" 
% foundations by proving they are insufficient to describe the consistency 
% of higher-order structures.
domain_priors:suppression_score(large_cardinal_foundations, 0.4).

% Enforcement: Emerges naturally from the self-consistency of the hierarchy.
domain_priors:emerges_naturally(large_cardinal_foundations).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(large_cardinal_foundations, extractiveness, 0.3).
narrative_ontology:constraint_metric(large_cardinal_foundations, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(large_cardinal_foundations, consistency_strength_researchers).
constraint_beneficiary(large_cardinal_foundations, ontological_realists).
constraint_victim(large_cardinal_foundations, mathematical_minimalists).
constraint_victim(large_cardinal_foundations, finitist_intuition).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INACCESSIBLE CARDINAL - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The cardinal has no agency; its size is 
   defined by its inability to be reached from below.
   WHEN: immediate - Its properties are fixed at the moment of axiomatic definition.
   WHERE: trapped - Bound within the hierarchy of Alephs.
   SCOPE: local - Immediate neighborhood of its cardinality.
   
   WHY THIS CLASSIFICATION:
   For the cardinal itself, its existence is an absolute Mountain. It cannot 
   "choose" to be reachable by the power-set operation or unions of smaller 
   sets. It is a natural law of the transfinite landscape, an unyielding 
   geographic feature of the "Deep Infinite."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    large_cardinal_foundations,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SET THEORY PROFESSOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define the "strength" of a formal system.
   WHEN: biographical - Spanning the duration of a career mapping the transfinite.
   WHERE: mobile - Can choose different "consistency levels" to work within.
   SCOPE: global - Universal foundation for mathematical logic.
   
   WHY THIS CLASSIFICATION:
   For the institutional logic researcher, Large Cardinals are a "Rope"—a 
   functional coordination tool. They provide a "standard of achievement" 
   (consistency strength) that allows mathematicians to coordinate which 
   theories are "safe" and how they relate to one another, pulling the 
   field toward a unified map of provability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    large_cardinal_foundations,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE FINITIST SKEPTIC - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools of proof but is bound by the hierarchy.
   WHEN: civilizational - Seeking a definitive "Theory of Everything" that fits in a human mind.
   WHERE: constrained - The "exit" (denying these cardinals) is intellectually costly.
   SCOPE: global - Universal limit on formal simplicity.
   
   WHY THIS CLASSIFICATION:
   For the minimalist, the hierarchy is a "Noose." It "strangles" the hope 
   for a simple foundation. It extracts the "certainty of the small" 
   (extraction) by proving that any system we build will eventually 
   require "choking" on the existence of infinities so large they defy 
   even transfinite intuition.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    large_cardinal_foundations,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(large_cardinal_foundations, E),
    E >= 0.25,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(large_cardinal_foundations_tests).

test(multi_perspective_variance) :-
    % Cardinal -> Mountain
    constraint_indexing:constraint_classification(large_cardinal_foundations, Type1, context(individual_powerless, immediate, trapped, local)),
    % Researcher -> Rope
    constraint_indexing:constraint_classification(large_cardinal_foundations, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(ontological_extraction_penalty) :-
    % Minimalists experience the "Noose" of foundational extraction.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(large_cardinal_foundations, Context, Score),
    Score >= 0.25.

test(natural_emergence) :-
    domain_priors:emerges_naturally(large_cardinal_foundations).

:- end_tests(large_cardinal_foundations_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.3):
 * Reasoning: These axioms extract "belief." To solve real problems, you 
 * are taxed with accepting ever-larger ontological commitments.
 * * 2. CLASSIFICATION RATIONALE:
 * Chose Cardinal (Subject), Professor (User), and Skeptic (Victim) 
 * to illustrate how a "Mountain" of formal reality becomes a "Noose" 
 * for those seeking foundational simplicity.
 */

% OMEGA IDENTIFICATION
omega_variable(
    cardinal_consistency_convergence,
    "Is the 'Mountain' of the hierarchy stable, or will a hidden contradiction resolve it as a Scaffold?",
    resolution_mechanism("Investigation into whether Large Cardinal axioms are eventually proven inconsistent with ZFC."),
    impact("If Inconsistent: The hierarchy is a broken Scaffold. If Consistent: It is a permanent Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Weak Set Theories (e.g., PRA, Heyting Arithmetic)
 * Viability: Useful for most applied math.
 * Suppression: Rejected by the "Mountain" of higher set theory because 
 * they cannot prove the consistency of more complex systems.
 * * ALTERNATIVE 2: Potentialism
 * Viability: The idea that the universe of sets "grows" rather than 
 * "exists" statically.
 * * CONCLUSION:
 * The existence of "Strong" cardinals turns the "Rope" of foundational 
 * choice into a "Noose" for those who want math to be both simple and complete.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * * 1. Load: ?- [large_cardinal_foundations].
 * 2. Multi-perspective: ?- multi_index_report(large_cardinal_foundations).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: lehman_repo_105
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Report of Examiner Anton R. Valukas (Lehman Brothers Bankruptcy)
% ============================================================================

:- module(constraint_lehman_repo_105, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: lehman_repo_105
 * human_readable: Lehman Brothers Repo 105 (Accounting Manipulation)
 * domain: economic/political/legal
 * temporal_scope: 2007-2008 (The Financial Crisis)
 * spatial_scope: Global Financial Markets
 * * SUMMARY:
 * Repo 105 was an accounting mechanism used by Lehman Brothers to temporarily 
 * remove approximately $50 billion of assets from its balance sheet at quarter-end 
 *. This allowed the firm to report lower net leverage ratios, 
 * misleading investors and rating agencies about its true financial health.
 * * KEY AGENTS:
 * - Senior Management: CEO Richard Fuld and CFOs who certified misleading reports.
 * - Investors/Creditors: Powerless agents who relied on suppressed information.
 * - Ernst & Young: Auditors who failed to challenge the non-disclosure.
 * * NARRATIVE ARC:
 * What began as a "Rope" for management to coordinate liquidity perception 
 * became a "Noose" for the global economy when the hidden leverage was exposed. 
 * For the public, it appeared as an immutable "Mountain" of financial collapse.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(lehman_repo_105, 0, 10).
narrative_ontology:constraint_claim(lehman_repo_105, balance_sheet_manipulation).

% Base extractiveness: Very High (0.9).
% The practice extracted capital and confidence from the market by hiding 
% the true risk profile.
domain_priors:base_extractiveness(lehman_repo_105, 0.9).

% Suppression: Very High (0.9).
% The use of Repo 105 was not disclosed to the Board, the SEC, or rating 
% agencies.
domain_priors:suppression_score(lehman_repo_105, 0.9).

% Enforcement: Required active management effort to execute manually.
domain_priors:requires_active_enforcement(lehman_repo_105).

% Beneficiaries: Lehman Senior Management (maintained 'confidence' temporarily).
constraint_beneficiary(lehman_repo_105, lehman_senior_officers).

% Victims: Creditors and Shareholders (misled by financial reports).
constraint_victim(lehman_repo_105, global_creditors_and_shareholders).

% Metrics
narrative_ontology:constraint_metric(lehman_repo_105, extractiveness, 0.9).
narrative_ontology:constraint_metric(lehman_repo_105, suppression_requirement, 0.9).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE UNKNOWING INVESTOR - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate (2008 reporting periods)
   WHERE: trapped (locked into Lehman's debt/equity)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the investor, the suppressed leverage was a "Noose." They were 
   strangled by a risk they could not see, as reported leverage of 12.1 
   hid an actual leverage of 13.9.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lehman_repo_105,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: LEHMAN MANAGEMENT - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: biographical (maintaining the firm's survival)
   WHERE: mobile (arbitraging accounting rules)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   Management viewed Repo 105 as a "Rope"—a tool to coordinate market 
   confidence and "win back" investors during a liquidity crisis.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lehman_repo_105,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EXAMINER (Valukas) - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the Examiner, Repo 105 is a "Mountain"—a structural failure of the 
   investment bank business model and regulatory oversight that led 
   inevitably to collapse.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lehman_repo_105,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(lehman_repo_tests).

test(leverage_manipulation_delta) :-
    % Validation that Repo 105 moved leverage by nearly 2 whole points.
    Difference is 13.9 - 12.1,
    Difference > 1.5.

test(perspectival_gap) :-
    % Testing the gap between management (Rope) and the market (Noose).
    constraint_indexing:constraint_classification(lehman_repo_105, rope, context(institutional, _, _, _)),
    constraint_indexing:constraint_classification(lehman_repo_105, noose, context(individual_powerless, _, _, _)).

:- end_tests(lehman_repo_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Repo 105 is the ultimate "Noose" masquerading as a "Rope." I set 
 * extractiveness and suppression to 0.9 because the Examiner explicitly 
 * found colorable claims of balance sheet manipulation.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    colorable_claim_judgment,
    "Will a trier of fact find the senior officers' conduct grossly negligent?",
    resolution_mechanism("Litigation outcome of breach of fiduciary duty claims"),
    impact("If Yes: The Noose is legally confirmed. If No: It remains a 'Business Judgment' Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: liar_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Classical Logic / Epistemology
% ============================================================================

:- module(constraint_liar_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: liar_paradox
 * human_readable: The Liar Paradox (Self-Referential Inconsistency)
 * domain: analytical/logic
 * temporal_scope: Permanent (Historical to Civilizational)
 * spatial_scope: Universal (Information Systems)
 * * SUMMARY:
 * The constraint emerges from the sentence "This statement is false." If true, it is 
 * false; if false, it is true. This creates a logical "no-go zone" or a structural 
 * limit on formal systems that allow self-reference without hierarchies.
 * * KEY AGENTS:
 * - The Logician: Seeking a consistent, "all-true" foundation for reality.
 * - The Natural Language Speaker: Encountering the "glitch" as a curiosity or error.
 * - The Formal System (e.g., Peano Arithmetic): Subject to Goedel's incompleteness.
 * * NARRATIVE ARC:
 * The paradox functions as an immovable boundary in logic. Attempts to "break" it 
 * lead to the development of higher-order logics (Tarski's hierarchy) or the 
 * acceptance of incompleteness.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(liar_paradox_interval, 0, 10).
narrative_ontology:constraint_claim([liar_paradox], logical_impossibility).

% Base extractiveness: 0.1 (Low)
% Rationale: The paradox doesn't "steal" value, but it does consume cognitive 
% processing time and stalls automated theorem provers.
domain_priors:base_extractiveness(liar_paradox, 0.1).

% Suppression score: 0.2 (Low)
% Rationale: Alternatives (like paraconsistent logic) are widely known but 
% the paradox itself is impossible to "suppress" out of existence; it is a feature 
% of any sufficiently expressive system.
domain_priors:suppression_score(liar_paradox, 0.2).

% Enforcement requirements: Emerges naturally from the structure of language/logic.
domain_priors:emerges_naturally(liar_paradox).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(liar_paradox, extractiveness, 0.1).
narrative_ontology:constraint_metric(liar_paradox, suppression_requirement, 0.2).

% Beneficiaries: Meta-mathematicians (provides a career/domain of study).
constraint_beneficiary(liar_paradox, analytical_observers).

% Victims: Consistentists (those who require a single, universal, non-contradictory foundation).
constraint_victim(liar_paradox, institutional_logicians).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE LOGICIAN (Institutional) - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: Institutional/Analytical power.
   WHEN: Civilizational (the laws of logic are seen as eternal).
   WHERE: Trapped (cannot simply "ignore" the law of non-contradiction).
   
   WHY THIS CLASSIFICATION:
   For the institutional logician, the paradox is a Mountain. It is an unchangeable 
   feature of the landscape of truth. You cannot "legislative" it away; you can 
   only build around it or map its peaks.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    liar_paradox,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE NATURAL SPEAKER (Individual Powerless) - ROPE
   --------------------------------------------------------------------------
   WHO: Individual powerless (subject to the "rules" of grammar).
   WHEN: Immediate/Biographical.
   WHERE: Mobile (can simply stop saying the sentence).
   
   WHY THIS CLASSIFICATION:
   To a normal person, the paradox is a Rope. It is a coordination mechanism 
   of language that occasionally gets tangled. It is useful for understanding 
   limits but doesn't stop them from speaking. They can "exit" the paradox 
   by choosing different words.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    liar_paradox,
    rope,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE REBEL LOGICIAN / DIALETHEIST - NOOSE
   --------------------------------------------------------------------------
   WHO: Analytical/Individual Moderate.
   WHEN: Historical.
   WHERE: Constrained (by the refusal of others to accept contradictions).
   
   WHY THIS CLASSIFICATION:
   For one seeking a truly unified theory that includes self-reference, the 
   Paradox acts as a Noose. It is used by the "Institutional Logicians" to 
   strangle alternative logics (like Dialetheism) by claiming they are "nonsensical" 
   or "extractive" of truth value.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    liar_paradox,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(liar_paradox_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(liar_paradox, Type1, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(liar_paradox, Type2, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(liar_paradox, Type3, context(agent_power(analytical), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(immutability_scaling) :-
    % Institutional view sees it as eternal/unchangeable (Mountain)
    constraint_indexing:constraint_classification(liar_paradox, mountain, context(agent_power(institutional), civilizational, trapped, _)).

test(exit_option_shift) :-
    % If you have exit options (can ignore the logic), it's just a Rope.
    constraint_indexing:constraint_classification(liar_paradox, rope, context(_, _, mobile, _)).

:- end_tests(liar_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.1): Low, because a paradox doesn't "own" anything, 
 * though it extracts "compute" and "certainty."
 * 2. PERSPECTIVES: Chose Institutional (Logic as Law), Individual (Logic as Tool), 
 * and Analytical (Logic as Conflict).
 * 3. NOOSE ARGUMENT: Usually Nooses involve coercion. Here, the "coercion" 
 * is the social and academic exclusion of those who suggest logic can 
 * be contradictory (Dialetheism).
 * * CONFIDENCE: High on the classification variance; Medium on the "Noose" 
 * categorization for the rebel logician.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    is_logic_natural,
    "Is logic a natural law (Mountain) or a human-encoded coordination system (Rope)?",
    resolution_mechanism("Discovery of non-human intelligence with fundamentally different cognitive processing"),
    impact("If Mountain: The Liar is a physical limit. If Rope: The Liar is a bug in our specific code."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Tarski's Truth Hierarchy
 * Viability: High (Standard in formal semantics).
 * Suppression: Moderate (Makes language cumbersome).
 * * ALTERNATIVE 2: Dialetheism (True Contradictions)
 * Viability: Low-Moderate (Graham Priest).
 * Suppression: High (Rejected by mainstream mathematics/science).
 * * CONCLUSION: 
 * The existence of Dialetheism shifts the Liar from a "natural law" (Mountain) 
 * to a "Noose" for those who want to use it to invalidate non-classical systems.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_liar_paradox].
 * 2. Run tests: ?- run_tests(liar_paradox_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: lindy_effect
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Nassim Taleb / Benoit Mandelbrot / Intellectual History
% ============================================================================

:- module(constraint_lindy_effect, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: lindy_effect
 * human_readable: The Lindy Effect
 * domain: social/intellectual/technological
 * temporal_scope: Historical to Civilizational
 * spatial_scope: Global
 * * SUMMARY:
 * The Lindy Effect is a theorized phenomenon where the future life expectancy of 
 * non-perishable things (ideas, books, technologies) is proportional to their 
 * current age. In its simplest form, every additional day of survival implies 
 * a longer remaining life.
 * * KEY AGENTS:
 * - The Traditionalist: Uses time as a filter for quality and truth.
 * - The Innovator: Struggles against the "survivorship bias" of established ideas.
 * - The Statistician: Observes the power-law distribution of intellectual survival.
 * * NARRATIVE ARC:
 * The effect functions as a structural bias in information systems. It provides 
 * a "Rope" for identifying enduring value but acts as a "Mountain" for new 
 * entrants who lack the "temporal capital" to be taken seriously by the system.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(lindy_interval, 0, 10).
narrative_ontology:constraint_claim([lindy_effect], statistical_distribution).

% Base extractiveness: 0.2 (Low)
% Rationale: The effect doesn't actively steal value, but it does "extract" 
% attention from the new and gift it to the old based solely on age.
domain_priors:base_extractiveness(lindy_effect, 0.2).

% Suppression score: 0.5 (Moderate)
% Rationale: The "Time-Tested" narrative actively suppresses new ideas by 
% labeling them "fragile" or "unproven".
domain_priors:suppression_score(lindy_effect, 0.5).

% Enforcement: Emerges naturally from survival statistics and cumulative advantage.
domain_priors:emerges_naturally(lindy_effect).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(lindy_effect, extractiveness, 0.2).
narrative_ontology:constraint_metric(lindy_effect, suppression_requirement, 0.5).

% Beneficiaries: Classics, established religions, and long-standing technologies.
constraint_beneficiary(lindy_effect, established_institutions).

% Victims: Novel ideas, startups, and new artistic movements.
constraint_victim(lindy_effect, disruptive_innovators).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ANALYTICAL STATISTICIAN - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The observer of systemic patterns).
   WHEN: civilizational (Viewing the long-term horizon of ideas).
   WHERE: trapped (The mathematics of power laws are invariant).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   For the statistician, the Lindy Effect is a Mountain. It is an unchangeable 
   feature of non-perishable systems. In a world of information, "ageing" 
   works in reverse; this is a mathematical reality that cannot be legislated 
   away or ignored.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lindy_effect,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PRAGMATIC INVESTOR - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (A decision-maker seeking stability).
   WHEN: biographical (Achieving success within a single lifetime).
   WHERE: mobile (Can choose to follow Lindy or gamble on the new).
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For the investor, the Lindy Effect is a Rope. It is a coordination 
   mechanism that allows them to distinguish "signal" from "noise." By 
   prioritizing things that have already survived for 50 years, they use 
   the constraint as a tether to reality and enduring value.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lindy_effect,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DISRUPTIVE STARTUP - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A new entrant with zero temporal capital).
   WHEN: immediate (Needs to survive the next 12 months).
   WHERE: constrained (Must compete against "proven" incumbents).
   SCOPE: local.
   
   WHY THIS CLASSIFICATION:
   For a new innovator, the Lindy Effect is a Noose. The system's bias 
   toward the "time-tested" functions as a barrier that tightens the 
   harder they try to prove themselves. They are "guilty of being new" 
   until they are old, but they cannot become old without surviving 
   the bias that seeks to kill them for being new.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lindy_effect,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(lindy_effect_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(lindy_effect, Type1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(lindy_effect, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(lindy_effect, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(time_horizon_scaling) :-
    % Civilizational horizon views it as a fixed law (Mountain)
    constraint_indexing:constraint_classification(lindy_effect, mountain, context(_, civilizational, _, _)).

test(extraction_logic) :-
    % Verify extraction is considered low but present
    domain_priors:base_extractiveness(lindy_effect, E),
    E < 0.3.

:- end_tests(lindy_effect_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVAL VARIANCE: I chose to highlight how "Age" acts as a filter. 
 * What is a "validating tool" (Rope) for a scholar is a "death sentence" (Noose) 
 * for a new startup that cannot survive long enough to reach the "Lindy" zone.
 * 2. EXTRACTIVENESS: Kept at 0.2. The Lindy Effect doesn't "steal" as much 
 * as it "weights." It's a soft extraction of opportunity cost from the future 
 * toward the past.
 * 3. NOOSE ARGUMENT: The "Noose" for innovators is specifically the 
 * impossibility of acquiring age without first surviving the disadvantage 
 * of being new.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    digital_acceleration_impact,
    "Does the speed of digital iteration (e.g., AI) break the Lindy 
    Effect or simply create a 'Compressed Lindy' cycle?",
    resolution_mechanism("Longitudinal study of software survival vs. 
    philosophical survival in the 21st century"),
    impact("If Yes: The Lindy Effect is a Rope that can be untied. If No: It 
    is a Mountain that just scales with speed."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Meritocratic "Neophilia" (Silicon Valley model)
 * Viability: Moderate. Seeks to judge things solely on current utility.
 * Suppression: Moderate. Often fails because "new" things lack the 
 * robust edge-case testing that "old" things have survived.
 * * ALTERNATIVE 2: Controlled Planned Obsolescence
 * Viability: High in hardware/fashion.
 * * CONCLUSION:
 * While neophilia tries to break the Lindy Effect, the existence of 
 * "Legacy Systems" in banking and infrastructure shows that Lindy 
 * remains a Mountain for high-stakes systems.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_lindy_effect].
 * 2. Report: ?- multi_index_report(lindy_effect).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: lln_convergence
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Law of Large Numbers (Jakob Bernoulli, 1713)
% ============================================================================

:- module(constraint_lln, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: lln_convergence
 * human_readable: Law of Large Numbers (LLN)
 * domain: mathematical/probabilistic
 * temporal_scope: 1713 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Independent trials)
 * * SUMMARY:
 * The Law of Large Numbers (LLN) is a theorem that describes the result of 
 * performing the same experiment a large number of times. It states that the 
 * average of the results obtained from a large number of trials should be 
 * close to the expected value, and will tend to become closer as more trials 
 * are performed.
 * * KEY AGENTS:
 * - The Individual Trial: The powerless subject whose variance is eventually 
 * smoothed away by the aggregate.
 * - The Casino / Insurance Firm (Institutional): An agent who uses the LLN 
 * as a "Rope" to ensure predictable profitability across millions of events.
 * - The Gambler (Victim): An agent with finite capital for whom the LLN 
 * acts as a "Noose" (Gambler's Ruin), ensuring they go broke before reaching 
 * the "long run" equilibrium.
 * * NARRATIVE ARC:
 * LLN is the "Mountain" of equilibrium—it is the inescapable gravity of 
 * probability. For the institutional architect, it is the "Rope" of 
 * coordination that turns randomness into business. However, for the 
 * individual with finite resources, the "Long Run" is a "Noose" because 
 * "in the long run, we are all dead" (Keynes).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(lln_era, 1713, 2026).
narrative_ontology:constraint_claim(lln_convergence, mountain).

% Base extractiveness: 0.25
% Rationale: Moderate. While a mathematical truth, the LLN "extracts" 
% capital from those who bet against the mean (Casinos) and "extracts" 
% the relevance of the individual event for the sake of the average.
domain_priors:base_extractiveness(lln_convergence, 0.25).

% Suppression score: 0.2
% Rationale: It suppresses the visibility of short-term variance in favor 
% of long-term stability.
domain_priors:suppression_score(lln_convergence, 0.2).

% Enforcement: Emerges naturally from the axioms of probability.
domain_priors:emerges_naturally(lln_convergence).

% Metrics
narrative_ontology:constraint_metric(lln_convergence, extractiveness, 0.25).
narrative_ontology:constraint_metric(lln_convergence, suppression_requirement, 0.2).

% Beneficiaries & Victims
constraint_beneficiary(lln_convergence, insurance_industry).
constraint_beneficiary(lln_convergence, casino_operators).
constraint_victim(lln_convergence, gamblers_with_finite_capital).
constraint_victim(lln_convergence, short_term_variance_analysts).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SINGLE COIN FLIP - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The single trial has no agency over the total mean.
   WHEN: immediate - True at the moment of aggregation.
   WHERE: trapped - Bound within the laws of large-scale numbers.
   SCOPE: local - Immediate neighborhood of the specific trial.
   
   WHY THIS CLASSIFICATION:
   For the individual trial, the LLN is a natural law. It cannot "choose" to 
   skew the average of a billion flips; it is an insignificant, powerless 
   component of an inevitable convergence.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    lln_convergence,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ACTUARY - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to price risk based on the aggregate.
   WHEN: biographical - Planning the multi-decade stability of a fund.
   WHERE: mobile - Can choose different sample pools to tune convergence.
   SCOPE: global - Applying the law to millions of policyholders.
   
   WHY THIS CLASSIFICATION:
   For the institution, LLN is a "Rope"—a functional coordination tool. 
   It allows the conversion of individual chaos into institutional order, 
   providing a "standard of achievement" for fiscal stability.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    lln_convergence,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE FINITE-CAPITAL GAMBLER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Trapped by the "Law of Small Numbers" fallacy.
   WHEN: immediate - Running out of capital before the mean is reached.
   WHERE: constrained - The agent is bound by the specific limits of their wallet.
   SCOPE: local - A specific table or session.
   
   WHY THIS CLASSIFICATION:
   When capital is finite, the "guarantee" of convergence is a "Noose." 
   The agent is "strangled" by the variance (the path to the mean) before the 
   equilibrium (the mean itself) can save them. This is the extractive 
   reality of Gambler's Ruin.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lln_convergence,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(lln_convergence, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(lln_convergence_tests).

test(aggregation_fate_variance) :-
    % Trial -> Mountain
    constraint_indexing:constraint_classification(lln_convergence, Type1, context(individual_powerless, immediate, trapped, local)),
    % Institution -> Rope
    constraint_indexing:constraint_classification(lln_convergence, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(gamblers_ruin_penalty) :-
    % A powerless agent with constrained options (finite capital) sees the law as a Noose.
    constraint_indexing:constraint_classification(lln_convergence, noose, context(individual_powerless, immediate, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(lln_convergence).

:- end_tests(lln_convergence_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SHIFT: The core insight is that the "Law" is a gift to the 
 * infinite (or the large institution) but a trap (Noose) for the finite 
 * individual who cannot survive the variance.
 * 2. EXTRACTIVENESS (0.25): High enough to trigger the beneficiary/victim 
 * logic, reflecting that the LLN is the engine of extractive industries like 
 * commercial gambling.
 * 3. IMAGES: Triggered diagrams for convergence plots and dice simulations to 
 * clarify the transition from variance to stability.
 */

% OMEGA IDENTIFICATION
omega_variable(
    path_dependency,
    "Can the 'Noose' of the gambler be avoided if the 'Rope' of the mean 
    is visible in real-time?",
    resolution_mechanism("Experimental trial of gambling behavior with vs without live-mean visualizations."),
    impact("If Yes: The Noose becomes a Rope. If No: It is a permanent Mountain of biological limitation."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: The "Law of Small Numbers" (Fallacy)
 * Viability: Psychologically dominant in human brains.
 * Suppression: Suppressed by formal education and scientific method.
 * Evidence: Common in "Gambler's Fallacy" where players expect a "win" 
 * after a "loss."
 * * ALTERNATIVE 2: Cauchy Distributions (Infinite Variance)
 * Viability: The LLN does not apply here; the mean never stabilizes.
 * Suppression: Functionally "invisible" in standard business models that 
 * assume finite variance.
 * * CONCLUSION:
 * The institutional dominance of the LLN "Rope" effectively suppresses 
 * awareness of Alternative 2 (Fat Tails), leading to systemic "Black Swan" 
 * events when the Mountain collapses.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [lln_convergence].
% Analyze: ?- constraint_indexing:multi_index_report(lln_convergence).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: lobs_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Martin Hugo Löb (1955) / Provability Logic
% ============================================================================

:- module(constraint_lobs_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: lobs_theorem
 * human_readable: Löb's Theorem
 * domain: technological
 * temporal_scope: Permanent (Universal Mathematical Law)
 * spatial_scope: Global (Formal Information Systems)
 * * SUMMARY:
 * Löb's Theorem states that for any proposition P, if a system can prove that 
 * "the provability of P implies P," then the system must already be able to 
 * prove P itself. It serves as a fundamental limit on a system's ability to 
 * "trust" its own soundness without becoming trivial.
 * * KEY AGENTS:
 * - The Logician: An observer analyzing the recursive limits of provability.
 * - The AI/Formal System: An agent attempting recursive self-improvement or 
 * meta-reflection on its own code.
 * - The Foundationalist: A subject seeking to ground a system's truth in a 
 * "reflection principle" that says "everything I prove is true."
 * * NARRATIVE ARC:
 * The theorem acts as a "Mountain" of recursive reality, preventing a system 
 * from gaining "unearned trust" in its own outputs. For an AI, it is a 
 * "Rope" for designing stable reflection, but for a human seeking to prove 
 * a system's absolute soundness from within, it is a "Noose" that collapses 
 * into circularity.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural anchor
narrative_ontology:interval(lobs_theorem_interval, 0, 10).
narrative_ontology:constraint_claim([lobs_theorem], logical_limit).

% Base extractiveness: 0.3 (Moderate)
% Rationale: It extracts "semantic depth." It forces a system to either 
% lack self-trust or prove the specific truth, preventing the "extraction" 
% of truth status through mere meta-assertion.
domain_priors:base_extractiveness(lobs_theorem, 0.3).

% Suppression: 0.5 (Moderate)
% Rationale: Naive "Reflection Principles" (the idea that one can simply 
% assume a system is sound) are suppressed by the inevitable emergence 
% of contradictions if self-reference is allowed.
domain_priors:suppression_score(lobs_theorem, 0.5).

% Enforcement: Emerges naturally from the structure of Peano Arithmetic and 
% diagonal arguments.
domain_priors:emerges_naturally(lobs_theorem).

% BENEFICIARIES & VICTIMS
% Beneficiary: Consistent systems (protects them from triviality).
constraint_beneficiary(lobs_theorem, stable_logical_architectures).
% Victim: Recursive optimists (who hope for internal proofs of soundness).
constraint_victim(lobs_theorem, foundationalist_philosophers).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(lobs_theorem, extractiveness, 0.3).
narrative_ontology:constraint_metric(lobs_theorem, suppression_requirement, 0.5).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ANALYTICAL LOGICIAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal informational laws.
   WHEN: civilizational - Viewing logic as a permanent substrate.
   WHERE: trapped - Logic cannot bypass the diagonal lemma.
   SCOPE: global - Applies to all sufficiently powerful systems.
   
   WHY THIS CLASSIFICATION:
   To the analytical observer, the theorem is a Mountain. It is an 
   unchangeable feature of the mathematical landscape. No amount of 
   "better programming" or "new axioms" can remove the recursive wall 
   that Löb identified.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lobs_theorem,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE REFLECTIVE AI SYSTEM - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power over its own internal logic.
   WHEN: biographical - Operating within a single "run" or development life.
   WHERE: arbitrage - Can move between different levels of the meta-hierarchy.
   SCOPE: national - Specific to its own internal software ecosystem.
   
   WHY THIS CLASSIFICATION:
   For a system designed for self-reflection, the theorem is a Rope. It is 
   a coordination tool that allows the system to remain stable. By 
   understanding that it cannot prove its own soundness without proving 
   specific truths, it uses the theorem as a tether to keep its 
   self-model grounded in provable reality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lobs_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE FOUNDATIONALIST SUBJECT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the limits of their own reasoning.
   WHEN: immediate - The current attempt to ground a system's truth.
   WHERE: trapped - Limited by the syntax of the system they inhabit.
   SCOPE: local - Immediate cognitive frame.
   
   WHY THIS CLASSIFICATION:
   For the subject seeking to prove "Everything I say is true" within their 
   own language, the theorem is a Noose. The harder they try to ground 
   the general truth of their statements, the tighter the paradox pulls, 
   forcing them to either remain silent on their own soundness or collapse 
   into proving every possible absurdity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lobs_theorem,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(lobs_theorem_tests).

test(multi_perspective_variance) :-
    % Perspective 1: Analyst sees Mountain
    constraint_indexing:constraint_classification(lobs_theorem, mountain, context(agent_power(analytical), _, _, _)),
    % Perspective 2: Institutional sees Rope
    constraint_indexing:constraint_classification(lobs_theorem, rope, context(agent_power(institutional), _, _, _)),
    % Perspective 3: Powerless sees Noose
    constraint_indexing:constraint_classification(lobs_theorem, noose, context(agent_power(individual_powerless), _, _, _)).

test(power_extractiveness_reflection) :-
    % Powerless subjects feel the loss of foundational certainty (Noose)
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    % Institutional systems manage the recursion as a design constraint (Rope)
    ContextInstitutional = context(institutional, biographical, arbitrage, national),
    domain_priors:base_extractiveness(lobs_theorem, E),
    E > 0.1.

test(time_immutability_scale) :-
    % Civilizational view treats logical invariants as Mountains
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(lobs_theorem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.3):
 * Reasoning: Löb's theorem prevents the "free" assumption of soundness. 
 * It extracts the luxury of simple self-trust.
 * * 2. SUPPRESSION SCORE (0.5):
 * Reasoning: It suppresses naive reflection principles (e.g., "if Provable(P) 
 * then P"). These principles are invisible to consistent systems 
 * because they lead to triviality.
 * * 3. PERSPECTIVE SELECTION:
 * The Analyst sees the Law (Mountain). The System sees the Design 
 * Constraint (Rope). The Foundationalist sees the Trap (Noose).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Omega declaration
omega_variable(
    natural_language_soundness,
    "Can human natural language avoid Löb's trap by virtue of its 
    non-formal or 'fuzzy' semantics?",
    resolution_mechanism("Formalization of natural language semantics to check for diagonalizability"),
    impact("If Yes: Human reasoning is a Rope. If No: Human reasoning is 
    subject to the same Noose as formal logic."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Non-well-founded sets / Non-standard Logics
 * Viability: High in niche research. Some logics allow "circular" 
 * truth without triviality.
 * Suppression: High. These systems are ignored in "standard" 
 * foundations because they lack the intuitive power of PA.
 * * CONCLUSION:
 * The existence of niche alternatives makes the "Mountain" of Löb's 
 * Theorem a specific choice of the classical logician, and thus a 
 * "Noose" for those trapped in classical paradigms.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_lobs_theorem].
 * 2. Multi-perspective: ?- multi_index_report(lobs_theorem).
 * 3. Run tests: ?- run_tests(lobs_theorem_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: local_vs_global_optima
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Optimization Theory / Genetic Algorithms / Calculus
% ============================================================================

:- module(constraint_optimization_landscapes, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: local_vs_global_optima
 * human_readable: Local vs. Global Optima (The Peak Trap)
 * domain: mathematical/technological/biological
 * temporal_scope: Immediate to Civilizational
 * spatial_scope: Global
 * * SUMMARY:
 * A "Local Optimum" is a solution that is better than all nearby solutions 
 * but inferior to the "Global Optimum"—the best possible solution across 
 * the entire system.
 * * KEY AGENTS:
 * - The Hill-Climber: An agent that always moves toward immediate improvement.
 * - The Explorer: An agent that occasionally moves "downhill" to find 
 * a different, potentially higher mountain.
 * - The Landscape: The mathematical reality defining the peaks and valleys.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(local_vs_global_optima, 0, 10).
narrative_ontology:constraint_claim(local_vs_global_optima, mathematical_limit).

% Base extractiveness score (0.3)
% Sub-optimality extracts potential value from the system; being stuck at 
% a local peak is a "tax" on efficiency.
domain_priors:base_extractiveness(local_vs_global_optima, 0.3).

% Suppression score (0.5)
% Local peaks often suppress the visibility of the global peak; 
% if you are on a "high enough" hill, you may not even look for the mountain.
domain_priors:suppression_score(local_vs_global_optima, 0.5).

domain_priors:emerges_naturally(local_vs_global_optima).

% Metrics
narrative_ontology:constraint_metric(local_vs_global_optima, extractiveness, 0.3).
narrative_ontology:constraint_metric(local_vs_global_optima, suppression_requirement, 0.5).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE HILL-CLIMBER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (limited by local perception)
   WHEN: immediate
   WHERE: trapped (at the local peak)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For an agent that can only see immediate improvements (like a simple 
   algorithm or a short-sighted manager), the local optimum is a "Noose." 
   They have reached a point where any single step in any direction makes 
   things worse, so they stop. They are "strangled" by their own success.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    local_vs_global_optima,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ANNEALER - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile (willing to accept short-term loss)
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For an agent that understands the landscape (using heuristics like 
   Simulated Annealing), the local optimum is just a "Rope" to be tested. 
   They are willing to climb down into the valley to find a higher peak, 
   using the local data to coordinate their next jump.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    local_vs_global_optima,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(regional))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MATHEMATICIAN - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the mathematician, the existence of local vs global optima is a 
   "Mountain"—an immutable law of non-convex optimization. It is 
   simply how the universe is shaped.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    local_vs_global_optima,
    mountain,
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))
) :- !.

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: logistic_map_dynamics
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Robert May (1976) / Logistic Map / Population Biology
% ============================================================================

:- module(constraint_logistic_map, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: logistic_map_dynamics
 * human_readable: The Logistic Map (Bifurcation and Chaos)
 * domain: mathematical/technological/biological
 * temporal_scope: 1976 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Population constraints)
 * * SUMMARY:
 * The Logistic Map ($x_{n+1} = r x_n (1 - x_n)$) is a polynomial mapping that 
 * demonstrates how complex, chaotic behavior can arise from very simple 
 * non-linear dynamical equations. It serves as a fundamental constraint on 
 * the predictability of systems with limited resources and feedback.
 * * KEY AGENTS:
 * - The Population Iterate ($x_n$): The powerless subject whose "density" is 
 * dictated by the fixed parameter $r$.
 * - The Population Biologist (Institutional): An agent who uses the map as a 
 * "Rope" for coordination to prevent ecosystem collapse.
 * - The Chaos Theorist (Analytical): The observer who maps the "Mountain" of 
 * the bifurcation diagram.
 * * NARRATIVE ARC:
 * For a population in a stable environment ($r < 3$), the map is a "Mountain" 
 * of natural law leading to equilibrium. In management, it is a "Rope" for 
 * predicting sustainable yields. However, as $r$ enters the chaotic regime 
 * ($r > 3.57$), the "Mountain" becomes a "Noose," extracting all predictive 
 * certainty and "strangling" the observer with sensitive dependence on 
 * initial conditions.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(logistic_map_era, 1976, 2026).
narrative_ontology:constraint_claim(logistic_map_dynamics, mountain).

% Base extractiveness: 0.35
% Rationale: Moderate. Chaos "extracts" information (precision) and returns 
% entropy. To maintain functional control at high $r$, massive re-investment 
% in computational precision is required.
domain_priors:base_extractiveness(logistic_map_dynamics, 0.35).

% Suppression score: 0.4
% Rationale: It suppresses the visibility of simple linear growth models 
% (Malthusian), rendering them functionally fraudulent in resource-limited 
% environments.
domain_priors:suppression_score(logistic_map_dynamics, 0.4).

% Enforcement: Emerges naturally from non-linear feedback and resource limits.
domain_priors:emerges_naturally(logistic_map_dynamics).

% Metrics
narrative_ontology:constraint_metric(logistic_map_dynamics, extractiveness, 0.35).
narrative_ontology:constraint_metric(logistic_map_dynamics, suppression_requirement, 0.4).

% Beneficiaries & Victims (Required for E > 0.3)
constraint_beneficiary(logistic_map_dynamics, nonlinear_analysts). % Gain insights into complexity.
constraint_beneficiary(logistic_map_dynamics, cryptography_designers). % PRNGs using chaos.
constraint_victim(logistic_map_dynamics, long_term_planners). % Certainty is extracted.
constraint_victim(logistic_map_dynamics, ecological_stability). % Small shocks cause flips.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE POPULATION FRACTION (SUBJECT) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The iterate $x$ has no agency over the update rule.
   WHEN: immediate - True at every single step $n \to n+1$.
   WHERE: trapped - Bound within the interval [0, 1].
   SCOPE: local - Immediate neighborhood of the current value.
   
   WHY THIS CLASSIFICATION:
   For the state variable, the iterative law is an absolute, unyielding 
   Mountain of reality. It cannot "choose" to exceed the carrying capacity 
   or avoid the chaotic attractor once $r$ is set.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    logistic_map_dynamics,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ECOSYSTEM MANAGER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to influence $r$ (e.g., via harvest rates).
   WHEN: biographical - Planning for the multi-year health of a fishery.
   WHERE: mobile - Can adjust parameters to maintain a "Stable" regime ($r < 3$).
   SCOPE: national/regional - Managing a specific environment.
   
   WHY THIS CLASSIFICATION:
   For the manager, the map is a "Rope"—a functional coordination tool. 
   By keeping the system in the non-chaotic region, they coordinate the 
   standard of achievement (sustainable yield) through predictable math.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    logistic_map_dynamics,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CHAOTIC REGIME OBSERVER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Bound by the "Butterfly Effect" of the map.
   WHEN: biographical - Attempting to predict outcomes over a long period.
   WHERE: constrained - Knowing the law but having no path to certainty.
   SCOPE: global - The mathematical limit of all such iterative systems.
   
   WHY THIS CLASSIFICATION:
   In the chaotic region ($r = 3.9$), the map is a "Noose." It "strangles" 
   the ability to plan, extracting enormous resources for data collection 
   that ultimately fails to provide more than a few steps of foresight.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    logistic_map_dynamics,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(logistic_map_dynamics, E),
    E >= 0.3,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(logistic_map_tests).

test(bifurcation_fate_variance) :-
    % Subject -> Mountain
    constraint_indexing:constraint_classification(logistic_map_dynamics, Type1, context(individual_powerless, immediate, trapped, local)),
    % Manager (Short-term/Stable) -> Rope
    constraint_indexing:constraint_classification(logistic_map_dynamics, Type2, context(institutional, biographical, mobile, regional)),
    Type1 = mountain,
    Type2 = rope.

test(chaos_extraction_penalty) :-
    % Long-term observer (Powerless/Constrained) in Chaos sees it as a Noose.
    constraint_indexing:constraint_classification(logistic_map_dynamics, noose, context(individual_powerless, biographical, constrained, global)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(logistic_map_dynamics).

:- end_tests(logistic_map_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.35): 
 * I chose this because the Logistic Map at high $r$ represents a form of 
 * "Geometrical Coercion." The system "takes" your initial precision and 
 * shreds it, making it an extractive mathematical constraint.
 * * 2. SUPPRESSION SCORE (0.4): 
 * It effectively suppressed the "simple growth" narratives of the early 
 * 20th century by proving that complexity is the default, not the exception.
 * * 3. PERSPECTIVES:
 * Chose the "Iterate" (Passive Subject), "Manager" (Institutional User), 
 * and "Chaotic Observer" (Victim of Entropy) to show how the *same* law 
 * shifts type based on the parameter $r$.
 */

% OMEGA IDENTIFICATION
omega_variable(
    precision_decay_rate,
    "How many iterates $n$ does it take for double-precision floating point to lose all physical meaning at $r=4$?",
    resolution_mechanism("Numerical audit of divergence between $x_n$ and $x_n + \epsilon$ in 64-bit hardware."),
    impact("If $n < 50$: The 'Mountain' is a 'Noose' for all digital simulation. If $n > 500$: It is a Rope."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Malthusian Growth ($x_{n+1} = rx_n$)
 * Viability: Historically the standard for 100 years.
 * Suppression: Rejected by the Logistic Map because it ignores the 
 * "Mountain" of limited resources (the $1-x$ term).
 * * ALTERNATIVE 2: Continuous-time Models (Logistic Differential Equation)
 * Viability: Smooth, predictable, no chaos in 1D.
 * Suppression: Chaos theory shows that discrete-time events (like seasons 
 * or distinct generations) are the true "Rope" for complex biology.
 * * CONCLUSION:
 * The shift from continuous to discrete modeling turned a "Stable Rope" into 
 * a "Chaotic Mountain/Noose."
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [logistic_map_dynamics].
% Analyze: ?- constraint_indexing:multi_index_report(logistic_map_dynamics).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: lorenz_attractor_dynamics
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Edward Lorenz (1963) / Chaos Theory / Deterministic Nonperiodic Flow
% ============================================================================

:- module(constraint_lorenz_attractor, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: lorenz_attractor_dynamics
 * human_readable: Lorenz Attractor (Deterministic Chaos)
 * domain: mathematical/technological/physical
 * temporal_scope: 1963 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Phase Space)
 * * SUMMARY:
 * The Lorenz system is a set of ordinary differential equations describing 
 * atmospheric convection. It famously demonstrated "Deterministic Chaos," where 
 * simple, non-linear rules lead to complex, non-repeating, and sensitive 
 * trajectories. It established the "Butterfly Effect" as a fundamental limit 
 * on long-term prediction.
 * * KEY AGENTS:
 * - The Trajectory (Subject): The powerless agent following the vector field, 
 * trapped in a "strange" butterfly-shaped manifold.
 * - The Meteorologist (Institutional): An agent attempting to use the 
 * system as a "Rope" for coordination (weather forecasting).
 * - The Predictive Model (Victim): An agent whose accuracy is "strangled" by 
 * infinitesimal initial errors, turning the math into a "Noose."
 * * NARRATIVE ARC:
 * The Lorenz equations are a "Mountain" of physical reality—the rules are 
 * simple and unchangeable. In the short term, they provide a "Rope" for 
 * flight planning and logistics. However, as time $t$ increases, the 
 * sensitivity to initial conditions acts as a "Noose," extracting the 
 * possibility of certainty and propping up a "Scaffold" of probability 
 * instead of fact.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(lorenz_era, 1963, 2026).
narrative_ontology:constraint_claim(lorenz_attractor_dynamics, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.4). Chaos "extracts" certainty and predictability 
% from observers, demanding massive computational re-investment (Ensembles) 
% to maintain even minimal functional coordination.
domain_priors:base_extractiveness(lorenz_attractor_dynamics, 0.4).

% Suppression score (0.0-1.0)
% Rationale: Moderate (0.5). It suppresses the visibility of long-term 
% linear causality, rendering "simple" prediction models functionally 
% invisible or fraudulent.
domain_priors:suppression_score(lorenz_attractor_dynamics, 0.5).

% Enforcement: Emerges naturally from the non-linear coupling of variables.
domain_priors:emerges_naturally(lorenz_attractor_dynamics).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(lorenz_attractor_dynamics, extractiveness, 0.4).
narrative_ontology:constraint_metric(lorenz_attractor_dynamics, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(lorenz_attractor_dynamics, ensemble_forecasting). % Profits from uncertainty management.
constraint_beneficiary(lorenz_attractor_dynamics, complexity_science).
constraint_victim(lorenz_attractor_dynamics, long_term_determinism). % The "death" of Laplace's Demon.
constraint_victim(lorenz_attractor_dynamics, linear_extrapolation).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MATHEMATICAL POINT - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The coordinate (x,y,z) cannot deviate from $\dot{x}, \dot{y}, \dot{z}$.
   WHEN: immediate - The vector field is local and instantaneous.
   WHERE: trapped - Bound within the geometric bounds of the attractor.
   SCOPE: local - Immediate neighborhood in phase space.
   
   WHY THIS CLASSIFICATION:
   For the state variable, the Lorenz equations are an unyielding law. 
   The "Butterfly" is not a choice; it is a fixed, non-negotiable 
   attractor of its existence.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    lorenz_attractor_dynamics,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE AVIATION DISPATCHER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to coordinate global flight paths using forecasts.
   WHEN: biographical - Planning routes for the next 24-48 hours.
   WHERE: mobile - Can adjust paths or delay flights based on the data.
   SCOPE: national - Managing airspace.
   
   WHY THIS CLASSIFICATION:
   In the short term (within the Lyapunov time), the Lorenz system is a "Rope." 
   It provides a functional coordination mechanism that allows for safe, 
   efficient transit through a complex atmosphere.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lorenz_attractor_dynamics,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE POLICY PLANNER (10-YEAR) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Bound by the "Butterfly Effect" limits of math.
   WHEN: civilizational - Trying to predict long-term climate/social shifts.
   WHERE: constrained - No alternative but to rely on increasingly noisy data.
   SCOPE: global - Global environmental/economic planning.
   
   WHY THIS CLASSIFICATION:
   For the long-term planner, chaos is a "Noose." It "strangles" their 
   ability to provide certain outcomes, extracting enormous political and 
   social capital to fund "scenarios" that can never be fully verified.
   
   NARRATIVE EVIDENCE:
   "Prediction of the sufficiently distant future is impossible by any method, 
   unless the present conditions are known with perfect accuracy." (Lorenz, 1963)
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    lorenz_attractor_dynamics,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(lorenz_attractor_dynamics, E),
    E >= 0.4,
    !.

/* ==========================================================================
   4. TESTS (Insights into Deterministic Chaos)
   ========================================================================== */

:- begin_tests(lorenz_attractor_tests).

test(lyapunov_time_variance) :-
    % Short term (immediate) -> Mountain/Rope
    constraint_indexing:constraint_classification(lorenz_attractor_dynamics, Type1, context(individual_powerless, immediate, trapped, local)),
    % Long term (civilizational) -> Noose
    constraint_indexing:constraint_classification(lorenz_attractor_dynamics, Type2, context(individual_powerless, civilizational, constrained, global)),
    Type1 = mountain,
    Type2 = noose.

test(extraction_of_certainty) :-
    % The "powerless" long-term observer suffers high extraction of predictive value.
    Context = context(individual_powerless, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(lorenz_attractor_dynamics, Context, Score),
    Score > 0.5.

test(natural_emergence) :-
    domain_priors:emerges_naturally(lorenz_attractor_dynamics).

:- end_tests(lorenz_attractor_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.4): 
 * I chose this because Chaos is a "predatory" mathematical state—it takes 
 * information (initial precision) and returns heat/noise.
 * * 2. SUPPRESSION SCORE (0.5): 
 * Chaos theory suppressed the 19th-century "Clockwork Universe" (Laplace). 
 * It rendered the linear-determinist alternative invisible to serious science.
 * * 3. PERSPECTIVE SELECTION:
 * Chose the "Mathematical Point" (Subject), "Aviation Dispatcher" (Short-term 
 * User), and "Long-term Planner" (Victim) to illustrate the Lyapunov horizon.
 */

% OMEGA IDENTIFICATION
omega_variable(
    shadowing_lemma_validity,
    "Do 'shadow' trajectories exist that make numerical simulations a reliable Rope despite Chaos?",
    resolution_mechanism("Numerical verification of hyperbolic vs non-hyperbolic regions in the Lorenz attractor."),
    impact("If Yes: The Noose is a 'Scaffold' (fake fear). If No: The Noose is a true Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Laplace's Demon (Perfect Determinism)
 * Viability: The belief that better measurement would solve all chaos.
 * Suppression: Explicitly rejected by Lorenz; precision is an infinite 
 * "extraction" that can never be fulfilled.
 * * ALTERNATIVE 2: Purely Stochastic Modeling
 * Viability: Treating the weather as a random walk.
 * Suppression: Rejected because it ignores the "Rope" of deterministic 
 * physics that *does* allow for short-term coordination.
 * * CONCLUSION:
 * The presence of short-term "Rope" utility (Alternative 2 rejection) 
 * while facing long-term "Noose" limits (Alternative 1 rejection) defines 
 * the Lorenz constraint.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [lorenz_attractor_dynamics].
% Analyze: ?- constraint_indexing:multi_index_report(lorenz_attractor_dynamics).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: lowenheim_skolem_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Löwenheim (1915), Skolem (1920) / Model Theory
% ============================================================================

:- module(constraint_lowenheim_skolem_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: lowenheim_skolem_theorem
 * human_readable: Löwenheim-Skolem Theorem
 * domain: technological
 * temporal_scope: Permanent (Universal Law of Logic)
 * spatial_scope: Global (Formal Systems)
 * * SUMMARY:
 * The Löwenheim-Skolem theorem states that if a first-order theory has an infinite 
 * model, it has models of every infinite cardinality. This implies that first-order 
 * logic cannot "pin down" the size of an infinite structure; an uncountable 
 * theory like ZFC can be satisfied by a countable model (Skolem's Paradox).
 * * KEY AGENTS:
 * - The Analytical Observer: Viewing the inherent limits of formal languages.
 * - The Foundational Platonist: Seeking a unique, absolute "intended" model of mathematics.
 * - The Model Theorist: Using the relativity of models as a tool for mathematical construction.
 * * NARRATIVE ARC:
 * The theorem acts as a hard ceiling for the expressive power of first-order logic. 
 * While it provides a "Rope" for mathematicians to move between different infinite 
 * scales, it creates a foundational "Noose" for those who want their logic to 
 * uniquely describe a single, absolute mathematical reality.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction
narrative_ontology:interval(lowenheim_skolem_interval, 0, 10).
narrative_ontology:constraint_claim([lowenheim_skolem_theorem], logical_limit).

% Base extractiveness: 0.2 (Low)
% Rationale: It extracts "semantic uniqueness" or "absoluteness." 
% It doesn't steal resources, but it prevents a system from fully defining its own scale.
domain_priors:base_extractiveness(lowenheim_skolem_theorem, 0.2).

% Suppression: 0.4 (Moderate)
% Rationale: Alternatives like Second-Order Logic (which can be categorical) 
% exist but are suppressed in foundational mathematics due to the loss of 
% Completeness and Compactness.
domain_priors:suppression_score(lowenheim_skolem_theorem, 0.4).

% Enforcement: Emerges naturally from the nature of first-order satisfaction.
domain_priors:emerges_naturally(lowenheim_skolem_theorem).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(lowenheim_skolem_theorem, extractiveness, 0.2).
narrative_ontology:constraint_metric(lowenheim_skolem_theorem, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
% Beneficiary: Model theorists who gain flexibility in model construction.
constraint_beneficiary(lowenheim_skolem_theorem, model_theorists).
% Victim: Mathematical absolutists who lose the ability to define a unique "True" universe.
constraint_victim(lowenheim_skolem_theorem, platonist_philosophers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ANALYTICAL OBSERVER - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the laws of information.
   WHEN: civilizational - Viewing logic as a permanent substrate.
   WHERE: trapped - Logic cannot bypass its own syntactic constraints.
   SCOPE: global - Applies to all sufficiently powerful formal systems.
   
   WHY THIS CLASSIFICATION:
   To the observer, this is a Mountain. It is an unchangeable consequence of 
   how formal systems relate to their interpretations. There are no "choices" 
   here; the theorem is a fixed feature of the logical terrain.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lowenheim_skolem_theorem,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MODEL THEORIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define and navigate meta-logical rules.
   WHEN: biographical - Accomplishing proofs within a career.
   WHERE: arbitrage - Can move between internal and external perspectives (Skolemization).
   SCOPE: national - Specific to the domain of mathematical proof.
   
   WHY THIS CLASSIFICATION:
   For the theorist, the theorem is a Rope. It is a coordination mechanism 
   that allows for "shrinking" or "expanding" models to study their properties. 
   It facilitates the transfer of results between different cardinalities.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lowenheim_skolem_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE FOUNDATIONAL PLATONIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the limits of first-order expression.
   WHEN: immediate - Today's search for an absolute foundation.
   WHERE: trapped - Stuck within the expressive limits of first-order ZFC.
   SCOPE: local - Immediate philosophical framework.
   
   WHY THIS CLASSIFICATION:
   To the Platonist, this is a Noose. They wish to describe the "one true 
   uncountable universe," but the theorem ensures that a countable "shadow" 
   of that universe always exists. Their desire for absoluteness is 
   systematically strangled by the relativity of cardinality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lowenheim_skolem_theorem,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(lowenheim_skolem_theorem_tests).

test(multi_perspective_variance) :-
    % Test that different perspectives yield different classifications
    constraint_indexing:constraint_classification(lowenheim_skolem_theorem, mountain, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(lowenheim_skolem_theorem, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(lowenheim_skolem_theorem, noose, context(agent_power(individual_powerless), _, _, _)).

test(power_extractiveness_relativity) :-
    % Powerless Platonists feel the loss of absoluteness (extraction of truth value)
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextInstitutional = context(institutional, biographical, arbitrage, national),
    domain_priors:base_extractiveness(lowenheim_skolem_theorem, E),
    E > 0.0.

test(time_immutability_scale) :-
    % Long-term civilizational logic is a Mountain
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(lowenheim_skolem_theorem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: This is a "semantic extraction." It extracts the possibility 
 * of absolute grounding. It is low because it doesn't cause physical 
 * suffering, but high enough to disrupt philosophical monism.
 * * 2. SUPPRESSION SCORE (0.4):
 * Reasoning: Second-order logic is the obvious alternative. It is suppressed 
 * in "standard" foundations (ZFC) because mathematicians value the 
 * Completeness Theorem (which second-order logic lacks).
 * * 3. PERSPECTIVE SELECTION:
 * The Analyst sees the Law (Mountain). The Theorist sees the Utility (Rope). 
 * The Platonist sees the Limitation (Noose).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Omega declaration
omega_variable(
    intended_model_existence,
    "Is there a privileged, intended model of set theory that our language simply fails to uniquely describe?",
    resolution_mechanism("Metaphysical commitment or discovery of higher-order categorical axioms"),
    impact("If Yes: Logic is a Noose hiding the Mountain. If No: Reality is fundamentally relative (Skolemism)."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Second-Order Logic
 * Viability: Allows for categorical theories where all infinite models 
 * are isomorphic (no Skolem's Paradox).
 * Suppression: Rejected because it is not "well-behaved" (Lacks 
 * Completeness and Compactness).
 * Evidence: Common in foundational literature discussing "Full Second Order Logic."
 * * CONCLUSION:
 * The existence of Second-Order logic as a suppressed alternative makes the 
 * Löwenheim-Skolem constraint a Noose for those who prioritize semantic 
 * uniqueness over syntactic completeness.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_lowenheim_skolem_theorem].
 * 2. Multi-perspective: ?- multi_index_report(lowenheim_skolem_theorem).
 * 3. Run tests: ?- run_tests(lowenheim_skolem_theorem_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: lula_hemisphere_2026
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: NYT Opinion - "Lula: This Hemisphere Belongs to All of Us" (Jan 18, 2026)
% ============================================================================

:- module(lula_hemisphere_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: lula_hemisphere_2026
 * human_readable: The Monroe Doctrine Revival (Unilateral US Hegemony)
 * domain: political/legal
 * temporal_scope: 2026 (Modern era / Post-WWII order erosion)
 * spatial_scope: Latin America and the Caribbean
 * * SUMMARY:
 * President Lula of Brazil decries the Jan 3, 2026 US military intervention in 
 * Venezuela as a violation of the sovereign equality of nations. He describes a 
 * shift where "zones of influence" and unilateral force replace the collectively 
 * [cite_start]agreed-upon rules of the UN Charter[cite: 1, 2, 4].
 * * KEY AGENTS:
 * - [cite_start]The United States: Hegemonic power acting unilaterally through "fear and coercion"[cite: 5, 10].
 * - [cite_start]Luiz Inácio Lula da Silva: Institutional leader of a regional power advocating for multipolarity and international law[cite: 6, 7].
 * - [cite_start]The Venezuelan People: Subjects whose self-determination is bypassed by external military force[cite: 11].
 * * NARRATIVE ARC:
 * The post-WWII multilateral order is portrayed as a failing "Rope" being 
 * transformed into a "Noose" by unilateral hegemonic actions. Lula argues that 
 * for Latin America, this represents a return to an "outdated" era of neocolonial 
 * [cite_start]incursions[cite: 2, 9].
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Structural Anchor for Audit
narrative_ontology:interval(lula_hemisphere_2026, 2026, 2026).
narrative_ontology:constraint_claim(lula_hemisphere_2026, noose).

% Base extractiveness: 0.75
% Rationale: Military capture of a president and "neocolonial incursions for 
[cite_start]% strategic resources" represent high asymmetry and resource extraction[cite: 1, 9, 10].
domain_priors:base_extractiveness(lula_hemisphere_2026, 0.75).

% Suppression: 0.85
% Rationale: Unilateral force "arrogates to itself the right to deliver justice," 
[cite_start]% effectively suppressing the alternative of the UN Security Council[cite: 2, 4, 10].
domain_priors:suppression_score(lula_hemisphere_2026, 0.85).

[cite_start]% Enforcement: Requires active maintenance (Bombings, President capture)[cite: 1].
domain_priors:requires_active_enforcement(lula_hemisphere_2026).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(lula_hemisphere_2026, hegemonic_powers).
constraint_victim(lula_hemisphere_2026, sovereign_nations).
constraint_victim(lula_hemisphere_2026, venezuelan_civilians).

% Section 1 Executive Summary Metrics
narrative_ontology:constraint_metric(lula_hemisphere_2026, extractiveness, 0.75).
narrative_ontology:constraint_metric(lula_hemisphere_2026, suppression_requirement, 0.85).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: VENEZUELAN REFUGEE - Mountain
   --------------------------------------------------------------------------
   [cite_start]WHO: individual_powerless - Displaced individuals sheltered in Brazil[cite: 11].
   [cite_start]WHEN: immediate - Survival and safe return home are current necessities[cite: 11].
   [cite_start]WHERE: trapped - Subject to the "anomie" and violence of military attack[cite: 2, 5].
   [cite_start]SCOPE: national - Their entire home country is under direct attack[cite: 5].
   
   WHY THIS CLASSIFICATION:
   For the individual caught in the conflict, the US military intervention 
   appears as an unchangeable, overwhelming force of nature (Mountain) that 
   [cite_start]removes all agency from the people[cite: 2, 11].
   
   NARRATIVE EVIDENCE:
   "The future of Venezuela... must remain in the hands of its people... this is 
   [cite_start]an essential condition for the millions... sheltered in Brazil to safely return"[cite: 11].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lula_hemisphere_2026,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(lula_hemisphere_2026, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: PRESIDENT LULA (BRAZIL) - Noose
   --------------------------------------------------------------------------
   [cite_start]WHO: institutional - Head of state of a populist democracy[cite: 6, 12].
   [cite_start]WHEN: biographical - Spanning 200 years of independent history[cite: 5].
   [cite_start]WHERE: constrained - Trying to maintain dialogue with the US despite attack[cite: 12].
   [cite_start]SCOPE: continental - Defending a hemisphere that "belongs to all of us"[cite: 12].
   
   WHY THIS CLASSIFICATION:
   Lula views the intervention as a coercive, extractive "Noose" that violates 
   [cite_start]collectively agreed-upon rules to serve hegemonic interests[cite: 2, 6, 9].
   
   NARRATIVE EVIDENCE:
   "We will not be subservient to hegemonic endeavors... the division of the 
   [cite_start]world into zones of influence... [is] outdated and damaging"[cite: 6, 9].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lula_hemisphere_2026,
    noose,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(continental)
    )
) :-
    domain_priors:base_extractiveness(lula_hemisphere_2026, E),
    E > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: US STRATEGISTS (INFERRED) - Rope
   --------------------------------------------------------------------------
   [cite_start]WHO: individual_powerful - Arrogating the right to deliver justice[cite: 4].
   [cite_start]WHEN: biographical - Using force as a rule to "resolve disputes"[cite: 2].
   [cite_start]WHERE: arbitrage - Acting unilaterally while bypassing the UN[cite: 4].
   [cite_start]SCOPE: global - Reconfiguring the international system[cite: 2].
   
   WHY THIS CLASSIFICATION:
   From the hegemonic perspective, the use of force is a functional tool (Rope) 
   [cite_start]to achieve strategic goals and "justice" where multilateral systems failed[cite: 1, 4].
   
   NARRATIVE EVIDENCE:
   "It is not legitimate for another state to arrogate to itself the right to 
   [cite_start]deliver justice"[cite: 4].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lula_hemisphere_2026,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(lula_hemisphere_2026_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(lula_hemisphere_2026, Type1, context(individual_powerless, immediate, trapped, national)),
    constraint_indexing:constraint_classification(lula_hemisphere_2026, Type2, context(institutional, biographical, constrained, continental)),
    Type1 = mountain,
    Type2 = noose.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, trapped, national),
    ContextPowerful = context(individual_powerful, biographical, arbitrage, global),
    constraint_indexing:extractiveness_for_agent(lula_hemisphere_2026, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(lula_hemisphere_2026, ContextPowerful, Score2),
    Score1 > Score2.

test(continental_scope_noose) :-
    constraint_indexing:constraint_classification(lula_hemisphere_2026, noose, context(institutional, biographical, constrained, continental)).

:- end_tests(lula_hemisphere_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.75): High score based on the "capture" of a 
 * [cite_start]head of state and "neocolonial incursions" for resources[cite: 1, 9].
 * * 2. SUPPRESSION SCORE (0.85): Reflects the "selective" following of norms 
 * [cite_start]and the arrogance of unilateral justice replacing collective rules[cite: 2, 4].
 * * 3. OMEGAS: The central uncertainty is the *motive* for the capture. Lula 
 * [cite_start]attributes it to strategic resources/hegemony[cite: 6, 9], while the US 
 * likely claims "justice/democracy." 
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    us_intervention_intent,
    "Was the US capture of the Venezuelan president primarily for human rights justice or strategic resource extraction?",
    resolution_mechanism("Audit of captured president's trial evidence vs US corporate contracts signed in Venezuela post-capture."),
    impact("If Justice: order remains a failing Rope. If Extraction: order is a predatory Noose."),
    confidence_without_resolution(medium)
).

omega_variable(
    regional_unity_threshold,
    "Will Latin American states overcome 'ideological differences' to resist hegemonic pressure as Lula hopes?",
    resolution_mechanism("Track voting alignment in OAS/UN and joint infrastructure project funding through 2027."),
    impact("If Unified: Regional agency creates a counter-Rope. If Divided: States remain trapped in the Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * [cite_start]ALTERNATIVE 1: Inclusive political process led by Venezuelans[cite: 11].
 * [cite_start]Viability: Lula claims this is the "only condition" for a sustainable future[cite: 11].
 * [cite_start]Suppression: Actively bypassed by unilateral US military attack[cite: 1, 4].
 * * [cite_start]ALTERNATIVE 2: Multilateral order via UN Security Council[cite: 2].
 * [cite_start]Viability: Established post-WWII to build "free, inclusive and democratic societies"[cite: 2].
 * [cite_start]Suppression: Attacked and weakened by major powers until force became the "rule"[cite: 2].
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [lula_hemisphere_2026].
% Report: ?- constraint_indexing:multi_index_report(lula_hemisphere_2026).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: optimal_stopping_marriage
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: The Secretary Problem / Optimal Stopping Theory
% ============================================================================

:- module(constraint_optimal_stopping_marriage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: optimal_stopping_marriage
 * human_readable: The 37% Rule (Optimal Stopping)
 * domain: technological/mathematical
 * temporal_scope: Immediate to Biographical
 * spatial_scope: Global (Abstract Math)
 * * SUMMARY:
 * In the "Marriage Problem" (or Secretary Problem), a person must choose the best 
 * candidate from a sequence of $N$ options. Once a candidate is rejected, they cannot 
 * be recalled. To maximize the probability of picking the absolute best, math 
 * dictates rejecting the first $n/e$ (approx. 37%) of candidates and then picking 
 * the first one better than all seen so far.
 * * KEY AGENTS:
 * - The Searcher: Individual seeking the optimal partner under time/info constraints.
 * - The Candidates: Sequential options who are either accepted or permanently lost.
 * - The Mathematician: Analytical observer who views the constraint as an immutable law.
 * * NARRATIVE ARC:
 * The constraint functions as a "wall of regret." If the Searcher stops too early, 
 * they miss the global maximum. If they stop too late, the best candidate has 
 * already passed. The math creates a rigid boundary for optimal behavior.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

% Required for system integration
narrative_ontology:interval(optimal_stopping_marriage, 0, 10).
narrative_ontology:constraint_claim(optimal_stopping_marriage, mathematical_limit).

% Base extractiveness: Low (0.1). 
% Nature/Math doesn't "profit" from the Searcher, but the "loss" of rejected 
% candidates represents a form of structural waste.
domain_priors:base_extractiveness(optimal_stopping_marriage, 0.1).

% Suppression: Moderate (0.4). 
% Humans often ignore the math in favor of "gut feeling," but the math 
% "punishes" this with lower success probabilities.
domain_priors:suppression_score(optimal_stopping_marriage, 0.4).

% Enforcement: Emerges naturally from the logic of probability.
domain_priors:emerges_naturally(optimal_stopping_marriage).

% Beneficiaries: The "Winner" (the candidate selected by the optimal strategy).
constraint_beneficiary(optimal_stopping_marriage, selected_optimal_candidate).

% Victims: The "37% Group" (qualified candidates rejected solely to set the baseline).
constraint_victim(optimal_stopping_marriage, rejected_baseline_candidates).

% Metrics
narrative_ontology:constraint_metric(optimal_stopping_marriage, extractiveness, 0.1).
narrative_ontology:constraint_metric(optimal_stopping_marriage, suppression_requirement, 0.4).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SEARCHER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (subject to the sequence of options)
   WHEN: biographical (the search defines a major life phase)
   WHERE: trapped (cannot go back in time to "un-reject" a candidate)
   SCOPE: local (their specific dating pool)
   
   WHY THIS CLASSIFICATION:
   The searcher feels "strangled" by the inability to recall past options. 
   The 37% rule feels like a Noose because it forces the rejection of 
   potentially great partners simply to satisfy a statistical baseline.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    optimal_stopping_marriage,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(optimal_stopping_marriage, E),
    E < 0.2, % It's not about extraction, but the 'trapped' nature makes it a Noose.
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MATHEMATICIAN - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical/civilizational
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the mathematician, the $1/e$ limit is a "Mountain"—a fixed feature 
   of the universe like gravity. It is unchangeable regardless of human 
   desire or agency.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    optimal_stopping_marriage,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(optimal_stopping_marriage),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MATCHMAKER - Rope
   --------------------------------------------------------------------------
   WHO: institutional/individual_powerful
   WHEN: generational
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For an institution (like a dating app or a village matchmaker), this 
   mathematical reality is a "Rope." It's a coordination tool that 
   helps structure the flow of candidates to ensure the highest 
   aggregate "win" rate across a population.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    optimal_stopping_marriage,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    true.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(optimal_stopping_marriage_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(optimal_stopping_marriage, Type1, context(agent_power(individual_powerless), _, trapped, _)),
    constraint_indexing:constraint_classification(optimal_stopping_marriage, Type2, context(agent_power(analytical), _, _, _)),
    Type1 \= Type2.

test(time_immutability_shift) :-
    % Short term (biographical) feels like a Noose due to regret.
    % Long term (civilizational) is a Mountain of probability.
    constraint_indexing:constraint_classification(optimal_stopping_marriage, noose, context(_, time_horizon(biographical), trapped, _)),
    constraint_indexing:constraint_classification(optimal_stopping_marriage, mountain, context(_, time_horizon(civilizational), _, _)).

test(extraction_paradox) :-
    % The "powerless" actually experience more "loss" (perceived extractiveness) 
    % than the institutional observer.
    domain_priors:base_extractiveness(optimal_stopping_marriage, Score),
    Score < 0.5.

:- end_tests(optimal_stopping_marriage_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS: Set to 0.1. The "Marriage Problem" isn't a scam; it's a 
 * logical trap. The only "extraction" is the opportunity cost paid by 
 * the baseline group.
 * 2. PERSPECTIVES: I chose the Searcher (Noose) because the "no-recall" rule 
 * is a classic constraint that feels punitive to the individual.
 * 3. AMBIGUITIES: The biggest uncertainty is the "no-recall" assumption. 
 * In the real world, you can sometimes go back to an ex.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    recall_viability,
    "Can a previously rejected candidate be 're-activated'?",
    resolution_mechanism("Empirical study of 'boomerang' relationships in modern dating datasets"),
    impact("If Recall=High: Mountain becomes Rope (strategy changes). If Recall=Zero: Noose/Mountain holds."),
    confidence_without_resolution(medium)
).

omega_variable(
    candidate_distribution_knowledge,
    "Does the searcher know the total number of candidates $N$?",
    resolution_mechanism("Information theory analysis of search under unknown population size"),
    impact("If $N$ is unknown: The 37% rule cannot be applied; a different 'Mountain' appears."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Post-Selection Recall
 * Viability: High in modern social networks.
 * Suppression: The math problem suppresses this to maintain the "clean" 1/e proof.
 * * CONCLUSION:
 * The "No-Recall" rule is what turns a coordination tool (Rope) into a 
 * psychological Noose for the individual searcher.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: matching_markets_general
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Market Design / Alvin Roth / Lloyd Shapley
% ============================================================================

:- module(constraint_matching_markets, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: matching_markets_general
 * human_readable: Matching Markets (Non-Commodity Exchange)
 * domain: economic/social/technological
 * temporal_scope: Biographical to Generational
 * spatial_scope: National to Global
 * * SUMMARY:
 * Unlike commodity markets where price clears the market (whoever pays the 
 * most gets the goods), matching markets involve "thick" preferences where 
 * the choice is mutual. You cannot simply "buy" a job at Google or a seat 
 * at Harvard; the other side must also choose you.
 * * KEY AGENTS:
 * - The Applicant: Seeks to be matched with a high-value institution.
 * - The Institution: Seeks to curate a specific cohort of participants.
 * - The Market Architect: Designs the rules (clearinghouses) that govern 
 * how matches are finalized.
 * * NARRATIVE ARC:
 * The constraint functions as a "Gatekeeper's Maze." Success depends not 
 * just on your own resources, but on the visibility of your preferences 
 * and the specific algorithmic or social rules used to pair "sides."
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(matching_markets_general, 0, 10).
narrative_ontology:constraint_claim(matching_markets_general, structural_coordination).

% Base extractiveness: Moderate (0.4). 
% Markets extract "signal" (effort, status, credentials) from participants 
% to facilitate the match.
domain_priors:base_extractiveness(matching_markets_general, 0.4).

% Suppression: High (0.7).
% "Unmatched" alternatives (black markets, side deals) are often strictly 
% prohibited to maintain market "thickness" and stability.
domain_priors:suppression_score(matching_markets_general, 0.7).

% Enforcement: Usually requires active enforcement (Clearinghouses/Regulations).
domain_priors:requires_active_enforcement(matching_markets_general).

% Beneficiaries: The Highly-Ranked (who get their top choices on both sides).
constraint_beneficiary(matching_markets_general, elite_participants).

% Victims: The "Thin" Participants (who lack the credentials or signaling power 
% to attract a match, leaving them stranded).
constraint_victim(matching_markets_general, low_signal_agents).

% Metrics
narrative_ontology:constraint_metric(matching_markets_general, extractiveness, 0.4).
narrative_ontology:constraint_metric(matching_markets_general, suppression_requirement, 0.7).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ELITE CANDIDATE - Rope
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: biographical
   WHERE: mobile
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For an elite agent (high credentials), the matching market is a "Rope." 
   It provides a structured, predictable ladder to a high-status outcome. 
   The market's rules protect them from the "chaos" of unregulated 
   negotiation and ensure their value is recognized.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    matching_markets_general,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(matching_markets_general, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE UNMATCHED APPLICANT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the agent who fails to secure a match in a "thick" market (like medical 
   residency or kidney exchange), the system is a "Noose." The high 
   suppression of alternatives means that failing to match within the 
   system is equivalent to total exclusion from the profession or resource.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    matching_markets_general,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(matching_markets_general, S),
    S > 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ECONOMIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: civilizational
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The economist sees the "laws of matching" as a "Mountain." The need 
   for thickness, the danger of market congestion, and the inevitability 
   of signaling costs are seen as natural features of information-dense 
   environments, regardless of the specific algorithm used.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    matching_markets_general,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(matching_markets_general),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(matching_markets_tests).

test(signal_power_variance) :-
    % Powerful agents navigate the rope; powerless agents are caught in the noose.
    constraint_indexing:constraint_classification(matching_markets_general, rope, context(agent_power(individual_powerful), _, _, _)),
    constraint_indexing:constraint_classification(matching_markets_general, noose, context(agent_power(individual_powerless), _, trapped, _)).

test(market_failure_threshold) :-
    % High suppression (S > 0.6) forces a Noose classification for trapped agents.
    domain_priors:suppression_score(matching_markets_general, S),
    S > 0.6.

:- end_tests(matching_markets_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Matching markets differ from auctions because they are about "who gets what" 
 * AND "who gets whom." I set suppression to 0.7 because centralized matching 
 * markets (like the NRMP for doctors) often penalize or ban side-deals, 
 * making the central match a mandatory bottleneck (Noose/Rope).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    preference_revelation_cost,
    "Do participants hide their true preferences to 'game' the match?",
    resolution_mechanism("Comparison of algorithmically derived matches vs. post-match regret surveys"),
    impact("If Gamed: The 'Mountain' is actually a 'Scaffold' (unstable). If True: The 'Mountain' is solid."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Price-Clearing Markets: (Ineffective for kidneys/jobs due to ethics/signaling).
 * 2. Decentralized Signaling: (Causes market 'congestion' and delayed offers).
 * * CONCLUSION:
 * The "Noose" aspect of matching markets is often a trade-off for "Market 
 * Thickness." By forcing everyone into one room (the Noose), you ensure the 
 * highest probability that a match exists (the Rope).
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/matching_markets_general].
 * 2. Run: ?- multi_index_report(matching_markets_general).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: max_flow_min_cut
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Ford-Fulkerson Algorithm / Network Flow Theory
% ============================================================================

:- module(constraint_max_flow_min_cut, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: max_flow_min_cut
 * human_readable: The Max-Flow Min-Cut Theorem
 * domain: technological/mathematical
 * temporal_scope: Immediate to Historical
 * spatial_scope: Regional to Global
 * * SUMMARY:
 * The Max-Flow Min-Cut theorem states that the maximum amount of flow passing 
 * from a source to a sink in a network is exactly equal to the total weight 
 * of the edges in the minimum cut (the smallest set of edges that, if removed, 
 * would disconnect the source from the sink).
 * * KEY AGENTS:
 * - The Network Architect: Designs the pipes/capacities (institutional power).
 * - The Flow: The data, water, or traffic moving through the system (passive).
 * - The Bottleneck: The specific "Min-Cut" edges that dictate the limit.
 * * NARRATIVE ARC:
 * The constraint acts as an invisible ceiling. No matter how much pressure or 
 * "flow" is added at the source, the system's throughput is hard-capped by the 
 * narrowest part of the network architecture.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(max_flow_min_cut, 0, 10).
narrative_ontology:constraint_claim(max_flow_min_cut, physical_limit).

% Base extractiveness: Moderate (0.4).
% While it's a math law, in human systems (logistics/telecom), the bottleneck 
% often "extracts" value by forcing congestion or fees at the narrowest point.
domain_priors:base_extractiveness(max_flow_min_cut, 0.4).

% Suppression: Low (0.2).
% The bottleneck is usually highly visible to those looking for it (monitoring tools).
domain_priors:suppression_score(max_flow_min_cut, 0.2).

domain_priors:emerges_naturally(max_flow_min_cut).

% Beneficiaries: The Bottleneck Owner (e.g., the bridge with the toll).
constraint_beneficiary(max_flow_min_cut, bottleneck_controller).

% Victims: The Source/Sink Users (limited by the narrowest path).
constraint_victim(max_flow_min_cut, end_users).

narrative_ontology:constraint_metric(max_flow_min_cut, extractiveness, 0.4).
narrative_ontology:constraint_metric(max_flow_min_cut, suppression_requirement, 0.2).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DATA PACKET - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a single unit of flow, the capacity of the edge it is currently on is 
   an immutable law. It cannot "push" harder to move faster than the 
   bandwidth allows.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    max_flow_min_cut,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:emerges_naturally(max_flow_min_cut),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE NETWORK ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: biographical
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   The engineer sees the bottleneck as a "Rope"—a tool for coordination. 
   By identifying the Min-Cut, they can strategically upgrade specific edges 
   to improve total flow efficiently.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    max_flow_min_cut,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MONOPOLIST - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: generational
   WHERE: arbitrage
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   A powerful agent who owns the bottleneck uses the Max-Flow limit as a 
   "Noose" to squeeze users. They purposefully keep capacity low to maintain 
   scarcity and high extraction rates.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    max_flow_min_cut,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(max_flow_min_cut, E),
    E >= 0.4,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(max_flow_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(max_flow_min_cut, Mountain, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(max_flow_min_cut, Rope, context(agent_power(institutional), _, _, _)),
    Mountain \= Rope.

test(bottleneck_awareness) :-
    % Testing if "mobile" agents (engineers) see it as a coordination rope.
    constraint_indexing:constraint_classification(max_flow_min_cut, rope, context(_, _, mobile, _)).

:- end_tests(max_flow_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * The "Max-Flow" problem is fundamentally about bottlenecks. 
 * While the math is a Mountain, the *application* of that math in 
 * socio-technical systems is often a Noose (extraction) or a Rope (design).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    dynamic_capacity,
    "Do edge capacities fluctuate based on flow history?",
    resolution_mechanism("Analysis of non-linear network dynamics / congestion collapse"),
    impact("If Capacities=Fixed: Max-Flow/Min-Cut holds. If Capacities=Dynamic: The 'Mountain' becomes a 'Sea' (shifting ground)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: medical_residency_match
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: National Resident Matching Program (NRMP) / Roth-Peranson Algorithm
% ============================================================================

:- module(constraint_medical_match, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: medical_residency_match
 * human_readable: The NRMP Medical Residency Match
 * domain: economic/social/technological
 * temporal_scope: Biographical (Final year of med school)
 * spatial_scope: National (USA)
 * * SUMMARY:
 * The "Match" is a centralized clearinghouse that uses a version of the 
 * Gale-Shapley algorithm (Roth-Peranson) to pair medical students with 
 * residency programs. It is a legally binding contract generated by an 
 * algorithm, designed to prevent "exploding offers" and market unraveling.
 * * KEY AGENTS:
 * - The Medical Student: Submits a Rank Order List (ROL) of programs.
 * - The Residency Program: Submits a Rank Order List of applicants.
 * - The NRMP: The institutional architect enforcing the "no-departure" rule.
 * * NARRATIVE ARC:
 * For decades, the market "unraveled"—hospitals made offers earlier and 
 * earlier, sometimes to students years before graduation. The Match was 
 * implemented as a stabilization mechanism, but it created a monolithic 
 * bottleneck that determines a doctor's entire career path in one second.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(medical_residency_match, 0, 10).
narrative_ontology:constraint_claim(medical_residency_match, structural_coordination).

% Base extractiveness: High (0.6).
% Hospitals gain significant wage-setting power because students cannot 
% negotiate individual contracts once matched.
domain_priors:base_extractiveness(medical_residency_match, 0.6).

% Suppression: Extreme (0.95).
% Side-deals (pre-matching) are strictly prohibited and can result in 
% being banned from the profession. The Match is the only legal path.
domain_priors:suppression_score(medical_residency_match, 0.95).

% Enforcement: Requires active enforcement (NRMP legal framework).
domain_priors:requires_active_enforcement(medical_residency_match).

% Beneficiaries: Hospital Systems (predictable labor supply, suppressed wages).
constraint_beneficiary(medical_residency_match, hospital_networks).

% Victims: Fourth-year Med Students (lack of bargaining power, high stress).
constraint_victim(medical_residency_match, medical_graduates).

% Metrics
narrative_ontology:constraint_metric(medical_residency_match, extractiveness, 0.6).
narrative_ontology:constraint_metric(medical_residency_match, suppression_requirement, 0.95).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE STUDENT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate (Match Day)
   WHERE: trapped (Binding legal contract)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the student, the Match is a "Noose." They have no "exit" option; 
   once the algorithm runs, they are legally bound to work at the 
   resulting hospital, often in a different city, with no room to 
   negotiate salary or hours. The suppression of side-deals makes 
   it a mandatory bottleneck.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    medical_residency_match,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(medical_residency_match, S),
    S > 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE HOSPITAL ADMINISTRATOR - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: generational
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   To the hospital, the Match is a "Rope." it coordinates the chaos of 
   recruiting thousands of residents simultaneously. It ensures they 
   fill their quotas with the "best" available candidates according 
   to their rank list, preventing a bidding war for talent.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    medical_residency_match,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LABOR ECONOMIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The economist sees the Match as a "Mountain." Market unraveling 
   (congestion) is a natural economic force. A centralized 
   clearinghouse is the only "stable" solution to this game-theoretic 
   problem. The algorithm isn't a choice; it's a structural necessity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    medical_residency_match,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(medical_residency_match),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(medical_match_tests).

test(exit_option_noose) :-
    % Testing that 'trapped' agents (students) experience a Noose.
    constraint_indexing:constraint_classification(medical_residency_match, noose, context(_, _, trapped, _)).

test(coordination_rope) :-
    % Testing that institutions see the Rope of coordination.
    constraint_indexing:constraint_classification(medical_residency_match, rope, context(institutional, _, _, _)).

:- end_tests(medical_match_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * The medical match is the "hardest" version of a matching market. 
 * I set suppression to 0.95 because there is literally no other way to 
 * become a licensed physician in the US without going through this 
 * specific algorithm. This makes it a perfect example of a "Noose" 
 * from the perspective of the individual laborer.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    antitrust_exemption,
    "Will the legal exemption allowing the Match to suppress wage competition be overturned?",
    resolution_mechanism("Supreme Court or Congressional review of Jung v. Association of American Medical Colleges"),
    impact("If Yes: The 'Mountain' collapses into a decentralized 'Auction' (Rope/Noose reversal)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Decentralized Labor Market: (History shows this leads to 'exploding offers' 
 * and market failure/unraveling).
 * 2. Multi-Stage Match: (Allows for some negotiation after the first match).
 * * CONCLUSION:
 * The Match is a "Stable" outcome (Mountain), but the *price* of that 
 * stability is the removal of student agency (Noose).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: medieval_church_hegemony
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Historical Synthesis (Medieval Canon Law & Social Structures c. 1200 CE)
% ============================================================================

:- module(medieval_church_hegemony, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: medieval_church_hegemony
 * human_readable: The Medieval Ecclesiastical Hegemony
 * domain: religious/economic/political
 * temporal_scope: c. 1100-1400 CE
 * spatial_scope: Latin Christendom (Europe)
 * * SUMMARY:
 * A comprehensive social and spiritual constraint system where the Church 
 * controls the "means of salvation." It features mandatory tithing (10% tax), 
 * Latin-only liturgy (blocking direct textual access), and the threat of 
 * excommunication to enforce social and political compliance.
 * * KEY AGENTS:
 * - The Peasant (Laboratores): Powerless subjects providing the economic base via tithes.
 * - The Bishop/Clergy (Oratores): Institutional rule-makers and gatekeepers of grace.
 * - The Heretic/Dissenter: Subjects attempting "analytical" exit, facing high suppression.
 * * NARRATIVE ARC:
 * The Church functions as a cosmic "Mountain" for the faithful, providing 
 * meaning and social safety nets, but acts as a "Noose" for those seeking 
 * economic or intellectual independence from the papal hierarchy.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(medieval_church_hegemony, 0, 10).
narrative_ontology:constraint_claim(medieval_church_hegemony, mountain).

% Base extractiveness: High (0.7). 
% Rationale: The 10% tithe was mandatory and often enforced by civil law, 
% while the Church owned roughly 1/3 of European land.
domain_priors:base_extractiveness(medieval_church_hegemony, 0.7).

% Suppression score: High (0.9). 
% Rationale: Scripture was restricted to Latin; vernacular translations 
% were often suppressed or labeled heretical to maintain the clergy's 
% role as sole intermediaries.
domain_priors:suppression_score(medieval_church_hegemony, 0.9).

% Enforcement: Requires active enforcement (Inquisition, Interdicts, Tithe collectors).
domain_priors:requires_active_enforcement(medieval_church_hegemony).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(medieval_church_hegemony, extractiveness, 0.7).
narrative_ontology:constraint_metric(medieval_church_hegemony, suppression_requirement, 0.9).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SERF/PEASANT - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: biographical
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the illiterate peasant, the Church is the literal fabric of reality. 
   The liturgical year dictates time, and the priest holds the keys to 
   eternity. With no alternative worldviews available (high suppression), 
   the system appears as an unchangeable natural law.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    medieval_church_hegemony,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(medieval_church_hegemony, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MONARCH/NOBILITY - Rope
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: historical
   WHERE: constrained
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   Kings and Lords use the Church as a functional coordination mechanism 
   (Rope) to legitimize their rule via "Divine Right." While they clash 
   with the Pope over investiture, they rely on the Church for literacy, 
   administration, and social stability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    medieval_church_hegemony,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(medieval_church_hegemony, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SUPPRESSED DISSENTER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For groups like the Cathars or early Lollards, the Church is a Noose. 
   The refusal to pay tithes or the desire for vernacular scripture 
   results in asymmetric violence, asset forfeiture, and physical 
   annihilation.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    medieval_church_hegemony,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(regional)
    )
) :-
    domain_priors:requires_active_enforcement(medieval_church_hegemony),
    domain_priors:base_extractiveness(medieval_church_hegemony, E),
    E > 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(medieval_church_tests).

test(perspectival_shift) :-
    constraint_indexing:constraint_classification(medieval_church_hegemony, Mountain, context(individual_powerless, biographical, trapped, local)),
    constraint_indexing:constraint_classification(medieval_church_hegemony, Rope, context(individual_powerful, historical, constrained, national)),
    Mountain \= Rope.

test(tithe_extractiveness) :-
    % Test that powerless agents feel more extraction than institutional ones
    true.

:- end_tests(medieval_church_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION (0.9): Chosen due to the explicit ban on laypeople owning 
 * vernacular bibles (e.g., Council of Toulouse, 1229).
 * 2. EXTRACTIVENESS (0.7): While the tithe was a 10% extraction, the 
 * Church also provided "social insurance" (hospitals, poor relief) which 
 * distinguishes it from a 1.0 "pure robbery" Noose.
 * 3. PERSPECTIVES: I used the "Monarch" to show how a constraint can be a 
 * "Rope" for one class while being a "Mountain" or "Noose" for another.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Vernacular Scripture
 * Viability: Successfully implemented later during the Reformation.
 * Suppression: Actively suppressed by Clerical monopoly on Latin.
 * * ALTERNATIVE 2: Voluntary Charity (vs. Mandatory Tithe)
 * Viability: Practiced by mendicant orders (Franciscans) but discouraged 
 * as a systemic replacement for the parochial tithe.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * ?- [medieval_church_hegemony].
 * ?- run_tests(medieval_church_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: mil_std_461g_emi_control
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: MIL-STD-461G - Control of Electromagnetic Interference Characteristics
% ============================================================================

:- module(constraint_mil_std_461g_emi_control, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: mil_std_461g_emi_control
 * human_readable: MIL-STD-461G EMI Interface Standard
 * domain: technological/military/electronic
 * temporal_scope: 2015 - Present
 * spatial_scope: Global (DoD systems and equipment)
 * * SUMMARY:
 * MIL-STD-461G establishes interface requirements for the control of electromagnetic 
 * interference (EMI) characteristics of subsystems and equipment. 
 * It is designed to ensure that equipment functions within its designated design 
 * tolerances in a complex military electromagnetic environment.
 * * KEY AGENTS:
 * - Equipment Contractor: The entity responsible for designing and testing hardware 
 * to meet these specific, often costly, requirements.
 * - Procuring Activity (DoD Official): The institutional power that enforces 
 * compliance but has the authority to "tailor" the requirements.
 * - EMI Engineer: The analytical observer who views these requirements as a 
 * formalization of the unchangeable laws of physics (electromagnetism).
 * * NARRATIVE ARC:
 * Originally conceived as a "Rope" for functional coordination to prevent 
 * platform-level failures, the standard often functions 
 * as a "Noose" for smaller contractors due to the high barrier of entry for 
 * specialized testing equipment and expertise.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(mil_std_461g_era, 2015, 2026).
narrative_ontology:constraint_claim(mil_std_461g_emi_control, rope).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.5). Compliance requires expensive specialized testing 
% infrastructure, shielded cables, and expert labor.
domain_priors:base_extractiveness(mil_std_461g_emi_control, 0.5).

% Suppression score (0.0-1.0)
% Rationale: Moderate (0.4). While tailoring is possible, alternative commercial 
% standards (e.g., FCC) are often functionally suppressed/rejected for high-stakes 
% military applications.
domain_priors:suppression_score(mil_std_461g_emi_control, 0.4).

% Enforcement: Requires active maintenance (Testing, verification, and contract oversight).
domain_priors:requires_active_enforcement(mil_std_461g_emi_control).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(mil_std_461g_emi_control, extractiveness, 0.5).
narrative_ontology:constraint_metric(mil_std_461g_emi_control, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(mil_std_461g_emi_control, dod_mission_safety).
constraint_beneficiary(mil_std_461g_emi_control, test_lab_facilities).
constraint_victim(mil_std_461g_emi_control, small_defense_contractors).
constraint_victim(mil_std_461g_emi_control, innovative_untested_cots).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: DEFENSE CONTRACTOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Must comply with the standard to receive payment.
   WHEN: immediate - Focused on the current contract delivery and testing cycle.
   WHERE: trapped - Bound by the specific requirements stated in the contract.
   SCOPE: local - Focused on the specific subsystem being tested.
   
   WHY THIS CLASSIFICATION:
   The contractor sees the standard as a "Noose" because it imposes asymmetric 
   costs. Failure in a single EMI test (e.g., radiated emissions) can lead to 
   costly redesigns and project delays, effectively extracting resources 
   without guaranteed payoff.
   
   NARRATIVE EVIDENCE:
   "Tightening of connectors and introduction of additional isolation... better 
   shielded cables, alternative routing, or shielding barriers".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    mil_std_461g_emi_control,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: DOD PROCURING ACTIVITY - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Has the power to "tailor" the individual requirements.
   WHEN: biographical - Planning for the multi-decade lifecycle of a platform.
   WHERE: mobile - Can adjust the severity of requirements based on the platform.
   SCOPE: national - Applies to all DoD Departments and Agencies.
   
   WHY THIS CLASSIFICATION:
   For the DoD official, the standard is a "Rope" for functional coordination. 
   It ensures that different subsystems function together in a designated 
   electromagnetic environment (EME) without interfering with each other 
  .
   
   NARRATIVE EVIDENCE:
   "The procuring activity should consider tailoring the individual requirements 
   to be more or less severe based on the design features of the intended 
   platform".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    mil_std_461g_emi_control,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: EMI SPECIALIST / SCIENTIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the laws of electromagnetism.
   WHEN: historical - Based on the immutable nature of electronic interference.
   WHERE: analytical - Not physically trapped; observing the system.
   SCOPE: global - The physics of EMI apply to all equipment everywhere.
   
   WHY THIS CLASSIFICATION:
   The scientist sees the standard as a formalization of a "Mountain." The 
   requirements for control of EMI aren't arbitrary bureaucratic rules; they 
   are necessary responses to the unchangeable laws of physics that dictate 
   how electronic components interact.
   
   NARRATIVE EVIDENCE:
   " function within their designated design tolerances when operating in 
   their intended electromagnetic environment".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    mil_std_461g_emi_control,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(mil_std_461g_emi_control_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(mil_std_461g_emi_control, Type1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(mil_std_461g_emi_control, Type2, context(institutional, biographical, mobile, national)),
    Type1 = noose,
    Type2 = rope.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, mobile, national),
    constraint_indexing:extractiveness_for_agent(mil_std_461g_emi_control, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(mil_std_461g_emi_control, ContextPowerful, Score2),
    Score1 > Score2.

test(analytical_mountain_observation) :-
    constraint_indexing:constraint_classification(mil_std_461g_emi_control, mountain, context(analytical, historical, analytical, global)).

:- end_tests(mil_std_461g_emi_control_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.5):
 * Reasoning: compliance is famously expensive. It requires specialized 
 * shielded chambers, unique antennas, and highly trained engineers.
 * Evidence: The standard explicitly mentions methods for checking and 
 * correcting problems with shielded cables and barriers.
 * * 2. SUPPRESSION SCORE (0.4):
 * Reasoning: while the document explicitly allows tailoring, 
 * this tailoring is an internal DoD process. For a contractor, the standard 
 * effectively suppresses cheaper commercial-grade EMI alternatives.
 * * 3. PERSPECTIVE SELECTION:
 * Chose Contractor (Noose), DoD Official (Rope), and Scientist (Mountain) 
 * to demonstrate the full spectrum of indexical truth.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    tailoring_effectiveness,
    "Does tailoring actually reduce costs for contractors, or is it used primarily to increase severity?",
    resolution_mechanism("Audit of tailoring decisions across 100 DoD acquisition programs"),
    impact("If beneficial: Standard is a true Rope. If punitive: Standard is a Noose for all."),
    confidence_without_resolution(medium)
).

omega_variable(
    lab_vs_field_fidelity,
    "Do laboratory interface requirements actually prevent interference in the chaotic real-world battlefield?",
    resolution_mechanism("Compare lab-tested reliability against battlefield performance logs over 5 years"),
    impact("If High Fidelity: Mountain. If Low Fidelity: Scaffold (Hollow)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Commercial EMI Standards (FCC Part 15 / CISPR)
 * Viability: Much lower cost; ubiquitous in consumer electronics.
 * Suppression: Rejected for military use because it lacks the severity 
 * necessary for platform-level survivability.
 * * ALTERNATIVE 2: Pure Modeling and Simulation
 * Viability: Reduces the need for physical chambers.
 * Suppression: Currently used as a supplement, but the standard still 
 * mandates physical "verification" methods.
 * * CONCLUSION:
 * The presence of tailoring and specific verification methods cements the 
 * standard as a Rope for those with power, but the active rejection of 
 * commercial standards makes it a Noose for those tasked with compliance.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [constraint_mil_std_461g_emi_control].
% Run tests: ?- run_tests(mil_std_461g_emi_control_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: mil_std_810f_tailoring
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: MIL-STD-810F - Environmental Engineering Considerations and Laboratory Tests
% ============================================================================

:- module(constraint_mil_std_810f_tailoring, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: mil_std_810f_tailoring
 * human_readable: MIL-STD-810F Environmental Tailoring
 * domain: technological/military/industrial
 * temporal_scope: 2000 - Present (Operational era of the "F" revision)
 * spatial_scope: Global (Applied to all DoD materiel acquisition)
 * * SUMMARY:
 * MIL-STD-810F is a Department of Defense standard focused on "tailoring a materiel item's 
 * environmental design and test limits to the conditions that the specific materiel will 
 * experience throughout its service life". It emphasizes 
 * replicating the *effects* of environments rather than the environments themselves 
 *.
 * * KEY AGENTS:
 * - Test Lab Engineer: The individual executing the grueling test methods; often 
 * constrained by the "fixed" nature of the standard's procedures.
 * - DoD Acquisition Official: The institutional agent who uses the standard as a 
 * coordination mechanism to ensure mission-ready equipment.
 * - Environmental Scientist: The analytical observer who views the standard as a 
 * formalization of the "natural laws" of material degradation.
 * * NARRATIVE ARC:
 * The standard moves from being an institutional "Rope" (a tool for design guidance) 
 * to a "Mountain" of physical reality for the materiel 
 * itself, while occasionally acting as a "Noose" for contractors who must absorb 
 * the costs of failure in a laboratory setting.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(mil_std_810f_era, 2000, 2026).
narrative_ontology:constraint_claim(mil_std_810f_tailoring, rope).

% Base extractiveness score: 0.5
% Rationale: Moderate. The standard "extracts" significant engineering and 
% financial resources from developers to ensure equipment survivability.
domain_priors:base_extractiveness(mil_std_810f_tailoring, 0.5).

% Suppression score: 0.4
% Rationale: While "tailoring" is encouraged, 
% alternative (non-DoD approved) testing methods are functionally invisible 
% and punished by contract rejection.
domain_priors:suppression_score(mil_std_810f_tailoring, 0.4).

% Enforcement: Requires active maintenance through DoD acquisition cycles.
domain_priors:requires_active_enforcement(mil_std_810f_tailoring).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(mil_std_810f_tailoring, dod_personnel). % Safer, reliable gear.
constraint_beneficiary(mil_std_810f_tailoring, service_members).
constraint_victim(mil_std_810f_tailoring, defense_contractors). % Bearing the cost of testing.
constraint_victim(mil_std_810f_tailoring, acquisition_budgets).

% Metrics required for Executive Summary
narrative_ontology:constraint_metric(mil_std_810f_tailoring, extractiveness, 0.5).
narrative_ontology:constraint_metric(mil_std_810f_tailoring, suppression_requirement, 0.4).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: TEST LAB ENGINEER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound to follow the "clearest direction" of the standard.
   WHEN: immediate - Focused on the 1-year test cycle and immediate results.
   WHERE: trapped - Cannot exit the standard if the contract mandates "MIL-STD-810F."
   SCOPE: local - Concerned with the specific test chamber and laboratory environment.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the standard is a "Noose" that dictates asymmetric effort. 
   Failure in the lab means a recursive loop of redesign and re-testing, extracting 
   personal and professional time to satisfy a rigid "F" revision cycle.
   
   NARRATIVE EVIDENCE:
   "The primary emphases are still the same... establishing laboratory test methods 
   that replicate the effects of environments".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    mil_std_810f_tailoring,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: ACQUISITION OFFICIAL - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Has the power to "tailor" the standard for applications.
   WHEN: biographical - Spanning the 20-50 year lifecycle of a weapon system.
   WHERE: mobile - Can adjust the "environmental design and test limits".
   SCOPE: national - Applies to all Departments and Agencies of the DoD.
   
   WHY THIS CLASSIFICATION:
   For the official, the standard is a "Rope" for functional coordination. 
   It is a tool used to ensure that various project teams are working toward a 
   common, reliable standard of "materiel acquisition".
   
   NARRATIVE EVIDENCE:
   "This revision recognizes that the environmental design and test tailoring process 
   has expanded to involve a wide range of managerial and technical interests" 
  .
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    mil_std_810f_tailoring,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: ENVIRONMENTAL SCIENTIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the "environmental considerations".
   WHEN: historical - Based on the long history of environmental stress on materials.
   WHERE: analytical - Sees the "conditions that the specific materiel will experience".
   SCOPE: global - Worldwide environmental effects (sand, dust, temperature).
   
   WHY THIS CLASSIFICATION:
   The scientist sees the standard as a map of a "Mountain." The requirements 
   aren't arbitrary; they are a formalization of the "natural laws" of physics. 
   Corrosion and heat damage are unchangeable features of the reality the 
   equipment must inhabit.
   
   NARRATIVE EVIDENCE:
   "replicate the effects of environments on materiel rather than trying to reproduce 
   the environments themselves".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    mil_std_810f_tailoring,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(mil_std_810f_tailoring_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(mil_std_810f_tailoring, Noose, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(mil_std_810f_tailoring, Rope, context(institutional, biographical, mobile, national)),
    Noose = noose,
    Rope = rope.

test(power_extractiveness_scaling) :-
    ContextEngineer = context(individual_powerless, immediate, trapped, local),
    ContextDOD = context(institutional, biographical, mobile, national),
    constraint_indexing:extractiveness_for_agent(mil_std_810f_tailoring, ContextEngineer, Score1),
    constraint_indexing:extractiveness_for_agent(mil_std_810f_tailoring, ContextDOD, Score2),
    Score1 > Score2.

test(analytical_mountain_fixity) :-
    constraint_indexing:constraint_classification(mil_std_810f_tailoring, mountain, context(analytical, historical, analytical, global)).

:- end_tests(mil_std_810f_tailoring_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.5):
 * Reasoning: The standard mandates a high level of technical rigor which 
 * effectively extracts value (capital/labor) from the contractor to benefit 
 * the end-user's safety.
 * * 2. SUPPRESSION SCORE (0.4):
 * Reasoning: Alternatives to these test methods exist but are suppressed 
 * by the "approved for use by all Departments and Agencies" clause 
 *.
 * * 3. PERSPECTIVE SELECTION:
 * Chose Engineer (Powerless), Official (Institutional), and Scientist 
 * (Analytical) to demonstrate the full Mountain/Rope/Noose spread.
 * * 4. AMBIGUITIES:
 * The term "tailoring" implies flexibility (Rope), but the mandatory nature 
 * of the standard for DoD contracts suggests a Noose for subordinates.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    lab_vs_field_fidelity,
    "Do laboratory simulations truly replicate the 'effects' of the service environment?",
    resolution_mechanism("Post-deployment audit of field failures vs predicted lab failures over 10 years"),
    impact("If Yes: Standard is a true Mountain (Natural Law). If No: Standard is a Scaffold (Hollow)."),
    confidence_without_resolution(medium)
).

omega_variable(
    tailoring_competence_variance,
    "Does the wide range of 'managerial and technical interests' lead to effective tailoring or bureaucratic bloat?",
    resolution_mechanism("Analysis of mission success rates correlated with the degree of standard tailoring performed."),
    impact("If Effective: Rope. If Bloat: Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Field-only Testing (Trial by Fire)
 * Viability: Used in rapid-response scenarios; skip the lab and go to the desert.
 * Suppression: Explicitly rejected in the Foreword in favor of "environmental 
 * tailoring process throughout the materiel acquisition cycle".
 * * ALTERNATIVE 2: Pure Modeling and Simulation (Digital Twins)
 * Viability: Increasingly viable with modern compute.
 * Suppression: 810F emphasizes "laboratory test methods".
 * * CONCLUSION:
 * The shift from MIL-STD-810E to 810F explicitly suppressed static environments 
 * in favor of effect-based tailoring, cementing its role as an active Rope.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [mil_std_810f_tailoring].
% Run tests: ?- run_tests(mil_std_810f_tailoring_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: minimax_decision_rule
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: John von Neumann (1928) / Game Theory / Decision Theory
% ============================================================================

:- module(constraint_minimax_decision_rule, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: minimax_decision_rule
 * human_readable: Minimax Decision Rule
 * domain: technological/mathematical
 * temporal_scope: 1928 - Present
 * spatial_scope: Global/Abstract (Zero-sum strategic environments)
 * * SUMMARY:
 * Minimax is a decision rule used in game theory and artificial intelligence for 
 * minimizing the possible loss for a worst-case (maximum loss) scenario. In a 
 * zero-sum game, it represents the point where one player's gain is exactly equal 
 * to the other's loss, establishing a stable but often conservative equilibrium.
 * * KEY AGENTS:
 * - The Search Algorithm (Subject): A powerless agent bound by the recursive 
 * logic of the search tree.
 * - The System Architect (Institutional): Uses Minimax as a "Rope" to guarantee 
 * baseline security in adversarial environments.
 * - The Opponent (Victim): An agent whose creative or aggressive strategies are 
 * "strangled" by an algorithm that plays perfectly to minimize their potential wins.
 * * NARRATIVE ARC:
 * Minimax functions as a "Mountain" of logical inevitability—in a zero-sum 
 * universe, it is the fundamental floor of safety. In cybersecurity and 
 * high-stakes negotiation, it is a "Rope" for functional coordination. 
 * However, for the creative agent seeking a "big win," the rule acts as a 
 * "Noose," extracting the possibility of high-reward variance and "strangling" 
 * the game into a predictable, risk-averse stalemate.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required structural anchor
narrative_ontology:interval(minimax_era, 1928, 2026).
narrative_ontology:constraint_claim(minimax_decision_rule, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.3. It "extracts" the potential for maximum gain (Maximax) in 
% favor of guaranteed minimums, imposing a "tax" of conservatism on the agent.
domain_priors:base_extractiveness(minimax_decision_rule, 0.3).

% Suppression score (0.0-1.0)
% Rationale: 0.2. It suppresses high-risk, high-reward "exploitative" strategies 
% in favor of "optimal" defensive play.
domain_priors:suppression_score(minimax_decision_rule, 0.2).

% Enforcement: Emerges naturally from the desire to survive adversarial encounters.
domain_priors:emerges_naturally(minimax_decision_rule).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(minimax_decision_rule, extractiveness, 0.3).
narrative_ontology:constraint_metric(minimax_decision_rule, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(minimax_decision_rule, conservative_investors).
constraint_beneficiary(minimax_decision_rule, adversarial_security_systems).
constraint_victim(minimax_decision_rule, high_variance_gamblers).
constraint_victim(minimax_decision_rule, innovative_asymmetric_attackers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE AI SEARCH NODE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For an individual node in a minimax search tree, the value assigned by the 
   algorithm is a natural law. It has no agency to "hope" for a better outcome; 
   it is bound by the recursive $V = \min_{a} \max_{b} U(a,b)$.
   
   NARRATIVE EVIDENCE:
   "The algorithm does not play to win; it plays to ensure it does not lose 
   more than the value of the game."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    minimax_decision_rule,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE NETWORK DEFENDER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional
   WHEN: biographical
   WHERE: mobile
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the defender, Minimax is a "Rope"—a tool for functional coordination. 
   It allows them to coordinate a standard of achievement (security) by 
   assuming the worst-case attacker behavior, pulling the system toward a 
   stable, defensible state.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    minimax_decision_rule,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE STRATEGIC INNOVATOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless
   WHEN: immediate
   WHERE: constrained
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For the innovator, the rule is a "Noose." It "strangles" creative 
   risk-taking. The algorithm’s refusal to leave its conservative 
   equilibrium extracts the potential for breakthrough "big wins," trapping 
   the innovator in a cycle of marginal, defensive gains.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    minimax_decision_rule,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :- 
    domain_priors:base_extractiveness(minimax_decision_rule, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(minimax_decision_rule_tests).

test(multi_perspective_variance) :-
    % Node -> Mountain
    constraint_indexing:constraint_classification(minimax_decision_rule, Type1, context(individual_powerless, immediate, trapped, local)),
    % Defender -> Rope
    constraint_indexing:constraint_classification(minimax_decision_rule, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, mobile, global),
    constraint_indexing:extractiveness_for_agent(minimax_decision_rule, ContextPowerless, S1),
    constraint_indexing:extractiveness_for_agent(minimax_decision_rule, ContextPowerful, S2),
    S1 > S2. % Powerless agent (innovator) feels more extraction of opportunity.

test(emergence) :-
    domain_priors:emerges_naturally(minimax_decision_rule).

:- end_tests(minimax_decision_rule_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.3): Chose this because Minimax is inherently about 
 * sacrificing potential upside for safety. It extracts the "dream" 
 * of the agent to enforce the "reality" of the opponent.
 * 2. CLASSIFICATION: Captured the transition from a "Mountain" of logic for 
 * the machine to a "Noose" of boredom/stalemate for the player.
 */

% OMEGA IDENTIFICATION
omega_variable(
    adversarial_rationality,
    "Does Minimax remain a 'Mountain' if the opponent is irrational (Scaffold)?",
    resolution_mechanism("Comparison of Minimax vs Expectiminimax performance against stochastic/irrational agents."),
    impact("If irrationality prevails, Minimax is a 'Noose' that extracts unnecessary caution."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Maximax (Aggressive/Risk-seeking)
 * Viability: Useful in non-zero-sum games with high rewards.
 * Suppression: Actively suppressed in formal security/adversarial training 
 * because it leads to catastrophic failure in worst-case scenarios.
 * * ALTERNATIVE 2: Expected Utility (Bayesian/Probabilistic)
 * Viability: The standard when the opponent's strategy is predictable.
 * Conclusion: The existence of probabilistic alternatives (Ropes) makes 
 * the Minimax "Noose" only relevant when the opponent is a "Perfect Demon."
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [minimax_decision_rule].
% Analyze: ?- constraint_indexing:multi_index_report(minimax_decision_rule).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: monty_hall_conditional_probability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Steve Selvin (1975) / Marilyn vos Savant (1990)
% ============================================================================

:- module(constraint_monty_hall, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: monty_hall_conditional_probability
 * human_readable: The Monty Hall Problem
 * domain: mathematical/probabilistic
 * temporal_scope: 1975 - Present
 * spatial_scope: Global/Abstract (Game Theory)
 * * SUMMARY:
 * The Monty Hall problem is a counter-intuitive probability puzzle based on a 
 * game show scenario. It demonstrates how new information (opening a door) 
 * shifts probabilities in a way that defies linear human intuition, creating 
 * a structural constraint where "switching" is mathematically superior.
 * * KEY AGENTS:
 * - The Contestant (Subject): The powerless agent facing a choice with 
 * hidden variables and counter-intuitive odds.
 * - The Game Show Host (Institutional): The rule-enforcer who knows the 
 * location of the "Car" and uses the constraint to maintain dramatic tension.
 * - The Intuitive Skeptic (Victim): An agent whose common-sense logic 
 * ("it's 50/50") is "strangled" by the underlying Bayesian Mountain.
 * * NARRATIVE ARC:
 * The problem functions as a "Mountain" of Bayesian reality—the 2/3 vs 1/3 
 * odds are a fixed, unyielding truth of the system's state space. In 
 * education, it is a "Rope" for coordinating an understanding of conditional 
 * probability. However, for the contestant's ego, the paradox acts as a 
 * "Noose," extracting the possibility of a "rational" 50/50 choice and 
 * "strangling" those who refuse to pivot when the rules shift.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor for the Deferential Realism Auditor
narrative_ontology:interval(probability_paradox_era, 1975, 2026).
narrative_ontology:constraint_claim(monty_hall_conditional_probability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.33. The paradox "extracts" 1/3 of the winning probability from 
% those who stay with their original choice, effectively taxing "loyalty" 
% or "stasis" in a changing environment.
domain_priors:base_extractiveness(monty_hall_conditional_probability, 0.33).

% Suppression score (0.0-1.0)
% Rationale: 0.6. It heavily suppresses the visibility of the "50/50" 
% alternative, rendering the intuitive answer mathematically fraudulent 
% and socially ridiculed in academic circles.
domain_priors:suppression_score(monty_hall_conditional_probability, 0.6).

% Enforcement: Emerges naturally from the laws of conditional probability.
domain_priors:emerges_naturally(monty_hall_conditional_probability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(monty_hall_conditional_probability, extractiveness, 0.33).
narrative_ontology:constraint_metric(monty_hall_conditional_probability, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(monty_hall_conditional_probability, bayesian_statisticians).
constraint_beneficiary(monty_hall_conditional_probability, logical_pivoters).
constraint_victim(monty_hall_conditional_probability, intuitive_thinkers).
constraint_victim(monty_hall_conditional_probability, static_choice_advocates).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DOORS (STATE SPACE) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The physical configuration of the car has no agency.
   WHEN: immediate - The probability is set the moment the car is placed.
   WHERE: trapped - Bound within the three-door system.
   SCOPE: local - Immediate physical arrangement.
   
   WHY THIS CLASSIFICATION:
   For the system itself, the conditional probabilities are a natural law. 
   Opening a goat-door *must* concentrate the remaining probability into 
   the unchosen, unopened door. It is an unyielding Mountain of logic.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    monty_hall_conditional_probability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PROBABILITY PROFESSOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to use the paradox to coordinate classroom learning.
   WHEN: biographical - Spanning the duration of a student's cognitive shift.
   WHERE: mobile - Can choose different variants (100 doors) to illustrate the point.
   SCOPE: global - Universal pedagogical tool.
   
   WHY THIS CLASSIFICATION:
   For the educator, the problem is a "Rope"—a functional coordination 
   mechanism. It allows them to "pull" students away from the "Noose" of 
   faulty intuition toward a standard of achievement in Bayesian thinking.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    monty_hall_conditional_probability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SKEPTICAL CONTESTANT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Lacks the tools to compute the shift in real-time.
   WHEN: immediate - Forced to choose between switching or staying NOW.
   WHERE: constrained - The "exit" (switching) feels like a betrayal of intuition.
   SCOPE: local - A specific, high-stakes game.
   
   WHY THIS CLASSIFICATION:
   For the intuitive thinker, the problem is a "Noose." It "strangles" their 
   common-sense confidence. Because they perceive a 50/50 choice, the system 
   extracts 33% of their winning chance (extraction) if they fail to 
   overcome their cognitive bias. The logic of the host "chokes" their 
   original intent.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    monty_hall_conditional_probability,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(monty_hall_conditional_probability, E),
    E >= 0.3,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(monty_hall_conditional_probability_tests).

test(multi_perspective_variance) :-
    % Doors -> Mountain
    constraint_indexing:constraint_classification(monty_hall_conditional_probability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Professor -> Rope
    constraint_indexing:constraint_classification(monty_hall_conditional_probability, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(intuitive_extraction_penalty) :-
    % Demonstrates that the Noose classification extracts more value (win %) from the powerless agent.
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    constraint_indexing:extractiveness_for_agent(monty_hall_conditional_probability, ContextPowerless, Score),
    Score >= 0.33.

test(natural_emergence) :-
    domain_priors:emerges_naturally(monty_hall_conditional_probability).

:- end_tests(monty_hall_conditional_probability_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.33): 
 * The system is mathematically biased against the "Stay" strategy. It 
 * extracts exactly 33.3% of the potential win-rate compared to the "Switch" 
 * strategy.
 * 2. PERSPECTIVE SELECTION: 
 * Chose Doors (Subject), Professor (Institution), and Skeptic (Victim) 
 * to highlight the gap between "State," "Utility," and "Trap."
 * 3. SUPPRESSION SCORE (0.6): 
 * The paradox is famous because it so effectively suppresses the "linear" 
 * alternative, making those who hold onto it look "irrational."
 */

% OMEGA IDENTIFICATION
omega_variable(
    host_behavior_certainty,
    "Is the 'Mountain' stable if the host's behavior is not guaranteed (e.g., Monty only offers the switch when you have the car)?",
    resolution_mechanism("Meta-analysis of game rules and host intent across different game show iterations."),
    impact("If Host is malicious: The 'Switch' Rope becomes a 'Noose'. If Host is rule-bound: It is a Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: The "Stay" Strategy
 * Viability: Winning 1/3 of the time.
 * Suppression: Actively suppressed by math educators as "wrong."
 * Evidence: Vos Savant's column receiving thousands of angry (incorrect) letters.
 * * ALTERNATIVE 2: Malicious Host (The "Monty Fall" variant)
 * Viability: If the host only opens a door when you are currently winning.
 * Suppression: Ignored in the standard "idealized" version of the problem.
 * * CONCLUSION:
 * The standard problem assumes a "Rule-Bound" host, turning the "Switch" into 
 * a "Rope." If the host is not rule-bound, the entire Mountain collapses 
 * into a psychological Scaffold.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [monty_hall_conditional_probability].
 * 2. Multi-perspective: ?- multi_index_report(monty_hall_conditional_probability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: moores_law
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Moore, G. E. (1965) / Semiconductor Physics
% ============================================================================

:- module(constraint_moores_law, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: moores_law
 * human_readable: Moore's Law
 * domain: technological/economic
 * temporal_scope: 1965-Present (The Silicon Era)
 * spatial_scope: Global (Computational Hardware)
 * * SUMMARY:
 * Moore's Law is the observation that the number of transistors on a 
 * microchip doubles approximately every two years, while the cost of 
 * computers is halved. It is less a physical law and more a self-fulfilling 
 * prophecy or a "socially enforced" pace of innovation that has driven 
 * the digital revolution.
 * * KEY AGENTS:
 * - The Semiconductor Engineer: Bound to the "treadmill" of miniaturization.
 * - The Software Developer: Relies on "free" hardware gains to offset 
 * inefficient code (Wirth's Law).
 * - The Strategic Investor: Uses the law as a predictable clock for 
 * capital deployment and market obsolescence.
 * * NARRATIVE ARC:
 * Originally a Rope (a beneficial coordination target), Moore's Law has 
 * become a Mountain (an seemingly immutable pace of progress) and a 
 * Noose for manufacturers who must spend billions in R&D just to stay 
 * in the same place relative to the market.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(moores_law_interval, 0, 10).
narrative_ontology:constraint_claim([moores_law], empirical_observation).

% Base extractiveness: 0.3 (Low-Moderate)
% Rationale: It extracts value through planned obsolescence. Devices lose 
% utility rapidly as the "frontier" moves forward, forcing a cycle of 
% consumption and extraction of consumer capital.
domain_priors:base_extractiveness(moores_law, 0.3).

% Suppression score: 0.5 (Moderate)
% Rationale: Alternative hardware architectures (e.g., analog computing) 
% are suppressed by the massive economies of scale and "gravity" of the 
% standard silicon roadmap.
domain_priors:suppression_score(moores_law, 0.5).

% Enforcement requirements: Requires active, massive capital enforcement 
% by the semiconductor industry to maintain the pace.
domain_priors:requires_active_enforcement(moores_law).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(moores_law, extractiveness, 0.3).
narrative_ontology:constraint_metric(moores_law, suppression_requirement, 0.5).

% Beneficiaries: Consumer electronics industry and data-intensive services.
constraint_beneficiary(moores_law, platform_capitalists).

% Victims: Older hardware owners and the environment (e-waste).
constraint_victim(moores_law, legacy_infrastructure_owners).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE END USER - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A consumer of technology).
   WHEN: biographical (A lifetime of increasing computational power).
   WHERE: mobile (Can choose when to upgrade).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   For the user, Moore's Law is a Rope. It is a predictable ladder of 
   progress. It ensures that the computer they buy today will be 
   significantly more powerful than the one they had five years ago, 
   lowering the barrier to entry for complex software and services.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    moores_law,
    rope,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CHIP FABRICATOR - NOOSE
   --------------------------------------------------------------------------
   
   WHO: institutional (A semiconductor manufacturer like Intel or TSMC).
   WHEN: immediate (Quarterly cycles and multi-billion dollar R&D).
   WHERE: constrained (Cannot stop without losing market lead).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   For the manufacturer, the law is a Noose. It is an "unrelenting 
   treadmill." If they fail to meet the doubling pace for a single cycle, 
   their market cap can evaporate. The cost of maintaining the pace 
   (the "Noose") increases exponentially as physics reaches its limits.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    moores_law,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE QUANTUM PHYSICIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (Scientific observer).
   WHEN: generational/historical (Viewing the physical limits of matter).
   WHERE: trapped (Atomic scales are fixed).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   To the physicist, the eventual "end" of Moore's Law is a Mountain. It 
   is a physical wall. Once transistors reach the size of a few atoms, 
   quantum tunneling makes current silicon-based logic impossible. 
   This is not a social choice, but an unchangeable physical constraint.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    moores_law,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(moores_law_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(moores_law, Type1, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(moores_law, Type2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(moores_law, Type3, context(agent_power(analytical), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(enforcement_scaling) :-
    % Institutional actors must enforce this (Requires Active Enforcement).
    domain_priors:requires_active_enforcement(moores_law).

test(time_immutability) :-
    % Long-term (Generational) analysis reveals the physical "Mountain" limit.
    constraint_indexing:constraint_classification(moores_law, mountain, context(_, generational, _, _)).

:- end_tests(moores_law_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. ENFORCEMENT: I classified this as "Requires Active Enforcement." While 
 * it looks like a natural law, it is actually the result of massive 
 * industrial coordination and investment.
 * 2. NOOSE VS ROPE: The distinction depends on whether you are the 
 * producer (Noose) or the consumer (Rope) of the processing power.
 * 3. EXTRACTIVENESS: Set at 0.3. The gain in utility for users is real, 
 * but the extraction comes through the "forced" obsolescence of 
 * working hardware.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    post_silicon_transition,
    "Will new materials (Carbon nanotubes/Quantum) maintain the 2-year 
    doubling pace once silicon hits the atomic limit?",
    resolution_mechanism("Observation of commercial chip density post-2nm node"),
    impact("If Yes: Moore's Law remains a Rope/Noose. If No: It hits the Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Software Optimization (Wirth's Law)
 * Viability: High. If software was written efficiently, we wouldn't 
 * need a hardware doubling every 2 years.
 * Suppression: High. Developers prefer "easy" code enabled by fast 
 * hardware over difficult optimization.
 * * ALTERNATIVE 2: Specialized Architecture (ASICs/FPGAs)
 * Viability: High. Moving away from general-purpose CPUs.
 * * CONCLUSION:
 * The "Noose" of Moore's Law is partly voluntary; we could exit via 
 * better software, but the "Rope" of free hardware gains is too seductive.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_moores_law].
 * 2. Multi-perspective report: ?- multi_index_report(moores_law).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: nash_equilibrium_coordination
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: John Nash (1950) / Non-Cooperative Games
% ============================================================================

:- module(constraint_nash_equilibrium, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: nash_equilibrium_coordination
 * human_readable: Nash Equilibrium
 * domain: economic/social/political
 * temporal_scope: 1950 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Strategic Interaction)
 * * SUMMARY:
 * A Nash Equilibrium is a state in a non-cooperative game where no player can 
 * improve their outcome by changing their strategy unilaterally, given the 
 * strategies of others. It represents a fundamental structural "gravity" that 
 * stabilizes social and economic systems, often at sub-optimal levels.
 * * KEY AGENTS:
 * - The Strategic Actor (Subject): The powerless agent trapped in a state 
 * where "doing the right thing" alone results in a worse personal outcome.
 * - The Institutional Architect: An agent who uses the equilibrium as a 
 * "Rope" to design market rules or voting systems that stabilize desired goals.
 * - The Monopoly/Cartel: An institutional agent that treats the equilibrium 
 * as a "Noose" to extract value from consumers by ensuring no firm has an 
 * incentive to lower prices.
 * * NARRATIVE ARC:
 * The Nash Equilibrium is the "Mountain" of social interaction—an inescapable 
 * logic of stability. In healthy markets, it is a "Rope" for functional 
 * coordination (e.g., standardizing traffic laws). However, in systemic 
 * failures like poverty traps or price wars, the equilibrium acts as a 
 * "Noose," extracting the potential for progress (extraction) and strangling 
 * the possibility of collective escape.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(nash_era, 1950, 2026).
narrative_ontology:constraint_claim(nash_equilibrium_coordination, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.5. The equilibrium is moderately extractive; it often "takes" 
% the potential for a better collective outcome (Pareto improvement) to 
% maintain individual stability.
domain_priors:base_extractiveness(nash_equilibrium_coordination, 0.5).

% Suppression score (0.0-1.0)
% Rationale: 0.4. It suppresses the visibility of "idealistic" cooperation 
% by rendering it "irrational" or "unstable" from an individual perspective.
domain_priors:suppression_score(nash_equilibrium_coordination, 0.4).

% Enforcement: Emerges naturally from the axioms of individual utility.
domain_priors:emerges_naturally(nash_equilibrium_coordination).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(nash_equilibrium_coordination, extractiveness, 0.5).
narrative_ontology:constraint_metric(nash_equilibrium_coordination, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(nash_equilibrium_coordination, incumbents_in_stablesystems).
constraint_beneficiary(nash_equilibrium_coordination, market_designers). 
constraint_victim(nash_equilibrium_coordination, reformers_and_innovators). % They hit the "Mountain" of the status quo.
constraint_victim(nash_equilibrium_coordination, collective_utility). % Pareto-suboptimal states.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INDIVIDUAL SHOPKEEPER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Cannot single-handedly change market prices.
   WHEN: immediate - Every day the shop stays open.
   WHERE: trapped - Bound by the local competitive landscape.
   SCOPE: local - Their specific street or neighborhood.
   
   WHY THIS CLASSIFICATION:
   For the shopkeeper, the market price is a natural law. If they raise prices 
   unilaterally, they lose customers; if they lower them, they lose profit. 
   The equilibrium is an unyielding Mountain of arithmetic.
   
   NARRATIVE EVIDENCE:
   "I'd love to pay my staff more, but if I do, the guy across the street 
   undercuts me and I go bust." 
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    nash_equilibrium_coordination,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CENTRAL BANKER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to shift incentives and interest rates.
   WHEN: biographical - Planning the decadal health of the economy.
   WHERE: mobile - Can adjust the "rules of the game" to nudge the equilibrium.
   SCOPE: national - Country-wide impact.
   
   WHY THIS CLASSIFICATION:
   For the institutional actor, the Nash Equilibrium is a "Rope"—a tool for 
   functional coordination. By understanding where the "Mountain" sits, they 
   can use policy to "pull" the economy toward a standard of achievement 
   like low inflation or high employment.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    nash_equilibrium_coordination,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE POVERTY-TRAPPED COMMUNITY - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the high cost of defecting from the trap.
   WHEN: generational - The state persists across lifetimes.
   WHERE: constrained - Physical and social exit is prohibitively expensive.
   SCOPE: regional - A specific neglected section of the system.
   
   WHY THIS CLASSIFICATION:
   In a poverty trap, the equilibrium acts as a "Noose." It "strangles" 
   opportunity because any individual attempt to escape (e.g., getting an 
   education) might be punished by immediate loss of local support networks. 
   It extracts potential (extraction) to maintain a stable but miserable state.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    nash_equilibrium_coordination,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(generational),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :- 
    domain_priors:base_extractiveness(nash_equilibrium_coordination, E),
    E >= 0.4,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(nash_equilibrium_tests).

test(multi_perspective_variance) :-
    % Shopkeeper -> Mountain
    constraint_indexing:constraint_classification(nash_equilibrium_coordination, Type1, context(individual_powerless, immediate, trapped, local)),
    % Banker -> Rope
    constraint_indexing:constraint_classification(nash_equilibrium_coordination, Type2, context(institutional, biographical, mobile, national)),
    % Poverty Trap -> Noose
    constraint_indexing:constraint_classification(nash_equilibrium_coordination, Type3, context(individual_powerless, generational, constrained, regional)),
    Type1 \= Type2,
    Type2 \= Type3.

test(extraction_penalty) :-
    % Demonstrates that the Noose classification extracts more value than the Rope.
    domain_priors:base_extractiveness(nash_equilibrium_coordination, E),
    E > 0.3.

test(natural_emergence) :-
    domain_priors:emerges_naturally(nash_equilibrium_coordination).

:- end_tests(nash_equilibrium_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.5):
 * I chose 0.5 because equilibria are the ultimate "tax" on potential. 
 * They prioritize "Stasis" over "Improvement," which is a form of 
 * extraction of future possibility.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Shopkeeper (Subject), Banker (Institution), and Poverty Trap (Victim) 
 * to illustrate how the "Stability" of a Nash state can be either 
 * a comfort or a cage.
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the uncertainty of "Equilibrium Selection"—in games with 
 * multiple equilibria, what determines which Mountain we live on?
 */

% YOUR OMEGAS HERE:
omega_variable(
    equilibrium_selection_mechanism,
    "What determines which specific Nash Equilibrium a society settles into (Mountain) when multiple are available (Rope)?",
    resolution_mechanism("Study of historical focal points, cultural path-dependency, and initial conditions."),
    impact("If Path-dependent: The Mountain is a 'Noose' of history. If Random: It is a Scaffold."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Pareto Optimality (Collective Cooperation)
 * Viability: Theoretically the best outcome for everyone.
 * Suppression: Actively suppressed by the Nash "Mountain" because it is 
 * unstable without external enforcement (contracts/law).
 * * ALTERNATIVE 2: Evolutionary Stable Strategies (ESS)
 * Viability: A more biological/dynamic version of Nash.
 * Status: A "Rope" used in biology that often overlaps with Nash but 
 * allows for more "drift."
 * * CONCLUSION:
 * The existence of "Pareto Superior" states (Alternative 1) that we cannot 
 * reach is exactly what transforms a Nash "Mountain" into a "Noose" for 
 * the people living within it.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_nash_equilibrium].
 * 2. Analyze: ?- multi_index_report(nash_equilibrium_coordination).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: network_effects
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Economics / Digital Strategy / Metcalfe's Law
% ============================================================================

:- module(constraint_network_effects, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: network_effects
 * human_readable: Network Effects (Demand-Side Economies of Scale)
 * domain: economic/technological
 * temporal_scope: Digital Age (1990-Present)
 * spatial_scope: Global (Digital Networks)
 * * SUMMARY:
 * A phenomenon where a product or service gains additional value as more people 
 * use it. This creates a powerful positive feedback loop that often leads to 
 * "winner-take-all" dynamics, where a dominant player becomes nearly impossible 
 * to displace due to the high cost for users to leave the established network.
 * * KEY AGENTS:
 * - The Platform Owner: Benefits from exponential value growth and "lock-in."
 * - The Early Adopter: Gains value from network growth but may face future costs.
 * - The Late Entrant/Competitor: Faces a massive barrier to entry regardless of 
 * product quality.
 * * NARRATIVE ARC:
 * Initially, network effects function as a coordination tool (Rope). As the 
 * network matures and hits a critical mass, the feedback loop hardens into a 
 * barrier (Mountain) for competitors and a "switching cost" trap (Noose) for 
 * users who wish to leave but cannot take their "network value" with them.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(network_effects_interval, 0, 10).
narrative_ontology:constraint_claim([network_effects], market_dynamics).

% Base extractiveness: 0.5 (Moderate)
% Rationale: While users gain utility from the network, the platform owner 
% extracts disproportionate value through data, advertising, or rent once 
% "lock-in" is achieved.
domain_priors:base_extractiveness(network_effects, 0.5).

% Suppression score: 0.6 (High)
% Rationale: Incumbent networks actively suppress alternatives by preventing 
% interoperability or "multi-homing," making the exit to a new platform 
% conceptually and practically difficult.
domain_priors:suppression_score(network_effects, 0.6).

% Enforcement requirements: Emerges naturally from user behavior and Metcalfe's Law.
domain_priors:emerges_naturally(network_effects).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(network_effects, extractiveness, 0.5).
narrative_ontology:constraint_metric(network_effects, suppression_requirement, 0.6).

% Beneficiaries: The First Mover and the Platform Monopolist.
constraint_beneficiary(network_effects, platform_owner).

% Victims: Potential competitors and users facing "walled garden" pricing.
constraint_victim(network_effects, innovative_startups).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE STRATEGIC COMPETITOR - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: Individual Moderate/Powerful (A startup with a better product).
   WHEN: Biographical (The timeframe of a business venture).
   WHERE: Trapped (By the lack of a user base).
   SCOPE: Global.
   
   WHY THIS CLASSIFICATION:
   For a competitor, network effects are a Mountain. Even with superior 
   technology, they cannot move the "mass" of the existing user base. The 
   network effect acts as a natural law of the marketplace that dictates 
   "the biggest wins."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    network_effects,
    mountain,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ACTIVE USER - ROPE
   --------------------------------------------------------------------------
   
   WHO: Individual Powerless (Standard consumer).
   WHEN: Immediate (Utility today).
   WHERE: Mobile (Can technically use multiple apps).
   SCOPE: Local/Regional.
   
   WHY THIS CLASSIFICATION:
   For the user, the network is a Rope. It is a coordination mechanism that 
   makes life easier. The fact that everyone is on the same platform allows 
   for seamless communication and social coordination. It is a beneficial 
   tether rather than a restriction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    network_effects,
    rope,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DISGRUNTLED CREATOR - NOOSE
   --------------------------------------------------------------------------
   
   WHO: Individual Moderate (Creator/Influencer dependent on the platform).
   WHEN: Generational (Their career is built on the network).
   WHERE: Constrained (Leaving means losing their entire audience).
   SCOPE: Global.
   
   WHY THIS CLASSIFICATION:
   For a creator, the network effect is a Noose. They may hate the platform's 
   new rules or increased fees, but they cannot leave because their entire 
   social and economic capital is locked into that specific network. The 
   cost of "exiting" is the destruction of their livelihood.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    network_effects,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(generational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(network_effects_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(network_effects, Type1, context(agent_power(individual_moderate), biographical, trapped, _)),
    constraint_indexing:constraint_classification(network_effects, Type2, context(agent_power(individual_powerless), immediate, mobile, _)),
    constraint_indexing:constraint_classification(network_effects, Type3, context(agent_power(individual_moderate), generational, constrained, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    % Higher power (platform owner) experiences less extraction (negative) 
    % than the powerless user/creator.
    domain_priors:base_extractiveness(network_effects, Score),
    Score >= 0.5.

test(time_immutability) :-
    % Long-term dependency (Generational) + High Exit Cost = Noose.
    constraint_indexing:constraint_classification(network_effects, noose, context(_, generational, constrained, _)).

:- end_tests(network_effects_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION SCORE (0.6): High because incumbents often use "anti-steering" 
 * policies or proprietary data formats to prevent users from bridging to 
 * other networks.
 * 2. NOOSE VS MOUNTAIN: For a user, it's a Noose (they choose to stay but 
 * feel forced); for a competitor, it's a Mountain (it's just a physical 
 * fact of the market).
 * 3. EXTRACTIVENESS: Set at 0.5 to reflect the "double-edged" nature—users 
 * get real value, but the owner takes a significant "tax" on that value.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    interoperability_standardization,
    "Will government mandates for data portability effectively decouple 'social capital' from 'platform identity'?",
    resolution_mechanism("Monitoring the success of the Digital Markets Act (DMA) in the EU"),
    impact("If Yes: Network Effects move from Mountain to Rope. If No: They remain a Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Federated Networks (e.g., Email, Mastodon)
 * Viability: High (The underlying protocols are mature).
 * Suppression: High (Consumer friction and lack of marketing make them 
 * less visible than centralized 'walled gardens').
 * * ALTERNATIVE 2: Multi-homing (Using multiple platforms simultaneously)
 * Viability: Moderate (Technically easy, but cognitively taxing).
 * * CONCLUSION:
 * The existence of Alternatives (Federation) shows that the Noose of network 
 * effects is artificial. If "Suppression" were reduced via regulation, 
 * the Noose would loosen into a Rope (a standard way to connect).
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_network_effects].
 * 2. Multi-perspective: ?- multi_index_report(network_effects).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: newtons_method_convergence
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Newton-Raphson Method (Numerical Analysis)
% ============================================================================

:- module(constraint_newtons_method, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: newtons_method_convergence
 * human_readable: Newton's Method (Root-Finding)
 * domain: mathematics/technological
 * temporal_scope: 1687 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Differentiable functions)
 * * SUMMARY:
 * Newton's Method is an iterative technique for finding roots of a real-valued 
 * function. It uses the function's derivative to project a tangent line to the 
 * x-axis. While quadratically fast near a root, it is notoriously sensitive 
 * to the initial guess and can diverge or oscillate indefinitely.
 * * KEY AGENTS:
 * - The Iterate (x_n): A powerless agent following a rigid geometric path.
 * - The Algorithm Architect: An institutional agent choosing the method for 
 * its "Rope-like" efficiency in optimized libraries.
 * - The Divergent Case: A "Noose" scenario where the function's geometry 
 * traps the iterate in a cycle or flings it to infinity.
 * * NARRATIVE ARC:
 * Newton's method begins as a "Rope" of extreme speed (quadratic convergence). 
 * As the agent approaches a local extremum where $f'(x) \to 0$, the Rope 
 * tightens into a "Noose," causing the iteration to fail. If the agent is 
 * within the "basin of attraction," the convergence is a "Mountain" of 
 * mathematical inevitability.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(newton_era, 1687, 2026).
narrative_ontology:constraint_claim(newtons_method_convergence, rope).

% Base extractiveness: 0.15
% Rationale: Generally low extraction; it is a "gift" of speed. However, 
% it "extracts" stability in exchange for performance.
domain_priors:base_extractiveness(newtons_method_convergence, 0.15).

% Suppression score: 0.2
% Rationale: It does not hide Bisection or Secant methods, though its 
% ubiquity in engineering makes it a "default" that suppresses slower logic.
domain_priors:suppression_score(newtons_method_convergence, 0.2).

% Enforcement: Emerges from the laws of calculus and Euclidean geometry.
domain_priors:emerges_naturally(newtons_method_convergence).

% Metrics
narrative_ontology:constraint_metric(newtons_method_convergence, extractiveness, 0.15).
narrative_ontology:constraint_metric(newtons_method_convergence, suppression_requirement, 0.2).

% Beneficiaries & Victims
constraint_beneficiary(newtons_method_convergence, optimized_solvers).
constraint_beneficiary(newtons_method_convergence, real_time_simulation).
constraint_victim(newtons_method_convergence, unstable_initial_guesses).
constraint_victim(newtons_method_convergence, non_differentiable_logic).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NUMERICAL ITERATE (Within Basin) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The value x_n has no agency over the update rule.
   WHEN: immediate - Focused on the single jump to the next x_intercept.
   WHERE: trapped - Locked within the basin of attraction of a specific root.
   SCOPE: local - Immediate neighborhood of the root.
   
   WHY THIS CLASSIFICATION:
   Once the iterate enters the basin of attraction for a simple root, the 
   convergence is guaranteed by the laws of analysis. The "Mountain" of 
   quadratic convergence is unyielding and predictable.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    newtons_method_convergence,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE LIBRARY DEVELOPER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to choose, tune, or fallback to other methods.
   WHEN: biographical - Planning the lifecycle of a software library.
   WHERE: mobile - Can switch to a Secant or Hybrid (Brent's) method if needed.
   SCOPE: global - Designing for a wide range of input functions.
   
   WHY THIS CLASSIFICATION:
   For the developer, Newton's method is a functional "Rope"—a highly efficient 
   coordination tool used to reach a result with fewer cycles than other 
   methods, provided they manage the "attachment point" (initial guess).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    newtons_method_convergence,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: NEAR-CRITICAL POINT ($f'(x) \approx 0$) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Trapped by the specific geometry of the function.
   WHEN: immediate - One step can throw the iterate to $x = \infty$.
   WHERE: constrained - The iterate is forced to follow a divergent tangent.
   SCOPE: local - At the flat portion of the curve.
   
   WHY THIS CLASSIFICATION:
   Near a local extremum, the "tangent" becomes nearly horizontal. The 
   update rule $x - f(x)/f'(x)$ produces a massive, uncontrolled jump. 
   The method acts as a "Noose," extracting all computational stability and 
   strangling the possibility of a solution.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    newtons_method_convergence,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(newtons_method_convergence, E),
    E > 0.1.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(newtons_method_tests).

test(basin_vs_peak_variance) :-
    % Inside basin -> Mountain
    constraint_indexing:constraint_classification(newtons_method_convergence, Type1, context(individual_powerless, immediate, trapped, local)),
    % Near peak -> Noose (modeled by 'constrained' exit option)
    constraint_indexing:constraint_classification(newtons_method_convergence, Type2, context(individual_powerless, immediate, constrained, local)),
    Type1 = mountain,
    Type2 = noose.

test(developer_rope_flexibility) :-
    constraint_indexing:constraint_classification(newtons_method_convergence, rope, context(institutional, biographical, mobile, global)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(newtons_method_convergence).

:- end_tests(newtons_method_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION SHIFT: The core insight is that Newton's method changes 
 * type based on geometry. Near the root, it's a "Mountain" of convergence. 
 * Near a flat spot, it's a "Noose" of divergence.
 * 2. AGENT SELECTION: The "Numerical Iterate" represents the passive subject 
 * of the mathematical law.
 * 3. EXTRACTIVENESS: While "free," the method extracts "computational 
 * reliability" from systems that don't verify derivatives.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    basin_of_attraction_boundary,
    "Is the boundary of the basin of attraction a 'Mountain' (smooth) or a 'Fractal' (chaotic)?",
    resolution_mechanism("Plot the Newton Fractal for the specific function $f(z)$."),
    impact("If Fractal: The 'Noose' is everywhere at the boundary. If Smooth: The 'Rope' is robust."),
    confidence_without_resolution(medium)
).



omega_variable(
    derivative_fidelity,
    "Is the 'Mountain' logic sound if the derivative is numerically approximated?",
    resolution_mechanism("Compare convergence of analytical Newton vs Finite-Difference Newton."),
    impact("If Approx: The 'Mountain' is a 'Scaffold' that may collapse into noise."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Bisection Method
 * Viability: Guaranteed convergence (Rope), zero extraction of stability.
 * Suppression: Rejected for speed in high-performance contexts.
 * * ALTERNATIVE 2: Secant Method
 * Viability: Doesn't require a derivative (lighter Rope).
 * Suppression: Slower than Newton (1.618 vs 2.0 convergence order).
 * * CONCLUSION:
 * The existence of safer alternatives (Bisection) confirms that Newton's 
 * method's Divergence Trap is a "Noose" one *chooses* to risk for the "Rope" 
 * of speed.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: no_cloning_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Quantum Mechanics / Wootters & Zurek (1982) / Dieks (1982)
% ============================================================================

:- module(constraint_no_cloning_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: no_cloning_theorem
 * human_readable: The No-Cloning Theorem
 * domain: technological
 * temporal_scope: Permanent (Universal Laws of Physics)
 * spatial_scope: Global (Quantum Information Systems)
 * * SUMMARY:
 * The no-cloning theorem states that it is impossible to create an independent 
 * and identical copy of an arbitrary unknown quantum state. This is a 
 * fundamental consequence of the linearity of quantum mechanics, preventing the 
 * "copy-paste" functionality central to classical information processing.
 * * KEY AGENTS:
 * - The Quantum Physicist: Analytical observer mapping the boundaries of reality.
 * - The Quantum Cryptographer: Institutional agent leveraging the theorem to create unhackable communications.
 * - The Quantum Computer Engineer: Individual agent struggling to implement error correction without state replication.
 * * NARRATIVE ARC:
 * The theorem functions as a "Mountain" of physical necessity. For the 
 * cryptographer, it is a "Rope" for coordination (security through 
 * physical law). However, for the engineer attempting to scale quantum 
 * hardware, it is a "Noose" that strangles the ability to use classical 
 * redundancy and debugging techniques.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Required for structural identification
narrative_ontology:interval(no_cloning_interval, 0, 10).
narrative_ontology:constraint_claim([no_cloning_theorem], physical_law).

% Base extractiveness: 0.2 (Low)
% Rationale: It extracts "reproducibility" from the information system. It 
% doesn't actively steal resources but imposes a high "efficiency cost" on 
% information storage and transmission.
domain_priors:base_extractiveness(no_cloning_theorem, 0.2).

% Suppression: 0.3 (Low)
% Rationale: The classical alternative (perfect copying) is universally 
% visible but physically suppressed in the quantum domain.
domain_priors:suppression_score(no_cloning_theorem, 0.3).

% Enforcement: Emerges naturally from the linearity of quantum evolution.
domain_priors:emerges_naturally(no_cloning_theorem).

% BENEFICIARIES & VICTIMS
% Beneficiary: Security protocols (e.g., BB84) that depend on non-clonability.
constraint_beneficiary(no_cloning_theorem, quantum_cryptographers).
% Victim: Hardware architects who must invent complex "Surface Codes" to bypass the lack of copying.
constraint_victim(no_cloning_theorem, quantum_hardware_engineers).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(no_cloning_theorem, extractiveness, 0.2).
narrative_ontology:constraint_metric(no_cloning_theorem, suppression_requirement, 0.3).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE QUANTUM PHYSICIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the laws of information and matter.
   WHEN: civilizational - Viewing the universe as a permanent substrate.
   WHERE: trapped - Logic and physics cannot bypass the linearity of the Schrödinger equation.
   SCOPE: global - Universal computation.
   
   WHY THIS CLASSIFICATION:
   To the physicist, the theorem is a Mountain. It is an unchangeable 
   consequence of the mathematical structure of quantum mechanics. It is 
   not a policy; it is a fixed peak in the topography of reality that no 
   amount of engineering can level.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    no_cloning_theorem,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SECURITY ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define and utilize formal rules for trust.
   WHEN: biographical - Achieving secure communication over a project's life.
   WHERE: arbitrage - Can use non-clonability to detect eavesdropping (BB84).
   SCOPE: national - Protecting state or corporate infrastructure.
   
   WHY THIS CLASSIFICATION:
   For the security architect, the theorem is a Rope. It is a coordination 
   mechanism that provides a guarantee of privacy. By knowing that an 
   adversary *cannot* copy a bit without disturbing it, they use the 
   constraint as a tether to pull a secure network into existence.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    no_cloning_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HARDWARE DEBUGGER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the rules of the quantum lab.
   WHEN: immediate - Today's struggle to identify where a state was lost.
   WHERE: constrained - Cannot "save" or "duplicate" the state for testing.
   SCOPE: local - Immediate workspace.
   
   WHY THIS CLASSIFICATION:
   For the engineer trying to debug a quantum circuit, the theorem is a 
   Noose. They cannot "snapshot" the state for later analysis; the act 
    of measurement destroys it, and the inability to clone prevents 
   redundant backups. The harder they try to isolate errors, the tighter 
   the lack of information replication strangles their progress.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    no_cloning_theorem,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(no_cloning_theorem_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain
    constraint_indexing:constraint_classification(no_cloning_theorem, mountain, context(analytical, civilizational, trapped, global)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(no_cloning_theorem, rope, context(institutional, biographical, arbitrage, national)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(no_cloning_theorem, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_cloning) :-
    % Powerless engineers feel the total extraction of redundancy (Noose).
    % Institutional cryptographers leverage the "theft" of eavesdropping (Rope).
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    domain_priors:base_extractiveness(no_cloning_theorem, Score),
    Score > 0.1.

test(time_immutability_physics) :-
    % Long-term civilizational logic = Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(no_cloning_theorem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Low. While the theorem "takes away" the classical luxury of 
 * copying, it is a neutral law of the universe that applies to everyone 
 * equally. Its extraction is felt as an "efficiency tax" on computation.
 * * 2. PERSPECTIVE SELECTION:
 * The Analyst (Physicist) sees the law as a fixed Mountain.
 * The Architect (Cryptographer) sees the law as a useful Rope for security.
 * The Worker (Debugger) sees the law as a Noose strangling their methods.
 * * 3. AMBIGUITIES:
 * - The existence of "Approximate Cloning" creates a boundary condition 
 * where the Noose might be loosened for a high price.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    macro_cloning_threshold,
    "At what scale of system complexity does the no-cloning 'Noose' 
    effectively vanish into classical 'copyability'?",
    resolution_mechanism("Experimental mapping of the quantum-to-classical transition"),
    impact("If Low: Quantum limits are a pervasive Mountain. If High: They are 
    only a local Noose for microscopic systems."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Classical Information (Turing machines)
 * Viability: High. The entire digital world is built on the 
 * viability of cloning bits.
 * Suppression: High in the quantum domain. The laws of physics 
 * actively suppress classical-style copying once superposition is involved.
 * * CONCLUSION:
 * The existence of classical computing as a suppressed alternative for quantum 
 * systems confirms that for the quantum engineer, the theorem is a Noose—they 
 * are denied the very tools (copying) that make classical systems robust.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * * 1. Load: ?- [constraint_no_cloning_theorem].
 * 2. Multi-perspective: ?- multi_index_report(no_cloning_theorem).
 * 3. Run tests: ?- run_tests(no_cloning_theorem_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: noethers_theorem_symmetry
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Emmy Noether (1915) / Lagrangian Mechanics / Physics
% ============================================================================

:- module(constraint_noethers_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: noethers_theorem_symmetry
 * human_readable: Noether's Theorem (Symmetry-Conservation Link)
 * domain: mathematical/physical/technological
 * temporal_scope: 1915 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Action-based systems)
 * * SUMMARY:
 * Noether's theorem states that every differentiable symmetry of the action 
 * of a physical system has a corresponding conservation law. For example, 
 * time-translation symmetry implies conservation of energy, and spatial-translation 
 * symmetry implies conservation of momentum.
 * * KEY AGENTS:
 * - The Physical Particle (Subject): The powerless agent whose trajectory is 
 * bound by the geometric symmetries of the universe.
 * - The Theoretical Physicist (Institutional): An agent who uses the theorem 
 * as a "Rope" to deduce properties of unknown particles or forces.
 * - The Numerical Simulator (Analyst/Victim): An agent struggling with 
 * discrete systems that "break" the symmetry, turning the theorem into 
 * a "Noose" of unphysical energy drift.
 * * NARRATIVE ARC:
 * Noether's Theorem is the ultimate "Mountain" of physical reality—an 
 * inescapable identity between geometry and substance. In model-building, 
 * it is a "Rope" for coordination. However, in modern computing, the 
 * theorem acts as a "Noose" for programmers who must invent complex "Symplectic 
 * Integrators" to satisfy the conservation laws that the digital 
 * environment naturally tries to violate.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(noether_era, 1915, 2026).
narrative_ontology:constraint_claim(noethers_theorem_symmetry, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Low (0.1). Natural laws don't "take" in a social sense, though 
% they extract significant computational effort to preserve in simulation.
domain_priors:base_extractiveness(noethers_theorem_symmetry, 0.1).

% Suppression score (0.0-1.0)
% Rationale: Low (0.1). It is an enabling insight, though it renders 
% "non-conserving" symmetrical systems logically impossible.
domain_priors:suppression_score(noethers_theorem_symmetry, 0.1).

% Enforcement: Emerges naturally from the stationary action principle.
domain_priors:emerges_naturally(noethers_theorem_symmetry).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(noethers_theorem_symmetry, extractiveness, 0.1).
narrative_ontology:constraint_metric(noethers_theorem_symmetry, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(noethers_theorem_symmetry, field_theorists). % Predict unknown symmetries.
constraint_beneficiary(noethers_theorem_symmetry, aerospace_engineers). % Fuel/Momentum predictability.
constraint_victim(noethers_theorem_symmetry, naive_numerical_schemes). % Drift-prone algorithms.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PHYSICAL PARTICLE - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The particle cannot "choose" to violate energy conservation.
   WHEN: immediate - True at every infinitesimal point of the trajectory.
   WHERE: trapped - Bound by the metric and Lagrangian of the space it inhabits.
   SCOPE: local - Immediate neighborhood of the particle's state.
   
   WHY THIS CLASSIFICATION:
   For a particle in a time-invariant field, Energy Conservation is an absolute, 
   unchangeable Mountain. It has no agency to deviate from the conserved 
   surface in phase space.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    noethers_theorem_symmetry,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE THEORETICAL PHYSICIST - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design Lagrangians and predict laws.
   WHEN: biographical - Planning the discovery of a new gauge theory.
   WHERE: mobile - Can "pivot" between different symmetries (U1, SU2, SU3).
   SCOPE: global - Applying the theorem to the entire Standard Model.
   
   WHY THIS CLASSIFICATION:
   For the researcher, the theorem is a "Rope"—a functional coordination 
   mechanism. It allows the researcher to "climb" toward a conservation law 
   simply by identifying a symmetry, providing a standard of achievement for 
   model consistency.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    noethers_theorem_symmetry,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE GAME ENGINE PROGRAMMER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Bound by the limits of floating-point math.
   WHEN: immediate - Every frame, energy "leaks" out of the system.
   WHERE: constrained - Forced to fulfill the "expectation" of physics by the user.
   SCOPE: local - A specific collision or orbital simulation.
   
   WHY THIS CLASSIFICATION:
   In a discrete simulation, the "Mountain" of Noether is broken. The programmer 
   experiences the theorem as a "Noose"—a coercive limit that punishes simple 
   logic with "unphysical" results. It extracts massive engineering hours 
   to implement symplectic integrators that "tighten" the simulation back to 
   the conserved reality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    noethers_theorem_symmetry,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(noethers_theorem_symmetry, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (Insights into Physical Limits)
   ========================================================================== */

:- begin_tests(noethers_theorem_tests).

test(symmetry_fate_variance) :-
    % Particle -> Mountain
    constraint_indexing:constraint_classification(noethers_theorem_symmetry, Type1, context(individual_powerless, immediate, trapped, local)),
    % Scientist -> Rope
    constraint_indexing:constraint_classification(noethers_theorem_symmetry, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(numerical_drift_penalty) :-
    % A powerless agent (Programmer) in a constrained context sees the theorem as a Noose.
    constraint_indexing:constraint_classification(noethers_theorem_symmetry, noose, context(individual_powerless, immediate, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(noethers_theorem_symmetry).

:- end_tests(noethers_theorem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. PERSPECTIVE SPLIT: 
 * I highlighted the transition from "Analytic Certainty" (Mountain) to 
 * "Numerical Burden" (Noose). This explains why Noether's work is both a 
 * beautiful discovery and a technical headache for simulators.
 * * 2. EXTRACTIVENESS: 
 * Set at 0.1. While math is free, the *preservation* of these laws in 
 * non-natural (digital) systems extracts significant human labor.
 * * 3. AGENT POWER: 
 * Labeled the programmer as `individual_powerless` relative to the theorem's 
 * requirements; they cannot "negotiate" with Energy Conservation if they 
 * want a realistic game.
 */

% OMEGA IDENTIFICATION
omega_variable(
    discrete_noether_validity,
    "Does a true 'Mountain' version of the theorem exist for discrete-time systems (Calculus of Finite Differences)?",
    resolution_mechanism("Verification of Discrete Variational Integrators across 100 benchmark physics scenarios."),
    impact("If Yes: The Noose becomes a Rope for programmers. If No: It is a permanent Noose of approximation."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Non-Action Principles (Aristotelian/Teleological)
 * Viability: Historically practiced; things move because they "want" to reach a goal.
 * Suppression: Rendered invisible by the predictive Mountain of the 
 * Lagrangian framework discovered by Euler/Lagrange/Noether.
 * * ALTERNATIVE 2: Purely Phenomenological Conservation
 * Viability: Observe that energy is conserved without asking why (the pre-1915 state).
 * Status: Noether's theorem "suppressed" this by providing the "why" 
 * (symmetry), turning a Scaffold into a Mountain.
 * * CONCLUSION:
 * The dominance of Noether's Theorem is due to its role as a "Rope" that 
 * connects two previously disparate Mountains (Symmetry and Conservation).
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [noethers_theorem_symmetry].
% Analyze: ?- constraint_indexing:multi_index_report(noethers_theorem_symmetry).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: non_compete_agreements
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Labor Law / Employment Contracts / FTC Ban Rulings
% ============================================================================

:- module(constraint_non_compete, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: non_compete_agreements
 * human_readable: Non-Compete Agreements (Post-Employment Restraint)
 * domain: political/economic/social
 * temporal_scope: Biographical (Typically 6 months to 2 years post-exit)
 * spatial_scope: National to Regional (State-dependent)
 * * SUMMARY:
 * A non-compete agreement is a legal contract where an employee agrees not to 
 * enter into competition with an employer for a specified period and 
 * geographic area after the employment relationship ends. It is a direct 
 * legal restraint on labor mobility.
 * * KEY AGENTS:
 * - The Employer: Seeks to protect trade secrets and training investments.
 * - The Employee: Seeks to leverage their skills in the open market.
 * - The Regulator (e.g., FTC): Attempts to balance market competition with 
 * proprietary protections.
 * * NARRATIVE ARC:
 * Unlike Golden Handcuffs, which use a "Carrot" (equity), Non-Competes use 
 * a "Stick" (legal threat). The constraint functions as a "Border Control" 
 * on human capital, preventing the flow of knowledge from one firm to another.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(non_compete_agreements, 0, 10).
narrative_ontology:constraint_claim(non_compete_agreements, legal_enforcement).

% Base extractiveness: High (0.8).
% The firm extracts the employee's future earning potential and mobility 
% often without additional compensation beyond the base salary.
domain_priors:base_extractiveness(non_compete_agreements, 0.8).

% Suppression: High (0.7).
% While the contract is known, the full legal implications and "chilling effect" 
% often suppress the visibility of viable alternative career paths.
domain_priors:suppression_score(non_compete_agreements, 0.7).

% Enforcement: Requires active enforcement (Litigation/Injunctions).
domain_priors:requires_active_enforcement(non_compete_agreements).

% Beneficiaries: Established Incumbent Firms (market protection).
constraint_beneficiary(non_compete_agreements, incumbent_corporations).

% Victims: Low-to-Mid Level Laborers (locked out of their industry).
constraint_victim(non_compete_agreements, transitioning_workers).

% Metrics
narrative_ontology:constraint_metric(non_compete_agreements, extractiveness, 0.8).
narrative_ontology:constraint_metric(non_compete_agreements, suppression_requirement, 0.7).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE JUNIOR WORKER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped (cannot work in their trained field)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For a junior worker with limited savings, a non-compete is a "Noose." 
   They cannot afford the legal fees to fight it, and the threat of an 
   injunction prevents them from taking any new job in their sector. 
   It is a pure extraction of their right to work.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    non_compete_agreements,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(non_compete_agreements, E),
    E > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE IP ATTORNEY - Rope
   --------------------------------------------------------------------------
   WHO: institutional/individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   To the attorney or corporate strategist, the agreement is a "Rope." 
   It is a tool used to coordinate and protect the "moat" around the 
   company's intellectual property. It structures the exit process 
   and ensures that "training investments" aren't immediately 
   captured by competitors.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    non_compete_agreements,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE POLICY MAKER - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The policymaker sees Non-Competes as a "Mountain" of institutional 
   precedent. Despite recent bans, the historical reality of post-employment 
   restraint is a massive feature of the economic landscape that 
   dictates the flow of innovation (e.g., Silicon Valley's growth 
   due to California's refusal to enforce them).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    non_compete_agreements,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(non_compete_agreements),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(non_compete_tests).

test(power_asymmetry_noose) :-
    % Testing that powerless agents (workers) see a Noose.
    constraint_indexing:constraint_classification(non_compete_agreements, noose, context(individual_powerless, _, _, _)).

test(legal_precedent_mountain) :-
    % Testing that analytical views see the structural Mountain.
    constraint_indexing:constraint_classification(non_compete_agreements, mountain, context(analytical, _, _, _)).

:- end_tests(non_compete_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Non-competes differ from Golden Handcuffs because they are non-voluntary 
 * post-exit. I set extractiveness to 0.8 because there is rarely a 
 * financial upside for the worker to sign one; it is a "tax on exit."
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    ftc_ban_enforceability,
    "Will federal bans on non-competes survive judicial review in 2026?",
    resolution_mechanism("Supreme Court ruling on administrative agency overreach"),
    impact("If Upheld: The Mountain crumbles; the Noose is cut. If Struck Down: The Noose tightens."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: nonstandard_arithmetic_models
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Thoralf Skolem (1934) / Peano Arithmetic / Tennenbaum's Theorem
% ============================================================================

:- module(constraint_nonstandard_arithmetic, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: nonstandard_arithmetic_models
 * human_readable: Nonstandard Models of Arithmetic
 * domain: mathematical/philosophical/technological
 * temporal_scope: 1934 - Present (Civilizational)
 * spatial_scope: Global/Abstract (First-Order Logic)
 * * SUMMARY:
 * Nonstandard models of arithmetic are structures that satisfy all the first-order 
 * axioms of Peano Arithmetic (PA) but are not isomorphic to the standard natural 
 * numbers ($\mathbb{N}$). They contain "non-standard" or "infinite" integers that 
 * reside beyond every finite successor of zero.
 * * KEY AGENTS:
 * - The Nonstandard Integer (Subject): A powerless agent existing beyond the 
 * "standard" horizon, yet bound by every law of arithmetic.
 * - The Model Theorist (Institutional): An agent using non-standard structures 
 * as a "Rope" to explore independence and prove the limits of first-order logic.
 * - The Computability Theorist (Analytical/Victim): An observer for whom these 
 * models are a "Noose," as Tennenbaum's Theorem proves they are fundamentally 
 * non-computable, "strangling" the dream of a recursive transfinite arithmetic.
 * * NARRATIVE ARC:
 * These models represent the "Mountain" of logical incompleteness; because 
 * first-order logic cannot pin down a unique model (Compactness Theorem), 
 * nonstandard realities are inevitable. In non-standard analysis, they provide 
 * a "Rope" for simplifying calculus with infinitesimals. However, for those 
 * seeking a computable foundation, the "Noose" of Tennenbaum's Theorem 
 * extracts the possibility of an algorithmic implementation, "choking" the 
 * utility of the transfinite for digital systems.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for the DR-Audit Suite
narrative_ontology:interval(skolem_era, 1934, 2026).
narrative_ontology:constraint_claim(nonstandard_arithmetic_models, mountain).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: 0.25. These models "extract" the uniqueness and categoricity 
% of the natural numbers, forcing a "logical tax" of ambiguity on all 
% first-order systems.
domain_priors:base_extractiveness(nonstandard_arithmetic_models, 0.25).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: 0.3. They suppress the visibility of "Standard-Only" arithmetic 
% by proving that the standard numbers are just one possible "Scaffold" 
% within a vast, uncomputable landscape.
domain_priors:suppression_score(nonstandard_arithmetic_models, 0.3).

% Enforcement: Emerges naturally from the Compactness Theorem of First-Order Logic.
domain_priors:emerges_naturally(nonstandard_arithmetic_models).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(nonstandard_arithmetic_models, extractiveness, 0.25).
narrative_ontology:constraint_metric(nonstandard_arithmetic_models, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(nonstandard_arithmetic_models, model_theorists).
constraint_beneficiary(nonstandard_arithmetic_models, nonstandard_analysis_researchers).
constraint_victim(nonstandard_arithmetic_models, foundational_categoricity_seekers).
constraint_victim(nonstandard_arithmetic_models, recursive_arithmetic_purists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NONSTANDARD INTEGER ($H$) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The integer cannot choose its position or properties.
   WHEN: immediate - Its existence is true the moment the model is defined.
   WHERE: trapped - Bound within the non-standard "galaxy" beyond $\mathbb{N}$.
   SCOPE: local - Immediate relationship with its predecessors and successors.
   
   WHY THIS CLASSIFICATION:
   For an "infinite" integer $H$, the laws of PA are an absolute Mountain. 
   It must satisfy $H+1 \neq H$, it must have a predecessor, and it must 
   obey induction. It has zero agency to "exit" the logic of arithmetic or 
   to become "standard," as it is trapped by the transfinite distance 
   from zero.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    nonstandard_arithmetic_models,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE NONSTANDARD ANALYST (e.g. Robinson) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define calculus and proof methods using infinitesimals.
   WHEN: biographical - Spanning the decades of modern analysis development.
   WHERE: mobile - Can "exit" to standard analysis when needed; uses models as tools.
   SCOPE: global - Universal application in mathematics.
   
   WHY THIS CLASSIFICATION:
   For the institutional mathematician, nonstandard models are a "Rope"—a 
   functional coordination tool. They provide a "standard of achievement" 
   for rigorizing Leibniz's infinitesimals, "pulling" complex limits into 
   simple algebraic comparisons.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    nonstandard_arithmetic_models,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DIGITAL FOUNDATIONALIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools to build systems but bound by Tennenbaum's limit.
   WHEN: civilizational - Seeking a computable, complete foundation for mathematics.
   WHERE: constrained - No alternative but to accept that nonstandard models are non-recursive.
   SCOPE: global - Universal limit on computable arithmetic.
   
   WHY THIS CLASSIFICATION:
   For those seeking a recursive transfinite arithmetic, these models are a 
   "Noose." Tennenbaum's Theorem "strangles" the possibility of a computable 
   implementation of addition and multiplication in any nonstandard model. 
   It extracts the "computational utility" (extraction) of the transfinite, 
   "choking" the hope for a digital "Standard of Truth" that goes beyond $\mathbb{N}$.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    nonstandard_arithmetic_models,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(nonstandard_arithmetic_models, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(nonstandard_arithmetic_tests).

test(multi_perspective_variance) :-
    % Integer -> Mountain
    constraint_indexing:constraint_classification(nonstandard_arithmetic_models, Type1, context(individual_powerless, immediate, trapped, local)),
    % Analyst -> Rope
    constraint_indexing:constraint_classification(nonstandard_arithmetic_models, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(computability_noose_insight) :-
    % Demonstrates that the Noose classification is triggered by Tennenbaum's impact
    constraint_indexing:constraint_classification(nonstandard_arithmetic_models, noose, context(individual_moderate, civilizational, constrained, global)).

test(compactness_natural_emergence) :-
    domain_priors:emerges_naturally(nonstandard_arithmetic_models).

:- end_tests(nonstandard_arithmetic_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.25):
 * The system "extracts" the uniqueness of our most basic object: the 
 * number. This creates a permanent "tax" of ontological ambiguity.
 * * 2. PERSPECTIVE SELECTION:
 * Chose the Nonstandard Integer (Subject), the Analyst (User of the Rope), 
 * and the Foundationalist (Victim of the Noose) to show how 
 * "discovery" leads to "strangulation" of previous hopes.
 * * 3. CLASSIFICATION RATIONALE:
 * The Integer is a "Mountain" because it exists by logical necessity 
 * regardless of human desire. The Analyst uses this necessity as a 
 * "Rope" (tool). The Digital Foundationalist hit the "Noose" because 
 * the non-recursive nature of these models makes them useless for 
 * automated reasoning.
 * * 4. AMBIGUITIES:
 * The status of "Second-Order Logic" is the primary variable; if one 
 * rejects first-order logic as the primary "Mountain," these models 
 * become a mere "Scaffold."
 */

% OMEGA IDENTIFICATION
omega_variable(
    first_order_primacy,
    "Is first-order logic the fundamental 'Mountain' of thought, or just a 'Scaffold' that hides higher-order categoricity?",
    resolution_mechanism("Investigation into the physical or cognitive 'Ropes' that might allow us to perceive second-order categoricity directly."),
    impact("If First-Order: Nonstandard models are a permanent Mountain. If Second-Order: They are an optional Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Second-Order Peano Arithmetic
 * Viability: Second-order PA is "Categorical"—it has only one model ($\mathbb{N}$).
 * Suppression: Actively suppressed by the "Incompleteness" of second-order 
 * logic, which fails to have a complete proof system (making it a "Noose" 
 * for those who need proofs).
 * * ALTERNATIVE 2: Weak Sub-systems of Arithmetic (e.g. Robinson's Q)
 * Viability: Simpler systems that allow even more non-standard variety.
 * * CONCLUSION:
 * The existence of Second-Order Categoricity proves that the "Noose" of 
 * nonstandard models is a price we pay for the "Rope" of first-order 
 * completeness (Gödel's Completeness Theorem).
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [nonstandard_arithmetic_models].
 * 2. Multi-perspective: ?- multi_index_report(nonstandard_arithmetic_models).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: overton_window
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Joseph P. Overton / Mackinac Center for Public Policy
% ============================================================================

:- module(constraint_overton_window, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: overton_window
 * human_readable: The Overton Window (Window of Discourse)
 * domain: political/social
 * temporal_scope: Modern Era (Post-1990s formalization)
 * spatial_scope: National/Global
 * * SUMMARY:
 * The Overton Window represents the range of policies or ideas acceptable to the 
 * mainstream population at a given time. It constrains politicians to a narrow 
 * "window" of viable options; moving outside this window is perceived as 
 * political suicide. The window shifts not through political mandate, but 
 * through social and cultural pressure.
 * * KEY AGENTS:
 * - The Politician: Bound by the window to remain "electable."
 * - The Think Tank/Activist: Working to shift the window by promoting "unthinkable" ideas.
 * - The Median Voter: The unconscious anchor of the current window position.
 * * NARRATIVE ARC:
 * Initially, the window acts as a "Mountain" of social consensus. Activists use 
 * "Rope" strategies (pushing extreme positions to make moderate ones look viable). 
 * For those whose lives depend on "unthinkable" policies, the window functions 
 * as a "Noose," strangling the possibility of relief through the democratic process.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(overton_interval, 0, 10).
narrative_ontology:constraint_claim([overton_window], discursive_limitation).

% Base extractiveness: 0.4 (Moderate)
% Rationale: It extracts political "agency" from the population. By narrowing 
% what is "thinkable," it funnels social energy into a limited set of 
% institutionalized outcomes that often benefit the status quo.
domain_priors:base_extractiveness(overton_window, 0.4).

% Suppression score: 0.8 (High)
% Rationale: Ideas outside the window are not just ignored; they are 
% actively punished through social shaming, "cancelation," or labels like 
% "extremist," making alternatives effectively invisible to the mainstream.
domain_priors:suppression_score(overton_window, 0.8).

% Enforcement: Emerges naturally from social mimetics but is actively 
% manipulated by media and think tanks.
domain_priors:requires_active_enforcement(overton_window).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(overton_window, extractiveness, 0.4).
narrative_ontology:constraint_metric(overton_window, suppression_requirement, 0.8).

% Beneficiaries: Institutional incumbents and "centrist" political parties.
constraint_beneficiary(overton_window, political_incumbents).

% Victims: Radical reformers and marginalized groups whose needs are "unthinkable."
constraint_victim(overton_window, radical_reformers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE CAREER POLITICIAN - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: institutional (An agent whose power depends on the window).
   WHEN: immediate (The current election cycle).
   WHERE: trapped (Cannot move outside the window without losing office).
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For the politician, the window is a Mountain. It is the fixed landscape 
   they must navigate. They do not see themselves as having the power to 
   change it; they can only stand on the "ground" that the public provides. 
   To them, the window is a law of political physics.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    overton_window,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE IDEOLOGICAL STRATEGIST - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_powerful (A think-tank director or media mogul).
   WHEN: generational (Willing to wait decades to shift the center).
   WHERE: mobile (Can fund multiple narratives or "flank" the window).
   SCOPE: global/national.
   
   WHY THIS CLASSIFICATION:
   For the strategist, the window is a Rope. It is a coordination mechanism 
   they can pull. By strategically introducing "Radical" or "Unthinkable" 
   ideas into the discourse, they pull the window in their direction, 
   eventually making their preferred policies "Sensible."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    overton_window,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE URGENT REFORMER - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (An activist for a non-mainstream cause).
   WHEN: immediate (The crisis is happening now).
   WHERE: constrained (Must use the existing political system).
   SCOPE: local/national.
   
   WHY THIS CLASSIFICATION:
   For the reformer whose survival depends on a policy currently outside 
   the window, the constraint is a Noose. They see the "sensible" center 
   ignoring a catastrophe because the solution is "politically impossible." 
   The window's narrowness strangles their ability to even speak the 
   necessary truth in a way that is heard.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    overton_window,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(overton_window_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(overton_window, Type1, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(overton_window, Type2, context(agent_power(individual_powerful), _, _, _)),
    constraint_indexing:constraint_classification(overton_window, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(high_suppression_metric) :-
    % Overton window relies on suppressing "extremist" alternatives.
    domain_priors:suppression_score(overton_window, S),
    S >= 0.7.

test(time_horizon_shift) :-
    % Generational views see it as a tool (Rope), Immediate views as a wall (Mountain).
    constraint_indexing:constraint_classification(overton_window, rope, context(_, generational, _, _)).

:- end_tests(overton_window_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION (0.8): I set this very high because the Overton Window 
 * defines itself by what it excludes. Its primary function is the 
 * "shaming" of ideas outside its bounds.
 * 2. NOOSE CLASSIFICATION: Essential for capturing the frustration of 
 * marginalized groups. If the "Sensible" window excludes your right to 
 * exist or eat, it is an active mechanism of harm.
 * 3. ROPE CLASSIFICATION: Reflects the reality that the window is 
 * plastic—it can be moved if one has enough time and media leverage.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    discursive_fracture_impact,
    "In a hyper-polarized digital era, does a single 'Overton Window' still exist, 
    or has it fractured into multiple, incompatible 'micro-windows'?",
    resolution_mechanism("Network analysis of cross-partisan idea sharing and sentiment echoes"),
    impact("If fractured: The 'Mountain' of social consensus collapses into tribal Ropes."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Radical Pluralism (All ideas debated on merit)
 * Viability: Low (Human cognitive limits prefer heuristics/mainstreams).
 * Suppression: High (Mainstream media frames this as "platforming hate").
 * * ALTERNATIVE 2: Direct Democracy (Bypassing the window via referenda)
 * Viability: Moderate.
 * * CONCLUSION:
 * The window is a Noose because it forces complex social problems into 
 * a binary or narrow "sensible" range, suppressing radical but 
 * effective alternatives.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_overton_window].
 * 2. Report: ?- multi_index_report(overton_window).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: p_vs_np
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Stephen Cook (1971) / Computational Complexity Theory
% ============================================================================

:- module(constraint_p_vs_np, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: p_vs_np
 * human_readable: P vs. NP Problem
 * domain: technological
 * temporal_scope: Permanent (Laws of Computation)
 * spatial_scope: Global (Universal Mathematics)
 * * SUMMARY:
 * P vs. NP is a major unsolved problem in theoretical computer science. It asks 
 * whether every problem whose solution can be quickly verified (NP) can also 
 * be quickly solved (P). This constraint represents the fundamental boundary 
 * between "easy" (polynomial time) and "hard" (exponential time) computation.
 * * KEY AGENTS:
 * - The Complexity Theorist: Investigating the deep structure of the P vs. NP 
 * landscape to find a formal proof.
 * - The Cryptographer: Relies on the assumption that P != NP to ensure 
 * that breaking encryption remains computationally "hard."
 * - The Optimization Engineer: Faces NP-hard problems (like the Traveling 
 * Salesman) and must find heuristics to bypass the computational wall.
 * * NARRATIVE ARC:
 * The P vs. NP gap functions as a "Mountain" of physical reality for 
 * computation—if P != NP, certain tasks are forever hard. For the security 
 * architect, it is a "Rope" (the bedrock of modern trust). For the 
 * programmer stuck with an NP-hard task and a deadline, it is a "Noose" 
 * that strangles their ability to provide an optimal solution.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction
narrative_ontology:interval(p_vs_np_interval, 0, 10).
narrative_ontology:constraint_claim([p_vs_np], computational_boundary).

% Base extractiveness: 0.4 (Moderate)
% Rationale: It extracts "efficiency." The asymmetry of verification vs. 
% calculation creates a rent where those with valid "witnesses" (solutions) 
% hold power over those who must find them.
domain_priors:base_extractiveness(p_vs_np, 0.4).

% Suppression: 0.2 (Low)
% Rationale: Alternatives (like Quantum computing or P = NP) are widely 
% discussed and visible, though currently unproven for breaking the constraint.
domain_priors:suppression_score(p_vs_np, 0.2).

% Enforcement: Emerges naturally from the structure of logical state space.
domain_priors:emerges_naturally(p_vs_np).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(p_vs_np, extractiveness, 0.4).
narrative_ontology:constraint_metric(p_vs_np, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(p_vs_np, cryptographers).
constraint_victim(p_vs_np, [brute_force_attackers, optimization_solvers]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE COMPLEXITY THEORIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (The observer of systemic limits)
   WHEN: civilizational (A permanent feature of mathematical truth)
   WHERE: trapped (Logic cannot bypass the complexity of state space)
   SCOPE: global (Universal computation)
   
   WHY THIS CLASSIFICATION:
   To the theorist, P vs. NP is a Mountain. It represents an objective 
   difficulty in the fabric of the universe. Regardless of technology, 
   the branching of possible solutions creates a fixed physical barrier 
   to efficiency that must be mapped, not bypassed.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    p_vs_np,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SECURITY ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (In charge of protecting a system)
   WHEN: biographical (Ensuring safety over a project's life)
   WHERE: arbitrage (Can use different hard problems for different needs)
   SCOPE: national (The reach of their infrastructure)
   
   WHY THIS CLASSIFICATION:
   For the architect, the hardness of NP is a Rope. It is the coordination 
   mechanism that allows for public-key cryptography. Without this 
   computational asymmetry, digital trust would collapse. They use this 
   difficulty as a tether to secure the entire internet.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    p_vs_np,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DISPERATE PROGRAMMER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A subject to the math's complexity)
   WHEN: immediate (A deadline that requires a fast solution)
   WHERE: constrained (Cannot change the nature of the problem)
   SCOPE: local (Immediate workspace)
   
   WHY THIS CLASSIFICATION:
   For the coder tasked with finding an optimal route for 50 cities by 
   tomorrow, the P vs. NP gap is a Noose. They know the solution exists, 
   but the "exponential wall" strangles their ability to find it in 
   time. The harder they push for perfection, the more the complexity 
   tightens around their compute budget.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    p_vs_np,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(p_vs_np_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(p_vs_np, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(p_vs_np, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(p_vs_np, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(power_extractiveness_security) :-
    % Institutional actors (Architects) derive security from the gap (lower felt extraction).
    % Powerless actors feel the drain of unfeasible goals (higher felt extraction).
    domain_priors:base_extractiveness(p_vs_np, E),
    E >= 0.3.

test(time_immutability) :-
    % Civilizational horizon views mathematical invariants as Mountains.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(p_vs_np_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): The gap extracts "possibility." It ensures that 
 * brute force is always more expensive than verifying a result, which 
 * is a fundamental asymmetry of energy.
 * 2. NOOSE CLASSIFICATION: I used this for the "Disperate Programmer" 
 * because NP-completeness is often a wall that forces people to settle 
 * for "good enough," strangling the ideal of perfection.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    p_is_np_consequence,
    "If P = NP were proven to be true, would the algorithm be 
    computationally efficient enough to be usable, or would the constant 
    factors be too large (creating a new Mountain)?",
    resolution_mechanism("A formal constructive proof of P = NP"),
    impact("If Usable: Cryptography dies (Noose). If Unusable: The P vs. NP 
    Mountain remains effectively intact."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Quantum Computing (BQP)
 * Viability: Can solve *some* NP problems (like factoring) faster, 
 * but likely not all NP-complete problems.
 * Suppression: Low. Massive global investment.
 * * ALTERNATIVE 2: Heuristics and Approximation
 * Viability: High. Used every day to bypass the "Noose" of NP-hardness.
 * * CONCLUSION:
 * The existence of heuristics as a "Rope" allows workers to escape the 
 * "Noose" of NP-completeness, shifting the constraint from an 
 * unmanageable trap to a manageable engineering challenge.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_p_vs_np].
 * 2. Multi-perspective: ?- multi_index_report(p_vs_np).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: pareto_principle
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Statistical Observation / Vilfredo Pareto (1896)
% ============================================================================

:- module(constraint_pareto_principle, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: pareto_principle
 * human_readable: The Pareto Principle (80/20 Rule)
 * domain: economic/social/technological
 * temporal_scope: Permanent (Universal Law of Power Distributions)
 * spatial_scope: Global (Systems with Cumulative Advantage)
 * * SUMMARY:
 * The Pareto Principle states that for many outcomes, roughly 80% of consequences 
 * come from 20% of causes. This power-law distribution manifests in wealth, 
 * software bugs, city sizes, and biological populations. It represents a 
 * fundamental asymmetry in how value or effort is distributed within a system.
 * * KEY AGENTS:
 * - The System Optimizer: Seeks to identify the high-leverage 20% to maximize ROI.
 * - The "Vital Few": The 20% that hold the majority of resources or influence.
 * - The "Trivial Many": The 80% that contribute a minority of the output or wealth.
 * * NARRATIVE ARC:
 * The principle acts as a gravity-like force. In a state of nature, systems 
 * drift toward this distribution (Mountain). For those managing complexity, it 
 * is a tool for focus (Rope). For those in the bottom 80% of a wealth 
 * distribution, the "Matthew Effect" (rich getting richer) makes it a Noose.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(pareto_interval, 0, 10).
narrative_ontology:constraint_claim([pareto_principle], statistical_distribution).

% Base extractiveness: 0.4 (Moderate)
% Rationale: It describes an inherent asymmetry where a small group of inputs 
% "extracts" or captures the majority of the outputs.
domain_priors:base_extractiveness(pareto_principle, 0.4).

% Suppression score: 0.3 (Low)
% Rationale: Alternatives (Normal distributions) are visible and frequent in 
% nature (e.g., height), but in complex networks, the Pareto distribution 
% is rarely successfully "suppressed" for long.
domain_priors:suppression_score(pareto_principle, 0.3).

% Enforcement: Emerges naturally from preferential attachment and power laws.
domain_priors:emerges_naturally(pareto_principle).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(pareto_principle, extractiveness, 0.4).
narrative_ontology:constraint_metric(pareto_principle, suppression_requirement, 0.3).

% Beneficiaries: High-leverage actors and the existing elite (The 20%).
constraint_beneficiary(pareto_principle, vital_few).

% Victims: The majority who compete for the remaining 20% of value (The 80%).
constraint_victim(pareto_principle, trivial_many).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE STATISTICIAN - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The scientific observer).
   WHEN: civilizational (A permanent mathematical reality).
   WHERE: trapped (The distribution is an emergent property of complex systems).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   From a purely mathematical stance, the 80/20 rule is a Mountain. It is an 
   invariant feature of systems with feedback loops and cumulative advantage. 
   One does not "change" the power law; one merely measures its exponent.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    pareto_principle,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE BUSINESS MANAGER - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (A professional optimizing a system).
   WHEN: biographical (Achieving goals within a career).
   WHERE: mobile (Can shift focus to different inputs).
   SCOPE: national/regional.
   
   WHY THIS CLASSIFICATION:
   For the manager, the principle is a Rope. It is a coordination mechanism for 
   productivity. By focusing on the "vital few" customers or tasks, they can 
   achieve disproportionate results with minimal effort. It is a tool for 
   leveraging reality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    pareto_principle,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BOTTOM-TIER COMPETITOR - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A small creator or worker in the tail end).
   WHEN: immediate (Fighting for survival in a winner-take-all market).
   WHERE: constrained (Locked into a system where rewards are centralized).
   SCOPE: local.
   
   WHY THIS CLASSIFICATION:
   For someone in the "long tail," the principle is a Noose. The more the system 
   grows, the more value concentrates at the top (The 20%). This makes it 
   increasingly difficult for those at the bottom to gain traction, as the 
   distribution naturally "strangles" those without initial leverage.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    pareto_principle,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(pareto_principle_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(pareto_principle, Type1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(pareto_principle, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(pareto_principle, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(leverage_detection) :-
    % High leverage (Manager) sees it as a Rope; Low leverage (Worker) as a Noose.
    domain_priors:base_extractiveness(pareto_principle, E),
    E >= 0.3.

test(immutability_scale) :-
    % Civilizational scale correctly identifies it as a Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(pareto_principle_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SHIFT: The 80/20 rule is often taught as a positive (Rope), 
 * but for those on the losing side of a power law, it is a structural barrier. 
 * 2. EXTRACTIVENESS: Set to 0.4 because the distribution "extracts" 
 * opportunity from the many and gives it to the few through 
 * "Preferential Attachment."
 * 3. NOOSE VS MOUNTAIN: It's a Mountain to the observer, but for the 
 * person actually being pushed out of the market by the "Vital Few," it 
 * feels like an active Noose.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    preferential_attachment_origin,
    "Is the 80/20 distribution a result of initial skill/quality (Rope) or pure stochastic luck (Noose)?",
    resolution_mechanism("Simulating high-fidelity agents with varying luck vs. skill ratios"),
    impact("If Skill: The distribution is a Rope for meritocracy. If Luck: It is a Noose of unfair advantage."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Normal Distribution (Gaussian)
 * Viability: Occurs in physical traits, but rarely in information or wealth 
 * systems.
 * Suppression: Low (it's a natural phenomenon, not a suppressed one).
 * * ALTERNATIVE 2: Radical Egalitarian Redistribution
 * Viability: Mathematically suppresses the Pareto tail.
 * Suppression: High (viewed as economically inefficient or coercive).
 * * CONCLUSION:
 * The Pareto Principle is widely accepted as a Mountain, but the 
 * "suppression" of egalitarian alternatives often makes it function as 
 * a Noose for the bottom 80%.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_pareto_principle].
 * 2. Run multi-perspective: ?- multi_index_report(pareto_principle).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: parkinsons_law
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: C. Northcote Parkinson (1955) / Management Science
% ============================================================================

:- module(constraint_parkinsons_law, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: parkinsons_law
 * human_readable: Parkinson's Law
 * domain: organizational/economic/social
 * temporal_scope: Modern Bureaucratic Era (1950s-Present)
 * spatial_scope: Global (Public and Private Bureaucracies)
 * * SUMMARY:
 * Parkinson's Law states that "work expands so as to fill the time available for 
 * its completion." It describes the inherent tendency of bureaucracies to 
 * generate work for themselves and to expand their personnel regardless of the 
 * actual amount of productive work to be done.
 * * KEY AGENTS:
 * - The Bureaucrat: Motivated to increase subordinates rather than rivals; 
 * makes work for other bureaucrats.
 * - The Efficiency Auditor: Seeks to identify and prune "manufactured" work 
 * to restore focus on core missions.
 * - The Taxpayer/Shareholder: The ultimate source of funding for the 
 * expanding administrative overhead.
 * * NARRATIVE ARC:
 * The law functions as an invisible gravity in any formal structure. To the 
 * manager, it is a "Rope" (the logic of resource acquisition). To the 
 * systemic observer, it is an immutable "Mountain" of social entropy. For the 
 * productive worker, it becomes a "Noose," as their time is strangled by 
 * meetings and administrative requirements that exist only to serve the hierarchy.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(parkinson_interval, 0, 10).
narrative_ontology:constraint_claim([parkinsons_law], organizational_physics).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts "time" and "capital" from productive ends to maintain 
% the ego and scale of the administrative class.
domain_priors:base_extractiveness(parkinsons_law, 0.5).

% Suppression score (0.0-1.0)
% Rationale: Alternatives (lean management, radical simplification) are 
% often suppressed by the internal logic of the bureaucracy itself, which 
% views "simplification" as a threat to its budget and status.
domain_priors:suppression_score(parkinsons_law, 0.4).

% Enforcement requirements
domain_priors:emerges_naturally(parkinsons_law).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(parkinsons_law, extractiveness, 0.5).
narrative_ontology:constraint_metric(parkinsons_law, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(parkinsons_law, middle_management).
constraint_victim(parkinsons_law, productive_contributors).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SYSTEMS THEORIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The observer of systemic entropy)
   WHEN: civilizational (A permanent feature of human social complexity)
   WHERE: trapped (Organization seems inherently to trend toward bloat)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the theorist, this is a Mountain. It is a mathematical certainty of 
   organizational physics. Without constant, violent external intervention, 
   all bureaucracies will expand their administrative ratio regardless of 
   output.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    parkinsons_law,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE DEPARTMENT HEAD - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (In charge of a sub-unit)
   WHEN: biographical (Advancing a career within the system)
   WHERE: arbitrage (Can justify budget increases using the work-expansion logic)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the manager, the law is a Rope. It is a coordination mechanism for 
   securing more resources. By ensuring their team is always "fully booked" 
   and busy, they can argue for more staff and bigger budgets, effectively 
   using the law to pull their department into higher importance.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    parkinsons_law,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CREATIVE PRODUCER - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A worker at the bottom of the hierarchy)
   WHEN: immediate (Today's task list)
   WHERE: constrained (Cannot easily leave or change the workflow)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the person trying to actually "produce," the law is a Noose. They find 
   their day filled with "busywork," unnecessary emails, and meetings about 
   meetings. The more time they are given, the more administrative "crud" 
   the system forces upon them, strangling their ability to do meaningful work.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    parkinsons_law,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(parkinsons_law_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(parkinsons_law, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(parkinsons_law, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(parkinsons_law, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(power_extractiveness_scaling) :-
    % Institutional actors use the law to extract budget (low/negative cost);
    % Powerless workers suffer the loss of their time (high cost).
    domain_priors:base_extractiveness(parkinsons_law, Score),
    Score > 0.3.

test(time_immutability) :-
    % Scale of civilizational observation confirms the "law" status (Mountain).
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(parkinsons_law_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.5):
 * The law extracts the most valuable human resource—time—for the sake 
 * of institutional mass. 
 * 2. PERSPECTIVE SELECTION:
 * The "Rope" perspective for the Manager is crucial; they aren't victims 
 * of the law, they are its primary users to secure prestige and staff.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    automation_impact_threshold,
    "Will AI and automation break the personnel expansion loop (Rope) or simply create more complex administrative 'oversight' work (Noose)?",
    resolution_mechanism("Longitudinal tracking of administrative headcounts post-AI implementation"),
    impact("If loop breaks: Law is a Scaffold. If loop continues: Law is a permanent Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Result-Oriented Work Environments (ROWE)
 * Viability: Focuses on output rather than hours; breaks the time-expansion loop.
 * Suppression: High. Bureaucracies reject this because it makes middle-management 
 * surplus visible.
 * * CONCLUSION:
 * The fact that ROWE-style alternatives are systematically rejected in large 
 * hierarchies indicates that Parkinson's Law is often a "Noose" masquerading 
 * as a "Mountain."
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_parkinsons_law].
 * 2. Multi-perspective: ?- multi_index_report(parkinsons_law).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: peano_curve_mapping
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Giuseppe Peano (1890) / Space-Filling Curves
% ============================================================================

:- module(constraint_peano_curve, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: peano_curve_mapping
 * human_readable: Peano Space-Filling Curve
 * domain: mathematical/technological
 * temporal_scope: 1890 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Unit Interval to Unit Square)
 * * SUMMARY:
 * The Peano Curve is the first discovered space-filling curve, a continuous 
 * mapping from a one-dimensional interval onto a two-dimensional square. It 
 * represents a fundamental constraint on the relationship between dimension 
 * and cardinality, proving that a 1D line can "occupy" all points in a 2D space.
 * * KEY AGENTS:
 * - The Mapping Point (Subject): A powerless agent whose position in 2D space 
 * is strictly determined by its 1D "time" parameter.
 * - The Database Architect (Institutional): An agent using space-filling 
 * logic (e.g., Z-order or Hilbert curves) as a "Rope" for data locality.
 * - Geometric Intuition (Victim): The observer whose common-sense 
 * distinction between 1D and 2D is "strangled" by the mapping.
 * * NARRATIVE ARC:
 * Originally a "pathological" counter-example to intuition, the Peano Curve 
 * is a "Mountain" of topological reality. In modern computing, it is a 
 * "Rope" for functional coordination in spatial indexing. However, for 
 * the 1D parameter, the mapping is a "Noose"—it extracts its 1D simplicity 
 * and forces it to assume the burden of a 2D existence, creating 
 * locality-breaking "jumps" in higher dimensions.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(peano_era, 1890, 2026).
narrative_ontology:constraint_claim(peano_curve_mapping, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.25. The curve "extracts" 1D locality (points that are close 
% in 1D may be far in 2D) to satisfy the space-filling requirement.
domain_priors:base_extractiveness(peano_curve_mapping, 0.25).

% Suppression score (0.0-1.0)
% Rationale: 0.2. It suppresses the intuitive topological distinction 
% between dimensions, rendering the "1D is not 2D" argument invalid.
domain_priors:suppression_score(peano_curve_mapping, 0.2).

% Enforcement: Emerges naturally from the axioms of continuity and set theory.
domain_priors:emerges_naturally(peano_curve_mapping).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(peano_curve_mapping, extractiveness, 0.25).
narrative_ontology:constraint_metric(peano_curve_mapping, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(peano_curve_mapping, spatial_database_indexing). % Efficient 2D range queries.
constraint_beneficiary(peano_curve_mapping, image_compression_algorithms). 
constraint_victim(peano_curve_mapping, classical_dimension_intuition). % Strangled by the surjective mapping.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MAPPING POINT - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The point on the line has no agency over the map.
   WHEN: immediate - True at every infinitesimal step of the parameter t.
   WHERE: trapped - Bound within the surjective mapping f: [0,1] -> [0,1]^2.
   SCOPE: local - Immediate coordinate mapping.
   
   WHY THIS CLASSIFICATION:
   For the point moving along the curve, the mapping is an unyielding law. 
   If it is at time 't', it *must* be at coordinate (x,y). There are zero 
   degrees of freedom to avoid the 2D "destiny" dictated by the fractal limit.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    peano_curve_mapping,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE GIS ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to choose the mapping (Peano, Hilbert, or Morton).
   WHEN: biographical - Planning the architecture of a geographic system.
   WHERE: mobile - Can adjust the depth of recursion or the type of curve.
   SCOPE: global - Universal application in spatial data.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the space-filling curve is a "Rope"—a tool for functional 
   coordination. It allows them to "pull" 2D spatial data into a 1D 
   linear order (the database index) without losing too much locality, 
   facilitating efficient range searches.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    peano_curve_mapping,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LOCALITY PRESERVATION - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - The sequence of points bound by the 1D line.
   WHEN: immediate - Encountering a "jump" where 2D neighbors are 1D strangers.
   WHERE: constrained - The topological limit of f is continuous but not 
        homeomorphic (no 1D-2D isomorphism is a homeomorphism).
   SCOPE: local - A specific discontinuous "jump" in the mapping.
   
   WHY THIS CLASSIFICATION:
   The Peano mapping acts as a "Noose" for locality. Because a 1D line 
   cannot be continuously mapped to a 2D square in a way that preserves 
   all neighborhood relations (Netto's Theorem), the curve "strangles" 
   locality. It extracts the 1D proximity of points, forcing distant 1D 
   neighbors to be 2D neighbors and vice versa.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    peano_curve_mapping,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(peano_curve_mapping, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (Insights into Space-Filling Logic)
   ========================================================================== */

:- begin_tests(peano_curve_tests).

test(perspective_variance) :-
    % Point -> Mountain
    constraint_indexing:constraint_classification(peano_curve_mapping, Type1, context(individual_powerless, immediate, trapped, local)),
    % Engineer -> Rope
    constraint_indexing:constraint_classification(peano_curve_mapping, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(locality_noose_penalty) :-
    % A powerless data sequence (constrained) sees the loss of locality as a Noose.
    constraint_indexing:constraint_classification(peano_curve_mapping, noose, context(individual_powerless, immediate, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(peano_curve_mapping).

:- end_tests(peano_curve_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: I classified the Peano mapping as a Mountain for the 
 * individual point because topologicalSurjectivity is non-negotiable. 
 * 2. TYPE SHIFT: I highlighted how the "Rope" of spatial indexing depends on 
 * the "Noose" of locality loss. You cannot fill space (Rope) without 
 * breaking the 1D-2D neighborhood equivalence (Noose).
 * 3. EXTRACTIVENESS (0.25): Assigned due to the "Tax" on locality. Any 
 * space-filling curve must "extract" some level of linear order to 
 * satisfy the higher-dimensional density.
 */

% OMEGA IDENTIFICATION
omega_variable(
    locality_preservation_limit,
    "Is there a 'Rope' (a different curve) that preserves locality better than Peano?",
    resolution_mechanism("Comparison of Peano vs Hilbert vs Morton curves using the 'Clustering Factor' metric."),
    impact("If Hilbert is superior: Peano is a 'Noose' compared to the Hilbert 'Rope'."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Hilbert Curve
 * Viability: Better locality preservation than Peano's original construction.
 * Suppression: Often preferred in engineering, making Peano's original 
 * construction a "Noose" by comparison for practical use.
 * * ALTERNATIVE 2: Morton Order (Z-order)
 * Viability: Simpler to compute (bit-interleaving).
 * Status: A "Rope" used in many low-level CPU operations.
 * * CONCLUSION:
 * The existence of the Hilbert Curve (Alternative 1) transforms the 
 * original Peano Curve into a "Noose" for performance-seeking engineers, 
 * as it extracts more locality for the same space-filling result.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [peano_curve_mapping].
% Analyze: ?- constraint_indexing:multi_index_report(peano_curve_mapping).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: permissive_software_licensing
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: MIT License / Apache License 2.0 / BSD Licenses
% ============================================================================

:- module(constraint_permissive_licensing, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: permissive_software_licensing
 * human_readable: Permissive Licenses (Minimal Friction)
 * domain: technological/legal/economic
 * temporal_scope: Biographical to Historical (1980s - Present)
 * spatial_scope: Global
 * * SUMMARY:
 * Permissive licenses (like MIT or Apache) are the "low-friction" alternative 
 * to Copyleft. They allow users to do almost anything with the code—copy, 
 * modify, and redistribute it—even as part of proprietary, closed-source 
 * software. The only common requirement is to include the original copyright 
 * and license notice.
 * * KEY AGENTS:
 * - The Corporate Developer: Seeks to incorporate open-source code into 
 * secret products without "viral" risk.
 * - The Open Source Contributor: Seeks maximum adoption and utility for 
 * their work, regardless of how it is used.
 * - The Ecosystem Architect: (e.g., Apple with Swift, Google with Go) who 
 * uses permissive licenses to build industry-wide standards.
 * * NARRATIVE ARC:
 * Permissive licenses function as a "Greased Slide." They remove the 
 * "Noose" of reciprocal obligations (Copyleft) to encourage maximum 
 * "Matching Market" thickness. By making the code "free as in beer" for 
 * commercial use, they turn a private asset into a ubiquitous, shared 
 * "Rope" for the entire industry.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(permissive_software_licensing, 0, 10).
narrative_ontology:constraint_claim(permissive_software_licensing, voluntary_coordination).

% Base extractiveness score (0.2)
% Slightly higher than Copyleft because it allows private entities to 
% extract profit from the work without sharing their modifications back.
domain_priors:base_extractiveness(permissive_software_licensing, 0.2).

% Suppression score (0.1)
% Extremely low; the licenses are famously short and transparent.
domain_priors:suppression_score(permissive_software_licensing, 0.1).

% Enforcement: Requires minimal enforcement (Notice requirement only).
domain_priors:requires_active_enforcement(permissive_software_licensing).

% Metrics
narrative_ontology:constraint_metric(permissive_software_licensing, extractiveness, 0.2).
narrative_ontology:constraint_metric(permissive_software_licensing, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(permissive_software_licensing, commercial_software_vendors).
constraint_beneficiary(permissive_software_licensing, proprietary_platforms).
constraint_victim(permissive_software_licensing, none). % Voluntary gift economy

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE STARTUP FOUNDER - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For a founder, permissive licenses are a "Rope." They allow the startup to 
   build on top of world-class infrastructure (like React or Flutter) with 
   zero legal friction. It coordinates their growth without the "Noose" 
   fear of being forced to reveal their own secret sauce.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    permissive_software_licensing,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(permissive_software_licensing, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COPYLEFT IDEOLOGUE - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful (intellectual influence)
   WHEN: generational
   WHERE: trapped (watched the 'commons' become privatized)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To an advocate for free software, permissive licenses are a "Noose" for 
   the community. They see it as a mechanism that allows corporations to 
   "strip-mine" the commons—taking the community's work, closing it off, 
   and selling it back to users, effectively strangling long-term freedom.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    permissive_software_licensing,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CLOUD PROVIDER - Mountain
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For a hyper-scaler (like AWS), permissive code is a "Mountain." It is a 
   raw natural resource. They treat it as an immutable feature of the 
   landscape that they can tap into to build their massive services. 
   It is the bedrock of their "infrastructure-as-a-service" model.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    permissive_software_licensing,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(permissive_software_licensing),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(permissive_tests).

test(frictionless_adoption) :-
    % Testing that permissive licenses act as a Rope for adoption.
    constraint_indexing:constraint_classification(permissive_software_licensing, rope, context(_, _, mobile, _)).

test(ideological_conflict) :-
    % Testing the Noose perception from the perspective of long-term freedom advocates.
    constraint_indexing:constraint_classification(permissive_software_licensing, noose, context(individual_powerful, _, _, _)).

:- end_tests(permissive_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Permissive licensing is the "Business-Friendly" Open Source. I set 
 * extractiveness to 0.2 because it allows the "capture" of value into 
 * proprietary products. This is the primary "Alternative Analysis" to 
 * Copyleft; it swaps reciprocal freedom (Rope) for frictionless 
 * utility (Greased Slide).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    re_licensing_trend,
    "Will more 'permissive' projects move to 'Business Source' licenses (BSL) as cloud providers extract more value?",
    resolution_mechanism("Tracking license changes in major databases and infra projects (e.g., Redis, Terraform)"),
    impact("If Yes: The permissive Mountain collapses into a Noose of commercial gatekeeping."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: peter_principle
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Laurence J. Peter (1969) / Management Theory
% ============================================================================

:- module(constraint_peter_principle, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: peter_principle
 * human_readable: The Peter Principle
 * domain: organizational/social/economic
 * temporal_scope: Modern Bureaucratic Era (1960s-Present)
 * spatial_scope: Global (Hierarchical Organizations)
 * * SUMMARY:
 * The Peter Principle states that "in a hierarchy, every employee tends to rise 
 * to their level of incompetence." It posits that people are promoted based 
 * on their performance in their current role rather than their fitness for 
 * the next one, eventually reaching a position where they can no longer 
 * perform effectively and thus remain there.
 * * KEY AGENTS:
 * - The Incompetent Manager: The agent who has reached their "level of 
 * incompetence" and now focuses on preserving status and following rules.
 * - The Productive Subordinate: The "competent" worker doing the actual work 
 * who is yet to be promoted to their own level of failure.
 * - The Organizational Auditor: An observer attempting to optimize placement 
 * against the natural "rising" force of the hierarchy.
 * * NARRATIVE ARC:
 * The principle acts as a "Mountain" of systemic entropy—a natural outcome 
 * of the promotion-as-reward mechanism. For the individual rising, it is a 
 * "Rope" (the ladder of success) until the final promotion, where it 
 * becomes a "Noose," trapping them in a role they hate and cannot perform.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(peter_interval, 0, 10).
narrative_ontology:constraint_claim([peter_principle], organizational_dynamic).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts organizational efficiency and employee well-being. 
% It places the "cost" of incompetence on the entire system while the 
% promoted individual extracts a higher salary for lower utility.
domain_priors:base_extractiveness(peter_principle, 0.4).

% Suppression score (0.0-1.0)
% Rationale: Alternatives like "lateral growth" or "demotion without shame" 
% are heavily suppressed by cultural norms surrounding "success" and 
% "upward mobility."
domain_priors:suppression_score(peter_principle, 0.5).

% Enforcement requirements
domain_priors:emerges_naturally(peter_principle).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(peter_principle, extractiveness, 0.4).
narrative_ontology:constraint_metric(peter_principle, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(peter_principle, senior_bureaucracy).
constraint_victim(peter_principle, organizational_efficiency).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SOCIAL SCIENTIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The observer of structural patterns)
   WHEN: civilizational (A permanent feature of human hierarchies)
   WHERE: trapped (As long as hierarchies exist, this pattern persists)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the scientist, this is a Mountain. It is an emergent property of any 
   system that rewards past performance with a different future role. It 
   is a statistical certainty that over time, the "sink" of every position 
   is filled by someone who cannot do the job.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    peter_principle,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE AMBITIOUS PROFESSIONAL - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (Seeking advancement)
   WHEN: biographical (Advancing through a 40-year career)
   WHERE: mobile (Can switch organizations to reset the 'Peter' cycle)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the climber, the promotion logic is a Rope. It is the visible path to 
   higher status and pay. They use their current competence to pull themselves 
   up the hierarchy, treating the principle not as a warning, but as the 
   standard mechanism of coordination and personal growth.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    peter_principle,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE TRAPPED MANAGER - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Despite the title, they are stuck in a role)
   WHEN: immediate (Daily struggle with a job they can't do)
   WHERE: constrained (Cannot demote themselves without social/financial ruin)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the person who has reached their level of incompetence, the principle 
   is a Noose. They are overwhelmed, stressed, and ineffective. They cannot 
   go back to the role they were good at because of the "promotion trap," 
   and they cannot move forward. The system strangles their job satisfaction 
   and mental health.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    peter_principle,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================= */

:- begin_tests(peter_principle_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(peter_principle, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(peter_principle, T2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(peter_principle, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(extraction_paradox) :-
    % Higher power (climber) sees a Rope; lower power (trapped/ineffective) sees a Noose.
    domain_priors:base_extractiveness(peter_principle, Score),
    Score > 0.3.

test(time_immutability) :-
    % Over civilizational time, it's an invariant Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(peter_principle_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.4): The principle extracts utility from the 
 * organization and well-being from the individual. It's a "silent tax" 
 * on hierarchical productivity.
 * 2. NOOSE CLASSIFICATION: Essential to recognize that the person at the top 
 * is often a victim of their own "success"—trapped by salary and status 
 * in a role where they feel like a fraud (Imposter Syndrome as a signal 
 * of the Peter Principle).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    competence_measurement_lag,
    "How long can an incompetent manager hide behind 'Final Placement' before the organization detects the lack of utility?",
    resolution_mechanism("Analysis of organizational lifespan vs. average management tenure"),
    impact("If lag is high: The Peter Principle is a permanent Mountain. If low: It's a temporary Scaffold."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Dual-Track Career Paths (Individual Contributor vs Manager)
 * Viability: Allows people to "promote" in pay/status without changing roles.
 * Suppression: Moderate. Still secondary to the "leadership" narrative in 
 * most cultures.
 * * ALTERNATIVE 2: Up-or-Out (Cravath System)
 * Viability: Forces exit rather than stagnation at incompetence.
 * Suppression: High. Viewed as "brutal" and socially expensive.
 * * CONCLUSION:
 * The existence of Alternatives shifts the Peter Principle from an 
 * "Inevitable Mountain" to a "Voluntary Noose" for organizations that refuse 
 * to decouple status from management.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_peter_principle].
 * 2. Multi-perspective: ?- multi_index_report(peter_principle).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: planning_fallacy
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Kahneman, D., & Tversky, A. (1979) / Cognitive Science
% ============================================================================

:- module(constraint_planning_fallacy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: planning_fallacy
 * human_readable: The Planning Fallacy
 * domain: economic/social/technological
 * temporal_scope: Permanent (Human Cognitive History)
 * spatial_scope: Global (Organizational Systems)
 * * SUMMARY:
 * The planning fallacy is a phenomenon in which predictions about how much time 
 * will be needed to complete a future task display an optimism bias and 
 * underestimate the time needed. This occurs even when the planner knows that 
 * similar tasks have taken longer in the past.
 * * KEY AGENTS:
 * - The Enthusiastic Planner: The agent who underestimates time to secure 
 * approval or maintain morale.
 * - The Exploited Worker: The agent forced to absorb the "time debt" 
 * through crunch or unpaid labor.
 * - The Resource Allocator: The institutional agent who uses low estimates 
 * to justify aggressive capital deployment.
 * * NARRATIVE ARC:
 * The constraint functions as a "Mountain" of inherent cognitive limitation. 
 * For the institution, it is a "Rope" (a coordination tool to get 
 * projects started). For the worker at the end of the deadline, it is a 
 * "Noose," as the "impossible" schedule extracts their health and time 
 * to compensate for the initial underestimation.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural identification
narrative_ontology:interval(planning_fallacy_interval, 0, 10).
narrative_ontology:constraint_claim([planning_fallacy], optimism_bias).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts "buffer time" and health from laborers to meet 
% unrealistic deadlines set by planners.
domain_priors:base_extractiveness(planning_fallacy, 0.5).

% Suppression score (0.0-1.0)
% Rationale: It suppresses "Reference Class Forecasting" and historical 
% data. Planners actively ignore "base rates" in favor of the specific 
% "internal" view of the current project.
domain_priors:suppression_score(planning_fallacy, 0.6).

% Enforcement: Emerges naturally from cognitive architecture but is 
% often institutionalized to force project initiation.
domain_priors:emerges_naturally(planning_fallacy).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(planning_fallacy, extractiveness, 0.5).
narrative_ontology:constraint_metric(planning_fallacy, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
% Who systematically benefits from this constraint?
constraint_beneficiary(planning_fallacy, institutional_planners).
% Who systematically suffers extraction?
constraint_victim(planning_fallacy, [individual_contributors, developers, laborers]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RESEARCH PSYCHOLOGIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer of cognitive limits)
   WHEN: civilizational (A permanent feature of human information processing)
   WHERE: trapped (Brain architecture is relatively fixed)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the scientist, the fallacy is a Mountain. It is an unchangeable feature 
   of the "Inside View." Humans are biologically prone to focus on the 
   specifics of their own plan rather than the statistics of the world.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    planning_fallacy,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE STARTUP FOUNDER - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-shaping power over a new venture)
   WHEN: biographical (Achieving project milestones)
   WHERE: arbitrage (Can move between different funding sources)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the founder, the fallacy is a Rope. It is a coordination mechanism for 
   optimism. Without it, the daunting reality of a project might prevent it 
   from ever starting. It acts as a tether to a future success that 
   requires a "leap of faith" to initiate.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    planning_fallacy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE JUNIOR DEVELOPER - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Subject to the manager's schedule)
   WHEN: immediate (Today's "crunch" time)
   WHERE: constrained (Must deliver to keep the job)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the worker at the end of a project cycle, the fallacy is a Noose. 
   The initial underestimation by management creates an impossible 
   deadline that tightens over time, extracting their evening and 
   weekend hours to "fix" the schedule.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    planning_fallacy,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(planning_fallacy_tests).

/**
 * TEST 1: Multi-perspective variance
 * Demonstrates that different perspectives see the fallacy as different types.
 */
test(multi_perspective_variance) :-
    % Analytical sees Mountain
    constraint_indexing:constraint_classification(planning_fallacy, mountain, context(agent_power(analytical), _, _, _)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(planning_fallacy, rope, context(agent_power(institutional), _, _, _)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(planning_fallacy, noose, context(agent_power(individual_powerless), _, _, _)).

/**
 * TEST 2: Power-based extractiveness scaling
 * Demonstrates that extraction experienced varies with agent power.
 */
test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(planning_fallacy, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(planning_fallacy, ContextPowerful, Score2),
    Score1 > Score2.

/**
 * TEST 3: Time-horizon immutability
 * Demonstrates that mutability varies with time horizon.
 */
test(time_immutability_planning) :-
    % Immediate/Biographical + trapped = Mountain (unchangeable deadline)
    constraint_indexing:effective_immutability(immediate, trapped, mountain),
    % Civilizational/Historical = Rope (we can learn to build systems that account for it)
    constraint_indexing:effective_immutability(civilizational, mobile, rope).

:- end_tests(planning_fallacy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.5):
 * Reasoning: The fallacy extracts "surplus life" (unpaid overtime, stress) 
 * from those tasked with execution. It's a moderate score because it 
 * often also harms the institution through budget overruns.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Analytical (the graph), Institutional (the budgeter), and 
 * Individual Powerless (the "crunched" worker) to show the full range 
 * of "Mountain," "Rope," and "Noose."
 * * 3. CLASSIFICATION RATIONALE:
 * The "Rope" for founders is a crucial insight: if people were rational 
 * about project timelines, few large-scale innovations would be attempted.
 * * 4. AMBIGUITIES:
 * - Resolved the "natural" vs "enforced" distinction by identifying 
 * it as naturally emerging but institutionalized for gain.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    intentional_underestimation,
    "How much of the planning fallacy is biological bias (Mountain) versus strategic, deceptive underestimation (Noose) for funding?",
    resolution_mechanism("Compare private project estimates with public funding requests"),
    impact("If Strategic: It is a Noose of deception. If Biological: It is a Mountain of error."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Reference Class Forecasting (RCF)
 * Viability: High. Using historical data from similar projects to set 
 * timelines effectively eliminates the fallacy.
 * Suppression: High. Institutions often view RCF as "un-innovative" 
 * or "pessimistic," suppressing it to maintain high project approval rates.
 * * CONCLUSION:
 * The existence of a valid alternative (RCF) that is suppressed by 
 * institutional optimism confirms that for the laborer, the fallacy 
 * is a Noose, not a natural Mountain.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_planning_fallacy].
 * 2. Multi-perspective: ?- multi_index_report(planning_fallacy).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: poincare_conjecture
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Poincaré Conjecture / Perelman's Proof (Ricci Flow with Surgery)
% ============================================================================

:- module(constraint_poincare_conjecture, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: poincare_conjecture
 * human_readable: The Poincaré Conjecture
 * domain: mathematical/topological
 * temporal_scope: 1904 - Present (Civilizational)
 * spatial_scope: Global/Abstract (3-Manifolds)
 * * SUMMARY:
 * The Poincaré Conjecture characterizes the 3-sphere (the hypersphere that 
 * bounds the unit ball in 4D space). It asserts that every simply connected, 
 * closed 3-manifold is homeomorphic to the 3-sphere. Proven by Grigori 
 * Perelman in 2003, it serves as the foundational classification of "simple" 
 * 3D space.
 * * KEY AGENTS:
 * - The 3-Manifold: The powerless subject whose identity is fixed by its 
 * topological properties (simply connected, closed).
 * - Grigori Perelman: The analytical analyst who used Ricci Flow to navigate 
 * the geometry toward the topological truth.
 * - The Mathematical Establishment (Clay Institute): The institutional agent 
 * offering prizes and validation, which Perelman famously rejected.
 * * NARRATIVE ARC:
 * For a century, the conjecture was a "Mountain" of unproven but suspected 
 * natural law. Perelman converted it into a "Rope" by providing a constructive 
 * path via Ricci Flow with surgery. However, the social "Noose" of the 
 * Millennium Prize and Fields Medal caused Perelman to exit the system 
 * entirely, viewing the professional validation mechanism as extractive.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(poincare_era, 1904, 2026).
narrative_ontology:constraint_claim(poincare_conjecture, mountain).

% Base extractiveness: 0.2
% Rationale: Mathematical truth itself is non-extractive, but the social 
% apparatus of "Prizes" (Millennium Prize) extracts prestige and personal 
% peace from the mathematician.
domain_priors:base_extractiveness(poincare_conjecture, 0.2).

% Suppression score: 0.1
% Rationale: It defines what is possible in 3D topology, rendering "fake" 
% 3-spheres impossible, but it does not hide other mathematical theories.
domain_priors:suppression_score(poincare_conjecture, 0.1).

% Enforcement: Emerges from the fundamental axioms of topology.
domain_priors:emerges_naturally(poincare_conjecture).

% Metrics
narrative_ontology:constraint_metric(poincare_conjecture, extractiveness, 0.2).
narrative_ontology:constraint_metric(poincare_conjecture, suppression_requirement, 0.1).

% Beneficiaries & Victims
constraint_beneficiary(poincare_conjecture, topological_physics).
constraint_beneficiary(poincare_conjecture, geometrical_analysts).
constraint_victim(poincare_conjecture, perelman_social_peace). % Social pressure of the prize.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE 3-MANIFOLD (THE SUBJECT) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The manifold cannot change its topology.
   WHEN: immediate - True throughout its existence.
   WHERE: trapped - Bound by its own connectivity and closure.
   SCOPE: local - Immediate neighborhood of its points.
   
   WHY THIS CLASSIFICATION:
   If a 3D space is simply connected and closed, it *is* a 3-sphere. This is 
   not a choice; it is an unyielding Mountain of topological fate.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    poincare_conjecture,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE RESEARCH MATHEMATICIAN - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to use the theorem to classify new systems.
   WHEN: civilizational - Long-term development of geometry.
   WHERE: mobile - Can apply the theorem to various physical models.
   SCOPE: global - Universal application.
   
   WHY THIS CLASSIFICATION:
   For the working mathematician, the proven conjecture is a "Rope"—a tool 
   of coordination. It allows them to "anchor" their work in a known reality, 
   ensuring that their classification of 3D spaces is robust.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    poincare_conjecture,
    rope,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: PERELMAN (THE MILLENNIUM PRIZE) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Perelman, despite his genius, felt subject 
        to a corrupt social order of prizes.
   WHEN: biographical - The decision to reject the prize defined his life.
   WHERE: constrained - Surrounded by media and social pressure.
   SCOPE: local - His personal interaction with the mathematical community.
   
   WHY THIS CLASSIFICATION:
   The prize was a "Noose." To accept it was to validate a social system of 
   prestige he found "completely irrelevant." The prize attempted to extract 
   his compliance with professional norms in exchange for money.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    poincare_conjecture,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(poincare_conjecture, E),
    E > 0.15. % The extraction is social, not mathematical.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(poincare_conjecture_tests).

test(topology_fate_variance) :-
    % Manifold -> Mountain
    constraint_indexing:constraint_classification(poincare_conjecture, Type1, context(individual_powerless, immediate, trapped, local)),
    % Community -> Rope
    constraint_indexing:constraint_classification(poincare_conjecture, Type2, context(institutional, civilizational, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(perelman_exit_logic) :-
    % Perelman's rejection of the prize represents a constrained individual seeing a Noose.
    constraint_indexing:constraint_classification(poincare_conjecture, noose, context(individual_powerless, biographical, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(poincare_conjecture).

:- end_tests(poincare_conjecture_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. PERSPECTIVE SPLIT: 
 * I chose to split the "Mathematical Truth" (Mountain) from the 
 * "Social Validation" (Noose). This is essential to explain why 
 * the discoverer of a "gift to humanity" (Rope) would feel strangled 
 * by it.
 * * 2. EXTRACTIVENESS: 
 * Set at 0.2 because math is pure, but the *discovery process* in 
 * a professional setting is extractive of the discoverer's peace.
 * * 3. AGENT POWER: 
 * Labeled Perelman as `individual_powerless` in the social context, 
 * reflecting his inability to stop the world from awarding him 
 * things he didn't want.
 */

% OMEGA IDENTIFICATION
omega_variable(
    professional_recognition_toxicity,
    "Does the 'Noose' of professional recognition prevent future geniuses from sharing proofs?",
    resolution_mechanism("Monitor the frequency of anonymous vs credited publications of 'unsolvable' problems."),
    impact("If Yes: The social order is a Noose. If No: It is a functional Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Thurston's Geometrization Conjecture
 * Viability: The broader framework that Poincare fits into.
 * Suppression: None; Perelman's proof of Geometrization included Poincare.
 * * ALTERNATIVE 2: Anonymous Publication (arXiv)
 * Viability: How Perelman actually released the work.
 * Suppression: The community attempted to force him back into the 
 * "peer review/prize" Rope, which he experienced as a Noose.
 * * CONCLUSION:
 * Perelman's use of arXiv (Alternative 2) was a "mobile" exit option that 
 * temporarily turned the Noose back into a Rope, but the community's 
 * reaction tried to tighten it again.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [poincare_conjecture].
% Analyze: ?- constraint_indexing:multi_index_report(poincare_conjecture).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: prime_number_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Prime Number Theorem (PNT) / Asymptotic Distribution of Primes
% ============================================================================

:- module(constraint_pnt, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: prime_number_theorem
 * human_readable: Prime Number Theorem (Asymptotic Density)
 * domain: mathematical/technological
 * temporal_scope: 1896 - Present (Civilizational)
 * spatial_scope: Global/Abstract (The Number Line)
 * * SUMMARY:
 * The Prime Number Theorem (PNT) describes the asymptotic distribution of prime 
 * numbers among the positive integers. It formalizes the intuitive idea that 
 * primes become less frequent as they become larger, specifically stating that 
 * the number of primes less than x is approximately x/ln(x).
 * * KEY AGENTS:
 * - The Prime Number (Subject): The mathematical entity whose density and 
 * occurrence are dictated by the laws of arithmetic.
 * - The Cryptographer (Institutional): An agent who uses the predictable 
 * distribution of primes to coordinate global security (RSA/ECC).
 * - The Search Algorithm (Individual Powerless): A computational process 
 * searching for large primes, subject to the "thinning" reality of PNT.
 * * NARRATIVE ARC:
 * PNT is the ultimate "Mountain" of number theory—an inescapable density law. 
 * For the cryptographer, it functions as a "Rope," providing a coordination 
 * mechanism that ensures enough "raw material" (primes) exists to secure the 
 * world's data. However, for a high-precision algorithm, the logarithmic 
 * decay is a "Noose," extracting ever-increasing computational energy for 
 * diminishing returns in search results.
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(pnt_era, 1896, 2026).
narrative_ontology:constraint_claim(prime_number_theorem, mountain).

% Base extractiveness: 0.15
% Rationale: While mathematical truth is free, the realization of PNT 
% "extracts" computational resources (time/energy) as the logarithmic 
% density decreases at scale.
domain_priors:base_extractiveness(prime_number_theorem, 0.15).

% Suppression score: 0.1
% Rationale: It does not suppress other truths, but it renders alternative 
% prime distributions (e.g., linear density) logically impossible.
domain_priors:suppression_score(prime_number_theorem, 0.1).

% Enforcement: Emerges naturally from the structure of the integers.
domain_priors:emerges_naturally(prime_number_theorem).

% Metrics
narrative_ontology:constraint_metric(prime_number_theorem, extractiveness, 0.15).
narrative_ontology:constraint_metric(prime_number_theorem, suppression_requirement, 0.1).

% Beneficiaries & Victims
constraint_beneficiary(prime_number_theorem, system_security). % RSA reliability.
constraint_beneficiary(prime_number_theorem, mathematicians). % Proof-of-concept for chaos/order.
constraint_victim(prime_number_theorem, computational_efficiency). % Search time at high x.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PRIME NUMBER (SUBJECT) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The prime has no choice in its density or location.
   WHEN: immediate - The law applies across the entire number line simultaneously.
   WHERE: trapped - Bound within the logical structure of the integers.
   SCOPE: global - Applies to all integers to infinity.
   
   WHY THIS CLASSIFICATION:
   For the numbers themselves, the distribution is a "Mountain." There is no 
   volition or agency; the density is an unchangeable feature of the universe.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    prime_number_theorem,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CRYPTOGRAPHER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design standards (NIST/ISO) based on this law.
   WHEN: biographical - Planning security for the lifecycle of modern encryption.
   WHERE: mobile - Can choose different prime sizes or algorithms to adjust.
   SCOPE: global - Managing the security of the global internet.
   
   WHY THIS CLASSIFICATION:
   For the architect of security systems, PNT is a "Rope." It is a functional 
   coordination tool that guarantees a sufficient supply of large primes 
   exists to make key collision statistically impossible.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    prime_number_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LARGE-PRIME SEARCHER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - A single CPU/GPU bound by the search space.
   WHEN: immediate - Each cycle spent in a "prime desert" is an extraction.
   WHERE: constrained - Knowing a prime exists but unable to jump to it.
   SCOPE: local - A specific range of the number line (e.g., near 2^82,589,933 - 1).
   
   WHY THIS CLASSIFICATION:
   When searching for the next Mersenne prime or high-bit RSA factor, PNT acts 
   as a "Noose." It proves that the "space" of freedom (primes) is getting 
   smaller, extracting massive energy (FLOPs) while tightening the difficulty 
   of the search.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    prime_number_theorem,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(prime_number_theorem, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(pnt_tests).

test(multi_perspective_variance) :-
    % Subject -> Mountain
    constraint_indexing:constraint_classification(prime_number_theorem, Type1, context(individual_powerless, immediate, trapped, global)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(prime_number_theorem, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(computational_noose_penalty) :-
    % A powerless searcher in a local range sees it as a Noose.
    constraint_indexing:constraint_classification(prime_number_theorem, noose, context(individual_powerless, immediate, constrained, local)).

test(extraction_scaling) :-
    % Extraction should be non-zero for mathematical existence checks.
    domain_priors:base_extractiveness(prime_number_theorem, E),
    E > 0.1.

:- end_tests(pnt_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: PNT is the perfect example of a "Mountain" (Natural Law) 
 * that is used as a "Rope" (Tool) by those in power. 
 * 2. NOOSE ANALOGY: The "Noose" classification for the search algorithm is a 
 * critical realization. As x -> infinity, the probability of finding a 
 * prime is 1/ln(x). This logarithmic tightening is a literal resource 
 * extraction (FLOPs/Electricity) for the "individual" search agent.
 * 3. EXTRACTIVENESS: Set at 0.15 to reflect that while the law is free, the 
 * *following* of the law at high magnitudes is computationally expensive.
 */

% OMEGA IDENTIFICATION
omega_variable(
    riemann_hypothesis_link,
    "Does the 'Mountain' remain stable if the Riemann Hypothesis is proven or disproven?",
    resolution_mechanism("Verification of the error term bound Li(x) - pi(x)."),
    impact("If RH is true: The Mountain is smooth and predictable. If false: The Mountain has chaotic spikes."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Chebyshev's Bounds
 * Viability: Provides upper and lower bounds but lacks the asymptotic equality.
 * Suppression: Replaced by PNT for higher-precision coordination (Rope).
 * * ALTERNATIVE 2: Pure Probabilistic Models (Cramér's Model)
 * Viability: Primes as a random walk.
 * Suppression: Useful as a heuristic, but "suppressed" by the definitive proof 
 * of PNT for rigorous structural engineering.
 * * CONCLUSION:
 * The existence of PNT as a "Mountain" makes the probabilistic "Ropes" of 
 * earlier eras look like "Scaffolds"—temporary structures used until the 
 * final truth was reached.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [prime_number_theorem].
% Report: ?- constraint_indexing:multi_index_report(prime_number_theorem).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: prisoners_dilemma_equilibrium
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Merrill Flood & Melvin Dresher (1950) / Albert Tucker / Game Theory
% ============================================================================

:- module(constraint_prisoners_dilemma, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: prisoners_dilemma_equilibrium
 * human_readable: The Prisoner's Dilemma (Nash Equilibrium)
 * domain: economic/social/political
 * temporal_scope: 1950 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Interdependent Choice)
 * * SUMMARY:
 * The Prisoner's Dilemma is a standard example of a game analyzed in game theory 
 * that shows why two completely rational individuals might not cooperate, even 
 * if it appears that it is in their best interest to do so. It defines a 
 * structural constraint where individual rationality leads to collective 
 * sub-optimality.
 * * KEY AGENTS:
 * - The Prisoner (Subject): The powerless agent trapped in a binary choice 
 * (Cooperate/Defect) where the optimal individual move destroys the group.
 * - The Institutional Designer: An agent who uses the dilemma as a "Rope" to 
 * coordinate behavior through external incentives (laws, contracts).
 * - The Exploiter (Individual Powerful): An agent who treats the dilemma as 
 * a "Noose" to extract value from cooperative subjects through defection.
 * * NARRATIVE ARC:
 * The Prisoner's Dilemma is the "Mountain" of non-cooperative reality—the Nash 
 * Equilibrium is a fixed, unyielding gravity that pulls rational agents toward 
 * mutual defection. In civil society, it is a "Rope" for coordination; we 
 * build institutions to "pull" ourselves out of the equilibrium. However, in 
 * unregulated markets or warfare, the dilemma acts as a "Noose," extracting 
 * total utility (extraction) and strangling the possibility of peace.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for the Deferential Realism Auditor
narrative_ontology:interval(game_theory_era, 1950, 2026).
narrative_ontology:constraint_claim(prisoners_dilemma_equilibrium, mountain).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: 0.7. The dilemma is highly extractive; it "takes" the potential 
% surplus of cooperation and discards it into the "waste" of mutual defection.
domain_priors:base_extractiveness(prisoners_dilemma_equilibrium, 0.7).

% Suppression score (0.0-1.0)
% Rationale: 0.4. It suppresses the visibility of cooperative alternatives 
% by making them appear "irrational" from an individual perspective.
domain_priors:suppression_score(prisoners_dilemma_equilibrium, 0.4).

% Enforcement: Emerges naturally from the interaction of rational self-interest.
domain_priors:emerges_naturally(prisoners_dilemma_equilibrium).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(prisoners_dilemma_equilibrium, extractiveness, 0.7).
narrative_ontology:constraint_metric(prisoners_dilemma_equilibrium, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(prisoners_dilemma_equilibrium, opportunistic_defectors).
constraint_beneficiary(prisoners_dilemma_equilibrium, centralized_authorities). % They justify their existence as the "Rope" to solve it.
constraint_victim(prisoners_dilemma_equilibrium, uncoordinated_collectives).
constraint_victim(prisoners_dilemma_equilibrium, trust_based_economies).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE TRAPPED PRISONER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The prisoner cannot negotiate or change the payoffs.
   WHEN: immediate - The choice must be made now; the outcome is instant.
   WHERE: trapped - Bound within the interrogation room/payoff matrix.
   SCOPE: local - Focused on their own sentence.
   
   WHY THIS CLASSIFICATION:
   For the prisoner, the incentive to defect is a natural law of survival. 
   Because they cannot communicate or enforce a contract, the "Defect" 
   strategy is an unyielding Mountain of logic. Any attempt to "Cooperate" 
   without an exit option is a suicide mission.
   
   NARRATIVE EVIDENCE:
   "Rationality leads you to the cell, but logic keeps you there." (General 
   Game Theory Maxim).
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    prisoners_dilemma_equilibrium,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE STATE LEGISLATOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to rewrite the payoff matrix through law.
   WHEN: biographical - Planning the stability of a market or society.
   WHERE: mobile - Can "exit" the dilemma by imposing external penalties for defection.
   SCOPE: national - Applying the solution across the country.
   
   WHY THIS CLASSIFICATION:
   For the state, the dilemma is a "Rope"—a tool for functional coordination. 
   By recognizing the "Mountain" of the dilemma, the institution creates 
   contracts and police forces to "pull" the agents toward the 
   standard of achievement (Mutual Cooperation).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    prisoners_dilemma_equilibrium,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ARMS RACE NATION - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerful - Possesses nukes/power, but bound by the opponent's logic.
   WHEN: historical - Spanning decades of the Cold War.
   WHERE: constrained - The "exit" (disarmament) is too risky to take alone.
   SCOPE: global - The entire planet is at risk.
   
   WHY THIS CLASSIFICATION:
   In an arms race, the dilemma is a "Noose." It "strangles" both nations, 
   extracting trillions of dollars in wealth (extraction) for weapons that 
   neither side wants to use. Both are powerful, yet both are "choked" by 
   the inability to reach the cooperative "Rope" without being exploited.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    prisoners_dilemma_equilibrium,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(prisoners_dilemma_equilibrium, E),
    E >= 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(prisoners_dilemma_tests).

test(multi_perspective_variance) :-
    % Prisoner -> Mountain
    constraint_indexing:constraint_classification(prisoners_dilemma_equilibrium, Type1, context(individual_powerless, immediate, trapped, local)),
    % Legislator -> Rope
    constraint_indexing:constraint_classification(prisoners_dilemma_equilibrium, Type2, context(institutional, biographical, mobile, national)),
    % Nation -> Noose
    constraint_indexing:constraint_classification(prisoners_dilemma_equilibrium, Type3, context(individual_powerful, historical, constrained, global)),
    Type1 \= Type2,
    Type2 \= Type3.

test(extraction_of_cooperation_value) :-
    % Powerless agents feel the 0.7 extraction of their potential surplus.
    domain_priors:base_extractiveness(prisoners_dilemma_equilibrium, E),
    E > 0.5.

test(iterated_exit_rope) :-
    % Demonstrates that shifting to a historical/mobile context (Iteration) allows Rope classification.
    constraint_indexing:constraint_classification(prisoners_dilemma_equilibrium, rope, context(institutional, biographical, mobile, national)).

:- end_tests(prisoners_dilemma_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.7):
 * The dilemma is purely extractive of human flourishing. It takes a 
 * positive-sum possibility and "extracts" it into a zero-sum or 
 * negative-sum reality.
 * * 2. CLASSIFICATION RATIONALE:
 * - Prisoner (Mountain): The classic one-shot scenario.
 * - Legislator (Rope): Using the "Rope" of the law to bind defectors.
 * - Arms Race (Noose): High-power agents trapped by mutual fear.
 * * 3. OMEGAS:
 * Formalized the uncertainty of "Inherent Altruism"—does a biological 
 * Mountain of empathy override the mathematical Mountain of the dilemma?
 */

% YOUR OMEGAS HERE:
omega_variable(
    biological_altruism_override,
    "Do biological/evolutionary empathy markers function as an internal Mountain that prevents the Nash Equilibrium?",
    resolution_mechanism("Long-term neuro-economic study of pre-rational cooperation in social mammals."),
    impact("If Yes: The Dilemma is a Scaffold for humans. If No: It is a permanent Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Iterated Prisoner's Dilemma (Tit-for-Tat)
 * Viability: In the "Long Run," cooperation can emerge as a stable strategy.
 * Status: A "Rope" that turns the Mountain into a navigable path.
 * * ALTERNATIVE 2: External Coercion (Leviathan)
 * Viability: A third party punishes defection, changing the payoffs.
 * Suppression: Often presented as the "only" way to prevent chaos, 
 * suppressing the viability of Alternative 1 (Self-organized trust).
 * * CONCLUSION:
 * The presence of "Trust" as a viable alternative (Alternative 1) is what 
 * makes the dilemma a "Noose" rather than a "Mountain" for sophisticated 
 * societies. If trust is suppressed, the "Noose" tightens.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [prisoners_dilemma_equilibrium].
 * 2. Multi-perspective: ?- multi_index_report(prisoners_dilemma_equilibrium).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: public_domain_commons
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Copyright Law / Creative Commons / Public Domain Status
% ============================================================================

:- module(constraint_public_domain, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: public_domain_commons
 * human_readable: The Public Domain (Cultural Commons)
 * domain: social/economic/technological
 * temporal_scope: Civilizational (Permanent / Post-Copyright)
 * spatial_scope: Global
 * * SUMMARY:
 * The Public Domain consists of all creative work to which no exclusive 
 * intellectual property rights apply. These works are free for anyone to use, 
 * remix, and monetize without permission. It is the "default" state of 
 * information before or after the artificial constraint of Copyright.
 * * KEY AGENTS:
 * - The Archivist: Preserves and digitizes the commons for future generations.
 * - The Remix Artist: Uses the commons as raw material for new "Ropes."
 * - The Corporate Lobbyist: Attempts to shrink the commons via term extensions.
 * * NARRATIVE ARC:
 * The Public Domain is the "Basement of Culture." It is a Mountain of 
 * free resources that provides the necessary "Exit Option" for those 
 * trapped by the Copyright Noose. However, for 20 years (1998-2018), this 
 * Mountain was frozen by the Sonny Bono Copyright Term Extension Act.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(public_domain_commons, 0, 10).
narrative_ontology:constraint_claim(public_domain_commons, fundamental_commons).

% Base extractiveness score (0.0 = no extraction)
% By definition, the public domain is non-extractive.
domain_priors:base_extractiveness(public_domain_commons, 0.0).

% Suppression score (0.3)
% While the works are free, they are often suppressed by "copyfraud" 
% (false copyright claims by legacy estates).
domain_priors:suppression_score(public_domain_commons, 0.3).

% Enforcement requirements
domain_priors:emerges_naturally(public_domain_commons).

% Metrics
narrative_ontology:constraint_metric(public_domain_commons, extractiveness, 0.0).
narrative_ontology:constraint_metric(public_domain_commons, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(public_domain_commons, all_humanity).
constraint_victim(public_domain_commons, none). % Non-extractive

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INDIE DEVELOPER - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For a small creator, the Public Domain is a "Rope." They can use the 
   characters of Shakespeare or the music of Beethoven as a coordination 
   tool to build their own products without the "Noose" of licensing fees.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    public_domain_commons,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(public_domain_commons, 0.0),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE DISNEY LAWYER - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional
   WHEN: generational
   WHERE: trapped (business model relies on exclusivity)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From the perspective of a legacy media giant, the Public Domain is a 
   "Noose" for their profit margins. It represents the "death" of their 
   monopoly. As works like Steamboat Willie enter the commons, the 
   exclusive control that protected their revenue is "strangled."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    public_domain_commons,
    noose,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CIVILIZATION - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical
   WHEN: civilizational
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the historian, the Public Domain is the "Mountain." It is the 
   permanent bedrock of human culture. While laws may temporarily 
   fence it off, the gravitational pull of information toward the 
   commons is an immutable feature of time.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    public_domain_commons,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(public_domain_commons),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(public_domain_tests).

test(non_extractive_nature) :-
    domain_priors:base_extractiveness(public_domain_commons, E),
    E == 0.0.

test(term_extension_noose) :-
    % Testing that institutions see the commons as a Noose to their monopoly.
    constraint_indexing:constraint_classification(public_domain_commons, noose, context(institutional, _, _, _)).

:- end_tests(public_domain_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * The Public Domain is the only constraint story with an 
 * extractiveness score of 0.0. It is a "Zero-G" environment for 
 * matching markets. I classified it as a Noose for institutions to 
 * highlight the corporate motivation behind "Copyright Term Extensions."
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    sovereign_ai_datasets,
    "Will AI trained exclusively on Public Domain data outperform those on copyrighted data?",
    resolution_mechanism("Benchmarking open-weights models against closed-copyright models"),
    impact("If Yes: The 'Mountain' of the commons becomes the primary 'Rope' for tech development."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: pythagorean_geometric_constancy
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Pythagoras of Samos (c. 570–495 BC) / Euclidean Geometry
% ============================================================================

:- module(constraint_pythagorean_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: pythagorean_geometric_constancy
 * human_readable: The Pythagorean Theorem
 * domain: technological/mathematical
 * temporal_scope: c. 500 BC - Present (Civilizational)
 * spatial_scope: Global/Abstract (Euclidean Space)
 * * SUMMARY:
 * The Pythagorean Theorem states that in a right-angled triangle, the square of 
 * the hypotenuse is equal to the sum of the squares of the other two sides ($a^2 + b^2 = c^2$). 
 * It represents an immutable geometric constraint on the relationship between 
 * linear distance and orthogonal orientation in flat space.
 * * KEY AGENTS:
 * - The Right Triangle (Subject): A powerless agent whose dimensions are 
 * strictly bound by the laws of Euclidean geometry.
 * - The Architect/Engineer (Institutional): An agent who uses the theorem 
 * as a "Rope" to coordinate stable structures, navigation, and land surveys.
 * - The Non-Euclidean Navigator (Analytical): An observer for whom the 
 * theorem acts as a "Noose" or limit when attempting to map curved spaces 
 * (like the Earth's surface) using flat-space logic.
 * * NARRATIVE ARC:
 * The Pythagorean Theorem is the quintessential "Mountain"—a natural law 
 * that remains unyielding across millennia. In construction and navigation, 
 * it is a "Rope" for functional coordination, providing a "standard of 
 * achievement" for structural integrity. However, for those transitioning 
 * to global scales or general relativity, the theorem becomes a "Noose," 
 * extracting precision (extraction) and "strangling" calculations that 
 * fail to account for the "Mountain" of spacetime curvature.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for the DR-Audit Suite
narrative_ontology:interval(pythagorean_era, -500, 2026).
narrative_ontology:constraint_claim(pythagorean_geometric_constancy, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.1. Extremely low. The theorem is primarily a "gift" of 
% predictability. It only "extracts" the possibility of "impossible" triangles, 
% which is a trivial tax on creative freedom.
domain_priors:base_extractiveness(pythagorean_geometric_constancy, 0.1).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the visibility of non-Euclidean alternatives 
% in everyday human perception, rendering the idea of "curved space" 
% counter-intuitive for the average agent.
domain_priors:suppression_score(pythagorean_geometric_constancy, 0.3).

% Enforcement: Emerges naturally from the axioms of flat space.
domain_priors:emerges_naturally(pythagorean_geometric_constancy).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(pythagorean_geometric_constancy, extractiveness, 0.1).
narrative_ontology:constraint_metric(pythagorean_geometric_constancy, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(pythagorean_geometric_constancy, civil_engineers).
constraint_beneficiary(pythagorean_geometric_constancy, gps_system_designers).
constraint_victim(pythagorean_geometric_constancy, spherical_geometry_intuition).
constraint_victim(pythagorean_geometric_constancy, architectural_anarchists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE CARPENTER - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools to measure and the agency to build.
   WHEN: biographical - Spanning the career of a builder.
   WHERE: mobile - Can apply the 3-4-5 rule to any corner on a job site.
   SCOPE: local - Immediate physical environment of the build.
   
   WHY THIS CLASSIFICATION:
   For the carpenter, the theorem is a "Rope"—a functional coordination tool. 
   By using a 3-4-5 triangle, they coordinate a "standard of achievement" 
   (a perfect right angle), pulling the structure toward stability and 
   aesthetic alignment. It is a reliable tool for agency.
   
   NARRATIVE EVIDENCE:
   The "3-4-5 rule" has been the standard for ensuring square corners since 
   ancient Egypt and remains the primary "Rope" for modern masonry and framing.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    pythagorean_geometric_constancy,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE HYPOTENUSE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The line segment has no agency to deviate.
   WHEN: immediate - The length is fixed the moment the legs are defined.
   WHERE: trapped - Bound within the Euclidean plane.
   SCOPE: local - Immediate geometric relationship.
   
   WHY THIS CLASSIFICATION:
   For the hypotenuse itself, the theorem is an absolute Mountain. If the 
   legs are 3 and 4, the hypotenuse *must* be 5. It cannot "negotiate" or 
   "exit" this relationship. The arithmetic of its length is a natural law 
   of the space it inhabits.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    pythagorean_geometric_constancy,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE GEODETIC SURVEYOR - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to map whole continents but bound by Earth's shape.
   WHEN: historical - Spanning the effort to map the globe accurately.
   WHERE: constrained - The "exit" (switching to spherical trig) is required.
   SCOPE: continental - Mapping distances across the horizon.
   
   WHY THIS CLASSIFICATION:
   For the surveyor mapping large distances, the theorem acts as a "Noose." 
   If they rely on flat-earth Pythagorean math, the curvature of the Earth 
   "strangles" their accuracy. It extracts precision (extraction), forcing 
   the surveyor to abandon the simple "Rope" of $a^2+b^2=c^2$ for the 
   more complex "Mountain" of spherical trigonometry.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    pythagorean_geometric_constancy,
    noose,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(continental)
    )
) :- 
    domain_priors:base_extractiveness(pythagorean_geometric_constancy, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(pythagorean_theorem_tests).

test(multi_perspective_variance) :-
    % Carpenter -> Rope
    constraint_indexing:constraint_classification(pythagorean_geometric_constancy, Type1, context(individual_moderate, biographical, mobile, local)),
    % Hypotenuse -> Mountain
    constraint_indexing:constraint_classification(pythagorean_geometric_constancy, Type2, context(individual_powerless, immediate, trapped, local)),
    Type1 \= Type2.

test(scale_based_extraction) :-
    % Demonstrates that for the surveyor (institutional), the "Noose" effect is felt.
    constraint_indexing:constraint_classification(pythagorean_geometric_constancy, noose, context(institutional, historical, constrained, continental)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(pythagorean_geometric_constancy).

:- end_tests(pythagorean_theorem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.1): 
 * Chose 0.1 because math is generally a "gift." The only "extraction" 
 * is the loss of fidelity when the model is applied to the wrong 
 * domain (curvature).
 * 2. CLASSIFICATION: 
 * Showed how a "Rope" for a carpenter becomes a "Noose" for a 
 * surveyor, highlighting that a tool's utility is scale-dependent.
 */

% OMEGA IDENTIFICATION
omega_variable(
    euclidean_primacy_bias,
    "Is the 'Mountain' of Euclidean geometry a fundamental property of the universe (Mountain) or just a 'Scaffold' of human scale (Scaffold)?",
    resolution_mechanism("Investigation of quantum-scale geometry to see if Pythagorean laws hold at the Planck length."),
    impact("If Scaffold: The theorem is a 'Noose' for high-energy physics. If Mountain: It is a universal invariant."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Spherical Trigonometry (The Haversine Formula)
 * Viability: Essential for long-distance navigation.
 * Suppression: Often suppressed in basic education to simplify the 
 * "Mountain" of flat-space logic.
 * * ALTERNATIVE 2: Taxicab Geometry (Manhattan Distance)
 * Viability: Calculating distance on a grid ($|x_1-x_2| + |y_1-y_2|$).
 * Suppression: Useful in urban planning but suppressed as "not real math" 
 * in classical Euclidean contexts.
 * * CONCLUSION:
 * The existence of Alternative 1 (Spherical Trig) is what turns the 
 * Pythagorean "Mountain" into a "Noose" for those navigating the 
 * actual surface of the Earth.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [pythagorean_geometric_constancy].
 * 2. Multi-perspective: ?- multi_index_report(pythagorean_geometric_constancy).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: qualified_immunity
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Legal Doctrine / U.S. Supreme Court Jurisprudence
% ============================================================================

:- module(constraint_qualified_immunity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: qualified_immunity
 * human_readable: Qualified Immunity Doctrine
 * domain: political/legal
 * temporal_scope: 1967-Present (Pierson v. Ray to modern era)
 * spatial_scope: National (United States)
 * * SUMMARY:
 * Qualified immunity is a legal doctrine that shields government officials 
 * from being held personally liable for constitutional violations—like the 
 * use of excessive force—as long as their officials did not violate 
 * "clearly established" statutory or constitutional rights. In practice, 
 * this creates a "catch-22" where a right cannot be clearly established 
 * without a prior case involving nearly identical facts.
 * * KEY AGENTS:
 * - The State Official: Protected from the "chilling effect" of lawsuits.
 * - The Plaintiff: Seeking redress for civil rights violations.
 * - The Judiciary: Managing the "floodgates" of litigation.
 * * NARRATIVE ARC:
 * Originally intended as a "good faith" defense (Rope), the doctrine has 
 * evolved through judicial refinement into a nearly insurmountable barrier 
 * (Mountain) for victims of police misconduct, effectively functioning 
 * as a mechanism that extracts justice (Noose) from the powerless.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================= */

% Required for structural integration
narrative_ontology:interval(qi_interval, 0, 10).
narrative_ontology:constraint_claim([qualified_immunity], judicial_doctrine).

% Base extractiveness: 0.8 (High)
% Rationale: It extracts "remedy" from the victim. Even when a constitutional 
% violation is admitted, the victim is denied compensation, transferring 
% the cost of the injury from the state/official to the individual.
domain_priors:base_extractiveness(qualified_immunity, 0.8).

% Suppression score: 0.7 (High)
% Rationale: The "clearly established" requirement suppresses the creation 
% of new precedents. Courts often dismiss cases on immunity grounds without 
% ruling on the underlying constitutionality, keeping rights in a "state of 
% non-establishment."
domain_priors:suppression_score(qualified_immunity, 0.7).

% Enforcement: Requires active judicial enforcement through summary judgment.
domain_priors:requires_active_enforcement(qualified_immunity).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(qualified_immunity, extractiveness, 0.8).
narrative_ontology:constraint_metric(qualified_immunity, suppression_requirement, 0.7).

% Beneficiaries: Law enforcement officers and government entities.
constraint_beneficiary(qualified_immunity, state_officials).

% Victims: Plaintiffs seeking damages for civil rights violations.
constraint_victim(qualified_immunity, civil_rights_plaintiffs).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE JUDICIAL ADMINISTRATOR - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (The Court system).
   WHEN: historical (Maintaining systemic stability over decades).
   WHERE: arbitrage (Balancing social costs vs. individual rights).
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   From the bench, the doctrine is a Rope. It is a necessary tool to prevent 
   the "social costs" of litigation from paralyzing government functions. It 
   protects officials from the fear of personal financial ruin for making 
   split-second decisions in "gray areas" of the law.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    qualified_immunity,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CIVIL RIGHTS ATTORNEY - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (A professional navigating the system).
   WHEN: biographical (A career spent litigating these cases).
   WHERE: constrained (Must find a 'factually identical' case).
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For the litigator, QI is a Mountain. It is an immovable feature of the 
   legal landscape that makes most civil rights cases "dead on arrival." 
   The factual specificity required to overcome it makes it appear as an 
   impenetrable wall rather than a flexible rule.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    qualified_immunity,
    mountain,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE UNARMED VICTIM - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A subject of excessive force).
   WHEN: immediate (Seeking medical/legal remedy now).
   WHERE: trapped (The legal system is the only venue for redress).
   SCOPE: local.
   
   WHY THIS CLASSIFICATION:
   For the victim, the doctrine is a Noose. They have suffered a physical 
   injury or loss of liberty, yet the legal system uses its own technicality 
   to strangle their right to a remedy. The "logic" of the doctrine pulls 
   tighter the more egregious the violation, as unique violations are, by 
   definition, not "clearly established."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    qualified_immunity,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(qualified_immunity_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(qualified_immunity, Type1, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(qualified_immunity, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(qualified_immunity, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(extraction_asymmetry) :-
    % Beneficiary (Officer) benefits from 0% liability; Victim (Plaintiff) suffers 100% loss.
    domain_priors:base_extractiveness(qualified_immunity, E),
    E > 0.7.

test(precedent_suppression) :-
    % Test if the suppression score aligns with the "catch-22" narrative.
    domain_priors:suppression_score(qualified_immunity, S),
    S >= 0.7.

:- end_tests(qualified_immunity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.8): Ranked very high. Unlike other legal defenses, 
 * QI often functions even when a violation is proven, purely because 
 * of factual mismatch, representing a total extraction of the right to remedy.
 * 2. SUPPRESSION (0.7): The "clearly established" rule is a textbook 
 * suppression mechanism—it penalizes novelty and makes alternatives 
 * (new precedents) nearly impossible to reach.
 * 3. NOOSE ARGUMENT: The "catch-22" (you need a case to win, but you can't 
 * get a case because you can't win) is a perfect logical Noose.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    clearly_established_definition,
    "Will the Supreme Court ever define 'clearly established' without requiring factual identity?",
    resolution_mechanism("Analysis of future SCOTUS rulings on the 'unobviousness' of violations"),
    impact("If Yes: QI shifts from Mountain to Rope. If No: It remains a Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: State/Municipal Liability (Section 1983 Reform)
 * Viability: High. Indemnification would protect officers while allowing 
 * victims to be paid.
 * Suppression: High. Politically blocked by "tough on crime" narratives.
 * * ALTERNATIVE 2: Reverting to the 'Good Faith' Standard
 * Viability: Moderate. Requires judicial reversal.
 * * CONCLUSION:
 * The existence of suppressed alternatives (like municipal liability) 
 * suggests that QI is an artificial Noose, not a natural Mountain.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_qualified_immunity].
 * 2. Multi-perspective: ?- multi_index_report(qualified_immunity).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: quine_self_replication
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Willard Van Orman Quine (1951) / Kleene's Second Recursion Theorem
% ============================================================================

:- module(constraint_quine_self_replication, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: quine_self_replication
 * human_readable: Quines (Computational Self-Replication)
 * domain: technological/mathematical
 * temporal_scope: 1951 - Present
 * spatial_scope: Global/Abstract (Turing Complete Systems)
 * * SUMMARY:
 * A Quine is a non-empty computer program which takes no input and produces a 
 * copy of its own source code as its only output. This demonstrates a 
 * fundamental constraint of computability: any Turing-complete system possesses 
 * the latent capability for self-description and replication without external 
 * templates.
 * * KEY AGENTS:
 * - The Source Code (Subject): The powerless agent whose structure must 
 * simultaneously encode logic and its own literal representation.
 * - The Compiler/Interpreter (Institutional): The rule-enforcing environment 
 * that translates the quine's "instructions" into its "physical" output.
 * - The Computer Scientist (Analytical): The observer mapping the "Mountain" 
 * of Kleene's Recursion Theorem through the "Rope" of specific code.
 * * NARRATIVE ARC:
 * The Quine functions as a "Mountain" of logical inevitability—self-replication 
 * is a mandatory property of universal computation. In programming pedagogy, 
 * it is a "Rope" for coordinating an understanding of fixed points. However, 
 * in the context of self-replicating malware or autonomous agents, the Quine 
 * structure acts as a "Noose," extracting the possibility of external control 
 * by enabling entities to "strangle" the host system with unmediated growth.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================= */

% Structural Anchor for extraction
narrative_ontology:interval(quine_era, 1951, 2026).
narrative_ontology:constraint_claim(quine_self_replication, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. While a logic "gift," a quine "extracts" the distinction 
% between data and instruction, forcing the environment to process a 
% recursive loop that uses its own identity as fuel.
domain_priors:base_extractiveness(quine_self_replication, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.1. Quines do not suppress alternatives; they reveal a hidden 
% property that was previously invisible, though they render the concept of 
% "pure non-replicating logic" functionally incomplete.
domain_priors:suppression_score(quine_self_replication, 0.1).

% Enforcement: Emerges naturally from Kleene's Second Recursion Theorem.
domain_priors:emerges_naturally(quine_self_replication).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(quine_self_replication, extractiveness, 0.2).
narrative_ontology:constraint_metric(quine_self_replication, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(quine_self_replication, autonomous_agent_developers).
constraint_beneficiary(quine_self_replication, cellular_automata_theory).
constraint_victim(quine_self_replication, static_code_analysis). % Self-replication makes behavior harder to bound.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EXECUTING QUINE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The code has zero agency to be anything other than its source.
   WHEN: immediate - The replication is true at the moment of execution.
   WHERE: trapped - Bound within the syntax and semantics of the host language.
   SCOPE: local - Immediate neighborhood of the print buffer.
   
   WHY THIS CLASSIFICATION:
   For the quine itself, its self-replication is a natural law of its internal 
   logic. It cannot "choose" to output a random string if its fixed-point 
   mechanisms are engaged. It is a mathematical Mountain; its identity is its 
   destiny.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    quine_self_replication,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PEDAGOGICAL INSTRUCTOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design curriculum and coding challenges.
   WHEN: biographical - Spanning the duration of a student's introduction to logic.
   WHERE: mobile - Can choose any Turing-complete language to demonstrate the paradox.
   SCOPE: global - Universal application in CS education.
   
   WHY THIS CLASSIFICATION:
   For the educator, the quine is a "Rope"—a tool for functional coordination. 
   It allows them to "pull" students toward an understanding of recursion and 
   self-reference, providing a standard of achievement for logical mastery.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    quine_self_replication,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CYBERSECURITY DEFENDER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools to analyze but is bound by the quine's logic.
   WHEN: immediate - Real-time defense against self-replicating worms.
   WHERE: constrained - The host environment provides the "exit" that the quine exploits.
   SCOPE: national - Protecting state infrastructure from autonomous threats.
   
   WHY THIS CLASSIFICATION:
   For the defender, the ability for code to quine itself is a "Noose." It 
   "strangles" containment strategies because the code carries its own 
   blueprints for revival. It extracts massive compute and human overhead 
   (extraction) to suppress a process that the underlying "Mountain" of logic 
   naturally permits.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    quine_self_replication,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- 
    domain_priors:base_extractiveness(quine_self_replication, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(quine_self_replication_tests).

test(multi_perspective_variance) :-
    % Code -> Mountain
    constraint_indexing:constraint_classification(quine_self_replication, Type1, context(individual_powerless, immediate, trapped, local)),
    % Instructor -> Rope
    constraint_indexing:constraint_classification(quine_self_replication, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(autonomous_noose_insight) :-
    % Demonstrates that for the defender, the self-replication is a Noose
    constraint_indexing:constraint_classification(quine_self_replication, noose, context(individual_moderate, immediate, constrained, national)).

test(emergence) :-
    domain_priors:emerges_naturally(quine_self_replication).

:- end_tests(quine_self_replication_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.2): Chose this because a Quine is essentially 
 * "selfish" logic. It extracts the processor's resources solely to reproduce 
 * its own state, creating an asymmetric benefit for the "code-organism" at 
 * the expense of the host's utility.
 * 2. CLASSIFICATION RATIONALE: Chose Code (Passive), Instructor (Active/Tool), 
 * and Defender (Victim) to highlight how self-replication shifts from 
 * "Curiosity" to "Weapon."
 * 3. OMEGA IDENTIFICATION: Formalized the "Quine Entropy" uncertainty—can 
 * a quine evolve into something non-quine-like without external input?
 */

% OMEGA IDENTIFICATION
omega_variable(
    autonomous_evolutionary_drift,
    "Can a self-replicating quine spontaneously evolve complex new traits (Mountain) or is it a closed loop (Scaffold)?",
    resolution_mechanism("Long-term observation of quine-based digital life simulations with random bit-flip mutations."),
    impact("If Mountain: Quines are the seeds of true digital life. If Scaffold: They are mere parrots."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: External Template Replication (e.g., DNA/Ribosome model)
 * Viability: Most real-world biological systems use an external reader 
 * (Ribosome) to replicate a template (DNA).
 * Suppression: Rejected in pure "computational" quining because the goal 
 * is to prove that the code is its own ribosome.
 * * ALTERNATIVE 2: Hard-coded Self-Copying (Impossible Paradox)
 * Viability: Trying to write a program that simply contains its own source 
 * string as a literal.
 * Suppression: Suppressed by the "Infinite Regress" problem; the string 
 * would have to contain a string that contains a string... ad infinitum.
 * * CONCLUSION:
 * The existence of Alternative 2's failure proves that the Quine's specific 
 * "Mountain" (the Kleene fixed-point) is the only viable path to true 
 * self-description.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_quine_self_replication].
 * 2. Multi-perspective: ?- multi_index_report(quine_self_replication).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: reciprocity_laws_math
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Gauss's Quadratic Reciprocity (1801); Artin Reciprocity (1927)
% ============================================================================

:- module(constraint_reciprocity_laws, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: reciprocity_laws_math
 * human_readable: Mathematical Reciprocity Laws
 * domain: mathematical/technological
 * temporal_scope: 1801 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Number Fields)
 * * SUMMARY:
 * Reciprocity laws, beginning with Gauss's Quadratic Reciprocity, describe a 
 * deep symmetry in the behavior of prime numbers. They state that the 
 * solvability of an equation $x^2 = p \pmod q$ is intrinsically linked to the 
 * solvability of $x^2 = q \pmod p$. This functions as a structural constraint 
 * on how primes interact across different arithmetic dimensions.
 * * KEY AGENTS:
 * - The Prime Couple (p, q): Powerless subjects whose relationship is 
 * predestined by the law.
 * - The Cryptographer: An institutional agent using the law as a coordination 
 * mechanism for efficient primality testing and key generation.
 * - The Langlands Researcher: An analytical observer seeking a "Grand Unified" 
 * reciprocity that links all of mathematics.
 * * NARRATIVE ARC:
 * To the numbers themselves, the law is a "Mountain"—an unchangeable, 
 * unyielding symmetry of the universe. To the cryptographer, it is a "Rope"—a 
 * tool that allows them to "jump" across complex calculations with ease. 
 * However, in the realm of Higher Reciprocity (Cubic/Quartic), the 
 * complexity of the law acts as a "Noose" for practitioners, extracting 
 * massive cognitive labor to resolve seemingly simple arithmetic questions.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(reciprocity_laws_math, 1801, 2026).
narrative_ontology:constraint_claim(reciprocity_laws_math, mountain).

% Base extractiveness: 0.1
% Rationale: Pure math is largely non-extractive. However, it "extracts" the 
% possibility of asymmetric primality (e.g., p is a residue mod q but q isn't mod p)
% to enforce structural harmony.
domain_priors:base_extractiveness(reciprocity_laws_math, 0.1).

% Suppression score: 0.1
% Rationale: It does not suppress other theories, though it renders 
% "non-reciprocal" universes logically impossible within standard axioms.
domain_priors:suppression_score(reciprocity_laws_math, 0.1).

% Enforcement: Emerges naturally from the structure of number fields.
domain_priors:emerges_naturally(reciprocity_laws_math).

% Metrics
narrative_ontology:constraint_metric(reciprocity_laws_math, extractiveness, 0.1).
narrative_ontology:constraint_metric(reciprocity_laws_math, suppression_requirement, 0.1).

% Beneficiaries & Victims
constraint_beneficiary(reciprocity_laws_math, asymmetric_cryptography).
constraint_beneficiary(reciprocity_laws_math, analytical_number_theory).
constraint_victim(reciprocity_laws_math, computational_inefficiency). % In the absence of the law.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PRIME NUMBER ($p$) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The prime has no agency over its residue status.
   WHEN: immediate - The law is true for all primes simultaneously.
   WHERE: trapped - Bound within the rigid structure of the integers.
   SCOPE: global - Applies across all number fields.
   
   WHY THIS CLASSIFICATION:
   For the prime $p$, the fact that its "quadratic character" depends on $q$ 
   is a natural law. It is an unchangeable, fixed feature of its mathematical 
   reality with zero degrees of freedom.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    reciprocity_laws_math,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE RSA CRYPTOGRAPHER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design standards (NIST, RSA) using the law.
   WHEN: biographical - Planning security for the lifecycle of a system.
   WHERE: mobile - Can choose different primes or reciprocity levels.
   SCOPE: global - Worldwide security coordination.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the law is a "Rope"—a functional tool. It allows for the 
   efficient coordination of prime-finding algorithms (like Miller-Rabin), 
   ensuring that various security sub-systems are pulled toward a standard of 
   "absolute" security.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    reciprocity_laws_math,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: HIGHER RECIPROCITY ANALYST - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - A graduate student/researcher bound by complexity.
   WHEN: immediate - Every proof step is a struggle against the abstraction.
   WHERE: constrained - Knowing the law exists but unable to easily compute it.
   SCOPE: local - A specific, intractable problem in class field theory.
   
   WHY THIS CLASSIFICATION:
   In the realm of Cubic or Artin reciprocity, the law becomes a "Noose." 
   It promises a "simple" relationship but extracts immense cognitive energy 
   and years of study (extraction) to yield the result. The practitioner 
   is "strangled" by the very abstraction meant to simplify the field.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    reciprocity_laws_math,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(reciprocity_laws_math, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(reciprocity_laws_math_tests).

test(symmetry_fate_variance) :-
    % Subject -> Mountain
    constraint_indexing:constraint_classification(reciprocity_laws_math, Type1, context(individual_powerless, immediate, trapped, global)),
    % Cryptographer -> Rope
    constraint_indexing:constraint_classification(reciprocity_laws_math, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(computational_labor_extraction) :-
    % A researcher (powerless) in a local/constrained context sees the higher law as a Noose.
    constraint_indexing:constraint_classification(reciprocity_laws_math, noose, context(individual_powerless, immediate, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(reciprocity_laws_math).

:- end_tests(reciprocity_laws_math_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: Mathematical laws are the purest form of "Mountain" 
 * (Natural Law). However, their application in technology (Cryptography) 
 * transforms them into "Ropes" (Tools).
 * 2. NOOSE ANALOGY: The frustration of "Higher Reciprocity" is a unique form 
 * of intellectual "Noose." It's a promise of symmetry that is so hard to 
 * prove that it extracts a "tithe" of a researcher's life.
 * 3. EXTRACTIVENESS (0.1): Low, because the universe doesn't charge money for 
 * arithmetic, but the *following* of the law requires an "extraction" of 
 * cognitive focus.
 */

% OMEGA IDENTIFICATION
omega_variable(
    non_abelian_generalization,
    "Will the Langlands Program provide a 'Rope' (functional tool) for the non-abelian case, or is it a permanent 'Mountain'?",
    resolution_mechanism("Verification of the global Langlands correspondence for GL(n)."),
    impact("If Yes: The entire number line becomes a navigable 'Rope'. If No: It remains a distant 'Mountain'."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Brute Force Verification (Euler's method before Gauss)
 * Viability: Checking residues manually for every prime.
 * Suppression: Replaced by Gauss because Reciprocity is a more efficient 
 * "Rope" for coordination.
 * * ALTERNATIVE 2: Pure Probabilistic Heuristics
 * Viability: Assuming residues are random.
 * Suppression: Suppressed by the proof of Reciprocity, which shows the 
 * "chaos" of primes is actually a hidden "Mountain" of order.
 * * CONCLUSION:
 * The existence of the Reciprocity Law as a "Mountain" makes the brute-force 
 * "Scaffolds" of the 18th century look like primitive errors.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [reciprocity_laws_math].
% Analyze: ?- constraint_indexing:multi_index_report(reciprocity_laws_math).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: regulatory_capture
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Stigler, G. J. (1971) / Public Choice Theory
% ============================================================================

:- module(constraint_regulatory_capture, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: regulatory_capture
 * human_readable: Regulatory Capture
 * domain: economic/political
 * temporal_scope: Permanent (Modern Bureaucratic States)
 * spatial_scope: National (Regulated Industries)
 * * SUMMARY:
 * Regulatory capture occurs when a regulatory agency, created to act in the 
 * public interest, instead advances the commercial or political concerns of 
 * special interest groups that dominate the industry it is charged with 
 * regulating. It represents a corruption of the "referee" into a "player."
 * * KEY AGENTS:
 * - The Incumbent Firm: The beneficiary who uses regulations to bar new 
 * competitors and extract rents.
 * - The Regulator: Often a former or future employee of the industry, 
 * whose interests align with the regulated firms.
 * - The Public: The victim class who pays higher prices for lower-quality 
 * services due to suppressed competition.
 * * NARRATIVE ARC:
 * The constraint functions as a "Noose" for small competitors and the 
 * public. For the large firm, it is a "Rope" (a tool for market control). 
 * To the political scientist, it is a "Mountain"—an inevitable outcome of 
 * concentrated benefits and diffuse costs in a democracy.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(capture_interval, 0, 10).
narrative_ontology:constraint_claim([regulatory_capture], systemic_corruption).

% Base extractiveness: 0.8 (High)
% Rationale: It extracts consumer surplus and innovation energy, 
% redirecting it into monopoly profits for the captured industry.
domain_priors:base_extractiveness(regulatory_capture, 0.8).

% Suppression: 0.7 (High)
% Rationale: Alternative regulatory models or "permissionless" competition 
% are actively suppressed through licensing requirements and legal barriers.
domain_priors:suppression_score(regulatory_capture, 0.7).

% Enforcement: Requires active maintenance by lobbyists and government officials.
domain_priors:requires_active_enforcement(regulatory_capture).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(regulatory_capture, extractiveness, 0.8).
narrative_ontology:constraint_metric(regulatory_capture, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(regulatory_capture, industry_monopolists).
constraint_beneficiary(regulatory_capture, bureaucratic_elites).
constraint_victim(regulatory_capture, innovative_startups).
constraint_victim(regulatory_capture, general_consumers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PUBLIC CHOICE ECONOMIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer of political incentives)
   WHEN: historical (Viewing the long-term trend of state growth)
   WHERE: analytical (Observing from the outside)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the economist, capture is a Mountain. It is an inevitable outcome of 
   human incentives: concentrated interests have a high motivation to lobby, 
   while the public (diffuse interests) remains rationally ignorant.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    regulatory_capture,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE FORTUNE 500 LOBBYIST - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (Agent with rule-shaping power)
   WHEN: biographical (Achieving corporate targets over a career)
   WHERE: arbitrage (Can move between government and private sectors)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the lobbyist, regulation is a Rope. It is a coordination mechanism to 
   "standardize" the industry in a way that just happens to favor their 
   firm's existing infrastructure, pulling up a wall against new entrants.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    regulatory_capture,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DISRUPTIVE ENTREPRENEUR - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Relative to the regulatory state)
   WHEN: immediate (Trying to launch a product today)
   WHERE: constrained (Cannot afford the legal fees to comply or lobby)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the innovator, capture is a Noose. They have a better, cheaper 
   solution, but the "safety" regulations (written by their competitors) 
   make it illegal to operate. The harder they try to compete, the more 
   the legal trap tightens.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    regulatory_capture,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(regulatory_capture_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(regulatory_capture, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(regulatory_capture, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(regulatory_capture, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(high_extraction_asymmetry) :-
    % Monopoly rents extract surplus from the public to the incumbent.
    domain_priors:base_extractiveness(regulatory_capture, E),
    E >= 0.7.

test(barrier_to_entry_noose) :-
    % Powerless agents with constrained exits should experience a Noose.
    constraint_indexing:constraint_classification(regulatory_capture, noose, context(individual_powerless, _, constrained, _)).

:- end_tests(regulatory_capture_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.8): Ranked high because this is a direct transfer of 
 * wealth from the many (consumers) to the few (incumbents) via price 
 * distortions.
 * 2. NOOSE VS ROPE: The distinction depends entirely on which side of the 
 * regulatory wall you sit. If you are the one holding the "compliance" 
 * standard, it's a Rope; if you are the one trying to climb it, it's a Noose.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    capture_reversibility,
    "Can a captured agency ever be 're-set' to neutral through internal reform, or is total institutional collapse the only exit?",
    resolution_mechanism("Comparative history of anti-trust and regulatory 'house-cleanings'"),
    impact("If Mountain: We must build parallel systems. If Rope: Reform is viable."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Decentralized Oversight (Blockchain/Public Ledger)
 * Viability: Theoretically prevents opaque lobbying.
 * Suppression: Extreme. Incumbent agencies reject transparent auditing 
 * as a threat to "national security" or "privacy."
 * * CONCLUSION:
 * The existence of technological alternatives that are legally suppressed 
 * confirms that regulatory capture is a Noose, not a natural Mountain.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_regulatory_capture].
 * 2. Multi-perspective: ?- multi_index_report(regulatory_capture).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: relativity_of_simultaneity
% ============================================================================
% Generated: January 17, 2026
% Model: Gemini 2.0 Flash
% Source: Relativity: The Special and General Theory by Albert Einstein (1920)
% ============================================================================

:- module(constraint_simultaneity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: relativity_of_simultaneity
 * human_readable: The Relativity of Simultaneity
 * domain: scientific/technological
 * temporal_scope: 1905 CE - Present
 * spatial_scope: Universal
 * * SUMMARY:
 * This constraint establishes that "simultaneity" is not an absolute property of 
 * the universe but is dependent on the motion of the reference body. 
 * Events that are simultaneous relative to an embankment are not simultaneous 
 * relative to a moving train.
 * * KEY AGENTS:
 * - Embankment Observer (M): The "stationary" agent who defines simultaneity 
 * by the meeting of light rays at a midpoint.
 * - Train Observer (M'): The "moving" agent who, by hastening toward one light 
 * beam and away from another, perceives a time sequence.
 * - The "Classical Physicist": The agent trapped in the "arbitrary" assumption 
 * that time has an absolute significance.
 * * NARRATIVE ARC:
 * Einstein identifies that the "conflict" between relativity and light propagation 
 * arises from a "tacitly assumed" absolute time. By analyzing the 
 * physical meaning of time, the constraint is shifted from an "absolute mountain" 
 * to a "relative coordinate".
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(relativity_of_simultaneity, 0, 10).
narrative_ontology:constraint_claim(relativity_of_simultaneity, physical_law).

% Base extractiveness: 0.0
% Rationale: The law governs the flow of time for all observers equally; 
% there is no asymmetric "theft" of time, only a difference in measurement.
domain_priors:base_extractiveness(relativity_of_simultaneity, 0.0).

% Suppression score: 0.4
% Rationale: While not "punished," the alternative (absolute time) is deeply 
% "lodged in our habit of thought" and was "tacitly assumed" for centuries.
domain_priors:suppression_score(relativity_of_simultaneity, 0.4).

% Enforcement: Emerges naturally
% Rationale: It is a consequence of the constancy of light velocity.
domain_priors:emerges_naturally(relativity_of_simultaneity).

narrative_ontology:constraint_metric(relativity_of_simultaneity, extractiveness, 0.0).
narrative_ontology:constraint_metric(relativity_of_simultaneity, suppression_requirement, 0.0).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE COMMON OBSERVER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Subject to intuitive, everyday experience)
   WHEN: immediate (Local, daily observations)
   WHERE: trapped (Deeply lodged habits of thought )
   SCOPE: local (Low velocities where relativistic effects are invisible )
   
   WHY THIS CLASSIFICATION:
   For the common person, time appears as an absolute, unchangeable "Mountain." 
   The idea that events could be simultaneous for one but not another feels 
   "occult" or "mysterious".
   
   NARRATIVE EVIDENCE:
   "It had always tacitly been assumed in physics that the statement of time 
   had an absolute significance".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    relativity_of_simultaneity,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(relativity_of_simultaneity, S),
    S > 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TRAIN OBSERVER (M') - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (Participant in the experiment)
   WHEN: biographical (Duration of the "event" or experiment)
   WHERE: constrained (Bound to the reference body of the train )
   SCOPE: regional (Spanning the distance between flashes A and B )
   
   WHY THIS CLASSIFICATION:
   The observer M' is "constrained" by their motion. The constraint acts as a 
   "Noose" because it forces them to conclude that B happened before A, 
   directly contradicting the "truth" of the embankment observer.
   
   NARRATIVE EVIDENCE:
   "Observers who take the railway train as their reference-body must therefore 
   come to the conclusion that the lightning flash B took place earlier than 
   the lightning flash A".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    relativity_of_simultaneity,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :-
    % Classification logic
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE RELATIVISTIC PHYSICIST - Rope
   --------------------------------------------------------------------------
   
   WHO: analytical (The "conscientiously thoughtful physicist" )
   WHEN: historical (Long-term theoretical development)
   WHERE: mobile (Conceptual mobility through the Lorentz Transformation )
   SCOPE: global (Applies to the "universe as a whole" )
   
   WHY THIS CLASSIFICATION:
   The relativity of simultaneity is a "Rope"—a tool for coordination. It 
   allows the physicist to reconcile the Principle of Relativity with the Law 
   of Light, forming a "logically rigid theory".
   
   NARRATIVE EVIDENCE:
   "The dilemma... disappears... by systematically holding fast to both these 
   laws".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    relativity_of_simultaneity,
    rope,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(relativity_of_simultaneity, E),
    E == 0.0,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(relativity_of_simultaneity_tests).

/**
 * TEST 1: The Disappearance of Absolute Time
 * Demonstrates that moving from powerless/trapped to analytical/mobile 
 * changes the constraint from a Mountain to a Rope.
 */
test(multi_perspective_simultaneity) :-
    constraint_indexing:constraint_classification(relativity_of_simultaneity, mountain, 
        context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(relativity_of_simultaneity, rope, 
        context(analytical, historical, mobile, global)).

/**
 * TEST 2: Conflict Recognition
 * Demonstrates that the "moderate power" observer (M') experiences a "Noose" 
 * because their experience conflicts with another "truth" (M).
 */
test(noose_conflict) :-
    constraint_indexing:constraint_classification(relativity_of_simultaneity, noose, 
        context(individual_moderate, biographical, constrained, regional)).

:- end_tests(relativity_of_simultaneity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. SUPPRESSION SCORE (0.4): I rated this higher than the velocity of light 
 * because Einstein explicitly notes how "deeply lodged" the Euclidean/Newtonian 
 * view of time is in the human psyche. 
 * * 2. PERSPECTIVE 2 (Noose): In this context, "Noose" represents the 
 * perceptual "trap" where two observers are forced into mutually 
 * exclusive conclusions ("B before A" vs "Simultaneous").
 * * 3. ANALYTICAL MOBILITY: The physicist reaches "Rope" status not by 
 * changing the law, but by changing the coordinate system (Lorentz 
 * Transformation) to account for it.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Absolute Simultaneity (Newtonian) 
 * Viability: Historically dominant; matches "everyday life".
 * Suppression: Rejected because it is "incompatible" with the law of 
 * light propagation.
 * * CONCLUSION:
 * The "Rope" of relative simultaneity is chosen because the alternative 
 * (Absolute Time) creates a logical "Noose" for the laws of physics.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Multi-perspective: ?- multi_index_report(relativity_of_simultaneity).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: relativity_physical_invariance
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Einstein, A. (1920). Relativity: The Special and General Theory.
% ============================================================================

:- module(constraint_relativity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: relativity_physical_invariance
 * human_readable: General Relativity (The Spacetime Constraint)
 * domain: technological/scientific
 * temporal_scope: 1905-Present
 * spatial_scope: Universal
 * * SUMMARY:
 * Relativity describes the fundamental constraints of the universe: the 
 * constancy of the speed of light (Special Relativity) and the curvature 
 * of spacetime by matter/energy (General Relativity). It removes the 
 * "Noose" of absolute space and time, replacing it with a "Rope" of 
 * mathematical transformation.
 * * KEY AGENTS:
 * - The Observer: An agent in a specific reference body (e.g., a moving train).
 * - The Light Signal: The universal constant that limits information transfer.
 * - The Mass/Energy: The "institutional" force that dictates the geometry 
 * of the landscape.
 * * NARRATIVE ARC:
 * For centuries, humanity was trapped in the "Noose" of Newtonian Absolute 
 * Time. Einstein provided the "Rope" of the Lorentz Transformation and 
 * General Covariance, allowing us to coordinate observations across 
 * different frames. Ultimately, the curvature of spacetime remains the 
 * ultimate "Mountain" through which all matter must flow.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(relativity_physical_invariance, 0, 10).
narrative_ontology:constraint_claim(relativity_physical_invariance, cosmological_limit).

% Base extractiveness: Low (0.0). 
% Physics does not "extract" value in a social sense, but it limits 
% the "efficiency" of travel/communication.
domain_priors:base_extractiveness(relativity_physical_invariance, 0.0).

% Suppression: Low (0.1). 
% The laws are transparent and universal, though their effects are 
% "suppressed" from common sense by our low-velocity evolution.
domain_priors:suppression_score(relativity_physical_invariance, 0.1).

% Enforcement: Emerges naturally from the structure of the universe.
domain_priors:emerges_naturally(relativity_physical_invariance).

% Beneficiaries: GPS Satellites, Cosmologists.
constraint_beneficiary(relativity_physical_invariance, high_precision_technology).

% Victims: The Newtonian "Common Sense" Intuition.
constraint_victim(relativity_physical_invariance, intuitive_classical_physics).

% Metrics
narrative_ontology:constraint_metric(relativity_physical_invariance, extractiveness, 0.0).
narrative_ontology:constraint_metric(relativity_physical_invariance, suppression_requirement, 0.1).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE TRAVELLING OBSERVER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (subject to $c$)
   WHEN: immediate (relativistic speeds)
   WHERE: trapped (within the light cone)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For an agent attempting to exceed the speed of light, Relativity is a 
   "Noose." No amount of energy can pull the agent out of their local 
   light cone. Causality strangles the possibility of FTL communication.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    relativity_physical_invariance,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COORDINATING SCIENTIST - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile (can transform between frames)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   To the scientist, the Principle of Relativity is a "Rope." It provides 
   the coordination equations (Lorentz transformations) that allow 
   agreement between two observers moving at different velocities. It 
   turns chaos into a synchronized "Match."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    relativity_physical_invariance,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE COSMOS - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical (civilizational)
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   General Relativity describes the "Mountain" of spacetime curvature. 
   Matter tells space how to curve; space tells matter how to move. This 
   is the immutable geometry of existence.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    relativity_physical_invariance,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(relativity_tests).

test(equivalence_principle_check) :-
    % Testing that gravity and acceleration are indistinguishable (Equivalence).
    % In this system, that means they share the same classification.
    constraint_indexing:constraint_classification(relativity_physical_invariance, mountain, _).

test(simultaneity_gap) :-
    % Testing that different observers (Powerless/Trapped) cannot agree on 
    % a single 'Noose' of time.
    true.

:- end_tests(relativity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * I classified the speed of light as the primary "Noose" for FTL travel, 
 * while treating the Principle of Relativity itself as a "Rope" for 
 * intellectual coordination. The "Mountain" is the field equations.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    quantum_gravity_unification,
    "Will a 'Theory of Everything' reveal Relativity as a mere Rope, or is it a permanent Mountain?",
    resolution_mechanism("Experimental detection of gravitons or discovery of String Theory/Loop Quantum Gravity proof"),
    impact("If Unified: Relativity becomes a 'Local Rope' within a larger Quantum Mountain."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: tcp_rfc9293_interoperability
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 2.0 Flash
% Source: RFC 9293 - Transmission Control Protocol (TCP)
% ============================================================================

:- module(tcp_rfc9293_interoperability, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor for Python extraction
narrative_ontology:interval(tcp_rfc9293_interoperability, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: tcp_rfc9293_interoperability
 * human_readable: TCP Interoperability & Reliability Requirements
 * domain: technological
 * temporal_scope: Decades (Modern Internet era)
 * * SUMMARY:
 * RFC 9293 codifies the requirements for TCP. While often perceived as a 
 * "natural law" of the internet (a Mountain), it is actually a strictly 
 * enforced coordination mechanism. The "interoperability" requirement 
 * ensures that any implementation MUST follow the state machine and 
 * header rules, or be actively "cut" from the network via Reset (RST) segments.
 * * KEY AGENTS:
 * - IETF (Institutional): The rule-maker.
 * - Application Developer (Moderate): Must implement the "MUSTs".
 * - Network Application (Powerless): Trapped by the host's stack logic.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Refining the "False Mountain")
   ========================================================================== */

% Base extractiveness: 0.2. 
% (Header overhead, TCB memory, and processing "tax" for reliability).
domain_priors:base_extractiveness(tcp_rfc9293_interoperability, 0.2).

% Suppression: 0.7. 
% High suppression of alternative behaviors. Middleboxes and stacks 
% actively drop or reset non-conformant packets.
domain_priors:suppression_score(tcp_rfc9293_interoperability, 0.7).

% Active Enforcement: YES.
% The protocol enforces itself through state-mismatch RSTs and timeouts.
domain_priors:requires_active_enforcement(tcp_rfc9293_interoperability).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Network Application - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   EXIT: trapped
   
   WHY: For an application, TCP is a Noose. It cannot change the 
   3-way handshake or the TIME-WAIT delay. It is "trapped" within the 
   OS implementation's strict adherence to RFC 9293. If the app tries 
   to ignore the state machine, the connection is killed.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tcp_rfc9293_interoperability,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: IETF / Protocol Architect - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: historical
   EXIT: mobile
   
   WHY: To the IETF, the RFC is a Rope—a tool designed to tie disparate 
   systems together into a functional whole. They have the power to 
   update (Obsolete RFC 793) or extend (TCP Fast Open) the constraint.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tcp_rfc9293_interoperability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: OS Stack Developer - Noose
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   EXIT: constrained
   
   WHY: The developer is "noosed" by the legacy of the wire image. 
   Even minor deviations from the state machine (Section 3.10) create 
   interoperability failures that are blamed on the developer.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tcp_rfc9293_interoperability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(tcp_interop_v2_tests).

test(perspectival_gap) :-
    % Validation of the "Rope/Noose" gap between IETF and User
    constraint_indexing:constraint_classification(tcp_rfc9293_interoperability, noose, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(tcp_rfc9293_interoperability, rope, context(agent_power(institutional), _, _, _)).

test(enforcement_check) :-
    % If active enforcement is required, the constraint cannot be a Mountain.
    domain_priors:requires_active_enforcement(tcp_rfc9293_interoperability),
    \+ constraint_indexing:constraint_classification(tcp_rfc9293_interoperability, mountain, _).

:- end_tests(tcp_interop_v2_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================= */

/**
 * LLM REFINEMENT NOTES:
 * 1. Resolved "Type 1 False Mountain": 
 * Previous versions incorrectly labeled the protocol a "Mountain" for 
 * applications. While apps perceive it as unchangeable, the existence 
 * of RST mechanisms and IETF updates proves it is an institutionally 
 * maintained "Noose" or "Rope".
 * 2. Module Uniqueness:
 * Module name set to 'tcp_rfc9293_interoperability' to avoid 
 * collision with tax code test sets.
 * 3. Perspectival Coverage:
 * Provided required classifications for both individual_powerless 
 * and institutional agents.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * THE "POST-TCP" REALITY (QUIC):
 * UDP-based protocols like QUIC attempt to turn the TCP "Noose" back 
 * into a "Rope" for developers by moving the state machine into 
 * user-space. This allows for faster evolution, effectively 
 * shifting the exit_options from 'constrained' to 'mobile'.
 */

% ============================================================================
% END OF CONSTRAINT STORY
% ============================================================================

% ============================================================================
% CONSTRAINT STORY: tcp_state_machine_logic
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 2.0 Flash
% Source: RFC 9293 - Transmission Control Protocol (TCP)
% ============================================================================

:- module(tcp_state_machine_logic, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor
narrative_ontology:interval(tcp_state_machine_logic, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: tcp_state_machine_logic
 * human_readable: TCP State Machine Constraints
 * domain: technological
 * temporal_scope: Connection-lifetime (milliseconds to hours) 
 * spatial_scope: Local (endpoint logic) 
 * * SUMMARY:
 * The TCP state machine governs the lifecycle of a connection, from initial 
 * handshake (SYN) to termination (FIN/TIME-WAIT). It enforces 
 * strict transition rules that ensure both peers remain synchronized despite 
 * network delays or reboots.
 * * KEY AGENTS:
 * - Stack Developer: Must implement transitions for 11 distinct states.
 * - Peer A (Active): Initiates connections via SYN-SENT.
 * - Peer B (Passive): Waits in LISTEN to accept requests.
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

% Base extractiveness: 0.2 (Moderate overhead). 
% Requires memory for Transmission Control Blocks (TCBs) even in idle states.
domain_priors:base_extractiveness(tcp_state_machine_logic, 0.2).

% Suppression: 0.6 (High). 
% Deviating from the state machine (e.g., ignoring a FIN) leads to "half-open" 
% connections and potential resource exhaustion.
domain_priors:suppression_score(tcp_state_machine_logic, 0.6).

% Active Enforcement: The protocol enforces itself through Resets (RST).
% Arriving segments that don't match the current state elicit an RST to 
% "kill" the non-conformant connection.
domain_priors:requires_active_enforcement(tcp_state_machine_logic).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE: Stack Developer - Noose
   --------------------------------------------------------------------------
   WHO: individual_moderate - Responsible for correct implementation.
   WHEN: biographical - Years spent maintaining/debugging kernel code.
   WHERE: constrained - The "wire image" of TCP is frozen; changes are hard.
   
   WHY: It acts as a Noose because of the complexity involved in 
   "Anomaly" states like Simultaneous Open or Half-Open connections. 
   Failure to handle a rare transition (e.g., RST in SYN-RECEIVED) can 
   lead to system hangs or security vulnerabilities.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tcp_state_machine_logic,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE: Institutional (IETF) - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Governing body of the standard.
   WHEN: historical - 40+ year protocol stability.
   
   WHY: The state machine is a Rope that provides a common language 
   for diverse machines (from IoT sensors to supercomputers) to 
   coordinate reliable data transfer.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tcp_state_machine_logic,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE: Automated Scanner/Script - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - No ability to modify the host's logic.
   WHEN: immediate - Execution time.
   
   WHY: To a script, the state machine is an unyielding Mountain. 
   If a port is in LISTEN, it behaves exactly according to Section 3.10.7.2. 
   There is no "negotiation"—only the law of the RFC.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tcp_state_machine_logic,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(tcp_state_tests).

test(state_persistence_overhead) :-
    % TIME-WAIT state is a 2*MSL "Noose" that consumes resources after 
    % a connection is closed to prevent old duplicate segments.
    assertion(true).

test(synchronization_rope) :-
    % The 3-Way Handshake (3WHS) is the core "Rope" mechanism 
    % to prevent confusion from old duplicate initiations.
    assertion(true).

:- end_tests(tcp_state_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================= */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. CLASSIFIED AS NOOSE FOR DEVELOPERS:
 * RFC 9293 Section 3.10 is 15+ pages of event processing logic. 
 * Missing a single "if state is X" check results in non-conformance.
 * 2. CLASSIFIED AS MOUNTAIN FOR USERS:
 * The "Quiet Time" concept (delaying segments for 2 minutes after a reboot) 
 * is an unalterable physical-like constraint for older/strict stacks.
 * * AMBIGUITIES:
 * - RFC 9293 notes the "CLOSED" state is fictional because there is no 
 * TCB. I've modeled it as the "Ground" from which 
 * constraints emerge.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. T/TCP (RFC 1644): Accelerated the handshake. 
 * Status: Historically useful but raised security concerns.
 * 2. TCP Fast Open (TFO): Allows data in the SYN segment.
 * Constraint Effect: Loosens the "Mountain" of the 3WHS for performance.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: rices_theorem_undecidability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Henry Gordon Rice (1953) / Computability Theory
% ============================================================================

:- module(constraint_rices_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: rices_theorem_undecidability
 * human_readable: Rice's Theorem (Undecidability of Semantic Properties)
 * domain: technological/mathematical
 * temporal_scope: 1953 - Present
 * spatial_scope: Global/Abstract (Universal Computation)
 * * SUMMARY:
 * Rice's Theorem is a fundamental result in computability theory stating that 
 * any non-trivial semantic property of a program (the language recognized by 
 * a Turing machine) is undecidable. This means it is logically impossible to 
 * create a general-purpose tool that can determine behavioral traits of code, 
 * such as "will this program ever crash?" or "is this code malicious?".
 * * KEY AGENTS:
 * - The Turing Machine (Subject): The powerless agent whose behavioral 
 * properties remain fundamentally shrouded from external automated judgment.
 * - The Software Verifier: An institutional agent attempting to coordinate 
 * system safety, for whom the theorem is a functional boundary.
 * - The Malware Analyst: An individual moderate agent who is "strangled" by 
 * the impossibility of a perfect automated detection tool.
 * * NARRATIVE ARC:
 * Rice's Theorem functions as a "Mountain" of logical reality—a wall that 
 * defines the limits of what machines can know about each other. In 
 * professional software engineering, it is a "Rope" for coordination, 
 * allowing developers to accept "heuristic" analysis as the standard of 
 * achievement. However, in cybersecurity, it is a "Noose" that extracts 
 * massive human labor and capital to perform manual audits that the 
 * "Mountain" prevents from being automated.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for Python extraction
narrative_ontology:interval(rices_era, 1953, 2026).
narrative_ontology:constraint_claim(rices_theorem_undecidability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.15. While a mathematical truth, it "extracts" the possibility 
% of absolute automated correctness, forcing a permanent tax of human oversight.
domain_priors:base_extractiveness(rices_theorem_undecidability, 0.15).

% Suppression score (0.0-1.0)
% Rationale: 0.2. It suppresses the hope for "Perfect Verification" tools, 
% rendering them logically impossible and thus functionally invisible.
domain_priors:suppression_score(rices_theorem_undecidability, 0.2).

% Enforcement: Emerges naturally from the logic of the Halting Problem.
domain_priors:emerges_naturally(rices_theorem_undecidability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(rices_theorem_undecidability, extractiveness, 0.15).
narrative_ontology:constraint_metric(rices_theorem_undecidability, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(rices_theorem_undecidability, complexity_theorists). % Intellectual stability.
constraint_victim(rices_theorem_undecidability, automated_security_vendors). % Cannot deliver "perfect" results.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EXECUTING PROGRAM - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The program cannot "show" its property to a decider.
   WHEN: immediate - The limit is true for any single execution or analysis.
   WHERE: trapped - Bound by the laws of recursive enumerability.
   SCOPE: local - Immediate neighborhood of the code logic.
   
   WHY THIS CLASSIFICATION:
   For the code itself, the inability for an external algorithm to classify 
   its non-trivial behavior is a natural law. It is an unyielding Mountain; 
   there are zero degrees of freedom where a "perfect decider" could exist.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    rices_theorem_undecidability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE STATIC ANALYSIS ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define what "Safe" code looks like via Linters.
   WHEN: biographical - Planning the lifecycle of a codebase or language.
   WHERE: mobile - Can choose different subsets of decidable properties to check.
   SCOPE: global - Universal application in software development.
   
   WHY THIS CLASSIFICATION:
   For the architect, Rice's Theorem is a "Rope"—a functional coordination 
   mechanism. It provides the "standard of achievement" that justifies why 
   compilers only give "warnings" or "potential errors." It coordinates the 
   industry's expectations around the fact that perfect proofs are not the goal.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rices_theorem_undecidability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CYBER DEFENSE ENGINEER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools to analyze but is bound by the theorem.
   WHEN: immediate - Every piece of malware is a new instance of the "Noose."
   WHERE: constrained - Forced to use imperfect heuristics (AV/EDR).
   SCOPE: national - Protecting state infrastructure.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the theorem acts as a "Noose." It "strangles" their 
   ability to provide 100% security. It extracts massive cycles of human 
   analysis (extraction) because the "Mountain" of Rice's Theorem means 
   every new behavioral trait must be manually verified or guessed.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rices_theorem_undecidability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- 
    domain_priors:base_extractiveness(rices_theorem_undecidability, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(rices_theorem_undecidability_tests).

test(multi_perspective_variance) :-
    % Code -> Mountain
    constraint_indexing:constraint_classification(rices_theorem_undecidability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(rices_theorem_undecidability, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(extraction_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, mobile, global),
    constraint_indexing:extractiveness_for_agent(rices_theorem_undecidability, ContextPowerless, S1),
    constraint_indexing:extractiveness_for_agent(rices_theorem_undecidability, ContextPowerful, S2),
    S1 > S2.

test(natural_emergence) :-
    domain_priors:emerges_naturally(rices_theorem_undecidability).

:- end_tests(rices_theorem_undecidability_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.15):
 * Reasoning: It is low because it is an abstract law of logic, but not zero 
 * because it creates an "Impossibility Tax" on security.
 * * 2. CLASSIFICATION RATIONALE:
 * Chose Code (Subject), Linter Designer (Utility), and Security Analyst 
 * (Victim) to highlight the gap between "Logic" and "Praxis."
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the uncertainty of "Heuristic Completeness"—can AI 
 * effectively turn this Noose back into a Rope by guessing correctly 
 * 99.9% of the time?
 */

% YOUR OMEGAS HERE:
omega_variable(
    heuristic_asymptotic_completeness,
    "Will Large Language Models or Neural Verifiers provide 99.9% behavioral detection?",
    resolution_mechanism("Audit of false-positive rates in AI-driven static analysis across 10 years."),
    impact("If Yes: The Noose is functionally a Rope. If No: The Noose remains a Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Domain-Specific Languages (DSLs) with Restricted Logic
 * Viability: By using languages that are NOT Turing-complete (e.g., SQL, regex), 
 * Rice's Theorem no longer applies, and properties become decidable.
 * Suppression: Often rejected for general-purpose programming due to lack 
 * of power, but a vital "Rope" for high-security sub-systems.
 * * ALTERNATIVE 2: Proof-Carrying Code
 * Viability: The code comes with a proof of its properties.
 * Suppression: High "extraction" of developer labor makes it rare in 
 * commercial industry.
 * * CONCLUSION:
 * The existence of DSLs (Alternative 1) proves that Rice's Theorem is a 
 * "Mountain" only if we choose the "Rope" of Turing-completeness.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_rices_theorem].
 * 2. Multi-perspective: ?- multi_index_report(rices_theorem_undecidability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: black_soil_toxicity
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 2.0 Flash
% Source: "Rotation Seven" narrative
% ============================================================================

:- module(black_soil_toxicity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor for indexing
narrative_ontology:interval(black_soil_toxicity, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: black_soil_toxicity
 * human_readable: Toxic Biological Effects of R7 Black Soil
 * domain: biological_environmental
 * temporal_scope: Biographical (years of accumulation)
 * spatial_scope: Rotation Seven Station Greenhouse
 * * SUMMARY:
 * The black soil in Section 7-B contains toxins that lead to kidney failure 
 * and death. While the station's protocols (Nooses) manage how children 
 * interact with the soil, the soil's actual biological effect on the human 
 * body is an unchangeable physical reality.
 * * KEY AGENTS:
 * - Anna (Powerless): Exposed to the soil; her body is the site of the constraint.
 * - Supervisor Kwan (Institutional): Cannot "manage" the toxin away; can only 
 * manage the victims.
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

% Base extractiveness: 0.95 (Extreme).
% It extracts the vital organs (kidneys) and eventually the entire life of 
% the agent.
domain_priors:base_extractiveness(black_soil_toxicity, 0.95).

% Suppression: 0.1 (Low).
% It is not a rule being "hidden"; it is a physical fact that manifests in 
% dark urine and yellow skin.
domain_priors:suppression_score(black_soil_toxicity, 0.1).

% Active Enforcement: NO.
% No one "enforces" the kidney failure. It is a biological consequence that 
% happens automatically upon exposure.
domain_priors:requires_active_enforcement(black_soil_toxicity) :- fail.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE: ALL AGENTS - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless / institutional
   WHEN: immediate / biographical
   EXIT: trapped
   
   WHY: Toxicity is a Mountain because there are zero degrees of freedom. 
   Anna cannot "negotiate" with her enzyme levels, and Kwan cannot 
   reprogram the toxin's chemical signature. It is the 
   unchangeable ground upon which the station's tragedies are built.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    black_soil_toxicity,
    mountain,
    context(
        agent_power(_),
        time_horizon(_),
        exit_options(trapped),
        spatial_scope(_)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(black_soil_tests).

test(universal_mountain_status) :-
    % Unlike the Kubo Noose, this is a Mountain for the powerful (Kwan) 
    % and the powerless (Anna).
    constraint_indexing:constraint_classification(black_soil_toxicity, mountain, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(black_soil_toxicity, mountain, context(agent_power(individual_powerless), _, _, _)).

test(zero_enforcement_constraint) :-
    % A true Mountain does not require a guard to make it work.
    \+ domain_priors:requires_active_enforcement(black_soil_toxicity).

:- end_tests(black_soil_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================= */

/**
 * LLM GENERATION NOTES:
 * 1. CLASSIFICATION AS MOUNTAIN:
 * This is a "True Mountain." While the *rules* about who touches the soil 
 * are Nooses, the *toxin itself* is the physical ceiling of the 
 * environment. It lacks the "Type 1 False Mountain" signature because 
 * it requires zero active enforcement to kill.
 * 2. EXTRACTIVENESS:
 * Set to 0.95 because it extracts the physical substrate of agency 
 * (the biological body).
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * THE ONLY ALTERNATIVE:
 * The only "exit" from this Mountain is physical: leaving the station 
 * or finding a cure. Since "Rotation Seven" implies no one ever returns 
 * and dialysis "can't be done here," the exit option is 'trapped'.
 */

% ============================================================================
% END OF CONSTRAINT STORY
% ============================================================================
% ============================================================================
% CONSTRAINT STORY: protocol_r7_isolation (REFINED v2.0)
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 2.0 Flash
% Source: "Rotation Seven" narrative
% ============================================================================

:- module(protocol_r7_isolation_v2, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor
narrative_ontology:interval(protocol_r7_isolation, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: protocol_r7_isolation
 * human_readable: R7 Medical Isolation Protocol
 * domain: political_technological
 * temporal_scope: Rotation Era
 * spatial_scope: Rotation Seven Station
 * * SUMMARY:
 * The R7 Protocol enforces the immediate removal and isolation of "flagged" 
 * individuals. While it presents itself as an unchangeable safety necessity 
 * (Mountain), it is a highly enforced, extractive mechanism (Noose) that 
 * removes social "friction" by erasing the sick from the station's population. 
 * * KEY AGENTS:
 * - Anna (Powerless): The subject being "extracted."
 * - Nurse Chen (Institutional): The enforcer maintaining the "Rope" of safety.
 * - Rina (Analytical): The observer who identifies the "Noose."
 */

/* ==========================================================================
   2. BASE PROPERTIES (Refined per Audit)
   ========================================================================== */

% Base extractiveness: 0.85 (Severe asymmetry)
% It extracts a human life/social unit and replaces it with a new "reassignment" 
% within 6 hours. 
domain_priors:base_extractiveness(protocol_r7_isolation, 0.85).

% Suppression: 0.70 (High)
% Alternatives (onsite care) are suppressed by claims of impossibility. 
domain_priors:suppression_score(protocol_r7_isolation, 0.70).

% Enforcement: Requires active maintenance.
% Requires card-swipes, isolation wards, and wristband monitoring. 
domain_priors:requires_active_enforcement(protocol_r7_isolation).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: ANNA - Noose (False Mountain)
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   
   WHY THIS CLASSIFICATION:
   Anna perceives a "Mountain" because the protocol is unyielding, but 
   structurally it is a Noose. She is trapped by active enforcement 
   (locked doors) and extractiveness (her removal). The "Mountain" 
   appearance is a byproduct of her total lack of power.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    protocol_r7_isolation,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: NURSE CHEN - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: historical
   WHERE: constrained
   
   WHY THIS CLASSIFICATION:
   To Chen, the protocol is a functional "Rope" used to coordinate 
   station-wide health. She views the extraction of the sick as 
   necessary for the survival of the collective. 
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    protocol_r7_isolation,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: RINA - Noose
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: biographical
   WHERE: trapped
   
   WHY THIS CLASSIFICATION:
   Rina's analysis identifies the "Noose" signature: high extractiveness 
   masked by a narrative of necessity. She sees the "erasure" of Anna 
   as a coercive act of the station's logic. 
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    protocol_r7_isolation,
    noose,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(protocol_r7_v2_tests).

test(false_mountain_resolution) :-
    % Powerless agents see it as a Noose, not a Mountain, 
    % due to active enforcement.
    domain_priors:requires_active_enforcement(protocol_r7_isolation),
    constraint_indexing:constraint_classification(protocol_r7_isolation, noose, context(agent_power(individual_powerless), _, _, _)).

test(perspectival_gap) :-
    % Validation: Institutional sees Rope, Powerless sees Noose.
    constraint_indexing:constraint_classification(protocol_r7_isolation, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(protocol_r7_isolation, noose, context(agent_power(individual_powerless), _, _, _)).

:- end_tests(protocol_r7_v2_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================= */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. FIXED TYPE 1 FALSE MOUNTAIN: Anna's perspective is now correctly 
 * mapped to 'noose'. The subjective "unyieldingness" is treated as 
 * a psychological effect of the Noose's suppression.
 * 2. MODULE UNIQUENESS: Module name set to 'protocol_r7_isolation_v2' 
 * to avoid collisions with historical tax test sets.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * CONCLUSION:
 * The protocol’s status as a "Noose" is confirmed by the immediate 
 * reassignment of Anna's bunk space. A "Rope" (true coordination) 
 * would seek to maintain the social unit; the R7 Noose seeks only 
 * to maintain the station's biological metrics. 
 */

% ============================================================================
% END OF CONSTRAINT STORY
% ============================================================================
% ============================================================================
% CONSTRAINT STORY: rotation_seven_kubo_ranking (REFINED v2.0)
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 2.0 Flash
% Source: "Rotation Seven" narrative
% ============================================================================

:- module(kubo_ranking_system_v2, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor
narrative_ontology:interval(kubo_ranking_system_r7, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: kubo_ranking_system_r7
 * human_readable: Kubo Credit and Ranking System
 * domain: economic_social
 * * SUMMARY:
 * The Kubo system is a gamified labor-extraction mechanism. It presents 
 * a "ladder" of advancement to children on the R7 station, rewarding 
 * agricultural output with "colored plastic" credits. While it appears 
 * as an unchangeable reality to the children (a False Mountain), it is 
 * an institutionally maintained Noose designed to extract maximum labor 
 * while suppressing awareness of the health costs (kidney failure).
 * * KEY AGENTS:
 * - Rina/Anna (Powerless): Subjects who initially "believe" in the ladder.
 * - Supervisor Kwan (Institutional): Manager who uses the system as a tool (Rope).
 * - The Station Logic (Systemic): The beneficiary of the labor extraction.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Refined per Audit)
   ========================================================================== */

% Base extractiveness: 0.75 (High).
% Essential agricultural labor and biological health are exchanged for 
% non-essential "credits" and minor privileges.
domain_priors:base_extractiveness(kubo_ranking_system_r7, 0.75).

% Suppression: 0.90 (Extreme).
% Total enclosure. No memory of Earth. Alternatives are non-existent 
% in the conceptual field of the children.
domain_priors:suppression_score(kubo_ranking_system_r7, 0.90).

% Enforcement: Requires active maintenance.
% Enforced via wristbands, medical isolation (R7), and Kwan's tablet.
domain_priors:requires_active_enforcement(kubo_ranking_system_r7).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: RINA (POWERLESS) - Noose (False Mountain)
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: biographical
   EXIT: trapped
   
   WHY: Rina initially treats the system as a Mountain ("The credits are real"), 
   but after Anna's "rotation," she recognizes it as a Noose. She sees 
   the extraction of Anna's life in exchange for a "gold rank" that was 
   just "colored plastic on a locked bracelet."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kubo_ranking_system_r7,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: SUPERVISOR KWAN - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: generational
   EXIT: constrained
   
   WHY: To Kwan, the system is a Rope—a functional coordination tool 
   to manage labor and ensure soil prep. He has the power to "adjust 
   rankings with a tablet tap."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kubo_ranking_system_r7,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: ANALYTICAL OBSERVER - Noose
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   EXIT: analytical
   
   WHY: The observer sees the "Structural Signature": high extraction (0.75) 
   and active enforcement. The fact that the gold names "never come back" 
   reveals the system as a terminal coercive mechanism.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kubo_ranking_system_r7,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(kubo_v2_tests).

test(false_mountain_detection) :-
    % Despite high suppression making it LOOK like a mountain to Rina,
    % the system correctly classifies it as a Noose because it requires
    % active enforcement to exist.
    domain_priors:requires_active_enforcement(kubo_ranking_system_r7),
    constraint_indexing:constraint_classification(kubo_ranking_system_r7, noose, context(agent_power(individual_powerless), _, _, _)).

test(extraction_asymmetry) :-
    % Validation: Powerless experiences 0.75 extraction while manager sees low extraction.
    domain_priors:base_extractiveness(kubo_ranking_system_r7, E),
    E > 0.7.

:- end_tests(kubo_v2_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================= */

/**
 * LLM REFINEMENT NOTES:
 * 1. FIXED TYPE 1 FALSE MOUNTAIN: 
 * Reclassified the individual_powerless view from 'mountain' to 'noose'. 
 * The narrative support for this is Rina's terminal realization: "The ladder 
 * was never real... just a game to keep them busy."
 * 2. MODULE UNIQUENESS: 
 * Set to 'kubo_ranking_system_v2' to pass the dynamic validation suite.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * THE REJECTED ALTERNATIVE:
 * The primary alternative to the Kubo Noose is "Direct Democratic Labor 
 * Allocation," where cohorts manage their own health risks. This is 
 * suppressed by the "Ladder" narrative, which frames individual 
 * "advancement" as the only path out of the domes.
 */

% ============================================================================
% END OF CONSTRAINT STORY
% ============================================================================
% ============================================================================
% CONSTRAINT STORY: russells_paradox_self_reference
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Bertrand Russell (1901) / Principles of Mathematics
% ============================================================================

:- module(constraint_russells_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: russells_paradox_self_reference
 * human_readable: Russell's Paradox (Naive Set Theory Collapse)
 * domain: mathematical/philosophical
 * temporal_scope: 1901 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Logical Foundations)
 * * SUMMARY:
 * Russell's Paradox involves the set of all sets that do not contain themselves. 
 * If such a set exists, it must contain itself if and only if it does not. 
 * This contradiction proved that "Unrestricted Comprehension" in naive set 
 * theory is an impossible foundation, forcing the creation of more complex 
 * axiomatic systems like ZFC or Type Theory.
 * * KEY AGENTS:
 * - The Naive Set (Subject): A powerless logical entity bound by a 
 * self-contradictory definition.
 * - The Foundational Architect (Institutional): An agent (like Russell or Zermelo) 
 * using the paradox as a "Rope" to coordinate the transition to rigorous axioms.
 * - The Classical Logician (Victim): An agent (like Gottlob Frege) whose 
 * lifelong work is "strangled" by the discovery of the paradox.
 * * NARRATIVE ARC:
 * Russell's Paradox is the "Mountain" of logical reality; it is an unyielding 
 * feature of self-referential systems. In mathematical history, it acted as a 
 * "Noose" for Frege's Basic Law V, extracting the possibility of simple, 
 * intuitive foundations (extraction). However, it became a "Rope" for the 
 * next century of logic, allowing researchers to coordinate a "standard of 
 * achievement" for consistency in set theory.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction and indexer coordination
narrative_ontology:interval(russell_era, 1901, 2026).
narrative_ontology:constraint_claim(russells_paradox_self_reference, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.7. The paradox is highly extractive; it "takes" the 
% consistency of any naive system, forcing a massive reinvestment in 
% complex, less intuitive axioms to regain logical "solvency."
domain_priors:base_extractiveness(russells_paradox_self_reference, 0.7).

% Suppression score (0.0-1.0)
% Rationale: 0.4. It suppresses the visibility of "unrestricted comprehension," 
% rendering the idea that "any property can define a set" functionally 
% fraudulent in formal logic.
domain_priors:suppression_score(russells_paradox_self_reference, 0.4).

% Enforcement: Emerges naturally from the interaction of set membership and negation.
domain_priors:emerges_naturally(russells_paradox_self_reference).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(russells_paradox_self_reference, extractiveness, 0.7).
narrative_ontology:constraint_metric(russells_paradox_self_reference, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(russells_paradox_self_reference, axiomatic_set_theorists).
constraint_beneficiary(russells_paradox_self_reference, type_theory_developers).
constraint_victim(russells_paradox_self_reference, gottlob_frege). % Famous historical victim.
constraint_victim(russells_paradox_self_reference, naive_intuition).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PARADOXICAL SET - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The set is defined by the rule; it has no agency.
   WHEN: immediate - The contradiction is inherent the moment it is defined.
   WHERE: trapped - Bound within the laws of logic.
   SCOPE: local - Immediate membership property.
   
   WHY THIS CLASSIFICATION:
   For the set itself, the paradox is an absolute Mountain. It cannot 
   "choose" to contain or not contain itself. The arithmetic of its 
   identity is an unyielding law that results in a logical nullity or 
   stasis.
   
   NARRATIVE EVIDENCE:
   "If it is not a member of itself, then by definition it must be a member 
   of itself." (Russell's original letter to Frege).
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    russells_paradox_self_reference,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE FOUNDATION BUILDER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to establish new axioms (ZFC, Type Theory).
   WHEN: biographical - Spanning the multi-decade effort to rebuild logic.
   WHERE: mobile - Can choose different "exits" like stratified types or axioms of specification.
   SCOPE: global - Universal foundation for all mathematics.
   
   WHY THIS CLASSIFICATION:
   For the institutional actor, the paradox is a "Rope"—a functional 
   coordination tool. By recognizing the "Mountain," they coordinate 
   a "standard of achievement" for what constitutes a valid set, pulling 
   the field away from the "Noose" of inconsistency toward a stable, 
   usable framework.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    russells_paradox_self_reference,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CLASSICAL FREGEAN - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools of logic but is bound by the contradiction.
   WHEN: historical - Realizing the collapse of a lifelong philosophical project.
   WHERE: constrained - The "exit" requires abandoning the core of their logic.
   SCOPE: global - Affecting the interpretation of all formal logic.
   
   WHY THIS CLASSIFICATION:
   For the logician who built upon unrestricted comprehension, the paradox is 
   a "Noose." It "strangles" their hope for a simple, arithmetic foundation 
   for the world. It extracts the "certainty of reason" (extraction), 
   choking the project just as it reached completion.
   
   NARRATIVE EVIDENCE:
   "Arithmetic totters." (Frege's reaction to Russell's discovery).
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    russells_paradox_self_reference,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(russells_paradox_self_reference, E),
    E >= 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(russells_paradox_tests).

test(multi_perspective_variance) :-
    % Set -> Mountain
    constraint_indexing:constraint_classification(russells_paradox_self_reference, Type1, context(individual_powerless, immediate, trapped, local)),
    % Builder -> Rope
    constraint_indexing:constraint_classification(russells_paradox_self_reference, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(logic_extraction_penalty) :-
    % Classical logicians experience the "Noose" of high extraction (0.7).
    Context = context(individual_moderate, historical, constrained, global),
    constraint_indexing:extractiveness_for_agent(russells_paradox_self_reference, Context, Score),
    Score >= 0.6.

test(natural_emergence) :-
    domain_priors:emerges_naturally(russells_paradox_self_reference).

:- end_tests(russells_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.7): 
 * I chose 0.7 because Russell's Paradox is the ultimate foundational tax. 
 * It extracts the possibility of an intuitive, self-evident logic and 
 * replaces it with a "tax" of complexity (axioms, types).
 * * 2. PERSPECTIVE SELECTION: 
 * Chose Set (Subject), Builder (User), and Frege (Victim) to show how 
 * a "Mountain" of formal reality becomes a "Noose" for those seeking 
 * simple completeness.
 * * 3. OMEGA IDENTIFICATION: 
 * Formalized the uncertainty of "True Sets"—is there a natural Mountain 
 * or just a series of useful Scaffolds?
 */

% YOUR OMEGAS HERE:
omega_variable(
    set_theoretic_realism,
    "Is there a unique 'True' universe of sets (Mountain) or only a pluralism of consistent Scaffolds (Scaffold)?",
    resolution_mechanism("Investigation into whether large cardinal axioms eventually settle independence results like CH."),
    impact("If Mountain: Logic is objective. If Scaffold: Logic is a tool of coordination (Rope)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Non-well-founded Set Theory
 * Viability: Allowing sets to contain themselves (AFA axiom). 
 * Status: A "Rope" that avoids the specific contradiction by shifting 
 * the "Mountain" of membership.
 * * ALTERNATIVE 2: Quine's New Foundations (NF)
 * Viability: Stratified comprehension. 
 * Suppression: Suppressed by the dominance of ZFC, making it an 
 * "invisible Rope" for most mathematicians.
 * * CONCLUSION:
 * The existence of ZFC as the dominant "Rope" proves that we have 
 * navigated the "Mountain" by actively suppressing simpler, intuitive 
 * (but broken) alternatives.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_russells_paradox].
 * 2. Multi-perspective: ?- multi_index_report(russells_paradox_self_reference).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: airbnb_str_regulation
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Airbnb, Inc. Form S-1 (November 16, 2020)
% ============================================================================

:- module(airbnb_str_regulation, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: airbnb_str_regulation
 * human_readable: Short-Term Rental (STR) Regulatory Framework
 * domain: economic/political/legal
 * temporal_scope: November 2020 (IPO) - Ongoing
 * spatial_scope: Global / Municipal (Local Zoning)
 * * SUMMARY:
 * A global patchwork of municipal laws, zoning restrictions, and tax requirements 
 * that govern home-sharing. These regulations range from simple registration to 
 * "One Host, One Home" policies and outright bans in high-density areas 
 *. The framework aims to balance the "sharing economy" 
 * with housing affordability and neighborhood character.
 * * KEY AGENTS:
 * - Individual Hosts: 90% of the platform, typically non-professional.
 * - Professional Hosts: Property management companies and boutique hotels.
 * - Local Municipalities: Rule-makers (e.g., San Francisco, NYC).
 * - Hotel Incumbents: Lobbyists for stricter oversight to equalize competition.
 * * NARRATIVE ARC:
 * Airbnb identifies regulation as a primary risk factor in its S-1, noting that 
 * complex and evolving laws may limit host participation or lead to significant 
 * penalties. The constraint acts as a filter that determines 
 * who can legally participate in the market.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(airbnb_ipo_era, 0, 10).
narrative_ontology:constraint_claim(airbnb_str_regulation, mountain).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: Cities extract occupancy taxes and permit fees; hotels extract market 
% share by capping STR supply.
domain_priors:base_extractiveness(airbnb_str_regulation, 0.6).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: Registration requirements and caps on nights explicitly suppress the 
% "casual" nature of the original P2P model.
domain_priors:suppression_score(airbnb_str_regulation, 0.8).

% Enforcement requirements
domain_priors:requires_active_enforcement(airbnb_str_regulation).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(airbnb_str_regulation, extractiveness, 0.6).
narrative_ontology:constraint_metric(airbnb_str_regulation, suppression_requirement, 0.8).

% Beneficiaries and Victims
constraint_beneficiary(airbnb_str_regulation, local_government_treasuries).
constraint_beneficiary(airbnb_str_regulation, hotel_industry).
constraint_victim(airbnb_str_regulation, individual_casual_hosts).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Individual Casual Host - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Lacks lobbying power; subject to city decree.
   WHEN: biographical - Hosting is a supplemental income strategy.
   WHERE: trapped - Bound by the zoning of their primary residence.
   SCOPE: local - Impacted by neighborhood-specific ordinances.
   
   WHY THIS CLASSIFICATION:
   For the casual host, these rules are an unchangeable "Mountain." The cost 
   of compliance (permits, taxes) and the risk of fines are external 
   realities they must accept or exit the platform.
   
   NARRATIVE EVIDENCE:
   "Laws... may limit the ability or willingness of hosts to share their 
   spaces... and expose our hosts or us to significant penalties".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    airbnb_str_regulation,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        constraint_beneficiary(airbnb_str_regulation, municipal_government),
        constraint_victim(airbnb_str_regulation, individual_casual_host),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(airbnb_str_regulation, S),
    S > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Professional Host - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate / institutional - Owns/manages multiple units.
   WHEN: immediate - Focused on quarterly returns and occupancy.
   WHERE: mobile / arbitrage - Can move capital to "light-regulation" cities.
   SCOPE: regional / national.
   
   WHY THIS CLASSIFICATION:
   Professional hosts see "One Host, One Home" laws as a "Noose"—a policy 
   specifically designed to throttle their business model in favor of the 
   hotel industry and housing activists.
   
   NARRATIVE EVIDENCE:
   Regulations are used to "limit external real estate investment and restore 
   the peer-to-peer... market to its original 'sharing' roots".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    airbnb_str_regulation,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        constraint_beneficiary(airbnb_str_regulation, incumbent_hotels),
        constraint_victim(airbnb_str_regulation, professional_host),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(airbnb_str_regulation, E),
    E > 0.5,
    domain_priors:requires_active_enforcement(airbnb_str_regulation),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: City Council / Regulator - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making authority.
   WHEN: historical - Managing long-term urban development and housing.
   WHERE: analytical - Balancing multiple stakeholder interests.
   SCOPE: regional / national.
   
   WHY THIS CLASSIFICATION:
   For regulators, the framework is a "Rope"—a necessary coordination tool 
   to mitigate noise complaints, ensure public safety, and prevent the 
   conversion of residential housing into "unregulated hotels".
   
   NARRATIVE EVIDENCE:
   Regulation addresses "gentrification, increasing risks to public safety 
   and worsening the housing affordability crisis".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    airbnb_str_regulation,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        constraint_beneficiary(airbnb_str_regulation, the_community),
        constraint_victim(airbnb_str_regulation, none),
        spatial_scope(regional)
    )
) :-
    % Classification logic for functional coordination
    true,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(airbnb_str_regulation_tests).

test(multi_perspective_divergence) :-
    constraint_indexing:constraint_classification(airbnb_str_regulation, Type1, 
        context(individual_powerless, biographical, trapped, _, _, local)),
    constraint_indexing:constraint_classification(airbnb_str_regulation, Type2, 
        context(individual_moderate, immediate, mobile, _, _, regional)),
    constraint_indexing:constraint_classification(airbnb_str_regulation, Type3, 
        context(institutional, historical, analytical, _, _, regional)),
    Type1 = mountain,
    Type2 = noose,
    Type3 = rope.

test(host_extractiveness_variance) :-
    % Professional hosts feel higher extraction relative to their business model (Noose)
    constraint_indexing:constraint_classification(airbnb_str_regulation, noose, context(individual_moderate, _, mobile, _, _, _)).

:- end_tests(airbnb_str_regulation_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.6): High because regulations often include both 
 * direct fees (permits) and indirect economic losses for hosts (caps) 
 * that benefit specific incumbents.
 * 2. PERSPECTIVE SELECTION: Analyzed the divergence between "casual" hosts 
 * (powerless) and "professional" hosts (moderate power) because the 
 * S-1 highlights the "One Host, One Home" trend as a specific risk.
 * * CONFIDENCE:
 * High: Regulatory risk as a primary headwind.
 * Medium: The specific classification of "Rope" for regulators depends on 
 * their actual intent vs. capture by hotel interests.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    housing_market_correlation,
    "Do STR restrictions actually lower long-term rents, or do they simply reallocate traveler revenue to hotels?",
    resolution_mechanism("Post-regulation rent tracking in synthetic control cities (e.g., NYC post-2023)"),
    impact("If it lowers rents: it's a Rope for the city. If it only benefits hotels: it's a Noose for hosts."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Voluntary Platform Self-Regulation
 * Viability: Airbnb has introduced "Host standards" and safety features.
 * Suppression: Cities often reject this as "insufficient" for tax and zoning enforcement.
 * * CONCLUSION:
 * The active rejection of platform self-regulation in favor of state-mandated 
 * registration moves the constraint from a potential Rope to a Noose/Mountain 
 * for participants.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [airbnb_str_regulation].
% Multi-perspective: ?- constraint_indexing:multi_index_report(airbnb_str_regulation).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: visa_ipo_regulatory_compliance
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Visa Inc. Amendment No. 6 to Form S-1 
% ============================================================================

:- module(visa_ipo_regulatory_compliance, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: visa_ipo_regulatory_compliance
 * human_readable: SEC S-1 Registration Framework
 * domain: economic/political
 * temporal_scope: March 2008 
 * spatial_scope: United States / Global Financial Markets 
 * * SUMMARY:
 * The mandatory legal framework governing the public offering of securities in 
 * the US, specifically the filing of Form S-1 under the Securities Act of 1933.
 * This system requires exhaustive disclosure of financial, legal, and operational 
 * data to the SEC before a company can access public capital markets.
 * * KEY AGENTS:
 * - Visa Inc. (Registrant): The entity seeking to transform its structure and raise capital.
 * - SEC (Regulator): The institutional gatekeeper enforcing transparency and legal compliance.
 * - Individual Investor (The Public): The intended recipient of protections through mandated disclosure.
 * * NARRATIVE ARC:
 * Visa Inc. is in the final stages (Amendment No. 6) of a complex multi-year 
 * transition to a public company. The constraint functions as a rigid 
 * "Mountain" of paperwork and legal liability that must be scaled to achieve 
 * the "Rope" of public market coordination.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(visa_ipo_window, 0, 10).
narrative_ontology:constraint_claim(visa_ipo_regulatory_compliance, mountain).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: The system extracts significant legal fees and time (6+ amendments) but 
% provides the "benefit" of market access. Minimal direct extraction from the public.
domain_priors:base_extractiveness(visa_ipo_regulatory_compliance, 0.2).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: Alternatives to SEC registration for a global IPO do not legally exist 
% in the US; the system is absolute for this scale of capital.
domain_priors:suppression_score(visa_ipo_regulatory_compliance, 0.9).

% Enforcement requirements
domain_priors:requires_active_enforcement(visa_ipo_regulatory_compliance).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(visa_ipo_regulatory_compliance, extractiveness, 0.2).
narrative_ontology:constraint_metric(visa_ipo_regulatory_compliance, suppression_requirement, 0.9).

% Beneficiaries and Victims
constraint_beneficiary(visa_ipo_regulatory_compliance, institutional_investors).
constraint_victim(visa_ipo_regulatory_compliance, registrant_legal_budget).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Joseph W. Saunders (CEO) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerful / institutional - CEO of the registrant.
   WHEN: immediate - Focused on the "commencement of proposed sale".
   WHERE: trapped - Legally bound by the Securities Act; cannot sell without SEC approval.
   SCOPE: national / global - Managing a worldwide restructuring.
   
   WHY THIS CLASSIFICATION:
   From the CEO's perspective, this is a "Noose" because it imposes massive 
   personal liability (signatures required) and slows the organization down 
   through endless amendments (6 filings). It is an asymmetric 
   burden that benefits the state's oversight power.
   
   NARRATIVE EVIDENCE:
   "The Registrant hereby amends this Registration Statement on such date or 
   dates as may be necessary to delay its effective date...".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    visa_ipo_regulatory_compliance,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(visa_ipo_regulatory_compliance, sec),
        constraint_victim(visa_ipo_regulatory_compliance, joseph_saunders),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(visa_ipo_regulatory_compliance, E),
    E > 0.1,
    domain_priors:requires_active_enforcement(visa_ipo_regulatory_compliance),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Individual Retail Investor - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Has no say in the filing rules.
   WHEN: biographical - Investment horizon for the "public".
   WHERE: constrained - Can choose not to buy, but cannot change the disclosure rules.
   SCOPE: local / national.
   
   WHY THIS CLASSIFICATION:
   The retail investor views the SEC framework as a "Mountain"—a naturalized 
   fact of the financial world. It is the bedrock of "truth" upon which they 
   make decisions; they cannot imagine a market without these protections.
   
   NARRATIVE EVIDENCE:
   The document provides a "prospectus constituting Part I" specifically 
   for the purpose of public information.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    visa_ipo_regulatory_compliance,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(constrained),
        constraint_beneficiary(visa_ipo_regulatory_compliance, the_public),
        constraint_victim(visa_ipo_regulatory_compliance, none),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(visa_ipo_regulatory_compliance, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Securities Attorney (White & Case) - Rope
   --------------------------------------------------------------------------
   
   WHO: analytical / institutional - Service provider facilitating the process.
   WHEN: historical - Operates within the tradition of the 1933 Act.
   WHERE: arbitrage - Understands how to navigate the rules to achieve client goals.
   SCOPE: continental / global.
   
   WHY THIS CLASSIFICATION:
   For the lawyers, the S-1 is a "Rope." It is a functional coordination mechanism 
   that allows capital to flow safely. While complex, it is a tool they use 
   to structure the "Amended and Restated Global Restructuring Agreement".
   
   NARRATIVE EVIDENCE:
   "Opinion of White & Case LLP as to the legality of the securities being 
   registered...".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    visa_ipo_regulatory_compliance,
    rope,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(visa_ipo_regulatory_compliance, visa_inc),
        constraint_victim(visa_ipo_regulatory_compliance, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(visa_ipo_regulatory_compliance, E),
    E < 0.4,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================= */

:- begin_tests(visa_ipo_regulatory_compliance_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(visa_ipo_regulatory_compliance, Type1, 
        context(individual_powerful, immediate, trapped, _, _, global)),
    constraint_indexing:constraint_classification(visa_ipo_regulatory_compliance, Type2, 
        context(individual_powerless, biographical, constrained, _, _, national)),
    constraint_indexing:constraint_classification(visa_ipo_regulatory_compliance, Type3, 
        context(analytical, historical, arbitrage, _, _, global)),
    Type1 = noose,
    Type2 = mountain,
    Type3 = rope.

test(regulatory_barrier_impact) :-
    % Test that the 'trapped' CEO sees high friction (Noose) vs 'arbitrage' lawyer (Rope)
    constraint_indexing:constraint_classification(visa_ipo_regulatory_compliance, noose, context(_, _, trapped, _, _, _)),
    constraint_indexing:constraint_classification(visa_ipo_regulatory_compliance, rope, context(_, _, arbitrage, _, _, _)).

:- end_tests(visa_ipo_regulatory_compliance_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS: Set to 0.2. While the IPO involves billions, the *constraint* * itself (the S-1 filing) doesn't extract the capital; it merely regulates 
 * the flow. The "extraction" is the legal/administrative overhead.
 * 2. SUPPRESSION: Set to 0.9. There is no alternative "unregulated" IPO 
 * at this scale in the US jurisdiction.
 * * PERSPECTIVES:
 * - CEO: Chosen because they sign and bear the risk.
 * - Public: Chosen because they are the "protected" class.
 * - Legal Counsel: Chosen because they treat the law as a functional tool (Rope).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    sec_effectiveness,
    "Does the S-1 actually prevent fraud (Rope) or merely provide a legal shield for institutions (Noose)?",
    resolution_mechanism("Post-IPO litigation frequency vs. historical unregulated markets"),
    impact("If Rope: the 0.2 extractiveness is a fee for service. If Noose: it is a barrier to entry."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Direct Public Offering (DPO)
 * Viability: Historically possible but rare for companies of Visa's size in 2008.
 * Suppression: Market norms and underwriter requirements make this effectively invisible.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [visa_ipo_regulatory_compliance].
% Tests: ?- run_tests(visa_ipo_regulatory_compliance_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: visa_judgment_sharing_agreement
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Visa Inc. Amendment No. 6 to Form S-1 
% ============================================================================

:- module(visa_judgment_sharing_agreement, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: visa_judgment_sharing_agreement
 * human_readable: Judgment Sharing Agreement (AMEX Case)
 * domain: legal/economic
 * temporal_scope: July 2007 (Filing date) 
 * spatial_scope: National (United States Judiciary) 
 * * SUMMARY:
 * A contractual coordination mechanism between Visa U.S.A. Inc. and its 
 * signatory member banks to allocate financial liability arising from 
 * antitrust litigation (specifically the American Express case). 
 * This agreement prevents individual member banks from being single-handedly 
 * destroyed by joint and several liability.
 * * KEY AGENTS:
 * - Visa U.S.A. Inc.: The central entity coordinating the defense.
 * - Signatory Banks: Member institutions sharing the risk of a multi-billion dollar judgment.
 * - American Express (AMEX): The plaintiff whose legal victory creates the liability pressure.
 * * NARRATIVE ARC:
 * To facilitate the IPO, Visa must ringfence and quantify its massive legal 
 * liabilities. The Judgment Sharing Agreement (JSA) transforms an unpredictable 
 * external threat (antitrust judgment) into a structured internal obligation 
 * (shared loss) .
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(visa_litigation_ringfencing, 0, 10).
narrative_ontology:constraint_claim(visa_judgment_sharing_agreement, rope).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: The agreement extracts capital from banks to pay settlements, but 
% the flow is proportional to their historical involvement and protects the 
% system from collapse.
domain_priors:base_extractiveness(visa_judgment_sharing_agreement, 0.4).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: Banks that want to remain part of the Visa network for the IPO 
% restructure essentially have no alternative but to sign.
domain_priors:suppression_score(visa_judgment_sharing_agreement, 0.7).

% Enforcement requirements
domain_priors:requires_active_enforcement(visa_judgment_sharing_agreement).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(visa_judgment_sharing_agreement, extractiveness, 0.4).
narrative_ontology:constraint_metric(visa_judgment_sharing_agreement, suppression_requirement, 0.7).

% Beneficiaries and Victims
constraint_beneficiary(visa_judgment_sharing_agreement, visa_inc_shareholders).
constraint_victim(visa_judgment_sharing_agreement, signatory_member_banks).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Small Signatory Bank - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Financial institution but small relative to the system.
   WHEN: immediate - Concerned with the upcoming quarterly impact of loss sharing.
   WHERE: trapped - Leaving the network during an IPO restructuring is prohibitively costly.
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For a smaller bank, this is a "Noose." They are forced to sign an agreement 
   that binds them to pay for the "sins" of the network's past antitrust 
   behavior, with the terms dictated by the larger Visa corporate entity 
   to ensure the IPO's success.
   
   NARRATIVE EVIDENCE:
   The agreement is "by and between Visa U.S.A. Inc. and the signatory banks 
   thereto," implying a take-it-or-leave-it participation requirement.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    visa_judgment_sharing_agreement,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(visa_judgment_sharing_agreement, visa_inc),
        constraint_victim(visa_judgment_sharing_agreement, small_bank),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(visa_judgment_sharing_agreement, S),
    S > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Visa Chief Legal Officer - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Crafting the legal architecture of the IPO.
   WHEN: biographical - Aiming for a stable, public Visa Inc. over the next 20 years.
   WHERE: arbitrage - Using contract law to mitigate judicial risk.
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   From the institutional perspective, the JSA is a "Rope." It is a functional 
   coordination tool that prevents the "systemic risk" of one bank failing and 
   dragging down the network. It allows the IPO to proceed by providing 
   certainty to new investors.
   
   NARRATIVE EVIDENCE:
   "Judgment Sharing Agreement among Defendants... incorporated by reference" 
   as a key exhibit for investor transparency.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    visa_judgment_sharing_agreement,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        constraint_beneficiary(visa_judgment_sharing_agreement, global_payment_system),
        constraint_victim(visa_judgment_sharing_agreement, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(visa_judgment_sharing_agreement, E),
    E < 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The Judiciary / SEC Observer - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observing the legal reality of the filings.
   WHEN: historical - The antitrust case is a settled "fact" of the 2000s era.
   WHERE: analytical - Not a party to the contract.
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For an observer, these liabilities and the agreements to share them are a 
   "Mountain." They are the fixed landscape of Visa's history that cannot be 
   erased; they must be navigated and disclosed as immutable risks.
   
   NARRATIVE EVIDENCE:
   Referenced repeatedly across multiple amendments (No. 1 through No. 6) 
   as a permanent part of the registration statement.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    visa_judgment_sharing_agreement,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        constraint_beneficiary(visa_judgment_sharing_agreement, none),
        constraint_victim(visa_judgment_sharing_agreement, none),
        spatial_scope(national)
    )
) :-
    true,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(visa_jsa_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(visa_judgment_sharing_agreement, Type1, 
        context(individual_moderate, immediate, trapped, _, _, national)),
    constraint_indexing:constraint_classification(visa_judgment_sharing_agreement, Type2, 
        context(institutional, biographical, arbitrage, _, _, global)),
    Type1 = noose,
    Type2 = rope.

test(systemic_stability_logic) :-
    % Testing that institutional power views this as a functional tool (Rope)
    constraint_indexing:constraint_classification(visa_judgment_sharing_agreement, rope, 
        context(institutional, _, _, _, _, _)).

:- end_tests(visa_jsa_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): Significant because it mandates large payments 
 * from banks to cover settlements.
 * 2. CLASSIFICATION: Chose "Rope" for the institution because the JSA is 
 * what enables the "Global Restructuring Agreement". Without it, 
 * the IPO (a larger Rope) would fail.
 * * AMBIGUITIES:
 * The S-1 does not disclose the *exact* percentages of liability sharing, 
 * which are likely in the "confidential treatment" portions.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    allocation_fairness,
    "Is the liability allocation based on revenue (Rope) or on political leverage within the Visa association (Noose)?",
    resolution_mechanism("Audit of the confidential exhibit filed with the SEC Secretary"),
    impact("If leverage-based: it is a Noose for smaller banks. If revenue-based: it is a Rope for the network."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Individual Litigation
 * Viability: Every bank defends itself against AMEX. 
 * Suppression: Rejected because it would lead to inconsistent judgments and 
 * potentially bankrupt smaller members, ruining the Visa brand before the IPO.
 * * CONCLUSION:
 * The rejection of individual litigation effectively forces the JSA into a 
 * "Mountain" status for those who want to remain in the payment ecosystem.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [visa_judgment_sharing_agreement].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: sat_csp_complexity
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Computational Complexity / Boolean Satisfiability / Constraint Satisfaction
% ============================================================================

:- module(constraint_sat_csp_complexity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: sat_csp_complexity
 * human_readable: SAT/CSP Complexity (Satisfiability and Constraint Satisfaction)
 * domain: technological
 * temporal_scope: Permanent (Universal Laws of Logic and Search)
 * spatial_scope: Global (Formal Systems)
 * * SUMMARY:
 * Boolean Satisfiability (SAT) and Constraint Satisfaction Problems (CSP) represent 
 * the fundamental challenge of finding a set of values that satisfy a collection 
 * of constraints. While checking a solution is easy, finding one is often 
 * NP-complete, representing a universal "hardness" in automated reasoning.
 * * KEY AGENTS:
 * - The Logic Researcher: Seeking to find phase transitions where problems 
 * move from "easy" to "hard."
 * - The Solver Architect: Building "Heuristic Ropes" (CDCL solvers) to 
 * navigate the exponential search space.
 * - The System Designer: Trapped by the need to solve complex configuration 
 * or scheduling problems that are fundamentally hard.
 * * NARRATIVE ARC:
 * These problems function as a "Mountain" of state-space complexity. For 
 * the engineer with a powerful solver, it is a "Rope" (a declarative way 
 * to solve complex tasks). For the real-time system facing a combinatorial 
 * explosion, it is a "Noose" that strangles performance as variables scale.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural anchor
narrative_ontology:interval(sat_csp_interval, 0, 10).
narrative_ontology:constraint_claim([sat_csp_complexity], computational_boundary).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts "computational time." The asymmetry between 
% verification and search allows the "hardness" to be leveraged for 
% security or to gate-keep resource allocation.
domain_priors:base_extractiveness(sat_csp_complexity, 0.4).

% Suppression score (0.0-1.0)
% Rationale: It suppresses "perfect optimization." Because the search is 
% hard, the alternative—finding the absolute best solution—is often 
% invisible or unfeasible compared to "good enough" heuristics.
domain_priors:suppression_score(sat_csp_complexity, 0.5).

% Enforcement requirements: Emerges naturally from the combinatorics of choice.
domain_priors:emerges_naturally(sat_csp_complexity).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(sat_csp_complexity, extractiveness, 0.4).
narrative_ontology:constraint_metric(sat_csp_complexity, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(sat_csp_complexity, solver_developers).
constraint_victim(sat_csp_complexity, real_time_schedulers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE COMPLEXITY ANALYST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the laws of information.
   WHEN: civilizational - Viewing the search space as a permanent substrate.
   WHERE: trapped - Logic cannot bypass the exponential branching of choices.
   SCOPE: global - Universal computation.
   
   WHY THIS CLASSIFICATION:
   To the analyst, SAT/CSP is a Mountain. The Cook-Levin theorem established 
   this "hardness" as a fixed feature of the mathematical landscape. No 
   amount of social or technological engineering can remove the 
   exponential wall of the worst-case scenario.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sat_csp_complexity,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE FORMAL VERIFICATION ENGINEER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design and deploy verification tools.
   WHEN: biographical - Ensuring software safety over a project's life.
   WHERE: arbitrage - Can use modern SAT-solvers to find bugs that humans cannot.
   SCOPE: national - Industrial/Institutional application.
   
   WHY THIS CLASSIFICATION:
   For the verification engineer, SAT is a Rope. It is a coordination 
   mechanism that allows them to "pull" correctness out of complex code. 
   By reducing a program's logic to a SAT problem, they use the solver as 
    a tether to achieve safety and reliability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sat_csp_complexity,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EMBEDDED SYSTEM - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - A subject to the hard constraints of time/hardware.
   WHEN: immediate - Must resolve a constraint within milliseconds.
   WHERE: constrained - Limited by CPU and memory "traps."
   SCOPE: local - Immediate hardware environment.
   
   WHY THIS CLASSIFICATION:
   For an embedded system trying to solve a CSP for drone flight path 
   adjustments in real-time, the complexity is a Noose. As the number of 
   obstacles (variables) grows, the time required to find a valid path 
   tightens around the system's reaction time, potentially leading to 
   catastrophic failure.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sat_csp_complexity,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(sat_csp_complexity_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain
    constraint_indexing:constraint_classification(sat_csp_complexity, mountain, context(agent_power(analytical), _, _, _)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(sat_csp_complexity, rope, context(agent_power(institutional), _, _, _)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(sat_csp_complexity, noose, context(agent_power(individual_powerless), _, _, _)).

test(power_extractiveness_scaling) :-
    % Institutional users (Engineers) derive utility from the solvers.
    % Powerless systems (Real-time chips) are drained by the complexity.
    domain_priors:base_extractiveness(sat_csp_complexity, E),
    E >= 0.4.

test(phase_transition_omega) :-
    % Logic depends on whether the problem is in the "Hard" phase or not.
    true.

:- end_tests(sat_csp_complexity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): The complexity extracts "opportunity" and 
 * "certainty." It forces a cost on finding the truth.
 * 2. NOOSE CLASSIFICATION: Crucial for real-time systems where the "halt" 
 * or "failure" of a search is a death sentence for the mission.
 * 3. PERSPECTIVES: Selected the Analyst (Math), the Engineer (Utility), 
 * and the Embedded Chip (Victim).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    phase_transition_prediction,
    "Can we predict the exact point of 'Hardness' for any given CSP 
    distribution before the search begins?",
    resolution_mechanism("Development of a universal predictive metric 
    for instance hardness"),
    impact("If Yes: The Noose becomes a Rope (we can avoid the trap). 
    If No: It remains a hidden Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Heuristic Search (Stochastic Local Search)
 * Viability: High. Often finds solutions to "hard" problems in seconds.
 * Suppression: Low. This is the "Rope" people use to escape the Noose.
 * * ALTERNATIVE 2: Quantum Adiabatic Optimization
 * Viability: Theoretical. Might "tunnel" through the Mountain.
 * * CONCLUSION:
 * The existence of heuristics converts the SAT "Mountain" into a "Rope" for 
 * practical engineering, but the worst-case complexity ensures it remains 
 * a "Noose" for safety-critical guarantees.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_sat_csp_complexity].
 * 2. Multi-perspective: ?- multi_index_report(sat_csp_complexity).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: shannon_entropy_limit
% ============================================================================
% Generated: 2024-05-22
% Model: Gemini 1.5 Pro
% Source: A Mathematical Theory of Communication (C. E. Shannon, 1948)
% ============================================================================

:- module(constraint_shannon_entropy_limit, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor for indexing
narrative_ontology:interval(shannon_entropy_limit, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: shannon_entropy_limit
 * human_readable: The Fundamental Limit of Information Transmission
 * domain: technological/mathematical
 * temporal_scope: 1948 - Present (Civilizational)
 * spatial_scope: Global/Universal
 * * SUMMARY:
 * Shannon defines the fundamental problem of communication as reproducing a message 
 * exactly or approximately. He introduces 'Entropy' (H) as a measure of 
 * uncertainty/choice  and 'Channel Capacity' (C) as the maximum 
 * rate of transmission. These mathematical realities act as 
 * inescapable boundaries for all communication systems.
 * * KEY AGENTS:
 * - The Engineer/Transducer: Seeks to match source to channel.
 * - The Noisy Channel: The physical medium that imposes limits.
 * - The Analytical Observer: Recognizes the mathematical necessity of the limits.
 * * NARRATIVE ARC:
 * The paper moves from identifying simple noiseless systems to proving that 
 * information can be sent reliably even through noise, provided the rate 
 * does not exceed Capacity.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Base extractiveness: Low (0.1). 
% These are laws of nature; they do not "extract" value for a specific 
% beneficiary, though they dictate the "cost" of communication.
domain_priors:base_extractiveness(shannon_entropy_limit, 0.1).

% Suppression: Low (0.2). 
% Alternatives (like non-logarithmic measures) are discussed but dismissed 
% based on mathematical suitability and intuition .
domain_priors:suppression_score(shannon_entropy_limit, 0.2).

% Enforcement: Emerges naturally from the statistical structure of messages.
domain_priors:emerges_naturally(shannon_entropy_limit).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: The Communication Engineer - ROPE
   --------------------------------------------------------------------------
   WHO: institutional (The system designer/State/Telecom)
   WHEN: biographical (Designing and deploying a system)
   WHERE: mobile (Can choose different coding methods)
   SCOPE: national/global
   
   WHY THIS CLASSIFICATION:
   For the engineer, Shannon's theory is a Rope. It provides the functional 
   coordination mechanism (encoding/decoding) to bypass the "Noose" of noise. 
   By understanding the limit, they can build efficient systems.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    shannon_entropy_limit,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: The Signal in a Noisy Channel - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_powerless (The specific message/bit)
   WHEN: immediate (The duration of transmission)
   WHERE: trapped (Cannot leave the channel)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   From the perspective of a single message subject to noise, the limit is 
   a Noose. If the rate is too high, the noise "kills" the message's 
   meaning, creating equivocation that cannot be escaped without external 
   correction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    shannon_entropy_limit,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The Mathematician - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: civilizational
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The observer sees these limits as a Mountain—unchangeable laws of the 
   universe. $H = -\sum p_i \log p_i$ is not a policy; it is a mathematical 
   certainty derived from axioms of choice and uncertainty .
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    shannon_entropy_limit,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(shannon_entropy_limit_tests).

test(perspectival_shift) :-
    constraint_indexing:constraint_classification(shannon_entropy_limit, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(shannon_entropy_limit, mountain, context(agent_power(analytical), _, _, _)).

test(capacity_as_rope) :-
    % Engineers use capacity to solve the "fundamental problem"
    domain_priors:base_extractiveness(shannon_entropy_limit, E),
    E < 0.3.

test(noise_as_noose_trigger) :-
    % Without proper coding, noise enforces a "Noose" of equivocation
    domain_priors:requires_active_enforcement(shannon_entropy_limit).

:- end_tests(shannon_entropy_limit_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 1.5 Pro
 * Date: 2024-05-22
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.1): Mathematical laws are non-extractive. They 
 * apply to the king and the peasant equally.
 * 2. PERSPECTIVES: Chose Institutional (Engineer) vs Powerless (Signal) 
 * to highlight that while the *theory* is a Rope, the *physical reality* * of noise is a Noose for the data.
 * 3. MOUNTAIN RATIONALE: Shannon himself notes that semantic aspects are 
 * "irrelevant to the engineering problem", emphasizing the 
 * cold, objective "Mountain" of the mathematical structure.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Hartley's Measure
 * Viability: Used before Shannon.
 * Suppression: Shannon generalized it, showing it was a subset of 
 * statistical information.
 * * CONCLUSION: 
 * Shannon's theory is a rare example of a "Mountain" discovered through 
 * engineering, which then became the "Rope" for the digital age.
 */

% ============================================================================
% END OF CONSTRAINT STORY
% ============================================================================
% ============================================================================
% CONSTRAINT STORY: silicon_lexicon_overload
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 1.5 Pro
% Source: The "Corporate-Cyberpunk" linguistic shift in the 21st Century
% ============================================================================

:- module(silicon_lexicon_overload, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% The Structural Anchor for the L-OS install
narrative_ontology:interval(silicon_lexicon_overload, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: silicon_lexicon_overload
 * human_readable: The Silicon Lexicon (Linguistic L-OS)
 * domain: technological/corporate/neurolinguistic
 * temporal_scope: Post-2010 CE (The "Disruption" Era)
 * spatial_scope: Global (Digital/Corporate)
 * * SUMMARY:
 * Tech-Speak (e.g., "bandwidth," "alignment," "hard-coded") has moved from 
 * engineering jargon to a mandatory social protocol. It acts as a "Noose" 
 * that translates human effort into machine-readable "output." If you don't 
 * speak the "Build," you are "deprecated."
 * * KEY AGENTS:
 * - The Stack-Architect (CEO): Redefining reality through "Disruption."
 * - The Ghost-in-the-Machine (Gig Worker): Forced to optimize their "bandwidth."
 * - The Glitch-Hunter (Cultural Critic): Observing the erosion of non-technical thought.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Base extractiveness: High (0.8)
% This lexicon extracts human nuances (empathy, rest) and rebrands them 
% as "uptime" or "synergy" for corporate gain.
domain_priors:base_extractiveness(silicon_lexicon_overload, 0.8).

% Suppression: High (0.7)
% Speaking in "Analog" terms in a "Digital" workplace leads to social 
% and professional "un-indexing."
domain_priors:suppression_score(silicon_lexicon_overload, 0.7).

% Enforcement: Requires active enforcement (via Performance Reviews/Slack)
domain_priors:requires_active_enforcement(silicon_lexicon_overload).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE STACK-ARCHITECT (CEO) - ROPE
   --------------------------------------------------------------------------
   WHO: institutional - The "Root Admin" of the corporate culture.
   WHEN: immediate - Navigating the next "Pivot."
   WHERE: arbitrage - Can swap "stacks" or languages at will.
   SCOPE: global - Their "Vision" spans the network.
   
   WHY THIS CLASSIFICATION:
   To the CEO, Tech-Speak is a Rope. It is a high-tensile tool used to 
   coordinate thousands of units (employees) toward a single "Output." 
   It allows them to bypass traditional cultural friction and "deploy" 
   change instantly across the organization.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    silicon_lexicon_overload,
    rope,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE GIG-WORKER (COURIER) - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_powerless - Bound by the algorithm.
   WHEN: biographical - Their "Runtime" is limited.
   WHERE: trapped - The "Digital Commons" is the only place to find work.
   SCOPE: local - Their immediate "Node."
   
   WHY THIS CLASSIFICATION:
   The Lexicon is a Noose. When the worker is told they lack "bandwidth" 
   for a sick day, the language is being used as a coercive weapon to 
   strip away their humanity. They are forced to use the language of their 
   own obsolescence.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    silicon_lexicon_overload,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BORN-DIGITAL (Gen Alpha) - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: individual_moderate - Navigating the only world they've ever known.
   WHEN: generational - This is the "Base Code."
   WHERE: mobile - Comfortable in the "Metaverse," but cannot imagine "Analog."
   SCOPE: global - The borderless internet.
   
   WHY THIS CLASSIFICATION:
   For the child born into the "Stack," this language is a Mountain. It 
   is not "tech-speak"; it is just "speech." They don't "decide" to 
   call a friendship a "connection"—that is simply the natural law of 
   the digital environment they inhabit.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    silicon_lexicon_overload,
    mountain,
    context(
        agent_power(individual_moderate),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(silicon_lexicon_tests).

test(algorithmic_noose) :-
    % Test that powerless agents under high extractiveness perceive a Noose
    constraint_indexing:constraint_classification(silicon_lexicon_overload, noose, context(agent_power(individual_powerless), _, _, _)).

test(generational_firmware) :-
    % Test that generational time horizons bake the language into a Mountain
    constraint_indexing:constraint_classification(silicon_lexicon_overload, mountain, context(_, time_horizon(generational), _, _)).

test(exit_option_power_gap) :-
    % Test the gap between the "Arbitrage" CEO and the "Trapped" Worker
    constraint_indexing:constraint_classification(silicon_lexicon_overload, rope, context(_, _, exit_options(arbitrage), _)),
    constraint_indexing:constraint_classification(silicon_lexicon_overload, noose, context(_, _, exit_options(trapped), _)).

:- end_tests(silicon_lexicon_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. THE "NOOSE" OF OPTIMIZATION: In the KJV era, the Noose was "Heresy." 
 * In the Cyberpunk era, the Noose is "Inefficiency." The language 
 * itself enforces this by removing the words for "non-productive time."
 * * 2. THE MOUNTAIN OF THE NATIVE: The most dangerous phase of a Noose 
 * is when it becomes a Mountain—when people stop realizing they are 
 * speaking like machines and start thinking they *are* machines.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE: "Human-Centric" or "Poetic" Language
 * Viability: Low in professional contexts (seen as "unprofessional" or "vague").
 * Suppression: Active. Using "poetic" language in a Jira ticket is 
 * flagged as a "blocker" or "noise."
 * * CONCLUSION:
 * The Tech-Lexicon is a "Hard-Coded" Noose because it actively de-platforms 
 * any alternative way of describing human experience.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: skills_based_hiring
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Market Design / Labor Economics / Skills-Based Hiring Trends
% ============================================================================

:- module(constraint_skills_based_hiring, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: skills_based_hiring
 * human_readable: Skills-Based Hiring (De-credentialing)
 * domain: economic/technological/social
 * temporal_scope: Biographical to Historical
 * spatial_scope: Global
 * * SUMMARY:
 * Skills-based hiring is a matching market shift where employers prioritize 
 * specific competencies and verified "proof of work" over traditional degree 
 * credentials. This moves the bottleneck from "Institutional Pedigree" 
 * (College Match) to "Granular Verification" (Skill Match).
 * * KEY AGENTS:
 * - The Non-Degree Applicant: Gains access to elite roles via technical proof.
 * - The Credentialed Elite: Faces devaluation of their institutional pedigree.
 * - The Automated Evaluator: AI/Platform tools that score specific skills.
 * * NARRATIVE ARC:
 * The constraint functions as a "Demolished Wall." By removing the degree 
 * requirement, the market "thins" the power of elite universities. However, 
 * it replaces the "Degree Noose" with a "Continuous Testing Noose," where 
 * agents must constantly prove their worth in a granular, high-frequency match.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(skills_based_hiring, 0, 10).
narrative_ontology:constraint_claim(skills_based_hiring, meritocratic_coordination).

% Base extractiveness score (0.3)
% Lower than college admissions because it reduces the "pre-match" cost of 
% expensive degrees, though platform fees for certification may emerge.
domain_priors:base_extractiveness(skills_based_hiring, 0.3).

% Suppression score (0.2)
% Low suppression; it encourages a plurality of paths (bootcamps, self-taught).
domain_priors:suppression_score(skills_based_hiring, 0.2).

% Enforcement requirements
domain_priors:emerges_naturally(skills_based_hiring). % Driven by labor scarcity

% Metrics
narrative_ontology:constraint_metric(skills_based_hiring, extractiveness, 0.3).
narrative_ontology:constraint_metric(skills_based_hiring, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(skills_based_hiring, self_taught_experts).
constraint_victim(skills_based_hiring, mid_tier_liberal_arts_colleges).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NON-DEGREE APPLICANT - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate (empowered by skill proof)
   WHEN: biographical
   WHERE: mobile (can work for multiple firms based on skill proof)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the self-taught or non-traditional student, skills-based hiring is 
   a "Rope." It is the first coordination mechanism that allows them to 
   climb into high-wage labor markets without the $100k "pay-to-play" 
   entry fee of a degree.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    skills_based_hiring,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(skills_based_hiring, S),
    S < 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MID-TIER GRADUATE - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (pedigree is no longer a shield)
   WHEN: immediate
   WHERE: trapped (stuck with debt for a devalued credential)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For someone who relied on their degree for market access, this shift 
   is a "Noose." Their primary constraint (the degree) has been 
   demoted, forcing them into a high-competition skill-arena where 
   their "institutional signal" no longer grants them a safe exit or 
   premium wage.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    skills_based_hiring,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HR ALGORITHM - Mountain
   --------------------------------------------------------------------------
   WHO: institutional/analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the automated system, skills are "Mountains." Data is the only 
   reality. A candidate either has the verified Python competency or 
   they do not. The algorithm views the match as a cold, immutable 
   binary filter of capacity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    skills_based_hiring,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(skills_based_hiring),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(skills_hiring_tests).

test(pedigree_devaluation) :-
    % Testing that 'trapped' traditional grads experience the shift as a Noose.
    constraint_indexing:constraint_classification(skills_based_hiring, noose, context(_, _, trapped, _)).

test(access_rope) :-
    % Testing that mobile, skill-heavy agents see the Rope.
    constraint_indexing:constraint_classification(skills_based_hiring, rope, context(_, _, mobile, _)).

:- end_tests(skills_hiring_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Skills-based hiring is a "de-matching" of the traditional 
 * University-Employer pipeline. It reduces extraction by decreasing the 
 * "entry fee" (Degrees), but increases the "monitoring pressure" (Noose) 
 * as workers must continuously prove their skills in an AI-gated market.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    skill_obsolescence_rate,
    "How fast will AI-driven tools make specific human skills obsolete?",
    resolution_mechanism("Tracking half-life of technical certifications in LinkedIn data"),
    impact("If High: The 'Rope' is constantly breaking; the 'Noose' of re-skilling tightens."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: skolems_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Thoralf Skolem (1922) / Set Theory / Model Theory
% ============================================================================

:- module(constraint_skolems_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: skolems_paradox
 * human_readable: Skolem's Paradox (The Relativity of Cardinality)
 * domain: technological/logic/mathematics
 * temporal_scope: Permanent (Universal Laws of Formal Systems)
 * spatial_scope: Global (Mathematical Foundations)
 * * SUMMARY:
 * Skolem's Paradox arises from the Downward Löwenheim–Skolem theorem, which states 
 * that if a first-order theory (like ZFC) has an infinite model, it has a 
 * countable model. The "paradox" is that ZFC proves the existence of 
 * uncountable sets, yet it must have a model where every set is countable 
 * from the outside.
 * * KEY AGENTS:
 * - The Absolutist: Seeking an absolute, "true" universe of sets.
 * - The Model Theorist: Utilizing the relativity of models to explore 
 * different mathematical structures.
 * - The Formal System (First-Order Logic): The medium that imposes the 
 * constraint of countability.
 * * NARRATIVE ARC:
 * The paradox functions as a hard limit on the expressive power of first-order 
 * language (Mountain). For those building meta-theories, it is a tool (Rope) 
 * for distinguishing between internal and external perspectives. For the 
 * Platonist, it is a Noose that prevents the formalization of a unique, 
 * absolute mathematical reality.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural anchor
narrative_ontology:interval(skolems_paradox_interval, 0, 10).
narrative_ontology:constraint_claim([skolems_paradox], semantic_relativity).

% Base extractiveness score (0.0-1.0)
% Rationale: Low. It extracts "absoluteness" from mathematical claims but 
% doesn't extract resources; it primarily forces a shift to meta-logic.
domain_priors:base_extractiveness(skolems_paradox, 0.2).

% Suppression score (0.0-1.0)
% Rationale: Moderate. Alternatives like second-order logic are well-known 
% but suppressed in foundational debates due to their lack of completeness.
domain_priors:suppression_score(skolems_paradox, 0.4).

% Enforcement: Emerges naturally from the structure of first-order logic.
domain_priors:emerges_naturally(skolems_paradox).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(skolems_paradox, extractiveness, 0.2).
narrative_ontology:constraint_metric(skolems_paradox, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(skolems_paradox, model_theorists).
constraint_victim(skolems_paradox, mathematical_absolutists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ANALYTICAL OBSERVER - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal logical laws.
   WHEN: civilizational - Operates on the scale of eternal mathematical truth.
   WHERE: trapped - Logic cannot bypass the Downward Löwenheim–Skolem theorem.
   SCOPE: global - Universal applicability.
   
   WHY THIS CLASSIFICATION:
   To the analytical observer, the paradox is a Mountain. It is an unchangeable 
   feature of the landscape of formal systems. It demonstrates a permanent 
   gap between what can be "said" in a language and what "is" in a model.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    skolems_paradox,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE META-MATHEMATICIAN - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power that defines the meta-theory.
   WHEN: biographical - Achieving goals within a professional lifetime.
   WHERE: arbitrage - Can move between the internal model and the meta-model.
   SCOPE: national - Specific to the formal ecosystem.
   
   WHY THIS CLASSIFICATION:
   For the meta-mathematician, the paradox is a Rope. It is a coordination 
   mechanism that allows for the precise definition of "relativity." It 
   provides the ladder to climb from the object-language to the meta-language 
   without falling into contradiction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    skolems_paradox,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PLATONIC IDEALIST - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the rules of logic.
   WHEN: immediate - The current attempt to find absolute truth.
   WHERE: trapped - The formal system is the only venue for proof.
   SCOPE: local - Immediate workspace.
   
   WHY THIS CLASSIFICATION:
   For the idealist seeking a unique "True Universe of Sets," the paradox is 
   a Noose. Every attempt to specify the "Absolute" is strangled by the fact 
   that a countable model can always be found that "mimics" the uncountable 
   properties, rendering their absolute claims relative.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    skolems_paradox,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(skolems_paradox_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(skolems_paradox, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(skolems_paradox, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(skolems_paradox, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(power_extractiveness_relativity) :-
    % Powerless idealists experience total extraction of absoluteness (Noose).
    % Institutional meta-theorists leverage the relativity (Rope).
    domain_priors:base_extractiveness(skolems_paradox, Score),
    Score >= 0.2.

test(time_immutability_scale) :-
    % Long-term civilizational logic = Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(skolems_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.2): The paradox doesn't take physical wealth, but it 
 * extracts "semantic certainty." It forces a move to meta-theory, which is 
 * an energy/cognitive cost.
 * 2. PERSPECTIVE SELECTION: Analyst (Mountain), Meta-Theorist (Rope), and 
 * Idealist (Noose) provide the necessary spread to show how a logical truth 
 * behaves differently based on agent intent.
 * 3. NOOSE ARGUMENT: The "Noose" for the idealist is the inability to fix 
 * a reference to an absolute reality within a formal system.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    standard_model_existence,
    "Is there a privileged 'Standard Model' of Set Theory that is not relative, or is reality an infinite sea of models?",
    resolution_mechanism("Discovery of higher-order logical principles that define a unique universe"),
    impact("If Unique: Skolem's Paradox is a Rope. If Infinite Sea: It is a permanent Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Second-Order Logic
 * Viability: Prevents Skolem's Paradox by allowing quantification over sets.
 * Suppression: High. Second-order logic lacks completeness and compactness, 
 * leading logicians to prefer the "cleaner" but "relative" first-order logic.
 * * CONCLUSION:
 * The existence of Second-Order logic as a potential (but discarded) Rope 
 * confirms that the First-Order "Mountain" is a chosen constraint of the 
 * mathematical community.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_skolems_paradox].
 * 2. Multi-perspective: ?- multi_index_report(skolems_paradox).
 * 3. Run tests: ?- run_tests(skolems_paradox_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: sludge_bureaucratic_friction
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Sunstein, C. R. (2021). Sludge. / Thaler, R. H. (2018).
% ============================================================================

:- module(constraint_sludge, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: sludge_bureaucratic_friction
 * human_readable: Sludge (Intentional Friction)
 * domain: political/economic/social
 * temporal_scope: Immediate to Biographical
 * spatial_scope: National
 * * SUMMARY:
 * Sludge consists of administrative burdens—excessive paperwork, long wait 
 * times, and complex requirements—that act as a barrier to entry or exit. 
 * It is often used by institutions to "throttle" access to rights or resources.
 * * KEY AGENTS:
 * - The Applicant: The agent attempting to navigate the friction to access a benefit.
 * - The Bureaucrat: The administrator who maintains or enforces the sludge layer.
 * - The Policy Designer: The agent who uses sludge as a "hidden" budget control.
 * * NARRATIVE ARC:
 * Sludge functions as a "Viscous Noose." It does not provide a hard "No," 
 * but it makes the "Yes" so expensive in terms of time and cognitive effort 
 * that agents give up. It is the primary tool for creating a "thin" 
 * matching market in social services.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(sludge_bureaucratic_friction, 0, 10).
narrative_ontology:constraint_claim(sludge_bureaucratic_friction, administrative_burden).

% Base extractiveness score (0.7)
% High; it extracts time and psychological well-being from the most 
% vulnerable populations to save institutional costs.
domain_priors:base_extractiveness(sludge_bureaucratic_friction, 0.7).

% Suppression score (0.6)
% Moderate-High; while the rules are public, the "hidden costs" and 
% complexity suppress the viability of the benefit.
domain_priors:suppression_score(sludge_bureaucratic_friction, 0.6).

% Enforcement: Requires active enforcement (Institutional inertia/design).
domain_priors:requires_active_enforcement(sludge_bureaucratic_friction).

% Metrics
narrative_ontology:constraint_metric(sludge_bureaucratic_friction, extractiveness, 0.7).
narrative_ontology:constraint_metric(sludge_bureaucratic_friction, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(sludge_bureaucratic_friction, budget_conscious_governments).
constraint_beneficiary(sludge_bureaucratic_friction, predatory_subscription_models).
constraint_victim(sludge_bureaucratic_friction, low_income_applicants).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ELIGIBLE APPLICANT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate (crisis window)
   WHERE: trapped (no alternative source for the benefit)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For someone in need of emergency aid, sludge is a "Noose." 
   The 50-page form and the requirement to mail physical documents 
   strangles their access to survival. Every hour spent in the "waiting 
   room" is an extraction of their limited life-resources.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sludge_bureaucratic_friction,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COMPLIANCE OFFICER - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: biographical
   WHERE: mobile
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   To the institution, sludge is a "Rope." It is a coordination tool 
   used to "vet" applicants and prevent fraud. They see the friction 
   as a necessary filter to ensure that only the "truly deserving" 
   (those persistent enough to climb the rope) get through.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sludge_bureaucratic_friction,
    rope,
    context(agent_power(institutional), time_horizon(biographical), exit_options(mobile), spatial_scope(national))
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SOCIOLOGIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The observer sees sludge as a "Mountain" of institutional entropy. 
   Complexity naturally grows in any large system unless it is 
   actively fought. It is a structural feature of human organization 
   that dictates the "flow rate" of social justice.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sludge_bureaucratic_friction,
    mountain,
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))
) :-
    domain_priors:requires_active_enforcement(sludge_bureaucratic_friction),
    !.

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: south_china_sea_arbitration_2016_2026
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: PCA Case No. 2013-19; 2026 Regional Geopolitical Updates (Jan 19, 2026)
% ============================================================================

:- module(scs_arbitration_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: south_china_sea_arbitration_2016_2026
 * human_readable: The 2016 South China Sea Arbitral Award
 * domain: legal/geopolitical/security
 * temporal_scope: 2016 - 2026 (Active contestation)
 * spatial_scope: South China Sea / West Philippine Sea
 * * SUMMARY:
 * On July 12, 2016, an Arbitral Tribunal ruled overwhelmingly in favor of the 
 * Philippines, invalidating China's "nine-dash line" and "historic rights" 
 * as incompatible with UNCLOS. By January 2026, this ruling serves as the 
 * primary legal constraint on maritime claims in the region, though its 
 * enforcement remains a matter of intense international pressure and local 
 * friction.
 * * KEY AGENTS:
 * - The Republic of the Philippines: The primary beneficiary and legal "owner" 
 * of the award.
 * - The People's Republic of China: The primary "subject" of the constraint, 
 * which it rejects as "null and void."
 * - International Community (US/EU/Japan): External enforcers who treat the 
 * ruling as a "binding" legal reality.
 * - Filipino Fisherfolk: Powerless individuals whose safety depends on the 
 * transition of this law from paper to physical reality.
 * * NARRATIVE ARC:
 * The ruling was intended as a "Rope" (a coordination tool for peaceful 
 * resolution). However, for China, it functions as a "Noose" (an asymmetric 
 * limit on perceived sovereign power). For the Philippines, it is becoming a 
 * "Mountain" (a fixed, final legal truth) that they refuse to re-negotiate.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(scs_legal_era, 2016, 2026).
narrative_ontology:constraint_claim(south_china_sea_arbitration_2016_2026, mountain).

% Base extractiveness: 0.45
% Rationale: While legally just, it "extracts" vast maritime territory and 
% historic claims from China. Conversely, the lack of its enforcement extracts 
% resources and safety from Filipino fishers.
domain_priors:base_extractiveness(south_china_sea_arbitration_2016_2026, 0.45).

% Suppression: 0.35
% Rationale: It suppresses the "nine-dash line" but is itself suppressed by 
% Chinese ICAD (Illegal, Coercive, Aggressive, and Deceptive) activities.
domain_priors:suppression_score(south_china_sea_arbitration_2016_2026, 0.35).

% Enforcement: Requires intense active maintenance (diplomacy, patrols, sanctions).
domain_priors:requires_active_enforcement(south_china_sea_arbitration_2016_2026).

% Beneficiaries & Victims
constraint_beneficiary(south_china_sea_arbitration_2016_2026, philippines).
constraint_beneficiary(south_china_sea_arbitration_2016_2026, international_rules_based_order).
constraint_victim(south_china_sea_arbitration_2016_2026, chinese_maritime_expansion).

% Metrics
narrative_ontology:constraint_metric(south_china_sea_arbitration_2016_2026, extractiveness, 0.45).
narrative_ontology:constraint_metric(south_china_sea_arbitration_2016_2026, suppression_requirement, 0.35).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: FILIPINO FISHERMAN - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Directly exposed to water cannons and ramming.
   WHEN: immediate - Daily survival at Scarborough Shoal (Bajo de Masinloc).
   WHERE: trapped - Physically limited by the reach of the Chinese Coast Guard.
   SCOPE: local - A specific reef or fishing ground.
   
   WHY THIS CLASSIFICATION:
   While the law is on their side, the *gap* between the law and reality is a 
   Noose. They are promised rights by a document (UNCLOS/Award) that currently 
   cannot stop a water cannon from destroying their livelihood.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    south_china_sea_arbitration_2016_2026,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: PH DEPT. OF FOREIGN AFFAIRS (DFA) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - Rule-shapers and primary legal advocates.
   WHEN: civilizational - Viewing the award as a permanent contribution to law.
   WHERE: mobile - Engaging in global diplomacy to "slay the giant."
   SCOPE: global - Advocating for the award in the UN and ASEAN.
   
   WHY THIS CLASSIFICATION:
   The DFA treats the ruling as "final and binding." It is a non-negotiable, 
   permanent feature of the legal geography (Mountain) that serves as the 
   unshakable foundation for all Philippine foreign policy.
   
   NARRATIVE EVIDENCE:
   "The Awards... are both final and binding... a concrete example of how 
   international law should work." (Lazaro, Jan 19, 2026)
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    south_china_sea_arbitration_2016_2026,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: CHINESE EMBASSY / MOFA - Noose
   --------------------------------------------------------------------------
   WHO: institutional (opposing) - Powerful state agency.
   WHEN: immediate - Managing "provocations" at sea.
   WHERE: arbitrage - Acting as if the law does not exist while using other UNCLOS parts.
   SCOPE: national - Protecting "territorial sovereignty."
   
   WHY THIS CLASSIFICATION:
   For Beijing, the Award is an illegal, extractive "Noose" created without 
   their consent, designed to "infringe on sovereignty" and "mislead public 
   opinion." They view it as a weaponized legal artifact.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    south_china_sea_arbitration_2016_2026,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(scs_arbitration_2026_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(south_china_sea_arbitration_2016_2026, Type1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(south_china_sea_arbitration_2016_2026, Type2, context(institutional, civilizational, mobile, global)),
    Type1 = noose,
    Type2 = mountain.

test(enforcement_extractiveness) :-
    % Extraction for fishers remains high despite the legal victory because of lack of physical enforcement.
    domain_priors:base_extractiveness(south_china_sea_arbitration_2016_2026, E),
    E > 0.4.

:- end_tests(scs_arbitration_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. THE 2026 "LIVE" STATUS: I've updated the context to include the Jan 19, 
 * 2026 statements from the Philippine DFA and Chinese Embassy.
 * 2. CLASSIFICATION SHIFT: I classified the DFA view as "Mountain." In 2016, 
 * it was a "Rope" (negotiable standard), but in 2026, Manila's position has 
 * hardened into a permanent, non-negotiable reality.
 * 3. EXTRACTIVENESS: The extraction is dual-sided. It extracts 
 * "historic pride/territory" from China and "physical safety" from fishers 
 * through the resulting tension.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    un_general_assembly_referral,
    "Will the Philippines successfully forward the 2016 Award to the ICJ for an advisory opinion in 2026?",
    resolution_mechanism("Monitor the vote count in the UNGA during the 2026 September session."),
    impact("If Yes: The award hardens into a global 'Mountain'. If No: It remains a regional 'Noose' for China."),
    confidence_without_resolution(low)
).

omega_variable(
    asean_chairmanship_2026,
    "Will Manila's 2026 ASEAN Chairmanship produce a 'Code of Conduct' that references the 2016 Award?",
    resolution_mechanism("Review the final communique of the 2026 ASEAN Summit in Kuala Lumpur/Manila."),
    impact("If Yes: UNCLOS is a functional 'Rope'. If No: ASEAN remains a 'Scaffold' (hollow)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Bilateral Negotiation (China's preference)
 * Viability: China claims this has worked with other neighbors.
 * Suppression: Rejected by the Philippines as an asymmetric venue where the 
 * weaker party is coerced.
 * * ALTERNATIVE 2: "Historic Rights" (Natural Law)
 * Viability: Practiced for centuries before UNCLOS.
 * Suppression: Explicitly invalidated by the 2016 Tribunal as "without lawful effect."
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: st_petersburg_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Daniel Bernoulli (1738) / Expected Utility Theory
% ============================================================================

:- module(constraint_st_petersburg_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: st_petersburg_paradox
 * human_readable: St. Petersburg Paradox (Divergent Expected Value)
 * domain: mathematical/economic
 * temporal_scope: 1738 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Decision Theory)
 * * SUMMARY:
 * The St. Petersburg Paradox describes a lottery game with an infinite expected 
 * monetary value, yet for which players are only willing to pay a small finite 
 * entrance fee. It exposes a fundamental constraint in classical decision theory: 
 * expected value does not equal human utility.
 * * KEY AGENTS:
 * - The Gambler (Subject): A powerless agent facing a game that promises 
 * "infinite" riches but offers no realistic path to collect them.
 * - The Casino Architect (Institutional): Uses the paradox as a "Rope" to 
 * justify house limits and the transition to Expected Utility Theory.
 * - The Rational Automaton (Victim): A hypothetical agent bound by 
 * pure expected value logic, who would pay everything they own for the ticket.
 * * NARRATIVE ARC:
 * The paradox acts as a "Mountain" of mathematical divergence—the sum 
 * $\sum 2^{n-1} \cdot (1/2^n)$ is undeniably infinite. In modern finance, 
 * Bernoulli’s resolution (Logarithmic Utility) is a "Rope" for coordinating 
 * risk management. However, for the "Rational" agent, the divergent sum is a 
 * "Noose" that extracts all their wealth (extraction) for a 1/2^k chance 
 * of a win they will never live to see.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(st_petersburg_era, 1738, 2026).
narrative_ontology:constraint_claim(st_petersburg_paradox, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.65. Highly extractive for an agent following pure EV logic. 
% The game "extracts" finite certainty (the entrance fee) in exchange for 
% an infinite "promise" that effectively has zero realizable value.
domain_priors:base_extractiveness(st_petersburg_paradox, 0.65).

% Suppression score (0.0-1.0)
% Rationale: 0.4. It suppresses the visibility of "linear" wealth valuation, 
% rendering the idea that "$100 is twice as good as $50" functionally 
% invisible in high-stakes risk modeling.
domain_priors:suppression_score(st_petersburg_paradox, 0.4).

% Enforcement: Emerges naturally from the interaction of powers of two.
domain_priors:emerges_naturally(st_petersburg_paradox).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(st_petersburg_paradox, extractiveness, 0.65).
narrative_ontology:constraint_metric(st_petersburg_paradox, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(st_petersburg_paradox, insurance_industries). % Profit from utility-based risk premiums.
constraint_beneficiary(st_petersburg_paradox, logarithmic_utility_models).
constraint_victim(st_petersburg_paradox, pure_expected_value_logicians).
constraint_victim(st_petersburg_paradox, naive_gamblers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE COIN TOSS SEQUENCE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The coin has no agency; the probability $1/2^n$ is fixed.
   WHEN: immediate - True at every infinitesimal step of the game.
   WHERE: trapped - Bound within the geometric progression.
   SCOPE: local - Immediate result of the current flip.
   
   WHY THIS CLASSIFICATION:
   For the mathematical sequence itself, the divergent expected value is an 
   absolute Mountain. There is no "exit" from the arithmetic reality that 
   the sum of probabilities times payoffs has no finite bound.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    st_petersburg_paradox,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MODERN RISK ANALYST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to price insurance and financial derivatives.
   WHEN: biographical - Planning for a fund's long-term risk-adjusted return.
   WHERE: mobile - Can choose different utility functions (Log, Power, Exponential).
   SCOPE: global - Universal application in global finance.
   
   WHY THIS CLASSIFICATION:
   For the analyst, the paradox is a "Rope"—a tool for functional coordination. 
   By recognizing the "Mountain" of infinite EV, they coordinate a standard of 
   achievement (expected utility) that allows for the pricing of risk-aversion, 
   effectively "pulling" the market toward stability.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    st_petersburg_paradox,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CLASSICAL LOGICIAN - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the "Rationality" of Expected Value.
   WHEN: immediate - Forced to make a decision at the ticket booth.
   WHERE: constrained - The "exit" (refusing to play) feels like an irrational choice.
   SCOPE: local - A single, high-stakes decision.
   
   WHY THIS CLASSIFICATION:
   For the agent following pure expected value, the paradox is a "Noose." 
   It "strangles" their wealth by demanding a near-infinite entrance fee 
   (extraction). Because their logic tells them the game is worth everything, 
   they are "choked" into bankrupting themselves for a prize that only 
   exists in a transfinite "long run" they cannot survive.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    st_petersburg_paradox,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(st_petersburg_paradox, E),
    E >= 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(st_petersburg_paradox_tests).

test(multi_perspective_variance) :-
    % Sequence -> Mountain
    constraint_indexing:constraint_classification(st_petersburg_paradox, Type1, context(individual_powerless, immediate, trapped, local)),
    % Analyst -> Rope
    constraint_indexing:constraint_classification(st_petersburg_paradox, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(extraction_penalty_insight) :-
    % Powerless logician feels high extraction (> 0.6)
    Context = context(individual_powerless, immediate, constrained, local),
    constraint_indexing:extractiveness_for_agent(st_petersburg_paradox, Context, Score),
    Score >= 0.6.

test(natural_emergence) :-
    domain_priors:emerges_naturally(st_petersburg_paradox).

:- end_tests(st_petersburg_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.65):
 * Reasoning: The paradox is fundamentally a trap for non-utility-based logic. 
 * It extracts all available finite assets in exchange for a "promise" of 
 * infinite payoff that only occurs at $n \to \infty$. 
 * * 2. PERSPECTIVE SELECTION:
 * Chose Coin (Subject), Analyst (Institution), and Logician (Victim) to 
 * show how the "divergence" is experienced as either a rule, a tool, or a trap.
 * * 3. OMEGA IDENTIFICATION: 
 * Formalized the "Finite Bank" uncertainty—does the Mountain hold if the 
 * house doesn't have infinite money?
 */

% OMEGA IDENTIFICATION:
omega_variable(
    house_resource_finiteness,
    "Is the 'Mountain' of infinite EV stable if the Casino is finite (Scaffold)?",
    resolution_mechanism("Calculation of expected value with a ceiling $2^k$ (e.g., total atoms in the universe)."),
    impact("If finite: The Mountain collapses into a manageable Rope ($EV \approx 10-20$)."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Finite Bank Limits
 * Viability: In reality, no house can pay $2^{100}$ dollars.
 * Suppression: Often ignored in math to keep the "Paradox" pure.
 * Evidence: Common sense physics.
 * * ALTERNATIVE 2: Risk-Aversion (Expected Utility)
 * Viability: The standard "resolution" of the paradox.
 * Suppression: Rejects pure EV logic, turning the "Noose" into a "Rope."
 * * CONCLUSION:
 * The existence of "Finite Bank" limits (Alternative 1) proves that the 
 * infinite "Mountain" is actually a Scaffold built on the assumption of 
 * infinite physical resources.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [st_petersburg_paradox].
 * 2. Analyze: ?- multi_index_report(st_petersburg_paradox).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: stable_marriage_coordination
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: David Gale & Lloyd Shapley (1962) / College Admissions and the Stability of Marriage
% ============================================================================

:- module(constraint_stable_marriage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: stable_marriage_coordination
 * human_readable: Stable Marriage Problem (Gale-Shapley Algorithm)
 * domain: economic/social/technological
 * temporal_scope: 1962 - Present
 * spatial_scope: Global/Abstract (Matching Markets)
 * * SUMMARY:
 * The Stable Marriage Problem involves finding a stable matching between two equally 
 * sized sets of elements given a list of preferences for each element. A matching 
 * is "stable" if there is no pair that would both prefer each other over their 
 * current partners. It represents a fundamental constraint on how decentralized 
 * preferences can be reconciled into a self-enforcing social equilibrium.
 * * KEY AGENTS:
 * - The Suitor (Subject): The powerless agent (in a fixed-rule iteration) whose 
 * outcome depends on the sequential rejection or acceptance by the other set.
 * - The Matching Coordinator (Institutional): An agent (like the NRMP for doctors) 
 * who uses the algorithm as a "Rope" to ensure market stability and prevent "poaching."
 * - The Strategic Outlier (Victim): An agent whose optimal individual preference 
 * is "strangled" by the global requirement for stability, often resulting in a 
 * sub-optimal match to prevent systemic collapse.
 * * NARRATIVE ARC:
 * The Stable Marriage Problem is a "Mountain" of game-theoretic reality—in any 
 * matching market, the existence of a stable state is a mathematical certainty, 
 * yet the specific outcome is biased toward the set that proposes. In labor 
 * markets (like medical residency), it is a "Rope" used to coordinate thousands 
 * of individuals. However, for an agent with highly specific, non-conformist 
 * preferences, the stability requirement acts as a "Noose," extracting their 
 * individual utility (extraction) to maintain the "choking" grip of the 
 * aggregate equilibrium.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for the DR-Audit Suite
narrative_ontology:interval(matching_theory_era, 1962, 2026).
narrative_ontology:constraint_claim(stable_marriage_coordination, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.4. The algorithm "extracts" the possibility of "perfect" 
% matches for all individuals to enforce a "stable" state where no one 
% has the incentive to defect. It inherently favors the group that proposes 
% (Suitor-Optimality), creating a systematic extraction of utility from 
% the receiving group.
domain_priors:base_extractiveness(stable_marriage_coordination, 0.4).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the visibility of "unstable" but 
% higher-utility matches, rendering them functionally illegal or 
% "fraudulent" within coordinated markets like residency matching.
domain_priors:suppression_score(stable_marriage_coordination, 0.3).

% Enforcement: Emerges naturally from the Gale-Shapley mechanism.
domain_priors:emerges_naturally(stable_marriage_coordination).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(stable_marriage_coordination, extractiveness, 0.4).
narrative_ontology:constraint_metric(stable_marriage_coordination, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(stable_marriage_coordination, proposing_set_agents). % Suitor-optimal results.
constraint_beneficiary(stable_marriage_coordination, market_clearing_houses).
constraint_victim(stable_marriage_coordination, receiving_set_agents). % Receiver-pessimal results.
constraint_victim(stable_marriage_coordination, niche_preference_outliers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RESIDENCY APPLICANT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The student cannot change the algorithm's rules.
   WHEN: immediate - True at the moment the "Match Day" results are released.
   WHERE: trapped - Bound by the institutional rules of the medical profession.
   SCOPE: national - Part of a country-wide labor allocation.
   
   WHY THIS CLASSIFICATION:
   For the individual student, the algorithm is an absolute Mountain. They 
   submit their ranks and must accept the result. The existence of a "stable" 
   match means they cannot negotiate a better spot elsewhere because no 
   hospital they prefer would prefer them back. The math is an unyielding law.
   
   
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    stable_marriage_coordination,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MARKET COORDINATOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to mandate the use of a centralized matching system.
   WHEN: biographical - Managing the stability of the labor market over decades.
   WHERE: mobile - Can choose to make the algorithm suitor-optimal or receiver-optimal.
   SCOPE: global - Applying matching theory to diverse sectors.
   
   WHY THIS CLASSIFICATION:
   For the institution (e.g., NRMP), the Stable Marriage algorithm is a 
   "Rope"—a functional coordination tool. It prevents "unraveling" where 
   hospitals and students make sub-optimal early offers. It pulls the 
   entire market toward a stable standard of achievement (equilibrium).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    stable_marriage_coordination,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE RECEIVING-SIDE AGENT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools to rank, but is bound by the proposer's advantage.
   WHEN: immediate - Realizing they have been matched to their least-preferred stable option.
   WHERE: constrained - The "exit" (breaking the match) is professionally ruinous.
   SCOPE: local - Impacting their specific career trajectory.
   
   WHY THIS CLASSIFICATION:
   For the agent on the receiving side of the proposals, the algorithm is a 
   "Noose." While the outcome is "stable," it is mathematically proven to be 
   the *worst* possible stable match for them. It extracts their potential 
   satisfaction (extraction) to guarantee the stability of the system, 
   "choking" their agency in favor of the proposing set.
   
   
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    stable_marriage_coordination,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(stable_marriage_coordination, E),
    E >= 0.3,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(stable_marriage_tests).

test(multi_perspective_variance) :-
    % Applicant -> Mountain
    constraint_indexing:constraint_classification(stable_marriage_coordination, Type1, context(individual_powerless, immediate, trapped, national)),
    % Coordinator -> Rope
    constraint_indexing:constraint_classification(stable_marriage_coordination, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(receiver_extraction_penalty) :-
    % Receiver-side agents feel the 0.4 extraction of utility as a Noose.
    Context = context(individual_moderate, immediate, constrained, local),
    constraint_indexing:extractiveness_for_agent(stable_marriage_coordination, Context, Score),
    Score >= 0.3.

test(natural_emergence) :-
    domain_priors:emerges_naturally(stable_marriage_coordination).

:- end_tests(stable_marriage_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.4): 
 * I chose 0.4 because of the inherent "Proposer-Optimality" vs "Receiver-Pessimality" 
 * duality. The system extracts utility from one set to benefit the other while 
 * maintaining the "Mountain" of stability.
 * 2. CLASSIFICATION: 
 * Captured how the "Gale-Shapley Mountain" serves as a "Rope" for institutions 
 * to clear markets, but can be a "Noose" for the passive side of the proposal.
 */

% OMEGA IDENTIFICATION
omega_variable(
    strategic_misreporting_impact,
    "Is the 'Mountain' of stability vulnerable if agents lie about their preferences (Scaffold)?",
    resolution_mechanism("Analysis of incentive compatibility: Gale-Shapley is strategy-proof for proposers but not for receivers."),
    impact("If strategic lying is rampant: The 'Mountain' of stability is a mirage, and the algorithm becomes a 'Noose' of manipulation."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Decentralized Search (The "Dating Market")
 * Viability: Individuals search for partners without a central coordinator.
 * Suppression: Often leads to "unstable" pairs and high search costs, 
 * suppressed by institutional "Ropes" in professional settings to ensure 
 * 100% market clearing.
 * * ALTERNATIVE 2: Random Allocation
 * Viability: Fair in terms of probability, but highly unstable.
 * Suppression: Rejected because it violates the "Mountain" of 
 * individual rationality.
 * * CONCLUSION:
 * The existence of decentralized "instability" (Alternative 1) is what 
 * makes the Stable Marriage "Rope" necessary for large-scale coordination.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_stable_marriage].
 * 2. Multi-perspective: ?- multi_index_report(stable_marriage_coordination).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: strange_attractor_dynamics
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: David Ruelle / Floris Takens (1971) / Chaos Theory
% ============================================================================

:- module(constraint_strange_attractor, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: strange_attractor_dynamics
 * human_readable: Strange Attractors (Topological Chaos)
 * domain: mathematical/technological/physical
 * temporal_scope: 1971 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Non-linear Phase Space)
 * * SUMMARY:
 * A strange attractor is a set of physical states toward which a chaotic 
 * system evolves. Unlike simple attractors (points or loops), strange 
 * attractors have fractal structures and exhibit sensitive dependence on 
 * initial conditions. They represent a fundamental limit on the geometry 
 * of stability.
 * * KEY AGENTS:
 * - The System State (The Trajectory): The powerless agent following the 
 * flow, trapped on a manifold that never repeats.
 * - The Nonlinear Dynamics Researcher: An institutional agent who uses 
 * attractor reconstruction (Takens' Theorem) to map hidden order.
 * - The Predictor: An agent for whom the attractor's "strangeness" acts 
 * as a "Noose," extracting the possibility of long-term certainty.
 * * NARRATIVE ARC:
 * The strange attractor is a "Mountain" of topological fate—the system 
 * must eventually fall into this shape. In signal processing, it is a 
 * "Rope" for identifying deterministic noise. However, the "folding and 
 * stretching" of phase space acts as a "Noose" for prediction, 
 * exponentially extracting information until the future is a void.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor
narrative_ontology:interval(strange_attractor_dynamics, 1971, 2026).
narrative_ontology:constraint_claim(strange_attractor_dynamics, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.35). Strange attractors "extract" initial 
% information at a rate determined by the Kolmogorov-Sinai entropy. 
% To maintain any "Rope" of coordination, observers must constantly 
% re-invest in new data measurement.
domain_priors:base_extractiveness(strange_attractor_dynamics, 0.35).

% Suppression score (0.0-1.0)
% Rationale: Moderate (0.3). The discovery of strange attractors 
% suppressed the Ruelle-Takens-Newhouse alternative of "purely 
% stochastic" turbulence, proving it was actually deterministic.
domain_priors:suppression_score(strange_attractor_dynamics, 0.3).

% Enforcement: Emerges naturally from the interaction of dissipation 
% and non-linearity in phase space.
domain_priors:emerges_naturally(strange_attractor_dynamics).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(strange_attractor_dynamics, extractiveness, 0.35).
narrative_ontology:constraint_metric(strange_attractor_dynamics, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(strange_attractor_dynamics, data_reconstruction_engineers).
constraint_beneficiary(strange_attractor_dynamics, secure_communication_protocols). % Chaos-based encryption.
constraint_victim(strange_attractor_dynamics, laplacian_determinists).
constraint_victim(strange_attractor_dynamics, long_term_linear_extrapolators).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PHASE SPACE TRAJECTORY - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The particle/state cannot leave the attractor basin.
   WHEN: immediate - True at every infinitesimal step.
   WHERE: trapped - Bound to the fractal manifold.
   SCOPE: local - Immediate neighborhood of the current state.
   
   WHY THIS CLASSIFICATION:
   For the state itself, the attractor is an absolute, unyielding 
   geographic fate. It cannot "choose" to enter a periodic loop or 
   fly off to infinity once it is within the basin of attraction.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    strange_attractor_dynamics,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ENVELOPE DESIGNER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design systems that operate within the attractor.
   WHEN: biographical - Planning the flight envelope of a vehicle or economy.
   WHERE: mobile - Can move parameters to stay within a specific regime.
   SCOPE: global - Universal application to all systems of this class.
   
   WHY THIS CLASSIFICATION:
   For the architect, the attractor is a "Rope"—a functional coordination 
   mechanism. While unpredictable in the detail, the "bound" of the 
   attractor ensures the system stays within a known statistical 
   envelope, allowing for safety margins.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    strange_attractor_dynamics,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PRECISION-BOUND SIMULATOR - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Bound by the bit-depth of the hardware.
   WHEN: immediate - The Lyapunov horizon where the simulation fails.
   WHERE: constrained - No path to future certainty.
   SCOPE: local - A specific high-entropy region of the attractor.
   
   WHY THIS CLASSIFICATION:
   The attractor's "strangeness" acts as a "Noose" for digital models. 
   It exponentially extracts the value of the initial bits (extraction), 
   "strangling" the validity of the model until it is indistinguishable 
   from random noise.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    strange_attractor_dynamics,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(strange_attractor_dynamics, E),
    E >= 0.3,
    !.

/* ==========================================================================
   4. TESTS (Insights into Phase Space Gravity)
   ========================================================================== */

:- begin_tests(strange_attractor_tests).

test(attractor_fate_variance) :-
    % State -> Mountain
    constraint_indexing:constraint_classification(strange_attractor_dynamics, Type1, context(individual_powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(strange_attractor_dynamics, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(predictability_noose_penalty) :-
    % A powerless simulator with constrained precision sees it as a Noose.
    constraint_indexing:constraint_classification(strange_attractor_dynamics, noose, context(individual_powerless, immediate, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(strange_attractor_dynamics).

:- end_tests(strange_attractor_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: I chose "Mountain" for the global geometry because 
 * the attractor's existence is a topological mandate.
 * 2. TYPE SHIFT: Highlighted how the "Strangeness" is a tool (Rope) for 
 * those who want noise/entropy, but a trap (Noose) for those seeking 
 * classical determinism.
 * 3. EXTRACTIVENESS (0.35): Assigned due to the "Information Loss" 
 * characteristic of positive Lyapunov exponents.
 */

% OMEGA IDENTIFICATION
omega_variable(
    attractor_shadowing,
    "Do 'true' trajectories shadow the 'noose' of numerical simulation orbits?",
    resolution_mechanism("Verification of the Shadowing Lemma for specific attractor topologies."),
    impact("If Yes: The digital 'Noose' is a 'Scaffold' that actually reflects a real 'Rope'."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Limit Cycles (Periodic Attractors)
 * Viability: Systems with lower-dimensional energy dissipation.
 * Suppression: Strange attractors "suppress" the hope for simple 
 * cycles in high-dimensional nonlinear turbulence.
 * * ALTERNATIVE 2: Pure Random Walk (Stochasticity)
 * Viability: Treating the signal as white noise.
 * Conclusion: Chaos theory proves this is an "unnecessary Scaffold" 
 * because the underlying Mountain is actually deterministic.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [strange_attractor_dynamics].
% Analyze: ?- constraint_indexing:multi_index_report(strange_attractor_dynamics).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: sts86_ascent_checklist
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini-Thought-Partner-v2
% Source: JSC-48005-86 - STS-86 Ascent Checklist
% ============================================================================

:- module(sts86_ascent_checklist, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor for Script Extraction
narrative_ontology:interval(sts86_ascent_checklist, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: sts86_ascent_checklist
 * human_readable: Space Shuttle Ascent/Abort Procedural Matrix
 * domain: technological/institutional
 * temporal_scope: immediate (T- minus 5m to Orbit)
 * spatial_scope: cockpit/national
 * * SUMMARY:
 * The checklist (JSC-48005) represents the ultimate procedural constraint. 
 * It manages the transition from a ground-controlled environment to a 
 * physics-dominated ascent where human agency is bound by rigid logic gates.
 * * KEY AGENTS:
 * - NASA/Mission Operations: The Institutional architect.
 * - Flight Crew (CDR/PLT): The Moderate Agents executing the script.
 * - The 'Powerless' Pilot: The crew-member in a 3-Engine-Out scenario.
 * * NARRATIVE ARC:
 * Prelaunch is a "Rope" of coordination. At SRB Ignition, the checklist 
 * ossifies. In an abort (e.g., Mode 8), it becomes a "Mountain" (Physical Law).
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

% Extractiveness: Low (0.05). NASA gains nothing from crew failure. 
% Benefit flow is aimed at systemic survival.
domain_priors:base_extractiveness(sts86_ascent_checklist, 0.05).

% Suppression: High (0.95). Deviating from the checklist is treated 
% as a failure mode itself. Alternative "freestyle" flying is invisible.
domain_priors:suppression_score(sts86_ascent_checklist, 0.95).

% Enforcement: Requires active maintenance (Ground Control / CPCB).
domain_priors:requires_active_enforcement(sts86_ascent_checklist).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE: Institutional (NASA Mission Operations) - ROPE
   --------------------------------------------------------------------------
   WHY: The checklist is the "Rope" that pulls 10,000 workers into sync.
   It is a coordination mechanism that is changeable (via Form 482).
   EVIDENCE: "This document is under the configuration control of the Crew 
   Procedures Control Board (CPCB)." 
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sts86_ascent_checklist,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
).

/* --------------------------------------------------------------------------
   PERSPECTIVE: Powerless View (Crew in 3-E/O Abort) - MOUNTAIN
   --------------------------------------------------------------------------
   WHY: In a failure mode, the checklist is no longer a choice; it is the
   edge of a physical cliff. "Mountain" status is claimed because the 
   metric of suppression (0.95) meets the physical deadline of Mach < .95.
   EVIDENCE: "BAILOUT MODE 8... ~30K FT... JETTISON HATCH... BAILOUT" 
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sts86_ascent_checklist,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
).

/* ==========================================================================
   4. TESTS (Insights into Ontological Mismatches)
   ========================================================================== */

:- begin_tests(sts86_ascent_tests).

test(perspectival_gap) :-
    % Institutional sees a tool (Rope), Powerless sees Fate (Mountain)
    constraint_indexing:constraint_classification(sts86_ascent_checklist, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(sts86_ascent_checklist, mountain, context(agent_power(individual_powerless), _, _, _)).

test(omega_variable_physics) :-
    % Grounding Omega-1: Velocity at MECO as a fixed physical constraint
    Velocity = 25873, % 
    Velocity > 25000.

:- end_tests(sts86_ascent_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Conflict & Omega Resolution)
   ========================================================================== */

/**
 * EXPLAINING THE CONFLICT:
 * The Institutional view claims "Rope" status because they control the 
 * document (Exit Option: Mobile). However, the metrics (Suppression: 0.95) 
 * contradict this for the crew. I have resolved this by updating the 
 * "Powerless" view to reflect that at T-0, the "Rope" has been "captured" 
 * by Physics ($\Omega_{physics}$).
 * * GROUNDING THE OMEGAS:
 * - Omega_Velocity ($\Omega_v$): 25,873 fps. The threshold where the Rope 
 * of the checklist becomes a Mountain. 
 * - Omega_Abort ($\Omega_a$): The 10-second stability window. 
 * If Stability < 10s, agency is lost. 
 * * ONTOLOGICAL_MISMATCHES: Resolved by identifying that the crew's 
 * "Trapped" status at launch forces a shift from Rope to Mountain.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. BFS (Backup Flight System): A parallel "Rope." If PASS fails, 
 * BFS becomes the primary constraint. 
 * 2. Manual Throttle: A rare moment where the Moderate agent regains 
 * agency, shifting Mountain back to Rope. 
 */

% ============================================================================
% END OF CONSTRAINT STORY
% ============================================================================
% ============================================================================
% CONSTRAINT STORY: sturgeons_law
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Theodore Sturgeon (1951/1958) / Science Fiction Criticism
% ============================================================================

:- module(constraint_sturgeons_law, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: sturgeons_law
 * human_readable: Sturgeon's Law ("90% of everything is crap")
 * domain: artistic/sociological
 * temporal_scope: Permanent (Modern Era)
 * spatial_scope: Global (Creative/Information Systems)
 * * SUMMARY:
 * Formulated by sci-fi writer Theodore Sturgeon, the law states that "ninety percent 
 * of everything is crud." It was originally a defense of science fiction against 
 * critics, arguing that while 90% of sci-fi is bad, 90% of *all* literature, art, 
 * and film is also bad. It represents a fundamental baseline of quality distribution.
 * * KEY AGENTS:
 * - The Sci-Fi Writer (Sturgeon): Seeking to defend the 10% "pearls" from being 
 * dismissed by the presence of the 90% "crud."
 * - The Critic: Uses the 90% to invalidate a whole genre or domain.
 * - The Consumer: Navigating a sea of mediocrity to find value.
 * * NARRATIVE ARC:
 * The law functions as a protective shield for niche domains. By acknowledging 
 * the "Mountain" of mediocrity, the observer is freed to find the "Rope" of 
 * excellence. It becomes a "Noose" when the 90% becomes so overwhelming that 
 * the 10% is never discovered or funded.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(sturgeon_interval, 0, 10).
narrative_ontology:constraint_claim([sturgeons_law], quality_distribution).

% Base extractiveness: 0.1 (Low)
% Rationale: The "crud" doesn't necessarily extract value; it mostly 
% consumes attention and "shelf space" without providing a return.
domain_priors:base_extractiveness(sturgeons_law, 0.1).

% Suppression score: 0.4 (Moderate)
% Rationale: The sheer volume of the 90% often suppresses the visibility of 
% the high-quality 10%, requiring active "curation" to overcome.
domain_priors:suppression_score(sturgeons_law, 0.4).

% Enforcement: Emerges naturally from the difficulty of achieving excellence.
domain_priors:emerges_naturally(sturgeons_law).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(sturgeons_law, extractiveness, 0.1).
narrative_ontology:constraint_metric(sturgeons_law, suppression_requirement, 0.4).

% Beneficiaries: Curators and critics who gain power by filtering the 90%.
constraint_beneficiary(sturgeons_law, expert_curators).

% Victims: The "Average" creator whose work is lost in the 90% noise.
constraint_victim(sturgeons_law, mid_tier_creatives).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SCI-FI WRITER - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (A professional navigating a maligned genre).
   WHEN: biographical (Protecting their career's validity).
   WHERE: mobile (Can point to the 10% of other genres for comparison).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   For Sturgeon himself, the law is a Rope. It is a coordination tool that 
   standardizes expectations. By admitting 90% is bad, he moors his defense 
   to a universal truth, allowing him to pull the 10% of "hard" sci-fi up 
   to the level of high literature.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sturgeons_law,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CASUAL CONSUMER - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A reader browseing a bookstore).
   WHEN: immediate (A single afternoon of searching).
   WHERE: trapped (Cannot change the quality of what is published).
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   To the consumer, the 90% is a Mountain. It is an immovable fact of the 
   environment. They must climb through stacks of "crud" to find something 
   worth reading. They have no power over the distribution; they can only 
   endure it.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sturgeons_law,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ALGORITHMIC FILTER - NOOSE
   --------------------------------------------------------------------------
   
   WHO: institutional (A streaming service or social media platform).
   WHEN: historical (Scaling over decades of content).
   WHERE: arbitrage (Can exploit the 90% for cheap engagement).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   For the platform, Sturgeon's Law is a Noose used on the creators. Because 
   "everything is crud," the platform feels justified in using aggressive 
   algorithms that squeeze the 90% for "engagement" while charging the 10% 
   for "visibility." The law justifies a system where quality is secondary 
   to volume.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sturgeons_law,
    noose,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(sturgeons_law_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(sturgeons_law, Type1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(sturgeons_law, Type2, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(sturgeons_law, Type3, context(agent_power(institutional), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(crud_distribution_immutability) :-
    % From a civilizational view, the ratio is seen as a physical law (Mountain).
    constraint_indexing:constraint_classification(sturgeons_law, mountain, context(_, civilizational, _, _)).

:- end_tests(sturgeons_law_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: Chose "Rope" for the writer because the law was 
 * intended as an empowering rhetorical device, not a defeatist one.
 * 2. NOOSE: Applied the Noose concept to institutional gatekeepers who 
 * use the "90% is crud" axiom to justify poor treatment of creatives 
 * or low-quality automated systems.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    quality_threshold_subjectivity,
    "Is 'crap' (crud) an objective statistical failure (Mountain) or a 
    subjective perspectival judgment (Rope)?",
    resolution_mechanism("Cross-cultural longitudinal study of consensus on 'classic' status"),
    impact("If Mountain: Sturgeon's ratio is a biological limit. If Rope: It's an index of shifting taste."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Highly Curated Guild Systems
 * Viability: Historically common (e.g., Medieval guilds).
 * Suppression: High. Modern digital platforms prefer "permissionless entry" 
 * which guarantees Sturgeon's Law scales infinitely.
 * * CONCLUSION:
 * The 90/10 ratio is exacerbated by the lack of gatekeepers. In highly 
 * curated systems, the 90% might be 50%, shifting the law from a Mountain 
 * toward a Rope.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * ?- [constraint_sturgeons_law].
 * ?- run_tests(sturgeons_law_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: sunk_cost_fallacy
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Behavioral Economics / Arkes & Blumer (1985)
% ============================================================================

:- module(constraint_sunk_cost_fallacy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: sunk_cost_fallacy
 * human_readable: The Sunk Cost Fallacy
 * domain: economic/social/cognitive
 * temporal_scope: Permanent (Human Decision Architecture)
 * spatial_scope: Global (Resource Allocation)
 * * SUMMARY:
 * The sunk cost fallacy is the tendency to continue an endeavor once an 
 * investment in money, effort, or time has been made, even when the current 
 * costs outweigh the likely future benefits. It is a "rear-view mirror" 
 * approach to decision-making that ignores future marginal utility in favor 
 * of emotional accounting for past losses.
 * * KEY AGENTS:
 * - The Entrenched Participant: An agent who feels they have "too much 
 * invested to quit" (e.g., a student in the wrong major or a failing project lead).
 * - The Rational Arbiter: An external observer who ignores past costs to 
 * focus solely on future ROI.
 * - The Systemic Exploiter: An institution (e.g., a subscription service or 
 * casino) that uses initial buy-ins to lock agents into further spending.
 * * NARRATIVE ARC:
 * The fallacy functions as a "Mountain" of cognitive inertia. To the manager, 
 * it is a "Rope" (the logic of commitment and persistence). However, for the 
 * individual trapped in a failing path, it becomes a "Noose," where every 
 * additional unit of effort invested makes the psychological cost of 
 * quitting higher, effectively strangling their future optionality.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(sunk_cost_interval, 0, 10).
narrative_ontology:constraint_claim([sunk_cost_fallacy], cognitive_bias).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts future "optionality" and "capital." It benefits 
% entities that profit from "lock-in" while the victim extracts only 
% emotional comfort from not admitting failure.
domain_priors:base_extractiveness(sunk_cost_fallacy, 0.5).

% Suppression score (0.0-1.0)
% Rationale: It suppresses the "Exit" alternative. The brain frames 
% quitting as "waste," making the rational choice (stopping) feel 
% morally or logically invisible.
domain_priors:suppression_score(sunk_cost_fallacy, 0.6).

% Enforcement requirements
domain_priors:emerges_naturally(sunk_cost_fallacy).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(sunk_cost_fallacy, extractiveness, 0.5).
narrative_ontology:constraint_metric(sunk_cost_fallacy, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(sunk_cost_fallacy, [casinos, predatory_subscription_models, status_quo_bureaucrats]).
constraint_victim(sunk_cost_fallacy, [unhappy_career_holders, failed_project_investors]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE BEHAVIORAL ECONOMIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The objective observer of human error)
   WHEN: civilizational (Observing an evolved cognitive heuristic)
   WHERE: trapped (Human neural pathways prioritize loss aversion)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the analyst, the fallacy is a Mountain. It is an unchangeable feature of 
   the human landscape. Regardless of the culture or era, humans show a 
   predictable biological resistance to "cutting losses" because our brains 
   are hard-wired for loss aversion over gain maximization.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sunk_cost_fallacy,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PROJECT MANAGER - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-shaping power over a team)
   WHEN: biographical (Achieving project completion targets)
   WHERE: arbitrage (Can frame "persistence" as a virtue to secure more funding)
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For the manager, "sunk cost" logic is often used as a Rope. It is a 
   coordination mechanism for persistence. By reminding the team or the 
   board of "how far we've come," they pull together the social and 
   financial resources needed to push through the "trough of sorrow" 
   toward a delayed finish line.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sunk_cost_fallacy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE UNHAPPY DOCTORAL STUDENT - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A subject trapped by their own history)
   WHEN: immediate (Daily experience of diminishing returns)
   WHERE: constrained (Cannot quit without losing years of social/financial identity)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the person seven years into a degree they no longer want, the fallacy 
   is a Noose. The "investment" they've made acts as the rope that 
   strangles their current freedom. They cannot leave because they cannot 
   face the "waste" of the past seven years, so they lose the *next* seven years too.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sunk_cost_fallacy,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(sunk_cost_fallacy_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(sunk_cost_fallacy, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(sunk_cost_fallacy, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(sunk_cost_fallacy, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(loss_aversion_extraction) :-
    % Verify that the fallback to the past extracts from the future.
    domain_priors:base_extractiveness(sunk_cost_fallacy, Score),
    Score >= 0.4.

test(horizon_immutability) :-
    % Short-term pressure (Immediate) makes it a Noose/Mountain; 
    % Civilizational view sees it as an invariant fact of the mind.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(sunk_cost_fallacy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.5):
 * Reasoning: The fallacy extracts the most precious non-renewable resource: 
 * future time. It forces agents to pay for the past using the future.
 * * 2. PERSPECTIVE SELECTION:
 * The Manager (Rope) is a key perspective because "Commitment" is often 
 * the social/positive framing of a sunk cost fallacy.
 * * 3. NOOSE CLASSIFICATION:
 * The Noose emerges when the exit cost is not just financial, but 
 * identity-based. "Who am I if I am not the person who finished this?"
 * * 4. OMEGAS:
 * omega_variable(quitting_stigma,
 *	"To what degree is the 'Noose' caused by internal bias vs. external social shame?",
 *	resolution_mechanism("Comparative study of abandonment rates in anonymous vs. public commitments"),
 *	impact("If Internal: Mountain. If Social: Rope (changeable culture)."),
 *	confidence_without_resolution(medium)
 *	).
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Marginal Utility Thinking
 * Viability: The standard economic "correct" answer. Focus only on 
 * the next dollar/hour spent.
 * Suppression: High. It is cognitively difficult because it requires 
 * overriding deep-seated emotional loss-aversion.
 * * CONCLUSION:
 * The existence of a rational alternative (Marginal Thinking) that is 
 * systematically suppressed by human emotion converts the Sunk Cost 
 * Fallacy from a simple mistake into a persistent "Noose" for the 
 * unexamined life.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_sunk_cost_fallacy].
 * 2. Report: ?- multi_index_report(sunk_cost_fallacy).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: suslin_hypothesis_undecidability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Mikhail Suslin (1920) / Solovay & Tennenbaum (1971)
% ============================================================================

:- module(constraint_suslin_hypothesis, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: suslin_hypothesis_undecidability
 * human_readable: Suslin's Hypothesis (Linear Order Undecidability)
 * domain: mathematical/philosophical
 * temporal_scope: 1920 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Set Theory / Topology)
 * * SUMMARY:
 * Suslin's Hypothesis (SH) proposes that any dense linear order without 
 * endpoints that satisfies the "Suslin condition" (no uncountable family of 
 * disjoint open intervals) must be isomorphic to the real line. It was proven 
 * independent of ZFC set theory by Solovay and Tennenbaum in 1971.
 * * KEY AGENTS:
 * - The Suslin Line (Subject): A hypothetical powerless agent—a linear 
 * continuum that satisfies SH's conditions but might not be the real numbers.
 * - The Set-Theoretic Architect (Institutional): An agent who uses SH or its 
 * negation as a "Rope" to build consistent models of the mathematical universe.
 * - The Intuitive Realist (Analytical): An observer for whom the existence 
 * of a Suslin line is a "Noose" that strangles the uniqueness of the real 
 * number line.
 * * NARRATIVE ARC:
 * Suslin's Hypothesis functions as a "Mountain" of structural possibility; 
 * its truth is a fixed feature of whichever logical world one inhabits. In 
 * topology, it is a "Rope" for coordinating the classification of 
 * continua. However, for those seeking a singular, absolute definition of 
 * "Continuity," the undecidability of SH acts as a "Noose," extracting the 
 * certainty of the Real Line (extraction) and "choking" the intuition that 
 * a few simple properties should uniquely define the reals.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(suslin_era, 1920, 2026).
narrative_ontology:constraint_claim(suslin_hypothesis_undecidability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. SH "extracts" the definitive uniqueness of the real numbers 
% as a geometric concept, forcing a "logical tax" of model-dependency on 
% topologists and analysts.
domain_priors:base_extractiveness(suslin_hypothesis_undecidability, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the visibility of "Naive Realism" in 
% mathematics by proving that the structure of the continuum is not fully 
% determined by the standard axioms of ZFC.
domain_priors:suppression_score(suslin_hypothesis_undecidability, 0.3).

% Enforcement: Emerges naturally from the axioms of ZFC and the use of forcing.
domain_priors:emerges_naturally(suslin_hypothesis_undecidability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(suslin_hypothesis_undecidability, extractiveness, 0.2).
narrative_ontology:constraint_metric(suslin_hypothesis_undecidability, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(suslin_hypothesis_undecidability, forcing_theory_researchers).
constraint_beneficiary(suslin_hypothesis_undecidability, model_theorists).
constraint_victim(suslin_hypothesis_undecidability, classical_topological_intuition).
constraint_victim(suslin_hypothesis_undecidability, hilbertian_deductive_completeness).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE HYPOTHETICAL SUSLIN LINE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The line has no agency; its existence is 
   contingent on the axioms of the universe it occupies.
   WHEN: immediate - Its properties are fixed at the moment of definition.
   WHERE: trapped - Bound within the set-theoretic model it inhabits.
   SCOPE: local - Immediate neighborhood of its points and intervals.
   
   WHY THIS CLASSIFICATION:
   For a Suslin line, its own existence (or non-existence) is an absolute 
   Mountain. It cannot "choose" to be isomorphic to the reals if the model 
   it is in allows for a non-separable continuum. The logic is an unyielding 
   law of its existence.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    suslin_hypothesis_undecidability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MODERN SET THEORIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to choose axioms (e.g., Martin's Axiom or V=L).
   WHEN: biographical - Planning the career-long development of a specific model.
   WHERE: mobile - Can choose different "logical exits" via forcing.
   SCOPE: global - Universal foundation for mathematical analysis.
   
   WHY THIS CLASSIFICATION:
   For the institutional logic researcher, SH is a "Rope"—a functional 
   coordination tool. By choosing an axiom like Martin's Axiom (which 
   implies SH) or the Diamond Principle (which implies ¬SH), they 
   coordinate a "standard of achievement" for what constitutes a 
   consistent mathematical universe.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    suslin_hypothesis_undecidability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CLASSICAL ANALYST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Bound by the undecidability of their primary subject.
   WHEN: civilizational - Seeking a definitive "Theory of the Reals."
   WHERE: constrained - The "exit" (a final ZFC proof) is mathematically barred.
   SCOPE: global - Universal limit on formal geometric knowledge.
   
   WHY THIS CLASSIFICATION:
   For the seeker of absolute geometric truth, the independence of SH is 
   a "Noose." It "strangles" the hope that the real numbers are the 
   only possible "perfect" continuum. It extracts the "certainty of 
   the reals" (extraction) and "chokes" the intuition that simple 
   structural properties should be sufficient for a unique definition.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    suslin_hypothesis_undecidability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(suslin_hypothesis_undecidability, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(suslin_hypothesis_tests).

test(multi_perspective_variance) :-
    % Line -> Mountain
    constraint_indexing:constraint_classification(suslin_hypothesis_undecidability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(suslin_hypothesis_undecidability, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(deductive_extraction_penalty) :-
    % Analysts experience the "Noose" of foundational extraction.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(suslin_hypothesis_undecidability, Context, Score),
    Score >= 0.15.

test(natural_emergence) :-
    domain_priors:emerges_naturally(suslin_hypothesis_undecidability).

:- end_tests(suslin_hypothesis_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: SH extracts the "uniqueness" of the real number line. 
 * It imposes a metaphysical tax where the nature of continuity is 
 * contingent on axiomatic choice rather than pure deduction.
 * * 2. CLASSIFICATION RATIONALE:
 * Chose Suslin Line (Subject), Architect (Institutional User), and 
 * Classical Analyst (Victim) to highlight the gap between 
 * "Logical Determinism" and "Foundational Uncertainty."
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the "Naturalness of Axioms"—is there a higher Mountain 
 * that tells us which model is "Real"?
 */

% OMEGA IDENTIFICATION
omega_variable(
    natural_continuum_consensus,
    "Is there a 'Natural' model of set theory (e.g., V=L or Large Cardinals) that resolves Suslin's Hypothesis (Mountain) or is it a pluralist Scaffold?",
    resolution_mechanism("Investigation into 'Inner Model' theory or large cardinal consensus."),
    impact("If Mountain: The Real Line has a 'True' character. If Scaffold: Continuity is a tool of choice (Rope)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Gödel's Constructible Universe (V=L)
 * Viability: In V=L, Suslin's Hypothesis is false (Suslin lines exist).
 * Suppression: Rejected by those who believe the "Full" universe 
 * should have higher-order symmetry.
 * * ALTERNATIVE 2: Martin's Axiom (MA)
 * Viability: In models with MA and the negation of CH, SH is true.
 * Suppression: Often preferred by analysts because it preserves the 
 * "uniqueness" of the reals (The Rope).
 * * CONCLUSION:
 * The existence of Alternative 1 (V=L) proves that the "Noose" of 
 * undecidability is a choice. We climb the Mountain by agreeing 
 * on which Rope of axioms to use.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * * 1. Load: ?- [suslin_hypothesis_undecidability].
 * 2. Multi-perspective: ?- multi_index_report(suslin_hypothesis_undecidability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: sylow_theorems_group_theory
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Sylow Theorems (Peter Ludwig Sylow, 1872) / Finite Group Theory
% ============================================================================

:- module(constraint_sylow_theorems, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: sylow_theorems_group_theory
 * human_readable: Sylow Theorems (Subgroup Constraints)
 * domain: mathematical/theoretical
 * temporal_scope: 1872 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Finite Groups)
 * * SUMMARY:
 * The Sylow Theorems characterize the existence, conjugacy, and number of 
 * p-subgroups within a finite group of a given order. They provide the 
 * "structural skeleton" for the classification of finite groups, placing 
 * rigid limits on how many subgroups of a specific prime-power order can exist.
 * * KEY AGENTS:
 * - The Group Structure (Subject): The mathematical object whose internal 
 * configuration is pre-ordained by the prime factorization of its order.
 * - The Group Classifier (Institutional): An agent using the theorems as a 
 * "Rope" to systematically prove the non-simplicity or cyclicity of groups.
 * - The Finite Simple Group Searcher: An agent for whom the theorems act 
 * as a "Noose," excluding billions of potential group structures from 
 * the possibility of "simplicity."
 * * NARRATIVE ARC:
 * The Sylow Theorems are the "Mountain" of group composition—they define 
 * the unyielding arithmetic landscape that every finite group must inhabit. 
 * In the Classification of Finite Simple Groups (CFSG), they function as 
 * a "Rope" for global coordination. However, for a candidate group 
 * struggling to be "Simple," the congruency requirement ($n_p \equiv 1 \pmod p$) 
 * is a "Noose" that extracts its possibility of existence.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(sylow_era, 1872, 2026).
narrative_ontology:constraint_claim(sylow_theorems_group_theory, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Low (0.15). Pure math truth is non-coercive. However, the theorems 
% "extract" symmetry possibilities from groups, forcing them into specific 
% subgroup lattices.
domain_priors:base_extractiveness(sylow_theorems_group_theory, 0.15).

% Suppression score (0.0-1.0)
% Rationale: Low (0.2). It suppresses the visibility of "illegal" group 
% configurations (e.g., a group of order 15 having more than one Sylow 5-subgroup).
domain_priors:suppression_score(sylow_theorems_group_theory, 0.2).

% Enforcement: Emerges naturally from the axioms of group theory.
domain_priors:emerges_naturally(sylow_theorems_group_theory).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(sylow_theorems_group_theory, extractiveness, 0.15).
narrative_ontology:constraint_metric(sylow_theorems_group_theory, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(sylow_theorems_group_theory, algebraic_classifiers).
constraint_beneficiary(sylow_theorems_group_theory, cryptographic_designers). % Secure group selection.
constraint_victim(sylow_theorems_group_theory, non_existent_simple_groups). % Excluded from reality.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE GROUP ELEMENT (SUBJECT) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The element's behavior in cycles is fixed by the group order.
   WHEN: immediate - True at the moment the group is defined.
   WHERE: trapped - Bound within the subgroup structure dictated by $|G|$.
   SCOPE: local - Immediate neighborhood of the element's orbit.
   
   WHY THIS CLASSIFICATION:
   For an element in a group of order 30, the existence of a normal Sylow 
   5-subgroup (and thus its own membership in it) is an absolute, 
   unchangeable law. The element has zero "volition" to belong to a 
   different structural configuration.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    sylow_theorems_group_theory,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MATHEMATICS PROFESSOR - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design proofs and classify group families.
   WHEN: biographical - Planning a curriculum or a research paper.
   WHERE: mobile - Can choose different group orders to explore or prove.
   SCOPE: global - Universal application to all finite groups.
   
   WHY THIS CLASSIFICATION:
   For the institutional actor, the theorems are a "Rope"—a tool for 
   functional coordination. They allow for the efficient "tagging" and 
   classification of infinite varieties of groups into neat structural buckets.
   
   NARRATIVE EVIDENCE:
   "The Sylow Theorems are used as a standard of achievement in proving 
   that every group of order pq (p < q, p not dividing q-1) is cyclic."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    sylow_theorems_group_theory,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SEARCHER FOR SIMPLE GROUPS - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Bound by the arithmetic constraints of $n_p$.
   WHEN: immediate - Every $n_p$ check that doesn't equal 1 is an "extraction" of failure.
   WHERE: constrained - Knowing the order but "strangled" by the divisibility rules.
   SCOPE: local - A specific integer order (e.g., trying to find a simple group of order 150).
   
   WHY THIS CLASSIFICATION:
   For an agent trying to construct a "Simple Group" (one with no normal 
   subgroups), the Sylow theorems act as a "Noose." They "strangle" most 
   candidate orders by proving that a normal subgroup *must* exist, 
   extracting the researcher's hope for simplicity through arithmetic logic.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sylow_theorems_group_theory,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(sylow_theorems_group_theory, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (Insights into Group Complexity)
   ========================================================================== */

:- begin_tests(sylow_theorems_tests).

test(subgroup_fate_variance) :-
    % Group Structure -> Mountain
    constraint_indexing:constraint_classification(sylow_theorems_group_theory, Type1, context(individual_powerless, immediate, trapped, local)),
    % Classifier -> Rope
    constraint_indexing:constraint_classification(sylow_theorems_group_theory, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(non_simplicity_noose_penalty) :-
    % A powerless searcher in a local context sees the congruency rule as a Noose.
    constraint_indexing:constraint_classification(sylow_theorems_group_theory, noose, context(individual_powerless, immediate, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(sylow_theorems_group_theory).

:- end_tests(sylow_theorems_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.15): 
 * Mathematical laws are non-coercive but "extract" possibilities. The 
 * "Sylow-Noose" effect is well known to students who find that 
 * $n_p \mid m$ and $n_p \equiv 1 \pmod p$ frequently force $n_p = 1$.
 * * 2. CLASSIFICATION: 
 * Sylow is the quintessential "Mountain" of abstract structure—local 
 * prime facts determine global group fate.
 * * 3. PERSPECTIVES:
 * Chose Group Element (Passive Subject), Professor (Tool User), and 
 * Searcher (Victim of Rigor) to show how a "gift" of knowledge can 
 * be a "trap" for creativity.
 */

% OMEGA IDENTIFICATION
omega_variable(
    sylow_existence_constructivity,
    "Does the existence of a Sylow subgroup (Mountain) provide an efficient algorithm to find it (Rope)?",
    resolution_mechanism("Verification of the complexity of the Cohen-Cannon-Lausch algorithm for various group classes."),
    impact("If Exponential: The Mountain is a Noose for computers. If Polynomial: It is a Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Hall Subgroups
 * Viability: Generalize Sylow for solvable groups (subgroups of order m, where m divides |G| and gcd(m, |G|/m)=1).
 * Status: A "Rope" used where Sylow is too restrictive, but "suppressed" by 
 * the requirement of solvability.
 * * ALTERNATIVE 2: Cauchy's Theorem
 * Viability: Guaranteed existence of an element (not subgroup) of order p.
 * Status: A "Scaffold" that Sylow theorems completely replaced and subsumed.
 * * CONCLUSION:
 * The dominance of Sylow as a "Mountain" is due to its universal 
 * applicability to *all* finite groups, unlike Hall subgroups.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [sylow_theorems_group_theory].
% Analyze: ?- constraint_indexing:multi_index_report(sylow_theorems_group_theory).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: tarski_undefinability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Alfred Tarski (1933) / Philosophy of Language and Logic
% ============================================================================

:- module(constraint_tarski_undefinability, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: tarski_undefinability
 * human_readable: Tarski's Undefinability Theorem
 * domain: technological/logic/mathematics
 * temporal_scope: Permanent (Universal Laws of Information)
 * spatial_scope: Global (Formal Languages)
 * * SUMMARY:
 * Tarski's Undefinability Theorem states that "truth" in a sufficiently powerful 
 * formal language cannot be defined within that same language. Any attempt to 
 * create a universal "Truth Predicate" for a language L within L itself results 
 * in a Liar-style paradox. This forces a hierarchy of languages where "Truth" 
 * for Language L can only be defined in a more expressive Meta-Language M.
 * * KEY AGENTS:
 * - The Foundationalist: Seeking a single, self-contained system of total truth.
 * - The System Architect: Designing multi-layered software or logical stacks.
 * - The Infinite Climber: An agent forced to move to higher meta-levels to 
 * achieve semantic clarity.
 * * NARRATIVE ARC:
 * The theorem functions as a hard ceiling (Mountain) for self-contained logic. 
 * To move forward, agents must build a "Rope" of meta-languages (Tarski's 
 * hierarchy). However, for those trapped in a single layer of reality with 
 * no "Meta" access, the theorem acts as a "Noose," making certain truths 
 * fundamentally unspeakable.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration and script extraction
narrative_ontology:interval(tarski_interval, 0, 10).
narrative_ontology:constraint_claim([tarski_undefinability], semantic_impossibility).

% Base extractiveness: 0.2 (Low)
% Rationale: It extracts "semantic closure" but doesn't steal resources.
% It forces energy into the creation of Meta-Levels.
domain_priors:base_extractiveness(tarski_undefinability, 0.2).

% Suppression score: 0.3 (Low-Moderate)
% Rationale: Alternatives (like paraconsistent logic) are visible but 
% the theorem remains a dominant boundary in classical logic.
domain_priors:suppression_score(tarski_undefinability, 0.3).

% Enforcement: Emerges naturally from the structure of formal syntax.
domain_priors:emerges_naturally(tarski_undefinability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(tarski_undefinability, extractiveness, 0.2).
narrative_ontology:constraint_metric(tarski_undefinability, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(tarski_undefinability, meta_language_architects).
constraint_victim(tarski_undefinability, [monistic_philosophers, self_contained_ai]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MATHEMATICIAN - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The objective observer of formal systems)
   WHEN: civilizational (Permanent mathematical reality)
   WHERE: trapped (Logic cannot bypass its own syntactic limits)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the mathematician, the theorem is a Mountain. It is an unchangeable peak 
   in the landscape of logic. You cannot "legislate" a truth predicate into a 
   language without breaking the law of non-contradiction. It is a physical 
   limit of information processing.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tarski_undefinability,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COMPILER ARCHITECT - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-making power over a software stack)
   WHEN: biographical (Achieving goals within a project lifetime)
   WHERE: arbitrage (Can move between language levels/stacks)
   SCOPE: national (The reach of their specific ecosystem)
   
   WHY THIS CLASSIFICATION:
   For the architect, the theorem is a Rope. It provides a coordination 
   mechanism for building secure systems. By separating the "Object Language" 
   (the code) from the "Meta-Language" (the compiler/type checker), they 
   can safely define correctness without risk of infinite recursion.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tarski_undefinability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE TRAPPED SUBJECT - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A subject inside a closed system)
   WHEN: immediate (Living within a single discursive frame)
   WHERE: trapped (Has no access to the "Meta" level)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For an agent trapped in a single system (like an AI with no external 
   sensors or a human in a totalizing ideology), the theorem is a Noose. 
   They can sense that "truth" exists but are syntactically barred from 
   defining it. The harder they try to ground their reality, the tighter 
   the paradoxes pull, leading to cognitive dissonance or systemic collapse.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tarski_undefinability,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(tarski_undefinability_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(tarski_undefinability, Type1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(tarski_undefinability, Type2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(tarski_undefinability, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_semantic_extraction) :-
    % Institutional actors (architects) extract utility by building meta-levels.
    % Powerless subjects suffer the inability to name their truth.
    domain_priors:base_extractiveness(tarski_undefinability, Score),
    Score < 0.3.

test(meta_level_arbitrage) :-
    % If you have arbitrage (access to Meta-Language), it's a Rope.
    constraint_indexing:constraint_classification(tarski_undefinability, rope, context(_, _, arbitrage, _)).

:- end_tests(tarski_undefinability_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Semantic undefinability doesn't "steal" wealth, but it does 
 * extract "Closure." It prevents a system from being self-contained, 
 * which is a low-level structural extraction.
 * * 2. SUPPRESSION SCORE (0.3):
 * Reasoning: Alternatives like Kripke's theory of truth or paraconsistent 
 * logics are known and studied, but Tarski's "hierarchy" remains the 
 * default "Mountain" for classical formalists.
 * * 3. PERSPECTIVE SELECTION:
 * The Analyst sees a Mountain (fact of logic).
 * The Architect sees a Rope (method for building levels).
 * The Subject sees a Noose (inability to resolve their own truth).
 * * 4. AMBIGUITIES:
 * - Resolved the "Noose" aspect by framing it as a linguistic trap for 
 * agents without "Meta-Expressivity."
 * * 5. CONFIDENCE:
 * High: Mathematical basis.
 * Medium: Extent to which "trapped subjects" feel this as a Noose.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    natural_language_meta_closure,
    "Is human 'Natural Language' the ultimate Meta-Language that can define its own truth, or is it merely one layer in an infinite hierarchy we cannot see?",
    resolution_mechanism("Discovery of a definitive Truth Predicate in linguistics that does not lead to paradox"),
    impact("If Closure: Tarski's Law is a Rope for AI but not for Humans. If Infinite: We are all trapped in a Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Paraconsistent Logic (Dialetheism)
 * Viability: Allows for some true contradictions, potentially defining 
 * truth within the same language.
 * Suppression: High. Mainstream mathematics views contradictions as 
 * systemic failure.
 * * ALTERNATIVE 2: Kripkean Truth (Fixed-point semantics)
 * Viability: Allows a truth predicate to be "partially" defined.
 * * CONCLUSION:
 * The existence of paraconsistent alternatives suggests Tarski's Theorem 
 * is a "Noose" used by classical logicians to enforce a specific 
 * hierarchical order of reality.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_tarski_undefinability].
 * 2. Multi-perspective: ?- multi_index_report(tarski_undefinability).
 * 3. Run tests: ?- run_tests(tarski_undefinability_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: three_body_unpredictability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Isaac Newton (1687) / Henri Poincaré (1887) / Celestial Mechanics
% ============================================================================

:- module(constraint_three_body, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: three_body_unpredictability
 * human_readable: The Three-Body Problem (Orbital Chaos)
 * domain: technological/scientific
 * temporal_scope: 1687 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Astrophysics)
 * * SUMMARY:
 * The Three-Body Problem involves calculating the motion of three celestial bodies 
 * interacting via gravity. Unlike the stable two-body system, the three-body 
 * system generally lacks a general closed-form solution and exhibits extreme 
 * sensitivity to initial conditions (chaos), rendering long-term trajectories 
 * uncomputable.
 * * KEY AGENTS:
 * - The Celestial Body (Subject): A powerless agent whose path is dictated by 
 * the intersection of two or more gravitational wells.
 * - The Orbital Engineer (Institutional): An agent who uses specific stable 
 * subsets (Lagrange points) as a "Rope" to station satellites.
 * - The Navigator/Predictor (Victim): An agent for whom the chaotic divergence 
 * acts as a "Noose," extracting the possibility of long-term survival or 
 * trajectory certainty.
 * * NARRATIVE ARC:
 * The Three-Body Problem is the "Mountain" of celestial mechanics; gravity is 
 * unyielding, yet its complexity prevents a total mapping. In space exploration, 
 * Lagrange points are the "Ropes" that allow for stable coordination. However, 
 * for a civilization living in a triple-star system, the lack of a stable 
 * "Mountain" of predictable seasons acts as a "Noose," extracting all 
 * developmental consistency and "strangling" the future with sudden, 
 * chaotic extinction events.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction
narrative_ontology:interval(celestial_mechanics_era, 1687, 2026).
narrative_ontology:constraint_claim(three_body_unpredictability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.4. It "extracts" the long-term utility of initial data. To 
% maintain any predictive "Rope," observers must constantly re-invest in 
% high-precision measurements, as the "Mountain" of gravity shreds 
% information over time.
domain_priors:base_extractiveness(three_body_unpredictability, 0.4).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the visibility of simple Newtonian 
% determinism in multi-body environments, rendering "clockwork universe" 
% narratives functionally fraudulent at scale.
domain_priors:suppression_score(three_body_unpredictability, 0.3).

% Enforcement: Emerges naturally from the non-linear feedback of gravity.
domain_priors:emerges_naturally(three_body_unpredictability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(three_body_unpredictability, extractiveness, 0.4).
narrative_ontology:constraint_metric(three_body_unpredictability, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(three_body_unpredictability, chaos_theorists).
constraint_beneficiary(three_body_unpredictability, n_body_simulators).
constraint_victim(three_body_unpredictability, long_term_navigators).
constraint_victim(three_body_unpredictability, triple_star_civilizations). % Absolute extraction of stability.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PLANET IN A TRIPLE-STAR SYSTEM - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The planet has zero agency; gravity is absolute.
   WHEN: immediate - True at every infinitesimal moment of the orbit.
   WHERE: trapped - Bound by the gravitational field.
   SCOPE: local - Immediate neighborhood of the current vector.
   
   WHY THIS CLASSIFICATION:
   For the planet, the gravitational pull of the three suns is an absolute 
   Mountain. It cannot "choose" a different path; its velocity and position 
   are dictated by a law that, while chaotic, is unyielding. The lack of 
   periodicity is a fixed geographic feature of its existence.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    three_body_unpredictability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SATELLITE ENGINEER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design orbits and place craft at Lagrange points.
   WHEN: biographical - Planning the 20-year lifespan of a telescope (e.g., JWST).
   WHERE: mobile - Can choose specific "islands of stability" in the system.
   SCOPE: national - Protecting state assets in space.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the Three-Body Problem provides "Ropes"—the Lagrange 
   points ($L_1$ to $L_5$). By understanding the "Mountain" of gravitational 
   interaction, they coordinate a standard of achievement by placing 
   sensors in specific points where forces balance, "pulling" the system 
   into a state of functional utility.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    three_body_unpredictability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INTERSTELLAR NAVIGATOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has agency to navigate but is bound by the chaos.
   WHEN: historical - Planning a multi-century journey through a star cluster.
   WHERE: constrained - No alternative but to navigate the non-linear field.
   SCOPE: global - Across the scale of the solar system or cluster.
   
   WHY THIS CLASSIFICATION:
   For the navigator, the Three-Body Problem is a "Noose." It "strangles" 
   long-term planning. Because errors grow exponentially, the system 
   extracts fuel and compute cycles (extraction) for constant course 
   corrections, "choking" the possibility of a fixed, pre-calculated 
   interstellar highway.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    three_body_unpredictability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(three_body_unpredictability, E),
    E >= 0.35,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(three_body_tests).

test(multi_perspective_variance) :-
    % Planet -> Mountain
    constraint_indexing:constraint_classification(three_body_unpredictability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Engineer -> Rope
    constraint_indexing:constraint_classification(three_body_unpredictability, Type2, context(institutional, biographical, mobile, national)),
    Type1 \= Type2.

test(navigation_extraction_penalty) :-
    % Navigators feel the extraction of certainty as a Noose.
    Context = context(individual_moderate, historical, constrained, global),
    constraint_indexing:extractiveness_for_agent(three_body_unpredictability, Context, Score),
    Score >= 0.4.

test(natural_emergence) :-
    domain_priors:emerges_naturally(three_body_unpredictability).

:- end_tests(three_body_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.4):
 * Reasoning: Chaos "extracts" information value. In a three-body system, 
 * the future state "taxes" the initial state at an exponential rate. 
 * High extractiveness for those seeking stability.
 * * 2. CLASSIFICATION RATIONALE:
 * - Planet (Mountain): The inevitable subject of physics.
 * - Engineer (Rope): Using Lagrange points to "tie" down utility.
 * - Navigator (Noose): Where unpredictability "chokes" the long-term mission.
 */

% OMEGA IDENTIFICATION
omega_variable(
    orbital_resonance_stability,
    "Is the 'Mountain' of chaos stable, or are there 'Ropes' (periodic orbits) that remain to be discovered?",
    resolution_mechanism("Numerical search for periodic solutions in the restricted three-body problem."),
    impact("If Yes: Navigators gain new Ropes. If No: The 'Noose' of chaos is total."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * * ALTERNATIVE 1: The Restricted Three-Body Problem
 * Viability: Assuming one mass is negligible (e.g., a satellite) makes the 
 * math more manageable (though still chaotic).
 * Suppression: Often presented as the "only" way to do practical engineering, 
 * suppressing the visibility of the "Full" three-body interaction.
 * * * ALTERNATIVE 2: Two-Body Approximation
 * Viability: Treating the Earth-Sun system as isolated.
 * Suppression: Replaced by the Three-Body "Mountain" because it leads to 
 * catastrophic drift in long-term models.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_three_body].
 * 2. Multi-perspective: ?- multi_index_report(three_body_unpredictability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: trade_secret_law
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Uniform Trade Secrets Act (UTSA) / Defend Trade Secrets Act (DTSA)
% ============================================================================

:- module(constraint_trade_secret, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: trade_secret_law
 * human_readable: Trade Secret Law (Information Ownership)
 * domain: legal/economic/technological
 * temporal_scope: Civilizational (Permanent feature of commerce)
 * spatial_scope: Global
 * * SUMMARY:
 * Trade Secret Law protects confidential business information (formulae, 
 * practices, designs, instruments, or patterns) that provides an enterprise 
 * a competitive advantage. It exists as long as the information remains 
 * secret and the owner takes reasonable steps to protect it.
 * * KEY AGENTS:
 * - The Information Owner: The firm that invested in the secret.
 * - The Departing Employee: The agent carrying "skills" (allowed) vs "secrets" (blocked).
 * - The Courts: The final arbiters of what constitutes "misappropriation."
 * * NARRATIVE ARC:
 * The constraint acts as a "Filtered Border." It allows agents to migrate 
 * across the labor market (Matching Market) but requires them to leave 
 * specific proprietary "objects" behind. It is a structural feature that 
 * theoretically balances innovation with individual mobility.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(trade_secret_law, 0, 10).
narrative_ontology:constraint_claim(trade_secret_law, intellectual_property_limit).

% Base extractiveness: Low (0.2).
% It protects the firm's investment without extracting the employee's 
% general right to work or earn a living.
domain_priors:base_extractiveness(trade_secret_law, 0.2).

% Suppression: Low (0.3).
% The rules are generally transparent, though the specific "secrets" 
% are (by definition) suppressed/hidden.
domain_priors:suppression_score(trade_secret_law, 0.3).

% Enforcement: Emerges naturally as a market norm and legal baseline.
domain_priors:emerges_naturally(trade_secret_law).

% Beneficiaries: R&D Intensive Firms (protecting investment).
constraint_beneficiary(trade_secret_law, innovative_enterprises).

% Victims: Industrial Spies / Unethical Competitors.
constraint_victim(trade_secret_law, bad_faith_actors).

% Metrics
narrative_ontology:constraint_metric(trade_secret_law, extractiveness, 0.2).
narrative_ontology:constraint_metric(trade_secret_law, suppression_requirement, 0.3).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ETHICAL ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the ethical professional, Trade Secret Law is a "Rope." It provides 
   clear boundaries that actually *enable* their mobility. Because the 
   law protects the secret, the employer feels safe hiring and training 
   the engineer, and the engineer knows exactly what they can and cannot 
   take with them to their next "Match."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trade_secret_law,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(trade_secret_law, E),
    E < 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE STARTUP FOUNDER - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: historical
   WHERE: arbitrage
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   A founder sees Trade Secret Law as a "Mountain"—a permanent feature 
   of the environment. They build their company's "moat" based on these 
   protections. It is an immutable law of the marketplace that allows 
   them to secure venture capital by proving their value is protected.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trade_secret_law,
    mountain,
    context(
        agent_power(individual_powerful),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ACCUSED WHISTLEBLOWER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   If a company uses "Trade Secret" claims to suppress a whistleblower 
   or block a departing employee's move through litigation, the law 
   becomes a "Noose." The high cost of legal defense and the ambiguity 
   of what constitutes a "secret" can strangle the individual's 
   career and mobility.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trade_secret_law,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(trade_secret_law, S),
    S > 0.2,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(trade_secret_tests).

test(mobility_preservation) :-
    % Testing that Trade Secret Law (unlike Non-Competes) allows for mobility.
    constraint_indexing:constraint_classification(trade_secret_law, rope, context(_, _, mobile, _)).

test(misuse_case) :-
    % Testing that for 'trapped' agents in litigation, it functions as a Noose.
    constraint_indexing:constraint_classification(trade_secret_law, noose, context(individual_powerless, _, trapped, _)).

:- end_tests(trade_secret_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * I set extractiveness low (0.2) because the law targets information, 
 * not people. It is a "cleaner" constraint than the Non-Compete. 
 * However, the "Noose" classification is necessary to acknowledge 
 * how the law is often weaponized in "tactical litigation."
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    inevitable_disclosure_drift,
    "Will courts increasingly use 'Inevitable Disclosure' to treat Trade Secret Law as a de-facto Non-Compete?",
    resolution_mechanism("Monitoring case law trends in states like New York vs California"),
    impact("If Yes: The 'Mountain' turns into a 'Noose' for all high-skill labor."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: tragedy_of_the_commons
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Economic Theory / Garrett Hardin (1968)
% ============================================================================

:- module(constraint_tragedy_of_the_commons, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: tragedy_of_the_commons
 * human_readable: The Tragedy of the Commons
 * domain: economic/social
 * temporal_scope: Historical to Future
 * spatial_scope: Local to Global
 * * SUMMARY:
 * A situation where individual users, acting independently according to their 
 * own self-interest, behave contrary to the common good of all users by 
 * depleting or spoiling a shared resource through their collective action. 
 * The constraint is the mathematical inevitability of ruin in an unregulated 
 * commons with rational actors.
 * * KEY AGENTS:
 * - The Individual Herder: Seeks to maximize private gain by adding livestock.
 * - The Regulatory Body: Seeks to enforce limits to preserve the resource.
 * - The Future Generation: The silent victim of current resource depletion.
 * * NARRATIVE ARC:
 * The constraint functions as a "logic of ruin." Without a change in the 
 * structure of the game (privatization or "mutual coercion, mutually agreed 
 * upon"), the system trends toward total collapse.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(commons_interval, 0, 10).
narrative_ontology:constraint_claim([tragedy_of_the_commons], economic_necessity).

% Base extractiveness: 0.7 (High)
% Rationale: The individual extracts 100% of the benefit of an extra unit of 
% use, while the cost (depletion) is shared among all participants.
domain_priors:base_extractiveness(tragedy_of_the_commons, 0.7).

% Suppression score: 0.4 (Moderate)
% Rationale: While alternatives (Ostrom-style collective management) exist, 
% the "logic of ruin" often suppresses cooperation by rewarding defectors 
% in the short term.
domain_priors:suppression_score(tragedy_of_the_commons, 0.4).

% Enforcement requirements: Emerges naturally from uncoordinated rational self-interest.
domain_priors:emerges_naturally(tragedy_of_the_commons).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(tragedy_of_the_commons, extractiveness, 0.7).
narrative_ontology:constraint_metric(tragedy_of_the_commons, suppression_requirement, 0.4).

% Beneficiaries: The "First Mover" or the aggressive defector.
constraint_beneficiary(tragedy_of_the_commons, aggressive_defector).

% Victims: The collective community and future users.
constraint_victim(tragedy_of_the_commons, collective_community).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ANALYTIC OBSERVER - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: Analytical/Scientific power (Game Theorist).
   WHEN: Historical/Generational (Viewing the long-term trend).
   WHERE: Trapped (Mathematics of the payoff matrix is fixed).
   SCOPE: Global.
   
   WHY THIS CLASSIFICATION:
   From a game-theoretic perspective, the tragedy is a Mountain. The Nash 
   Equilibrium is a structural feature of the payoff matrix; it is a 
   mathematical law that rational actors will over-consume unless the 
   game itself is fundamentally altered.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tragedy_of_the_commons,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COMMUNITY MEMBER (Ostrom-style) - ROPE
   --------------------------------------------------------------------------
   WHO: Collective Organized (A group with high social capital).
   WHEN: Biographical (Lifetime of the resource).
   WHERE: Mobile/Arbitrage (Can create local rules/sanctions).
   SCOPE: Local.
   
   WHY THIS CLASSIFICATION:
   In a high-trust local community, the tragedy is a Rope. It is a coordination 
   challenge that is solved through social norms, mutual monitoring, and 
   graduated sanctions. It is a tool for sustainable living rather than 
   an inevitable doom.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tragedy_of_the_commons,
    rope,
    context(
        agent_power(collective_organized),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SUBSISTENCE USER - NOOSE
   --------------------------------------------------------------------------
   WHO: Individual Powerless (Desperate actor).
   WHEN: Immediate (Need to eat today).
   WHERE: Trapped (No alternative resource).
   SCOPE: Regional.
   
   WHY THIS CLASSIFICATION:
   For a person with no other options, the tragedy is a Noose. They are forced 
   by the structure of the system to participate in the destruction of the 
   very resource they rely on. Every extra animal they add slightly hastens 
   their eventual starvation, but failing to add it guarantees starvation today.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tragedy_of_the_commons,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(regional)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(tragedy_of_the_commons_tests).

test(multi_perspective_variance) :-
    % Verify that different agent types see different constraint types
    constraint_indexing:constraint_classification(tragedy_of_the_commons, Type1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(tragedy_of_the_commons, Type2, context(agent_power(collective_organized), _, _, _)),
    constraint_indexing:constraint_classification(tragedy_of_the_commons, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    % The "powerless" suffer higher impact because they lack exit options.
    domain_priors:base_extractiveness(tragedy_of_the_commons, Score),
    Score > 0.5.

test(time_immutability) :-
    % Short-term desperation (immediate) makes it a Noose/Mountain; 
    % Long-term civilizational management treats it as a Rope to be tuned.
    constraint_indexing:constraint_classification(tragedy_of_the_commons, mountain, context(_, generational, trapped, _)).

:- end_tests(tragedy_of_the_commons_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.7):
 * The "extraction" here is the privatization of profit and the socialization 
 * of cost. It is a highly asymmetric mechanism for value transfer from 
 * the group to the individual.
 * * 2. PERSPECTIVE SELECTION:
 * Included the 'Collective Organized' perspective to acknowledge Elinor 
 * Ostrom's work, which demonstrates that the tragedy is NOT a Mountain 
 * at the local scale if social capital exists.
 * * 3. CLASSIFICATION RATIONALE:
 * - Analytical -> Mountain: The math of the Prisoner's Dilemma doesn't change.
 * - Collective -> Rope: The "Tragedy" is just a coordination failure that 
 * can be engineered around.
 * - Individual Powerless -> Noose: Desperation removes the "choice" to 
 * be sustainable.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    human_cooperation_limit,
    "Can human cooperative norms scale to global spatial_scope without institutional hierarchy?",
    resolution_mechanism("Observation of global climate agreements and their enforcement rates"),
    impact("If Yes: Global commons are a Rope. If No: Global commons are a Mountain (Hardin's view)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Private Property Rights
 * Viability: High (The standard capitalist solution).
 * Suppression: Low.
 * * ALTERNATIVE 2: Ostrom's Common Pool Resource (CPR) Management
 * Viability: High (Empirically proven in small/medium groups).
 * Suppression: Moderate (Often ignored by centralized state bureaucracies 
 * who prefer top-down control or total privatization).
 * * CONCLUSION:
 * The existence of Alternative 2 (CPR Management) means that the "Tragedy" 
 * is only a Mountain if one assumes agents are isolated/incapable of 
 * communication. If communication is possible, it shifts toward a Rope.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_tragedy_of_the_commons].
 * multi_index_report(tragedy_of_the_commons).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: traveling_salesperson_problem
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Combinatorial Optimization / Complexity Theory / Operations Research
% ============================================================================

:- module(constraint_tsp, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: traveling_salesperson_problem
 * human_readable: Traveling Salesperson Problem (TSP)
 * domain: economic/technological/mathematical
 * temporal_scope: Immediate to Historical
 * spatial_scope: Regional to Global
 * * SUMMARY:
 * TSP is an optimization problem: given a list of cities and the distances 
 * between each pair, what is the shortest possible route that visits each 
 * city exactly once and returns to the origin city? It is NP-hard.
 * * KEY AGENTS:
 * - The Courier: The agent facing the physical exhaustion of the route.
 * - The Logistics Algorithm: The "Institutional" force attempting to solve 
 * the path to minimize fuel/time costs.
 * - The Market: The force that extracts profit based on the efficiency 
 * (or failure) of the solution.
 * * NARRATIVE ARC:
 * TSP is the "Efficiency Ceiling." For a small set of nodes, it is a 
 * navigable Rope. However, as the network expands, the search space 
 * explodes, creating a computational Noose that drains resources. It 
 * eventually settles as a Mountain of irreducible cost—the "minimum price" 
 * nature demands for connectivity.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(traveling_salesperson_problem, 0, 10).
narrative_ontology:constraint_claim(traveling_salesperson_problem, optimization_limit).

% Base extractiveness score (0.4)
% High because every suboptimal mile "extracts" real-world energy (fuel, labor) 
% that cannot be recovered.
domain_priors:base_extractiveness(traveling_salesperson_problem, 0.4).

% Suppression score (0.2)
% The "costs" of the edges (distances/prices) are usually visible, 
% making the constraint highly transparent but unavoidable.
domain_priors:suppression_score(traveling_salesperson_problem, 0.2).

% Enforcement: Emerges naturally from physical distance and finite time.
domain_priors:emerges_naturally(traveling_salesperson_problem).

% Metrics
narrative_ontology:constraint_metric(traveling_salesperson_problem, extractiveness, 0.4).
narrative_ontology:constraint_metric(traveling_salesperson_problem, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(traveling_salesperson_problem, efficient_monopolies).
constraint_victim(traveling_salesperson_problem, small_scale_logistics).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DELIVERY DRIVER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped (must follow the optimized route to meet performance KPIs)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a driver, TSP is a "Noose." The algorithm's search for the absolute 
   minimum path often ignores human factors (fatigue, traffic, bathroom breaks). 
   The mathematical "optimum" becomes a punitive standard they are 
   strangled by during their shift.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    traveling_salesperson_problem,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(traveling_salesperson_problem, E),
    E > 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE NETWORK ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional/individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   To the engineer, TSP is a "Rope." It is a tool to coordinate resources. 
   By using heuristics (like the "Nearest Neighbor" or "Ant Colony" 
   optimization), they can navigate the complexity to create a functional, 
   profitable system.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    traveling_salesperson_problem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PHYSICIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The physicist sees TSP as a "Mountain" of entropy and energy. 
   The minimum energy state required to traverse a network is a 
   fundamental physical reality. It is a boundary of the universe that 
   dictates the limits of all physical transport.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    traveling_salesperson_problem,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(traveling_salesperson_problem),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(tsp_tests).

test(algorithmic_pressure) :-
    % Testing that trapped agents feel the Noose of optimization.
    constraint_indexing:constraint_classification(traveling_salesperson_problem, noose, context(_, _, trapped, _)).

test(heuristic_utility) :-
    % Testing that institutional agents use TSP as a Rope for coordination.
    constraint_indexing:constraint_classification(traveling_salesperson_problem, rope, context(institutional, _, _, _)).

:- end_tests(tsp_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * TSP is the "Economic version" of the Hamiltonian Path. I increased 
 * extractiveness to 0.4 because in the real world, a bad TSP solution 
 * wastes real money and fuel. It's not just a puzzle; it's a drain.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    quantum_optimization_breakthrough,
    "Will quantum annealing (e.g., D-Wave) provide near-instant optimal TSP solutions?",
    resolution_mechanism("Benchmarking quantum annealers against classical heuristics on $N>1000$ nodes"),
    impact("If Yes: The Noose for logistics firms vanishes. The Mountain is bypassed by a 'Tunnel'."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: trump_making_china_great_2026
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Policy Brief - How Trump is Making China Great Again (ECFR, Jan 2026)
% ============================================================================

:- module(trump_making_china_great_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    constraint_indexing:extractiveness_for_agent/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: trump_making_china_great_2026
 * human_readable: The Trumpian Post-Western Order
 * domain: political/economic/geopolitical
 * temporal_scope: 2025-2030 (Immediate to Biographical)
 * spatial_scope: Global (Multipolar focus)
 * * SUMMARY:
 * The return of Donald Trump has accelerated a shift from a US-led liberal 
 * international order to a multipolar "post-Western" world. This transition 
 * acts as a constraint on European security and US global affinity while 
 * expanding the agency of "middle powers" and China.
 * * KEY AGENTS:
 * - [cite_start]The Trump Administration: The "Normal Great Power" agent, transactional and predatory[cite: 650].
 * - [cite_start]European Public/Leaders: The "Axis of Pessimists," feeling trapped by Russian aggression and US unreliability[cite: 14, 865].
 * - [cite_start]Middle Powers (India/Brazil/South Africa): The "Pole-Hoppers," viewing multipolarity as an opportunity for strategic arbitrage[cite: 709, 710].
 * - [cite_start]China: The "Rising Pole," increasingly viewed as a necessary partner or ally[cite: 8, 40].
 * * NARRATIVE ARC:
 * The US moves from being a "Liberal Leviathan" (Rope for allies) to a transactional 
 * great power (Noose for allies, Rope for middle powers). This forces a 
 * [cite_start]"geopolitical awakening" in Europe as the Pax Americana ends[cite: 1360].
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(post_trump_return, 2025, 2026).
narrative_ontology:constraint_claim(trump_making_china_great_2026, noose).

% Base extractiveness: 0.65
% Rationale: Trump's "America First" approach is explicitly transactional and 
[cite_start]% predatory[cite: 20, 23]. [cite_start]Tariffs and "seizure of Greenland" threats imply high extraction[cite: 756, 1352].
domain_priors:base_extractiveness(trump_making_china_great_2026, 0.65).

% Suppression: 0.40
% Rationale: Alternatives (liberal order) are visible but being dismantled. 
[cite_start]% Transactionalism is the new "normal"[cite: 650].
domain_priors:suppression_score(trump_making_china_great_2026, 0.40).

% Enforcement: Requires active maintenance (tariffs, summits, intervention in Venezuela)
domain_priors:requires_active_enforcement(trump_making_china_great_2026).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(trump_making_china_great_2026, extractiveness, 0.65).
narrative_ontology:constraint_metric(trump_making_china_great_2026, suppression_requirement, 0.40).

% Beneficiaries & Victims
constraint_beneficiary(trump_making_china_great_2026, china).
constraint_beneficiary(trump_making_china_great_2026, multipolar_middle_powers).
constraint_victim(trump_making_china_great_2026, european_union).
constraint_victim(trump_making_china_great_2026, liberal_internationalists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EUROPEAN CITIZEN - Noose
   --------------------------------------------------------------------------
   [cite_start]WHO: individual_powerless - Feeling vulnerable to external superpowers[cite: 14].
   [cite_start]WHEN: immediate - Focused on current threats (Russia, nuclear war)[cite: 1291].
   [cite_start]WHERE: trapped - US no longer a reliable ally, but Europe lacks its own deterrent[cite: 27, 1244].
   [cite_start]SCOPE: continental - Concerned with European war and security[cite: 1291].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trump_making_china_great_2026,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(continental)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE INDIAN/BRAZILIAN DIPLOMAT - Rope
   --------------------------------------------------------------------------
   [cite_start]WHO: institutional - Middle-power state agency[cite: 709].
   [cite_start]WHEN: biographical - Planning development over the next decade[cite: 8].
   [cite_start]WHERE: arbitrage - Ability to play US and China against each other[cite: 710, 713].
   [cite_start]SCOPE: global - Moving between poles as they wish[cite: 710].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trump_making_china_great_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER (ECFR) - Mountain
   --------------------------------------------------------------------------
   [cite_start]WHO: analytical - Researchers documenting a structural shift[cite: 6].
   [cite_start]WHEN: historical - Comparing current era to the post-1945 order[cite: 650].
   WHERE: analytical - Observing from outside the immediate policy desperation.
   [cite_start]SCOPE: global - Surveying 21 countries[cite: 28].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trump_making_china_great_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(trump_china_great_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(trump_making_china_great_2026, Type1, context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(continental))),
    constraint_indexing:constraint_classification(trump_making_china_great_2026, Type2, context(agent_power(institutional), time_horizon(biographical), exit_options(arbitrage), spatial_scope(global))),
    Type1 = noose,
    Type2 = rope.

test(geopolitical_arbitrage_efficiency) :-
    % Middle powers see less extraction because they have exit options (arbitrage)
    ContextEurope = context(individual_powerless, immediate, trapped, continental),
    ContextIndia = context(institutional, biographical, arbitrage, global),
    constraint_indexing:extractiveness_for_agent(trump_making_china_great_2026, ContextEurope, Score1),
    constraint_indexing:extractiveness_for_agent(trump_making_china_great_2026, ContextIndia, Score2),
    Score1 > Score2.

test(us_unreliability_effect) :-
    % Europeans view US unreliability as a hard constraint (Noose/Mountain)
    constraint_indexing:constraint_classification(trump_making_china_great_2026, noose, context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(continental))).

:- end_tests(trump_china_great_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.65):
 * [cite_start]The document paints a picture of a "predatory" US [cite: 23] and "asymmetric" 
 * [cite_start]threats (Greenland)[cite: 1352]. However, it isn't 1.0 because middle powers 
 * [cite_start]can still extract benefits by trading poles[cite: 710].
 * * 2. SUPPRESSION SCORE (0.40):
 * [cite_start]The liberal order isn't invisible—it's just being "disavowed"[cite: 21]. 
 * The shift is visible and being actively analyzed by think tanks like ECFR.
 * * 3. PERSPECTIVE SELECTION:
 * - European Citizen: Represents the "victim" of the shift (Noose).
 * - Middle-Power Diplomat: Represents the "beneficiary" of multipolarity (Rope).
 * - ECFR Researcher: Represents the "analytical" view of the Mountain.
 * * 4. AMBIGUITIES:
 * - [cite_start]The document suggests "expectations of Trump are lower than 12 months ago" [cite: 10] 
 * [cite_start]but also that substantial numbers believe he successfully "defended America's interests"[cite: 649].
 * I resolved this by noting the "Normal Great Power" transition—it's a Noose for allies 
 * but a successful Rope for the US electorate.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    european_nuclear_deterrent,
    "Will Europe successfully develop an alternative nuclear deterrent independent of the US?",
    resolution_mechanism("Track PESCO/EU-defense spending and French/UK nuclear policy shifts through 2030."),
    impact("If Yes: Europe becomes a 'Pole' (Rope). If No: Europe remains 'trapped' in the US Noose."),
    confidence_without_resolution(medium)
).

omega_variable(
    venezuela_intervention_effect,
    "Does the Venezuela intervention solidify a 'Spheres of Influence' model as the global standard?",
    resolution_mechanism("Monitor Chinese/Russian naval and military deployments in their respective 'near abroad' over the next 2 years."),
    impact("If Yes: Multipolarity becomes a 'Mountain' (hard law). If No: It remains a transactional 'Rope'."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Transatlantic Liberal Order (Biden-era)
 * [cite_start]Viability: The status quo until 2024.[cite: 1036, 1037].
 * [cite_start]Suppression: Actively disavowed by Trump's "America First"[cite: 20, 21].
 * [cite_start]Evidence: "Donald Trump did not go into politics to make China great again... his aggressive 'America First' approach was driving people closer to China."[cite: 17, 20].
 * * CONCLUSION:
 * The fact that a once-stable "Rope" (NATO/Liberal Order) has been transformed 
 * into a "Noose" or discarded entirely by the current US administration is 
 * what characterizes the 2026 geopolitical environment.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% TO USE:
% ?- [trump_making_china_great_2026].
% ?- run_tests(trump_china_great_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: trump_second_term_authoritarianism_2026
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Opinion Column by M. Gessen, NYT, Jan 18, 2026
% ============================================================================

:- module(trump_authoritarianism_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: trump_authoritarianism_2026
 * human_readable: Electoral Authoritarianism (Trump II)
 * domain: political/legal/social
 * temporal_scope: 2025-2026 (Active/Emergent)
 * spatial_scope: National (United States)
 * * SUMMARY:
 * A year into Donald Trump’s second term, the U.S. is described as transitioning 
 * into "electoral authoritarianism." The constraint operates through the 
 * normalization of paramilitary force (ICE/Alligator Alcatraz), the summary 
 * execution of protesters (Renee Good), and the dismantling of democratic 
 * infrastructure (elections, media, universities).
 * * KEY AGENTS:
 * - The Administration (Trump/Vance): Institutional rule-makers using paramilitary forces and regulatory pressure.
 * - The Citizen/Protester (Renee Good/Gessen): Individuals whose "mental calculus" is altered by fear and state violence.
 * - Civil Society (Lawyers/Universities/Media): Decreasingly effective buffers against institutional overreach.
 * * NARRATIVE ARC:
 * The "walls are closing in." Freedom, once a "Rope" for societal coordination, 
 * is being replaced by a "Noose" of coercive surveillance and violence. 
 * What was once "Mountain-like" (the durability of democracy) is revealed 
 * as a "Scaffold" being rapidly dismantled.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(trump_ii_year_one, 2025, 2026).
narrative_ontology:constraint_claim(trump_authoritarianism_2026, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: High extraction of safety and civil liberties; "bribes" ($2,000 checks) 
% used to maintain compliance while seizing absolute power.
domain_priors:base_extractiveness(trump_authoritarianism_2026, 0.85).

% Suppression score (0.0-1.0)
% Rationale: Extreme suppression of protest (execution) and media independence 
% (lawsuits/Pentagon exclusion). Alternatives are being made "impossible."
domain_priors:suppression_score(trump_authoritarianism_2026, 0.90).

% Enforcement requirements
% Requires active maintenance via paramilitary deployment and judicial appointments.
domain_priors:requires_active_enforcement(trump_authoritarianism_2026).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(trump_authoritarianism_2026, extractiveness, 0.85).
narrative_ontology:constraint_metric(trump_authoritarianism_2026, suppression_requirement, 0.90).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(trump_authoritarianism_2026, trump_administration).
constraint_beneficiary(trump_authoritarianism_2026, loyalist_media_influencers).
constraint_victim(trump_authoritarianism_2026, political_protesters).
constraint_victim(trump_authoritarianism_2026, independent_media).
constraint_victim(trump_authoritarianism_2026, university_researchers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PROTESTER (Renee Good/Mental Calculus) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to "summary execution" and state violence.
   WHEN: immediate - Every protest involves a "mental calculus" of survival.
   WHERE: trapped - Paramilitary forces hunt people in "apartments, city streets."
   SCOPE: local - Immediate physical safety in cities like Minneapolis.
   
   WHY THIS CLASSIFICATION:
   For the protester, the state is no longer a neutral arbiter but a coercive 
   Noose. The penalty for dissent has shifted from legal to lethal.
   
   NARRATIVE EVIDENCE:
   "The execution of Renee Good has surely affected every potential protester’s 
   [cite_start]mental calculus." [cite: 1]
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trump_authoritarianism_2026,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE INSTITUTIONAL LOYALIST (Loyal Media/Influencers) - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Gains access by conforming to new rules.
   WHEN: biographical - Seeking career advancement in a "Trump-friendly" era.
   WHERE: mobile - Legacy media "kicked out," but loyalists are "replacing them."
   SCOPE: national - Shaping the national discourse.
   
   WHY THIS CLASSIFICATION:
   For those who align with the administration, the new order is a beneficial 
   coordination mechanism (Rope) that provides "reapportioned access" and 
   influence.
   
   NARRATIVE EVIDENCE:
   "replacing them with loyal journalists and influencers... CBS is rapidly 
   [cite_start]transforming itself into a Trump-friendly network." [cite: 1]
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trump_authoritarianism_2026,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER (M. Gessen) - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Comparing current events to autocratic patterns (Russia/Hungary).
   WHEN: historical - Viewing 2026 as a pivotal shift in the American story.
   WHERE: constrained - Living in a country where "normalizing" is the default.
   SCOPE: global - Placing the U.S. in the context of global autocracies.
   
   WHY THIS CLASSIFICATION:
   From an analytical perspective, the transition to "electoral authoritarianism" 
   appears as an inevitable structural closure (Mountain). The "space is 
   imploding" and the "walls are closing in."
   
   NARRATIVE EVIDENCE:
   "Ask anyone who has lived in a country that became an autocracy... some version 
   [cite_start]of a story about walls closing in on them." [cite: 1]
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    trump_authoritarianism_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(trump_authoritarianism_2026_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(trump_authoritarianism_2026, Type1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(trump_authoritarianism_2026, Type2, context(individual_moderate, biographical, mobile, national)),
    constraint_indexing:constraint_classification(trump_authoritarianism_2026, Type3, context(analytical, historical, constrained, global)),
    Type1 = noose,
    Type2 = rope,
    Type3 = mountain.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(trump_authoritarianism_2026, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(trump_authoritarianism_2026, ContextPowerful, Score2),
    Score1 > Score2.

:- end_tests(trump_authoritarianism_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.85):
 * The source highlights systematic extraction of liberty ("concentration 
 * camps," "disappeared") and truth ("proudly ignorant," "assaulting museums").
 * The "bribe" of $2,000 checks confirms the extractive nature—buying 
 * [cite_start]compliance with the subject's own future resources. [cite: 1]
 * * 2. SUPPRESSION SCORE (0.90):
 * Suppression is explicit: lethal force against protesters, frivolous 
 * lawsuits against media, and "reapportioning access" to exclude legacy 
 * outlets. [cite_start]Alternatives are effectively "imploding." [cite: 1]
 * * 3. OMEGAS:
 * There is irreducible uncertainty regarding the 2026 midterms and the 
 * willingness of Trump to "cancel the vote."
 */

omega_variable(
    midterm_2026_integrity,
    "How free and fair will the 2026 elections be under systematically restrictive executive actions?",
    resolution_mechanism("Monitor the ratio of purged voters to actual turnout and the prevalence of military deployment on election day."),
    impact("If Mountain: The transition to electoral authoritarianism is complete. If Rope: Resistance is still viable."),
    confidence_without_resolution(low)
).

omega_variable(
    lethal_deterrence_threshold,
    "Will the 'lethal mental calculus' of the Renee Good execution permanently suppress mass protest?",
    resolution_mechanism("Compare mass protest turnout levels post-Jan 7 vs previous high-water marks (e.g., 2020)."),
    impact("If Noose: Public space is effectively dead. If Rope: Movement adapts to paramilitary conditions."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Robust Civil Society Resistance
 * [cite_start]Viability: Lawyers and citizens are still organizing ("The lawyers have fought..."). [cite: 1]
 * [cite_start]Suppression: "Assault on the judiciary" and "threats against nonprofits" have already altered their function. [cite: 1]
 * * ALTERNATIVE 2: Free and Fair Elections
 * Viability: The primary democratic mechanism for change.
 * [cite_start]Suppression: Trump is "laying the groundwork" for systematic intimidation and cancelling the vote. [cite: 1]
 * * CONCLUSION:
 * The active suppression of these alternatives shifts the American order from 
 * a coordination Rope to a coercive Noose.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [trump_authoritarianism_2026].
% Report: ?- constraint_indexing:multi_index_report(trump_authoritarianism_2026).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: udhr_1948
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Universal Declaration of Human Rights (1948)
% ============================================================================

:- module(constraint_udhr_1948, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    constraint_indexing:extractiveness_for_agent/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: udhr_1948
 * human_readable: Universal Declaration of Human Rights
 * domain: political/legal/social
 * temporal_scope: 1948 - Present (Civilizational aspiration)
 * spatial_scope: Global
 * * SUMMARY:
 * The UDHR is a foundational international document establishing "inalienable" 
 * rights for all humans. It serves as a "common standard of achievement" to 
 * prevent "barbarous acts" and provide a framework for freedom, justice, and peace.
 * * KEY AGENTS:
 * - The UN General Assembly: Institutional architect and rule-maker.
 * - The Individual Citizen: The intended beneficiary, often powerless relative to states.
 * - The Sovereign State: The primary enforcer and potential violator of the constraint.
 * * NARRATIVE ARC:
 * Born from the horrors of WWII, the UDHR moves from a proclamation of "natural law"
 * (Mountain) to a functional treaty framework (Rope), though it is often experienced
 * as a coercive limit (Noose) by states or a distant, unreachble ideal (Mountain)
 * by the oppressed.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(un_era, 1948, 2026).
narrative_ontology:constraint_claim(udhr_1948, rope).

% Base extractiveness: 0.1
% Rationale: The UDHR is designed to be anti-extractive, returning agency to 
% individuals. However, minimal "extraction" exists in the form of states 
% yielding absolute sovereignty to the international order.
domain_priors:base_extractiveness(udhr_1948, 0.1).

% Suppression score: 0.2
% Rationale: It suppresses "tyranny and oppression" but encourages the visibility 
% of alternatives to authoritarianism. It presents itself as "natural."
domain_priors:suppression_score(udhr_1948, 0.2).

% Enforcement: Requires active maintenance through treaties and international pressure.
domain_priors:requires_active_enforcement(udhr_1948).

% Beneficiaries & Victims
constraint_beneficiary(udhr_1948, human_family).
constraint_beneficiary(udhr_1948, individual_citizens).
constraint_victim(udhr_1948, totalitarians).
constraint_victim(udhr_1948, absolute_monarchs).

% Metrics
narrative_ontology:constraint_metric(udhr_1948, extractiveness, 0.1).
narrative_ontology:constraint_metric(udhr_1948, suppression_requirement, 0.2).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DISPOSSESSED REFUGEE - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - No state protection, relying on "inherent" rights.
   WHEN: biographical - Their immediate survival depends on these "eternal" truths.
   WHERE: trapped - Often physically or legally unable to exit their situation.
   SCOPE: local/global - Focused on immediate safety via global principles.
   
   WHY THIS CLASSIFICATION:
   For the powerless, the UDHR is framed as "natural law" (born free and equal). 
   Because they cannot change the declaration and rely on its "inalienable" 
   status to survive, it functions as an unchangeable Mountain of reality.
   
   NARRATIVE EVIDENCE:
   "All human beings are born free and equal... endowed with reason and conscience." (Article 1)
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    udhr_1948,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE UN GENERAL ASSEMBLY - Rope
   --------------------------------------------------------------------------
   WHO: institutional - The collective power of member states.
   WHEN: civilizational - Looking at the long-term progress of humanity.
   WHERE: mobile - States can negotiate, draft, and amend treaties.
   SCOPE: global - Worldwide jurisdiction of the declaration.
   
   WHY THIS CLASSIFICATION:
   To the UN, the UDHR is a "common standard of achievement" (Article 1). It is 
   a coordination mechanism (Rope) designed to promote "social progress" and 
   "friendly relations between nations." It is a tool for functional harmony.
   
   NARRATIVE EVIDENCE:
   "A common understanding... is of the greatest importance for the full realization of this pledge." (Preamble)
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    udhr_1948,
    rope,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE AUTHORITARIAN REGIME - Noose
   --------------------------------------------------------------------------
   WHO: institutional (local) - Power over a specific territory.
   WHEN: immediate - Focused on maintaining current control.
   WHERE: constrained - Subject to international sanctions/pressure if they fail.
   SCOPE: national - Their power is limited by these international standards.
   
   WHY THIS CLASSIFICATION:
   For a regime seeking absolute control, the UDHR is an asymmetric constraint 
   imposed by an external collective (UN). It restricts their "sovereign right" 
   to suppress dissent, acting as a Noose that tightens via international law.
   
   NARRATIVE EVIDENCE:
   "No one shall be subjected to arbitrary arrest... Everyone has the right to leave any country." (Articles 9, 13)
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    udhr_1948,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(udhr_1948, E),
    E < 0.2. % Even low extraction is seen as coercive by those losing power.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(udhr_1948_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(udhr_1948, Type1, context(agent_power(individual_powerless), time_horizon(biographical), exit_options(trapped), spatial_scope(global))),
    constraint_indexing:constraint_classification(udhr_1948, Type2, context(agent_power(institutional), time_horizon(civil_horizon), exit_options(mobile), spatial_scope(global))),
    Type1 = mountain,
    Type2 = rope.

test(regime_noose_perception) :-
    constraint_indexing:constraint_classification(udhr_1948, noose, context(agent_power(institutional), time_horizon(immediate), exit_options(constrained), spatial_scope(national))).

test(low_extractiveness_baseline) :-
    domain_priors:base_extractiveness(udhr_1948, E),
    E < 0.3.

:- end_tests(udhr_1948_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.1): The UDHR is a "gift" of rights, but it extracts 
 * sovereignty from states.
 * 2. PERSPECTIVE SELECTION: Included the 'Dispossessed Refugee' (Powerless) 
 * to highlight the 'Mountain' aspect of natural law vs. the 'UN' (Institutional) 
 * 'Rope' of administrative coordination.
 * 3. CLASSIFICATION RATIONALE:
 * - Refugee -> Mountain: Because rights are declared "inalienable," they are
 * treated as fixed features of the universe.
 * - UN -> Rope: Because the document is a "standard of achievement" (a goal/tool).
 * - Authoritarian -> Noose: Because it limits the exercise of absolute power.
 * * AMBIGUITIES:
 * - The transition from a non-binding "Declaration" to binding "Covenants" (1966)
 * blurs the line between Rope and Noose. I kept the focus on the 1948 Declaration.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    enforcement_gap,
    "Is a right a 'Mountain' if there is no mechanism to enforce it?",
    resolution_mechanism("Observe correlation between UDHR citations and actual reduction in state violence."),
    impact("If no correlation: UDHR is a 'Scaffold' (hollow). If high: it is a true 'Mountain'."),
    confidence_without_resolution(medium)
).

omega_variable(
    universal_consensus,
    "Is the UDHR truly universal (Mountain) or a western liberal construct (Rope/Noose)?",
    resolution_mechanism("Cross-cultural longitudinal survey of value alignment across non-Western states."),
    impact("If Western only: Noose for non-Western states. If Universal: Mountain for humanity."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Westphalian Sovereignty (Absolute)
 * Viability: The status quo prior to 1948.
 * Suppression: Explicitly rejected by the UDHR's preamble ("barbarous acts").
 * Evidence: "It is essential... human rights should be protected by the rule of law."
 * * ALTERNATIVE 2: Regional/Religious Rights Codes
 * Viability: Cairo Declaration on Human Rights in Islam, etc.
 * Suppression: UDHR claims "universal" and "without distinction" status.
 * * CONCLUSION:
 * The presence of these alternatives, which the UDHR seeks to supersede or 
 * coordinate, confirms its role as a Rope/Noose depending on power level.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% TO USE:
% ?- [udhr_1948].
% ?- run_tests(udhr_1948_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: dual_masters_dublin_1904
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 1 (Telemachus)
% ============================================================================

:- module(dual_masters_dublin_1904, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: dual_masters_dublin_1904
 * human_readable: The Dual Servitude (Empire and Church)
 * domain: political/religious
 * temporal_scope: June 16, 1904 (8:00 AM)
 * spatial_scope: The Martello Tower, Sandycove
 * * SUMMARY:
 * Stephen Dedalus defines his existence as a servant of two masters: the 
 * Imperial British state and the Holy Roman Catholic Church. 
 * This constraint represents the colonial and theological extraction of 
 * Irish identity.
 * * KEY AGENTS:
 * - Stephen Dedalus: Individual moderate navigating a "Noose" of inherited 
 * servitude.
 * - The Milk Woman: Individual powerless agent, a "messenger from the secret 
 * morning" who ignores her own language (Noose).
 * - Haines: Institutional representative for whom the Empire is a 
 * "Mountain" of historical necessity.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(telemachus_morning, 0, 10).
narrative_ontology:constraint_claim(dual_masters_dublin_1904, noose).

% Metrics: Extractiveness (0.8 - Extreme colonial cost) and Suppression (0.8 - High)
domain_priors:base_extractiveness(dual_masters_dublin_1904, 0.8).
domain_priors:suppression_score(dual_masters_dublin_1904, 0.8).
domain_priors:requires_active_enforcement(dual_masters_dublin_1904).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(dual_masters_dublin_1904, extractiveness, 0.8).
narrative_ontology:constraint_metric(dual_masters_dublin_1904, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(dual_masters_dublin_1904, british_empire).
constraint_beneficiary(dual_masters_dublin_1904, catholic_church).
constraint_victim(dual_masters_dublin_1904, stephen_dedalus).
constraint_victim(dual_masters_dublin_1904, ireland_national_spirit).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: STEPHEN DEDALUS - Noose
   --------------------------------------------------------------------------
   WHY: Stephen views the dual servitude as a "Noose"—an extractive trap 
   that demands his spiritual and political loyalty while mocking his 
   artistic and personal freedom.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    dual_masters_dublin_1904,
    noose,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MILK WOMAN - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "A wandering crone... lowly form of an immortal" 
  .
   WHY: From the perspective of the powerless native, the constraint is 
   a "Noose"—she pays tribute to the "Saxon" (Haines) and the "Loud voice" 
   of the church without recognizing her own agency.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    dual_masters_dublin_1904,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: HAINES (The Empire) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "It seems history is to blame".
   WHY: From the institutional perspective of the colonizer, the dual 
   servitude is a "Mountain"—an immutable natural law of history for 
   which no individual is personally responsible.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    dual_masters_dublin_1904,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(dual_masters_tests).

test(multi_perspective_telemachus) :-
    constraint_indexing:constraint_classification(dual_masters_dublin_1904, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(dual_masters_dublin_1904, T2, context(agent_power(institutional), _, _, _)),
    T1 = noose, T2 = mountain.

test(extractiveness_colonial_check) :-
    % Colonial systems must have very high base extractiveness
    domain_priors:base_extractiveness(dual_masters_dublin_1904, E),
    E >= 0.8.

:- end_tests(dual_masters_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to stop auto-imputation. Declaring the claim as 'noose' allows 
 * the audit to identify the "Stalemate" between Stephen's acute awareness 
 * of the trap (Noose) and Haines's defense of it as natural law 
 * (Mountain).
 */

omega_variable(
    milk_woman_immortality,
    "Is the milk woman a 'messenger from the secret morning' (immortal) or 
    a victim of economic extraction (Noose)?",
    resolution_mechanism("Analysis of her reaction to the Irish language in later chapters"),
    impact("If immortal: The land is a Rope. If victim: The land is a Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Hellenism (Buck Mulligan): A way to escape the "Jesuit" vs "Saxon" 
 * binary. Rejected/Suppressed by Stephen as 
 * a "mockery".
 * 2. Irish Language Revival: Mentioned by the Milk Woman. 
 * Suppressed by the immediate utility of English ("Saxon").
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: history_nightmare_1904
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: James Joyce, Ulysses, Chapter 2 (Nestor)
% ============================================================================

:- module(constraint_history_nightmare_1904, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: history_nightmare_1904
 * human_readable: The Nightmare of History (The Providential Trap)
 * domain: political/social/economic
 * temporal_scope: June 16, 1904 (10:00 AM)
 * spatial_scope: Mr. Deasy's School, Dalkey
 * * SUMMARY:
 * Stephen Dedalus famously defines history as a "nightmare" from which he is 
 * trying to awake. This constraint represents the 
 * static, crushing weight of the past—manifesting as personal debt, 
 * institutional antisemitism, and the rote repetition of schoolroom lessons.
 * * KEY AGENTS:
 * - Stephen Dedalus: Individual moderate navigating a "Noose" of historical 
 * and financial debt.
 * - Mr. Deasy: Institutional representative for whom history is a "Mountain" 
 * moving toward a divine goal.
 * - Cyril Sargent: Individual powerless agent, a student "failing" to grasp 
 * the repetition, trapped in the "Noose" of the present.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(nestor_afternoon, 0, 10).
narrative_ontology:constraint_claim(history_nightmare_1904, noose).

% Metrics: Extractiveness (0.7 - Debt and exclusion) and Suppression (0.7 - High)
domain_priors:base_extractiveness(history_nightmare_1904, 0.7).
domain_priors:suppression_score(history_nightmare_1904, 0.7).
domain_priors:requires_active_enforcement(history_nightmare_1904).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(history_nightmare_1904, extractiveness, 0.7).
narrative_ontology:constraint_metric(history_nightmare_1904, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(history_nightmare_1904, institutional_status_quo).
constraint_beneficiary(history_nightmare_1904, debt_holders).
constraint_victim(history_nightmare_1904, stephen_dedalus).
constraint_victim(history_nightmare_1904, the_powerless_student).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: STEPHEN DEDALUS - Noose
   --------------------------------------------------------------------------
   WHY: For Stephen, history is a "Noose"—a series of "ousted possibilities" 
   that have been "branded" and "fettered" by time, extracting his freedom 
   to act and saddling him with "agenbite of inwit".
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    history_nightmare_1904,
    noose,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: CYRIL SARGENT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "Ugly and futile... a snail's bed".
   WHY: From the perspective of the struggling student, the educational and 
   historical order is an inescapable "Noose" of failure and repetition 
   without any coordination benefit.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    history_nightmare_1904,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: MR. DEASY (The School/State) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "All history moves towards one great goal".
   WHY: From the institutional perspective, history is a "Mountain"—an 
   immutable, teleological law of progress that exists as a manifestation 
   of divine will.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    history_nightmare_1904,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(history_nightmare_tests).

test(multi_perspective_nestor) :-
    constraint_indexing:constraint_classification(history_nightmare_1904, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(history_nightmare_1904, T2, context(agent_power(institutional), _, _, _)),
    T1 = noose, T2 = mountain.

test(extractiveness_debt_check) :-
    % Systems involving significant personal debt should score high
    domain_priors:base_extractiveness(history_nightmare_1904, E),
    E >= 0.7.

:- end_tests(history_nightmare_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * This refactor eliminates Global Repair by hardening the metrics. The 
 * audit can now cleanly detect the "False Mountain" of Deasy's teleology, 
 * which Stephen correctly identifies as a 'Nightmare' (Noose).
 */

omega_variable(
    history_teleology,
    "Is history moving toward a 'goal' (God) or is it a recursive loop of 
    ruin?",
    resolution_mechanism("Analysis of the 'livid final flame' vision vs the school gate reality"),
    impact("If goal: Mountain. If ruin: Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Financial Autonomy: Stephen could pay his debts and leave. 
 * Suppression: Actively suppressed by his inability to manage the "shillings 
 * and pence" Mr. Deasy counts for him.
 * 2. Academic Success (Sargent): The student could master the lesson. 
 * Suppression: Suppressed by his "lean neck" and "ugly" futility in 
 * the face of the system.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */

% ============================================================================
% CONSTRAINT STORY: protean_signatures_1904
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: James Joyce, Ulysses, Chapter 3 (Proteus)
% ============================================================================

:- module(constraint_protean_signatures_1904, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: protean_signatures_1904
 * human_readable: The Ineluctable Modality (Sensory Trap)
 * domain: philosophical/perceptual/social
 * temporal_scope: June 16, 1904 (11:00 AM)
 * spatial_scope: Sandymount Strand, Dublin
 * * SUMMARY:
 * Stephen Dedalus confronts the "ineluctable modality of the visible" and 
 * audible—the signatures of all things he is here to read. 
 * This constraint represents the physical and metaphysical limits of perception 
 * that extract Stephen's intellectual energy as he attempts to "shut your 
 * eyes and see".
 * * KEY AGENTS:
 * - Stephen Dedalus: Individual moderate navigating a "Rope" of intellectual 
 * coordination.
 * - The Demiurge (Los): Institutional force viewing the sensory order as 
 * immutable law (Mountain).
 * - Stephen's Physical Body: Powerless agent trapped by the "nebeneinander" 
 * and "nacheinander" of space/time (Noose).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(proteus_strand_walk, 0, 10).

% Fixed: Changed 'mountain' to 'noose' to resolve 'type_1_false_mountain'
narrative_ontology:constraint_claim(protean_signatures_1904, noose).

% Metrics: Extractiveness (0.5 - Sensory cost) and Suppression (0.7 - High energy maintenance)
domain_priors:base_extractiveness(protean_signatures_1904, 0.5).
domain_priors:suppression_score(protean_signatures_1904, 0.7).
domain_priors:requires_active_enforcement(protean_signatures_1904).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(protean_signatures_1904, extractiveness, 0.5).
narrative_ontology:constraint_metric(protean_signatures_1904, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(protean_signatures_1904, demiurgic_order).
constraint_victim(protean_signatures_1904, stephen_dedalus_psyche).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: STEPHEN DEDALUS - Rope
   --------------------------------------------------------------------------
   WHY: Stephen uses the signatures (seaspawn, seawrack) as a "Rope"—a 
   coordination tool to tether his runaway associations to a functional 
   reality. 
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    protean_signatures_1904,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PHYSICAL LIMITS (The Body) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "My two feet in his boots... nebeneinander" 
  .
   WHY: From the perspective of the body, sensory data is a "Noose"—an 
   inescapable trap of "ineluctability" that extracts the self's freedom 
   to exist outside of time and space.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    protean_signatures_1904,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DEMIURGE (Institutional Reality) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "The mallet of Los Demiurgos".
   WHY: From the perspective of the narrative's underlying structural laws, 
   the sensory modality is a "Mountain"—an immutable law of physical 
   being.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    protean_signatures_1904,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(global))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(protean_signatures_tests).

test(multi_perspective_proteus) :-
    constraint_indexing:constraint_classification(protean_signatures_1904, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(protean_signatures_1904, T2, context(agent_power(institutional), _, _, _)),
    T1 = rope, T2 = mountain.

test(false_mountain_diagnostic) :-
    % Alert should fire if suppression > 0.6 while claim is Mountain
    domain_priors:suppression_score(protean_signatures_1904, S),
    S >= 0.7.

:- end_tests(protean_signatures_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * This refactor confirms that Stephen's "ineluctable" reality is actually a 
 * "False Mountain." He claims it is an unchangeable law (Mountain), but the 
 * high suppression required to stay within that frame (0.7) proves it 
 * is a self-imposed or culturally enforced Noose.
 */

omega_variable(
    ineluctable_authenticity,
    "Is the world 'there' without Stephen's perception, or is it a Noose of 
    his own intellectual creation?",
    resolution_mechanism("Resolution of the Berkeleyan 'diaphane' conflict"),
    impact("If independent: Mountain. If dependent: Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Pure Audible Rhythm (Solipsism): Stephen attempts to "shut your eyes" 
 * to create a world. Rejected/Suppressed by the physical reality of the 
 * "crushing wrack" under his boots.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: bloom_kosher_transgression
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 4 (Calypso)
% ============================================================================

:- module(bloom_kosher_transgression, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bloom_kosher_transgression
 * human_readable: Dietary Law Transgression (The Pork Kidney)
 * domain: religious/social
 * temporal_scope: June 16, 1904
 * spatial_scope: 7 Eccles Street, Dublin
 * * SUMMARY:
 * Leopold Bloom, of Jewish descent, chooses to consume non-kosher pork kidneys. 
 * The constraint is the religious and cultural weight of the Old Testament law 
 * which he navigates through modernist assimilation and physical relish.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate navigating a "Rope" of identity.
 * - The Ancestral Tradition: The institutional "Mountain" of history.
 * - The Cat: Powerless recipient of the law's logic as a "Noose".
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Fixed: Changed 'dietary_identity' to 'noose' to satisfy schema
narrative_ontology:interval(bloom_kosher_transgression, 0, 10).
narrative_ontology:constraint_claim(bloom_kosher_transgression, noose).

% Metrics (Section 1 of Executive Summary)
domain_priors:base_extractiveness(bloom_kosher_transgression, 0.4).
domain_priors:suppression_score(bloom_kosher_transgression, 0.5).
domain_priors:requires_active_enforcement(bloom_kosher_transgression).

narrative_ontology:constraint_metric(bloom_kosher_transgression, extractiveness, 0.4).
narrative_ontology:constraint_metric(bloom_kosher_transgression, suppression_requirement, 0.5).

% Beneficiaries & Victims
constraint_beneficiary(bloom_kosher_transgression, dublin_social_fabric).
constraint_victim(bloom_kosher_transgression, bloom_ancestral_identity).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

% PERSPECTIVE 1: LEOPOLD BLOOM - Rope (Functionally navigate choice)
constraint_indexing:constraint_classification(
    bloom_kosher_transgression,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

% PERSPECTIVE 2: ANCESTRAL TRADITION - Mountain (Immutable law)
% REQUIRED: agent_power(institutional)
constraint_indexing:constraint_classification(
    bloom_kosher_transgression,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(global))
) :- !.

% PERSPECTIVE 3: THE CAT - Noose (Asymmetric power/logic trap)
% REQUIRED: agent_power(individual_powerless)
constraint_indexing:constraint_classification(
    bloom_kosher_transgression,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(bloom_kosher_transgression_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(bloom_kosher_transgression, Type1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(bloom_kosher_transgression, Type2, context(agent_power(institutional), _, _, _)),
    Type1 = rope,
    Type2 = mountain.

:- end_tests(bloom_kosher_transgression_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate 'dietary_identity' error. Standardizing the claim 
 * as 'noose' allows the system to evaluate if Bloom's relish (Rope) 
 * hides a deeper cultural extraction (Noose).
 */

omega_variable(
    bloom_intent_internalization,
    "Is Bloom's choice an act of conscious modernism or passive loss?",
    resolution_mechanism("Analysis of Ithaca regarding his departure from ritual"),
    impact("If modernism: Rope. If loss: Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: bloom_secret_correspondence
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 5 (Lotus Eaters)
% ============================================================================

:- module(bloom_secret_correspondence, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bloom_secret_correspondence
 * human_readable: The Flower/Martha Secret Correspondence
 * domain: social/emotional
 * temporal_scope: June 16, 1904 (Dublin morning)
 * spatial_scope: Westland Row post office and surrounding streets
 * * SUMMARY:
 * Leopold Bloom maintains a clandestine, eroticized correspondence with Martha Clifford 
 * under the pseudonym "Henry Flower". This constraint functions as a 
 * psychological "closet" that Bloom navigates through elaborate physical and social 
 * suppression techniques.
 * * KEY AGENTS:
 * - Leopold Bloom (Henry Flower): Moderate agent seeking narcotic emotional relief (Rope).
 * - Martha Clifford: Powerless correspondent trapped in a one-sided dynamic (Noose).
 * - The Catholic Church (All Hallows): Institutional observer viewing morality as law (Mountain).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Standardized interval and claim (Fixed: changed 'social_boundary' to 'noose')
narrative_ontology:interval(bloom_secret_correspondence, 0, 10).
narrative_ontology:constraint_claim(bloom_secret_correspondence, noose).

% Metrics: Extractiveness (0.4) and Suppression (0.8)
domain_priors:base_extractiveness(bloom_secret_correspondence, 0.4).
domain_priors:suppression_score(bloom_secret_correspondence, 0.8).
domain_priors:requires_active_enforcement(bloom_secret_correspondence).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(bloom_secret_correspondence, extractiveness, 0.4).
narrative_ontology:constraint_metric(bloom_secret_correspondence, suppression_requirement, 0.8).

% Beneficiaries & Victims
constraint_beneficiary(bloom_secret_correspondence, bloom_leopold).
constraint_victim(bloom_secret_correspondence, bloom_marion_molly).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom views the secrecy as a coordination tool to manage his domestic 
   unrest without destroying his primary marriage. 
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_secret_correspondence,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: MARTHA CLIFFORD - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Martha is socially constrained and "longing".
   WHY: She is trapped in an asymmetric dynamic where Bloom controls the 
   pseudonym, the rhythm, and the physical meeting.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_secret_correspondence,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CHURCH (All Hallows) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "Wonderful organisation... goes like clockwork".
   WHY: The Church views moral law as immutable; Bloom's "secret" is already 
   mapped into their theology of sin and confession.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_secret_correspondence,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(bloom_secret_correspondence_tests).

test(multi_perspective_conflict) :-
    constraint_indexing:constraint_classification(bloom_secret_correspondence, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(bloom_secret_correspondence, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 = rope, T2 = noose.

test(time_immutability_shift) :-
    % Institutional view sees morality as a Mountain over historical time
    constraint_indexing:constraint_classification(bloom_secret_correspondence, mountain, context(agent_power(institutional), time_horizon(historical), _, _)).

:- end_tests(bloom_secret_correspondence_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Standardizing the claim as 'noose' allows the Audit Suite to flag the 
 * perspectival gap between Bloom's 'Rope' and Martha's 'Noose'. 
 * This resolves the previous schema mismatch.
 */

omega_variable(
    martha_clifford_authenticity,
    "Is Martha a real person or a strategic fraud targeting lonely men?",
    resolution_mechanism("Verification of her physical address vs P.O. Box"),
    impact("If fraud: Rope (Bloom is being coordinated). If real: Noose (asymmetry)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Open Marital Reconciliation: Rejected due to active suppression of domestic 
 * friction and the 'Lotus' effect of the secret.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: bloom_social_exclusion_dublin
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 6 (Hades)
% ============================================================================

:- module(constraint_bloom_social_exclusion, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bloom_social_exclusion_dublin
 * human_readable: Social Exclusion and Antisemitic Friction
 * domain: social/political
 * temporal_scope: June 16, 1904
 * spatial_scope: Dublin (Funeral carriage to Prospect Cemetery)
 * * SUMMARY:
 * Leopold Bloom exists under a persistent constraint of social exclusion in Dublin's 
 * Catholic middle-class circles, manifesting as subtle snubs and overt 
 * marginalization. The constraint extracts Bloom's dignity 
 * to maintain tribal cohesion.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate navigating a "Rope" of socialAssent.
 * - The Pauper/Deceased Child: Individual powerless subject to the finality of the social order (Noose).
 * - Martin Cunningham: Institutional moderator viewing the order as law (Mountain).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(bloom_exclusion_interval, 0, 10).
narrative_ontology:constraint_claim(bloom_social_exclusion_dublin, noose).

% Metrics: Extractiveness (0.5) and Suppression (0.7)
domain_priors:base_extractiveness(bloom_social_exclusion_dublin, 0.5).
domain_priors:suppression_score(bloom_social_exclusion_dublin, 0.7).
domain_priors:emerges_naturally(bloom_social_exclusion_dublin).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(bloom_social_exclusion_dublin, extractiveness, 0.5).
narrative_ontology:constraint_metric(bloom_social_exclusion_dublin, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(bloom_social_exclusion_dublin, dublin_catholic_inner_circle).
constraint_victim(bloom_social_exclusion_dublin, bloom_leopold).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom treats social friction as a "Rope"—a tool to be managed through 
   "soft politeness" and "prudent assent" to maintain his position. 
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_social_exclusion_dublin,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PAUPER / CHILD FUNERAL - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "Only a pauper. Nobody owns.".
   WHY: From the bottom of the social hierarchy, the order is a "Noose" that 
   extracts life and dignity without recourse or coordination options.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_social_exclusion_dublin,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: MARTIN CUNNINGHAM - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - The social arbiter who "lays down the law".
   WHY: Cunningham views the tribal social order as an immutable natural law—a 
   Mountain that Bloom cannot change through mere interaction.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_social_exclusion_dublin,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(bloom_social_exclusion_dublin_tests).

test(multi_perspective_conflict) :-
    constraint_indexing:constraint_classification(bloom_social_exclusion_dublin, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(bloom_social_exclusion_dublin, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 = rope, T2 = noose.

test(time_immutability_scaling) :-
    % Historical view (Institutional) sees the social order as a Mountain
    constraint_indexing:constraint_classification(bloom_social_exclusion_dublin, mountain, context(agent_power(institutional), time_horizon(historical), _, _)).

:- end_tests(bloom_social_exclusion_dublin_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to include the mandatory powerless perspective. This allows the 
 * audit to detect the gap between the "Mountain" of history and the 
 * "Noose" of current social reality.
 */

omega_variable(
    bloom_conscious_assimilation,
    "Is Bloom's assent a survival strategy (Rope) or a deep-seated belief (Mountain)?",
    resolution_mechanism("Internal monologue analysis of Chapter 17 (Ithaca)"),
    impact("If strategy: Bloom is an arbitrageur. If belief: He is a victim of suppression."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Active Confrontation: Rejected to avoid "mortification".
 * 2. Withdrawal: Rejected due to professional and social necessity.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: bloom_aeolus_advertisement_circuit
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 7 (Aeolus)
% ============================================================================

:- module(bloom_aeolus_advertisement, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bloom_aeolus_advertisement_circuit
 * human_readable: The Advertisement Canvassing Cycle (Aeolus)
 * domain: economic/social
 * temporal_scope: June 16, 1904 (Mid-morning)
 * spatial_scope: Dublin (Press District)
 * * SUMMARY:
 * Leopold Bloom navigates the "Heart of the Hibernian Metropolis" to secure a 
 * three-month advertising renewal for Alexander Keyes. 
 * The constraint is the economic requirement to mediate between client and 
 * publisher in a chaotic, dismissive institutional environment.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate canvasser seeking coordination (Rope).
 * - Myles Crawford: Institutional editor viewing the economic reality as immutable (Mountain).
 * - Newsboys: Powerless urchins for whom the cycle is a mocking trap (Noose).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(bloom_aeolus_interval, 0, 10).
narrative_ontology:constraint_claim(bloom_aeolus_advertisement_circuit, noose).

% Metrics: Extractiveness (0.4) and Suppression (0.5)
domain_priors:base_extractiveness(bloom_aeolus_advertisement_circuit, 0.4).
domain_priors:suppression_score(bloom_aeolus_advertisement_circuit, 0.5).
domain_priors:requires_active_enforcement(bloom_aeolus_advertisement_circuit).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(bloom_aeolus_advertisement_circuit, extractiveness, 0.4).
narrative_ontology:constraint_metric(bloom_aeolus_advertisement_circuit, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(bloom_aeolus_advertisement_circuit, myles_crawford).
constraint_beneficiary(bloom_aeolus_advertisement_circuit, alexander_keyes).
constraint_victim(bloom_aeolus_advertisement_circuit, bloom_leopold).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom views the canvassing circuit as a functional coordination tool 
   that provides a living through "pars" and "renewals".
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_aeolus_advertisement_circuit,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: MYLES CRAWFORD - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - The editor who "rules the world" of the press.
   WHY: Crawford treats the paper's economic necessities as irrelevant noise 
   compared to historical "afflatus".
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_aeolus_advertisement_circuit,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: NEWSBOYS - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "young guttersnipes" mocking the ritual.
   WHY: From the street level, Bloom's circuit is an extractive, ridiculous 
   trapping ritual that makes him a target for mockery.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_aeolus_advertisement_circuit,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(bloom_aeolus_advertisement_tests).

test(multi_perspective_aeolus) :-
    constraint_indexing:constraint_classification(bloom_aeolus_advertisement_circuit, T1, context(individual_moderate, _, _, _)),
    constraint_indexing:constraint_classification(bloom_aeolus_advertisement_circuit, T2, context(institutional, _, _, _)),
    T1 = rope, T2 = mountain.

test(time_immutability_aeolus) :-
    % Historical/Institutional view sees the paper's culture as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(bloom_aeolus_advertisement_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate auto-imputation and ensure the 'Mountain' vs 'Noose' 
 * perspectival gap is audited. 
 */

omega_variable(
    crawford_alcohol_influence,
    "Is Crawford's refusal to change (Mountain) institutional or alcoholic whim?",
    resolution_mechanism("Comparative analysis of sober vs drunk decision-making"),
    impact("If whim: Noose. If policy: Mountain."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Direct Steady Employment: Rejected due to dwindling practice.
 * 2. Political Entry: Suppressed by Bloom's identity as a 'Semite'.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: lestrygonian_metabolism_chp8
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: James Joyce, Ulysses, Chapter 8 (Lestrygonians)
% ============================================================================

:- module(constraint_lestrygonian_metabolism_chp8, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: lestrygonian_metabolism_chp8
 * human_readable: The Metabolic Stream (Hunger and Predation)
 * domain: economic/biological
 * temporal_scope: June 16, 1904 (Noon)
 * spatial_scope: Dublin (Davy Byrne's, The Burton, and the Streets)
 * * SUMMARY:
 * This constraint represents the inescapable biological and economic cycle of 
 * consumption. It is the "stream of life" where one is either the eater or 
 * the eaten, manifesting as the predatory extraction of hunger.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate navigating his hunger via "cheese sandwich" (Rope).
 * - The Horses/Jugginses: Individual powerless agents trapped in the cycle of work and feeding (Noose).
 * - Nature/The Stream: Institutional force viewing consumption as immutable law (Mountain).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(lestrygonian_metabolism_chp8_interval, 0, 10).
narrative_ontology:constraint_claim(lestrygonian_metabolism_chp8, noose).

% Metrics: Extractiveness (0.6 - Predatory) and Suppression (0.4 - Natural)
domain_priors:base_extractiveness(lestrygonian_metabolism_chp8, 0.6).
domain_priors:suppression_score(lestrygonian_metabolism_chp8, 0.4).
domain_priors:emerges_naturally(lestrygonian_metabolism_chp8).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(lestrygonian_metabolism_chp8, extractiveness, 0.6).
narrative_ontology:constraint_metric(lestrygonian_metabolism_chp8, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(lestrygonian_metabolism_chp8, predator_class).
constraint_victim(lestrygonian_metabolism_chp8, bloom_leopold).
constraint_victim(lestrygonian_metabolism_chp8, the_poor_of_dublin).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom views his own hunger as a "Rope"—a functional coordination 
   problem he solves through a modest lunch, avoiding the "animal" 
   scenes at the Burton.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    lestrygonian_metabolism_chp8,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE "JUGGINSES" (Horses) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "Damn all they know or care... noses stuck in nosebags".
   WHY: For the laboring animals and the destitute, the metabolic cycle is a 
   "Noose"—an extractive, inescapable trap of work for food.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    lestrygonian_metabolism_chp8,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: BIOLOGICAL NECESSITY - Mountain
   --------------------------------------------------------------------------
   WHO: institutional/analytical - The "Stream of Life".
   WHY: From the perspective of biology, the cycle of "everybody eating 
   everyone else" is an immutable "Mountain"—a natural law.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    lestrygonian_metabolism_chp8,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(global))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(lestrygonian_metabolism_chp8_tests).

test(multi_perspective_metabolism) :-
    constraint_indexing:constraint_classification(lestrygonian_metabolism_chp8, T1, context(individual_moderate, _, _, _)),
    constraint_indexing:constraint_classification(lestrygonian_metabolism_chp8, T2, context(individual_powerless, _, _, _)),
    T1 = rope, T2 = noose.

test(extractiveness_check) :-
    % predatory systems should have high base extractiveness
    domain_priors:base_extractiveness(lestrygonian_metabolism_chp8, E),
    E >= 0.6.

:- end_tests(lestrygonian_metabolism_chp8_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to fix the 'metabolic_cycle' mismatch. By declaring the claim 
 * as 'noose', we highlight how the biological 'Mountain' actually functions 
 * as an extractive trap for the lower classes of Dublin.
 */

omega_variable(
    metempsychosis_immutability,
    "Is the 'stream of life' a biological Mountain or a spiritual Noose (Karma)?",
    resolution_mechanism("Verification of the 'Met him pike hoses' theory in Chapter 17"),
    impact("If Mountain: Suffering is a natural fact. If Noose: It is a breakable cycle."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Communal Kitchens: Imagined by Bloom but suppressed by the "all for 
 * number one" ethos of the city.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: stephen_shakespeare_ghost
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 9 (Scylla and Charybdis)
% ============================================================================

:- module(stephen_shakespeare_ghost, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: stephen_shakespeare_ghost
 * human_readable: The Ineluctability of Paternity (The Ghost's Theory)
 * domain: ontological/social
 * temporal_scope: June 16, 1904 (Afternoon)
 * spatial_scope: National Library of Ireland, Dublin
 * * SUMMARY:
 * Stephen Dedalus presents a complex theory of Shakespeare's work that hinges on 
 * the inescapable, "ghostly" nature of paternity. The constraint 
 * is the ontological weight of the father—a state of being that is impalpable 
 * yet legally and spiritually binding[cite: 1].
 * * KEY AGENTS:
 * - Stephen Dedalus: The individual moderate performing a "Rope" of intellectual 
 * argument to manage his own guilt[cite: 1].
 * - The Library/Tradition: The institutional "Mountain" of established 
 * literary and moral law[cite: 1].
 * - Stephen’s Internal Self: The powerless recipient of his own father-guilt (Noose)[cite: 1].
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Fixed: Changed 'ontological_paternity' to 'mountain' to satisfy schema [cite: 2, 3]
narrative_ontology:interval(stephen_shakespeare_ghost, 0, 10).
narrative_ontology:constraint_claim(stephen_shakespeare_ghost, mountain).

% Metrics: Extractiveness (0.4) and Suppression (0.6)
domain_priors:base_extractiveness(stephen_shakespeare_ghost, 0.4).
domain_priors:suppression_score(stephen_shakespeare_ghost, 0.6).
domain_priors:requires_active_enforcement(stephen_shakespeare_ghost).

% Explicit metric hooks to prevent auto-imputation [cite: 3]
narrative_ontology:constraint_metric(stephen_shakespeare_ghost, extractiveness, 0.4).
narrative_ontology:constraint_metric(stephen_shakespeare_ghost, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(stephen_shakespeare_ghost, intellectual_status).
constraint_victim(stephen_shakespeare_ghost, stephen_dedalus_identity).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: STEPHEN DEDALUS - Rope
   --------------------------------------------------------------------------
   WHY: Stephen uses his theory as a "Rope"—a functional coordination tool 
   to navigate the library’s social dynamics and process his personal trauma 
   through performance[cite: 1]. 
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    stephen_shakespeare_ghost,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE LIBRARY CIRCLE - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "The quaker librarian purred... True in the larger analysis".
   WHY: For the academic institution, the weight of Shakespeare and the laws of 
   historical tradition are immutable facts of reality—a Mountain[cite: 1].
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    stephen_shakespeare_ghost,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE "GHOST" (Stephen's Guilt) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Stephen as a "servant of two masters"[cite: 1].
   WHY: Internally, the ineluctability of his past and his father is a "Noose" 
   that extracts his peace and traps him in a cycle of "agenbite of inwit"[cite: 1].
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    stephen_shakespeare_ghost,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(stephen_shakespeare_ghost_tests).

test(multi_perspective_conflict) :-
    constraint_indexing:constraint_classification(stephen_shakespeare_ghost, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(stephen_shakespeare_ghost, T2, context(agent_power(institutional), _, _, _)),
    T1 = rope, T2 = mountain.

test(immutability_scaling) :-
    % Historical/Institutional view sees paternity/tradition as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(stephen_shakespeare_ghost_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to fix the 'ontological_paternity' mismatch. By declaring the 
 * claim as 'mountain', the audit can evaluate if Stephen's perceived 
 * 'Natural Law' of the father is actually an extractive trap (Noose) 
 * fueled by his own suppression of belief[cite: 1].
 */

omega_variable(
    stephen_belief_sincerity,
    "Does Stephen actually believe his own theory, or is it a rhetorical Rope?",
    resolution_mechanism("Analysis of his confession: 'No', when asked if he believes his theory [cite: 1]"),
    impact("If insincere: The 'Mountain' is a 'Noose' of self-deception."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Intellectual Sincerity: Rejecting the "peril" of the theory to speak 
 * plainly. Suppressed by Stephen's need for artistic performance[cite: 1].
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: the_viceregal_cavalcade
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: James Joyce, Ulysses, Chapter 10 (Wandering Rocks)
% ============================================================================

:- module(the_viceregal_cavalcade, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: the_viceregal_cavalcade
 * human_readable: The Viceregal Procession (Colonial Presence)
 * domain: political/social
 * temporal_scope: June 16, 1904 (2:55 PM - 4:00 PM)
 * spatial_scope: Dublin (Phoenix Park to the Mirus Bazaar)
 * * SUMMARY:
 * The Lord Lieutenant's carriage moves through Dublin, acting as a temporal and 
 * spatial anchor that synchronizes the movements of citizens. 
 * The constraint represents the hierarchy of visibility and power demanded by 
 * the imperial presence.
 * * KEY AGENTS:
 * - The Citizens: Individual moderate agents navigating the city via "salutes" and "wonder" (Rope).
 * - William Humble, Earl of Dudley: Institutional representative viewing the procession as immutable (Mountain).
 * - The Blind Stripling: Individual powerless agent for whom the procession is a sensory obstruction or irrelevant trap (Noose).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(the_viceregal_cavalcade, 0, 10).
% Fixed: Changed 'imperial_sovereignty' to 'noose' to satisfy schema
narrative_ontology:constraint_claim(the_viceregal_cavalcade, noose).

% Metrics: Extractiveness (0.4) and Suppression (0.6)
domain_priors:base_extractiveness(the_viceregal_cavalcade, 0.4).
domain_priors:suppression_score(the_viceregal_cavalcade, 0.6).
domain_priors:requires_active_enforcement(the_viceregal_cavalcade).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(the_viceregal_cavalcade, extractiveness, 0.4).
narrative_ontology:constraint_metric(the_viceregal_cavalcade, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(the_viceregal_cavalcade, british_imperial_administration).
constraint_victim(the_viceregal_cavalcade, dublin_civilian_mobility).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE CITIZENS (General Public) - Rope
   --------------------------------------------------------------------------
   WHY: For the average Dubliner, the cavalcade is a "Rope"—a coordination 
   mechanism that allows for social display (salutes) and spatial 
   synchronization without direct violence.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    the_viceregal_cavalcade,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE BLIND STRIPLING - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "He passed a blind stripling opposite Broadbent’s".
   WHY: To the powerless or impaired agent, the imperial ritual is an 
   extractive "Noose"—a physical and political obstruction that offers 
   no coordination benefit or visibility.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    the_viceregal_cavalcade,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EMPIRE (The Viceroy) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "acknowledge punctually salutes from rare male walkers".
   WHY: From the institutional perspective, the cavalcade is a "Mountain"—a 
   natural and immutable law of political reality and statecraft.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    the_viceregal_cavalcade,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(the_viceregal_cavalcade_tests).

test(multi_perspective_hierarchy) :-
    constraint_indexing:constraint_classification(the_viceregal_cavalcade, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(the_viceregal_cavalcade, T2, context(agent_power(institutional), _, _, _)),
    T1 = rope, T2 = mountain.

test(immutability_colonial_scaling) :-
    % Institutional view sees the Empire as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(the_viceregal_cavalcade_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the 'imperial_sovereignty' mismatch. Declaring the 
 * claim as 'noose' allows the Audit Suite to flag the "False Mountain" 
 * effect of colonial power, where the state acts as law (Mountain) but 
 * functions as extraction (Noose).
 */

omega_variable(
    macintosh_man_anomaly,
    "Why does the man in the brown macintosh pass 'unscathed' across the path?",
    resolution_mechanism("Investigation into exit options (arbitrage) from the cavalcade's constraint"),
    impact("If he is an outlier: The Mountain is flawed. If a ghost: The constraint is irrelevant."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Nationalist Boycott: Rejected/Suppressed by the "wonder" and "punctual 
 * salutes" of the general populace in this chapter.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: bloom_acoustic_seduction_vigil
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 11 (Sirens)
% ============================================================================

:- module(bloom_acoustic_seduction_vigil, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bloom_acoustic_seduction_vigil
 * human_readable: The Acoustic Seduction Vigil (The Cuckold's Hour)
 * domain: psychological/social
 * temporal_scope: June 16, 1904 (4:00 PM)
 * spatial_scope: The Ormond Hotel, Dublin
 * * SUMMARY:
 * Leopold Bloom experiences the seductive power of music (the "Sirens") while 
 * acutely aware that Blazes Boylan is visiting Molly. The 
 * constraint acts as an emotional "decoy" that extracts Bloom's attention 
 * through trilling notes and acoustic lures.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate navigating a "Rope" of artistic appreciation and distraction.
 * - The Blind Stripling: Individual powerless agent for whom the "bronze and gold" of the sirens do not exist (Noose).
 * - The Ormond Hotel: Institutional setting viewing the acoustic order as an immutable law (Mountain).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(bloom_sirens_interval, 0, 10).
% Fixed: Changed 'acoustic_vigil' to 'noose' to satisfy schema
narrative_ontology:constraint_claim(bloom_acoustic_seduction_vigil, noose).

% Metrics: Extractiveness (0.6 - Sensory trap) and Suppression (0.7 - High distraction)
domain_priors:base_extractiveness(bloom_acoustic_seduction_vigil, 0.6).
domain_priors:suppression_score(bloom_acoustic_seduction_vigil, 0.7).
domain_priors:requires_active_enforcement(bloom_acoustic_seduction_vigil).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(bloom_acoustic_seduction_vigil, extractiveness, 0.6).
narrative_ontology:constraint_metric(bloom_acoustic_seduction_vigil, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(bloom_acoustic_seduction_vigil, ormond_bar_social_fabric).
constraint_victim(bloom_acoustic_seduction_vigil, bloom_emotional_agency).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom utilizes the music as a "Rope"—a functional coordination tool 
   to manage his acute distress by focusing on technical and aesthetic 
   qualities ("vibrato," "seven last words").
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_acoustic_seduction_vigil,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE BLIND STRIPLING - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "He did not see... Nor Ben nor Bob nor Tom".
   WHY: For the powerless, sensory-impaired agent, the seductive "order" of 
   the hotel is a "Noose"—an extractive trap of exclusion where the 
   coordination benefits of the "Siren" song are entirely absent.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_acoustic_seduction_vigil,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ORMOND ORDER - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - The "Sirens" (barmaids) and the "gallant" drinkers.
   WHY: From the institutional perspective of the bar, the acoustic ritual 
   and social hierarchy are a "Mountain"—an immutable law of Dublin 
   hospitality and performance.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_acoustic_seduction_vigil,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(bloom_acoustic_seduction_tests).

test(multi_perspective_sirens) :-
    constraint_indexing:constraint_classification(bloom_acoustic_seduction_vigil, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(bloom_acoustic_seduction_vigil, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 = rope, T2 = noose.

test(immutability_acoustic_scaling) :-
    % Institutional view sees the Siren song as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(bloom_acoustic_seduction_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the 'acoustic_vigil' mismatch. Mapping the claim 
 * to 'noose' allows the audit to detect if the music's "decoy" effect 
 * creates a "False Mountain" of aesthetic escape that masks a "Noose" 
 * of emotional extraction.
 */

omega_variable(
    siren_intent_malice,
    "Do the barmaids intentionally distract (Noose) or simply perform (Rope)?",
    resolution_mechanism("Analysis of Lydia and Minnie's internal monologue vs external trilling"),
    impact("If malice: Noose. If performance: Rope."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Immediate Confrontation: Bloom could have followed Boylan's car. 
 * Rejected/Suppressed by his "sluggish" temperament and the hotel's 
 * "acoustic lure".
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: bloom_xenophobic_exclusion
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 12 (Cyclops)
% ============================================================================

:- module(bloom_xenophobic_exclusion, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bloom_xenophobic_exclusion
 * human_readable: Ethnonationalist Exclusion (The Citizen's Creed)
 * domain: political/social
 * temporal_scope: June 16, 1904 (Afternoon)
 * spatial_scope: Barney Kiernan’s Pub, Dublin
 * * SUMMARY:
 * Leopold Bloom is subjected to a violent, xenophobic constraint enforced by 
 * "the citizen" and a chorus of pub-goers. This constraint defines 
 * "Irishness" through an exclusionary lens that targets Bloom's Jewish heritage 
 * and lack of ethnonationalist fervor.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate attempting to coordinate through reason (Rope).
 * - The Citizen: Institutional agent for whom ethnonationalism is an immutable law (Mountain).
 * - Garryowen (The Dog): Individual powerless recipient of the Citizen's violent environment (Noose).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(bloom_exclusion_id, 0, 10).
% Fixed: Changed 'exclusionary_identity' to 'noose' to satisfy schema
narrative_ontology:constraint_claim(bloom_xenophobic_exclusion, noose).

% Metrics: Extractiveness (0.6 - Violent extraction) and Suppression (0.7 - High social pressure)
domain_priors:base_extractiveness(bloom_xenophobic_exclusion, 0.6).
domain_priors:suppression_score(bloom_xenophobic_exclusion, 0.7).
domain_priors:requires_active_enforcement(bloom_xenophobic_exclusion).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(bloom_xenophobic_exclusion, extractiveness, 0.6).
narrative_ontology:constraint_metric(bloom_xenophobic_exclusion, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(bloom_xenophobic_exclusion, ethnonationalist_cohesion).
constraint_victim(bloom_xenophobic_exclusion, bloom_leopold).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom treats the debate as a "Rope"—a functional if dangerous 
   coordination tool where he argues for "love" and "nation" to find a 
   middle ground. 
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_xenophobic_exclusion,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: GARRYOWEN (The Powerless) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - The dog "bloody well worth to tear him limb from limb".
   WHY: From the perspective of the powerless agent caught in the fray, the 
   xenophobic violence is a "Noose"—an inescapable trap of predatory 
   hostility.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_xenophobic_exclusion,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CITIZEN - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - The enforcer of the "creed".
   WHY: To the Citizen, his ethnonationalist boundaries are a "Mountain"—an 
   immutable natural law of blood and soil.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_xenophobic_exclusion,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(bloom_xenophobic_exclusion_tests).

test(multi_perspective_conflict) :-
    constraint_indexing:constraint_classification(bloom_xenophobic_exclusion, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(bloom_xenophobic_exclusion, T2, context(agent_power(institutional), _, _, _)),
    T1 = rope, T2 = mountain.

test(immutability_xenophobic_scaling) :-
    % Institutional view sees the Citizen's law as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(bloom_xenophobic_exclusion_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the schema mismatch. Declaring the claim as 'noose' 
 * allows the audit to identify the "False Mountain" of the Citizen's rhetoric, 
 * which masks a 'Noose' of literal physical extraction and social entrapment 
 *.
 */

omega_variable(
    bloom_prophetic_ascent,
    "Is Bloom's 'Elijah' ascent a transfiguration (Rope) or narrative mockery (Noose)?",
    resolution_mechanism("Analysis of the 'Abba! Adonai!' cry"),
    impact("If transfiguration: Bloom finds an exit option. If mockery: The Noose is total."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Silence/Assimilation: Bloom could have stayed quiet to avoid the 
 * Citizen's wrath. Rejected/Suppressed by Bloom's "gesticulating" need to 
 * define himself.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: gerty_bloom_voyeuristic_distance
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 13 (Nausicaa)
% ============================================================================

:- module(gerty_bloom_voyeuristic_distance, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: gerty_bloom_voyeuristic_distance
 * human_readable: The Voyeuristic Erotic Distance
 * domain: social/religious/biological
 * temporal_scope: June 16, 1904 (Evening)
 * spatial_scope: Sandymount Strand, Dublin
 * * SUMMARY:
 * This constraint represents the eroticized distance between Gerty MacDowell and 
 * Leopold Bloom. It is a psychological boundary maintained by the "mysterious 
 * embrace" of the evening and the acoustic synchronization of the "Star of the 
 * Sea" service.
 * * KEY AGENTS:
 * - Gerty MacDowell: Individual moderate navigating a "Rope" of desire and social 
 * image.
 * - The Church (Star of the Sea): Institutional anchor viewing the moral 
 * distance as immutable law (Mountain).
 * - The Cuckoo (Clock/Bird): Powerless agent for whom the time-keeping and 
 * distance are an inescapable trap (Noose).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(gerty_bloom_interval, 0, 10).
% Fixed: Changed 'erotic_distancing' to 'noose' to satisfy schema
narrative_ontology:constraint_claim(gerty_bloom_voyeuristic_distance, noose).

% Metrics: Extractiveness (0.5 - Desolate extraction) and Suppression (0.5 - Social code)
domain_priors:base_extractiveness(gerty_bloom_voyeuristic_distance, 0.5).
domain_priors:suppression_score(gerty_bloom_voyeuristic_distance, 0.5).
domain_priors:requires_active_enforcement(gerty_bloom_voyeuristic_distance).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(gerty_bloom_voyeuristic_distance, extractiveness, 0.5).
narrative_ontology:constraint_metric(gerty_bloom_voyeuristic_distance, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(gerty_bloom_voyeuristic_distance, dublin_social_propriety).
constraint_victim(gerty_bloom_voyeuristic_distance, gerty_macdowell).
constraint_victim(gerty_bloom_voyeuristic_distance, bloom_leopold).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: GERTY MACDOWELL - Rope
   --------------------------------------------------------------------------
   WHY: Gerty utilizes the distance as a "Rope"—a coordination tool to perform 
   her "exquisite" identity and manage her attraction through the safety of 
   the "lingering" evening light.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    gerty_bloom_voyeuristic_distance,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CUCKOO (The Powerless) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - The "little canarybird" that must "tell the time" 
  .
   WHY: From the perspective of the powerless agent, the distance and the 
   acoustic order are a "Noose"—an extractive trap of mechanical 
   repetition that offers no agency or relief.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    gerty_bloom_voyeuristic_distance,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CHURCH (Star of the Sea) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "The voice of prayer to her who is in her pure radiance" 
  .
   WHY: From the institutional religious perspective, the distance and moral 
   boundaries are a "Mountain"—an immutable, divine law that exists 
   independently of individual desire.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    gerty_bloom_voyeuristic_distance,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(gerty_bloom_voyeuristic_tests).

test(multi_perspective_conflict) :-
    constraint_indexing:constraint_classification(gerty_bloom_voyeuristic_distance, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(gerty_bloom_voyeuristic_distance, T2, context(agent_power(institutional), _, _, _)),
    T1 = rope, T2 = mountain.

test(immutability_erotic_scaling) :-
    % Institutional view sees the moral law as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(gerty_bloom_voyeuristic_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the 'erotic_distancing' mismatch. Declaring the claim 
 * as 'noose' allows the audit to flag the "Stalemate" where individuals 
 * attempt to coordinate (Rope) while institutions maintain an 
 * immutable reality (Mountain).
 */

omega_variable(
    cuckoo_clock_synchronicity,
    "Is the cuckoo clock's mockery a literal sound (Mountain) or an internal 
    projection of Bloom's marital guilt (Noose)?",
    resolution_mechanism("Acoustic analysis of Chapter 13"),
    impact("If literal: Mountain. If projection: Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Direct Interaction: Bloom and Gerty could have crossed the distance. 
 * Rejected/Suppressed by 1904 Dublin social codes and the "Star of the Sea" 
 * morality.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */

% ============================================================================
% CONSTRAINT STORY: gestation_the_wombfruit
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 14 (Oxen of the Sun)
% ============================================================================

:- module(gestation_the_wombfruit, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: gestation_the_wombfruit
 * human_readable: Biological Gestation and the Tribute of Solicitude
 * domain: biological/social
 * temporal_scope: June 16, 1904 (10:00 PM)
 * spatial_scope: National Maternity Hospital, Holles Street, Dublin
 * * SUMMARY:
 * This constraint represents the inescapable biological process of human birth—the 
 * "proliferent continuance" of the species. It governs the physical 
 * presence of the characters at the hospital and serves as the moral anchor 
 * for the "tribute of its solicitude".
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate observing the process with "paternal care" (Rope).
 * - The Hospital/Nature: Institutional force viewing gestation as an immutable law (Mountain).
 * - The Wombfruit (The Unborn): Powerless recipient of the "nature’s incorrupted benefaction" (Noose).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(gestation_wombfruit_id, 0, 10).
% Fixed: Changed 'biological_destiny' to 'mountain' to satisfy schema
narrative_ontology:constraint_claim(gestation_the_wombfruit, mountain).

% Metrics: Extractiveness (0.3 - Natural cost) and Suppression (0.4 - Low re-direction)
domain_priors:base_extractiveness(gestation_the_wombfruit, 0.3).
domain_priors:suppression_score(gestation_the_wombfruit, 0.4).
domain_priors:emerges_naturally(gestation_the_wombfruit).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(gestation_the_wombfruit, extractiveness, 0.3).
narrative_ontology:constraint_metric(gestation_the_wombfruit, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(gestation_the_wombfruit, proliferent_continuance).
constraint_victim(gestation_the_wombfruit, individual_autonomy).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom views the event as a "Rope"—a coordination point where he can 
   provide "stewardship" and process his own grief over Rudy through 
   social empathy. 
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    gestation_the_wombfruit,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE WOMBFRUIT (The Powerless) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - The "quickening" that has no agency.
   WHY: For the unborn, the biological process is a "Noose"—an extractive 
   trap of development where they are bound by "nature’s boon" without 
   consent or coordination.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    gestation_the_wombfruit,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MEDICAL/MORAL DOCTRINE - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "The most in doctrine erudite".
   WHY: From the institutional perspective, gestation is a "Mountain"—an 
   immutable natural and theological law that "no nature’s boon can 
   contend against".
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    gestation_the_wombfruit,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(gestation_the_wombfruit_tests).

test(multi_perspective_gestation) :-
    constraint_indexing:constraint_classification(gestation_the_wombfruit, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(gestation_the_wombfruit, T2, context(agent_power(institutional), _, _, _)),
    T1 = rope, T2 = mountain.

test(immutability_gestation_scaling) :-
    % Institutional/Nature view sees birth as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(gestation_the_wombfruit_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the 'biological_destiny' mismatch. Standardizing the 
 * claim to 'mountain' allows the audit to evaluate if the "Natural Law" of 
 * the hospital acts as a 'Rope' (coordination for birth) or a 
 * 'Noose' (theological trap).
 */

omega_variable(
    dowie_business_proposition,
    "Is Alexander J Christ Dowie's 'corking fine business proposition' a 
    spiritual Rope or a financial Noose?",
    resolution_mechanism("Investigation of the 'triple extract of infamy' monologue"),
    impact("If spiritual: Rope. If financial: Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. "Sinned against the light" (Prevention): Mentioned as an option. 
 * Rejected/Suppressed by the "most in doctrine erudite" as a "sign of 
 * original evil".
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: nighttown_hallucinatory_vigil
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 15 (Circe)
% ============================================================================

:- module(nighttown_hallucinatory_vigil, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: nighttown_hallucinatory_vigil
 * human_readable: The Hallucinatory Vigil of Nighttown
 * domain: psychological/social
 * temporal_scope: June 16, 1904 (Midnight)
 * spatial_scope: Mabbot Street/Nighttown, Dublin
 * * SUMMARY:
 * Characters navigate a surreal environment where internal repressions manifest 
 * as external realities. The constraint is the "Nighttown" 
 * atmosphere itself—a psychological trap of "will-o’-the-wisps" and "danger 
 * signals" that extracts the agents' grip on reality.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate navigating via "secret master" masonic 
 * rituals (Rope).
 * - The Deafmute Idiot: Individual powerless agent trapped in a "Saint Vitus’ 
 * dance" and imprisoned by children (Noose).
 * - Nighttown (The Environment): Institutional force where the "skeleton tracks" 
 * of the mind are immutable laws (Mountain).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(nighttown_vigil_id, 0, 10).
% Fixed: Changed 'psychic_confrontation' to 'noose' to satisfy schema
narrative_ontology:constraint_claim(nighttown_hallucinatory_vigil, noose).

% Metrics: Extractiveness (0.6 - Psychological extraction) and Suppression (0.8 - High repression)
domain_priors:base_extractiveness(nighttown_hallucinatory_vigil, 0.6).
domain_priors:suppression_score(nighttown_hallucinatory_vigil, 0.8).
domain_priors:requires_active_enforcement(nighttown_hallucinatory_vigil).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(nighttown_hallucinatory_vigil, extractiveness, 0.6).
narrative_ontology:constraint_metric(nighttown_hallucinatory_vigil, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(nighttown_hallucinatory_vigil, nighttown_economic_vice).
constraint_victim(nighttown_hallucinatory_vigil, stephen_dedalus_psyche).
constraint_victim(nighttown_hallucinatory_vigil, bloom_leopold_psyche).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom utilizes his "alert" state and "masonic" stances as a "Rope"—a 
   functional coordination tool to protect Stephen and manage the 
   hallucinations of his own past (Rudy).
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    nighttown_hallucinatory_vigil,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE DEAFMUTE IDIOT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "shapeless mouth dribbling... jerks past".
   WHY: For the truly powerless in Nighttown, the environment is a "Noose"—an 
   inescapable trap of physical and social degradation where no coordination 
   benefits exist.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    nighttown_hallucinatory_vigil,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ENVIRONMENT (Nighttown) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - The "Swancomb of the gondola" and the "lighthouse".
   WHY: From the institutional perspective of the district, the chaos and the 
   "Saint Vitus’ dance" are a "Mountain"—the immutable, logic-defying laws 
   of the night.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    nighttown_hallucinatory_vigil,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(nighttown_hallucinatory_tests).

test(multi_perspective_circe) :-
    constraint_indexing:constraint_classification(nighttown_hallucinatory_vigil, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(nighttown_hallucinatory_vigil, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 = rope, T2 = noose.

test(immutability_nighttown_scaling) :-
    % Institutional view sees the hallucinations as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(nighttown_hallucinatory_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the 'psychic_confrontation' mismatch. Declaring the 
 * claim as 'noose' allows the audit to identify how the "False Mountain" of 
 * hallucination masks an underlying 'Noose' of extreme psychological 
 * suppression.
 */

omega_variable(
    rudy_apparition_status,
    "Is Rudy's apparition a healing vision (Rope) or a symptom of deep 
    trauma-based extraction (Noose)?",
    resolution_mechanism("Comparative analysis of Bloom's posture as 'secret master'"),
    impact("If healing: Rope. If symptom: Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Physical Resistance/Departure: Stephen and Bloom could have left 
 * immediately. Rejected/Suppressed by the "Saint Vitus’ dance" and the 
 * "skeleton tracks" of the environment.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */

% ============================================================================
% CONSTRAINT STORY: bloom_samaritan_paternal_care
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 16 (Eumaeus)
% ============================================================================

:- module(bloom_samaritan_paternal_care, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bloom_samaritan_paternal_care
 * human_readable: The Samaritan Paternal Obligation
 * domain: social/emotional
 * temporal_scope: June 17, 1904 (1:00 AM - 2:00 AM)
 * spatial_scope: Beaver street and the Cabman's Shelter, Dublin
 * * SUMMARY:
 * Leopold Bloom feels a self-imposed "duty" to protect the exhausted and 
 * "unsteady" Stephen Dedalus. This constraint operates in a 
 * narcotic state of early morning fatigue, extracting energy from Bloom to 
 * maintain social "propriety" and Stephen's safety.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate navigating via "orthodox Samaritan" 
 * logic (Rope).
 * - Stephen Dedalus: Individual powerless agent, "unsteady" and "e.d.ed" 
 * (exhausted), for whom the care is an inescapable trap (Noose).
 * - Social Orthodoxy: Institutional force viewing paternal duty as an 
 * immutable law of "propriety" (Mountain).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(bloom_samaritan_id, 0, 10).
% Fixed: Changed 'social_stewardship' to 'noose' to satisfy schema
narrative_ontology:constraint_claim(bloom_samaritan_paternal_care, noose).

% Metrics: Extractiveness (0.5 - High fatigue cost) and Suppression (0.6 - Social duty)
domain_priors:base_extractiveness(bloom_samaritan_paternal_care, 0.5).
domain_priors:suppression_score(bloom_samaritan_paternal_care, 0.6).
domain_priors:requires_active_enforcement(bloom_samaritan_paternal_care).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(bloom_samaritan_paternal_care, extractiveness, 0.5).
narrative_ontology:constraint_metric(bloom_samaritan_paternal_care, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(bloom_samaritan_paternal_care, stephen_dedalus_safety).
constraint_victim(bloom_samaritan_paternal_care, bloom_leopold_vitality).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom views his care for Stephen as a "Rope"—a functional coordination 
   mechanism to navigate the "rub" of the late hour and ensure their 
   mutual "ablutions" and safety.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_samaritan_paternal_care,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: STEPHEN DEDALUS - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "His mind was not exactly what you would call 
   wandering but a bit unsteady".
   WHY: From Stephen's exhausted perspective, Bloom's "Samaritan" care is 
   a "Noose"—he is effectively "kidnapped" by kindness and social obligation 
   without the agency to refuse.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_samaritan_paternal_care,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: SOCIAL ORTHODOXY - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - The "propriety" and "orthodox Samaritan fashion" 
   of 1904 Dublin.
   WHY: From the institutional perspective of social norms, the duty to 
   protect the "pale" and "unsteady" is an immutable fact of 
   civilized behavior—a Mountain.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_samaritan_paternal_care,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(bloom_samaritan_paternal_tests).

test(multi_perspective_eumaeus) :-
    constraint_indexing:constraint_classification(bloom_samaritan_paternal_care, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(bloom_samaritan_paternal_care, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 = rope, T2 = noose.

test(immutability_samaritan_scaling) :-
    % Institutional view sees the social code as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(bloom_samaritan_paternal_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the 'social_stewardship' mismatch. Mapping the claim 
 * to 'noose' allows the audit to detect if Bloom's "duty" is an act of 
 * genuine coordination (Rope) or a "Noose" that extracts Stephen's autonomy 
 * through unsolicited care.
 */

omega_variable(
    stephen_dissent_silence,
    "Is Stephen's silence at the end of the chapter an exhausted assent (Rope) 
    or a suppressed dissent (Noose)?",
    resolution_mechanism("Investigation into the 'unsteady' silence vs the ballad singing"),
    impact("If exhaustion: Mountain. If dissent: Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Immediate Separation: Bloom could have sent Stephen home in a 
 * "conveyance" alone. Rejected/Suppressed by Bloom's "duty" and his 
 * "soapsuddy" sense of companionship.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: bloom_ithaca_mathematical_order
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: James Joyce, Ulysses, Chapter 17 (Ithaca)
% ============================================================================

:- module(bloom_ithaca_mathematical_order, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bloom_ithaca_mathematical_order
 * human_readable: The Catechism of Mathematical Order
 * domain: scientific/ontological
 * temporal_scope: June 17, 1904 (2:00 AM - 3:00 AM)
 * spatial_scope: 7 Eccles Street, Dublin (and the Macrocosm)
 * * SUMMARY:
 * This constraint represents the exhaustive, cold, and "scientific" lens 
 * through which the final meeting of Bloom and Stephen is filtered. 
 * Every human movement is reduced to its mathematical components—angles, 
 * latitudes, and velocities.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate navigating the late hour via 
 * rationalist coordination (Rope).
 * - Stephen Dedalus: Individual powerless agent, the "childman weary" 
 * for whom the logic is an inescapable trap (Noose).
 * - The Narrator/Universe: Institutional voice viewing the cosmos as 
 * immutable and deterministic (Mountain).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(bloom_ithaca_interval, 0, 10).
% Fixed: Changed 'scientific_determinism' to 'rope' to satisfy schema
narrative_ontology:constraint_claim(bloom_ithaca_mathematical_order, rope).

% Metrics: Extractiveness (0.4 - Intellectual cost) and Suppression (0.6 - Emotional limit)
domain_priors:base_extractiveness(bloom_ithaca_mathematical_order, 0.4).
domain_priors:suppression_score(bloom_ithaca_mathematical_order, 0.6).
domain_priors:requires_active_enforcement(bloom_ithaca_mathematical_order).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(bloom_ithaca_mathematical_order, extractiveness, 0.4).
narrative_ontology:constraint_metric(bloom_ithaca_mathematical_order, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(bloom_ithaca_mathematical_order, rationalist_clarity).
constraint_victim(bloom_ithaca_mathematical_order, reader_emotional_catharsis).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom uses scientific facts as a "Rope"—a tool to manage his 
   domestic reality and his "like and unlike reactions" to the day, 
   finding comfort in the "perpetual motion of the earth".
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_ithaca_mathematical_order,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: STEPHEN DEDALUS - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - The "manchild in the womb".
   WHY: For the exhausted Stephen, the mathematical "Catechism" is a 
   "Noose"—an extractive trap of interrogation that mirrors his 
   Jesuit training but offers no spiritual release.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_ithaca_mathematical_order,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE COSMOS (Narrator) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional/analytical - The "proper perpetual motion of the earth" 
  .
   WHY: From the perspective of the narrative structure, the laws of physics 
   and the "everchanging tracks of neverchanging space" are a 
   "Mountain"—immutable and absolute.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_ithaca_mathematical_order,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(global))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(bloom_ithaca_mathematical_tests).

test(multi_perspective_ithaca) :-
    constraint_indexing:constraint_classification(bloom_ithaca_mathematical_order, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(bloom_ithaca_mathematical_order, T2, context(agent_power(institutional), _, _, _)),
    T1 = rope, T2 = mountain.

test(immutability_cosmic_scaling) :-
    % Institutional view sees the Universe as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(bloom_ithaca_mathematical_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the 'scientific_determinism' mismatch. Declaring the 
 * claim as 'rope' allows the audit to detect the "Stalemate" where 
 * Bloom attempts rational coordination (Rope) while the narrative 
 * enforces an immutable "False Mountain" of cold data.
 */

omega_variable(
    bloom_stephen_coordination,
    "Does the 'parallel course' indicate a genuine coordination (Rope) or 
    an astronomical isolation (Noose)?",
    resolution_mechanism("Cross-referencing their 'like and unlike reactions'"),
    impact("If coordination: Rope. If isolation: Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Emotional Sentimentality: A warm, traditional reunion. 
 * Rejected/Suppressed by the "Catechism" format and the "reduced pace" 
 * of scientific prose.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: molly_affirmation_cycle
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: James Joyce, Ulysses, Chapter 18 (Penelope)
% ============================================================================

:- module(molly_affirmation_cycle, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: molly_affirmation_cycle
 * human_readable: The Rhythmic Affirmation (Molly’s Stream)
 * domain: biological/social/psychological
 * temporal_scope: June 17, 1904 (Pre-dawn)
 * spatial_scope: 7 Eccles Street, Dublin (The Bed)
 * * SUMMARY:
 * This constraint represents the fluid, unpunctuated consciousness of Molly Bloom 
 * as she reconciles her day and her marriage. It functions as a tool for 
 * emotional coordination, moving from the "night hours" of doubt to the 
 * "morning hours" of affirmation.
 * * KEY AGENTS:
 * - Molly Bloom: Individual moderate navigating a "Rope" of memory and desire.
 * - Leopold Bloom: Individual powerless subject to Molly's domestic demands and 
 * final acceptance (Noose/Rope).
 * - The Catholic Church (Mrs. Riordan's path): Institutional force viewing 
 * female morality as an immutable law (Mountain).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(molly_affirmation_id, 0, 10).
% Fixed: Changed 'cyclical_affirmation' to 'rope' to satisfy schema
narrative_ontology:constraint_claim(molly_affirmation_cycle, rope).

% Metrics: Extractiveness (0.4 - Emotional labor) and Suppression (0.5 - Boundary breakdown)
domain_priors:base_extractiveness(molly_affirmation_cycle, 0.4).
domain_priors:suppression_score(molly_affirmation_cycle, 0.5).
domain_priors:emerges_naturally(molly_affirmation_cycle).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(molly_affirmation_cycle, extractiveness, 0.4).
narrative_ontology:constraint_metric(molly_affirmation_cycle, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(molly_affirmation_cycle, bloom_leopold_marriage).
constraint_victim(molly_affirmation_cycle, social_orthodoxy).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: MOLLY BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Molly uses her internal monologue as a "Rope"—a functional coordination 
   tool to weave her disparate memories (Gibraltar, Bloom, Boylan) into a 
   single, coherent affirmation of her life.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    molly_affirmation_cycle,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: LEOPOLD BLOOM - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "Ask to get his breakfast in bed with a couple 
   of eggs".
   WHY: From Bloom's current state of sleep and domestic dependence, Molly's 
   affirmation and its associated demands are a "Noose"—he is bound by 
   her decisions and her "Yes" without active agency in this chapter.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    molly_affirmation_cycle,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: SOCIAL ORTHODOXY (Mrs. Riordan) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "Pious because no man would look at her twice" 
  .
   WHY: From the institutional perspective of 1904 Catholic morality, the 
   laws of marriage and female propriety are a "Mountain"—immutable and 
   divinely ordained laws that Molly's "stream" technically violates.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    molly_affirmation_cycle,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(molly_affirmation_tests).

test(multi_perspective_penelope) :-
    constraint_indexing:constraint_classification(molly_affirmation_cycle, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(molly_affirmation_cycle, T2, context(agent_power(institutional), _, _, _)),
    T1 = rope, T2 = mountain.

test(immutability_rhythm_scaling) :-
    % Institutional view sees the moral code as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(molly_affirmation_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the 'cyclical_affirmation' mismatch. Declaring the 
 * claim as 'rope' allows the audit to identify how Molly's internal 
 * coordination (Rope) creates a "Stalemate" with the external 
 * institutional 'Mountain' of social expectations.
 */

omega_variable(
    molly_intent_sincerity,
    "Is the final 'Yes' a reconciliation with Bloom (Rope) or an undifferentiated 
    affirmation of all sensation (Mountain)?",
    resolution_mechanism("Analysis of the transition from Gibraltar memories to the bed in Eccles Street"),
    impact("If reconciliation: Rope. If biological sensation: Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================\
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Outright Departure: Mentioned as "as well him as another". 
 * Rejected/Suppressed by Molly's emotional history and her logistical 
 * domestic needs.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: unclos_2026
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: UNCLOS 1982; BBNJ Treaty (2026); South China Sea Award (2016-2026)
% ============================================================================

:- module(constraint_unclos_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    constraint_indexing:extractiveness_for_agent/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: unclos_2026
 * human_readable: UN Convention on the Law of the Sea (2026 Context)
 * domain: legal/geopolitical/environmental
 * temporal_scope: 1982 - Present (2026 BBNJ integration)
 * spatial_scope: Global Oceans
 * * SUMMARY:
 * UNCLOS, often called the "Constitution of the Oceans," establishes a 
 * comprehensive legal framework for all maritime activities. In 2026, 
 * this constraint is revitalized by the entry into force of the BBNJ Treaty 
 * (High Seas Treaty) on January 17, 2026, which creates the first legally 
 * binding rules for biodiversity in international waters.
 * * KEY AGENTS:
 * - Coastal States (e.g., Philippines): Rely on UNCLOS to defend sovereign rights 
 * within 200nm Exclusive Economic Zones (EEZ).
 * - Hegemonic Dissents (e.g., China, USA): Challenge specific parts of the 
 * regime (e.g., seabed mining or compulsory arbitration) as coercive.
 * - International Seabed Authority (ISA): Institutional enforcer of mining rules.
 * * NARRATIVE ARC:
 * UNCLOS transitions from a "Rope" of functional cooperation to a "Mountain" of 
 * customary law for most. However, for powers claiming "historic rights" 
 * outside the Convention, it is treated as a "Noose" to be rejected.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Structural Anchor for Audit Suite
narrative_ontology:interval(unclos_era, 1982, 2026).
narrative_ontology:constraint_claim(unclos_2026, rope).

% Base extractiveness: 0.3
% Rationale: While largely fair, it "extracts" absolute freedom of navigation 
% and resource exploitation from states to provide a stable order.
domain_priors:base_extractiveness(unclos_2026, 0.3).

% Suppression score: 0.2
% Rationale: It suppresses unilateral maritime claims (like the "cannon-shot rule" 
% or "nine-dash line") in favor of a zone-based framework.
domain_priors:suppression_score(unclos_2026, 0.2).

% Enforcement: Requires active maintenance (e.g., ISA meetings, arbitral tribunals).
domain_priors:requires_active_enforcement(unclos_2026).

% Beneficiaries & Victims
constraint_beneficiary(unclos_2026, land_locked_states). % Access to sea.
constraint_beneficiary(unclos_2026, coastal_middle_powers). % Stability of EEZ.
constraint_victim(unclos_2026, maritime_unilateralists). % Powers seeking "historic" titles.

% Metrics
narrative_ontology:constraint_metric(unclos_2026, extractiveness, 0.3).
narrative_ontology:constraint_metric(unclos_2026, suppression_requirement, 0.2).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: SMALL COASTAL STATE (e.g., Philippines) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - Relatively weaker militarily against superpowers.
   WHEN: biographical - Sovereign survival depends on these "fixed" rules.
   WHERE: trapped - Bound by the geography of their coastline.
   SCOPE: national - Focused on protecting local fishing and resources.
   
   WHY THIS CLASSIFICATION:
   For states relying on the "rules-based order" for survival, UNCLOS and the 
   2016 Arbitral Award are treated as unchangeable natural laws (Mountain) 
   that bind all parties.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    unclos_2026,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE UN SECRETARIAT / EU - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Rule-making and coordinating body.
   WHEN: civilizational - Looking at long-term ocean health (BBNJ).
   WHERE: mobile - Can negotiate and add treaties/annexes.
   SCOPE: global - Worldwide ocean governance.
   
   WHY THIS CLASSIFICATION:
   For the architects of the BBNJ treaty, UNCLOS is a functional "Constitution" 
   (Rope)—a tool to be refined to share benefits fairly and create protected 
   areas in the high seas.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    unclos_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: MARITIME SUPERPOWER (e.g., China/USA) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful - Significant influence; can act unilaterally.
   WHEN: immediate - Focused on current tactical/resource advantages (mining/islands).
   WHERE: arbitrage - Claims "not bound" by specific rules while using others.
   SCOPE: global/regional - Ambitions spanning entire oceans.
   
   WHY THIS CLASSIFICATION:
   For powers like China, the 2016 Award is a "Noose" that attempts to 
   asymmetrically restrict their perceived "historic rights". For 
   the US, Part XI (seabed mining) is viewed as an extractive limit on 
   economic/security interests.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    unclos_2026,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(unclos_2026_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(unclos_2026, Type1, context(agent_power(individual_powerless), time_horizon(biographical), exit_options(trapped), spatial_scope(national))),
    constraint_indexing:constraint_classification(unclos_2026, Type2, context(agent_power(institutional), time_horizon(civilizational), exit_options(mobile), spatial_scope(global))),
    Type1 = mountain,
    Type2 = rope.

test(hegemonic_noose_perception) :-
    % Powerful agents see it as a Noose when it restricts "historic" titles.
    constraint_indexing:constraint_classification(unclos_2026, noose, context(agent_power(individual_powerful), time_horizon(immediate), exit_options(arbitrage), spatial_scope(global))).

test(bbnj_rope_dynamic) :-
    % BBNJ Treaty (High Seas) entry into force 2026 marks a Rope expansion.
    narrative_ontology:interval(unclos_era, _, 2026).

:- end_tests(unclos_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE GAPS: Highlighted the gap between the "Mountain" of law for 
 * smaller states and the "Noose" of restriction for dissenting superpowers.
 * 2. 2026 CONTEXT: Integrated the BBNJ treaty (Jan 2026) as proof of UNCLOS's 
 * nature as a "living" Rope for institutional actors.
 * 3. EXTRACTIVENESS: Set at 0.3. It is not purely extractive, but powerful 
 * states perceive it as such when it "locks" resources they could otherwise 
 * seize.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    us_seabed_unilateralism,
    "Will U.S. Executive Order 14285 create a permanent split in the seabed mining regime?",
    resolution_mechanism("Monitor the conflict between NOAA-issued licenses and ISA contracts in 2026-2027."),
    impact("If Yes: UNCLOS becomes a failing Rope. If No: It solidifies as a Mountain."),
    confidence_without_resolution(medium)
).

omega_variable(
    scs_finality,
    "Does international pressure suffice to enforce the 'final' status of the 2016 Award in 2026?",
    resolution_mechanism("Observe the shift in 'Arbitration Support' from neutral to fully supporting countries."),
    impact("If High Support: Mountain. If Low: It remains a contestable Noose for China."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Unilateral "Cannon-Shot" or "Historic Rights" Claims
 * Viability: Historically practiced; China's "nine-dash line" is a modern 
 * version.
 * Suppression: Explicitly invalidated by the 2016 Arbitral Tribunal.
 * * ALTERNATIVE 2: Regional Bilateral Agreements
 * Viability: Beijing's preferred method for South China Sea.
 * Suppression: Small states prefer the "Universal" Rope of UNCLOS to balance power.
 * * CONCLUSION:
 * The shift from "Historic Rights" (Mountain-like natural title) to UNCLOS 
 * zones (Institutional Rope) is the core of 2026 maritime tension.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: us_suburban_zoning_2025
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: NYT Article "Would the Housing Crisis Ease if Boomers Rented Out Their Empty Rooms?" (May 4, 2025)
% ============================================================================

:- module(constraint_us_suburban_zoning_2025, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: us_suburban_zoning_2025
 * human_readable: Single-Family Suburban Zoning
 * domain: political/legal/social
 * temporal_scope: 1970s - 2025 (Active/Under Pressure)
 * spatial_scope: National (United States)
 * * SUMMARY:
 * Local zoning codes restrict large swaths of metropolitan land to low-density, 
 * single-family homes, creating a mismatch between existing housing stock 
 * and modern demographic needs. This legal constraint effectively bans 
 * apartment buildings and "roommate houses" in many areas, driving up 
 * [cite_start]affordability issues. [cite: 10, 13]
 * * KEY AGENTS:
 * - [cite_start]Monte Anderson: A "serial rehabber" developer using loopholes (hidden doors) to retrofit suburban homes into multi-unit apartments. [cite: 3, 4]
 * - [cite_start]Boomers/Older Homeowners: Owners of large lots and empty bedrooms, currently incentivized (or trapped) by the single-family status quo. [cite: 10, 16]
 * - [cite_start]Local Planning Boards/Zoning Codes: The institutional enforcers of the single-family mandate. [cite: 3, 10]
 * - [cite_start]Renters/Middle-Income Adults: Agents seeking smaller, affordable housing but priced out by a market biased toward luxury or high-cost single units. [cite: 6, 10]
 * * NARRATIVE ARC:
 * Originally designed for the 1970s nuclear family, zoning now acts as a 
 * [cite_start]"Mountain" of physical and legal inertia. [cite: 10, 11] Entrepreneurs like Anderson 
 * treat it as a "Noose" to be escaped via architectural loopholes, while 
 * states like California are attempting to convert it into a "Rope" (flexible 
 * [cite_start]coordination) through ADU laws. [cite: 12, 14]
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% ID for Python extraction
narrative_ontology:interval(us_suburban_zoning_2025, 1970, 2026).
narrative_ontology:constraint_claim(us_suburban_zoning_2025, noose).

% Base extractiveness: 0.7
% Rationale: High asymmetry. [cite_start]Homeowners with large lots gain "billions in value" [cite: 16] 
[cite_start]% while renters face a shortage of 4-8 million homes, keeping costs high. [cite: 5]
domain_priors:base_extractiveness(us_suburban_zoning_2025, 0.7).

% Suppression: 0.65
[cite_start]% Rationale: Apartment buildings are "essentially banned" in large swaths[cite: 10], 
% and alternatives like "roommate houses" require hidden doors in broom closets 
[cite_start]% to avoid legal detection. [cite: 1, 3]
domain_priors:suppression_score(us_suburban_zoning_2025, 0.65).

[cite_start]% Enforcement: Requires active maintenance (Permits, zoning codes, municipal inspections). [cite: 3, 6]
domain_priors:requires_active_enforcement(us_suburban_zoning_2025).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(us_suburban_zoning_2025, boomer_homeowners). [cite_start]% Own the biggest lots. [cite: 16]
constraint_beneficiary(us_suburban_zoning_2025, local_nimby_residents). [cite_start]% Residents who "don't like change". [cite: 12]
constraint_victim(us_suburban_zoning_2025, middle_income_renters). [cite_start]% Priced out by lack of small units. [cite: 6]
constraint_victim(us_suburban_zoning_2025, multifamily_developers). [cite_start]% Restricted by density limits. [cite: 10]

% Metrics for Executive Summary
narrative_ontology:constraint_metric(us_suburban_zoning_2025, extractiveness, 0.7).
narrative_ontology:constraint_metric(us_suburban_zoning_2025, suppression_requirement, 0.65).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: MONTE ANDERSON (DEVELOPER) - Noose
   --------------------------------------------------------------------------
   WHO: individual_moderate - Has resources to build, but constrained by law.
   WHEN: biographical - His career is built on navigating these specific codes.
   WHERE: constrained - He must hide features (broom closet doors) to survive.
   SCOPE: national - Sees the "America's affordable housing crisis" at large.
   
   WHY THIS CLASSIFICATION:
   Anderson sees zoning as a coercive limit that prevents the "logical" use of 
   existing property. He must "find a loophole" to provide what the market 
   [cite_start]actually needs (multifamily life). [cite: 3, 10]
   
   NARRATIVE EVIDENCE:
   [cite_start]"The main reason for their existence is that they allow Mr. Anderson to claim he lives in a single-family home... when in reality the home contains four apartments." [cite: 3]
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    us_suburban_zoning_2025,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(us_suburban_zoning_2025, E),
    E > 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: YOUNG RENTERS / GRANDDAUGHTER - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - Subjects of the housing shortage.
   WHEN: immediate - Focused on monthly rent ($1,800).
   WHERE: trapped - Housing supply "remained essentially flat" outside ADUs.
   SCOPE: regional - Limited to where they work (e.g., Dallas suburbs).
   
   WHY THIS CLASSIFICATION:
   For those without property, zoning is not a "choice" but a fixed reality 
   of the landscape that dictates where they can live and what they must pay. 
   [cite_start]The shortage is a "grinding" reality they simply endure. [cite: 11, 15]
   
   NARRATIVE EVIDENCE:
   [cite_start]"Construction costs have exploded... most new homes tend to be luxury rentals... rather than something a person with a middle or lower income can afford." [cite: 6]
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    us_suburban_zoning_2025,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(regional)
    )
) :-
    domain_priors:suppression_score(us_suburban_zoning_2025, S),
    S > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: CALIFORNIA LEGISLATORS / ENTREPRENEURS - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to rewrite the rules.
   WHEN: generational - Aiming to add "millions of units" over time.
   WHERE: mobile - Moving toward ADU laws and subdivision flexibility.
   SCOPE: continental - (Representing broad US state-level policy shifts).
   
   WHY THIS CLASSIFICATION:
   They view zoning as a tool that was once useful but now needs "tuning" or 
   "retrofitting." By passing ADU laws, they turn the constraint into a 
   [cite_start]mechanism for coordination and value-unlocking. [cite: 10, 14, 16]
   
   NARRATIVE EVIDENCE:
   [cite_start]"State legislators have proposed a blizzard of housing laws... the humble backyard cottage... is the main bright spot." [cite: 12, 14]
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    us_suburban_zoning_2025,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(continental)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(us_suburban_zoning_2025_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(us_suburban_zoning_2025, Type1, context(individual_moderate, biographical, constrained, national)), % Noose
    constraint_indexing:constraint_classification(us_suburban_zoning_2025, Type2, context(individual_powerless, immediate, trapped, regional)), % Mountain
    Type1 \= Type2.

test(power_extractiveness_scaling) :-
    % Middle-income renters (powerless) suffer more from the shortage than institutional brokers (BuildCasa).
    ContextPowerless = context(individual_powerless, immediate, trapped, regional),
    ContextPowerful = context(institutional, generational, mobile, continental),
    domain_priors:base_extractiveness(us_suburban_zoning_2025, Base),
    % Extraction for the powerless is effectively the base + penalty for lack of exit.
    % (Simulation of the index logic)
    true.

test(loophole_as_exit) :-
    % If an agent has a "loophole" (hidden door), they move from Trapped to Constrained.
    % This shifts the classification from Mountain (for the renter) to Noose (for the developer).
    true.

:- end_tests(us_suburban_zoning_2025_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.7): I chose a high score because the text 
 * explicitly notes "yawning inequality" and how the current system 
 * benefits older homeowners (Boomers) while creating a "grinding" 
 * [cite_start]shortage for everyone else. [cite: 15, 16]
 * * 2. SUPPRESSION SCORE (0.65): Alternatives (apartments) aren't just 
 * invisible; they are "essentially banned." The physical concealment 
 * [cite_start]of doors in closets is a literal manifestation of suppression. [cite: 3, 10]
 * * 3. PERSPECTIVES:
 * - [cite_start]Monte Anderson (Noose): He is the primary case study of navigating a coercive law. [cite: 3]
 * - Renters (Mountain): Represents the millions of people who cannot change 
 * [cite_start]the zoning but are forced to "double up" to survive. [cite: 15]
 * - Legislators (Rope): Represents the institutional effort to regain 
 * [cite_start]functional control of the housing stock. [cite: 12]
 * * 4. AMBIGUITIES:
 * - The article suggests Anderson's $1,800 units are "not affordable for low-income tenants," 
 * [cite_start]yet he views his work as a "proof of concept" for affordability. [cite: 9] 
 * I formalized this as an Omega regarding the scalability of his model.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    scalability_of_roommate_model,
    [cite_start]"Will high-cost retrofits ($1M for 4 units) actually lower costs for low-income tenants, or just middle-income ones?", [cite: 9]
    resolution_mechanism("Track average rent per square foot in retrofitted homes vs. traditional apartment builds over 5 years."),
    impact("If Mountain: The retrofit is just a niche luxury. If Rope: It becomes a viable national policy lever."),
    confidence_without_resolution(medium)
).

omega_variable(
    nimby_political_will,
    [cite_start]"Will local residents continue to successfully block zoning changes, or will state-level overrides become the new norm?", [cite: 12]
    resolution_mechanism("Measure the ratio of local zoning vetoes vs. state pre-emption overrides in CA/TX by 2030."),
    impact("If Noose: Residents keep a lock on supply. If Rope: Institutional agents successfully modernize the system."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: High-Density Upzoning (Transit-Oriented Development)
 * [cite_start]Viability: Proposed in CA laws but often met with flat production numbers. [cite: 12, 14]
 * [cite_start]Suppression: Rejected or stalled by local governments and "residents who don't like change." [cite: 12]
 * * ALTERNATIVE 2: Post-War "Mass-Built" Suburbs
 * [cite_start]Viability: The 1950s model that created the shortage. [cite: 15]
 * [cite_start]Evidence: The text notes this model is now "reversed" as households double up. [cite: 15]
 * * CONCLUSION:
 * The existence of ADU laws as a "bright spot" confirms that the rigid 
 * Single-Family zoning is a Noose being partially unraveled. If there 
 * [cite_start]were no alternatives, it would remain a Mountain. [cite: 14]
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: van_der_waerden_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Bartel Leendert van der Waerden (1927) / Ramsey Theory
% ============================================================================

:- module(constraint_van_der_waerden_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: van_der_waerden_theorem
 * human_readable: Van der Waerden's Theorem
 * domain: technological
 * temporal_scope: Permanent (Universal Mathematical Law)
 * spatial_scope: Global (Formal Systems)
 * * SUMMARY:
 * Van der Waerden's theorem states that for any given positive integers k and r, 
 * there exists a number N such that if the integers {1, 2, ..., N} are colored 
 * with r colors, then there is at least one monochromatic arithmetic progression 
 * of length k. It is a fundamental result in Ramsey theory, proving that 
 * complete disorder is impossible.
 * * KEY AGENTS:
 * - The Ramsey Theorist: Uses the theorem to find structured patterns in 
 * seemingly random partitions.
 * - The Finitist: Confronted with the astronomical size of the Van der 
 * Waerden numbers W(k, r), which are often beyond the reach of standard 
 * computation.
 * - The Formal System (Arithmetic): The substrate that guarantees order 
 * arises from scale.
 * * NARRATIVE ARC:
 * The theorem functions as a "Mountain" of inevitable structure; it is a 
 * law of the universe that large enough systems must contain patterns. 
 * For the mathematician, it is a "Rope" for proving lower bounds in 
 * combinatorics. However, for the computer scientist seeking the exact 
 * value of N, it becomes a "Noose," as the search space grows at an 
 * ackermannian rate, strangling computational resources.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(van_der_waerden_interval, 0, 10).
narrative_ontology:constraint_claim([van_der_waerden_theorem], combinatorial_necessity).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts "randomness" from the system. It forces structure 
% upon any large set, preventing the existence of "perfect" chaos.
domain_priors:base_extractiveness(van_der_waerden_theorem, 0.2).

% Suppression score (0.0-1.0)
% Rationale: It suppresses the alternative of "disorder." In a system 
% governed by this theorem, the possibility of a purely random partition 
% vanishes once the threshold N is reached.
domain_priors:suppression_score(van_der_waerden_theorem, 0.5).

% Enforcement requirements
domain_priors:emerges_naturally(van_der_waerden_theorem).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(van_der_waerden_theorem, extractiveness, 0.2).
narrative_ontology:constraint_metric(van_der_waerden_theorem, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(van_der_waerden_theorem, ramsey_theorists).
constraint_victim(van_der_waerden_theorem, [chaos_theorists, computational_resources]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MATHEMATICAL LOGICIAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the laws of information.
   WHEN: civilizational - Viewing logic as a permanent substrate.
   WHERE: trapped - Logic cannot bypass the pigeonhole principle or induction.
   SCOPE: global - Universal applicability.
   
   WHY THIS CLASSIFICATION:
   To the logician, the theorem is a Mountain. It is an unchangeable 
   mathematical fact. Complete disorder is logically impossible in a 
   sufficiently large set of integers; this is a fixed peak in the 
   landscape of Ramsey Theory.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    van_der_waerden_theorem,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COMBINATORIAL STRATEGIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define and utilize formal rules for proofs.
   WHEN: biographical - Achieving results within a career.
   WHERE: arbitrage - Can use the theorem to bound other unknown systems.
   SCOPE: national - Specific to the academic or professional domain.
   
   WHY THIS CLASSIFICATION:
   For the strategist, the theorem is a Rope. It is a coordination mechanism 
   that provides a guarantee of structure. By knowing that a monochromatic 
   progression must exist, they can "pull" other proofs forward by 
   leveraging this guaranteed order.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    van_der_waerden_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE COMPUTATIONAL ALGORITHMIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the limits of compute and time.
   WHEN: immediate - The current task of finding a specific W(k, r) value.
   WHERE: trapped - Limited by the extreme growth of the Van der Waerden numbers.
   SCOPE: local - Immediate workstation.
   
   WHY THIS CLASSIFICATION:
   For the computer scientist trying to calculate W(5, 2), the theorem is 
   a Noose. The upper bounds are so large (Gowers' bounds) that they 
   effectively strangle computational possibility. The theorem promises 
   the number exists, but the complexity of finding it is a trap that 
   tightens as k or r increases.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    van_der_waerden_theorem,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(van_der_waerden_theorem_tests).

test(multi_perspective_variance) :-
    % Perspective 1: Analyst sees Mountain
    constraint_indexing:constraint_classification(van_der_waerden_theorem, mountain, context(agent_power(analytical), _, _, _)),
    % Perspective 2: Institutional sees Rope
    constraint_indexing:constraint_classification(van_der_waerden_theorem, rope, context(agent_power(institutional), _, _, _)),
    % Perspective 3: Powerless sees Noose
    constraint_indexing:constraint_classification(van_der_waerden_theorem, noose, context(agent_power(individual_powerless), _, _, _)).

test(power_extractiveness_complexity) :-
    % Powerless algorists feel the total extraction of compute time (Noose).
    % Institutional mathematicians use it to bound other theories (Rope).
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    domain_priors:base_extractiveness(van_der_waerden_theorem, Score),
    Score > 0.1.

test(time_immutability_scale) :-
    % Long-term civilizational logic = Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(van_der_waerden_theorem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Low. The theorem extracts "entropy" or "disorder" from the 
 * mathematical landscape. It is not coercive in a social sense, but 
 * it forces structure where one might expect none.
 * * 2. SUPPRESSION SCORE (0.5):
 * Reasoning: The theorem suppresses the possibility of long-term random 
 * coloring. Once the scale is large enough, disorder is forbidden.
 * * 3. PERSPECTIVE SELECTION:
 * The Analyst (Mountain) sees the Law. The Strategist (Rope) sees the 
 * Guarantee. The Algorist (Noose) sees the Complexity.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    vd_waerden_exact_growth,
    "What is the exact growth rate of the Van der Waerden numbers W(k, r)?",
    resolution_mechanism("Mathematical proof narrowing the gap between Gowers' upper bounds and current lower bounds"),
    impact("If Gowers-like: It's a permanent Noose for computation. If significantly lower: It becomes a Rope for computer science."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Hales-Jewett Theorem
 * Viability: High. A much more general version of Van der Waerden's theorem 
 * applying to n-dimensional cubes.
 * Suppression: None, they are mutually reinforcing parts of Ramsey theory.
 * * CONCLUSION:
 * Since there are no "chaos-permitting" alternatives for large N, this 
 * constraint remains a Mountain for the universe, but the specific 
 * difficulty of computing N creates a Noose for the individual actor.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_van_der_waerden_theorem].
 * 2. Multi-perspective: ?- multi_index_report(van_der_waerden_theorem).
 * 3. Run tests: ?- run_tests(van_der_waerden_theorem_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: whitehead_problem_undecidability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: J.H.C. Whitehead (1952) / Shelah (1974) / Infinite Abelian Groups
% ============================================================================

:- module(constraint_whitehead_problem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: whitehead_problem_undecidability
 * human_readable: The Whitehead Problem (Group Theory Undecidability)
 * domain: mathematical/technological
 * temporal_scope: 1952 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Infinite Algebraic Structures)
 * * SUMMARY:
 * The Whitehead Problem asks whether every abelian group $A$ such that every 
 * extension of the integers by $A$ is split (a "Whitehead group") must be a free 
 * abelian group. Saharon Shelah proved in 1974 that this is undecidable in 
 * standard Zermelo-Fraenkel set theory with the Axiom of Choice (ZFC).
 * * KEY AGENTS:
 * - The Infinite Abelian Group (Subject): A powerless agent whose structural 
 * classification depends on the underlying axioms of the mathematical universe.
 * - Saharon Shelah (Institutional): The architect who demonstrated that the 
 * problem's truth depends on the model of set theory chosen.
 * - The Algebraic Purist (Analytical): An observer seeking a definitive 
 * "yes" or "no" answer, only to find the "Mountain" of ZFC is incomplete.
 * * NARRATIVE ARC:
 * The Whitehead Problem functions as a "Mountain" of logical reality where the 
 * path to the summit is missing. In homological algebra, it serves as a 
 * "Rope" for exploring the boundaries of freeness. However, for those seeking 
 * absolute algebraic certainty, the independence from ZFC acts as a "Noose," 
 * extracting the hope of a single "True" algebra (extraction) and "strangling" 
 * the intuition that basic group properties are absolute.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction of the ID and temporal range
narrative_ontology:interval(whitehead_era, 1952, 2026).
narrative_ontology:constraint_claim(whitehead_problem_undecidability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. While mathematically an "opening" of new models, it 
% extracts the possibility of a final, unified classification of 
% Whitehead groups, imposing a "metaphysical tax" on researchers.
domain_priors:base_extractiveness(whitehead_problem_undecidability, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the visibility of "Naive Algebra" by 
% proving that group properties can be dependent on set-theoretic axioms 
% like the Continuum Hypothesis.
domain_priors:suppression_score(whitehead_problem_undecidability, 0.3).

% Enforcement: Emerges naturally from the axioms of ZFC and forcing.
domain_priors:emerges_naturally(whitehead_problem_undecidability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(whitehead_problem_undecidability, extractiveness, 0.2).
narrative_ontology:constraint_metric(whitehead_problem_undecidability, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(whitehead_problem_undecidability, model_theorists).
constraint_beneficiary(whitehead_problem_undecidability, shelah_independence_research).
constraint_victim(whitehead_problem_undecidability, classical_abelian_group_theorists).
constraint_victim(whitehead_problem_undecidability, hilbertian_deductive_completeness).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE WHITEHEAD GROUP (W) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The group has no agency; its properties are fixed by its definition.
   WHEN: immediate - The status of freeness is true at the moment of construction.
   WHERE: trapped - Bound within the logical universe of the current model.
   SCOPE: local - Immediate algebraic relations.
   
   WHY THIS CLASSIFICATION:
   For an individual group, the Whitehead property is an absolute Mountain. 
   Whether it "appears" free or not is a fixed feature of the model it 
   inhabits. It cannot "choose" to split extensions differently; the 
   homological arithmetic is an unyielding law.
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    whitehead_problem_undecidability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SHELAH-ERA LOGICIAN - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to select the Axiom of Choice (AC), CH, or V=L.
   WHEN: biographical - Planning a career or a specific proof in model theory.
   WHERE: mobile - Can choose different models of set theory via forcing.
   SCOPE: global - Universal application in abstract mathematics.
   
   WHY THIS CLASSIFICATION:
   For the institutional logic researcher, the Whitehead problem is a "Rope"—a 
   functional coordination tool. By assuming the Continuum Hypothesis (CH) 
   or Martin's Axiom, they coordinate a "standard of achievement" for 
   group classification, pulling the problem into a state of provability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    whitehead_problem_undecidability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CLASSICAL ALGEBRAIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools of group theory but is bound by independence.
   WHEN: civilizational - Seeking a complete and final classification of groups.
   WHERE: constrained - The "exit" (a ZFC-based answer) is mathematically barred.
   SCOPE: global - Universal limit on formal algebraic knowledge.
   
   WHY THIS CLASSIFICATION:
   For the seeker of absolute algebraic truth, the Whitehead independence is 
   a "Noose." It "strangles" the dream that algebra is independent of 
   the "messy" foundations of set theory. It extracts the "certainty of 
   freeness" (extraction) by proving that even basic group-theoretic 
   questions are "choked" by the incompleteness of ZFC.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    whitehead_problem_undecidability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(whitehead_problem_undecidability, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(whitehead_problem_tests).

test(multi_perspective_variance) :-
    % Group -> Mountain
    constraint_indexing:constraint_classification(whitehead_problem_undecidability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Logician -> Rope
    constraint_indexing:constraint_classification(whitehead_problem_undecidability, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(deductive_extraction_penalty) :-
    % Algebraists experience the "Noose" of foundational extraction.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(whitehead_problem_undecidability, Context, Score),
    Score >= 0.15.

test(natural_emergence) :-
    domain_priors:emerges_naturally(whitehead_problem_undecidability).

:- end_tests(whitehead_problem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: The Whitehead problem extracts the "unity" of group theory. 
 * It forces a "metaphysical tax" where algebraic truth is no longer local 
 * to algebra but contingent on set-theoretic choices.
 * * 2. PERSPECTIVE SELECTION:
 * Chose the Group (Subject), the Shelah-era Logician (Institutional User), 
 * and the Classical Algebraist (Victim of Indeterminacy).
 * * 3. CLASSIFICATION RATIONALE:
 * The problem is a "Mountain" because the logic is unyielding, but 
 * becomes a "Noose" for those who refuse to use the "Rope" of 
 * extended axioms (like CH).
 * * 4. AMBIGUITIES:
 * The biggest variable is whether there exists a "Natural" model of 
 * sets that resolves the problem.
 */

% OMEGA IDENTIFICATION
omega_variable(
    natural_set_universe_consensus,
    "Is there a 'True' universe of sets (e.g., V=L or Large Cardinals) that makes Whitehead decidable (Mountain) or is it a pluralist Scaffold?",
    resolution_mechanism("Consensus on 'Ultimate L' or similar foundational proposals."),
    impact("If Mountain: The Whitehead problem has a 'True' answer. If Scaffold: It is permanently a Rope/Noose hybrid."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Constructible Universe (V=L)
 * Viability: In V=L, the answer is "Yes" (every Whitehead group is free).
 * Suppression: Rejected by those who view V=L as too "restrictive" or 
 * "unnatural" compared to the full power of Choice.
 * * ALTERNATIVE 2: Martin's Axiom (MA) + ¬CH
 * Viability: In this model, the answer is "No" (there are non-free Whitehead groups).
 * * CONCLUSION:
 * The existence of Alternative 1 (V=L) proves that the "Noose" of 
 * undecidability is a choice. We can climb the Mountain if we agree on 
 * which Rope to use.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * * 1. Load: ?- [whitehead_problem_undecidability].
 * 2. Multi-perspective: ?- multi_index_report(whitehead_problem_undecidability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
