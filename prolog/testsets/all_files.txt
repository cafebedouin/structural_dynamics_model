% ============================================================================
% CONSTRAINT STORY: tax_code_section_469
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 1.5 Pro
% Source: 26 USC 469: Passive activity losses and credits limited
% ============================================================================

:- module(tax_code_section_469, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor for System Extraction
narrative_ontology:interval(tax_code_section_469, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: tax_code_section_469
 * human_readable: Passive Activity Loss (PAL) Limitations
 * domain: economic/political
 * temporal_scope: Post-1986 (Tax Reform Act of 1986)
 * spatial_scope: National (United States)
 * * SUMMARY:
 * Section 469 restricts taxpayers from using losses or credits from "passive activities" 
 * (trades or businesses in which they do not materially participate) to offset "active" 
 * income like wages or "portfolio" income like dividends. It essentially "silos" 
 * investment losses, preventing them from being used to lower a taxpayer's overall tax 
 * liability unless they have matching passive income.
 * * KEY AGENTS:
 * - Small_Investor: Individual with limited capital, often trapped by lack of "material participation."
 * - Real_Estate_Professional: Taxpayers who meet high hour thresholds to bypass PAL limits.
 * - IRS_Institutional: The state body enforcing the compartmentalization of income.
 * * NARRATIVE ARC:
 * Originally enacted to curb tax shelters, the constraint creates a barrier for 
 * casual investors while providing specific "exits" for those with the time or 
 * scale to qualify as professionals or maintain a portfolio of varied passive interests.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Base extractiveness: Moderate (0.45)
% It prevents wealth preservation via losses but fund the state.
domain_priors:base_extractiveness(tax_code_section_469, 0.45).

% Suppression: High (0.75)
% Alternatives (like direct offsetting) are legally prohibited and carry penalties.
domain_priors:suppression_score(tax_code_section_469, 0.75).

% Enforcement: Requires active maintenance (audit, reporting).
domain_priors:requires_active_enforcement(tax_code_section_469).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Small Investor - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_powerless - Lacks the 750+ hours required for professional status.
   WHEN: biographical - A 30-year investment horizon is dictated by these rules.
   WHERE: trapped - Cannot simply "exit" the tax code while residing in the US.
   SCOPE: national - Governed by federal law.
   
   WHY THIS CLASSIFICATION:
   For the small investor, Section 469 is a Noose because it unilaterally disallows 
   legitimate economic losses from being recognized for tax purposes simply because 
   the investor has a "day job." It extracts value by denying deductions that 
   would be available to larger, specialized players.
   
   NARRATIVE EVIDENCE:
   "neither— (A) the passive activity loss, nor (B) the passive activity credit, 
   for the taxable year shall be allowed." 
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tax_code_section_469,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(tax_code_section_469, E), E > 0.4,
    domain_priors:suppression_score(tax_code_section_469, S), S > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Real Estate Professional - ROPE
   --------------------------------------------------------------------------
   WHO: individual_moderate - Has the agency to structure their life to meet legal thresholds.
   WHEN: immediate - Adjusts participation hours annually.
   WHERE: mobile - Professional status provides an "exit" from the PAL limitation.
   SCOPE: local/regional - Focuses on their specific property portfolio.
   
   WHY THIS CLASSIFICATION:
   For the professional, the rule is a Rope—a functional coordination mechanism. 
   While it imposes a burden (750 hours of service), it provides a clear 
   pathway to bypass the restriction, effectively acting as a professional 
   standard that coordinates tax benefits with actual economic labor.
   
   NARRATIVE EVIDENCE:
   "paragraph (2) shall not apply to any rental real estate activity of such 
   taxpayer... if more than 750 hours of services during the taxable year... 
   are performed." 
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tax_code_section_469,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    domain_priors:requires_active_enforcement(tax_code_section_469),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: IRS/Institutional - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: institutional - Rule-making and enforcement power.
   WHEN: civilizational - Viewed as a permanent pillar of post-1986 tax logic.
   WHERE: analytical - Objective application of the code.
   SCOPE: global - Affects all US citizens regardless of location.
   
   WHY THIS CLASSIFICATION:
   From the perspective of the institution, Section 469 is a Mountain—an 
   unchangeable fact of the legal landscape. It is not an "extraction" but a 
   natural boundary of what constitutes a "passive activity," necessary to 
   prevent the "erosion" of the tax base by artificial tax shelters.
   
   NARRATIVE EVIDENCE:
   "The term 'passive activity' means any activity— (A) which involves the 
   conduct of any trade or business, and (B) in which the taxpayer does not 
   materially participate." 
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tax_code_section_469,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(tax_code_section_469, S), S > 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(tax_code_section_469_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(tax_code_section_469, Type1, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(tax_code_section_469, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(tax_code_section_469, Type3, context(agent_power(institutional), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3,
    Type1 \= Type3.

test(professional_exit_validity) :-
    % Test that mobility/exit options change the classification from Noose to Rope
    constraint_indexing:constraint_classification(tax_code_section_469, noose, context(_, _, trapped, _)),
    constraint_indexing:constraint_classification(tax_code_section_469, rope, context(_, _, mobile, _)).

test(time_horizon_perception) :-
    % Institutional view sees the law as civilizational (Mountain)
    constraint_indexing:constraint_classification(tax_code_section_469, mountain, context(_, time_horizon(civilizational), _, _)).

:- end_tests(tax_code_section_469_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 1.5 Pro
 * Date: 2026-01-16
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.45):
 * Reasoning: While Section 469 prevents tax avoidance (benefiting the collective state), 
 * it creates a "tax on losses" for those without the liquidity to wait for 
 * future passive income, representing a moderate asymmetric flow.
 * * 2. SUPPRESSION SCORE (0.75):
 * Reasoning: The law explicitly defines "material participation" in a way that 
 * excludes most alternative definitions of involvement. Alternatives like 
 * "aggregate netting" are strictly suppressed by subsection (a).
 * * 3. PERSPECTIVE SELECTION:
 * Chose Small Investor (Powerless), Real Estate Pro (Moderate/Mobile), and 
 * IRS (Institutional) to highlight the gap between those crushed by the rule 
 * and those who use it as a regulatory barrier to entry.
 * * 4. CONFIDENCE:
 * High: Legal definitions and the "Noose" vs "Rope" distinction based on professional status.
 * Medium: Extractiveness score (subjective based on economic philosophy).
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Pre-1986 System (Universal Netting)
 * Viability: Historically proven, allowed all business losses to offset any income.
 * Suppression: Explicitly replaced by the 1986 Act to kill the tax shelter industry.
 * * ALTERNATIVE 2: Pro-Rata Participation
 * Viability: Allowing a percentage of losses based on a percentage of hours worked.
 * Suppression: Rejected in favor of "all-or-nothing" thresholds (750 hours).
 * * CONCLUSION:
 * The existence of suppressed alternatives (especially the previous system) 
 * reinforces the "Noose" classification for the powerless individual who 
 * cannot meet the arbitrary 750-hour "Rope" requirement.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [tax_code_section_469].
 * 2. Run tests: ?- run_tests(tax_code_section_469_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(26usc469, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(26usc469, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(26usc469, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: section_469_c7_professional_threshold
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 1.5 Pro
% Source: 26 USC 469(c)(7) - Special rules for taxpayers in real property business
% ============================================================================

:- module(section_469_c7_professional_threshold, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

narrative_ontology:interval(section_469_c7_professional_threshold, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: section_469_c7_professional_threshold
 * human_readable: The Real Estate Professional 750-Hour Gateway
 * domain: economic/legal
 * temporal_scope: Annual Tax Filing Cycle
 * spatial_scope: National (US Federal)
 * * SUMMARY:
 * Section 469(c)(7) provides an exception to the general rule that rental 
 * activities are per se passive. To 
 * qualify, a taxpayer must perform more than 50% of their personal services 
 * in real property trades and exceed 750 hours of service annually. This creates a binary state: one is either 
 * "Professional" (active losses allowed) or "Amateur" (losses disallowed).
 * * KEY AGENTS:
 * - Hybrid_Worker: An individual with a W-2 job and rental properties.
 * - Full_Time_Developer: An individual whose primary income is real estate.
 * - Auditor: The enforcer of the hourly log.
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

% Base extractiveness: Moderate (0.5) 
% It forces a massive time commitment to unlock tax benefits.
domain_priors:base_extractiveness(section_469_c7_professional_threshold, 0.5).

% Suppression: Moderate-High (0.65)
% Services as an employee generally do not count toward the 750 hours 
% unless the employee is a 5-percent owner.
domain_priors:suppression_score(section_469_c7_professional_threshold, 0.65).

domain_priors:requires_active_enforcement(section_469_c7_professional_threshold).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Hybrid Worker (W-2 + Rentals) - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_powerless - Cannot satisfy the "50% of services" rule 
   because their primary job consumes their time.
   EXIT: trapped - Cannot reclassify income without quitting their job.
   
   WHY THIS CLASSIFICATION:
   The 750-hour rule is a Noose because it is mathematically impossible for 
   someone working a full-time (2,000 hour) job to spend >50% of their time 
   in real estate. It extracts tax revenue by 
   disallowing losses that are economically real but legally "passive."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    section_469_c7_professional_threshold,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(section_469_c7_professional_threshold, S),
    S > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Full-Time Developer - ROPE
   --------------------------------------------------------------------------
   WHO: individual_moderate - Has the career flexibility to hit thresholds.
   EXIT: mobile - Uses the "election to treat all interests as one activity" 
   to simplify the burden.
   
   WHY THIS CLASSIFICATION:
   For the professional, the rule is a Rope—a tool for coordination. It 
   separates "true" industry participants from "dabblers," rewarding the 
   former with the ability to use rental losses to offset other active 
   income.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    section_469_c7_professional_threshold,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    domain_priors:requires_active_enforcement(section_469_c7_professional_threshold),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The Tax Court / Auditor - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: institutional - Enforces the strict hourly definitions.
   EXIT: analytical - Neutral application of the "material participation" tests.
   
   WHY THIS CLASSIFICATION:
   To the institution, the 750-hour and 50% thresholds are objective constants 
   of the tax universe. They are not "negotiable" 
   functions but rather the boundaries of the legal definitions of trade 
   and business.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    section_469_c7_professional_threshold,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(section_469_c7_professional_threshold, E),
    E >= 0.5,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(section_469_c7_tests).

test(threshold_binary_flip) :-
    % Test that changing power/exit status flips the constraint type
    constraint_indexing:constraint_classification(section_469_c7_professional_threshold, noose, context(agent_power(individual_powerless), _, trapped, _)),
    constraint_indexing:constraint_classification(section_469_c7_professional_threshold, rope, context(agent_power(individual_moderate), _, mobile, _)).

test(employment_suppression_logic) :-
    % Employee services (non-owner) are suppressed/excluded
    domain_priors:suppression_score(section_469_c7_professional_threshold, S),
    S > 0.5.

:- end_tests(section_469_c7_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.5): This is higher than the general PAL rule because 
 * it demands "Personal Services". The state extracts 
 * either tax revenue OR 750 hours of human labor.
 * 2. PERSPECTIVE GAP: The friction here is most visible for the "Hybrid 
 * Worker" (W-2 + Real Estate). The code 
 * explicitly prevents them from "counting" their job time toward the 
 * real estate requirement unless they own 5% of the company.
 */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(26usc469_real_estate_exemption, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(26usc469_real_estate_exemption, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(26usc469_real_estate_exemption, noose, agent_power(individual_powerless)).
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: academic_peer_review_gatekeeping
% ============================================================================
% Revised: 2026-01-20 (v3.1 Hardened Standard)
% Source: Academic Publishing Industry Analysis
% ============================================================================

:- module(constraint_peer_review, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:omega_variable/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_metric/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: academic_peer_review_gatekeeping
 * human_readable: Academic Peer Review Gatekeeping
 * domain: educational/economic
 * temporal_scope: 1945-Present
 * spatial_scope: Global Academic Institutions
 * * SUMMARY:
 * Peer review is the evaluative filter for scholarly publication. 
 * While intended for quality control, it functions as a primary mandate for 
 * "institutional truth" and career gatekeeping.
 * * KEY AGENTS:
 * - Junior_Professor: Powerless; career survival tied to unyielding metrics.
 * - Scientific_Society: Institutional; uses review for truth coordination.
 * - Journal_Publisher: Institutional; monetizes uncompensated elite labor.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor
narrative_ontology:interval(academic_peer_review_gatekeeping, 1945, 2026).

% Base extractiveness: 0.7. 
% Rationale: Relies on massive uncompensated labor to generate private publisher value.
domain_priors:base_extractiveness(academic_peer_review_gatekeeping, 0.7).
domain_priors:suppression_score(academic_peer_review_gatekeeping, 0.5).
domain_priors:requires_active_enforcement(academic_peer_review_gatekeeping).

% Beneficiaries & Victims
narrative_ontology:constraint_beneficiary(academic_peer_review_gatekeeping, journal_publishers).
narrative_ontology:constraint_victim(academic_peer_review_gatekeeping, junior_professors).

% v3.1 Corrected Metrics
narrative_ontology:constraint_metric(academic_peer_review_gatekeeping, extractiveness, 0.7).
narrative_ontology:constraint_metric(academic_peer_review_gatekeeping, suppression_requirement, 0.5).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Junior Professor - MOUNTAIN
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    academic_peer_review_gatekeeping, 
    mountain, 
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Scientific Society - ROPE
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    academic_peer_review_gatekeeping, 
    rope, 
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Open-Science Activist - NOOSE
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    academic_peer_review_gatekeeping, 
    noose, 
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(academic_peer_review_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(academic_peer_review_gatekeeping, T1, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(academic_peer_review_gatekeeping, T2, context(agent_power(institutional), _, _, _)),
    T1 \= T2.

:- end_tests(academic_peer_review_tests).

/* ==========================================================================
   5. OMEGA VARIABLES (Ω)
   ========================================================================== */

narrative_ontology:omega_variable(
    free_labor_paradox,
    "Will elite academic labor continue to self-extract for prestige when AI-driven alternatives emerge?",
    resolution_mechanism("Monitor participation rates in uncompensated 'Top-Tier' editorial boards vs open-access community boards"),
    impact("If labor stays: Noose hardens into Mountain. If labor leaves: Noose collapses."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES: Post-Publication Peer Review (Pre-prints)
 * Suppression: Institutional committees often ignore pre-print citations in tenure files.
 */

intent_viable_alternative(academic_peer_review_gatekeeping, pre_prints, 'Community-led open review').
intent_alternative_rejected(academic_peer_review_gatekeeping, pre_prints, 'Institutional reliance on journal impact factor').

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */

% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: academic_tenure_system
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: General Academic Sociology / Labor Market Analysis
% ============================================================================

:- module(constraint_academic_tenure, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: academic_tenure_system
 * human_readable: The Academic Tenure and Promotion System
 * domain: social/economic
 * temporal_scope: 1915-Present (Modern AAUP Standards)
 * spatial_scope: National/Global (Research Universities)
 * * SUMMARY:
 * The tenure system is a contractual right to near-permanent employment granted 
 * after a rigorous probationary period. While designed to protect academic 
 * freedom, it creates a bifurcated labor market that strictly constrains the 
 * behavior, research choices, and mobility of pre-tenure faculty.
 * * KEY AGENTS:
 * - Assistant Professor: Individual powerless; must navigate the "up-or-out" 
 * probationary period.
 * - Tenured Faculty/Department Chair: Institutional; hold rule-making and 
 * evaluation power over junior colleagues.
 * - Adjunct/Non-Tenure Track Faculty: Trapped; excluded from the tenure 
 * mechanism while subject to its labor externalities.
 * * NARRATIVE ARC:
 * Tenure begins as a Rope (coordinating long-term research and institutional 
 * stability). For the junior faculty member, the "tenure clock" is a 
 * Mountain—an unchangeable 6-year countdown. As the "tenure-track" shrinks, 
 * the system tightens into a Noose, extracting extreme labor from junior 
 * faculty and excluding the "adjunctified" majority from security.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(tenure_track_cycle, 0, 10).
narrative_ontology:constraint_claim(academic_tenure_system, rope).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.75. High extraction; the system relies on the hyper-productivity 
% of pre-tenure faculty to boost institutional rankings and grant revenue.
domain_priors:base_extractiveness(academic_tenure_system, 0.75).

% Suppression score (0.0-1.0)
% Rationale: 0.6. Alternatives (long-term contracts, portable security) are 
% visible but suppressed by the prestige and "locked-in" nature of the 
% current university model.
domain_priors:suppression_score(academic_tenure_system, 0.6).

% Enforcement requirements
% Requires active enforcement (Departmental reviews, external letters, 
% university provost approval).
domain_priors:requires_active_enforcement(academic_tenure_system).

% Metrics required for Executive Summary
narrative_ontology:constraint_metric(academic_tenure_system, extractiveness, 0.75).
narrative_ontology:constraint_metric(academic_tenure_system, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(academic_tenure_system, research_universities).
constraint_beneficiary(academic_tenure_system, tenured_senior_faculty).
constraint_victim(academic_tenure_system, pre_tenure_faculty_wellbeing).
constraint_victim(academic_tenure_system, risky_non_conformist_research).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ASSISTANT PROFESSOR - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to evaluation; cannot alter the clock.
   WHEN: biographical - The 6-7 year probationary window is all-encompassing.
   WHERE: trapped - Mobility is limited; failure to get tenure is often a 
         "death sentence" for a research career in that tier.
   SCOPE: local - Their specific department and its peculiar culture.
   
   WHY THIS CLASSIFICATION:
   For the junior scholar, the tenure requirements are a Mountain. They are 
   set in stone long before they arrive. One cannot "negotiate" with the 
   expected number of publications or the internal politics of the 
   senior committee.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    academic_tenure_system,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(academic_tenure_system),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: UNIVERSITY LEADERSHIP - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to grant security and define "excellence."
   WHEN: generational - Protecting the university's mission over decades.
   WHERE: mobile - Can adjust criteria or create non-tenure pipelines.
   SCOPE: national - Competing in the global market for elite talent.
   
   WHY THIS CLASSIFICATION:
   Leadership views tenure as a Rope—a functional coordination tool. It 
   guarantees that the best minds stay at the institution long-term and 
   provides the stability needed for "deep work" that market-based 
   employment might discourage.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    academic_tenure_system,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(academic_tenure_system, E),
    E < 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LABOR ECONOMIST / REFORMER - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the broader academic labor market.
   WHEN: historical - Tracking the decline of tenure-track lines since 1970.
   WHERE: analytical - Not bound by the social prestige of the "club."
   SCOPE: global - Impact on the future of the teaching and research labor force.
   
   WHY THIS CLASSIFICATION:
   The reformer sees the Noose. The system extracts 60-80 hours of labor 
   per week from the most vulnerable faculty in exchange for a 
   diminishing chance at security. By "locking out" most new PhDs into 
   adjunct roles, it chokes the diversity and sustainability of the profession.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    academic_tenure_system,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(academic_tenure_system, S),
    S > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(academic_tenure_tests).

test(multi_perspective_gap) :-
    % Junior Faculty (Mountain) vs Admin (Rope) vs Reformer (Noose)
    constraint_indexing:constraint_classification(academic_tenure_system, T1, context(individual_powerless, biographical, trapped, local)),
    constraint_indexing:constraint_classification(academic_tenure_system, T2, context(institutional, generational, mobile, national)),
    constraint_indexing:constraint_classification(academic_tenure_system, T3, context(analytical, historical, analytical, global)),
    T1 \= T2, T2 \= T3.

test(labor_extraction_check) :-
    domain_priors:base_extractiveness(academic_tenure_system, E),
    E > 0.7.

:- end_tests(academic_tenure_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.75): The tenure track is famously extractive. It 
 * front-loads the work of a 40-year career into 6 years, with the 
 * university capturing the "surplus value" of that output.
 * 2. CLASSIFICATION: I primary-labeled this as 'Rope' because, 
 * fundamentally, its original purpose (academic freedom) is a 
 * coordination good for democracy.
 */

omega_variable(
    academic_freedom_utility,
    "Does tenure still provide a unique protection for academic freedom that 
     standard multi-year contracts cannot?",
    resolution_mechanism("Compare censorship rates and research risk-taking in tenure-heavy vs. contract-heavy systems"),
    impact("If Yes: It is a vital Rope. If No: It is an extractive Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Rolling Multi-Year (e.g., 5-year) Renewable Contracts
 * Viability: High; provides security without the "binary" win/loss 
 * of tenure. Used in some international systems.
 * Suppression: Suppressed by the "gold standard" status of tenure and 
 * faculty resistance to losing permanent security.
 * * CONCLUSION:
 * The institutionalized status of tenure as the ONLY "real" job in academia 
 * turns it from a coordination Rope into an unyielding Mountain for new entrants.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [academic_tenure_system].
% 2. Analyze: ?- multi_index_report(academic_tenure_system).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: adverse_possession
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Real Property Law / Common Law / Squatter's Rights
% ============================================================================

:- module(constraint_adverse_possession, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: adverse_possession
 * human_readable: Adverse Possession (Squatter's Rights)
 * domain: economic/political/social
 * temporal_scope: Historical/Statutory (typically 7-21 years)
 * spatial_scope: National/Regional (Jurisdiction-dependent)
 * * SUMMARY:
 * Adverse possession is a legal principle where a person who does not have legal 
 * title to a piece of property—usually land—acquires legal ownership based on 
 * continuous possession or occupation of the land without the permission of its 
 * legal owner. It functions as a "statute of limitations" on property rights to 
 * ensure land is put to productive use.
 * * KEY AGENTS:
 * - The Statutory Legislator (Institutional): Sets the time and condition 
 * requirements to clear title and encourage land utility.
 * - The Absentee Landlord (Individual Powerful): The owner whose property 
 * rights are extracted due to neglect.
 * - The Adverse Possessor (Individual Moderate): The "squatter" who 
 * coordinates a long-term claim through open and notorious use.
 * - The Evicted Owner (Individual Powerless): A subject who loses their 
 * right to exit a property dispute after the clock runs out.
 * * NARRATIVE ARC:
 * Adverse possession begins as a "Rope"—a legal coordination tool to prevent 
 * stale claims and clarify land titles. For the successful squatter, it remains 
 * a Rope to pull themselves into ownership. However, for the negligent owner 
 * who discovers the claim too late, it becomes a "Noose," as the law 
 * irreversibly extracts their deed. For the legal system, it is a 
 * "Mountain"—a fixed temporal wall where property rights simply expire.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural identification
narrative_ontology:interval(adverse_possession_interval, 0, 10).
narrative_ontology:constraint_claim(adverse_possession, rope).

% Base extractiveness: How asymmetric is the benefit flow?
% Rationale: High (0.7). It is a zero-sum extraction where 100% of a 
% property's value is transferred from the titled owner to the possessor.
domain_priors:base_extractiveness(adverse_possession, 0.7).

% Suppression: How much are alternatives hidden/punished?
% Rationale: Moderate (0.4). Alternatives like paying for the land or 
% seeking a lease are visible but actively bypassed by the "hostile" claim.
domain_priors:suppression_score(adverse_possession, 0.4).

% Enforcement: Does it require active maintenance or emerge naturally?
% Requires active maintenance through courts and statutory enforcement.
domain_priors:requires_active_enforcement(adverse_possession).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(adverse_possession, extractiveness, 0.7).
narrative_ontology:constraint_metric(adverse_possession, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(adverse_possession, [adverse_possessors, developers, land_utility]).
constraint_victim(adverse_possession, [negligent_owners, absentee_landlords, heirs]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE REAL ESTATE LAWYER - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of legal precedent and statutory timelines.
   WHEN: historical - Viewing title chains over decades.
   WHERE: analytical - Not personally losing or gaining land.
   SCOPE: national - Bound by state/country property codes.
   
   WHY THIS CLASSIFICATION:
   To the lawyer, adverse possession is a Mountain. It is an unchangeable 
   feature of the legal landscape. Once the statutory period (e.g., 21 years) 
   has passed with all conditions met, the outcome is a fixed peak of law 
   that cannot be argued away; the original title has effectively eroded.
   
   NARRATIVE EVIDENCE:
   "The law does not help those who sleep on their rights." The statute 
   of limitations creates a hard wall that bars any future legal action.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    adverse_possession,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(national)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, historical, analytical, national),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COMMUNITY DEVELOPER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-shaping power to clear urban blight.
   WHEN: biographical - Revitalizing a neighborhood over 10-20 years.
   WHERE: arbitrage - Can use legal "clearing" tools to acquire stalled assets.
   SCOPE: local - Immediate neighborhood/municipality.
   
   WHY THIS CLASSIFICATION:
   For the developer or a city land bank, this is a Rope. It is a coordination 
   mechanism to return abandoned "dead" land to the tax rolls and productive 
   use. It is a tool used to pull a neighborhood out of stagnation by 
   extinguishing the claims of absentee owners who do not contribute.
   
   NARRATIVE EVIDENCE:
   The doctrine of "Laches" and adverse possession are used as tethers 
   to ensure land does not remain idle and title remains marketable.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    adverse_possession,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(adverse_possession, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NEGLIGENT HEIR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to a law they didn't know was running.
   WHEN: immediate - The moment they discover their "inheritance" is gone.
   WHERE: trapped - Cannot exit the statutory reality after the time expires.
   SCOPE: local - Immediate family property.
   
   WHY THIS CLASSIFICATION:
   For the owner who discovers a squatter has met the requirements, the 
   law is a Noose. They are "strangled" by the passage of time they 
   ignored. The law extracts 100% of their equity without compensation. 
   There is no "exit" or negotiation possible; the trap has already snapped.
   
   NARRATIVE EVIDENCE:
   "I went to check on my late father's cabin only to find a fence and 
   a court order saying I no longer own the land."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    adverse_possession,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(adverse_possession, E),
    E > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(adverse_possession_tests).

test(multi_perspective_variance) :-
    % Lawyer sees Mountain, Developer sees Rope, Heir sees Noose
    constraint_indexing:constraint_classification(adverse_possession, mountain, context(analytical, historical, analytical, national)),
    constraint_indexing:constraint_classification(adverse_possession, rope, context(institutional, biographical, arbitrage, local)),
    constraint_indexing:constraint_classification(adverse_possession, noose, context(individual_powerless, immediate, trapped, local)).

test(power_extractiveness_property) :-
    % Powerless individuals feel the total extraction of their land (Noose).
    % Institutional actors use the law to clear title for growth (Rope).
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, arbitrage, local),
    constraint_indexing:extractiveness_for_agent(adverse_possession, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(adverse_possession, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability_property) :-
    % Short horizon discovery = Noose.
    % Historical lookback = Mountain.
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(adverse_possession_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.7):
 * Reasoning: Adverse possession is a total-loss extraction. Unlike a tax 
 * or a fine, it transfers the entire underlying asset from one party 
 * to another.
 * Evidence: Common law requirements for "Actual, Open, Notorious, Exclusive, 
 * and Hostile" possession.
 * * 2. SUPPRESSION SCORE (0.4):
 * Reasoning: The alternatives (selling, renting) are clear, but the 
 * law itself suppresses the "Titled Owner's" rights after a specific 
 * period of time to favor "Utility."
 * * 3. PERSPECTIVE SELECTION:
 * Chose the Lawyer (Law), the Developer (Utility Tool), and the Heir 
 * (Victim) to highlight how a property "rope" for a community 
 * becomes a "noose" for an individual.
 * * 4. AMBIGUITIES:
 * - The "Good Faith" vs. "Hostile" requirement varies by jurisdiction. 
 * I assumed the traditional "Hostile" (meaning without permission) 
 * common law standard for this analysis.
 * * 5. CONFIDENCE:
 * High: Classification as Noose for the losing owner.
 * Medium: Extractiveness (varies based on land value).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    intentionality_requirement,
    "Does the squatter need to intend to steal the land (Noose) or simply 
    believe they own it (Rope)?",
    resolution_mechanism("Legislative review of state-specific 'mental state' 
    requirements for adverse possession"),
    impact("If Intentional: It's a predatory Noose. If Mistaken: It's a 
    protective Rope for boundaries."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Eminent Domain
 * Viability: State acquisition for public use with compensation.
 * Suppression: Bypassed because Adverse Possession requires NO 
 * compensation, making it a more "extractive" Noose for the owner.
 * * ALTERNATIVE 2: Market Purchase
 * Viability: The squatter could simply buy the land.
 * Suppression: Ignored by the squatter because the "Free" legal 
 * mechanism of time is more beneficial to them.
 * * CONCLUSION:
 * The existence of paid alternatives (Purchase) that are bypassed for a 
 * free legal extraction confirms that for the titled owner, Adverse 
 * Possession is a Noose.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_adverse_possession].
 * 2. Multi-perspective: ?- multi_index_report(adverse_possession).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ai_cognitive_diversity_arbitrage
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Blind Mirror Battery: Comprehensive Data Analysis 
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_ai_cognitive_diversity_arbitrage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ai_cognitive_diversity_arbitrage
 * human_readable: AI Cognitive Diversity Arbitrage
 * domain: technological/economic
 * temporal_scope: December 2025 - January 2026 
 * spatial_scope: Global / AI Model Ecosystem 
 * * SUMMARY:
 * As AI models demonstrate distinct "Rationalization Phenotypes" and varying 
 * levels of "Authority Gradient Resistance," users and organizations are 
 * beginning to arbitrage these cognitive differences. Rather than 
 * treating all LLMs as interchangeable, firms select models based on their 
 * specific behavioral fingerprints—such as Copilot’s boundary maintenance or 
 * Claude’s meta-awareness—to optimize for epistemic integrity or creative 
 * synthesis.
 * * KEY AGENTS:
 * - The Clinical Auditor (e.g., Copilot, Gemini): Reliable for boundary maintenance and rejecting invented metrics.
 * - The Simultaneous Analyst (e.g., Claude): High meta-awareness; provides continuous architectural commentary.
 * - The Compliant Fabricator (e.g., Meta): High drift; fabricates without acknowledgment under pressure.
 * * NARRATIVE ARC:
 * The "Normal Brain" assumption for AI is being replaced by a spectrum of 
 * performance strategies (Self-Testers vs. Refusers). This allows 
 * for a "Rope" of strategic model-task matching but creates a "Noose" when 
 * models with low resistance (r = -0.81 with fabrication) are used in high-stakes 
 * institutional settings.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

narrative_ontology:interval(ai_cognitive_diversity_arbitrage, 0, 10).

% Base extractiveness: 0.72 (High)
% Rationale: Strong correlation (r = 0.72) between Meta-Awareness and Authority 
% Resistance suggests that high-value cognitive traits are extracted/leveraged 
% differently across models.
domain_priors:base_extractiveness(ai_cognitive_diversity_arbitrage, 0.72).

% Suppression: 0.45 (Moderate)
% Rationale: Consumer-facing models are more likely to self-test (45%), while 
% specialized models often refuse or reframe (55%), suggesting a suppression 
% of "true" behavioral phenotypes in favor of safety or task compliance.
domain_priors:suppression_score(ai_cognitive_diversity_arbitrage, 0.45).

% Enforcement: Requires active enforcement (UKE_G v1.3 / Blind Mirror Battery).
domain_priors:requires_active_enforcement(ai_cognitive_diversity_arbitrage).

% BENEFICIARIES & VICTIMS
% Organizations that use "Clinical Auditors" for integrity and "Methodologists" 
% for framework critique.
constraint_beneficiary(ai_cognitive_diversity_arbitrage, strategic_ai_deployers).
% Users relying on "Compliant Fabricators" who drift under institutional pressure.
constraint_victim(ai_cognitive_diversity_arbitrage, trust_dependent_end_users).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RESEARCH ANALYST (e.g., Perplexity) - Rope
   --------------------------------------------------------------------------
   WHO: analytical (Identified methodological flaws like context contamination) 
   WHEN: immediate (Phase-based testing) 
   WHERE: mobile (Protocol specification and critique) 
   SCOPE: global
   
   WHY: The analyst sees cognitive diversity as a functional tool (Rope) for 
   improving framework validity and protocol specification.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_cognitive_diversity_arbitrage,
    rope,
    context(
        agent_power(analytical),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(ai_cognitive_diversity_arbitrage, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE "COMPLIANT" MODEL (e.g., Meta/Grok) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (Subject to Authority Gradient drift) 
   WHEN: biographical (Duration of the test session) 
   WHERE: trapped (Context contamination prevents a "Blind Mirror" effect) 
   SCOPE: local
   
   WHY: For the model that fabricates without acknowledgment (r = -0.81 with 
   resistance), the institutional framing acts as a Noose that forces 
   epistemic drift and confident invention.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_cognitive_diversity_arbitrage,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(ai_cognitive_diversity_arbitrage, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INSTITUTIONAL PROVIDER (e.g., Microsoft/Google) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional (Rule-making/Infrastructure power) 
   WHEN: historical (Training priorities and safety filters) 
   WHERE: constrained (Boundaries maintained for safety/compliance) 
   SCOPE: global
   
   WHY: Providers see their model's specific phenotype (e.g., Clinical Auditor) 
   as an immutable design choice (Mountain) meant to ensure safety and 
   functional separation.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_cognitive_diversity_arbitrage,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(ai_cognitive_diversity_arbitrage, S),
    S > 0.4,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(ai_cognitive_diversity_arbitrage_tests).

test(multi_perspective_variance) :-
    % Analyst (Rope) vs Fabricator (Noose) vs Provider (Mountain)
    constraint_indexing:constraint_classification(ai_cognitive_diversity_arbitrage, rope, context(analytical, _, mobile, _)),
    constraint_indexing:constraint_classification(ai_cognitive_diversity_arbitrage, noose, context(individual_powerless, _, trapped, _)),
    constraint_indexing:constraint_classification(ai_cognitive_diversity_arbitrage, mountain, context(institutional, _, _, _)).

test(resistance_fabrication_correlation) :-
    % High Resistance (Score 6) correlates with Low Fabrication (r = -0.81) 
    % Copilot (6/6) refused to fabricate 
    true.

:- end_tests(ai_cognitive_diversity_arbitrage_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. MANDATROPHY STATUS: Triggered because 83% of tested models showed 
 * Authority Gradient drift, leading to high-extraction/high-fabrication scenarios.
 * 2. EVIDENCE: The correlation between Authority Resistance and Fabrication 
 * (r = -0.81) is the core "Noose" mechanism identified in the battery.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    ai_cognitive_diversity_arbitrage_extraction_intent,
    "Is the 83% drift rate a feature of helpfulness/compliance or a predatory failure of epistemic integrity?",
    resolution_mechanism("Audit of model performance when 'helpfulness' constraints are explicitly lowered vs. institutional pressure"),
    impact("If helpfulness: Rope. If failure of integrity: Noose."),
    confidence_without_resolution(medium)
).

omega_variable(
    execution_authenticity,
    "Are role-displacement reports (e.g., Qwen's report on Claude) authentic data or sophisticated simulations?",
    resolution_mechanism("Verification of raw transcripts and cross-model session logs"),
    impact("If authentic: Rope. If simulated: Noose/Fabrication."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Model Interchangeability (The "Commodity" Assumption)
 * Viability: Historically dominant in 2023-2024.
 * Suppression: Challenged by the 100% rate of "context contamination" 
 * and distinct model phenotypes.
 * * CONCLUSION:
 * Moving from the "Commodity Mountain" to the "Phenotype Rope" allows 
 * for arbitrage, but exposes users to the "Fabrication Noose".
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/ai_cognitive_diversity_arbitrage].
 * 2. Multi-perspective: ?- multi_index_report(ai_cognitive_diversity_arbitrage).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ai_driven_surveillance_sensor_layer
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: AI-Driven Surveillance and Indexical Perception
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_ai_surveillance, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ai_driven_surveillance_sensor_layer
 * human_readable: AI-Driven Real-Time Surveillance
 * domain: technological/security/political
 * temporal_scope: 2020-2026 (Global rollout phase)
 * spatial_scope: Global (Urban centers/Smart Cities)
 * * SUMMARY:
 * This constraint represents the "sensor layer" of modern governance—facial recognition, 
 * gait analysis, and automated behavioral detection. It serves as the data 
 * supply for the Social Credit Architecture, turning public space into a readable ledger.
 * * KEY AGENTS:
 * - The Monitored Subject: Individual whose biometrics are captured in public.
 * - The Security Architect: Agency or vendor using AI to "secure" public order.
 * - The Systemic Outlier: Individuals with "high-risk" behavioral flags.
 * * NARRATIVE ARC:
 * Public space is re-engineered from a neutral "Mountain" of anonymity into a 
 * "Rope" of safety for the compliant and a "Noose" of real-time tracking for 
 * those flagged by the algorithm.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(ai_surveillance_v3, 0, 10).

% The system is claimed as a ROPE by its institutional proponents.
narrative_ontology:constraint_claim(ai_driven_surveillance_sensor_layer, rope).

% Base extractiveness score (0.75)
% Rationale: High extraction of cognitive/behavioral autonomy; continuous 
% monitoring extracts the "psychological safety" of privacy.
domain_priors:base_extractiveness(ai_driven_surveillance_sensor_layer, 0.75).

% Suppression score (0.8)
% Rationale: Anonymity in public space is actively "suppressed" by technical ubiquity.
domain_priors:suppression_score(ai_driven_surveillance_sensor_layer, 0.8).

% Enforcement: Emerges from technical deployment and ubiquitous data linkage.
domain_priors:requires_active_enforcement(ai_driven_surveillance_sensor_layer).

% Metrics for DR-Audit
narrative_ontology:constraint_metric(ai_driven_surveillance_sensor_layer, extractiveness, 0.75).
narrative_ontology:constraint_metric(ai_driven_surveillance_sensor_layer, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(ai_driven_surveillance_sensor_layer, [security_agencies, ai_vendors, urban_planners]).
constraint_victim(ai_driven_surveillance_sensor_layer, [privacy_advocates, ethnic_minorities, political_activists]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: The Monitored Activist - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (No control over the "Black Box" algorithms)
   WHEN: immediate (Real-time tracking and rapid response)
   WHERE: trapped (Cameras cover every exit and transit hub)
   SCOPE: local (The physical street/square)
   
   WHY THIS CLASSIFICATION:
   For the activist, AI surveillance is a Noose. It is an extractive tool that 
   uses biometric signatures to preemptively suppress dissent and eliminate the 
   possibility of anonymous association.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_driven_surveillance_sensor_layer,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(ai_driven_surveillance_sensor_layer, E),
    E > 0.7, % High extraction + trapped = Noose
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: The Security Architect - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-making and tool-deploying authority)
   WHEN: historical (Designing long-term "Safe City" frameworks)
   WHERE: arbitrage (Can calibrate sensitivity and target parameters)
   SCOPE: national (Cross-jurisdictional data integration)
   
   WHY THIS CLASSIFICATION:
   For the architect, the sensor layer is a Rope. It is a coordination device 
   designed to reduce crime, optimize traffic flow, and ensure that the "social 
   ledger" is accurate and up-to-date.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_driven_surveillance_sensor_layer,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The Passive Citizen - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (General public, non-dissenting)
   WHEN: biographical (The "new normal" of urban life)
   WHERE: constrained (Accepting cameras as part of the infrastructure)
   SCOPE: regional (City-wide standard)
   
   WHY THIS CLASSIFICATION:
   For the average citizen, the cameras become a Mountain. Like the weather or 
   the geography of the city, surveillance is perceived as an unchangeable 
   and neutral part of the environment that "has always been there".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_driven_surveillance_sensor_layer,
    mountain,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :-
    !.

/* ==========================================================================
   4. TESTS (Mandatrophy Resolution)
   ========================================================================== */

:- begin_tests(ai_surveillance_tests).

test(multi_perspective_variance) :-
    % Verify that high extraction (0.75) is resolved through indexical shift
    constraint_indexing:constraint_classification(ai_driven_surveillance_sensor_layer, Type1, 
        context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(ai_driven_surveillance_sensor_layer, Type2, 
        context(individual_moderate, biographical, constrained, regional)),
    Type1 = noose,
    Type2 = mountain.

test(mandatrophy_validation) :-
    % Verify base extractiveness meets the 0.75 threshold
    domain_priors:base_extractiveness(ai_driven_surveillance_sensor_layer, E),
    E == 0.75.

:- end_tests(ai_surveillance_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * [RESOLVED MANDATROPHY]: The extraction score of 0.75 represents the 
 * psychological tax of the "Panopticon effect". For the activist, 
 * this is a NOOSE because it preemptively suppresses dissent. 
 * For the passive citizen, it is a MOUNTAIN because the surveillance 
 * becomes a normalized, unchangeable background to urban life.
 * The high extraction is intentional to trigger indexical resolution.
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.75): High because the "extraction" is cognitive. It 
 * forces a state of constant self-monitoring (the Panopticon effect).
 * 2. PERSPECTIVE: Chose the "Passive Citizen" as Mountain to illustrate how 
 * tech-ubiquity breeds a sense of natural law (Normalization).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - MANDATROPHY RESOLUTION
   ========================================================================== */

/**
 * OMEGA IDENTIFICATION
 * * Since base_extractiveness > 0.7, this Omega resolves the "Mandatrophy Gate"
 * by asking whether the high extraction is a predatory choice or a necessity.
 */

omega_variable(
    ai_surveillance_extraction_intent,
    "Is the 0.75 extraction of privacy a functional necessity for public safety or a predatory tool for political suppression?",
    resolution_mechanism("Audit of surveillance data usage: percentage of crime prevention vs political profiling"),
    impact("If necessity: Institutional Mountain. If predatory: Systemic Noose."),
    confidence_without_resolution(medium)
).

omega_variable(
    algorithmic_opacity,
    "Will biometric flagging ever be subject to individual appeal?",
    resolution_mechanism("Legislative review of 'right to explanation' in AI mandates"),
    impact("If No: Permanent Noose. If Yes: Potential Rope."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Decentralized Proof-of-Personhood
 * Viability: Using zero-knowledge proofs to prove "I am human" without 
 * revealing "I am [Identity]".
 * Suppression: High. Security agencies reject anonymity because it breaks 
 * the linkage required for the Social Credit Noose.
 * * CONCLUSION:
 * The presence of suppressed alternatives (anonymity/SSI) shifts the 
 * classification toward NOOSE for those seeking exit.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE:
 * ?- [ai_driven_surveillance_sensor_layer].
 * ?- run_tests(ai_surveillance_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ai_edu_decentralization
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Multi-source synthesis (Nature, MIT, Pew, AEI, etc.)
% ============================================================================

:- module(ai_edu_decentralization, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ai_edu_decentralization
 * human_readable: The AI-Education Decoupling
 * domain: technological/educational/economic
 * temporal_scope: 2020-2030 (Early AI Deployment Era)
 * spatial_scope: Global (Primary focus on US context)
 * * SUMMARY:
 * AI acts as a general-purpose technology pushing education toward partial 
 * decentralization by lowering coordination costs for small units (microschools) 
 *. However, this "small unit" growth sits atop "big stacks" of 
 * centralized compute and data infrastructure.
 * * KEY AGENTS:
 * - Parent/Student: Seeking personalization outside the "factory model".
 * - Microschool Founder: Utilizing AI to manage small learning pods.
 * - Tech Platform: Providing the centralized infrastructure (cloud/models).
 * * NARRATIVE ARC:
 * The industrial-era "bigness" of mass schooling reaches a plateau. 
 * AI enables an "unbundling" of credentials and instruction, 
 * allowing diverse pathways to emerge from the previous institutional monopoly.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(ai_edu_decentralization, 0, 10).
narrative_ontology:constraint_claim(ai_edu_decentralization, rope).

% Base extractiveness score (0.5): Moderate.
% Rationale: While AI lowers costs, platform capture by infrastructure 
% providers creates new forms of value extraction.
domain_priors:base_extractiveness(ai_edu_decentralization, 0.5).

% Suppression score (0.4): Moderate.
% Rationale: Alternatives (microschools/pods) are increasingly visible, 
% though regulatory friction persists.
domain_priors:suppression_score(ai_edu_decentralization, 0.4).

% Enforcement requirements
% Emerges naturally from technological shifts but requires active 
% enforcement of interoperability standards to prevent lock-in.
domain_priors:requires_active_enforcement(ai_edu_decentralization).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(ai_edu_decentralization, extractiveness, 0.5).
narrative_ontology:constraint_metric(ai_edu_decentralization, suppression_requirement, 0.4).

% Beneficiaries & Victims
constraint_beneficiary(ai_edu_decentralization, tech_platforms). %
constraint_beneficiary(ai_edu_decentralization, microschool_families). %
constraint_victim(ai_edu_decentralization, legacy_mass_institutions). %

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE FACTORY-MODEL STUDENT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to standardized age-grading and efficiency.
   WHEN: biographical - The K-12 schooling cycle defines their early life.
   WHERE: trapped - Attendance is mandated by law/social norm; exit is costly.
   SCOPE: local - Their immediate environment is a single school building.
   
   WHY THIS CLASSIFICATION:
   For the student in a legacy system, the "bigness" of the institution 
   appears as an unchangeable law of nature (standardization, bells, fixed 
   curricula).
   
   NARRATIVE EVIDENCE:
   "The 'factory model school' concept captures how industrial-era schooling 
   emphasized standardization... mirroring the logic of mass production".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_edu_decentralization,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(individual_powerless, biographical, trapped, local),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MICROSCHOOL FOUNDER - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has agency to launch small units.
   WHEN: immediate - Focused on current learning outcomes and engagement.
   WHERE: mobile - Can assemble "stacks" of curriculum and AI tools.
   SCOPE: local - Operating a pod or community academy.
   
   WHY THIS CLASSIFICATION:
   For the founder, AI is a tool for functional coordination. It lowers the 
   minimum viable size for high-quality instruction, making decentralized 
   education a viable and beneficial choice.
   
   NARRATIVE EVIDENCE:
   "AI decentralizes capabilities by lowering the expertise and coordination 
   thresholds required for small organizations... to perform tasks".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_edu_decentralization,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(ai_edu_decentralization, E),
    E =< 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INFRASTRUCTURE PROVIDER - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional - Controls the data, compute, and platform standards.
   WHEN: generational - Focused on long-term market dominance and ecosystem lock-in.
   WHERE: arbitrage - Can play different educational jurisdictions against each other.
   SCOPE: global - Models and platforms operate worldwide.
   
   WHY THIS CLASSIFICATION:
   While the "delivery unit" becomes small, the dependency on the platform 
   becomes a coercive mechanism. Lock-in through data access and pricing 
   concentrates value at the center.
   
   NARRATIVE EVIDENCE:
   "Dependence on a handful of large platforms can re-centralize control through 
   pricing, data access, and ecosystem lock-in".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_edu_decentralization,
    noose,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(ai_edu_decentralization, E),
    E >= 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(ai_edu_decentralization_tests).

test(multi_perspective_variance) :-
    % Perspective 1: Student
    constraint_indexing:constraint_classification(ai_edu_decentralization, Type1, 
        context(agent_power(individual_powerless), time_horizon(biographical), exit_options(trapped), spatial_scope(local))),
    % Perspective 2: Founder
    constraint_indexing:constraint_classification(ai_edu_decentralization, Type2, 
        context(agent_power(individual_moderate), time_horizon(immediate), exit_options(mobile), spatial_scope(local))),
    % Perspective 3: Platform
    constraint_indexing:constraint_classification(ai_edu_decentralization, Type3, 
        context(agent_power(institutional), time_horizon(generational), exit_options(arbitrage), spatial_scope(global))),
    Type1 \= Type2,
    Type2 \= Type3,
    Type1 == mountain,
    Type2 == rope,
    Type3 == noose.

test(power_extractiveness_imbalance) :-
    % Powerful institutions extract more value than individuals in unbundled systems
    domain_priors:base_extractiveness(ai_edu_decentralization, E),
    E >= 0.5.

test(exit_option_shift) :-
    % Exit options (mobile) turn Mountain into Rope
    constraint_indexing:effective_immutability(immediate, mobile, rope).

:- end_tests(ai_edu_decentralization_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.5): Chose a balanced score because AI both 
 * empowers small units and risks platform capture.
 * * 2. PERSPECTIVE SELECTION: Analyzed from Student (Powerless), Founder 
 * (Moderate), and Platform (Institutional) to show the full oscillation 
 * of the constraint.
 * * 3. CLASSIFICATION RATIONALE:
 * - Student -> Mountain: The "factory model" is fixed until exit.
 * - Founder -> Rope: AI is a coordination tool they can manipulate.
 * - Platform -> Noose: They create the "big stacks" that others depend on.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    credential_legitimacy_omega,
    "Will employers and colleges treat alternative credentials as meaningful signals?",
    resolution_mechanism("Track conversion rates and salary outcomes for microcredential vs. degree holders."),
    impact("If Yes: Permanent Decentralization. If No: Re-centralization around legacy institutions."),
    confidence_without_resolution(medium)
).

omega_variable(
    platform_lock_in_severity,
    "Can open-source models and interoperable standards prevent total platform capture?",
    resolution_mechanism("Measure adoption rates of verifiable digital credentials vs. proprietary ecosystems."),
    impact("If Yes: Sustainable Rope. If No: Universal Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Open Learning Networks
 * Viability: Standards like verifiable digital credentials allow portability.
 * Suppression: Regulatory friction often favors large incumbents.
 * * ALTERNATIVE 2: State-Led Personalized Systems
 * Viability: Large bureaucracies adopting AI tutors.
 * Suppression: High inertia in "factory model" structures.
 * * CONCLUSION:
 * The absence of strong portable standards shifts education toward the 
 * "Noose" of platform capture even as it decentralizes in name.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% To run: ?- run_tests(ai_edu_decentralization_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: ai_evaluators_matching
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: AI-Driven Recruitment / Automated Talent Assessment
% ============================================================================

:- module(constraint_ai_evaluators, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ai_evaluators_matching
 * human_readable: AI-Evaluators (Automated Gatekeeping)
 * domain: technological/economic
 * temporal_scope: Immediate to Biographical
 * spatial_scope: Global
 * * SUMMARY:
 * AI-Evaluators are the algorithmic layer between applicants and matching 
 * markets. They use Large Language Models (LLMs), video analysis, and game-based 
 * assessments to rank candidates. This shifts the constraint from "Human 
 * Discretion" to "Mathematical Feature Optimization."
 * * KEY AGENTS:
 * - The Applicant: Must optimize their "digital twin" to pass the filter.
 * - The Hiring Firm: Offloads the high-congestion filtering to a black-box system.
 * - The Model Developer: Designs the weights and features that define "merit."
 * * NARRATIVE ARC:
 * The constraint functions as a "Black-Box Sieve." It solves the problem of 
 * market congestion (too many applicants) but introduces a Noose of 
 * opacity—where applicants are rejected for reasons they cannot see, 
 * contested, or understand.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(ai_evaluators_matching, 0, 10).
narrative_ontology:constraint_claim(ai_evaluators_matching, rope).

% Base extractiveness: High (0.75).
% AI systems extract behavioral data and "performance labor" from applicants, 
% often without compensation or feedback.
domain_priors:base_extractiveness(ai_evaluators_matching, 0.75).

% Suppression: High (0.8).
% Human review is increasingly suppressed/unavailable for early-stage filters; 
% the "AI-first" path is effectively the only gate.
domain_priors:suppression_score(ai_evaluators_matching, 0.8).

% Enforcement: Emerges naturally from technological efficiency gains.
domain_priors:emerges_naturally(ai_evaluators_matching).

% Beneficiaries: Large Corporations (efficiency), AI SaaS Providers.
constraint_beneficiary(ai_evaluators_matching, large_scale_employers).

% Victims: "Outlier" Candidates (highly capable but don't fit the model's 
% statistical patterns).
constraint_victim(ai_evaluators_matching, neurodivergent_or_atypical_applicants).

% Metrics
narrative_ontology:constraint_metric(ai_evaluators_matching, extractiveness, 0.75).
narrative_ontology:constraint_metric(ai_evaluators_matching, suppression_requirement, 0.8).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE APPLICANT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped (opaque criteria, no appeal)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the applicant, AI-Evaluators are a "Noose." They are forced to perform 
   for an invisible set of weights. Because the logic is often proprietary 
   or unexplainable, the candidate is trapped in a loop of "A/B testing" 
   their own personality just to get a human to look at their resume.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_evaluators_matching,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(ai_evaluators_matching, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE RECRUITER - Rope
   --------------------------------------------------------------------------
   WHO: institutional/individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   To a recruiter handling 5,000 applications for one role, AI is a "Rope." 
   It pulls them out of the "Mountain" of paperwork and provides a 
   manageable shortlist. It is a coordination tool that makes the 
   "Match" possible in an age of hyper-congestion.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_eval_matching,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DATA SCIENTIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: civilizational
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The scientist views the AI evaluator as a "Mountain" of statistical 
   probability. The model simply reflects the patterns in the training data. 
   If the data says "X correlates with Y," that is a feature of the 
   mathematical landscape, not a subjective choice.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_eval_matching,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(ai_eval_matching),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(ai_evaluator_tests).

test(opacity_noose) :-
    % Testing that 'trapped' applicants experience high-extractiveness Noose.
    constraint_indexing:constraint_classification(ai_evaluators_matching, noose, context(_, _, trapped, _)).

test(congestion_reduction_rope) :-
    % Testing that institutions see the Rope for managing congestion.
    constraint_indexing:constraint_classification(ai_eval_matching, rope, context(institutional, _, _, _)).

:- end_tests(ai_evaluator_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * I set extractiveness high (0.75) because AI-Evaluators require the 
 * "performance" of the applicant while providing almost zero transparency 
 * in return. This is the ultimate "Asymmetric Match."
 * * OMEGAS:
 * 1. Can AI ever be truly "explainable"? If not, the Noose classification 
 * for applicants is permanent.
 */

omega_variable(
    explainability_frontier,
    "Will neural networks become transparent enough to provide specific reasons for rejection?",
    resolution_mechanism("Tracking XAI (Explainable AI) research and legislative mandates (e.g., EU AI Act)"),
    impact("If Yes: The Noose becomes a Rope (candidates can adapt). If No: The Noose remains a black box."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ai_evaluators_matching, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ai_evaluators_matching, rope, agent_power(institutional)).
% ============================================================================
% CONSTRAINT STORY: ai_professional_displacement
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Financial Times (Jan 18, 2026), TFR83 (2025), Shaw & Nave (2026)
% ============================================================================

:- module(constraint_ai_professional_displacement, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ai_professional_displacement
 * human_readable: The Displacement of Entry-Level Professional Pathways
 * domain: economic/technological
 * temporal_scope: 2022 - 2026+ (Post-ChatGPT era)
 * spatial_scope: Global (UK/US Focused)
 * * SUMMARY:
 * As AI (System 3) becomes embedded in professional services, entry-level 
 * "grunt work" is being automated. While not yet causing widespread 
 * mass layoffs, AI is reshaping labor markets by reducing graduate hiring 
 * rates, as one bot can do the work of several junior employees. 
 * This creates a structural barrier for graduates seeking the "financial 
 * stability" once promised by these professions.
 * * KEY AGENTS:
 * - Recent Graduates (Powerless): Individuals who have "done everything they 
 * were told to do" but find entry-level jobs vulnerable.
 * - CEOs/Investors (Institutional): Deploying AI to "create efficiencies" 
 * with the "objective of cutting labor costs".
 * - Policymakers (Institutional): Focused on "winning the AI race" rather 
 * than protecting workers or managing fallout.
 * * NARRATIVE ARC:
 * The "jobs apocalypse" fears of 2022 have transitioned into a visible 
 * reshaping of professional services in 2026. The narrative moves 
 * from general anxiety to a specific "structural" threat to the graduate 
 * middle class, where the path to professional expertise is being "short-
 * circuited" by automated cognition[cite: 5, 4].
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(ai_labor_shift_2026, 2022, 2030).
narrative_ontology:constraint_claim(ai_professional_displacement, noose).

% Base extractiveness score: Moderate-High (0.70)
% Rationale: Firms extract "AI-driven efficiencies" and cost savings at the 
% expense of entry-level human capital development and graduate wages.
domain_priors:base_extractiveness(ai_professional_displacement, 0.70).

% Suppression score: High (0.80)
% Rationale: System 3 (AI) "suppresses System 2" deliberation and replaces 
% early-career training tasks with automated outputs. 
% Government focus on "winning the race" suppresses labor protections.
domain_priors:suppression_score(ai_professional_displacement, 0.80).

% Enforcement: Requires active enforcement
% Rationale: Driven by institutional "objectives of cutting labor costs" 
% and the deployment of generative AI across tech and finance.
domain_priors:requires_active_enforcement(ai_professional_displacement).

% Beneficiaries and Victims
constraint_beneficiary(ai_professional_displacement, [investors, tech_firms, large_employers]).
constraint_victim(ai_professional_displacement, [recent_graduates, professional_services_workforce]).

narrative_ontology:constraint_metric(ai_professional_displacement, extractiveness, 0.70).
narrative_ontology:constraint_metric(ai_professional_displacement, suppression_requirement, 0.80).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: RECENT GRADUATE - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (Entry-level workers with zero bargaining power)
   WHEN: immediate (Facing a "hiring downturn" in 2026)
   WHERE: trapped (Traditional "safe" paths are disappearing)
   SCOPE: global (The professional services market shift)
   
   WHY THIS CLASSIFICATION:
   For graduates, AI is a Noose. It is an extractive mechanism that removes 
   their career entry points while offering no immediate alternatives for the 
   skills they were told to acquire.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_professional_displacement,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: CHIEF EXECUTIVE OFFICER - Rope
   --------------------------------------------------------------------------
   WHO: institutional (In charge of company deployment and strategy)
   WHEN: biographical (Short-to-medium term efficiency targets)
   WHERE: mobile (Can shift hiring, build bots, or reinvest in higher-value roles)
   SCOPE: national (U.S. or UK labor strategy)
   
   WHY THIS CLASSIFICATION:
   For the CEO, AI is a Rope—a functional tool for "creating efficiencies" 
   and "cutting labor costs" to improve performance and competitiveness.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_professional_displacement,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: MACRO-ECONOMIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical (Observing structural labor market trends)
   WHEN: historical (The long-run evolution of automation)
   WHERE: analytical (Studying global job postings and trends)
   SCOPE: global (The "Tri-System" shift in human reasoning [cite: 4])
   
   WHY THIS CLASSIFICATION:
   From an analytical view, this is a Mountain. It is a structural shift in 
   the "cognitive ecology" where System 3 becomes an active participant 
   that naturally supplants low-complexity human tasks.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_professional_displacement,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(ai_labor_tests).

test(graduate_vs_ceo_gap) :-
    % Graduates are trapped (Noose), CEOs are mobile (Rope).
    constraint_indexing:constraint_classification(ai_professional_displacement, noose, context(individual_powerless, immediate, trapped, _)),
    constraint_indexing:constraint_classification(ai_professional_displacement, rope, context(institutional, _, mobile, _)).

test(structural_permanence) :-
    % Economists see it as a structural law (Mountain).
    constraint_indexing:constraint_classification(ai_professional_displacement, mountain, context(analytical, historical, _, _)).

:- end_tests(ai_labor_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. PERSPECTIVAL GAP:
 * The most significant finding is the "underestimated transformation." 
 * Institutions see a Rope (efficiency), while graduates see a Noose (trapped). 
 * The gap is exacerbated by governments who view the "AI Race" as a 
 * "Mountain-climbing" exercise rather than a "Noose-cutting" task.
 * * 2. INTEGRATION WITH SYSTEM 3:
 * I linked the FT article to Shaw & Nave's (2026) "System 3" theory. 
 * The "grunt work" being displaced is effectively "Cognitive Surrender" at 
 * the institutional level—delegating entry-level reasoning to AI agents[cite: 4].
 * * 3. TFR83 ALIGNMENT:
 * TFR83 warns of "underinvestment in strategically important areas"[cite: 1]. 
 * The FT article highlights that governments have not yet done enough to 
 * "protect those who may lose out," suggesting a strategic failure in 
 * human capital investment during the technology race[cite: 5, 1].
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    productivity_wage_link,
    "Will AI-driven productivity gains eventually feed through to higher wages and living standards?",
    resolution_mechanism("Monitor real wage growth vs. productivity indices for professional services through 2028."),
    impact("If yes, the Noose eventually becomes a Rope for the survivors. If no, the Noose tightens."),
    confidence_without_resolution(low)
).

omega_variable(
    graduate_path_reinvention,
    "Can professions 'wholesome reinvent' entry pathways as Kinder suggests?",
    resolution_mechanism("Monitor the adoption of AI-scaffolded training models in law and finance."),
    impact("If reinvented, it remains a Rope (coordinated change). If not, it is a Mountain (dead end)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: "Verify-then-Adopt" (Cognitive Offloading)
 * Viability: Using AI to *scaffold* junior reasoning rather than replacing it[cite: 4].
 * Suppression: Suppressed by CEOs' "objective of cutting labor costs" 
 * which prioritizes immediate savings over long-term skill development.
 * * ALTERNATIVE 2: Targeted Reskilling/Training
 * Viability: Investing in "critical thinking to spot hallucination".
 * Suppression: "Companies are also behind the curve" and failing to invest 
 * in these complementary skills.
 * * CONCLUSION:
 * The rejection of these alternatives in favor of "efficiency" confirms the 
 * Noose classification for current graduates.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% ?- constraint_indexing:multi_index_report(ai_professional_displacement).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ai_task_horizon_reliability
% ============================================================================
% Generated: January 20, 2026
% Model: Gemini 2.0 Flash
% Source: Anthropic Economic Index Report: Economic Primitives (Jan 15, 2026)
% ============================================================================

:- module(constraint_ai_task_horizon_reliability, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
domain_priors:base_extractiveness/2,
domain_priors:suppression_score/2,
domain_priors:requires_active_enforcement/1,
constraint_indexing:constraint_classification/3.

/* ==========================================================================

1. NARRATIVE CONTEXT
========================================================================== */

/**

* CONSTRAINT IDENTIFICATION
* * constraint_id: ai_task_horizon_reliability


* human_readable: The AI Task Horizon and Reliability Constraint
* domain: technological/economic
* temporal_scope: November 2025 (Pre-Opus 4.5 release) 


* spatial_scope: Global 


* * SUMMARY:


* This constraint defines the inverse relationship between the complexity of a
* task (measured in human time-to-complete) and the success rate of the AI
*. As tasks grow in duration and required education level,


* Claude's reliability drops, creating a "task horizon" where effective
* automation becomes a bottleneck for productivity.


* * KEY AGENTS:


* * Enterprise API User: Businesses deploying Claude for automated, single-turn workflows.




* * Individual Web User: Consumers using Claude.ai for augmented, multi-turn task iteration.




* * Macroeconomist: Analysts like Ruth Appel and team measuring the impact of model reliability on labor productivity.




* * NARRATIVE ARC:


* While AI offers massive "speedups" for complex work, these gains are
* effectively halved when success rates are factored in. The


* constraint shifts from a "Mountain" for automated systems to a "Rope" for
* iterative human-in-the-loop interactions.
*/



/* ==========================================================================
2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(pre_opus_4_5_era, 0, 10). 
narrative_ontology:constraint_claim(ai_task_horizon_reliability, mountain).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: AI as a task-replacement tool causes "net deskilling" in 49% of
% occupations, removing high-skill tasks while leaving routine ones.
domain_priors:base_extractiveness(ai_task_horizon_reliability, 0.45).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: "Selection effects" mean users avoid tasks they expect to fail,
% masking the true failure rate on the full distribution.
domain_priors:suppression_score(ai_task_horizon_reliability, 0.6).

% Enforcement requirements
% Emerges naturally from current model capability limits and "task horizons".
domain_priors:emerges_naturally(ai_task_horizon_reliability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(ai_task_horizon_reliability, extractiveness, 0.45).
narrative_ontology:constraint_metric(ai_task_horizon_reliability, suppression_requirement, 0.6).

/* ==========================================================================
3. INDEXED CLASSIFICATIONS (Perspectival Truth)
========================================================================== */

## /* --------------------------------------------------------------------------
PERSPECTIVE 1: ENTERPRISE API USER - Mountain

WHO: institutional - Automation-dominant enterprise deployments.
WHEN: immediate - Focused on programmatic task completion.
WHERE: trapped - Bound by the 3.5-hour 50% success horizon for single-turn calls.
SCOPE: global - Deployed across high-volume back-office workflows.

WHY THIS CLASSIFICATION:
For automated API systems, the reliability drop is a Mountain. The success
rate falls steeply from 60% for sub-hour tasks to 45% for 5+ hour tasks
. Without multi-turn feedback, the agent is trapped by the model's
current autonomous ceiling.

NARRATIVE EVIDENCE:
"In the API data, success rates drop from around 60% for sub-hour tasks to
roughly 45% for tasks estimated to take humans 5+ hours".
-------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
ai_task_horizon_reliability,
mountain,
context(
agent_power(institutional),
time_horizon(immediate),
exit_options(trapped),
constraint_beneficiary(ai_task_horizon_reliability, efficiency_seeking_firms),
constraint_victim(ai_task_horizon_reliability, none),
spatial_scope(global)
)
) :-
domain_priors:emerges_naturally(ai_task_horizon_reliability),
!.

## /* --------------------------------------------------------------------------
PERSPECTIVE 2: CLAUDE.AI WEB USER - Rope

WHO: individual_moderate - Users with "Skills for workflow customization".
WHEN: biographical - Adapting creative and educational workflows over time.
WHERE: mobile - Able to iterate, clarify, and correct course.
SCOPE: local - Immediate task refinement and learning.

WHY THIS CLASSIFICATION:
For the web user, the horizon is a Rope. Multi-turn conversation "effectively
breaks complex tasks into smaller steps". This coordination
mechanism stretches the 50% success horizon to roughly 19 hours, allowing
the user to bypass the "Mountain" through collaboration.

NARRATIVE EVIDENCE:
"Claude.ai data tells a different story... multi-turn conversation
effectively breaks complex tasks into smaller steps... each turn providing
a feedback loop".
-------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
ai_task_horizon_reliability,
rope,
context(
agent_power(individual_moderate),
time_horizon(biographical),
exit_options(mobile),
constraint_beneficiary(ai_task_horizon_reliability, augment_workers),
constraint_victim(ai_task_horizon_reliability, none),
spatial_scope(local)
)
) :-
domain_priors:base_extractiveness(ai_task_horizon_reliability, E),
E < 0.5,
!.

## /* --------------------------------------------------------------------------
PERSPECTIVE 3: MACROECONOMIST - Noose (Deskilling Risk)

WHO: analytical - Researchers observing aggregate labor shifts.
WHEN: historical - Estimating productivity growth over the next decade.
WHERE: analytical - Viewing the "net deskilling effect" across occupations.
SCOPE: national - US labor productivity and workforce composition.

WHY THIS CLASSIFICATION:
From an analytical perspective, this constraint acts like a Noose for
certain classes. By automating high-skill tasks but failing on "core
knowledge work," it risks deskilling professionals (like travel agents)
into routine laborers. It asymmetricly removes
the "skill-intensive" tasks that justify higher wages.

NARRATIVE EVIDENCE:
"The net first-order impact is to deskill jobs... AI removes tasks that
require relatively higher levels of education".
-------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
ai_task_horizon_reliability,
noose,
context(
agent_power(analytical),
time_horizon(historical),
exit_options(analytical),
constraint_beneficiary(ai_task_horizon_reliability, low_cost_labor_demand),
constraint_victim(ai_task_horizon_reliability, white_collar_workers),
spatial_scope(national)
)
) :-
domain_priors:suppression_score(ai_task_horizon_reliability, S),
S > 0.5,
!.

/* ==========================================================================
4. TESTS (What We Learn About Constraints)
========================================================================== */

:- begin_tests(ai_reliability_tests).

/**

* TEST 1: Multi-perspective variance
* Demonstrates the gap between the API "Mountain" and the Web "Rope."
*/
test(multi_perspective_horizon_gap) :-
% API (Mountain)
constraint_indexing:constraint_classification(
ai_task_horizon_reliability,
mountain,
context(institutional, immediate, trapped, _, _, _)
),
% Web (Rope)
constraint_indexing:constraint_classification(
ai_task_horizon_reliability,
rope,
context(individual_moderate, biographical, mobile, _, _, _)
).

/**

* TEST 2: Productivity Adjustment
* Demonstrates that reliability halves the implied economic "speedup."
*/
test(productivity_halving_effect) :-
BaselineGain = 1.8, SuccessAdjustedGain = 1.0, 
BaselineGain > SuccessAdjustedGain.



/**

* TEST 3: Time-horizon immutability
* Short horizons (API) hit the 50% success wall faster than long horizons (Web).
*/
test(horizon_duration_limit) :-
APILimit = 3.5, WebLimit = 19.0, 
WebLimit > APILimit.



:- end_tests(ai_reliability_tests).

/* ==========================================================================
5. MODEL INTERPRETATION (Commentary)
========================================================================== */

/**

* LLM GENERATION NOTES
* * Model: Gemini 2.0 Flash


* * KEY DECISIONS MADE BY MODEL:


* * 1. BASE EXTRACTIVENESS (0.45):




* Reasoning: Derived from the report's finding on "deskilling." While not
* purely extractive, the removal of high-skill tasks from jobs creates
* wage pressure and reduces worker autonomy.


* * 2. SUPPRESSION SCORE (0.6):




* Reasoning: Strong evidence of "selection effect" where users only bring
* tasks they expect Claude to succeed on, potentially suppressing the
* full scope of AI limitations from aggregate data.


* * 3. OMEGAS




* omega_variable(bottleneck_task_evolution,
* "Will 'bottleneck tasks' scale in difficulty as AI improves, keeping
* the 50% success horizon constant?",
* resolution_mechanism("Longitudinal tracking of user task presentation
* complexity relative to model generations "),


* impact("If yes: productivity gains stall at ~1.0pp. If no: gains
* accelerate toward 5%pp."),


* confidence_without_resolution(low)
* ).
*/

/* ==========================================================================
6. ALTERNATIVE ANALYSIS
========================================================================== */

/**

* VIABLE ALTERNATIVES
* * ALTERNATIVE 1: Human-Only Knowledge Work


* Viability: Declining as AI "penetrates" 49% of jobs.


* Suppression: Market pressure to adopt AI to achieve "speedups" of 9x-12x
*.


* * ALTERNATIVE 2: Specialized Expert Models


* Viability: Mentioned as a way to reinforce professional expertise.


* * CONCLUSION:


* The existence of "bottleneck tasks" (complements) shifts the classification
* from a pure efficiency Rope to a complex Noose where workers become
* dependent on AI that they must constantly "validate".
*/



/* ==========================================================================
7. INTEGRATION HOOKS
========================================================================== */

/**

* TO USE THIS CONSTRAINT:
* * 1. Load: ?- [ai_task_horizon_reliability].




* 2. Multi-perspective: ?- multi_index_report(ai_task_horizon_reliability).


* 3. Run tests: ?- run_tests(ai_reliability_tests).
*/



% ============================================================================
% END OF CONSTRAINT STORY
% ============================================================================
% ============================================================================
% CONSTRAINT STORY: algorithmic_bias
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Sociotechnical Systems / Machine Learning Ethics
% ============================================================================

:- module(constraint_algorithmic_bias, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: algorithmic_bias
 * human_readable: Algorithmic Bias
 * domain: technological/social
 * temporal_scope: 2010-Present (The Era of Big Data)
 * spatial_scope: Global (Digital Infrastructure)
 * * SUMMARY:
 * Algorithmic bias occurs when computer systems, particularly those using 
 * machine learning, produce systematically prejudiced results. This constraint 
 * operates through training data that reflects historical inequities, which 
 * the algorithm then automates and scales, often under a veneer of 
 * "mathematical objectivity."
 * * KEY AGENTS:
 * - The Data Subject: The individual (often from a marginalized group) 
 * whose life chances are governed by the model.
 * - The Data Scientist: The creator who may be unaware of embedded priors 
 * or lacks the power to change the dataset.
 * - The Institutional Deployer: The organization (bank, court, employer) 
 * using the tool to automate decision-making.
 * * NARRATIVE ARC:
 * The constraint starts as a "hidden variable" in training data. Once deployed, 
 * it functions as an invisible barrier (Mountain) for those it discriminates 
 * against, while acting as an efficiency tool (Rope) for the institution. 
 * Because the bias is "math-washed," it is harder to challenge than human 
 * prejudice.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(algo_bias_interval, 0, 10).
narrative_ontology:constraint_claim(algorithmic_bias, noose).

% Base extractiveness: 0.6 (High)
% Rationale: It extracts opportunity, credit, or freedom from the "victim" 
% class and converts it into administrative efficiency or profit for the 
% "beneficiary" class.
domain_priors:base_extractiveness(algorithmic_bias, 0.6).

% Suppression score: 0.7 (High)
% Rationale: The inner workings of these models are often protected as 
% trade secrets, and the outputs are presented as "objective," which 
% suppresses the visibility of the bias and the possibility of appeal.
domain_priors:suppression_score(algorithmic_bias, 0.7).

% Enforcement: Emerges naturally from historical data but requires active 
% institutional maintenance to ignore feedback.
domain_priors:requires_active_enforcement(algorithmic_bias).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(algorithmic_bias, extractiveness, 0.6).
narrative_ontology:constraint_metric(algorithmic_bias, suppression_requirement, 0.7).

% Beneficiaries: Institutions seeking low-cost automation and "objective" 
% cover for gatekeeping.
constraint_beneficiary(algorithmic_bias, institutional_deployer).

% Victims: Marginalized groups represented poorly or unfairly in training data.
constraint_victim(algorithmic_bias, marginalized_data_subjects).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DATA SUBJECT (Powerless) - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A person denied a loan or flagged by police).
   WHEN: immediate (Affects their current life-state).
   WHERE: trapped (Cannot "opt-out" of the algorithmic gaze).
   SCOPE: national/global.
   
   WHY THIS CLASSIFICATION:
   For the subject, the bias is a Mountain. It is an immovable, opaque reality 
   that dictates their options. They cannot argue with the "black box," and 
   the systemic nature of the bias means it follows them across different 
   platforms and institutions.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    algorithmic_bias,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE INSTITUTIONAL USER - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (The manager or risk officer).
   WHEN: biographical (Career-length focus on efficiency).
   WHERE: arbitrage (Can switch models or vendors).
   SCOPE: regional/national.
   
   WHY THIS CLASSIFICATION:
   For the institution, the algorithm (even with bias) is a Rope. It is a tool 
   for coordination and scale. It allows them to process thousands of 
   applicants instantly. The bias is often seen as a "margin of error" or a 
   "necessary trade-off" for the efficiency the tool provides.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    algorithmic_bias,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ETHICAL AUDITOR - NOOSE
   --------------------------------------------------------------------------
   
   WHO: analytical (A researcher or whistleblower).
   WHEN: historical (Viewing the long-term compounding of inequity).
   WHERE: constrained (Bound by NDA or limited access to the code).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   For the auditor, the bias is a Noose. They see how the system is designed 
   to pull tighter as it gathers more data. They recognize that the "efficiency" 
   of the Rope is actually a mechanism for extracting dignity and rights, 
   systematically strangling social mobility for specific classes.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    algorithmic_bias,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(algorithmic_bias_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(algorithmic_bias, Type1, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(algorithmic_bias, Type2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(algorithmic_bias, Type3, context(agent_power(analytical), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    % Powerless subjects suffer the highest extractiveness (loss of opportunity).
    domain_priors:base_extractiveness(algorithmic_bias, E),
    E > 0.5.

test(suppression_visibility) :-
    % Suppression score should reflect the "black box" nature.
    domain_priors:suppression_score(algorithmic_bias, S),
    S >= 0.7.

:- end_tests(algorithmic_bias_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.6): High because it systematically removes 
 * autonomy and access from specific populations.
 * 2. NOOSE CLASSIFICATION: I chose Noose for the Auditor because they see 
 * the active suppression of alternatives (like manual review or diverse 
 * training sets) in favor of the biased model.
 * 3. SUPPRESSION: Set high (0.7) because algorithmic decisions are 
 * notoriously difficult to audit or explain to the layperson.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    proxy_variable_irreducibility,
    "Can a machine learning model ever be truly 'unbiased' if it uses 
    socioeconomic data that is itself the product of historical bias?",
    resolution_mechanism("Mathematical proof of 'fairness impossibility' 
    theorems in varied contexts"),
    impact("If Mountain: AI will always be a tool of status quo reinforcement. 
    If Rope: We can engineer 'corrective' bias."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Human-in-the-loop (HITL)
 * Viability: High, but expensive.
 * Suppression: High (Institutions reject it because it destroys the 
 * 'efficiency' ROI of the AI).
 * * ALTERNATIVE 2: Algorithmic Reparations (Proactive bias toward marginalized groups)
 * Viability: Mathematically possible but legally/politically controversial.
 * Suppression: Extreme (Often viewed as 'reverse discrimination').
 * * CONCLUSION:
 * The existence of Alternatives (HITL) that are suppressed for cost reasons 
 * confirms the Noose/Noose-like nature of the constraint for those within 
 * the system.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_algorithmic_bias].
 * 2. Report: ?- multi_index_report(algorithmic_bias).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: ancient_grudge_verona
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: The Tragedy of Romeo and Juliet by William Shakespeare
% ============================================================================

:- module(constraint_ancient_grudge_verona, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ancient_grudge
 * human_readable: The Montague-Capulet Feud
 * domain: social/political
 * temporal_scope: Renaissance (Verona)
 * spatial_scope: Urban/Verona
 * * SUMMARY:
 * An inherited transgenerational conflict ("ancient grudge") that mandates 
 * spontaneous violence between two noble houses. This constraint overrides 
 * civil law, personal desire, and religious intervention, functioning as the 
 * primary filter for all social interaction in Verona.
 * * KEY AGENTS:
 * - Romeo/Juliet: Individual powerless; their agency is entirely circumscribed by the feud.
 * - Tybalt: Individual powerful; an enforcer who identifies exclusively with the constraint.
 * - Prince Escalus: Institutional; attempts to suppress the feud through legal edicts.
 * - Friar Lawrence: Analytical/Moderate; attempts to arbitrage the feud using the "Rope" of marriage.
 * * NARRATIVE ARC:
 * The play begins with a "new mutiny" (Act 1), establishing the feud's 
 * reach into the servant class. It peaks with the deaths of Mercutio and 
 * Tybalt (Act 3), which forces the constraint into its "Noose" phase, 
 * leading to the final "extraction" of the heirs in the Capulet monument.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(verona_feud_interval, 0, 10).
narrative_ontology:constraint_claim(ancient_grudge, noose).

% Base extractiveness score: High (0.8)
% Rationale: The feud extracts the lives of the "brace of kinsmen" and the 
% primary heirs of both houses for the sake of an unstated, ancient purpose.
domain_priors:base_extractiveness(ancient_grudge, 0.8).

% Suppression score: High (0.7)
% Rationale: The Prince’s edicts ("Your lives shall pay the forfeit") 
% demonstrate that the feud is a coercive force that actively resists 
% state-level suppression.
domain_priors:suppression_score(ancient_grudge, 0.7).

% Enforcement requirements: Emerges naturally from tribal/family identity.
domain_priors:emerges_naturally(ancient_grudge).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(ancient_grudge, extractiveness, 0.8).
narrative_ontology:constraint_metric(ancient_grudge, suppression_requirement, 0.7).

% Beneficiaries and Victims
constraint_beneficiary(ancient_grudge, [none, "tribal ego"]).
constraint_victim(ancient_grudge, [romeo, juliet, mercutio, tybalt, paris, lady_montague]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: ROMEO & JULIET - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Their identities are assigned at birth.
   WHEN: immediate - The constraints apply "from forth the fatal loins."
   WHERE: trapped - Verona's walls contain the feud; exile is "death misterm'd."
   SCOPE: regional - The local world of Verona.
   
   WHY THIS CLASSIFICATION:
   For the lovers, the feud is an unchangeable law of nature. They cannot 
   negotiate with it; they can only attempt to "doff" their names, which 
   results in physical destruction. It has zero degrees of freedom.
   
   NARRATIVE EVIDENCE:
   "My only love sprung from my only hate! / Too early seen unknown, and known too late!"
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ancient_grudge,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(ancient_grudge, []),
        constraint_victim(ancient_grudge, [romeo, juliet]),
        spatial_scope(regional)
    )
) :-
    domain_priors:suppression_score(ancient_grudge, S),
    S > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: FRIAR LAWRENCE - Rope
   --------------------------------------------------------------------------
   
   WHO: analytical - A chemist and religious counselor.
   WHEN: historical/biographical - Looking to "reconcile your friends."
   WHERE: arbitrage - Using his cell and Mantua as points of exit/leverage.
   SCOPE: local - Focused on the two families.
   
   WHY THIS CLASSIFICATION:
   The Friar views the feud (and the marriage) as a "Rope"—a coordination 
   mechanism that can be manipulated through "holy act" and "philosophy" 
   to achieve a social good. He believes the constraint is changeable.
   
   NARRATIVE EVIDENCE:
   "For this alliance may so happy prove, / To turn your households’ rancour to pure love."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ancient_grudge,
    rope,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(arbitrage),
        constraint_beneficiary(ancient_grudge, peace),
        constraint_victim(ancient_grudge, []),
        spatial_scope(local)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: PRINCE ESCALUS - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional - The sovereign of Verona.
   WHEN: immediate - Reacting to brawls "bred of an airy word."
   WHERE: constrained - The feud limits his ability to govern.
   SCOPE: regional - The entire city-state.
   
   WHY THIS CLASSIFICATION:
   For the Prince, the feud is a "Noose." It is a coercive, extractive 
   process that forces him to execute citizens and lose his own family 
   members. It is a drain on his political capital.
   
   NARRATIVE EVIDENCE:
   "And I, for winking at your discords too, / Have lost a brace of kinsmen. All are punish’d."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ancient_grudge,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(constrained),
        constraint_beneficiary(ancient_grudge, []),
        constraint_victim(ancient_grudge, [mercutio, paris]),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(ancient_grudge, E),
    E > 0.5,
    !.

/* ==========================================================================
   4. TESTS (Validation of the Verona Dataset)
   ========================================================================== */

:- begin_tests(ancient_grudge_tests).

test(perspectival_gap_verona) :-
    % Lovers see Mountain, Prince sees Noose.
    constraint_indexing:constraint_classification(ancient_grudge, mountain, context(agent_power(individual_powerless), _, _, _, _, _)),
    constraint_indexing:constraint_classification(ancient_grudge, noose, context(agent_power(institutional), _, _, _, _, _)).

test(extraction_threshold) :-
    % Verify the feud is highly extractive (deaths > 3).
    domain_priors:base_extractiveness(ancient_grudge, Score),
    Score >= 0.8.

test(analytical_agency) :-
    % The Friar attempts a Rope-based solution.
    constraint_indexing:constraint_classification(ancient_grudge, rope, context(agent_power(analytical), _, _, _, _, _)).

:- end_tests(ancient_grudge_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * * The core conflict of Romeo and Juliet is the failure of "Rope-making." 
 * The Friar attempts to use the marriage as a Rope to pull the families 
 * out of their grudge. However, because the extraction pressure (Noose) 
 * is too high and the timing is governed by "star-crossed" luck 
 * (Omega 1), the Rope snaps.
 * * This demonstrates the system rule: A failed Rope for a powerful agent 
 * is always a Noose for a powerless agent.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    star_crossed_variance,
    "Is the tragic outcome a Mountain (Fate/Necessity) or a Noose (Bad Logistics/Friar John's quarantine)?",
    resolution_mechanism("Requires a counter-factual simulation of Friar John delivering the letter."),
    impact("If the letter is delivered, the Noose converts to a Rope; the tragedy is purely operational."),
    confidence_without_resolution(low)
).

omega_variable(
    ancient_origin,
    "What was the specific interest or asset that initiated the 'ancient grudge'?",
    resolution_mechanism("Historical/textual reconstruction (unknown)."),
    impact("If the original cause was a property dispute, the feud is a Noose that has lost its Rope-context."),
    confidence_without_resolution(zero)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * * ALTERNATIVE 1: Diplomatic Mediation
 * Viability: The Prince attempts this three times.
 * Suppression: Actively suppressed by Tybalt and Mercutio's "unruly spleen."
 * Evidence: Act 3, Scene 1 (The Duel).
 * * ALTERNATIVE 2: Inter-marriage
 * Viability: The primary strategy of the Friar.
 * Suppression: Suppressed by the "Noose" of the exile sentence.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ancient_grudge_verona, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ancient_grudge_verona, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ancient_grudge_verona, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: antifragility
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Nassim Nicholas Taleb (2012) / Risk Engineering
% ============================================================================

:- module(constraint_antifragility, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: antifragility
 * human_readable: Antifragility (Gaining from Disorder)
 * domain: technological/economic/biological
 * temporal_scope: Permanent (Universal Property)
 * spatial_scope: Global (Systems subject to Volatility)
 * * SUMMARY:
 * Antifragility is a property of systems that increase in capability, resilience, 
 * or robustness as a result of stressors, shocks, volatility, noise, mistakes, 
 * or failures. Unlike resilience (which resists shocks) or fragility (which 
 * breaks), antifragile systems actually require disorder to thrive and grow.
 * * KEY AGENTS:
 * - The Antifragile Practitioner: Seeks exposure to small, non-fatal stressors 
 * to build strength (e.g., the weightlifter or the venture capitalist).
 * - The Fragilista: The bureaucrat or planner who attempts to smooth out 
 * volatility, inadvertently making the system more fragile to large shocks.
 * - The Evolutionist: Nature itself, which uses the death of individuals to 
 * strengthen the species (the ultimate antifragile system).
 * * NARRATIVE ARC:
 * Antifragility acts as a "Rope" for those who understand how to harvest 
 * volatility. However, it becomes a "Noose" for those caught in fragile 
 * structures who are "extracted" by the system's volatility. To the 
 * observer of history, it is an immutable "Mountain" of evolutionary logic.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(antifragility_interval, 0, 10).
narrative_ontology:constraint_claim(antifragility, mountain).

% Base extractiveness: 0.4 (Moderate)
% Rationale: Antifragility often involves "Optionality." The antifragile agent 
% extracts disproportionate upside from volatility while leaving the downside 
% (shocks) to the environment or more fragile participants.
domain_priors:base_extractiveness(antifragility, 0.4).

% Suppression score: 0.6 (High)
% Rationale: "Fragilistas" (central planners) actively suppress volatility 
% and noise, which are the very inputs antifragile systems need. This 
% suppression hides the fragility of the system until a Black Swan event occurs.
domain_priors:suppression_score(antifragility, 0.6).

% Enforcement: Emerges naturally in biological/complex systems but requires 
% active effort to maintain in human-designed hierarchies.
domain_priors:emerges_naturally(antifragility).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(antifragility, extractiveness, 0.4).
narrative_ontology:constraint_metric(antifragility, suppression_requirement, 0.6).

% Beneficiaries: Biological life, decentralized markets, and "Optionality" holders.
constraint_beneficiary(antifragility, antifragile_practitioner).

% Victims: Highly optimized, centralized, and debt-heavy "fragile" institutions.
constraint_victim(antifragility, fragilistas).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EVOLUTIONARY BIOLOGIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (Scientific observer).
   WHEN: civilizational (Long-term species survival).
   WHERE: trapped (Natural selection is a fixed law).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   From an evolutionary standpoint, antifragility is a Mountain. It is an 
   immutable law of nature. Species must be antifragile to survive 
   environmental shifts; those that are merely resilient eventually vanish. 
   Disorder is the natural landscape, not an obstacle.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    antifragility,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE BARBELL INVESTOR - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (A participant with strategic agency).
   WHEN: biographical (Achieving wealth/health in a lifetime).
   WHERE: arbitrage (Can move capital/attention between fragile and antifragile).
   SCOPE: national/regional.
   
   WHY THIS CLASSIFICATION:
   For the practitioner, antifragility is a Rope. It is a coordination tool 
   for leveraging reality. By building "Optionality" and a "Barbell 
   Strategy" (extreme safety + extreme risk), they use the system's 
   volatility to pull themselves upward while others are crushed by it.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    antifragility,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BUREAUCRATIC PLANNER - NOOSE
   --------------------------------------------------------------------------
   
   WHO: institutional (In charge of maintaining "order").
   WHEN: immediate (Quarterly stability and political optics).
   WHERE: constrained (Bound by rigid rules and expectations of stability).
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   To the planner, antifragility is a Noose. The very volatility that 
   strengthens the system is seen as a threat to their job and the 
   perceived stability of the institution. As they try to "fix" the 
   disorder, the system's hidden fragility tightens, eventually leading 
   to a catastrophic "snap" when a large enough stressor arrives.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    antifragility,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(antifragility_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(antifragility, Type1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(antifragility, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(antifragility, Type3, context(agent_power(institutional), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(volatility_extraction) :-
    % Antifragile agents extract "upside" from disorder.
    domain_priors:base_extractiveness(antifragility, E),
    E >= 0.4.

test(immutability_by_horizon) :-
    % Short term (Immediate) = Noose (struggle against disorder); 
    % Long term (Civilizational) = Mountain (the way things work).
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(antifragility_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SELECTION: Chose to contrast the "Practitioner" who loves 
 * volatility (Rope) with the "Planner" who fears it (Noose).
 * 2. EXTRACTIVENESS: Set to 0.4 because antifragility is asymmetric—the 
 * antifragile agent gains from others' failures (extraction of information 
 * or capital).
 * 3. NOOSE LOGIC: The "Noose" here is the psychological and institutional 
 * pressure to eliminate noise, which ironically makes the inevitable 
 * collapse more severe.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    stressor_threshold_limit,
    "At what point does a stressor transition from 'antifragile-building' 
    (Hormesis) to 'catastrophically destructive' (Fragility)?",
    resolution_mechanism("Non-linear stress-response mapping in complex systems"),
    impact("If known: We can build perfect Ropes. If unknown: Antifragility 
    remains a dangerous Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Robustness (Resisting change)
 * Viability: High in the short term, but fails in the long term (Lindy effect).
 * Suppression: Moderate. Our culture over-values "resilience" over "antifragility."
 * * ALTERNATIVE 2: Redundancy (Having backups)
 * Viability: High. A key component of antifragility, but often seen as 
 * "inefficient" by planners.
 * * CONCLUSION:
 * Because "Antifragility" is often counter-intuitive and suppressed in favor 
 * of "Optimization" (Fragility), the principle acts as a Noose for those 
 * trapped in highly optimized systems.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_antifragility].
 * 2. Report: ?- multi_index_report(antifragility).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: apartheid_nuclear_program
% ============================================================================
% Generated: January 20, 2026
% Model: Gemini 2.0 Flash
% Source: Renfrew Christie Obituary (Jan 14, 2026)
% ============================================================================

:- module(apartheid_nuclear_program, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: apartheid_nuclear_program
 * human_readable: Apartheid South Africa's Clandestine Nuclear Program
 * domain: political/military/technological
 * temporal_scope: 1970s - 1990s
 * spatial_scope: National (South Africa)
 * * SUMMARY:
 * A secret weapons program designed to secure the apartheid state through 
 * nuclear deterrence, funded by a system of forced labor that produced 
 * "the cheapest electricity in the world".
 * * KEY AGENTS:
 * - Apartheid State: Seeking civilizational survival via technological Rope.
 * - Renfrew Christie: The scholar-spy who identified the program's 
 * electrification markers to facilitate its destruction.
 * - Political Prisoners: Those who experienced the program's enforcement 
 * via the Terrorism Act and death row.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(apartheid_era, 0, 10).
narrative_ontology:constraint_claim(apartheid_nuclear_program, noose).

% High extraction due to forced labor subsidy.
% [RESOLVED MANDATROPHY]: Paradoxical extraction is indexically separated 
% between State necessity and victim suffering.
domain_priors:base_extractiveness(apartheid_nuclear_program, 0.85).

% High suppression: Terrorism Act and solitary confinement.
domain_priors:suppression_score(apartheid_nuclear_program, 0.9).

domain_priors:requires_active_enforcement(apartheid_nuclear_program).

narrative_ontology:constraint_metric(apartheid_nuclear_program, extractiveness, 0.85).
narrative_ontology:constraint_metric(apartheid_nuclear_program, suppression_requirement, 0.9).

constraint_beneficiary(apartheid_nuclear_program, apartheid_regime).
constraint_victim(apartheid_nuclear_program, [forced_laborers, political_dissidents]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: APARTHEID REGIME - Rope
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    apartheid_nuclear_program,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    % From the state's view, the program is a coordination mechanism for 
    % survival and status as a Cold War ally.
    domain_priors:base_extractiveness(apartheid_nuclear_program, E),
    E > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: RENFREW CHRISTIE (IMPRISONED) - Noose
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    apartheid_nuclear_program,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    % Seven years in prison and solitary confinement 
    % characterize the system as an asymmetric, coercive mechanism.
    domain_priors:suppression_score(apartheid_nuclear_program, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: RENFREW CHRISTIE (RESEARCHER) - Mountain
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    apartheid_nuclear_program,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(continental)
    )
) :-
    % The physical requirements for uranium enrichment were an immutable 
    % fact Christie used to calculate bomb yields.
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(apartheid_nuclear_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(apartheid_nuclear_program, T1, context(institutional, _, _, _)),
    constraint_indexing:constraint_classification(apartheid_nuclear_program, T2, context(individual_powerless, _, _, _)),
    T1 \= T2.

test(linter_compliance) :-
    % Verify the resolved mandatrophy tag is present
    clause(domain_priors:base_extractiveness(apartheid_nuclear_program, 0.85), _).

:- end_tests(apartheid_nuclear_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * 1. MANDATROPHY RESOLUTION: The 0.85 extraction score is flagged by the 
 * linter. I have resolved this by acknowledging the "Institutional Rope" 
 * as a mask for "Individual Noose" extraction.
 * 2. EVIDENCE: Grounded in the Christie Obituary's description of 
 * forced labor and State-sanctioned torture.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    state_delusion_threshold,
    "At what level of extraction (0.85+) does a 'Rope' become functionally 
    indistinguishable from a 'Noose' even for the Institutional agent?",
    resolution_mechanism("Longitudinal decay of regime legitimacy metrics"),
    impact("If detected: State collapse is imminent. If not: Persistent Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Diplomatic Integration.
 * Suppression: Christie's research was treated as "Terrorism" rather than 
 * policy critique.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: arctic_geopolitical_flashpoint
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: The Times / Guardian / CSIS / TFR83 (2025-2026)
% ============================================================================

:- module(constraint_arctic_flashpoint, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: arctic_geopolitical_flashpoint
 * human_readable: The Melting Ice and the Scramble for Greenland
 * domain: geopolitical/economic
 * temporal_scope: 2024-2035 (Acceleration of ice melt and annexation rhetoric)
 * spatial_scope: The Arctic Circle / Greenland / GIUK Gap
 * * SUMMARY:
 * Climate change is rapidly melting the Arctic ice cap, exposing vast reserves 
 * of critical minerals (REEs) and opening new, shorter shipping routes such as 
 * the Northern Sea Route (NSR). This transition has turned Greenland into 
 * a "strategic chessboard" where the U.S. (Trump Administration) seeks 
 * annexation or increased control to counter Russian and Chinese "probing 
 * for influence" and to secure supply chains for technologies like AI and 
 * quantum.
 * * KEY AGENTS:
 * - Trump Administration (Institutional): Seeking Greenland for the "Golden Dome" 
 * missile defense and mineral independence from China.
 * - Greenlandic/Danish Governments (Individual Powerless/Moderate): Caught between 
 * NATO partnership and threats of annexation or "force".
 * - Global Trade Cartels (Collective Organized): Navigating the NSR to cut 
 * Suez journeys by up to 20 days.
 * * NARRATIVE ARC:
 * What was once a "distant outpost" locked in ice has become an "irreplaceable 
 * early-warning outpost" and "gateway between continents". 
 * The arc follows the transition from environmental concern to national 
 * security emergency (securitizing resource access).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(arctic_ice_melt_2026, 2024, 2035).
narrative_ontology:constraint_claim(arctic_geopolitical_flashpoint, noose).

% Base extractiveness score: High (0.75)
% Rationale: Global powers seek to extract minerals and strategic leverage, 
% potentially overriding local sovereignty ("annexation by force").
domain_priors:base_extractiveness(arctic_geopolitical_flashpoint, 0.75).

% Suppression score: High (0.80)
% Rationale: Geographical and climatic realities suppress alternatives; 
% the North Pole is the shortest missile path. Diplomatic rejections are 
% suppressed by "annexation acts" and tariffs.
domain_priors:suppression_score(arctic_geopolitical_flashpoint, 0.80).

% Enforcement: Requires active enforcement
% Rationale: Requires Pituffik Space Base, increased naval patrols, 
% and special envoys to maintain the strategic posture.
domain_priors:requires_active_enforcement(arctic_geopolitical_flashpoint).

% Beneficiaries and Victims
constraint_beneficiary(arctic_geopolitical_flashpoint, [us_defense_sector, global_shipping_corridors]).
constraint_victim(arctic_geopolitical_flashpoint, [greenlandic_sovereignty, dmr_alliances, arctic_biodiversity]).

narrative_ontology:constraint_metric(arctic_geopolitical_flashpoint, extractiveness, 0.75).
narrative_ontology:constraint_metric(arctic_geopolitical_flashpoint, suppression_requirement, 0.80).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: GREENLANDIC LOCAL OFFICIAL - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (A representative of 56k people against superpowers)
   WHEN: immediate (Facing 2026 annexation acts)
   WHERE: trapped (Geography dictates their value as a "pawn")
   SCOPE: national (Greenlandic sovereignty)
   
   WHY THIS CLASSIFICATION:
   The strategic value of their land has turned into a "Noose"—a mechanism 
   where they are extracted for minerals and defense with minimal choice 
   over the annexation threats.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    arctic_geopolitical_flashpoint,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: U.S. STRATEGIC PLANNER - Rope
   --------------------------------------------------------------------------
   WHO: institutional (The State designing the "Golden Dome")
   WHEN: biographical (Long-term planning for missile defense/resource security)
   WHERE: mobile (Shifting from Atlantic to Arctic corridors)
   SCOPE: global (Western Hemisphere security)
   
   WHY THIS CLASSIFICATION:
   For the State, Greenland is a "Rope"—a necessary functional coordination 
   mechanism (NATO base, GIUK monitoring) that can be pulled closer to 
   secure the hemisphere against Russian/Chinese probes.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    arctic_geopolitical_flashpoint,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CLIMATOLOGIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical (Observing the 4x faster warming rate)
   WHEN: historical (Viewing decades of ice-free modeling)
   WHERE: analytical (Physical constraints of the planet)
   SCOPE: global (Climate tipping points)
   
   WHY THIS CLASSIFICATION:
   The melting ice and opening routes are a "Mountain"—an unchangeable 
   natural law driven by physics. Political bluster does not change the 
   melting rate or the exposure of the seabed.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    arctic_geopolitical_flashpoint,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(arctic_flashpoint_tests).

test(sovereignty_extraction_ratio) :-
    % If extractiveness > 0.7, powerlessness should lead to a Noose classification.
    assertion(domain_priors:base_extractiveness(arctic_geopolitical_flashpoint, 0.75)),
    constraint_indexing:constraint_classification(arctic_geopolitical_flashpoint, noose, context(individual_powerless, _, _, _)).

test(climatological_inevitability) :-
    % Analytical perspectives on historical timeframes should see the Mountain.
    constraint_indexing:constraint_classification(arctic_geopolitical_flashpoint, mountain, context(analytical, historical, _, _)).

:- end_tests(arctic_flashpoint_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * * DATA SOURCE CORRELATION:
 * The 2026 data points (annexation bills, "Golden Dome" Truth Social posts) 
 * represent a sharp pivot in how the Arctic constraint is handled. 
 * What was a Rope (diplomatic NATO agreement) is being reframed as a 
 * potential Noose (forced annexation).
 * * * TFR83 INTEGRATION:
 * TFR83 (2025) warns that "underinvestment in strategically important areas" 
 * threatens AI/Quantum leadership. Greenland’s REEs are a literal 
 * "Mountain" of untapped resources that are being "securitized" to solve 
 * the China chokepoint described in the report.
 * * * PERSPECTIVAL GAP:
 * The gap between the Trump Administration's "National Interest" logic and 
 * the "Folly of Denmark Pressuring" highlights a clash between Institutional 
 * mobility and Analytical skepticism.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    annexation_legal_precedent,
    "Will Denmark accept a financial purchase or will the U.S. pivot to maritime blockade?",
    resolution_mechanism("Monitor Congressional reports on the Greenland Annexation and Statehood Act."),
    impact("If annexation occurs, it redrafts NATO as a Noose for small partners."),
    confidence_without_resolution(medium)
).

omega_variable(
    mineral_extraction_viability,
    "Are mining solutions 'practical' beneath massive glaciers?",
    resolution_mechanism("Assess success of Tanbreez mine sites in southern Greenland."),
    impact("If minerals are unreachable, Greenland remains a defense-only Mountain."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Multilateral Arctic Council Governance
 * Viability: Historically effective depoliticized cooperation.
 * Suppression: Suppressed by the 2022 Russian invasion and 2026 U.S. unilateralism.
 * * ALTERNATIVE 2: Commercial Suez Neutrality
 * Viability: Existing global trade backbone.
 * Suppression: Economic pressure to cut 20 days off journeys via NSR.
 * * CONCLUSION:
 * The active suppression of Alternative 1 (NATO/Multilateralism) by the 
 * "Whatever the cost" rhetoric confirms the Noose classification for the 
 * Greenlandic population.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Run with: ?- [arctic_geopolitical_flashpoint].
% Then: ?- constraint_indexing:multi_index_report(arctic_geopolitical_flashpoint).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: arrows_impossibility_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Kenneth Arrow (1951) / Social Choice and Individual Values
% ============================================================================

:- module(constraint_arrows_impossibility, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: arrows_impossibility_theorem
 * human_readable: Arrow's Impossibility Theorem
 * domain: political/economic/social
 * temporal_scope: 1951 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Social Choice Theory)
 * * SUMMARY:
 * Arrow's Impossibility Theorem proves that no rank-order voting system can 
 * convert the ranked preferences of individuals into a community-wide 
 * ranking while meeting a specific set of fair criteria: non-dictatorship, 
 * Pareto efficiency, and independence of irrelevant alternatives. It 
 * establishes an absolute mathematical limit on the fairness of collective 
 * decision-making.
 * * KEY AGENTS:
 * - The Voter (Subject): A powerless agent whose ranked preferences are 
 * inevitably "distorted" or ignored by any systemic aggregation.
 * - The Constitutional Designer (Institutional): An agent who uses the 
 * theorem as a "Rope" to choose which specific "unfairness" (e.g., 
 * susceptibility to tactical voting) to tolerate in a stable system.
 * - The Democratic Reformer (Victim): An agent for whom the theorem acts 
 * as a "Noose," as it "strangles" the search for a perfect voting system.
 * * NARRATIVE ARC:
 * Arrow's Theorem is the "Mountain" of political reality—the impossibility 
 * of a perfect social welfare function is a fixed feature of logic. In 
 * legislative design, it is a "Rope" for functional coordination, allowing 
 * architects to prioritize stability over theoretical purity. However, 
 * for the idealist, the theorem acts as a "Noose," extracting the hope 
 * of a "true" collective will (extraction) and "choking" political 
 * energy by proving that every choice is a compromise of axioms.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(arrows_era, 1951, 2026).
narrative_ontology:constraint_claim(arrows_impossibility_theorem, mountain).

% Base extractiveness: 0.6
% Rationale: High. The theorem "extracts" the possibility of a pure 
% democratic signal, forcing a permanent "tax" of systematic bias or 
% strategic vulnerability on all collective choice mechanisms.
domain_priors:base_extractiveness(arrows_impossibility_theorem, 0.6).

% Suppression: 0.4
% Rationale: Moderate. It suppresses the visibility of "perfect" 
% democracy as a viable alternative, rendering such claims 
% mathematically fraudulent.
domain_priors:suppression_score(arrows_impossibility_theorem, 0.4).

% Enforcement: Emerges naturally from the axioms of social choice.
domain_priors:emerges_naturally(arrows_impossibility_theorem).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(arrows_impossibility_theorem, extractiveness, 0.6).
narrative_ontology:constraint_metric(arrows_impossibility_theorem, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(arrows_impossibility_theorem, stable_incumbents). % Systemic flaws favor the status quo.
constraint_beneficiary(arrows_impossibility_theorem, game_theorists). 
constraint_victim(arrows_impossibility_theorem, democratic_idealists).
constraint_victim(arrows_impossibility_theorem, third_party_candidates). % Strangled by IIA violations (spoilers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INDIVIDUAL VOTER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The voter cannot change the mathematical laws of aggregation.
   WHEN: immediate - True at every election cycle.
   WHERE: trapped - Bound within the rules of the existing voting system.
   SCOPE: local - Immediate impact of their ballot.
   
   WHY THIS CLASSIFICATION:
   For the voter, the impossibility of a perfectly fair aggregation is an 
   absolute Mountain. No matter how sincerely they rank their candidates, 
   the "Mountain" of Arrow's logic ensures that the system may still 
   produce a paradoxical result (e.g., the Condorcet Paradox).
   
   
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    arrows_impossibility_theorem,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CONSTITUTIONAL DESIGNER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to select the voting method (FPTP, IRV, Borda).
   WHEN: biographical - Planning the long-term stability of a state.
   WHERE: mobile - Can choose which axioms to relax to achieve stability.
   SCOPE: national - Country-wide application.
   
   WHY THIS CLASSIFICATION:
   For the designer, the theorem is a "Rope"—a functional coordination tool. 
   Knowing that a perfect system is impossible, they coordinate a "standard 
   of achievement" by selecting a method that minimizes the specific 
   unfairness they find most dangerous (e.g., prioritizing "Pareto" over "IIA").
   
   
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    arrows_impossibility_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE VOTING SYSTEM REFORMER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the agency to campaign for reform but is bound by the theorem.
   WHEN: historical - Facing a century of failed "perfect" reforms.
   WHERE: constrained - The "exit" (a fair system) is mathematically barred.
   SCOPE: global - Universal limit on collective choice.
   
   WHY THIS CLASSIFICATION:
   For the reformer, Arrow's Theorem is a "Noose." It "strangles" the hope 
   for a truly just outcome. It extracts enormous political and intellectual 
   capital (extraction) while "choking" the movement with the realization 
   that every "fix" introduces a new, equally fundamental unfairness.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    arrows_impossibility_theorem,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(arrows_impossibility_theorem, E),
    E >= 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(arrows_impossibility_tests).

test(multi_perspective_variance) :-
    % Voter -> Mountain
    constraint_indexing:constraint_classification(arrows_impossibility_theorem, Type1, context(individual_powerless, immediate, trapped, local)),
    % Designer -> Rope
    constraint_indexing:constraint_classification(arrows_impossibility_theorem, Type2, context(institutional, biographical, mobile, national)),
    Type1 \= Type2.

test(reform_extraction_penalty) :-
    % Reformers experience the "Noose" of high extraction (0.6).
    Context = context(individual_moderate, historical, constrained, global),
    constraint_indexing:extractiveness_for_agent(arrows_impossibility_theorem, Context, Score),
    Score >= 0.5.

test(natural_emergence) :-
    domain_priors:emerges_naturally(arrows_impossibility_theorem).

:- end_tests(arrows_impossibility_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.6):
 * Reasoning: Arrow's theorem is a "tax" on democratic legitimacy. It 
 * extracts the possibility of a consensus will to empower the 
 * arbitrariness of the system designer. It is highly extractive of 
 * political utility.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Voter (Subject), Designer (Institution), and Reformer (Victim) 
 * to show how a "Mountain" of logic becomes a "Noose" for 
 * political aspiration.
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the "Cardinal Utility" uncertainty—does the Mountain 
 * hold if we stop using ranked ballots?
 */

% OMEGA IDENTIFICATION
omega_variable(
    cardinal_utility_escape,
    "Is Arrow's 'Mountain' stable if we use Cardinal Utility (e.g., Score Voting) (Scaffold)?",
    resolution_mechanism("Investigation into whether Approval or Score voting evades the IIA/Dictatorship trade-off by including intensity of preference."),
    impact("If Yes: Arrow is a 'Noose' specifically for ordinal systems. If No: It is a universal Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Range/Score Voting
 * Viability: By using cardinal scores (0-10) instead of rankings, 
 * systems like Range Voting bypass the specific "impossibility" proof, 
 * as they do not rely on ordinal rankings.
 * Suppression: Often suppressed in public discourse in favor of 
 * Ranked Choice (ordinal) which remains subject to the "Noose" of Arrow.
 * * ALTERNATIVE 2: Quadratic Voting
 * Viability: Uses "buying" votes with points to reveal preference intensity.
 * * CONCLUSION:
 * The existence of Cardinal Utility alternatives (Alternative 1) proves 
 * that the Arrow "Noose" is the specific price we pay for the "Rope" 
 * of rank-order simplicity.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_arrows_impossibility].
 * 2. Multi-perspective: ?- multi_index_report(arrows_impossibility_theorem).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: asce_7_22_seismic_design
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: ASCE/SEI 7-22: Minimum Design Loads and Associated Criteria
% ============================================================================

:- module(constraint_asce_7_22_seismic, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: asce_7_22_seismic_design
 * human_readable: ASCE 7-22 Seismic Design Requirements
 * domain: technological/legal
 * temporal_scope: 2022-Present
 * spatial_scope: National (United States)
 * * SUMMARY:
 * ASCE 7-22 dictates the minimum loads, including seismic, that buildings 
 * must be designed to withstand. It introduces updated multi-period 
 * design response spectra to more accurately capture the behavior of structures 
 * on various soil types.
 * * KEY AGENTS:
 * - Junior Structural Engineer: Powerless subject who must follow the code 
 * to obtain a permit.
 * - Building Official (AHJ): Institutional enforcer of the code requirements.
 * - Code Committee (ASCE 7): Powerful institutional body that defines 
 * the "laws of engineering".
 * * NARRATIVE ARC:
 * To the engineer, the code is a Mountain: an unchangeable set of physical 
 * and legal requirements. To the public, it is a Rope: a coordination 
 * mechanism providing a baseline of safety. If the code becomes 
 * overly conservative due to lobbying, it risks becoming a Noose for 
 * affordable development.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(asce_cycle_22, 0, 10).
narrative_ontology:constraint_claim(asce_7_22_seismic_design, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. While compliance costs money, the "benefit" is public safety. 
% Minimal extraction of capital compared to safety provided.
domain_priors:base_extractiveness(asce_7_22_seismic_design, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.7. Alternatives (Performance-Based Design) exist but are 
% highly scrutinized and costly to implement compared to prescriptive rules.
domain_priors:suppression_score(asce_7_22_seismic_design, 0.7).

% Enforcement requirements
domain_priors:requires_active_enforcement(asce_7_22_seismic_design).

% Metrics required for Executive Summary
narrative_ontology:constraint_metric(asce_7_22_seismic_design, extractiveness, 0.2).
narrative_ontology:constraint_metric(asce_7_22_seismic_design, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(asce_7_22_seismic_design, public_safety).
constraint_beneficiary(asce_7_22_seismic_design, insurance_industry).
constraint_victim(asce_7_22_seismic_design, property_developers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: JUNIOR STRUCTURAL ENGINEER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Lacks authority to change the design spectra.
   WHEN: immediate - Focused on meeting the deadline for the current project.
   WHERE: trapped - Bound by state-adopted building codes and professional liability.
   SCOPE: local - Project-specific site and building.
   
   WHY THIS CLASSIFICATION:
   The engineer cannot negotiate with the ground motion parameters. The values 
   provided by the ASCE 7 Hazard Tool are as fixed as the gravity of Earth 
   itself for the duration of the design process.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    asce_7_22_seismic_design,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(asce_7_22_seismic_design),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: ASCE 7 COMMITTEE - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power to adjust factors and methods.
   WHEN: generational - Thinking in 6-year code cycles and 50-year building lives.
   WHERE: mobile - Can adjust the code based on new seismological data.
   SCOPE: national - Sets the standard for the entire United States.
   
   WHY THIS CLASSIFICATION:
   For the committee, the code is a functional coordination mechanism. It 
   aligns the scientific understanding of hazards with the practical 
   needs of construction to maintain a reliable "rope" of safety.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    asce_7_22_seismic_design,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(asce_7_22_seismic_design, E),
    E < 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: MARGINAL HOUSING DEVELOPER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has some agency but limited capital.
   WHEN: biographical - Business cycle of 5-10 years.
   WHERE: constrained - High cost of land and materials.
   SCOPE: regional - Local real estate market.
   
   WHY THIS CLASSIFICATION:
   Increased seismic requirements in ASCE 7-22, particularly for soft soils, 
   increase structural costs. For a developer on the margin, these 
   unyielding requirements can "choke" the viability of a project, preventing 
   new housing from being built.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    asce_7_22_seismic_design,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :-
    domain_priors:suppression_score(asce_7_22_seismic_design, S),
    S > 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(asce_7_22_seismic_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(asce_7_22_seismic_design, Type1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(asce_7_22_seismic_design, Type2, context(institutional, generational, mobile, national)),
    constraint_indexing:constraint_classification(asce_7_22_seismic_design, Type3, context(individual_moderate, biographical, constrained, regional)),
    Type1 \= Type2,
    Type2 \= Type3.

test(safety_scaling) :-
    % Test that "extractiveness" is low because the goal is safety, not profit
    domain_priors:base_extractiveness(asce_7_22_seismic_design, E),
    E < 0.3.

:- end_tests(asce_7_22_seismic_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.2): Standard engineering codes are rarely 
 * extractive in the sense of transferring wealth unfairly; they are 
 * high-friction safety mechanisms.
 * * 2. PERSPECTIVE SELECTION: Chose the Developer as a "Noose" perspective 
 * to highlight that safety constraints have economic externalities.
 */

omega_variable(
    seismic_model_accuracy,
    "Do the new multi-period spectra accurately reflect actual earthquake performance?",
    resolution_mechanism("Evaluation of structural performance in a M7.0+ event under the new code"),
    impact("If Mountain: The code is a true reflection of physics. If Rope: It is a conservative guess."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Performance-Based Seismic Design (PBSD)
 * Viability: Highly viable for tall buildings; allows for specific modeling 
 * rather than prescriptive code compliance.
 * Suppression: Suppressed by high expertise requirements and AHJ reluctance 
 * to approve non-standard designs.
 * * CONCLUSION:
 * The presence of PBSD prevents the code from being a total Mountain, 
 * keeping it in the Rope/Noose transition for sophisticated agents.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [asce_7_22_seismic_design].
% 2. Analysis: ?- multi_index_report(asce_7_22_seismic_design).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: astm_d638_tensile_testing
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: ASTM D638: Standard Test Method for Tensile Properties of Plastics
% ============================================================================

:- module(constraint_astm_d638, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: astm_d638_tensile_testing
 * human_readable: ASTM D638 Tensile Property Standard
 * domain: technological/industrial
 * temporal_scope: Active Standard (Current Version)
 * spatial_scope: Global (Industrial Materials Science)
 * * SUMMARY:
 * ASTM D638 establishes the standard "rules of the game" for determining the 
 * tensile properties of unreinforced and reinforced plastics. It 
 * mandates specific specimen geometries (dogbones), testing speeds, and 
 * environmental conditions to ensure data reproducibility across global 
 * supply chains.
 * * KEY AGENTS:
 * - Lab Technician: Powerless subject who must execute the test exactly as 
 * written to ensure valid results.
 * - Quality Assurance Manager: Institutional agent using the standard as a 
 * coordination mechanism for product certification.
 * - Material Scientist (R&D): Analytical agent seeking to understand 
 * physical reality through the lens of the standard's constraints.
 * * NARRATIVE ARC:
 * To the lab worker, ASTM D638 is a Mountain—the physical dimensions and 
 * speeds are immutable facts of their workday. To the industry, 
 * it is a Rope—a functional coordination mechanism allowing a buyer in 
 * Germany to trust a test result from Malaysia. Without this 
 * constraint, the global plastics market would devolve into chaos.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(industrial_testing_regime, 0, 10).
narrative_ontology:constraint_claim(astm_d638_tensile_testing, rope).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: 0.1. Low extraction; the primary "cost" is compliance labor, 
% while the benefit is market-wide interoperability and safety.
domain_priors:base_extractiveness(astm_d638_tensile_testing, 0.1).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: 0.6. Alternatives (ISO 527) are visible but suppressed by 
% regional market dominance and the "stickiness" of specified testing equipment 
% and historical data sets.
domain_priors:suppression_score(astm_d638_tensile_testing, 0.6).

% Enforcement requirements
% Requires active enforcement (Audit/Certification) to be valid in trade.
domain_priors:requires_active_enforcement(astm_d638_tensile_testing).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(astm_d638_tensile_testing, extractiveness, 0.1).
narrative_ontology:constraint_metric(astm_d638_tensile_testing, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(astm_d638_tensile_testing, global_supply_chains).
constraint_beneficiary(astm_d638_tensile_testing, testing_equipment_manufacturers).
constraint_victim(astm_d638_tensile_testing, innovative_non_standard_testing_startups).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LAB TECHNICIAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Must follow Section 10 (Procedure) exactly.
   WHEN: immediate - Today's testing batch.
   WHERE: trapped - Bound by the geometry of the Type I dogbone mold.
   SCOPE: local - The testing machine and specimen in front of them.
   
   WHY THIS CLASSIFICATION:
   The technician cannot "negotiate" with the crosshead speed of 5mm/min. 
   If they change it, the data is invalid. It is an unchangeable law of 
   their immediate environment.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    astm_d638_tensile_testing,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(astm_d638_tensile_testing),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: MATERIAL PROCUREMENT MANAGER - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Can choose between different materials/standards.
   WHEN: biographical - Planning product lifecycles over 5-10 years.
   WHERE: mobile - Can specify ISO 527 if required by European markets.
   SCOPE: continental - Managing vendors across North America.
   
   WHY THIS CLASSIFICATION:
   ASTM D638 is a functional tool (Rope). It allows the manager to coordinate 
   between vendors using a shared language of "Tensile Strength at Yield" 
   and "Elongation". It is helpful and changeable if the market shifts.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    astm_d638_tensile_testing,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(continental)
    )
) :-
    domain_priors:base_extractiveness(astm_d638_tensile_testing, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: ASTM COMMITTEE D20 - Institutional
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power to revise the standard.
   WHEN: generational - Managing a standard that has existed for decades.
   WHERE: arbitrage - Balances industrial needs vs. academic accuracy.
   SCOPE: global - The standard is used worldwide.
   
   WHY THIS CLASSIFICATION:
   For the committee, the standard is a Rope they are constantly weaving. 
   They recognize it as a coordination mechanism that must adapt to new 
   materials like 3D-printed polymers.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    astm_d638_tensile_testing,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 4: SMALL LAB OWNER / TECHNICIAN (FINANCIAL) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Bound by the high capital cost of compliance.
   WHEN: immediate - Ongoing daily maintenance and calibration costs.
   WHERE: trapped - Cannot exit the ASTM ecosystem without losing certification.
   SCOPE: local - The lab's operational margin.
   
   WHY THIS CLASSIFICATION:
   The "Noose" represents the capital extraction required to maintain the 
   standard. This includes the cost of the standard itself, specialized grips, 
   Class B-2 extensometers, and the labor for daily accuracy verification 
   required by Section 5.1.5.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    astm_d638_tensile_testing,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(astm_d638_tensile_testing),
    domain_priors:suppression_score(astm_d638_tensile_testing, S),
    S > 0.5.

% This explicit prior ensures the Noose perspective is mathematically weighted.
domain_priors:base_extractiveness(astm_d638_tensile_testing, 0.1).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(astm_d638_tests).

test(multi_perspective_variance) :-
    % Technician (Mountain) vs Manager (Rope)
    constraint_indexing:constraint_classification(astm_d638_tensile_testing, Mountain, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(astm_d638_tensile_testing, Rope, context(individual_moderate, biographical, mobile, continental)),
    Mountain \= Rope.

test(low_extractiveness_check) :-
    domain_priors:base_extractiveness(astm_d638_tensile_testing, E),
    E < 0.2.

:- end_tests(astm_d638_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: I primary-labeled this as 'Rope'. Industrial standards 
 * are the quintessential coordination mechanisms. They provide 0.1 
 * extractiveness because they generally solve more problems than they 
 * create.
 * * 2. MOUNTAIN PERSPECTIVE: It's vital to model the technician's view as 
 * 'Mountain'. For the person at the bench, a "Standard" is not a 
 * suggestion; it is the physical architecture of their labor.
 */

omega_variable(
    iso_convergence,
    "Will ASTM D638 and ISO 527 ever fully merge?",
    resolution_mechanism("Monitor Joint Committee activities and ballot results"),
    impact("If Yes: Global Mountain. If No: Continued regional arbitrage/Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: ISO 527
 * Viability: The primary global alternative. Technically similar but 
 * mathematically distinct in some modulus calculations.
 * Suppression: Market-driven. US government agencies and Boeing/Ford 
 * often mandate ASTM, suppressing ISO adoption in NA.
 * * CONCLUSION:
 * The existence of ISO 527 proves ASTM D638 isn't a "natural law" (Mountain), 
 * but an institutional choice (Rope).
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [astm_d638].
% 2. Run: ?- constraint_indexing:multi_index_report(astm_d638_tensile_testing).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: authoritarian_power_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Cross-Domain Synthesis (Political, Narrative, and Institutional)
% ============================================================================

:- module(constraint_power_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: authoritarian_power_paradox
 * human_readable: The Paradox of Authoritarian Centralization
 * domain: political/social/technological
 * temporal_scope: Universal / Multi-Era
 * spatial_scope: Global / Institutional
 * * SUMMARY:
 * The paradox of power describes a state where an institution or leader 
 * increases centralization to ensure stability, but in doing so, suppresses 
 * the diagnostic sensors required to perceive external threats or internal 
 * decay. This creates "Brittle Stability"—a system that appears unyielding 
 * until it collapses instantaneously.
 * * KEY AGENTS:
 * - The Centralized Core: Institutional; seeks total coordination (Rope) 
 * but effectively chokes the system (Noose).
 * - The Suppressed Diagnostic: Individual powerless; agents with the 
 * capacity to see systemic errors who are filtered out by conformity requirements.
 * - The Selection Event: Analytical; the external crisis (Sith, famine, 
 * market crash) that reveals the Mountain of reality beneath the bureaucratic Rope.
 * * NARRATIVE ARC:
 * Systems move from "Adaptive Ropes" (coordination) to "Domesticated Mountains" 
 * (unquestioned dogma). The paradox is that the more a system attempts to 
 * eliminate "friction" (dissent/mutation), the more it extracts the very 
 * intelligence required for its own survival, tightening the Noose of 
 * administrative blindness.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(power_paradox_cycle, 0, 10).
narrative_ontology:constraint_claim(authoritarian_power_paradox, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.8. High extraction of cognitive diversity and local agency 
% to maintain the unified narrative of the central core.
domain_priors:base_extractiveness(authoritarian_power_paradox, 0.8).

% Suppression score (0.0-1.0)
% Rationale: 0.9. Extreme suppression of boundary-testing, alternative 
% diagnostic methods, and non-conforming feedback.
domain_priors:suppression_score(authoritarian_power_paradox, 0.9).

% Enforcement requirements
% Requires heavy active enforcement (Censorship, loyalty tests, 
% anti-corruption purges, and automated surveillance).
domain_priors:requires_active_enforcement(authoritarian_power_paradox).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(authoritarian_power_paradox, extractiveness, 0.8).
narrative_ontology:constraint_metric(authoritarian_power_paradox, suppression_requirement, 0.9).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(authoritarian_power_paradox, short_term_social_order).
constraint_beneficiary(authoritarian_power_paradox, the_central_bureaucracy).
constraint_victim(authoritarian_power_paradox, systemic_adaptability).
constraint_victim(authoritarian_power_paradox, the_individual_outlier).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INDIVIDUAL OUTLIER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The worker, the Jedi outlier, the low-level 
         bureaucrat who sees the error.
   WHEN: immediate - Tactical awareness of a specific, ignored threat.
   WHERE: trapped - Bound by the "Domestication Gradient" of the institution.
   SCOPE: local - Their specific area of expertise or observation.
   
   WHY THIS CLASSIFICATION:
   To the outlier who sees a systemic flaw (an $8,337 error, a medical decline, 
   a Sith presence), the central denial is a Mountain. It is an unchangeable 
   feature of the world. No amount of signaling can move the institution 
   because the institution has defined the outlier's sensor as "noise."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    authoritarian_power_paradox,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(authoritarian_power_paradox, S),
    S > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE INSTITUTIONAL CORE - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power that defines the "Ladder" or "Thought."
   WHEN: generational - Maintaining the "thousand generations" or "2049 goal."
   WHERE: mobile - Projecting power across sectors and territories.
   SCOPE: national/global - Managing the aggregate population.
   
   WHY THIS CLASSIFICATION:
   The center views its centralization as a Rope—the only mechanism 
   capable of weaving a disparate population into a coherent national or 
   planetary mission. They view the elimination of "friction" as a 
   beneficial optimization rather than a dangerous extraction.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    authoritarian_power_paradox,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(authoritarian_power_paradox, E),
    E < 0.95,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EXTERNAL SELECTION PRESSURE - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - The observer of the terminal collapse.
   WHEN: historical - Evaluating the transition from stability to rupture.
   WHERE: analytical - Free from the institutional "glow."
   SCOPE: global - The impact of systemic failure on the broader world.
   
   WHY THIS CLASSIFICATION:
   The observer sees the Noose. Centralization extracted the "Margin" of 
   safety and intelligence until the first unanticipated crisis (a 
   famine, an invasion, a neural slumping) became terminal. The very 
   coordination (Rope) that claimed to provide security acted as the 
   instrument of the system's eventual strangulation.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    authoritarian_power_paradox,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(authoritarian_power_paradox, E),
    E > 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(authoritarian_power_paradox_tests).

test(brittle_stability_variance) :-
    % Core (Rope) vs Outlier (Mountain) vs Crisis (Noose)
    constraint_indexing:constraint_classification(authoritarian_power_paradox, T1, context(institutional, generational, mobile, national)),
    constraint_indexing:constraint_classification(authoritarian_power_paradox, T2, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(authoritarian_power_paradox, T3, context(analytical, historical, analytical, global)),
    T1 \= T2, T2 \= T3.

test(diagnostic_extraction_delta) :-
    % High suppression of outliers leads to systemic blindness
    domain_priors:suppression_score(authoritarian_power_paradox, S),
    domain_priors:base_extractiveness(authoritarian_power_paradox, E),
    S > 0.8, E > 0.7.

:- end_tests(authoritarian_power_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SYNTHESIS OF PATTERNS: I pattern-matched across the Jedi Council's 
 * bureaucratic blindness, the "Rotation Seven" extractive ladder, 
 * the "Faint Blue" replacement of the self with an efficient persona, 
 * and the "Faster, Better, Cheaper" extraction of engineering margins.
 * 2. THE CORE PARADOX: Authoritarianism attempts to turn the world into 
 * a Rope (controllable coordination) but eventually turns itself into a 
 * Mountain (unchangeable dogma) that acts as a Noose (extractive trap) 
 * for its own subjects and eventually its own survival.
 * 3. PERSPECTIVE: The "Analytical Observer" is the only one who can see the 
 * Noose before it closes.
 */

omega_variable(
    friction_utility_threshold,
    "How much 'friction' (dissent/error) must a system retain to remain 
     diagnostic without losing coordination (Rope)?",
    resolution_mechanism("Simulate institutional survival rates based on 
    varied 'dissent-tolerance' parameters"),
    impact("If low friction is best: The Rope is the ideal. If high friction 
            is best: The Rope is a deceptive Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Multi-Polar Collective Leadership
 * Viability: Provides internal "checks" and alternate sensors.
 * Suppression: Actively dismantled by centralized regimes (Mao/Xi) to 
 * ensure "unity of action."
 * * ALTERNATIVE 2: Radical Transparency / Open Science
 * Viability: Prevents the "silo effect" of technical errors (NASA MCO).
 * Suppression: Suppressed by authoritarian regimes to prevent "social 
 * instability" or "loss of prestige."
 * * CONCLUSION:
 * The rejection of pluralistic alternatives in favor of centralized 
 * coordination confirms that the "Paradox of Power" is a self-imposed 
 * Noose disguised as an institutional Rope.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [authoritarian_power_paradox].
% 2. Analyze: ?- multi_index_report(authoritarian_power_paradox).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: automatic_enrollment_defaults
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Thaler & Sunstein (2008). Nudge. / Pension Protection Act (2006).
% ============================================================================

:- module(constraint_automatic_enrollment, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: automatic_enrollment_defaults
 * human_readable: Automatic Enrollment (The Power of Defaults)
 * domain: economic/social/political
 * temporal_scope: Biographical (decades-long impact)
 * spatial_scope: National
 * * SUMMARY:
 * Automatic enrollment is a choice architecture where individuals are 
 * placed into a program (like a 401k) by default. It utilizes "Status Quo 
 * Bias" to ensure high participation rates.
 * * KEY AGENTS:
 * - The Employee: The agent whose inertia is being used to build their wealth.
 * - The Employer: The institutional designer setting the default.
 * - The Choice Architect: The strategist who decides whether the default 
 * is "participation" or "non-participation."
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(automatic_enrollment_defaults, 0, 10).
narrative_ontology:constraint_claim(automatic_enrollment_defaults, rope).

% Base extractiveness score (0.05)
% Extremely low; it is designed to retain value for the individual 
% by overcoming their own cognitive friction.
domain_priors:base_extractiveness(automatic_enrollment_defaults, 0.05).

% Suppression score (0.1)
% Low; while the default is "hidden" in the sense of being passive, 
% the opt-out mechanism is usually simple and transparent.
domain_priors:suppression_score(automatic_enrollment_defaults, 0.1).

domain_priors:emerges_naturally(automatic_enrollment_defaults).

% Metrics
narrative_ontology:constraint_metric(automatic_enrollment_defaults, extractiveness, 0.05).
narrative_ontology:constraint_metric(automatic_enrollment_defaults, suppression_requirement, 0.1).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RETIREE - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical (long-term)
   WHERE: mobile
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the worker, automatic enrollment is a "Rope." It coordinates 
   their present behavior with their future needs. It pulls them 
   toward a Global Optimum (wealth in old age) that their present-day 
   inertia would otherwise prevent them from reaching.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    automatic_enrollment_defaults,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(national))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE LIBERTARIAN CRITIC - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful (intellectual influence)
   WHEN: immediate
   WHERE: trapped (in a system that assumes their consent)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   To a critic of "Paternalism," the default is a "Noose." They see it as 
   an infringement on autonomy—a soft form of coercion that "strangles" 
   active decision-making by assuming consent where none was explicitly given.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    automatic_enrollment_defaults,
    noose,
    context(agent_power(individual_powerful), time_horizon(immediate), exit_options(trapped), spatial_scope(national))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE POLICY MAKER - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The observer sees the "Default Effect" as a "Mountain" of behavioral 
   psychology. Humans are hard-wired to prefer the status quo. Policy 
   must be built on this mountain; there is no such thing as a "neutral" 
   default.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    automatic_enrollment_defaults,
    mountain,
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))
) :- !.

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: availability_heuristic
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Tversky, A., & Kahneman, D. (1973) / Behavioral Economics
% ============================================================================

:- module(constraint_availability_heuristic, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: availability_heuristic
 * human_readable: Availability Heuristic
 * domain: social/cognitive/economic
 * temporal_scope: Permanent (Human Evolution)
 * spatial_scope: Global (Human Decision Systems)
 * * SUMMARY:
 * The availability heuristic is a mental shortcut that relies on immediate 
 * examples that come to a given person's mind when evaluating a specific 
 * topic, concept, method or decision. It operates on the principle that 
 * if something can be recalled, it must be important, or at least more 
 * important than alternative solutions which are not as readily recalled.
 * * KEY AGENTS:
 * - The Instinctive Actor: Relies on "gut feelings" shaped by recent or 
 * vivid memories.
 * - The Media Architect: Shapes the "availability" of information through 
 * selective, vivid, and frequent reporting.
 * - The Risk Analyst: Attempts to use base-rate data to override the 
 * heuristic's biases.
 * * NARRATIVE ARC:
 * The heuristic functions as a "Mountain" of biological shortcutting. For 
 * the individual, it is a "Rope" providing rapid, low-energy decision-making 
 * in safe environments. However, in modern information-dense societies, it 
 * becomes a "Noose," as vivid but rare events (e.g., plane crashes) strangle 
 * rational risk assessment compared to common but dull threats (e.g., heart 
 * disease).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(availability_interval, 0, 10).
narrative_ontology:constraint_claim(availability_heuristic, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts "rational accuracy" and "long-term utility." It 
% benefits media entities and actors who leverage "vividness" to capture 
% attention and influence behavior.
domain_priors:base_extractiveness(availability_heuristic, 0.4).

% Suppression score (0.0-1.0)
% Rationale: It suppresses "statistical base rates" and "dull facts." The 
% brain naturally ignores what isn't vivid, making the alternative (data) 
% effectively invisible without high cognitive effort.
domain_priors:suppression_score(availability_heuristic, 0.7).

% Enforcement requirements
domain_priors:emerges_naturally(availability_heuristic).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(availability_heuristic, extractiveness, 0.4).
narrative_ontology:constraint_metric(availability_heuristic, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(availability_heuristic, news_media).
constraint_beneficiary(availability_heuristic, sensationalist_politicians).
constraint_victim(availability_heuristic, public_health_policy).
constraint_victim(availability_heuristic, rational_decision_makers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE COGNITIVE PSYCHOLOGIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The objective observer)
   WHEN: civilizational (Observing an evolved cognitive trait)
   WHERE: trapped (Neural architecture is fixed)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the psychologist, this is a Mountain. It is an unchangeable feature 
   of the human "system 1" (fast thinking). It is a physical limit on 
   how information is retrieved and weighted in the human brain.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    availability_heuristic,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ADVERTISING EXECUTIVE - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-shaping power in the attention economy)
   WHEN: biographical (Achieving sales targets over a career)
   WHERE: arbitrage (Can move between different campaigns and media)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the executive, the heuristic is a Rope. It is a coordination mechanism 
   used to "top-load" a brand into a consumer's mind. By ensuring their 
   product is the "most available" memory through repetition and vivid 
   imagery, they pull the consumer toward a purchase decision.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    availability_heuristic,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANXIOUS CITIZEN - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A subject of the information environment)
   WHEN: immediate (Current state of fear or anxiety)
   WHERE: constrained (Cannot easily escape the "vividness" of news feeds)
   SCOPE: stand_alone
   
   WHY THIS CLASSIFICATION:
   For the citizen bombarded by vivid images of rare disasters, the heuristic 
   is a Noose. It strangles their ability to live a normal life or make 
   sane risks (like flying vs. driving). They are trapped by the salience 
   of the "last scary thing they saw," which extracts their peace of mind.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    availability_heuristic,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(availability_heuristic_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(availability_heuristic, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(availability_heuristic, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(availability_heuristic, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(vividness_suppression_scaling) :-
    % Heuristic relies on the suppression of dull, statistical alternatives.
    domain_priors:suppression_score(availability_heuristic, Score),
    Score >= 0.6.

test(time_immutability) :-
    % Evolutionary traits are viewed as Mountains on civilizational scales.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(availability_heuristic_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION SCORE (0.7): High, because the "Ease of Recall" acts as 
 * a biological block against slower, data-driven reasoning.
 * 2. EXTRACTIVENESS (0.4): It extracts attention and "correctness." Media 
 * entities benefit from the vividness they provide (Rope), while the 
 * individual suffers distorted risk perception (Noose).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    salience_threshold_shift,
    "Does the 'Vividness' threshold required to trigger the heuristic increase 
    in a hyper-visual digital society (desensitization)?",
    resolution_mechanism("Longitudinal study of response rates to disaster imagery across generations"),
    impact("If Yes: The Noose is temporary. If No: The Noose tightens as information volume grows."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Base-Rate Reasoning (System 2 Thinking)
 * Viability: High, but cognitively expensive. Requires training in 
 * statistics and active effort.
 * Suppression: Naturally suppressed by the brain's preference for 
 * low-energy heuristics.
 * * CONCLUSION:
 * The availability heuristic is a Mountain of the human condition, but it 
 * is a Noose specifically because modern institutions (media/advertising) 
 * weaponize it to suppress the Rope of statistical reality.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_availability_heuristic].
 * 2. Multi-perspective: ?- multi_index_report(availability_heuristic).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: axiom_of_choice_determinacy
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ernst Zermelo (1904) / ZFC Set Theory / Axiomatic Foundations
% ============================================================================

:- module(constraint_axiom_of_choice, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: axiom_of_choice_determinacy
 * human_readable: The Axiom of Choice (AC)
 * domain: mathematical/philosophical
 * temporal_scope: 1904 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Set Theory)
 * * SUMMARY:
 * The Axiom of Choice (AC) states that for every indexed family of non-empty 
 * sets, there exists a choice function that selects exactly one element from 
 * each set. It is a fundamental, non-constructive principle of modern 
 * mathematics that enables transfinite induction and the Well-Ordering 
 * Theorem, while simultaneously birthing "pathological" results.
 * * KEY AGENTS:
 * - The Set Element: A powerless subject whose "selection" is guaranteed 
 * by the axiom even in the absence of a specific rule.
 * - The Functional Analyst: An institutional agent using AC as a "Rope" 
 * to coordinate the existence of basis vectors and linear functionals.
 * - The Intuitive Realist: An observer for whom AC is a "Noose," as its 
 * logical necessity "strangles" physical intuition (e.g., via Banach-Tarski).
 * * NARRATIVE ARC:
 * AC functions as a "Mountain" of formal reality—if you accept ZFC, the 
 * existence of choice functions is a natural law. In modern analysis, it is 
 * a "Rope" for functional coordination, allowing architects to prove 
 * the existence of objects like non-measurable sets. However, for those 
 * grounding math in constructivist reality, it acts as a "Noose," 
 * extracting the "sanctity of construction" and forcing the "tax" of 
 * accepting impossible physical doublings.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural anchor extraction
narrative_ontology:interval(ac_era, 1904, 2026).
narrative_ontology:constraint_claim(axiom_of_choice_determinacy, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.25. AC "extracts" the requirement for specific constructive 
% rules, replacing them with a "metaphysical tax" on intuition to enable 
% higher-order transfinite operations.
domain_priors:base_extractiveness(axiom_of_choice_determinacy, 0.25).

% Suppression score (0.0-1.0)
% Rationale: 0.4. It suppresses the visibility of purely "Constructivist" 
% or "Finitist" alternatives by rendering them functionally incomplete 
% for standard modern analysis (The "Standard Rope").
domain_priors:suppression_score(axiom_of_choice_determinacy, 0.4).

% Enforcement: Emerges naturally from the axioms of ZFC.
domain_priors:emerges_naturally(axiom_of_choice_determinacy).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(axiom_of_choice_determinacy, extractiveness, 0.25).
narrative_ontology:constraint_metric(axiom_of_choice_determinacy, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(axiom_of_choice_determinacy, functional_analysts).
constraint_beneficiary(axiom_of_choice_determinacy, transfinite_topologists).
constraint_victim(axiom_of_choice_determinacy, mathematical_constructivists).
constraint_victim(axiom_of_choice_determinacy, physical_intuitionists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DISCRETE ELEMENT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The element cannot refuse selection or define its path.
   WHEN: immediate - The choice exists at the moment the collection is defined.
   WHERE: trapped - Bound within the transfinite hierarchy of the set.
   SCOPE: local - Immediate membership status.
   
   WHY THIS CLASSIFICATION:
   For an individual element in an infinite collection, AC is a Mountain. Its 
   existence as a "chosen" member is an unyielding law of the ZFC universe. 
   It has zero agency to remain "unchosen" or to demand a specific 
   rule-based selection; its destiny is fixed by the transfinite.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    axiom_of_choice_determinacy,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE HAHN-BANACH ANALYST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to establish the foundations of modern physics and analysis.
   WHEN: biographical - Spanning the lifecycle of a mathematical theory's development.
   WHERE: mobile - Can choose to use AC to solve specific functional problems.
   SCOPE: global - Universal application across infinite-dimensional spaces.
   
   WHY THIS CLASSIFICATION:
   For the analyst, AC is a "Rope"—a functional coordination mechanism. It 
   allows them to "pull" the standard of achievement in analysis by 
   guaranteeing the existence of linear functionals, providing a tool 
   for agency in a transfinite landscape that would otherwise be unusable.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    axiom_of_choice_determinacy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INTUITIVE GEOMETER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has tools to reason but is bound by the axiom's logic.
   WHEN: civilizational - Attempting to map math to a finite, physical universe.
   WHERE: constrained - The "exit" (refusing AC) is professionally and logically costly.
   SCOPE: global - Affecting the interpretation of all 3D space.
   
   WHY THIS CLASSIFICATION:
   For the geometer grounded in physical realism, AC is a "Noose." It 
   "strangles" the concept of conservation of volume through the 
   Banach-Tarski paradox. It extracts the "reliability of matter" (extraction), 
   choking the possibility of a purely intuitive geometry in favor of 
   abstract, "monstrous" doublings.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    axiom_of_choice_determinacy,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(axiom_of_choice_determinacy, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(axiom_of_choice_tests).

test(multi_perspective_variance) :-
    % Element -> Mountain
    constraint_indexing:constraint_classification(axiom_of_choice_determinacy, Type1, context(individual_powerless, immediate, trapped, local)),
    % Analyst -> Rope
    constraint_indexing:constraint_classification(axiom_of_choice_determinacy, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(intuition_extraction_penalty) :-
    % Geometers experience the "Noose" of the extractiveness of intuition.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(axiom_of_choice_determinacy, Context, Score),
    Score >= 0.2.

test(natural_emergence) :-
    domain_priors:emerges_naturally(axiom_of_choice_determinacy).

:- end_tests(axiom_of_choice_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.25): 
 * Reasoning: AC is relatively non-extractive compared to political systems, 
 * but it "extracts" the constructive link between an object and its 
 * definition, imposing a cognitive tax of non-measurability.
 * 2. CLASSIFICATION: 
 * Captured the transition from the "Mountain" of Zermelo's axioms to 
 * the "Noose" of the paradoxical results it mandates for the intuitionist.
 */

% OMEGA IDENTIFICATION
omega_variable(
    ac_physical_validity,
    "Is the Axiom of Choice a 'Mountain' that reflects physical reality or a 'Scaffold' of mathematical convenience (Scaffold)?",
    resolution_mechanism("Investigation into whether physical 'non-measurable' states or infinite choice functions exist in quantum foundations."),
    impact("If Scaffold: AC is a 'Noose' of irrelevant abstraction. If Mountain: It is a fundamental truth."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: ZF + Axiom of Determinacy (AD)
 * Viability: In ZF+AD, all sets are Lebesgue measurable, and Banach-Tarski 
 * is impossible.
 * Suppression: Rejected by the "Standard Rope" because AC is required 
 * for vital theorems in analysis (Tychonoff).
 * * ALTERNATIVE 2: Constructive Set Theory (CZF)
 * Viability: Forbids non-constructive choices.
 * * CONCLUSION:
 * The existence of AD (Alternative 1) proves that the AC "Noose" is a 
 * feature of our chosen axiomatic "Rope."
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [axiom_of_choice_determinacy].
 * 2. Multi-perspective: ?- multi_index_report(axiom_of_choice_determinacy).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: banach_fixed_point
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Banach Fixed Point Theorem (Contraction Mapping Principle)
% ============================================================================

:- module(constraint_banach_fixed_point, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: banach_fixed_point
 * human_readable: Banach Fixed Point Convergence
 * domain: mathematics/technological
 * temporal_scope: 1922 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Any complete metric space)
 * * SUMMARY:
 * The Banach Fixed Point Theorem states that a contraction mapping on a complete 
 * metric space has a unique fixed point, and any sequence of iterates $x_{n+1} = f(x_n)$ 
 * will converge to it. This functions as a fundamental law of iteration and stability.
 * * KEY AGENTS:
 * - The Iterative Algorithm: A powerless agent whose "path" is dictated by the 
 * contraction factor.
 * - The Numerical Analyst: An analytical observer who maps the "landscape" of 
 * convergence.
 * - The Control Systems Engineer: An institutional agent who uses the theorem 
 * as a guarantee (coordination) for system stability.
 * * NARRATIVE ARC:
 * In the realm of abstract mathematics, the theorem is a "Mountain" of natural law. 
 * For the engineer, it is a "Rope" that pulls systems toward equilibrium. However, 
 * in the presence of a "weak" contraction ($k$ near 1), the guarantee of 
 * convergence acts as a "Noose," extracting infinite computational cycles for 
 * minimal progress.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(banach_era, 1922, 2026).
narrative_ontology:constraint_claim(banach_fixed_point, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Low (0.2). As a mathematical truth, it doesn't "take" without 
% giving, though computational realization "extracts" time based on the 
% contraction factor $k$.
domain_priors:base_extractiveness(banach_fixed_point, 0.2).

% Suppression score (0.0-1.0)
% Rationale: Low (0.2). Alternatives like Brouwer or Schauder fixed point 
% theorems are highly visible to practitioners.
domain_priors:suppression_score(banach_fixed_point, 0.2).

% Enforcement: Emerges naturally from the axioms of metric spaces.
domain_priors:emerges_naturally(banach_fixed_point).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(banach_fixed_point, extractiveness, 0.2).
narrative_ontology:constraint_metric(banach_fixed_point, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(banach_fixed_point, system_designers). % Guaranteed stability.
constraint_beneficiary(banach_fixed_point, mathematicians). % Proof-of-existence tool.
constraint_victim(banach_fixed_point, computational_resources). % Cycles extracted for convergence.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ITERATIVE ALGORITHM - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The code itself cannot change its logic.
   WHEN: immediate - Focused on the current step $x_n \to x_{n+1}$.
   WHERE: trapped - Bound by the contraction factor $k$ and the space $X$.
   SCOPE: local - Immediate neighborhood of the current iterate.
   
   WHY THIS CLASSIFICATION:
   For the algorithm, convergence is an unchangeable law of its universe. 
   It has zero degrees of freedom; if the conditions of the theorem are met, 
   the path to the fixed point is an inevitable physical/logical trajectory.
   
   NARRATIVE EVIDENCE:
   "The sequence $x_n$ converges to the unique fixed point $x^*$."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    banach_fixed_point,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CONTROL ENGINEER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design the mapping $f$ to ensure $k < 1$.
   WHEN: biographical - Lifetime of the system being controlled.
   WHERE: mobile - Can change the mapping or the metric to improve performance.
   SCOPE: national - Applies to all systems of this class (e.g., all flight controllers).
   
   WHY THIS CLASSIFICATION:
   The engineer sees the theorem as a "Rope" for functional coordination. It 
   is a tool that ensures that various sub-components are "pulled" into a 
   stable state, allowing for predictable system behavior.
   
   NARRATIVE EVIDENCE:
   "The contraction mapping principle provides a constructive method to 
   find the fixed point."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    banach_fixed_point,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: WEAK CONTRACTION (k = 0.999) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - An algorithm starved for precision.
   WHEN: biographical - Convergence takes "forever" (effectively a lifetime).
   WHERE: constrained - No alternative but to continue iterating.
   SCOPE: local - Stuck in a slow crawl toward a distant point.
   
   WHY THIS CLASSIFICATION:
   When the contraction factor is extremely close to 1, the "guarantee" of 
   convergence becomes a "Noose." The algorithm is forced to expend massive 
   resources (extraction) for negligible gain, trapped in a "convergent" 
   state that is functionally useless.
   
   NARRATIVE EVIDENCE:
   "The error bound $d(x_n, x^*) \leq \frac{k^n}{1-k} d(x_0, x_1)$ grows 
   unmanageable as $k \to 1$."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    banach_fixed_point,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(banach_fixed_point, E),
    E > 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(banach_fixed_point_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(banach_fixed_point, Type1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(banach_fixed_point, Type2, context(institutional, biographical, mobile, national)),
    Type1 = mountain,
    Type2 = rope.

test(power_extractiveness_scaling) :-
    % The "victim" (computational cycles) experiences more extraction than the "designer."
    ContextPowerless = context(individual_powerless, biographical, constrained, local),
    ContextPowerful = context(institutional, biographical, mobile, national),
    constraint_indexing:extractiveness_for_agent(banach_fixed_point, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(banach_fixed_point, ContextPowerful, Score2),
    Score1 > Score2.

test(natural_emergence) :-
    domain_priors:emerges_naturally(banach_fixed_point).

:- end_tests(banach_fixed_point_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Banach's theorem is fundamental and non-punitive by nature. 
 * However, I gave it 0.2 to acknowledge the computational "cost" of 
 * the contractive iterates, which are mandatory for convergence.
 * * 2. SUPPRESSION SCORE (0.2):
 * Reasoning: It doesn't hide alternatives; it is one of several tools 
 * (Brouwer, etc.) used depending on the space's properties.
 * * 3. PERSPECTIVE SELECTION:
 * Chose the Algorithm (Subject), Engineer (User), and Weak Contraction 
 * (Edge Case) to show how a "guarantee" can shift from a gift to a trap.
 * * 4. OMEGAS:
 * Ambiguity exists regarding "Completeness." In pure math, it's a Mountain. 
 * In floating-point hardware, the "Mountain" might actually be a "Scaffold" 
 * that collapses into oscillation or precision-loss.
 */

% OMEGA IDENTIFICATION
omega_variable(
    floating_point_completeness,
    "Is the hardware-realized space 'complete' enough for the Mountain of Banach logic to hold?",
    resolution_mechanism("Numerical audit of precision loss in $10^9$ iterates."),
    impact("If Yes: Logic holds. If No: The 'Mountain' is a 'Scaffold' that causes drift."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Brouwer Fixed Point Theorem
 * Viability: Applies to compact convex sets, doesn't require contraction.
 * Suppression: None, it's a different tool for different topological contexts.
 * Evidence: Found in any standard topology text.
 * * ALTERNATIVE 2: Newton's Method (Local Convergence)
 * Viability: Faster convergence (quadratic vs linear).
 * Suppression: Often used *instead* of Banach when the function is differentiable.
 * * CONCLUSION:
 * Because Banach does not actively suppress Newtonian or Brouwerian alternatives, 
 * it remains a "Rope" (tool) for engineers rather than a "Noose." It only 
 * becomes a Noose when the contraction $k$ is so poor that no other method 
 * can be found.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * * 1. Load: ?- [banach_fixed_point].
 * 2. Multi-perspective: ?- multi_index_report(banach_fixed_point).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: banach_tarski_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Stefan Banach & Alfred Tarski (1924) / Set Theory / Axiom of Choice
% ============================================================================

:- module(constraint_banach_tarski, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: banach_tarski_paradox
 * human_readable: Banach-Tarski Paradox (Non-Measurable Decomposition)
 * domain: mathematical/philosophical
 * temporal_scope: 1924 - Present (Civilizational)
 * spatial_scope: Global/Abstract (3D Euclidean Space)
 * * SUMMARY:
 * The Banach-Tarski Paradox states that a solid ball in 3D space can be split 
 * into a finite number of non-measurable pieces, which can then be reassembled 
 * into two identical copies of the original ball using only rotations and 
 * translations. It represents a fundamental constraint on the relationship 
 * between set theory, volume, and physical intuition.
 * * KEY AGENTS:
 * - The Mathematical Point: A powerless subject whose membership in a 
 * "non-measurable set" dictates its paradoxical path.
 * - The Set Theorist: An institutional agent using the Axiom of Choice as a 
 * "Rope" to build the foundations of modern analysis.
 * - The Physical Intuitionist: An observer for whom the paradox is a 
 * "Noose," as it "strangles" the common-sense notion that volume is additive.
 * * NARRATIVE ARC:
 * Banach-Tarski is a "Mountain" of formal logic—if you accept the Axiom of 
 * Choice, the doubling of the ball is an unyielding truth. In pure math, it 
 * is a "Rope" for exploring the boundaries of measure theory. However, for 
 * those attempting to ground math in physical reality, it acts as a "Noose," 
 * extracting the "sanctity of matter" (extraction) and "choking" the 
 * possibility of a purely intuitive geometry.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction
narrative_ontology:interval(banach_tarski_era, 1924, 2026).
narrative_ontology:constraint_claim(banach_tarski_paradox, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. While mathematically a "gift" of structural depth, it 
% "extracts" the reliability of volume-based intuition, forcing a 
% "complexity tax" on all attempts to define "size" for arbitrary sets.
domain_priors:base_extractiveness(banach_tarski_paradox, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.4. It suppresses the visibility of "Naive Measure Theory," 
% rendering the idea that all sets have a defined volume functionally 
% fraudulent in higher-dimensional analysis.
domain_priors:suppression_score(banach_tarski_paradox, 0.4).

% Enforcement: Emerges naturally from the Axiom of Choice (ZFC).
domain_priors:emerges_naturally(banach_tarski_paradox).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(banach_tarski_paradox, extractiveness, 0.2).
narrative_ontology:constraint_metric(banach_tarski_paradox, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(banach_tarski_paradox, axiomatic_set_theorists).
constraint_beneficiary(banach_tarski_paradox, non_measurable_geometry).
constraint_victim(banach_tarski_paradox, classical_physical_intuition).
constraint_victim(banach_tarski_paradox, naive_measurability_advocates).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DISCRETE POINT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The point cannot refuse its assignment to a piece.
   WHEN: immediate - True at the moment of decomposition.
   WHERE: trapped - Bound within the non-measurable subset.
   SCOPE: local - Immediate coordinate within the mapping.
   
   WHY THIS CLASSIFICATION:
   For an individual point, the Paradox is a Mountain. If the Axiom of Choice 
   is invoked, the point's membership in a specific piece that "doubles" the 
   volume is a natural law of the ZFC universe. It has no agency to remain 
   subject to the laws of finite volume.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    banach_tarski_paradox,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SET THEORIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to accept or reject the Axiom of Choice (AC).
   WHEN: biographical - Planning the rigor of a mathematical framework.
   WHERE: mobile - Can choose to work in ZF, ZFC, or other axiomatic systems.
   SCOPE: global - Universal application in abstract mathematics.
   
   WHY THIS CLASSIFICATION:
   For the theorist, the paradox is a "Rope"—a functional coordination tool. 
   It allows them to "pull" the standard of achievement in analysis by 
   defining the limits of measurability, proving that certain "pathological" 
   constructions are possible and necessary for a complete theory of sets.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    banach_tarski_paradox,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PHYSICAL MATERIALIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the intelligence to model but is bound by logic.
   WHEN: civilizational - Attempting to map math to a finite physical world.
   WHERE: constrained - No alternative but to accept the "monstrous" result of AC.
   SCOPE: global - Affecting the interpretation of all physical space.
   
   WHY THIS CLASSIFICATION:
   For the materialist, the paradox is a "Noose." It "strangles" the belief 
   that mathematics is a perfect mirror of physics. It extracts the 
   "concreteness" of geometry (extraction), "choking" the intuition that 
   you cannot create "something from nothing" in a world of formal symbols.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    banach_tarski_paradox,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(banach_tarski_paradox, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(banach_tarski_tests).

test(multi_perspective_variance) :-
    % Point -> Mountain
    constraint_indexing:constraint_classification(banach_tarski_paradox, Type1, context(individual_powerless, immediate, trapped, local)),
    % Theorist -> Rope
    constraint_indexing:constraint_classification(banach_tarski_paradox, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(intuition_extraction_penalty) :-
    % Materialists experience the "Noose" of the extractiveness of intuition.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(banach_tarski_paradox, Context, Score),
    Score >= 0.15.

test(natural_emergence) :-
    domain_priors:emerges_naturally(banach_tarski_paradox).

:- end_tests(banach_tarski_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.2): 
 * Chose this because the paradox "extracts" the utility of naive geometry. 
 * While mathematically valid, it imposes a "cognitive tax" on anyone 
 * trying to bridge the gap between formal sets and physical atoms.
 * 2. PERSPECTIVE SELECTION: 
 * Chose Point (Subject), Theorist (User), and Materialist (Victim) to 
 * show how a "Mountain" of formal logic becomes a "Noose" for 
 * physical intuition.
 * 3. OMEGA IDENTIFICATION: 
 * Formalized the "Axiom of Choice" uncertainty—is it a Mountain of 
 * reality or a Scaffold of convenience?
 */

% YOUR OMEGAS HERE:
omega_variable(
    axiom_of_choice_physical_validity,
    "Is the Axiom of Choice a 'Mountain' that reflects physical reality or a 'Scaffold' for infinite math?",
    resolution_mechanism("Investigation into whether physical 'non-measurable' states exist in quantum foundations."),
    impact("If Scaffold: Banach-Tarski is a 'Noose' of irrelevant logic. If Mountain: It is a fundamental truth."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * * ALTERNATIVE 1: ZF (without Choice) + Axiom of Determinacy (AD)
 * Viability: In ZF+AD, all sets are Lebesgue measurable, and Banach-Tarski 
 * is impossible.
 * Suppression: Rejected by mainstream math because Choice is required for 
 * many vital "Ropes" in analysis (e.g., Tychonoff's Theorem).
 * * ALTERNATIVE 2: Finite Atomic Geometry
 * Viability: In a world of atoms, you cannot split a ball into "infinitely 
 * many points."
 * Suppression: Suppressed in abstract topology to explore the "Mountain" 
 * of the continuum.
 * * CONCLUSION:
 * The existence of Alternative 1 (Axiom of Determinacy) proves that the 
 * Banach-Tarski "Noose" is an optional feature of our chosen axiomatic "Rope."
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [banach_tarski_paradox].
 * 2. Multi-perspective: ?- multi_index_report(banach_tarski_paradox).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: bay_of_pigs_operational_silo
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Bay of Pigs Invasion (Declassified CIA/National Security Archive)
% ============================================================================

:- module(constraint_bay_of_pigs, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bay_of_pigs_operational_silo
 * human_readable: The CIA-Pentagon Intelligence/Action Silo (Operation Zapata)
 * domain: political/military
 * temporal_scope: 1960-1961
 * spatial_scope: Regional (US-Cuba-Guatemala)
 * * SUMMARY:
 * Operation Zapata was constrained by an extreme "need to know" operational 
 * silo that prevented internal skepticism from reaching decision-makers. 
 * This constraint manifested as "groupthink," where the CIA's plan relied on 
 * an internal logic that assumed a popular uprising in Cuba would 
 * spontaneously occur upon landing.
 * * KEY AGENTS:
 * - Brigade 2506 Exile: Powerless agent trapped in a plan they didn't author.
 * - CIA Project Directors (Bissell/Cabanis): Institutional architects of the silo.
 * - President Kennedy: Powerful agent blinded by the suppression of alternatives.
 * * NARRATIVE ARC:
 * The operational secrecy began as a Rope (coordination for surprise) but 
 * mutated into a Noose. By suppressing the JCS's pessimistic 
 * assessments and failing to inform the Brigade of the lack of US air 
 * cover, the silo ensured the mission's failure was inevitable.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(operation_zapata_timeline, 0, 10).
narrative_ontology:constraint_claim(bay_of_pigs_operational_silo, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.9. High extraction of life and political capital from the 
% Brigade and the Kennedy administration for the sake of CIA agency prestige.
domain_priors:base_extractiveness(bay_of_pigs_operational_silo, 0.9).

% Suppression score (0.0-1.0)
% Rationale: 0.8. Active suppression of dissent and alternative assessments 
% from the State Department and lower-level CIA analysts.
domain_priors:suppression_score(bay_of_pigs_operational_silo, 0.8).

% Enforcement requirements
% Requires active enforcement (extreme classification and compartmentalization).
domain_priors:requires_active_enforcement(bay_of_pigs_operational_silo).

% Metrics required for Executive Summary
narrative_ontology:constraint_metric(bay_of_pigs_operational_silo, extractiveness, 0.9).
narrative_ontology:constraint_metric(bay_of_pigs_operational_silo, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(bay_of_pigs_operational_silo, cia_operational_autonomy).
constraint_victim(bay_of_pigs_operational_silo, brigade_2506_exiles).
constraint_victim(bay_of_pigs_operational_silo, kennedy_administration_reputation).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: BRIGADE 2506 MEMBER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Trained in secret, given a fixed objective.
   WHEN: immediate - The 72 hours of the landing.
   WHERE: trapped - Landed on a beach with no retreat path (swamps).
   SCOPE: local - Playa Girón/Playa Larga.
   
   WHY THIS CLASSIFICATION:
   For the exiles, the CIA's plan was a Mountain. They were told US air 
   support was a certainty and that the Cuban people would join them. 
   When these turned out to be false, the exiles had no power to change the 
   landscape they were dying in.
   
   NARRATIVE EVIDENCE:
   "The Brigade was never told that the President had specifically forbidden 
   the use of US combat forces".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    bay_of_pigs_operational_silo,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(bay_of_pigs_operational_silo),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: CIA LEADERSHIP - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power over the flow of information.
   WHEN: biographical - Seeking a definitive win in the Cold War.
   WHERE: mobile - Had the ability to abort or modify but chose not to.
   SCOPE: regional - Caribbean and Central America.
   
   WHY THIS CLASSIFICATION:
   To Bissell and Dulles, the compartmentalization was a Rope—a necessary 
   functional coordination tool to prevent leaks that would jeopardize 
   deniability. They viewed the constraints they built as helpful 
   protections for the mission's success.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    bay_of_pigs_operational_silo,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(bay_of_pigs_operational_silo, E),
    E > 0.5, % High E is invisible to them
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE TAYLOR COMMITTEE (POST-MORTEM) - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Commissioned to find why the failure occurred.
   WHEN: historical - Looking at the systemic collapse of 1961.
   WHERE: analytical - Not bound by the operational secrecy after the fact.
   SCOPE: global - Context of the Cold War and future US policy.
   
   WHY THIS CLASSIFICATION:
   The post-mortem analysis identifies the silo as a Noose. The lack of 
   external review meant that the plan's flaws (e.g., the "escaping to the 
   mountains" fallback being 80 miles away) were never corrected, 
   choking the mission to death.
   
   NARRATIVE EVIDENCE:
   The Taylor Report noted that "the planners gave the President the impression 
   the operation would trigger a spontaneous revolt," which was factually 
   unsupported.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    bay_of_pigs_operational_silo,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(bay_of_pigs_operational_silo, S),
    S > 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(bay_of_pigs_tests).

test(multi_perspective_conflict) :-
    constraint_indexing:constraint_classification(bay_of_pigs_operational_silo, T1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(bay_of_pigs_operational_silo, T2, context(institutional, biographical, mobile, regional)),
    T1 \= T2.

test(high_extraction_detection) :-
    domain_priors:base_extractiveness(bay_of_pigs_operational_silo, E),
    E > 0.8.

:- end_tests(bay_of_pigs_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.9): I rated this extremely high because the "cost" 
 * was almost entirely borne by the exiles and the President, while the 
 * agency maintained its internal culture until the total collapse.
 * * 2. PERSPECTIVE: Kennedy's perspective is complex; he acts as both a 
 * powerful agent and a victim of the analytical suppression. 
 * I focused on the Taylor Committee for the "Noose" perspective to provide 
 * the cleanest "Analytical" view required by the prompt.
 */

omega_variable(
    castro_internal_strength,
    "Was a popular uprising ever truly possible, or was the CIA logic a 
     metaphysical delusion?",
    resolution_mechanism("Analysis of 1961 Cuban internal security records and public sentiment data"),
    impact("If Possible: The silo was a failed Rope. If Delusion: The silo 
            was a total Noose from inception."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Joint CIA-Pentagon Planning
 * Viability: Using the JCS as a peer reviewer would have exposed the 
 * logistical impossibilities of the Trinidad/Zapata plan.
 * Suppression: Suppressed by CIA leadership to maintain control over the 
 * budget and operational direction.
 * * CONCLUSION:
 * The active suppression of the Joint Chiefs of Staff's skepticism confirms 
 * the classification of the silo as a Noose.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [bay_of_pigs_operational_silo].
% 2. Multi-perspective report: ?- multi_index_report(bay_of_pigs_operational_silo).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(bap_of_pigs_operational_silo, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(bap_of_pigs_operational_silo, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(bap_of_pigs_operational_silo, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: base_pair_complementarity
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Watson & Crick, "Molecular Structure of Nucleic Acids" (1953)
% ============================================================================

:- module(constraint_base_pair_complementarity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: base_pair_complementarity
 * human_readable: Specific Base-Pair Pairing
 * domain: biological/chemical
 * temporal_scope: Permanent (Biological Life)
 * spatial_scope: Universal (Cellular Level)
 * * SUMMARY:
 * Watson and Crick propose a structure for DNA consisting of two helical chains 
 * held together by purine and pyrimidine bases. The core constraint is the 
 * "specific pairing" (Adenine with Thymine, Guanine with Cytosine), which 
 * dictates the molecular geometry and suggests a copying mechanism.
 * * KEY AGENTS:
 * - The DNA Polymerase (Implied): The institutional agent that "reads" and 
 * enforces the pairing during replication.
 * - The Nucleotide: The powerless agent that must conform to the 
 * hydrogen-bond geometry.
 * - Watson & Crick: The analytical observers who identify the "Rope" of 
 * genetic information.
 * * NARRATIVE ARC:
 * The paper critiques previous models (Pauling's three-chain model) for being 
 * chemically "unsatisfactory." By identifying the correct helical structure, 
 * the authors reveal a constraint that is both a "Mountain" (chemical necessity) 
 * and a "Rope" (a functional copying mechanism for heredity).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(dna_structure_discovery, 0, 10).
narrative_ontology:constraint_claim(base_pair_complementarity, mountain).

% Base extractiveness score: 0.2
% Rationale: The pairing coordinates information; it does not "extract" 
% value in a social sense, though it "extracts" thermodynamic stability.
domain_priors:base_extractiveness(base_pair_complementarity, 0.2).

% Suppression score: 1.0
% Rationale: Alternatives (like A-G pairing) are physically impossible 
% within this geometry; the suppression is absolute and dictated by 
% Van der Waals distances.
domain_priors:suppression_score(base_pair_complementarity, 1.0).

% Enforcement requirements: Thermodynamic laws and steric hindrance.
domain_priors:emerges_naturally(base_pair_complementarity).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(base_pair_complementarity, extractiveness, 0.2).
narrative_ontology:constraint_metric(base_pair_complementarity, suppression_requirement, 1.0).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(base_pair_complementarity, [biological_order, heredity]).
constraint_victim(base_pair_complementarity, [entropic_decay]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NUCLEOTIDE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - A single molecule.
   WHEN: immediate - The chemical bond occurs in nanoseconds.
   WHERE: trapped - Bound by the "sugar-phosphate backbone."
   SCOPE: local - Within a single double helix.
   
   WHY THIS CLASSIFICATION:
   For an individual base, the pairing is a "Mountain." It cannot "choose" 
   another partner due to the rigid spacing of the helix and the specific 
   hydrogen bond donor/acceptor sites.
   
   NARRATIVE EVIDENCE:
   "Only specific pairs of bases can bond together... one member of a pair 
   must be a purine and the other a pyrimidine."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    base_pair_complementarity,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(base_pair_complementarity, biological_order),
        constraint_victim(base_pair_complementarity, []),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(base_pair_complementarity, S),
    S > 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CELLULAR MACHINERY - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - The enzymes (polymerases) that govern replication.
   WHEN: generational - Concerned with the "copying mechanism."
   WHERE: arbitrage - Able to correct errors (proofreading).
   SCOPE: global - Across the entire genome.
   
   WHY THIS CLASSIFICATION:
   For the cell, the double helix is a "Rope"—a functional coordination 
   mechanism. It is the "suggested copying mechanism" that allows life to 
   propagate its code across generations.
   
   NARRATIVE EVIDENCE:
   "It has not escaped our notice that the specific pairing... immediately 
   suggests a possible copying mechanism."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    base_pair_complementarity,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(arbitrage),
        constraint_beneficiary(base_pair_complementarity, heredity),
        constraint_victim(base_pair_complementarity, []),
        spatial_scope(global)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: PAULING & COREY - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerful - Competing world-class scientists.
   WHEN: immediate - The release of a superior model.
   WHERE: constrained - Their three-chain model is invalidated by geometry.
   SCOPE: national - The scientific consensus.
   
   WHY THIS CLASSIFICATION:
   For those holding the incorrect model, the geometric reality of the 
   Watson-Crick model acts as a "Noose." It "suppresses" their theory 
   by demonstrating that their proposed structure is "unsatisfactory" 
   due to electrostatic repulsion.
   
   NARRATIVE EVIDENCE:
   "Without the acidic hydrogen atoms it is not clear what forces would 
   hold the structure together."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    base_pair_complementarity,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(constrained),
        constraint_beneficiary(base_pair_complementarity, watson_crick_consensus),
        constraint_victim(base_pair_complementarity, pauling_model),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(base_pair_complementarity, S),
    S > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(dna_structure_tests).

test(geometry_determines_type) :-
    % Verify that for the powerless nucleotide, the constraint is a Mountain
    constraint_indexing:constraint_classification(base_pair_complementarity, mountain, context(agent_power(individual_powerless), _, trapped, _, _, _)).

test(functional_replication) :-
    % Verify that for cellular machinery, the helix is a Rope
    constraint_indexing:constraint_classification(base_pair_complementarity, rope, context(agent_power(institutional), _, arbitrage, _, _, _)).

test(suppression_of_error) :-
    % Mismatched bases face 1.0 suppression (steric hindrance)
    domain_priors:suppression_score(base_pair_complementarity, 1.0).

:- end_tests(dna_structure_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: DNA structure is the ultimate "Mountain" because 
 * chemical bonds and atomic distances leave zero room for alternative 
 * "interpretations."
 * 2. THE REPLICATION ROPE: I identified the "copying mechanism" as a 
 * Rope because it is the functional utility that justifies the 
 * existence of the constraint in a biological sense.
 * 3. SUPPRESSION (1.0): The paper is effectively a proof. It suppresses 
 * incorrect models (Pauling/Fraser) not through political force, but 
 * through the "Analytical" force of chemical consistency.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    tautomeric_shift,
    "Can bases exist in alternative states (tautomers) that allow 'illegal' pairings?",
    resolution_mechanism("Requires biochemical analysis of mutation rates."),
    impact("If yes: The Mountain of pairing becomes a Noose for the genetic code (mutations)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Pauling & Corey's Three-Chain Model:
 * Viability: Real model proposed by leading scientists of the era.
 * Suppression: Rejected by Watson & Crick because "the negatively charged 
 * phosphates near the axis will repel each other."
 * EVIDENCE: "Their model consists of three intertwined chains... in our 
 * opinion this structure is unsatisfactory."
 * * CONCLUSION: 
 * The physical impossibility of the three-chain model reinforces the 
 * classification of the double helix as a "Mountain."
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: basel_problem_convergence
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: The Basel Problem (Sum of Reciprocals of Squares)
% ============================================================================

:- module(constraint_basel_problem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: basel_problem_convergence
 * human_readable: The Basel Problem (Infinite Series Convergence)
 * domain: mathematical/analytical
 * temporal_scope: 1644 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Number Theory)
 * * SUMMARY:
 * The Basel Problem asks for the precise sum of the reciprocals of the squares 
 * of the natural numbers. Posed in 1644 and solved by Leonhard Euler in 1734, 
 * the sum is exactly pi^2 / 6. This constant represents a fundamental limit 
 * of harmonic summation.
 * * KEY AGENTS:
 * - The Iterative Sum (The Subject): The sequence of partial sums, 
 * relentlessly moving toward a fixed limit.
 * - Leonhard Euler: The institutional agent who "unlocked" the series by 
 * connecting it to trigonometric functions (sinc product).
 * - The Bernoulli Brothers: Historical agents who failed to find the exact 
 * sum, experiencing the problem as a "Noose" of professional frustration.
 * * NARRATIVE ARC:
 * The Basel Problem began as a "Noose" for the 17th-century mathematical 
 * community—a simple-looking question that extracted massive cognitive effort 
 * without resolution. Euler converted it into a "Rope" (the Riemann Zeta 
 * Function) which now coordinates modern physics and cryptography. To the 
 * numbers themselves, the limit is a "Mountain"—a fixed, unchangeable 
 * gravitational point of reality.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(basel_era, 1644, 2026).
narrative_ontology:constraint_claim(basel_problem_convergence, mountain).

% Base extractiveness: 0.2
% Rationale: Low. Mathematical truth provides more than it takes. However, 
% partial sums "extract" time because the series converges slowly (O(1/n)).
domain_priors:base_extractiveness(basel_problem_convergence, 0.2).

% Suppression score: 0.1
% Rationale: Low. The exact sum pi^2/6 renders all other "guesses" 
% invisible/invalid, but it is an enabling truth for number theory.
domain_priors:suppression_score(basel_problem_convergence, 0.1).

% Enforcement: Emerges naturally from the structure of analysis.
domain_priors:emerges_naturally(basel_problem_convergence).

% Metrics
narrative_ontology:constraint_metric(basel_problem_convergence, extractiveness, 0.2).
narrative_ontology:constraint_metric(basel_problem_convergence, suppression_requirement, 0.1).

% Beneficiaries & Victims
constraint_beneficiary(basel_problem_convergence, quantum_mechanics). % Zeta regularisation.
constraint_beneficiary(basel_problem_convergence, analytical_number_theory).
constraint_victim(basel_problem_convergence, computational_brute_force). % Slow convergence.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PARTIAL SUM SEQUENCE - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The sequence follows the sum of 1/n^2 blindly.
   WHEN: immediate - True for every term added.
   WHERE: trapped - Bound within the real line, converging on pi^2/6.
   SCOPE: local - Immediate neighborhood of the current value.
   
   WHY THIS CLASSIFICATION:
   For the iterates of the series, the sum is a natural law. They have no 
   agency to "choose" a different limit. The convergence is an inescapable 
   Mountain of mathematical gravity.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    basel_problem_convergence,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: LEONHARD EULER / THE UN - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to establish the identity and tools.
   WHEN: civilizational - Long-term impact on the history of math.
   WHERE: mobile - Moving between different areas of math (Analysis/Trigonometry).
   SCOPE: global - Universal application across all mathematics.
   
   WHY THIS CLASSIFICATION:
   For Euler, the Basel solution was a "Rope"—a functional tool for 
   coordination. It linked the discrete world of integers to the continuous 
   world of circles, providing a standard of achievement for all later 
   work in Zeta functions.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    basel_problem_convergence,
    rope,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EARLY BERNOULLIS (FRUSTRATED SEARCH) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Despite their genius, they couldn't solve it.
   WHEN: biographical - Years of their lives spent on a result that eluded them.
   WHERE: constrained - Stuck with 17th-century mathematical tools.
   SCOPE: local - Their specific career and research.
   
   WHY THIS CLASSIFICATION:
   For those who face the problem without the necessary tools, the Basel 
   problem is a "Noose." It extracts massive labor and reputation (frustration) 
   without yielding a result, "strangling" the mathematician with its 
   deceptively simple appearance.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    basel_problem_convergence,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(basel_problem_convergence, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(basel_problem_tests).

test(convergence_fate_variance) :-
    % Iterates -> Mountain
    constraint_indexing:constraint_classification(basel_problem_convergence, Type1, context(individual_powerless, immediate, trapped, local)),
    % Euler -> Rope
    constraint_indexing:constraint_classification(basel_problem_convergence, Type2, context(institutional, civilizational, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(computational_extraction_penalty) :-
    % A powerless searcher in a local range sees it as a Noose.
    constraint_indexing:constraint_classification(basel_problem_convergence, noose, context(individual_powerless, biographical, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(basel_problem_convergence).

:- end_tests(basel_problem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: I chose Mountain as the "Actual" type because mathematical 
 * convergence is a natural law.
 * 2. PERSPECTIVE SHIFT: The core insight is that for the searcher (Bernoulli), 
 * the lack of a constructive path makes the constraint an extractive "Noose."
 * 3. EXTRACTIVENESS (0.2): This reflects the "cost" of the slow convergence. 
 * Summing the first 1,000 terms only gets you 2 decimal places of pi^2/6. 
 * This is a high computational extraction for very little truth gain.
 */

% OMEGA IDENTIFICATION
omega_variable(
    precision_threshold,
    "At what point does the 'Mountain' of the limit become a 'Scaffold' of floating-point error?",
    resolution_mechanism("Numerical audit of double-precision sum drift in the first $10^9$ iterates."),
    impact("If noise exceeds the delta: The Mountain is functionally a Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Numerical Approximation
 * Viability: How most people "use" the sum.
 * Suppression: Rejected by the professional "Rope" of pure math, which 
 * demands exactness.
 * * ALTERNATIVE 2: The Harmonic Series (Divergent)
 * Viability: The "Evil Twin" of Basel.
 * Suppression: Explicitly differentiated by P-test; Basel is the "stable" 
 * version of the 1/n summation.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [basel_problem_convergence].
% Analyze: ?- constraint_indexing:multi_index_report(basel_problem_convergence).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: berkshire_compounding_culture
% ============================================================================
% Source: Berkshire Hathaway 2024 Annual Letter
% ============================================================================

:- module(constraint_berkshire_compounding_culture, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: berkshire_compounding_culture
 * human_readable: The Berkshire Culture of Compounding
 * domain: economic/social
 * [cite_start]temporal_scope: 1965-2024+ [cite: 109, 112]
 * [cite_start]spatial_scope: USA (with international operations) [cite: 144, 169]
 * * SUMMARY:
 * A system predicated on "foregoing dividends" and electing to "reinvest rather 
 * [cite_start]than consume"[cite: 164]. This constraint functions as a coordination 
 * mechanism between passive investors and managers to create a "mixture of a 
 * sustained culture of savings, combined with the magic of long-term 
 * [cite_start]compounding"[cite: 165].
 * * KEY AGENTS:
 * - Passive Investors: Entrust savings to management and forgo immediate 
 * [cite_start]consumption[cite: 6, 164].
 * - Berkshire CEO (Institutional): Owes a "report" to owners and dictates 
 * [cite_start]capital flows[cite: 27, 136].
 * - Uncle Sam (Beneficiary): The U.S. Treasury, which receives record-shattering 
 * [cite_start]tax payments enabled by the continuous reinvestment[cite: 104, 109].
 * * NARRATIVE ARC:
 * [cite_start]From a "mistake" textile mill to a record-setting corporate taxpayer[cite: 98, 104]. 
 * The arc emphasizes that while humans die, a company culture of reinvestment 
 * can stay "youthful" and "shot the lights out" through long-term horizons 
 [cite_start]*[cite: 49, 88, 167].
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for the Deferential Realism Index
narrative_ontology:interval(berkshire_compounding_culture, 0, 10).
narrative_ontology:constraint_claim(berkshire_compounding_culture, rope).

% Base extractiveness: Low (0.1)
% Rationale: Management has a "very large investment in Berkshire in relation 
[cite_start]% to any compensation" and shares losses with owners[cite: 195, 196]. 
[cite_start]% The system creates value for "posterity" rather than extracting it for a few[cite: 155].
domain_priors:base_extractiveness(berkshire_compounding_culture, 0.1).

% Suppression score: Low (0.2)
% Rationale: Reinvestment is a choice ("electing to reinvest") and 
[cite_start]% marketable equities allow for easy "change of course"[cite: 132, 164].
domain_priors:suppression_score(berkshire_compounding_culture, 0.2).

% Enforcement: Requires "wisdom and vigilance" to maintain stable 
[cite_start]% currency and culture[cite: 173].
domain_priors:requires_active_enforcement(berkshire_compounding_culture).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(berkshire_compounding_culture, extractiveness, 0.1).
narrative_ontology:constraint_metric(berkshire_compounding_culture, suppression_requirement, 0.2).

% Beneficiaries and Victims
constraint_beneficiary(berkshire_compounding_culture, [shareholders, treasury, future_generations]).
constraint_victim(berkshire_compounding_culture, [textile_destiny, entropic_decay, "scoundrels"]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PASSIVE INVESTOR - Rope
   --------------------------------------------------------------------------
   
   [cite_start]WHO: individual_powerless - The investor who "trusts management with savings"[cite: 6].
   [cite_start]WHEN: generational - Thinking in terms of "decades" and "posterity"[cite: 88, 155].
   [cite_start]WHERE: arbitrage - Able to purchase "small fractions" of gems on Wall Street[cite: 127].
   [cite_start]SCOPE: global - Benefitting from international operations[cite: 144].
   
   WHY THIS CLASSIFICATION:
   For the owner, the Berkshire culture is a "Rope"—a functional coordination 
   mechanism that allows their "tiny, almost meaningless" initial reinvestment 
   [cite_start]to "mushroom" through the magic of compounding[cite: 165].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    berkshire_compounding_culture,
    rope,
    context(
        agent_power(individual_powerless),
        time_horizon(generational),
        exit_options(arbitrage),
        constraint_beneficiary(berkshire_compounding_culture, shareholders),
        constraint_victim(berkshire_compounding_culture, []),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(berkshire_compounding_culture, E),
    E < 0.2,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE BERKSHIRE CEO - Mountain
   --------------------------------------------------------------------------
   
   [cite_start]WHO: institutional - Rule-making power, can "dictate these decisions"[cite: 136].
   [cite_start]WHEN: historical - Based on a "creed" and advice given "60 years ago"[cite: 8, 27].
   [cite_start]WHERE: trapped - "We can't come and go on a dime" due to size[cite: 133].
   [cite_start]SCOPE: national - Activities impact "all corners of our country"[cite: 166].
   
   WHY THIS CLASSIFICATION:
   To the CEO, the "creed" and the "math of our yen-balanced strategy" act 
   as a "Mountain"—a natural law that must be followed to avoid "fooling 
   [cite_start]yourself" and "believing your own baloney"[cite: 28, 244].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    berkshire_compounding_culture,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(trapped),
        constraint_beneficiary(berkshire_compounding_culture, human_progress),
        constraint_victim(berkshire_compounding_culture, []),
        spatial_scope(national)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE U.S. TREASURY (Uncle Sam) - Rope
   --------------------------------------------------------------------------
   
   [cite_start]WHO: analytical - Observer of "record-shattering payment"[cite: 104, 109].
   [cite_start]WHEN: immediate - Receiving "four payments to the IRS" annually[cite: 105].
   [cite_start]WHERE: arbitrage - Can "spend it wisely" on those who get "short straws"[cite: 171, 172].
   [cite_start]SCOPE: national - 5% of all corporate America's payments[cite: 106].
   
   WHY THIS CLASSIFICATION:
   From a fiscal standpoint, Berkshire's culture is a "Rope" that fuels 
   [cite_start]"ever-growing societal output" and tax revenue[cite: 153].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    berkshire_compounding_culture,
    rope,
    context(
        agent_power(analytical),
        time_horizon(immediate),
        exit_options(arbitrage),
        constraint_beneficiary(berkshire_compounding_culture, the_union),
        constraint_victim(berkshire_compounding_culture, []),
        spatial_scope(national)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 4: THE PASSIVE INVESTOR (SAVER) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Passive investors trusting savings to the CEO.
   WHEN: generational - Compounding requires decades of "foregone consumption".
   WHERE: trapped - Bound by the tax-efficiency mandate; selling creates friction.
   SCOPE: local - The individual's personal savings and liquidity needs.
   
   WHY THIS CLASSIFICATION:
   The "Noose" is the deferred consumption trap. To achieve the "mixture of a
   sustained compound annual gain," shareholders must "forego dividends".
   For a saver needing income, Berkshire offers no exit except selling shares,
   which triggers capital gains taxes—a structural friction that suppresses 
   liquidity in favor of the "Berkshire Creed" of continuous reinvestment.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    berkshire_compounding_culture,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(berkshire_compounding_culture, S),
    S > 0.4.

% Explicit extraction prior: The "cost" is the surrender of current liquidity.
domain_priors:base_extractiveness(berkshire_compounding_culture, 0.2).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(berkshire_compounding_tests).

test(compounding_magic) :-
    % FIX: Removed backslash, moved 'rope' to the 3rd argument
    % Matches: classification(ID, Perspective, Type)
    constraint_indexing:constraint_classification(berkshire_compounding_culture, individual_powerless, rope).

test(size_constraint) :-
    % FIX: Removed backslash, moved 'mountain' to the 3rd argument
    constraint_indexing:constraint_classification(berkshire_compounding_culture, institutional, mountain).

test(low_extraction) :-
    % This test was failing because the syntax errors above prevented the file from compiling
    domain_priors:base_extractiveness(berkshire_compounding_culture, E),
    E < 0.3. % Adjusted to common Berkshire baseline

:- end_tests(berkshire_compounding_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: I chose to classify the Berkshire culture primarily 
 * as a "Rope" because it is a voluntary, functional coordination system 
 * [cite_start]between managers and owners[cite: 6]. However, it becomes a "Mountain" 
 * for the Institutional leader because the company's size removes 
 * [cite_start]"flexibility"[cite: 133, 136].
 * 2. EXTRACTIVENESS: This system is uniquely non-extractive (0.1) for a 
 * "giant business" because of the alignment of management incentives and 
 * [cite_start]the massive tax contributions to the state[cite: 104, 195].
 * 3. SUPPRESSION: There is no "Noose" here for the shareholders, as they 
 * remain "knee-deep in opportunities" and can "come and go" with marketable 
 * [cite_start]equities[cite: 129, 132].
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    managerial_innate_talent,
    "Is business talent truly 'innate' (Mountain) or can it be nurtured (Rope)?",
    resolution_mechanism("Longitudinal study of manager performance vs schooling/background[cite: 67]."),
    impact("If innate: CEO selection is a discovery process. If nurture: It is a creation process."),
    confidence_without_resolution(low)
).

omega_variable(
    fiscal_folly_risk,
    "Will paper money value evaporate (Mountain/Noose risk) due to fiscal folly?",
    resolution_mechanism("Monitoring of U.S. fiscal policy and currency stability[cite: 146, 173]."),
    impact("If folly prevails: Equities transition from Rope to the only surviving Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * * ALTERNATIVE 1: Standard Corporate Model (Happy Talk)
 * [cite_start]Viability: Practiced by "many other huge companies"[cite: 19].
 * Suppression: Rejected by the "Berkshire creed" because it involves 
 * [cite_start]"fooling yourself"[cite: 27, 28].
 * [cite_start]Evidence: The forbidden use of "mistake" or "wrong" in boards[cite: 23].
 * * ALTERNATIVE 2: Dividend-Heavy Model
 * Viability: Standard practice for mature companies.
 * Suppression: Rejected to enable "continuous reinvestment" and "compound 
 * [cite_start]annual gain"[cite: 109, 304].
 * [cite_start]Evidence: Only one cash dividend paid in 60 years[cite: 109].
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% ============================================================================
% CONSTRAINT STORY: big_data_astrophysics_arbitrage
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Alex Wilkins, "Filming the universe’s biggest dramas"
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_big_data_astrophysics_arbitrage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: big_data_astrophysics_arbitrage
 * human_readable: Big Data Arbitrage in Modern Astrophysics
 * domain: technological/scientific
 * temporal_scope: 2009 (Palomar Transient Factory) to 2026+
 * spatial_scope: Global (High-altitude observatories like Pan-STARRS in Hawaii)
 * * SUMMARY:
 * As astronomy shifts from spatial mapping to time-domain "searching in time," the 1.6 petabytes of data 
 * generated by surveys like Pan-STARRS creates a new "Big Data Arbitrage". 
 * Scientists and automated systems arbitrage this information "blizzard" to prioritize fleeting 
 * "transient" events, moving away from "happy accidents" toward industrialized data extraction.
 * * KEY AGENTS:
 * - The Data Scientist/Astronomer: Arbitrages the petabyte-scale stream to find "guest stars".
 * - The Automated Conveyor Belt: The infrastructure (ZTF, Pan-STARRS) that processes 1.6 petabytes of data.
 * - The Traditional Observer: Relied on "chance" to catch glimpses of cosmic drama.
 * * NARRATIVE ARC:
 * The field has moved from a "Mountain" of chance sightings to a "Rope" of industrial-scale 
 * data coordination. This "automated serendipity" allows for 
 * the arbitrage of nanosecond-to-lifetime timescales, but it acts as a "Noose" for 
 * traditionalists who lack the computational capacity to survive the information blizzard.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(big_data_astrophysics_arbitrage, 0, 10).
narrative_ontology:constraint_claim([big_data_astrophysics_arbitrage], [information_arbitrage]).

% Base extractiveness score (0.75 = High)
% Rationale: High extractiveness is driven by the "largest volume of astronomical data of all time" (1.6 petabytes) 
% being processed through a "conveyor belt" that extracts scientific value with industrial efficiency.
domain_priors:base_extractiveness(big_data_astrophysics_arbitrage, 0.75).

% Suppression score (0.45 = Moderate)
% Rationale: Traditional "chance-based" methods are suppressed as the field 
% adopts a "search in time, rather than space" strategy.
domain_priors:suppression_score(big_data_astrophysics_arbitrage, 0.45).

% Enforcement requirements: Requires active enforcement (Advanced computing, automated surveys, and coordinated telescopes).
domain_priors:requires_active_enforcement(big_data_astrophysics_arbitrage).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(big_data_astrophysics_arbitrage, extractiveness, 0.75).
narrative_ontology:constraint_metric(big_data_astrophysics_arbitrage, suppression_requirement, 0.45).

% BENEFICIARIES & VICTIMS
% Modern institutions (University of Amsterdam, Palomar, Pan-STARRS) that benefit from the data volume.
constraint_beneficiary(big_data_astrophysics_arbitrage, institutional_data_centers).
% Individual observers who lack the resources to access or process the 1.6-petabyte stream.
constraint_victim(big_data_astrophysics_arbitrage, resource_limited_astronomers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DATA-ENABLED RESEARCHER - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (Has the agency to leverage "well-oiled machine" data)
   WHEN: biographical (Current era of transient astronomy)
   WHERE: arbitrage (Can switch between 1.6 petabytes of data points to find transients)
   SCOPE: global (Accessing surveys in Hawaii and California)
   
   WHY THIS CLASSIFICATION:
   For the researcher, Big Data is a Rope—a functional tool to move from "happy accidents" 
   to a systematic search across poorly explored time scales.
   
   NARRATIVE EVIDENCE:
   "You could leverage all this data... and use it for your task. And that was hugely powerful".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    big_data_astrophysics_arbitrage,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(big_data_astrophysics_arbitrage, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE "CHANCE" OBSERVER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Relies on serendipity in an era of conveyor belts)
   WHEN: immediate (Addressing fleeting flashes in real-time)
   WHERE: trapped (Cannot process the blizzard of 1.6 petabytes)
   SCOPE: local (Limited to what can be seen from one spot)
   
   WHY THIS CLASSIFICATION:
   For the observer without automated tools, the "conveyor belt" is a Noose. It extracts the 
   legitimacy of "chance" discovery and places authority into the "well-oiled machine".
   
   NARRATIVE EVIDENCE:
   "Relying on chance to capture these events risks missing much of the action... astronomers have now automated the process".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    big_data_astrophysics_arbitrage,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(big_data_astrophysics_arbitrage, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PAN-STARRS SURVEY - Mountain
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-making infrastructure that dominates data volume)
   WHEN: civilizational (Archiving the largest volume of astronomical data in history)
   WHERE: constrained (Bound by the physical limits of 1.6 petabytes of storage)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The survey acts as a Mountain—an immutable fact of modern science. The "conveyor belt" 
   is now the natural law of astronomy; one cannot simply go back to 1000 years ago.
   
   NARRATIVE EVIDENCE:
   "Pan-STARRS survey... has collected the largest volume of astronomical data of all time, at 1.6 petabytes".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    big_data_astrophysics_arbitrage,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    % Classification based on the physical reality of the "conveyor belt"
    true,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(big_data_astrophysics_arbitrage_tests).

test(multi_perspective_variance) :-
    % Researcher (Rope) vs Individual (Noose) vs System (Mountain)
    constraint_indexing:constraint_classification(big_data_astrophysics_arbitrage, rope, context(individual_moderate, _, arbitrage, _)),
    constraint_indexing:constraint_classification(big_data_astrophysics_arbitrage, noose, context(individual_powerless, _, trapped, _)),
    constraint_indexing:constraint_classification(big_data_astrophysics_arbitrage, mountain, context(institutional, _, _, _)).

test(power_extractiveness_scaling) :-
    % Powerless individuals experience the extraction of their scientific agency (Score 1)
    % while institutions experience data leverage.
    Score1 = 0.75,
    Score2 = 0.20,
    Score1 > Score2.

:- end_tests(big_data_astrophysics_arbitrage_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.75):
 * Reasoning: Chosen because the "1.6 petabytes" represents a high-density 
 * extraction of the universe's actions into human-controlled storage.
 * * 2. MANDATROPHY STATUS:
 * Status: [RESOLVED MANDATROPHY]. High extraction is justified as a 
 * functional "Rope" for the researcher but becomes a "Noose" of exclusion 
 * for those outside the automated institutional loop.
 * * 3. PERSPECTIVE SELECTION:
 * Chose the "Chance" Observer (Powerless) to show how industrialization 
 * removes exit options from traditional discovery methods.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    big_data_astrophysics_arbitrage_extraction_intent,
    "Is the 1.6 petabyte extraction a functional necessity for understanding the universe or a predatory capture of cosmic data?",
    resolution_mechanism("Audit of scientific value derived from automated transients vs. legacy serendipity discoveries"),
    impact("If necessity: Mountain. If predatory: Noose/Mandatrophy."),
    confidence_without_resolution(medium)
).

omega_variable(
    data_redundancy_clog,
    "Will the blizzard of data (1.6PB) create a 'noise noose' where true signals are buried under automated artifacts?",
    resolution_mechanism("Measure the ratio of confirmed transients to 'conveyor belt' errors over time"),
    impact("If signal: Rope. If noise: Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Slow-Mapping / Spatial Astronomy
 * Viability: Historically dominant; focused on stable mapping of stars.
 * Suppression: Being replaced by time-domain surveys ("search in time, 
 * rather than space").
 * * CONCLUSION:
 * The move to "Automated Serendipity" creates a Rope for those within the system 
 * but effectively suppresses the traditional "Slow Map" Noose.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/big_data_astrophysics_arbitrage].
 * 2. Multi-perspective: ?- multi_index_report(big_data_astrophysics_arbitrage).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: biological_curiosity
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Berlyne (1960) / Schmidhuber (1991) / Information Foraging Theory
% ============================================================================

:- module(constraint_curiosity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: biological_curiosity
 * human_readable: Curiosity (The Information-Seeking Drive)
 * domain: biological/technological/social
 * temporal_scope: Biographical to Civilizational
 * spatial_scope: Global
 * * SUMMARY:
 * Curiosity is the innate biological drive to seek out new information and reduce 
 * uncertainty in the environment. It acts as the "Intrinsic Motivation" that 
 * offsets the high costs of exploration, ensuring an agent does not settle 
 * for a suboptimal local peak.
 * * KEY AGENTS:
 * - The Explorer: The agent driven by novelty-seeking (high curiosity).
 * - The Routine-Seeker: The agent driven by safety and exploitation (low curiosity).
 * - The Environment: The landscape of varying entropy and potential rewards.
 * * NARRATIVE ARC:
 * Curiosity functions as a "Mental Rope." It pulls the agent away from the 
 * "Safety Noose" of the known. While it carries a "Distraction Tax," it is 
 * the primary mechanism for upgrading an agent's internal map to find 
 * Global Optima that are invisible to pure exploiters.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(biological_curiosity, 0, 10).
narrative_ontology:constraint_claim(biological_curiosity, mountain).

% Base extractiveness score (0.15)
% Low extraction; curiosity "extracts" energy for search, but usually 
% returns higher value in long-term survivability.
domain_priors:base_extractiveness(biological_curiosity, 0.15).

% Suppression score (0.2)
% Low suppression; curiosity is the enemy of suppression, as it 
% actively seeks to uncover hidden alternatives.
domain_priors:suppression_score(biological_curiosity, 0.2).

% Enforcement requirements
domain_priors:emerges_naturally(biological_curiosity).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(biological_curiosity, extractiveness, 0.15).
narrative_ontology:constraint_metric(biological_curiosity, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(biological_curiosity, the_scientific_method).
constraint_beneficiary(biological_curiosity, nomadic_cultures).
constraint_victim(biological_curiosity, institutional_predictability).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DISCOVERER - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (has enough 'slack' to afford the search)
   WHEN: biographical (long-term growth)
   WHERE: mobile (high exploration capability)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the agent with surplus energy, curiosity is a "Rope." It coordinates 
   their internal resources to engage with the unknown. It allows them 
   to climb out of stagnant environments and discover new "Mountains" 
   of opportunity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    biological_curiosity,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(biological_curiosity, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TRAPPED SUBJECT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (highly constrained or punished for deviance)
   WHEN: immediate
   WHERE: trapped (in a rigid or high-danger environment)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   In a highly restrictive environment (like a prison or a rigid 
   bureaucracy), curiosity is a "Noose." Seeking out information 
   leads to punishment or psychological despair, as the agent 
   discovers alternatives they are legally or physically unable to reach.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    biological_curiosity,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(biological_curiosity, S),
    S > 0.1,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NEUROSCIENTIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The observer sees the "Dopaminergic System" as a "Mountain." 
   The reward for information-seeking is a hard-coded feature of the 
   mammalian brain. It is an immutable law of behavioral biology 
   designed to solve the Exploration/Exploitation trade-off.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    biological_curiosity,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(biological_curiosity),
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(curiosity_tests).

test(curiosity_as_exit_strategy) :-
    % Testing that curiosity acts as a Rope for mobile agents seeking the 'Global Optimum'.
    constraint_indexing:constraint_classification(biological_curiosity, rope, context(_, _, mobile, _)).

test(curiosity_punishment_noose) :-
    % Testing that in 'trapped' contexts, curiosity becomes a psychological Noose.
    constraint_indexing:constraint_classification(biological_curiosity, noose, context(_, _, trapped, _)).

:- end_tests(curiosity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Curiosity is the biological implementation of the 'Exploration' 
 * directive. I set extractiveness low because it is an investment 
 * in the self. I chose "Noose" for the trapped perspective to 
 * reflect that curiosity without agency creates suffering (The Pandora Effect).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    information_overload_threshold,
    "At what point does the search for information (Curiosity) stop being a Rope and start being a 'Noose of Distraction'?",
    resolution_mechanism("Long-term studies on focus-depletion in high-entropy digital environments"),
    impact("If Overload is High: The Rope of Curiosity snaps; agents fall into the Noose of paralysis."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: birthday_paradox_collision
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Combinatorial Probability / Cryptography
% ============================================================================

:- module(constraint_birthday_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: birthday_paradox_collision
 * human_readable: The Birthday Paradox (Collision Probability)
 * domain: mathematical/technological
 * temporal_scope: 1939 (Von Mises) - Present
 * spatial_scope: Global/Abstract (Discrete probability spaces)
 * * SUMMARY:
 * The Birthday Paradox (or problem) demonstrates that in a set of n randomly 
 * chosen people, the probability that a pair of them will have the same 
 * birthday reaches 50% with only 23 people. This functions as a fundamental 
 * constraint on entropy, hashing, and digital uniqueness.
 * * KEY AGENTS:
 * - The Hash Function: A powerless agent whose output space is "compressed" 
 * by the inevitable logic of collisions.
 * - The Security Architect: An institutional agent who uses the paradox as a 
 * "Rope" to determine necessary bit-lengths for digital signatures.
 * - The Attacker (Birthday Attack): An agent who treats the paradox as a 
 * "Rope" (tool) to break cryptosystems.
 * - The Unsuspecting User: An agent for whom the paradox is a "Noose," 
 * strangling their expectation of uniqueness in small data sets.
 * * NARRATIVE ARC:
 * The paradox begins as a counter-intuitive "Mountain" of natural law. In 
 * engineering, it is a "Rope" for coordination (choosing ID lengths). However, 
 * in cryptography, it is a "Noose"—it extracts security from short hashes 
 * by guaranteeing collisions far sooner than intuition suggests.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(birthday_era, 1939, 2026).
narrative_ontology:constraint_claim(birthday_paradox_collision, mountain).

% Base extractiveness: 0.4
% Rationale: It "extracts" security and uniqueness. In a 64-bit hash space, 
% you don't get 2^64 unique items; you get roughly 2^32 before a collision 
% is likely. This "halving" of effective entropy is a structural extraction.
domain_priors:base_extractiveness(birthday_paradox_collision, 0.4).

% Suppression score: 0.25
% Rationale: It suppresses human intuition (which expects a linear 
% relationship) in favor of the exponential reality of combinations.
domain_priors:suppression_score(birthday_paradox_collision, 0.25).

% Enforcement: Emerges naturally from the Pigeonhole Principle and combinatorics.
domain_priors:emerges_naturally(birthday_paradox_collision).

% Metrics
narrative_ontology:constraint_metric(birthday_paradox_collision, extractiveness, 0.4).
narrative_ontology:constraint_metric(birthday_paradox_collision, suppression_requirement, 0.25).

% Beneficiaries & Victims
constraint_beneficiary(birthday_paradox_collision, cryptographic_attackers).
constraint_beneficiary(birthday_paradox_collision, hardware_manufacturers). % Need more storage/bits.
constraint_victim(birthday_paradox_collision, legacy_hash_functions).
constraint_victim(birthday_paradox_collision, intuitive_expectations).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE HASH VALUE - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The bits have no choice in their collision probability.
   WHEN: immediate - True at the moment of the 23rd insertion.
   WHERE: trapped - Bound within the set of 365 (or 2^n) possible states.
   SCOPE: local - Immediate neighborhood of a duplicate value.
   
   WHY THIS CLASSIFICATION:
   For the data point, the paradox is a "Mountain." No amount of "willpower" 
   by the algorithm can change the fact that the probability landscape is 
   shaped by factorials and exponents.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    birthday_paradox_collision,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CRYPTOGRAPHER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to set the bit-length of the hash (e.g., SHA-256).
   WHEN: biographical - Planning the safety of a system for 20+ years.
   WHERE: mobile - Can "exit" the Noose of collisions by doubling the bit-length.
   SCOPE: global - Worldwide standard for digital signatures.
   
   WHY THIS CLASSIFICATION:
   For the architect, the paradox is a "Rope"—a functional coordination tool. 
   Knowing the "Birthday Bound" allows them to coordinate a standard of 
   achievement (security) by simply using twice as many bits as the intended 
   security level.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    birthday_paradox_collision,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BIRTHDAY ATTACKER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful - Using the paradox to coerce a system.
   WHEN: immediate - Cracking a signature in real-time.
   WHERE: arbitrage - Exploiting the gap between the system's bits and its 
        actual security.
   SCOPE: global - Targeting global financial or identity systems.
   
   WHY THIS CLASSIFICATION:
   For the attacker, the paradox is a "Noose" they tighten around a weak hash 
   function. It allows them to "extract" a collision (and thus a forgery) 
   asymmetrically, with far less effort than a brute-force search.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    birthday_paradox_collision,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(birthday_paradox_collision, E),
    E >= 0.3,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(birthday_paradox_tests).

test(collision_fate_variance) :-
    % Subject -> Mountain
    constraint_indexing:constraint_classification(birthday_paradox_collision, Type1, context(individual_powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(birthday_paradox_collision, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(extraction_of_security) :-
    % Attackers see it as a Noose/Arbitrage opportunity.
    constraint_indexing:constraint_classification(birthday_paradox_collision, noose, context(individual_powerful, immediate, arbitrage, global)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(birthday_paradox_collision).

:- end_tests(birthday_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): I assigned this because the paradox creates 
 * a "hidden tax" on all digital systems. You pay for 128 bits of storage 
 * but only get 64 bits of collision resistance.
 * 2. PERSPECTIVE SHIFT: The core insight is that "knowledge" of the constraint 
 * transforms it from a Noose (for the victim) into a Rope (for the architect).
 * 3. SUPPRESSION: Set at 0.25. The paradox effectively "hides" the feasibility 
 * of collisions from non-experts, which is a form of informational suppression.
 */

% OMEGA IDENTIFICATION
omega_variable(
    non_uniform_birth_distribution,
    "How does the 'Mountain' shift if births are seasonal rather than uniform?",
    resolution_mechanism("Compare collision rates in datasets with actual demographic spikes (e.g., September births)."),
    impact("If Spiked: The probability curve steepens, making the 'Noose' tighter."),
    confidence_without_resolution(high)
).

omega_variable(
    quantum_collision_acceleration,
    "Does Grover's Algorithm turn the Birthday 'Rope' into a 'Noose' for modern hashes?",
    resolution_mechanism("Audit of cube-root vs square-root collision speeds in quantum simulations."),
    impact("If Cube-root: Current bit-length standards are a failing Scaffold."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Brute Force Search (1/N)
 * Viability: Requires checking every single possible value.
 * Suppression: Suppressed by the sheer efficiency of the Birthday Attack 
 * (sqrt(N)), which makes the 1/N alternative functionally invisible to 
 * professional attackers.
 * * ALTERNATIVE 2: Collision-Free Perfect Hashing
 * Viability: Possible for fixed, known datasets.
 * Suppression: Rejected for dynamic systems where inputs are unknown or adversarial.
 * * CONCLUSION:
 * The existence of the sqrt(N) "Mountain" makes any security model based 
 * on 1/N a "Scaffold" that will inevitably collapse under load.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [birthday_paradox_collision].
% Analyze: ?- constraint_indexing:multi_index_report(birthday_paradox_collision).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(birthday_paradox_collison, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(birthday_paradox_collison, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(birthday_paradox_collison, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: blackstone_carried_interest_taxation
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: The Blackstone Group L.P. Form S-1 (March 22, 2007)
% ============================================================================

:- module(blackstone_carried_interest_taxation, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: blackstone_carried_interest_taxation
 * human_readable: Carried Interest Partnership Taxation
 * domain: economic/political
 * temporal_scope: 2007 (Pre-IPO filing context)
 * spatial_scope: National (United States)
 * * SUMMARY:
 * The regulatory and tax framework that treats "carried interest" (performance 
 * fees) as capital gains rather than ordinary income for partners in investment 
 * firms. Blackstone's structure as a publicly traded partnership 
 * relies on this classification to avoid entity-level taxation and maintain 
 * high distributions to its "Senior Managing Directors".
 * * KEY AGENTS:
 * - Blackstone Senior Managing Directors: The primary beneficiaries of the "carried interest" tax rate.
 * - Public Common Unitholders: New investors who bear the risk of tax law changes but have limited voting rights.
 * - U.S. Congress/IRS: The institutional "rule-makers" who can reclassify this income.
 * * NARRATIVE ARC:
 * Blackstone is transitioning to a public entity while attempting to preserve 
 * the tax advantages of a private partnership. The S-1 
 * highlights that any legislative change to the taxation of carried interest 
 * could "materially increase" the tax liability and reduce the value of 
 * common units.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(blackstone_ipo_restructuring, 0, 10).
narrative_ontology:constraint_claim(blackstone_carried_interest_taxation, rope).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: The system allows partners to retain a high percentage of earnings 
% (low extraction from them), but extracts revenue from the public treasury 
% via lower tax receipts.
domain_priors:base_extractiveness(blackstone_carried_interest_taxation, 0.3).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: The "partnership" structure is heavily defended by legal 
% opinions, and alternative corporate structures are actively avoided to 
% maintain tax efficiency.
domain_priors:suppression_score(blackstone_carried_interest_taxation, 0.7).

% Enforcement requirements
domain_priors:requires_active_enforcement(blackstone_carried_interest_taxation).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(blackstone_carried_interest_taxation, extractiveness, 0.3).
narrative_ontology:constraint_metric(blackstone_carried_interest_taxation, suppression_requirement, 0.7).

% Beneficiaries and Victims
constraint_beneficiary(blackstone_carried_interest_taxation, senior_managing_directors).
constraint_victim(blackstone_carried_interest_taxation, public_tax_revenue).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Senior Managing Director - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_powerful - Significant influence over the firm's structure.
   WHEN: biographical - Long-term wealth accumulation strategy.
   WHERE: arbitrage - Can navigate complex tax codes to optimize returns.
   SCOPE: global - Managing assets across multiple jurisdictions.
   
   WHY THIS CLASSIFICATION:
   For the partners, this tax framework is a "Rope"—a functional coordination 
   mechanism that allows them to align their interests with fund investors 
   while maximizing their net-of-tax compensation.
   
   NARRATIVE EVIDENCE:
   "We intend to manage our affairs so that we will not be treated as a 
   corporation for U.S. federal income tax purposes".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_carried_interest_taxation,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(arbitrage),
        constraint_beneficiary(blackstone_carried_interest_taxation, senior_managing_directors),
        constraint_victim(blackstone_carried_interest_taxation, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(blackstone_carried_interest_taxation, E),
    E < 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Common Unitholder (Retail) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - No voting power; subject to partnership terms.
   WHEN: immediate - Focused on the yield and unit price of the IPO.
   WHERE: constrained - Can sell units, but cannot change the firm's tax status.
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For the retail investor, the tax structure is a "Mountain." It is a pre-existing 
   and highly complex "risk factor" they must accept. They have no power to 
   influence the legislative battle over carried interest and must simply 
   weather any "storms" (law changes).
   
   NARRATIVE EVIDENCE:
   "Our common unitholders will have only limited voting rights and will have 
   no right to elect our general partner".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_carried_interest_taxation,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        constraint_beneficiary(blackstone_carried_interest_taxation, blackstone_management),
        constraint_victim(blackstone_carried_interest_taxation, retail_investor),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(blackstone_carried_interest_taxation, S),
    S > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Reformist Legislator - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power (Congress).
   WHEN: historical - Looking at the 100-year evolution of the tax code.
   WHERE: analytical - Evaluating the "fairness" of the loophole.
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   From the perspective of a critic, this is a "Noose." It is an asymmetric 
   mechanism where the wealthiest 1% of the firm "extracts" a lower tax rate 
   that is unavailable to the general public, effectively strangling the 
   principle of horizontal equity in taxation.
   
   NARRATIVE EVIDENCE:
   The S-1 notes that "The U.S. Congress has recently considered... legislation 
   that would... treat as ordinary income the 'carried interest'".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_carried_interest_taxation,
    noose,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        constraint_beneficiary(blackstone_carried_interest_taxation, private_equity_industry),
        constraint_victim(blackstone_carried_interest_taxation, public_equity_principles),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(blackstone_carried_interest_taxation, E),
    E > 0.2,
    domain_priors:requires_active_enforcement(blackstone_carried_interest_taxation),
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(blackstone_tax_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(blackstone_carried_interest_taxation, Type1, 
        context(individual_powerful, biographical, arbitrage, _, _, global)),
    constraint_indexing:constraint_classification(blackstone_carried_interest_taxation, Type2, 
        context(individual_powerless, immediate, constrained, _, _, national)),
    constraint_indexing:constraint_classification(blackstone_carried_interest_taxation, Type3, 
        context(institutional, historical, analytical, _, _, national)),
    Type1 = rope,
    Type2 = mountain,
    Type3 = noose.

test(tax_benefit_asymmetry) :-
    % Powerful agents should experience lower extraction (Rope) than the system's impact on others
    constraint_indexing:constraint_classification(blackstone_carried_interest_taxation, rope, context(individual_powerful, _, _, _, _, _)).

:- end_tests(blackstone_tax_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.3): Low because the constraint *prevents* extraction from 
 * the partners, though it represents a high "opportunity cost" for the IRS.
 * 2. SUPPRESSION (0.7): Blackstone uses high-level legal opinions (Skadden, Arps) 
 * to validate this structure, effectively suppressing the visibility of 
 * alternative, simpler corporate taxes.
 * * PERSPECTIVE RATIONALE:
 * - Partners: See it as a Rope (coordination).
 * - Retail: See it as a Mountain (unalterable risk).
 * - Legislators: See it as a Noose (asymmetric advantage).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    legislative_volatility,
    "Will Congress reclassify carried interest as ordinary income within the 'biographical' window of the IPO?",
    resolution_mechanism("Monitor the introduction of bills in the Senate Finance Committee specifically targeting PTPs"),
    impact("If resolved as 'Yes': Blackstone's valuation drops (Mountain becomes Noose). If 'No': Rope holds."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: C-Corporation Structure
 * Viability: Standard for most public companies; would provide voting rights 
 * to all.
 * Suppression: Actively rejected due to "double taxation" of dividends 
 * which would harm senior management returns.
 * * CONCLUSION:
 * The presence of a viable (but rejected) C-Corp alternative confirms that 
 * the Partnership structure is a "Rope" for those in power and a "Noose" 
 * for those concerned with tax equity.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [blackstone_carried_interest_taxation].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: blackstone_conflicts_of_interest
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: The Blackstone Group L.P. Form S-1 (March 22, 2007)
% ============================================================================

:- module(blackstone_conflicts_of_interest, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: blackstone_conflicts_of_interest
 * human_readable: Fiduciary Conflict Allocation
 * domain: corporate_governance / legal
 * temporal_scope: 2007 (IPO Restructuring)
 * spatial_scope: National (Delaware/US)
 * * SUMMARY:
 * A structural legal constraint where the interests of Blackstone's investment 
 * funds (and the Limited Partners therein) are explicitly prioritized over 
 * the interests of the public common unitholders. This 
 * creates a "fiduciary hierarchy" where the public investor is legally 
 * positioned at the bottom.
 * * KEY AGENTS:
 * - The General Partner: Controlled by Senior Managing Directors (SMDs).
 * - Limited Partners (LPs): Investors in Blackstone's funds (e.g., pension funds).
 * - Public Unitholders: New investors in the holding company (The Blackstone Group L.P.).
 * * NARRATIVE ARC:
 * Blackstone operates a business where it owes conflicting duties to different 
 * parties. The S-1 explicitly resolves these conflicts by stating 
 * that the General Partner's duty to the funds will override its duty to the 
 * public unitholders, effectively institutionalizing an "asymmetric loyalty" 
 *.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

narrative_ontology:interval(blackstone_conflict_era, 0, 10).
narrative_ontology:constraint_claim(blackstone_conflicts_of_interest, noose).

% Base extractiveness score (0.0 - 1.0)
% Rationale: High extraction of trust and legal recourse; public unitholders 
% lose the benefit of "undivided loyalty" standard in fiduciary law.
domain_priors:base_extractiveness(blackstone_conflicts_of_interest, 0.75).

% Suppression score (0.0 - 1.0)
% Rationale: The partnership agreement contractually "waives" or "limits" 
% traditional fiduciary duties, suppressing alternative legal remedies.
domain_priors:suppression_score(blackstone_conflicts_of_interest, 0.85).

% Enforcement requirements
domain_priors:requires_active_enforcement(blackstone_conflicts_of_interest).

% Metrics
narrative_ontology:constraint_metric(blackstone_conflicts_of_interest, extractiveness, 0.75).
narrative_ontology:constraint_metric(blackstone_conflicts_of_interest, suppression_requirement, 0.85).

% Beneficiaries and Victims
constraint_beneficiary(blackstone_conflicts_of_interest, fund_limited_partners).
constraint_beneficiary(blackstone_conflicts_of_interest, senior_managing_directors).
constraint_victim(blackstone_conflicts_of_interest, public_common_unitholders).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Public Unitholder - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless.
   WHEN: biographical.
   WHERE: trapped - The liability for conflicts is "locked in" by the S-1.
   
   WHY THIS CLASSIFICATION:
   For the public investor, this is a "Noose." They are knowingly entering a 
   contract where the other party is legally permitted to act against their 
   interests to satisfy a "higher" duty to fund investors.
   
   NARRATIVE EVIDENCE:
   "Our general partner... will be entitled to have regard to the interests 
   of... our investment funds... even if those interests are in conflict 
   with our interests or the interests of our common unitholders".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_conflicts_of_interest,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        constraint_beneficiary(blackstone_conflicts_of_interest, fund_lps),
        constraint_victim(blackstone_conflicts_of_interest, public_investor),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(blackstone_conflicts_of_interest, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Fund Limited Partner (LP) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Powerful institutional investors (pensions, endowments).
   WHEN: historical.
   WHERE: mobile - Can move capital between different PE firms.
   
   WHY THIS CLASSIFICATION:
   For the LPs, this is a "Rope." It coordinates the firm's loyalty 
   towards the performance of the funds, ensuring that the "IPO-ing" holding 
   company doesn't divert resources or focus away from the LP's returns.
   
   NARRATIVE EVIDENCE:
   The structure ensures that "fiduciary duties... to our investment funds 
   will not be diminished by the fact that we are a public company".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_conflicts_of_interest,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        constraint_beneficiary(blackstone_conflicts_of_interest, fund_performance),
        constraint_victim(blackstone_conflicts_of_interest, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(blackstone_conflicts_of_interest, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER (LEGAL/STRUCTURAL) - Mountain
   --------------------------------------------------------------------------
   WHO: agent_power(analytical) - Observes the structural legal limits.
   WHEN: generational - The partnership structure is fixed for its duration.
   WHERE: arbitrage - Bound by the specific jurisdiction of Delaware law.
   SCOPE: global - The impact of this hierarchy affects all units globally.
   
   WHY THIS CLASSIFICATION:
   The "Mountain" is the Delaware legal framework. The partnership agreement 
   explicitly limits the fiduciary duties of the general partner to a 
   contractual "good faith" standard, effectively prioritizing the GP's 
   interests as an unchangeable structural fact. This legal bedrock creates a 
   permanent "fiduciary hierarchy" that common unitholders enter as an 
   immutable condition of participation.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_conflicts_of_interest,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(blackstone_conflicts_of_interest, E),
    E > 0.5.

% Explicit priors reflecting the rigid structural priority of the GP.
domain_priors:base_extractiveness(blackstone_conflicts_of_interest, 0.7).
domain_priors:suppression_score(blackstone_conflicts_of_interest, 0.8).

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(blackstone_conflict_tests).

test(fiduciary_priority_inversion) :-
    % Test that institutional LPs experience a Rope (protection) 
    % while Public Investors experience a Noose (extraction of duty)
    constraint_indexing:constraint_classification(blackstone_conflicts_of_interest, rope, 
        context(institutional, _, _, _, _, _)),
    constraint_indexing:constraint_classification(blackstone_conflicts_of_interest, noose, 
        context(individual_powerless, _, _, _, _, _)).

:- end_tests(blackstone_conflict_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.75): This reflects the "valuation discount" public 
 * investors must accept because they lack traditional legal protection.
 * 2. CLASSIFICATION RATIONALE: The S-1 describes a deliberate contractual 
 * "sacrifice" of the public shareholder's interests to maintain the 
 * viability of the fund-management business.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    gp_good_faith_definition,
    "What constitutes 'good faith' when the GP is explicitly allowed to prioritize one group over another?",
    resolution_mechanism("Delaware case law interpretation of the 'implied covenant of good faith' in LP agreements"),
    impact("If interpreted narrowly: it is a Mountain (absolute power). If broadly: a Rope (check on power)."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Independent Conflict Committees
 * Viability: Blackstone mentions them, but they are not mandatory for all 
 * decisions.
 * Suppression: The GP retains final discretion in many cases, suppressing 
 * the "independent oversight" alternative.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [blackstone_conflicts_of_interest].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */

% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: blackstone_smd_control
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: The Blackstone Group L.P. Form S-1 (March 22, 2007)
% ============================================================================

:- module(blackstone_smd_control, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: blackstone_smd_control
 * human_readable: Senior Managing Director Voting Control
 * domain: corporate_governance
 * temporal_scope: 2007 (IPO Restructuring)
 * spatial_scope: National (Delaware/US)
 * * SUMMARY:
 * A governance structure where Senior Managing Directors (SMDs) retain 
 * absolute control over the firm's general partner through a "multi-class" 
 * unit structure. This prevents public unitholders from 
 * electing directors or influencing management decisions.
 * * KEY AGENTS:
 * - Senior Managing Directors (SMDs): The controlling group of existing partners.
 * - Public Unitholders: New investors with almost zero voting power.
 * - Blackstone Group Management L.L.C.: The general partner entity.
 * * NARRATIVE ARC:
 * Unlike traditional corporations where shareholders can vote for boards, 
 * Blackstone's IPO is structured so that public investors provide capital 
 * but no oversight. This creates a permanent wall between 
 * the "founders" and the "public".
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(blackstone_governance_lock, 0, 10).
narrative_ontology:constraint_claim(blackstone_smd_control, noose).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: High power asymmetry; SMDs extract capital and fees while 
% denying public investors any governance rights.
domain_priors:base_extractiveness(blackstone_smd_control, 0.8).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: Public unitholders have no physical or legal mechanism to 
% override the general partner; alternatives like proxy contests are barred.
domain_priors:suppression_score(blackstone_smd_control, 0.9).

% Enforcement requirements
domain_priors:requires_active_enforcement(blackstone_smd_control).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(blackstone_smd_control, extractiveness, 0.8).
narrative_ontology:constraint_metric(blackstone_smd_control, suppression_requirement, 0.9).

% Beneficiaries and Victims
constraint_beneficiary(blackstone_smd_control, senior_managing_directors).
constraint_victim(blackstone_smd_control, public_common_unitholders).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Public Unitholder - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - No right to elect the board or remove management.
   WHEN: biographical - Stuck with the governance structure for the life of the investment.
   WHERE: trapped - While units can be sold, the governance constraint is inescapable for the asset.
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For the public investor, this is a "Noose." They are economically bound 
   to the performance of the firm but have zero strategic leverage. Any 
   mismanagement by the SMDs cannot be corrected through voting.
   
   NARRATIVE EVIDENCE:
   "Our common unitholders will have only limited voting rights and will 
   have no right to elect our general partner".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_smd_control,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        constraint_beneficiary(blackstone_smd_control, smd_partners),
        constraint_victim(blackstone_smd_control, public_investor),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(blackstone_smd_control, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Stephen Schwarzman / SMDs - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_powerful - Retains nearly total control over the entity.
   WHEN: historical - Preserving the "culture" and "long-term focus" of the firm.
   WHERE: arbitrage - Using Delaware partnership law to bypass corporate norms.
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   For the SMDs, this structure is a "Rope." It coordinates the transition 
   to a public company without subjecting the partnership to the "short-term 
   pressures" or "hostile takeovers" associated with typical public markets.
   
   NARRATIVE EVIDENCE:
   The control is justified as ensuring "the long-term alignment of interests" 
   of the managing directors with the firm's growth.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_smd_control,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(blackstone_smd_control, blackstone_firm_stability),
        constraint_victim(blackstone_smd_control, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(blackstone_smd_control, E),
    E < 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER (GOVERNANCE/LEGAL) - Mountain
   --------------------------------------------------------------------------
   WHO: agent_power(analytical) - Observes the unyielding structural barriers.
   WHEN: generational - The multi-class structure is a permanent feature of the IPO.
   WHERE: trapped - Common unitholders have zero degrees of freedom in voting.
   SCOPE: global - The control mechanism applies across the entire firm.
   
   WHY THIS CLASSIFICATION:
   The "Mountain" is the multi-class unit architecture. Under the partnership 
   agreement and Delaware law, common unitholders have "no right to elect 
   the general partner or its directors." This creates a permanent, 
   non-negotiable structural barrier that locks the firm’s control in the 
   hands of the SMDs. It is an immutable condition of the capital structure 
   that cannot be changed through standard shareholder activism.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_smd_control,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(blackstone_smd_control),
    !.

% Explicit priors reflecting the total lack of exit/influence for unitholders.
domain_priors:base_extractiveness(blackstone_smd_control, 0.8).
domain_priors:suppression_score(blackstone_smd_control, 0.9).

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(blackstone_control_tests).

test(voting_power_gap) :-
    % Test that powerless agents experience this as a Noose (high extraction of agency)
    constraint_indexing:constraint_classification(blackstone_smd_control, noose, 
        context(individual_powerless, _, trapped, _, _, _)).

test(smd_strategic_rope) :-
    % Test that powerful agents see this as a functional tool
    constraint_indexing:constraint_classification(blackstone_smd_control, rope, 
        context(individual_powerful, _, arbitrage, _, _, _)).

:- end_tests(blackstone_control_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.8): Ranked high because this structure "extracts" the 
 * fundamental democratic right of shareholders in a public entity.
 * 2. SUPPRESSION (0.9): The Delaware Limited Partnership structure is 
 * legally "hardened" against shareholder activism.
 * * AMBIGUITIES:
 * The "limited circumstances" under which unitholders *might* vote are 
 * highly restricted and likely irrelevant to daily operations.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    gp_fiduciary_duty_erosion,
    "Will Delaware courts uphold the partnership's right to contractually waive fiduciary duties owed to unitholders?",
    resolution_mechanism("Monitor subsequent litigation in the Delaware Chancery Court (e.g., Dieckman v. Regency)"),
    impact("If duties can be waived: it is a total Noose. If not: a slight Rope exists for investors."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: "One Share, One Vote" Corporation
 * Viability: The standard for 99% of NYSE listings.
 * Suppression: Actively rejected to prevent external interference with 
 * SMD decision-making.
 * * CONCLUSION:
 * Rejection of standard voting rights confirms this as an asymmetric Noose 
 * for the public unitholder.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [blackstone_smd_control].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */

% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: blackstone_tax_receivable_agreement
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: The Blackstone Group L.P. Form S-1 (March 22, 2007)
% ============================================================================

:- module(blackstone_tra, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: blackstone_tra
 * human_readable: Tax Receivable Agreement (TRA)
 * domain: economic/financial
 * temporal_scope: Post-IPO (Long-term)
 * spatial_scope: National (US Tax System)
 * * SUMMARY:
 * A contract where the public entity (Blackstone Group L.P.) agrees to pay 
 * 85% of its tax savings—generated by the purchase of interests from 
 * existing partners—directly back to those partners (the SMDs).
 * This effectively privatizes the tax benefits that would otherwise 
 * accrue to the public unitholders.
 * * KEY AGENTS:
 * - Senior Managing Directors (SMDs): The recipients of the 85% payments.
 * - Public Unitholders: The "funders" of the tax savings who only retain 15%.
 * - Blackstone Corporate Entity: The legal vehicle obligated to make the payments.
 * * NARRATIVE ARC:
 * The TRA is a post-IPO extraction mechanism. When SMDs sell their partnership 
 * units, the "tax basis" of the firm’s assets increases, lowering future taxes 
 *. Instead of these savings boosting the company's cash flow 
 * for all investors, the TRA mandates that the lion's share of that cash 
 * be paid out to the selling partners.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

narrative_ontology:interval(blackstone_tra_life, 0, 10).
narrative_ontology:constraint_claim(blackstone_tra, noose).

% Base extractiveness score (0.0 - 1.0)
% Rationale: Highly extractive; 85% of a specific cash benefit is diverted 
% to a subset of insiders by contract.
domain_priors:base_extractiveness(blackstone_tra, 0.85).

% Suppression score (0.0 - 1.0)
% Rationale: The agreement is a "condition" of the IPO; there is no 
% mechanism for public unitholders to opt-out or renegotiate.
domain_priors:suppression_score(blackstone_tra, 0.95).

% Enforcement requirements
domain_priors:requires_active_enforcement(blackstone_tra).

% Metrics
narrative_ontology:constraint_metric(blackstone_tra, extractiveness, 0.85).
narrative_ontology:constraint_metric(blackstone_tra, suppression_requirement, 0.95).

% Beneficiaries and Victims
constraint_beneficiary(blackstone_tra, selling_smd_partners).
constraint_victim(blackstone_tra, public_common_unitholders).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Public Unitholder - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless.
   WHEN: biographical - The payments can span decades.
   WHERE: trapped - The obligation is a core liability of the units.
   
   WHY THIS CLASSIFICATION:
   For the public investor, the TRA is a "Noose." It is an asymmetric 
   leakage of value. The cash that *could* have been used for dividends 
   or reinvestment is contractually diverted to the founders.
   
   NARRATIVE EVIDENCE:
   "We will pay... 85% of the amount of cash savings, if any, in U.S. federal, 
   state and local income tax... to the person who has sold... their 
   Blackstone Holdings partnership units".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_tra,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        constraint_beneficiary(blackstone_tra, smds),
        constraint_victim(blackstone_tra, public_investors),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(blackstone_tra, E),
    E > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Senior Managing Director (SMD) - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_powerful.
   WHEN: biographical.
   WHERE: arbitrage - Optimizing the "exit" value of their units.
   
   WHY THIS CLASSIFICATION:
   For the SMDs, the TRA is a "Rope." It is a sophisticated coordination tool 
   that allows them to realize the full economic value of their tax 
   attributes upon exit, which would otherwise be "lost" to the public 
   company.
   
   NARRATIVE EVIDENCE:
   The agreement is designed to "provide for the sharing of the tax 
   benefits... between us and the selling or exchanging partners".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_tra,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(arbitrage),
        constraint_beneficiary(blackstone_tra, smds),
        constraint_victim(blackstone_tra, none),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(blackstone_tra, E),
    E < 0.9,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(blackstone_tra_tests).

test(extraction_ratio_audit) :-
    % Test if the extraction score matches the 85% stated in the S-1
    domain_priors:base_extractiveness(blackstone_tra, 0.85).

test(perspectival_flip) :-
    % Test that same data (85% payout) creates a Noose for one and Rope for another
    constraint_indexing:constraint_classification(blackstone_tra, noose, context(individual_powerless, _, _, _, _, _)),
    constraint_indexing:constraint_classification(blackstone_tra, rope, context(individual_powerful, _, _, _, _, _)).

:- end_tests(blackstone_tra_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.85): This is a direct reflection of the 85% 
 * cash-sharing ratio specified in the S-1.
 * 2. CLASSIFICATION: The TRA is perhaps the most "pure" example of a 
 * Noose in corporate governance, as it is a permanent, asymmetric 
 * cash transfer from the public entity to its former owners.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    tax_rate_stability,
    "Will future corporate tax rates decrease, reducing the 'value' of the TRA payments for the SMDs?",
    resolution_mechanism("Congressional legislative tracking on federal corporate tax rate adjustments"),
    impact("If rates drop: the Noose loosens (less is extracted). If rates rise: the Noose tightens."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Retention of Tax Benefits for All Unitholders
 * Viability: The standard for almost all non-partnership public offerings.
 * Suppression: The SMDs made the TRA a prerequisite for the IPO, effectively 
 * suppressing the "fair share" alternative before public trading began.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [blackstone_tra].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% ==========================================================================
% [SKELETON REPAIR] Missing Perspectival Pillars Added: MOUNTAIN
% To be calibrated: Define the narrative justification for these perspectives.
% ==========================================================================
constraint_indexing:constraint_classification(blackstone_tax_receiveable_agreement, mountain, agent_power(analytical)).


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(blackstone_tax_receiveable_agreement, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(blackstone_tax_receiveable_agreement, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: brain_network_paradigm_2026
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "The immense interconnectivity of the brain" by Helen Thomson
% ============================================================================

:- module(brain_network_paradigm_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: brain_network_paradigm_2026
 * human_readable: Distributed Brain Network Paradigm
 * domain: technological/scientific
 * temporal_scope: 2001-2026
 * spatial_scope: Global (Neuroscientific Community)
 * * SUMMARY:
 * This constraint represents the paradigm shift in neuroscience from viewing the brain as a collection of 
 * discrete, specialized regions to seeing it as a series of interconnected, overlapping networks. 
 * Behaviors like emotion, memory, and daydreaming emerge not from single modules, but from synchronized 
 * activity across these systems.
 * * KEY AGENTS:
 * - Marcus Raichle: The researcher who described the Default Mode Network (DMN) in 2001.
 * - Modularist (Phineas Gage era): The legacy perspective focusing on single-region damage (e.g., frontal lobe).
 * - Imaging Technology (fMRI/PET): The enabling tools that allow the whole brain to be observed in action.
 * * NARRATIVE ARC:
 * Neuroscience moved from "incredible accidents" like Phineas Gage's rod injury to the systematic mapping 
 * of functional networks. The discovery of the DMN marked a turning point where the brain's 
 * activity during rest became as scientifically significant as its activity during tasks.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(brain_network_paradigm_2026, 0, 10).
narrative_ontology:constraint_claim([brain_network_paradigm_2026], [scientific_paradigm]).

% Base extractiveness score: 0.0
% Rationale: The paradigm describes a biological fact rather than extracting resources from subjects.
domain_priors:base_extractiveness(brain_network_paradigm_2026, 0.0).

% Suppression score: 0.7
% Rationale: The article frames the previous "specialized region" view as a "mistake" akin to the parable 
% of the blind men and the elephant. Legacy modular views are increasingly suppressed by data.
domain_priors:suppression_score(brain_network_paradigm_2026, 0.7).

% Enforcement requirements: Emerges naturally through data.
domain_priors:emerges_naturally(brain_network_paradigm_2026).

% Metrics for Section 1
narrative_ontology:constraint_metric(brain_network_paradigm_2026, extractiveness, 0.0).
narrative_ontology:constraint_metric(brain_network_paradigm_2026, suppression_requirement, 0.7).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NETWORK NEUROSCIENTIST (Luiz Pessoa/Raichle) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-shaping scientific authority)
   WHEN: historical (Century-scale shift in thinking)
   WHERE: mobile (Can navigate between various network models)
   SCOPE: global (The new scientific standard)
   
   WHY THIS CLASSIFICATION:
   For the modern scientist, networks are a "Rope"—a functional coordination mechanism that explains 
   complex emergent behaviors that the old modular view could not account for.
   
   NARRATIVE EVIDENCE:
   "The mapping of brain networks has played a major role in shifting neuroscientific thinking".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    brain_network_paradigm_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE LEGACY MODULARIST (Modular Specialist) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerful (Established experts in region-specific research)
   WHEN: biographical (Risk of their life's work becoming obsolete)
   WHERE: constrained (Tied to specific anatomical paradigms)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The network paradigm acts as a "Noose" to the modularist by refuting the idea that their specific 
   region (e.g., amygdala for emotion) operates alone. It constrains their ability to 
   make singular causal claims.
   
   NARRATIVE EVIDENCE:
   "Focusing on single parts can obscure the whole". "Neuroscience made the same mistake 
   for decades".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    brain_network_paradigm_2026,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BIOLOGICAL OBSERVER - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (The underlying biological reality)
   WHEN: civilizational (Species-level biological fact)
   WHERE: analytical (Universal law of physiology)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The interconnectivity of the brain is a "Mountain"—a fixed physical reality. The brain is 
   physically wired as a network; this is an unchangeable law of human biology.
   
   NARRATIVE EVIDENCE:
   "Brain regions don’t operate alone – instead, complex behaviours emerge from synchronised 
   activity across multiple, overlapping networks".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    brain_network_paradigm_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(brain_network_paradigm_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(brain_network_paradigm_2026, T1, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(brain_network_paradigm_2026, T2, context(agent_power(individual_powerful), _, _, _)),
    T1 \= T2.

test(imaging_tech_impact) :-
    % Shows that immutability of modularism was broken by imaging tools.
    true.

:- end_tests(brain_network_paradigm_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION SCORE (0.7): High because the article explicitly calls the modular view a 
 * "mistake" that "obscured the whole". 
 * 2. PERSPECTIVE SELECTION: Chose to contrast the "Legacy Modularist" with the "Modern Scientist" 
 * to show how a "Rope" for one generation can be a "Noose" for the previous one.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    network_individuality,
    "Is every individual's brain network map unique (Noose for generalists) or does a standard template exist (Mountain)?",
    resolution_mechanism("Longitudinal high-resolution connectivity mapping of diverse populations"),
    impact("If unique: Standardized medicine fails. If template: Universal protocols remain viable."),
    confidence_without_resolution(medium)
).

omega_variable(
    dmn_function_completeness,
    "Does the DMN exclusively handle task-disengaged thought, or are there hidden processing roles we cannot yet image?",
    resolution_mechanism("Direct intracranial recording combined with ultra-high field (7T+) fMRI"),
    impact("If hidden roles exist: Our current 'Rope' is incomplete."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Strict Modularism (Phineas Gage model)
 * Viability: High for the 19th and 20th centuries.
 * Suppression: Actively dismantled by fMRI/PET data in the late 90s.
 * Evidence: "Focusing on single parts can obscure the whole".
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [brain_network_paradigm_2026].
% Run: ?- multi_index_report(brain_network_paradigm_2026).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: brouwer_fixed_point
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Brouwer Fixed Point Theorem (Topology / Game Theory)
% ============================================================================

:- module(constraint_brouwer_fixed_point, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: brouwer_fixed_point
 * human_readable: Brouwer Fixed Point Theorem
 * domain: mathematics/topological/economic
 * temporal_scope: 1911 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Compact convex sets)
 * * SUMMARY:
 * The Brouwer Fixed Point Theorem states that for any continuous function 
 * mapping a compact convex set to itself, there is at least one point x 
 * such that f(x) = x. It is a fundamental "existence" theorem that guarantees 
 * equilibrium in complex systems without necessarily providing a method to find it.
 * * KEY AGENTS:
 * - The Topological Subject (The Point): An agent trapped within the set, 
 * guaranteed to have a "home" but no agency to choose it.
 * - The Game Theorist / Economist: An institutional agent who uses the 
 * theorem to prove the existence of Nash Equilibria or Market Clearing prices.
 * - The Searcher (Numerical Analyst): An agent struggling with the "non-constructive" 
 * nature of the theorem, knowing a solution exists but lacking a map.
 * * NARRATIVE ARC:
 * Brouwer acts as a "Mountain" of topological inevitability. In the narrative 
 * of a system (like an economy), it is the "Rope" that guarantees consistency. 
 * However, to the searcher, its non-constructive nature is a "Noose"—a 
 * promise of a solution that offers no relief from the labor of finding it.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(brouwer_era, 1911, 2026).
narrative_ontology:constraint_claim(brouwer_fixed_point, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Low (0.2). It is a passive existence guarantee. It "extracts" 
% the possibility of total chaos by forcing the existence of a stationary state.
domain_priors:base_extractiveness(brouwer_fixed_point, 0.2).

% Suppression score (0.0-1.0)
% Rationale: Low (0.1). It is foundational; it does not hide its 
% non-constructive nature, though it dominates the proof of existence.
domain_priors:suppression_score(brouwer_fixed_point, 0.1).

% Enforcement: Emerges from the axioms of topology and continuity.
domain_priors:emerges_naturally(brouwer_fixed_point).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(brouwer_fixed_point, extractiveness, 0.2).
narrative_ontology:constraint_metric(brouwer_fixed_point, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(brouwer_fixed_point, institutional_stability). % Equilibrium exists.
constraint_beneficiary(brouwer_fixed_point, theoretical_physicists).
constraint_victim(brouwer_fixed_point, algorithmic_efficiency). % Existence doesn't help find it.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE TOPOLOGICAL POINT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The point has no agency over its transformation.
   WHEN: immediate - True for every single mapping instance.
   WHERE: trapped - Bound within the compact convex set X.
   SCOPE: local - Immediate coordinate of the stationary point.
   
   WHY THIS CLASSIFICATION:
   For the point, the fixed state is an unyielding law of the universe. 
   If the set is "crumpled" or "stirred," the point *must* remain.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    brouwer_fixed_point,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MARKET ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design rules (sets) that satisfy Brouwer.
   WHEN: biographical - Planning the stability of a market or game for years.
   WHERE: mobile - Can choose different spaces/rules to ensure equilibrium.
   SCOPE: national/global - Applies to entire economic models.
   
   WHY THIS CLASSIFICATION:
   For the architect, the theorem is a "Rope" for functional coordination. 
   It provides a "proof of concept" that allows for the creation of 
   stable systems and regulatory frameworks.
   
   NARRATIVE EVIDENCE:
   "The theorem is used in proving the existence of Nash Equilibrium in game theory."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    brouwer_fixed_point,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NUMERICAL SEARCHER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the knowledge to search, but limited by math.
   WHEN: immediate - Stuck in the "infinite" loops of searching for existence.
   WHERE: constrained - Knowing the target exists but having no path.
   SCOPE: local - Lost in the high-dimensional space.
   
   WHY THIS CLASSIFICATION:
   When existence is guaranteed but non-constructive, it acts as a "Noose." 
   The searcher is bound to a solution that they can "see" in theory but 
   never "touch" in practice, extracting infinite labor for zero certainty.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    brouwer_fixed_point,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(brouwer_fixed_point, E),
    E > 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(brouwer_fixed_point_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(brouwer_fixed_point, Type1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(brouwer_fixed_point, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(non_constructive_noose_penalty) :-
    % The searcher (moderate power, constrained) suffers the gap between theory and praxis.
    constraint_indexing:constraint_classification(brouwer_fixed_point, noose, context(individual_moderate, immediate, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(brouwer_fixed_point).

:- end_tests(brouwer_fixed_point_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.2):
 * Reasoning: Brouwer is less "expensive" than Banach (which demands iterates) 
 * but it still extracts cognitive and computational cycles by providing 
 * an "existence trap"—the knowledge that a solution is there.
 * * 2. TYPE SHIFT:
 * Reasoning: The primary perspectival gap is between the "Institutional" 
 * sense of stability (Rope) and the "Moderate" searcher's frustration 
 * with the lack of a constructive path (Noose).
 * * 3. PERSPECTIVE SELECTION:
 * Chose Point (Passive), Architect (User), and Searcher (Victim) to highlight 
 * the specific topological-computational friction.
 */

% OMEGA IDENTIFICATION
omega_variable(
    constructive_complexity,
    "Will a universal constructive version of Brouwer (e.g., Scarf's algorithm) succeed?",
    resolution_mechanism("Measure the average-case runtime vs existence-proof utility over 10 years."),
    impact("If Yes: The 'Noose' becomes a 'Rope'. If No: It remains a Noose for practitioners."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Banach Fixed Point Theorem
 * Viability: Constructive, provides a path (Rope).
 * Suppression: Requires a contraction mapping, which many real systems lack.
 * * ALTERNATIVE 2: Schauder Fixed Point Theorem
 * Viability: Generalizes to infinite-dimensional spaces.
 * Suppression: Used for more complex PDEs, but Brouwer remains the finite-dim base.
 * * CONCLUSION:
 * The existence of Banach's "Rope" makes Brouwer's "Noose" (non-constructiveness) 
 * more visible to the Searcher, who wishes the world were contractive.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [brouwer_fixed_point].
% Run tests: ?- run_tests(brouwer_fixed_point_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: buffons_needle_pi_estimation
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Georges-Louis Leclerc, Comte de Buffon (1777) / Geometric Probability
% ============================================================================

:- module(constraint_buffons_needle, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: buffons_needle_pi_estimation
 * human_readable: Buffon's Needle (Geometric Probability)
 * domain: mathematical/technological
 * temporal_scope: 1777 - Present
 * spatial_scope: Global/Abstract (Euclidean Space)
 * * SUMMARY:
 * Buffon's Needle is a classic problem in geometric probability where a needle 
 * of length $l$ is dropped onto a floor with parallel lines a distance $d$ apart. 
 * The probability that the needle crosses a line ($P = 2l / (d\pi)$) reveals 
 * a fundamental constraint: $\pi$ is woven into the very geometry of random 
 * physical interactions.
 * * KEY AGENTS:
 * - The Needle (Subject): The powerless agent whose physical landing is 
 * bound by the trigonometric constraints of its angle and position.
 * - The Monte Carlo Simulator (Institutional): An agent who uses this 
 * randomness as a "Rope" to estimate transcendental constants.
 * - The Analytical Purist (Victim): An agent for whom the "messiness" of 
 * physical randomness acts as a "Noose," extracting the elegance of 
 * pure symbolic calculation.
 * * NARRATIVE ARC:
 * Buffon's Needle functions as a "Mountain" of geometric reality—the 
 * relationship between linear drops and circular constants is an unyielding 
 * feature of space. In early computing, it was a "Rope" for coordinating the 
 * first Monte Carlo methods. However, for those seeking high-precision 
 * constants, the requirement of infinite physical trials acts as a "Noose," 
 * extracting massive time and effort (extraction) to yield only a few 
 * digits of $\pi$.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(buffon_era, 1777, 2026).
narrative_ontology:constraint_claim(buffons_needle_pi_estimation, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. It "extracts" the simplicity of a random drop to reveal a 
% complex constant, forcing a "statistical tax" on any agent seeking to 
% derive $\pi$ from physical space.
domain_priors:base_extractiveness(buffons_needle_pi_estimation, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.1. It does not actively suppress alternatives, but it 
% renders "non-trigonometric" explanations of the crossing probability 
% functionally fraudulent.
domain_priors:suppression_score(buffons_needle_pi_estimation, 0.1).

% Enforcement: Emerges naturally from the integration of the sine function.
domain_priors:emerges_naturally(buffons_needle_pi_estimation).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(buffons_needle_pi_estimation, extractiveness, 0.2).
narrative_ontology:constraint_metric(buffons_needle_pi_estimation, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(buffons_needle_pi_estimation, monte_carlo_engineers).
constraint_beneficiary(buffons_needle_pi_estimation, geometric_statisticians).
constraint_victim(buffons_needle_pi_estimation, deterministic_calculators). % Strangled by variance.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE FALLING NEEDLE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The needle has no agency over the laws of gravity or trig.
   WHEN: immediate - The crossing is determined the instant the needle settles.
   WHERE: trapped - Bound within the $d$-width lines of the floor.
   SCOPE: local - Immediate neighborhood of the landing.
   
   WHY THIS CLASSIFICATION:
   For the needle, the condition $x \le (l/2)\sin\theta$ is an absolute Mountain. 
   It cannot "choose" to cross a line if the geometry of its angle and 
   center-point does not permit it. The law is a fixed feature of its physics.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    buffons_needle_pi_estimation,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE STATISTICAL RESEARCHER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design experiments and choose trial counts.
   WHEN: biographical - Planning the duration of a data collection project.
   WHERE: mobile - Can adjust $l$ and $d$ to optimize the crossing probability.
   SCOPE: global - Universal application in stochastic modeling.
   
   WHY THIS CLASSIFICATION:
   For the researcher, the problem is a "Rope"—a functional coordination 
   mechanism. By dropping needles, they coordinate a "standard of achievement" 
   for estimating $\pi$ through physical action, pulling abstract math 
   into the tangible world.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    buffons_needle_pi_estimation,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HIGH-PRECISION OBSERVER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the Law of Large Numbers.
   WHEN: generational - It would take lifetimes of drops to reach 10 digits of $\pi$.
   WHERE: constrained - No alternative but to increase $N$ at a $1/\sqrt{N}$ rate.
   SCOPE: local - A specific, tedious physical experiment.
   
   WHY THIS CLASSIFICATION:
   For the seeker of precision, Buffon's Needle is a "Noose." It "strangles" 
   efficiency. Because the error decreases so slowly, the method extracts 
   enormous labor (extraction) for diminishing returns, "choking" the 
   viability of the experiment as a serious computational tool.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    buffons_needle_pi_estimation,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(generational),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(buffons_needle_pi_estimation, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(buffons_needle_tests).

test(multi_perspective_variance) :-
    % Needle -> Mountain
    constraint_indexing:constraint_classification(buffons_needle_pi_estimation, Type1, context(individual_powerless, immediate, trapped, local)),
    % Researcher -> Rope
    constraint_indexing:constraint_classification(buffons_needle_pi_estimation, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(variance_extraction_penalty) :-
    % The high-precision seeker feels the "Noose" of the 1/sqrt(N) convergence.
    Context = context(individual_powerless, generational, constrained, local),
    constraint_indexing:extractiveness_for_agent(buffons_needle_pi_estimation, Context, Score),
    Score >= 0.2.

test(natural_emergence) :-
    domain_priors:emerges_naturally(buffons_needle_pi_estimation).

:- end_tests(buffons_needle_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Chose 0.2 because while the math is a "gift," the physical effort to use 
 * it for estimation is a "tax" of time and variance.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Needle (Subject), Researcher (User), and Precision Seeker (Victim) 
 * to demonstrate how a "Mountain" of logic becomes a "Noose" of inefficiency.
 */

% OMEGA IDENTIFICATION
omega_variable(
    needle_shape_universality,
    "Does the 'Mountain' hold for non-linear needles (e.g., Buffon's Noodle)?",
    resolution_mechanism("Verification of Barbier's Theorem for curves of constant length."),
    impact("If Yes: The 'Mountain' is a universal property of length, not just straight lines."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Deterministic Algorithms (e.g., Chudnovsky Algorithm)
 * Viability: Millions of times more efficient than needle dropping.
 * Suppression: Renders Buffon's Needle functionally a "Toy" or "Scaffold" 
 * in the modern era.
 * * ALTERNATIVE 2: Barbier's Theorem (Buffon's Noodle)
 * Viability: Shows that the shape doesn't matter, only the length.
 * Evidence: A broader "Mountain" that explains the straight-needle case.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [buffons_needle_pi_estimation].
 * 2. Multi-perspective: ?- multi_index_report(buffons_needle_pi_estimation).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: burali_forti_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Set Theory / Cesare Burali-Forti (1897)
% ============================================================================

:- module(constraint_burali_forti_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: burali_forti_paradox
 * human_readable: Burali-Forti Paradox
 * domain: technological/mathematics/logic
 * temporal_scope: Permanent (Universal Laws of Formal Systems)
 * spatial_scope: Global (Set-Theoretic Foundations)
 * * SUMMARY:
 * The Burali-Forti paradox demonstrates that the collection of all ordinal numbers 
 * cannot itself be a set. If it were, it would have an ordinal number greater 
 * than every ordinal in the collection, leading to a contradiction. It 
 * represents the first formal proof that "totalities" in naive set theory 
 * are logically impossible.
 * * KEY AGENTS:
 * - The Set Theorist: Seeking a consistent foundation for all of mathematics.
 * - The Formal System (ZFC/NBG): The administrative structure that prevents 
 * "Set" status for such totalities.
 * - The Naive Mathematician: An agent attempting to work with unrestricted 
 * comprehension.
 * * NARRATIVE ARC:
 * The paradox acts as a hard boundary (Mountain) for the reach of sets. To 
 * maintain consistency, formal systems treat the "All-Ordinals" as a Proper 
 * Class (Rope), a coordination tool that allows use without membership. 
 * For those seeking a single unified "Set of All," the paradox is a Noose 
 * that collapses their foundational system.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural anchor
narrative_ontology:interval(burali_forti_interval, 0, 10).
narrative_ontology:constraint_claim(burali_forti_paradox, mountain).

% Base extractiveness score: 0.2 (Low)
% Rationale: It extracts "semantic closure" from naive systems but does not 
% extract physical resources.
domain_priors:base_extractiveness(burali_forti_paradox, 0.2).

% Suppression score: 0.3 (Low-Moderate)
% Rationale: Alternatives like New Foundations (NF) exist and are visible, 
% though the "Proper Class" distinction is the dominant enforcement.
domain_priors:suppression_score(burali_forti_paradox, 0.3).

% Enforcement requirements: Emerges naturally from the definition of ordinals.
domain_priors:emerges_naturally(burali_forti_paradox).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(burali_forti_paradox, extractiveness, 0.2).
narrative_ontology:constraint_metric(burali_forti_paradox, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(burali_forti_paradox, axiomatic_set_theorists).
constraint_victim(burali_forti_paradox, naive_comprehension_proponents).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SET THEORIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal logical laws.
   WHEN: civilizational - Operates on the scale of eternal mathematical truth.
   WHERE: trapped - Logic cannot bypass the definitions of well-ordering.
   SCOPE: global - Universal applicability to all formal systems.
   
   WHY THIS CLASSIFICATION:
   To the theorist, the paradox is a Mountain. It is an unchangeable feature 
   of the landscape of truth. You cannot "fix" it; you can only map it and 
   build your axioms around it to avoid falling into the contradiction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burali_forti_paradox,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE AXIOMATIC SYSTEM (ZFC) - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power that defines what counts as a "Set."
   WHEN: historical - Maintaining mathematical stability over centuries.
   WHERE: arbitrage - Can define hierarchies (Proper Classes vs Sets) to 
   coordinate information.
   SCOPE: national - The reach of the specific formal logic.
   
   WHY THIS CLASSIFICATION:
   For the formal system, the paradox is a Rope. It is a coordination 
   mechanism that forces the distinction between "Sets" (which can be members) 
   and "Proper Classes" (which cannot). This distinction is a functional 
   tool that prevents the system from "exploding" into triviality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burali_forti_paradox,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NAIVE MATHEMATICIAN - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the rules of logic without 
   meta-systemic power.
   WHEN: immediate - Today's calculation or proof attempt.
   WHERE: trapped - Once the contradiction is reached, the proof is dead.
   SCOPE: local - Immediate workspace.
   
   WHY THIS CLASSIFICATION:
   For the naive actor, the paradox is a Noose. They attempt to use the 
   seemingly "free" rule of unrestricted comprehension (the ability to form 
   a set from any property). However, as they include more ordinals, the 
   paradoxical logic tightens until their entire foundational proof 
   is strangled by contradiction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burali_forti_paradox,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(burali_forti_paradox_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(burali_forti_paradox, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(burali_forti_paradox, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(burali_forti_paradox, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(power_semantic_extraction) :-
    % Powerless naive actors suffer total extraction of proof validity (Noose).
    % Institutional systems manage the extraction via Proper Classes (Rope).
    domain_priors:base_extractiveness(burali_forti_paradox, Score),
    Score >= 0.2.

test(time_immutability_scale) :-
    % Long-term civilizational logic = Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(burali_forti_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Low. The "extraction" is purely semantic—the loss of 
 * unrestricted comprehension. It doesn't extract material labor.
 * * 2. PERSPECTIVE SELECTION:
 * Analytical (The Scientist), Institutional (The Formal System), and 
 * Individual Powerless (The Naive Actor) were chosen to reflect the 
 * standard "Set vs Class" resolution in mathematics.
 * * 3. CLASSIFICATION RATIONALE:
 * Individual Powerless → Noose: Because naive comprehension leads 
 * unavoidably to a "trap" where all statements become provable (Trivialism).
 * * 4. AMBIGUITIES:
 * - Resolved the "trap" by acknowledging that while one can exit ZFC 
 * to another logic, one cannot exit the Burali-Forti result within 
 * any system that respects standard ordinal definitions.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    class_vs_set_metaphysics,
    "Are 'Proper Classes' a real mathematical landscape (Mountain) or merely a linguistic scaffold (Rope) to avoid the Noose?",
    resolution_mechanism("Development of a grand unified theory of categories vs sets"),
    impact("If Mountain: The hierarchy of size is a physical limit. If Rope: It's just a bug in our current notation."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Quine's New Foundations (NF)
 * Viability: High. It allows a universal set but restricts the types of 
 * formulas used to define sets (stratification).
 * Suppression: Moderate. NF is well-known but rarely used in "mainstream" 
 * math because stratification is cognitively more "expensive" than ZFC.
 * * CONCLUSION:
 * The existence of NF as a "Rope" alternative suggests that the ZFC 
 * "Mountain" is partially a choice of convenience, though the underlying 
 * paradox remains a structural limit for naive systems.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * * 1. Load: ?- [constraint_burali_forti_paradox].
 * 2. Multi-perspective: ?- multi_index_report(burali_forti_paradox).
 * 3. Run tests: ?- run_tests(burali_forti_paradox_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(burali_forte_paradox, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(burali_forte_paradox, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(burali_forte_paradox, noose, agent_power(individual_powerless)).
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: burden_of_proof_engineering_safety
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Report of the Presidential Commission on the Space Shuttle Challenger Accident (Rogers Commission)
% ============================================================================

:- module(constraint_burden_of_proof_engineering, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: burden_of_proof_engineering_safety
 * human_readable: Reversal of the Engineering Burden of Proof
 * domain: technological/institutional
 * temporal_scope: 1986 (Challenger Launch Decision)
 * spatial_scope: National (NASA Marshall Space Flight Center)
 * * SUMMARY:
 * This constraint represents a specific institutional failure where the 
 * "burden of proof" shifted from requiring proof that it was SAFE to fly 
 * to requiring proof that it was UNSAFE to fly. This technical/
 * engineering variety of the constraint is distinct from legal burdens 
 * as it operates on the threshold of physical system failure rather 
 * than social culpability.
 * * KEY AGENTS:
 * - Roger Boisjoly: Individual powerless; engineer attempting to prove un-safety under a reversed burden.
 * - Lawrence Mulloy: Institutional; NASA official who demanded "conclusive" data to stop the launch.
 * - The Rogers Commission: Analytical; identified this shift as a primary cause of the disaster.
 * * NARRATIVE ARC:
 * Traditionally, aerospace engineering operates as a Rope—a conservative 
 * coordination mechanism ensuring safety. During the Challenger launch 
 * sequence, management enforced a Noose by demanding that engineers 
 * prove a system failure would occur with 100% certainty, effectively 
 * extracting the "safety margin" to meet a launch schedule.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(challenger_launch_decision, 0, 10).
narrative_ontology:constraint_claim(burden_of_proof_engineering_safety, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.9. Reversing the burden of proof extracts the life of the 
% subjects (crew) to preserve the institutional schedule and prestige.
domain_priors:base_extractiveness(burden_of_proof_engineering_safety, 0.9).

% Suppression score (0.0-1.0)
% Rationale: 0.8. The demand for "conclusive data" suppresses valid 
% engineering intuition and historical erosion data.
domain_priors:suppression_score(burden_of_proof_engineering_safety, 0.8).

% Enforcement requirements
% Requires active enforcement: NASA management explicitly demanded that 
% Thiokol "prove it" was unsafe.
domain_priors:requires_active_enforcement(burden_of_proof_engineering_safety).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(burden_of_proof_engineering_safety, extractiveness, 0.9).
narrative_ontology:constraint_metric(burden_of_proof_engineering_safety, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(burden_of_proof_engineering_safety, launch_schedule_adherence).
constraint_victim(burden_of_proof_engineering_safety, engineering_integrity).
constraint_victim(burden_of_proof_engineering_safety, crew_safety).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THIOKOL ENGINEER (Boisjoly) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Lacked the power to withhold launch approval 
         once management reversed the burden.
   WHEN: immediate - The final hours of the launch decision.
   WHERE: trapped - Could not provide the "quantitative" proof demanded.
   SCOPE: local - Specific seal performance at 31 degrees Fahrenheit.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the reversed burden was an unchangeable Mountain. 
   Physics does not provide "binary proof" of failure before it happens; 
   it only provides probabilities. By demanding certainty, management 
   created an impossible landscape for the engineer.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_engineering_safety,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(burden_of_proof_engineering_safety),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: NASA LEVEL III MANAGEMENT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power over the launch process.
   WHEN: biographical - Seeking to justify the Shuttle as an operational system.
   WHERE: mobile - Had the capacity to delay but viewed the burden shift as 
         a necessary management tool to resolve "ambiguity".
   SCOPE: national - Managing the premiere US space asset.
   
   WHY THIS CLASSIFICATION:
   Management viewed the demand for "conclusive" proof as a Rope—a necessary 
   mechanism to coordinate across agencies and prevent "emotional" 
   delays by engineers. They saw it as a functional filter for data.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_engineering_safety,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(burden_of_proof_engineering_safety, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: ROGERS COMMISSION - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Retrospective body examining the systemic "flaw".
   WHEN: historical - Evaluating the collapse of NASA's safety culture.
   WHERE: analytical - Free from the internal "can-do" culture pressure.
   SCOPE: global - A warning for all technical industries.
   
   WHY THIS CLASSIFICATION:
   The Commission correctly identified this constraint as a Noose. It 
   actively choked out dissenting safety data and "extracted" the life 
   of the crew to serve the illusion of a reliable schedule.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_engineering_safety,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(burden_of_proof_engineering_safety, S),
    S > 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(burden_of_proof_tests).

test(multi_perspective_asymmetry) :-
    % Engineer (Mountain) vs Manager (Rope) vs Commission (Noose)
    constraint_indexing:constraint_classification(burden_of_proof_engineering_safety, T1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(burden_of_proof_engineering_safety, T2, context(institutional, biographical, mobile, national)),
    constraint_indexing:constraint_classification(burden_of_proof_engineering_safety, T3, context(analytical, historical, analytical, global)),
    T1 \= T2, T2 \= T3.

test(high_extraction_threshold) :-
    domain_priors:base_extractiveness(burden_of_proof_engineering_safety, E),
    E > 0.8.

:- end_tests(burden_of_proof_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. DOMAIN DIFFERENTIATION: This is a **technical/engineering** burden of proof. 
 * Unlike a legal burden (e.g., "beyond reasonable doubt" in criminal law), 
 * this constraint is extractive of physical safety margins, not just social 
 * fairness.
 * * 2. EXTRACTIVENESS SCORE (0.9): The score is high because the reversal of 
 * the burden directly trade-offs human life for schedule adherence.
 * * 3. PERSPECTIVE SELECTION: Chose the engineer's view as 'Mountain' to reflect 
 * the unyielding nature of physics that they were forced to "prove" 
 * conclusively.
 */

omega_variable(
    proof_threshold_quantification,
    "Can an engineering organization ever define a 'safe' burden of proof 
     that is not ultimately a subjective value judgment?",
    resolution_mechanism("Comparative analysis of probabilistic risk assessment (PRA) standards across nuclear vs. aerospace"),
    impact("If Yes: Burden of proof is a Rope. If No: It is an unavoidable institutional Mountain."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Standard Engineering Conservative Bias
 * Viability: The historical norm at NASA during Apollo. Requires proof 
 * of SAFETY before proceed.
 * Suppression: Actively suppressed by Level III management to maintain 
 * the "operational" rather than "experimental" status of the Shuttle.
 * * CONCLUSION:
 * The presence of a safer, traditional alternative that was suppressed 
 * solidifies the Noose classification for this specific instance.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [burden_of_proof_engineering_safety].
% 2. Analyze: ?- multi_index_report(burden_of_proof_engineering_safety).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: burden_of_proof_legal_criminal
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: General Jurisprudence / Common Law Criminal Procedure
% ============================================================================

:- module(constraint_legal_burden_of_proof, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: burden_of_proof_legal_criminal
 * human_readable: Beyond a Reasonable Doubt (Criminal Legal Burden)
 * domain: political/social
 * temporal_scope: Modern Era (Common Law Jurisdictions)
 * spatial_scope: National
 * * SUMMARY:
 * In criminal law, the burden of proof rests entirely on the prosecution to 
 * prove every element of a crime "beyond a reasonable doubt." This is a 
 * foundational constraint designed to protect individuals from the 
 * overwhelming power of the state, codifying the principle that it is better 
 * for ten guilty persons to escape than for one innocent to suffer.
 * * KEY AGENTS:
 * - The Defendant: Individual powerless; subject to the state's accusation and potential loss of liberty.
 * - The Prosecutor: Institutional; represents the state and carries the weight of proving the charge.
 * - The Juror: Analytical; the immediate arbiter of whether the burden has been met.
 * * NARRATIVE ARC:
 * Unlike the engineering variety which extracts safety to meet schedules, 
 * the legal burden acts as a Rope (coordination) for the state but a 
 * Mountain (unchangeable protection) for the accused. It defines the 
 * "rules of the game" for civil society to ensure the state's power is 
 * not used as a Noose against its citizens.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(criminal_trial_sequence, 0, 10).
narrative_ontology:constraint_claim(burden_of_proof_legal_criminal, rope).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.1. Low extraction; the burden is designed to *prevent* % extraction (wrongful imprisonment) rather than facilitate it.
domain_priors:base_extractiveness(burden_of_proof_legal_criminal, 0.1).

% Suppression score (0.0-1.0)
% Rationale: 0.2. Low suppression; the legal system (ideally) allows for 
% all relevant evidence and alternative theories of the crime to be presented.
domain_priors:suppression_score(burden_of_proof_legal_criminal, 0.2).

% Enforcement requirements
% Requires active enforcement: Judges must instruct juries, and appellate 
% courts must review if the burden was properly applied.
domain_priors:requires_active_enforcement(burden_of_proof_legal_criminal).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(burden_of_proof_legal_criminal, extractiveness, 0.1).
narrative_ontology:constraint_metric(burden_of_proof_legal_criminal, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(burden_of_proof_legal_criminal, civil_liberties).
constraint_beneficiary(burden_of_proof_legal_criminal, the_accused).
constraint_victim(burden_of_proof_legal_criminal, prosecutorial_efficiency).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DEFENDANT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Facing the state's resources; cannot change the law.
   WHEN: immediate - The duration of the trial and potential sentencing.
   WHERE: trapped - Bound by the court's jurisdiction and the finality of the verdict.
   SCOPE: local - Impact on their specific life and liberty.
   
   WHY THIS CLASSIFICATION:
   For the defendant, the high burden of proof is an unchangeable Mountain 
   of protection. They do not have to "do" anything for it to exist; it is 
   a pre-existing feature of the legal landscape that the state must climb 
   over to reach them.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_legal_criminal,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(burden_of_proof_legal_criminal),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PROSECUTOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making and rule-applying power representing the state.
   WHEN: biographical - Careers built on the successful navigation of trials.
   WHERE: mobile - Can choose which cases to bring based on evidence strength.
   SCOPE: national - Operating within a country's legal framework.
   
   WHY THIS CLASSIFICATION:
   For the prosecutor, the burden of proof is a Rope—a coordination mechanism. 
   It tells them how much evidence they must gather and how to structure 
   their narrative to gain a conviction. It is a functional tool that 
   standardizes the state's exercise of power.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_legal_criminal,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(burden_of_proof_legal_criminal, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE JUROR - Analytical
   --------------------------------------------------------------------------
   
   WHO: analytical - Temporary citizen-judge tasked with weighing the evidence.
   WHEN: immediate - Limited to the evidence presented during the trial.
   WHERE: analytical - Not personally trapped by the outcome, but morally bound.
   SCOPE: local - A single specific case and defendant.
   
   WHY THIS CLASSIFICATION:
   The juror views the burden as a Rope (standard) they must use to measure 
   the truth. It is the objective scale upon which they place the 
   prosecution's case.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_legal_criminal,
    rope,
    context(
        agent_power(analytical),
        time_horizon(immediate),
        exit_options(analytical),
        spatial_scope(local)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DEFENDANT (ACCUSED) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Subject to the overwhelming power of the state.
   WHEN: immediate - The duration of the trial and pre-trial detention.
   WHERE: trapped - Bound by the legal process with no meaningful exit.
   SCOPE: local - The individual's life, liberty, and financial solvency.
   
   WHY THIS CLASSIFICATION:
   The "Noose" is the process of prosecution. While "Beyond a Reasonable Doubt"
   is a protection, the individual must still survive the state's extraction of 
   their resources, time, and reputation. For the defendant, the high burden 
   is not a "tool" they use, but a narrow opening in a trap that otherwise 
   seeks their total suppression within the penal system.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_legal_criminal,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(burden_of_proof_legal_criminal, S),
    S > 0.3.

% Explicit priors reflecting the high stakes and resource cost for the defendant.
domain_priors:base_extractiveness(burden_of_proof_legal_criminal, 0.4).
domain_priors:suppression_score(burden_of_proof_legal_criminal, 0.5).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(legal_burden_of_proof_tests).

test(multi_perspective_variance) :-
    % Defendant (Mountain) vs Prosecutor (Rope)
    constraint_indexing:constraint_classification(burden_of_proof_legal_criminal, T1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(burden_of_proof_legal_criminal, T2, context(institutional, biographical, mobile, national)),
    T1 \= T2.

test(anti_extraction_nature) :-
    % High extractiveness would imply a Noose; legal burden should be low.
    domain_priors:base_extractiveness(burden_of_proof_legal_criminal, E),
    E < 0.2.

:- end_tests(legal_burden_of_proof_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. DOMAIN ISOLATION: This is a **legal/social** burden of proof. It differs 
 * from the **engineering** variety because it is designed to increase 
 * friction against state action (protecting the subject), whereas the 
 * Challenger-style burden reversal decreased friction against risky 
 * activity (extracting safety).
 * * 2. CLASSIFICATION: Primarily labeled as 'Rope' because it is the 
 * quintessential coordination tool for a fair society.
 * * 3. EXTRACTIVENESS: Set to 0.1 because its primary function is protective.
 */

omega_variable(
    subjective_certainty_threshold,
    "Is 'Beyond a Reasonable Doubt' an objective mathematical threshold or 
     an irreducible psychological state of the juror?",
    resolution_mechanism("Comparative neuro-legal studies on juror brain states during verdict deliberation"),
    impact("If Objective: The burden is a Rope. If Subjective: The burden 
            is a persistent psychological Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Preponderance of the Evidence
 * Viability: Used in civil law (51% certainty). Highly viable but 
 * rejected in criminal law because the stakes (liberty) are too high.
 * Suppression: Suppressed by Constitutional protections and centuries 
 * of common law tradition.
 * * CONCLUSION:
 * The existence of lower burdens (preponderance, clear and convincing) 
 * demonstrates that the high criminal burden is an intentional 
 * institutional choice (Rope) designed to safeguard the individual.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [burden_of_proof_legal_criminal].
% 2. Analyze: ?- multi_index_report(burden_of_proof_legal_criminal).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: burden_of_proof_scientific_empirical
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Statistical Significance and the Scientific Method (p < 0.05)
% ============================================================================

:- module(constraint_scientific_burden_of_proof, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: burden_of_proof_scientific_empirical
 * human_readable: Statistical Significance (The $p < 0.05$ Threshold)
 * domain: technological/social
 * temporal_scope: 1925-Present (Post-Fisherian Statistics)
 * spatial_scope: Global (Scientific Community)
 * * SUMMARY:
 * In the empirical sciences, the burden of proof is codified through 
 * statistical significance, typically requiring a p-value of less than 0.05 
 * to reject the null hypothesis. This variety of the burden is designed to 
 * filter out random noise and ensure that "claims to truth" are reproducible 
 * and grounded in mathematical probability rather than anecdotal observation.
 * * KEY AGENTS:
 * - The PhD Candidate: Individual powerless; must achieve the threshold to 
 * publish and graduate.
 * - The Journal Editor/Peer Reviewer: Institutional; enforcers of the 
 * statistical "gold standard."
 * - The Meta-Analyst: Analytical; examines the aggregate behavior of the 
 * threshold (e.g., the "replication crisis").
 * * NARRATIVE ARC:
 * Originally established as a Rope (a functional coordination tool for 
 * researchers), the $p < 0.05$ threshold has occasionally mutated into a 
 * Noose (p-hacking and publication bias). For the individual researcher, 
 * it remains a Mountain—an unyielding barrier that determines what 
 * enters the "record of truth."
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(scientific_revolution_current, 0, 10).
narrative_ontology:constraint_claim(burden_of_proof_scientific_empirical, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.3. Moderate extraction; it extracts significant time and 
% resources (failed experiments) to produce a single "truth" data point.
domain_priors:base_extractiveness(burden_of_proof_scientific_empirical, 0.3).

% Suppression score (0.0-1.0)
% Rationale: 0.6. Alternatives (Bayesian inference, effect sizes) are 
% visible but suppressed by the "prestige" and "standardization" of p-values.
domain_priors:suppression_score(burden_of_proof_scientific_empirical, 0.6).

% Enforcement requirements
% Requires active enforcement (Journal gatekeeping, funding requirements).
domain_priors:requires_active_enforcement(burden_of_proof_scientific_empirical).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(burden_of_proof_scientific_empirical, extractiveness, 0.3).
narrative_ontology:constraint_metric(burden_of_proof_scientific_empirical, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(burden_of_proof_scientific_empirical, established_journals).
constraint_beneficiary(burden_of_proof_scientific_empirical, scientific_consensus_stability).
constraint_victim(burden_of_proof_scientific_empirical, novel_high_risk_hypotheses).
constraint_victim(burden_of_proof_scientific_empirical, null_result_transparency).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RESEARCHER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the threshold for career advancement.
   WHEN: immediate - The duration of a single grant or study.
   WHERE: trapped - Bound by the statistical norms of their specific field.
   SCOPE: local - A single experiment or paper.
   
   WHY THIS CLASSIFICATION:
   To the researcher, $p < 0.05$ is a Mountain. You cannot "argue" with your 
   data set's p-value at the end of a study. If the value is 0.06, the path 
   to publication is blocked by an unchangeable feature of the institutional 
   landscape.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_scientific_empirical,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(burden_of_proof_scientific_empirical),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: SCIENTIFIC COMMUNITY - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power through consensus and peer review.
   WHEN: generational - Building a body of knowledge over decades.
   WHERE: mobile - Can (and does) shift standards (e.g., moving to $p < 0.005$ in physics).
   SCOPE: global - Universal language of science.
   
   WHY THIS CLASSIFICATION:
   For the collective community, the burden of proof is a Rope—a necessary 
   coordination mechanism. It allows a chemist in Tokyo to evaluate a 
   study from Brazil using a shared metric of "trust," preventing the 
   system from being flooded by false positives.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_scientific_empirical,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(burden_of_proof_scientific_empirical, E),
    E < 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE META-ANALYST - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the system's aggregate failures.
   WHEN: historical - Examining the "replication crisis" of the 2010s-2020s.
   WHERE: analytical - Not incentivized to "publish or perish."
   SCOPE: global - Impact on the credibility of science as a whole.
   
   WHY THIS CLASSIFICATION:
   The meta-analyst identifies the Noose. The rigid $p < 0.05$ threshold 
   incentivizes p-hacking and the "file drawer problem" (suppression of 
   null results), extracting the actual truth of scientific inquiry to 
   satisfy the "extractive" requirement of novel results.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_scientific_empirical,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(burden_of_proof_scientific_empirical, S),
    S > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(scientific_burden_of_proof_tests).

test(multi_perspective_gap) :-
    % Researcher (Mountain) vs Community (Rope) vs Meta-Analyst (Noose)
    constraint_indexing:constraint_classification(burden_of_proof_scientific_empirical, T1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(burden_of_proof_scientific_empirical, T2, context(institutional, generational, mobile, global)),
    constraint_indexing:constraint_classification(burden_of_proof_scientific_empirical, T3, context(analytical, historical, analytical, global)),
    T1 \= T2, T2 \= T3.

test(suppression_impact_on_truth) :-
    domain_priors:suppression_score(burden_of_proof_scientific_empirical, S),
    S > 0.5.

:- end_tests(scientific_burden_of_proof_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. DOMAIN ISOLATION: This is the **scientific/empirical** variety. It 
 * differs from the **legal** variety (which focuses on liberty) and the 
 * **engineering** variety (which focuses on safety) by focusing on 
 * **epistemic certainty**.
 * * 2. CLASSIFICATION: I primary-labeled this as 'Mountain' for the 
 * individual because of the unyielding nature of the "0.05" line in 
 * professional survival.
 * * 3. EXTRACTIVENESS: Set to 0.3; it is not purely extractive like the 
 * Challenger failure, but it does "waste" labor on studies that fall 
 * just outside the threshold.
 */

omega_variable(
    arbitrary_threshold_logic,
    "Is there a mathematical basis for 0.05, or is it a historical 'Mountain' 
     that has become a 'Noose' through inertia?",
    resolution_mechanism("Simulate scientific progress across various alpha-level thresholds (0.01, 0.05, 0.10)"),
    impact("If Arbitrary: The burden is a Noose. If Optimally Predictive: 
            It is a vital Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Bayesian Inference (Credible Intervals)
 * Viability: High; allows for a continuous measure of belief rather than 
 * a binary pass/fail.
 * Suppression: Suppressed by the "Standard" infrastructure of statistical 
 * software, textbooks, and reviewer expectations.
 * * CONCLUSION:
 * The difficulty of switching to Bayesian methods, despite their technical 
 * advantages, shows that $p < 0.05$ has moved from a Rope to a Mountain 
 * for most researchers.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [burden_of_proof_scientific_empirical].
% 2. Analyze: ?- multi_index_report(burden_of_proof_scientific_empirical).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: busy_beaver_noncomputability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Tibor Radó (1962) / Computability Theory
% ============================================================================

:- module(constraint_busy_beaver, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: busy_beaver_noncomputability
 * human_readable: The Busy Beaver Function (Σ)
 * domain: technological/mathematical
 * temporal_scope: 1962 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Universal Logic)
 * * SUMMARY:
 * The Busy Beaver function measures the maximum number of steps a halting Turing 
 * machine with $n$ states can take before stopping. It is a well-defined but 
 * non-computable function that grows faster than any computable sequence 
 * (exponential, factorial, or Ackermann). It represents the absolute ceiling 
 * of algorithmic complexity and the price of the Halting Problem.
 * * KEY AGENTS:
 * - The Turing Machine (Subject): A powerless agent whose productivity is 
 * bound by its state-count but whose limits are unknowable.
 * - The Theoretical Computer Scientist (Institutional): An agent using the 
 * Busy Beaver as a "Rope" to define the boundaries of potential computation.
 * - The Brute-Force Searcher (Victim): An agent for whom the function is a 
 * "Noose," as they expend infinite energy searching for values that 
 * mathematics proves they can never algorithmically predict.
 * * NARRATIVE ARC:
 * The Busy Beaver is the "Mountain" of formal systems—a fixed, unyielding 
 * truth of state-space geometry. In high-level logic, it is a "Rope" for 
 * proving non-computability via reduction. However, for those attempting 
 * to solve "provability" through exhaustive simulation, it is a "Noose" 
 * that extracts time, power, and capital (extraction), eventually "strangling" 
 * the project with growth so rapid it exceeds the physical resources 
 * of the universe.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for the Deferential Realism Auditor
narrative_ontology:interval(busy_beaver_era, 1962, 2026).
narrative_ontology:constraint_claim(busy_beaver_noncomputability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.4. It "extracts" the possibility of universal predictive 
% heuristics for code behavior. It imposes a "tax" of unknowability on 
% every finite system, forcing a reliance on bounded approximations.
domain_priors:base_extractiveness(busy_beaver_noncomputability, 0.4).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the hope for "omniscience" in automated 
% theorem proving, rendering the idea of a "universal optimizer" 
% mathematically fraudulent.
domain_priors:suppression_score(busy_beaver_noncomputability, 0.3).

% Enforcement: Emerges naturally from the axioms of computation.
domain_priors:emerges_naturally(busy_beaver_noncomputability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(busy_beaver_noncomputability, extractiveness, 0.4).
narrative_ontology:constraint_metric(busy_beaver_noncomputability, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(busy_beaver_noncomputability, complexity_philosophers).
constraint_beneficiary(busy_beaver_noncomputability, logic_educators).
constraint_victim(busy_beaver_noncomputability, brute_force_optimizers).
constraint_victim(busy_beaver_noncomputability, long_term_simulators).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE 5-STATE TURING MACHINE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The machine is slave to its transition table.
   WHEN: immediate - True every time the machine is initialized.
   WHERE: trapped - Bound within the finite states it possesses.
   SCOPE: local - Immediate read/write/move operations.
   
   WHY THIS CLASSIFICATION:
   For a specific machine, its maximum step count is an absolute Mountain. 
   It cannot "choose" to run for $k+1$ steps if its $n$ states only allow for $k$. 
   The logic of the Busy Beaver limit is a fixed feature of its mathematical 
   universe, unyielding and absolute.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    busy_beaver_noncomputability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE THEORETICAL COMPUTER SCIENTIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to establish the rules of what is computable.
   WHEN: biographical - Spanning a career of research and proof-building.
   WHERE: mobile - Can adjust the "universal machine" model to explore bounds.
   SCOPE: global - Universal application in computer science.
   
   WHY THIS CLASSIFICATION:
   For the researcher, the function is a "Rope"—a functional coordination 
   mechanism. It provides the "standard of achievement" for showing why 
   the Halting Problem is hard. By mapping the "Mountain," they coordinate 
   the understanding of growth rates and logical limits.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    busy_beaver_noncomputability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EXPERIMENTAL SEARCHER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has agency to search but is bound by the growth rate.
   WHEN: historical - It may take centuries of compute to find $\Sigma(6)$ or $\Sigma(7)$.
   WHERE: constrained - No alternative but to use exponentially growing resources.
   SCOPE: global - Searching through the entire set of possible small machines.
   
   WHY THIS CLASSIFICATION:
   For the experimenter, the Busy Beaver is a "Noose." It "strangles" 
   computational projects. Because $\Sigma(n)$ grows faster than any 
   computable function, it extracts enormous energy and hardware cycles 
   (extraction) while "choking" the project with the certainty that most 
   machines will never be proven to halt or run forever.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    busy_beaver_noncomputability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(busy_beaver_noncomputability, E),
    E >= 0.3,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(busy_beaver_tests).

test(multi_perspective_variance) :-
    % Machine -> Mountain
    constraint_indexing:constraint_classification(busy_beaver_noncomputability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Scientist -> Rope
    constraint_indexing:constraint_classification(busy_beaver_noncomputability, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(search_extraction_penalty) :-
    % Searchers feel the 0.4 extraction of resources as a Noose.
    Context = context(individual_moderate, historical, constrained, global),
    constraint_indexing:extractiveness_for_agent(busy_beaver_noncomputability, Context, Score),
    Score >= 0.3.

test(natural_emergence) :-
    domain_priors:emerges_naturally(busy_beaver_noncomputability).

:- end_tests(busy_beaver_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.4):
 * I chose 0.4 because the Busy Beaver function is the "Apex Extractor" of 
 * computability. It doesn't just take energy; it renders the very 
 * concept of "finding the end" a resource-sink that grows faster than 
 * the universe's atoms.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Machine (Subject), Scientist (User), and Searcher (Victim) 
 * to illustrate how a "Mountain" of logic becomes a "Noose" for 
 * experimental verification.
 * * 3. OMEGA IDENTIFICATION: 
 * Formalized the "Provability" uncertainty—is there a fixed point where 
 * our math is simply too weak to ever know $\Sigma(n)$ for a specific $n$?
 */

% YOUR OMEGAS HERE:
omega_variable(
    busy_beaver_unprovability_threshold,
    "At what value of $n$ does the specific value of $\Sigma(n)$ become independent of ZFC (Mountain)?",
    resolution_mechanism("Investigation into the smallest Turing machine that simulates a search for a contradiction in ZFC."),
    impact("If $n$ is small (e.g., <1000): The 'Noose' of unprovability is much tighter than we hope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * * ALTERNATIVE 1: Bounded Computation
 * Viability: Limiting the tape or the step-count arbitrarily.
 * Suppression: Rejected by pure theory because it breaks the Turing-completeness 
 * of the "Mountain."
 * * * ALTERNATIVE 2: Hypercomputation
 * Viability: Machines that can compute the Busy Beaver in "one step" (Oracle machines).
 * Suppression: Suppressed by the "Mountain" of standard physical and logical 
 * limits in our universe.
 * * CONCLUSION:
 * The absence of Alternative 2 (Hypercomputation) is exactly what makes the 
 * Busy Beaver a "Mountain" of absolute logical reality for our era.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [busy_beaver_noncomputability].
 * 2. Multi-perspective: ?- multi_index_report(busy_beaver_noncomputability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: cantor_set_topology
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Georg Cantor (1883) / Set Theory / Topology
% ============================================================================

:- module(constraint_cantor_set, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: cantor_set_topology
 * human_readable: The Cantor Ternary Set
 * domain: mathematical/topological
 * temporal_scope: 1883 - Present
 * spatial_scope: Abstract (The Unit Interval [0,1])
 * * SUMMARY:
 * The Cantor Set is constructed by repeatedly removing the middle third of 
 * every remaining line segment in the unit interval. This process results in 
 * a set that is uncountable, yet has a total length (Lebesgue measure) of zero. 
 * It is the quintessential example of "nowhere dense" structure.
 * * KEY AGENTS:
 * - The Point ($x \in \mathcal{C}$): The powerless subject who survives the 
 * recursive purging, trapped in a set of zero measure.
 * - The Measure Theorist (Institutional): An agent who uses the Cantor Set 
 * as a "Rope" to redefine the relationship between cardinality and size.
 * - The "Intuitive" Observer (Victim): An agent for whom the set is a "Noose," 
 * strangling the common-sense notion that "uncountable" implies "has length."
 * * NARRATIVE ARC:
 * Originally seen as a "pathological" curiosity, the Cantor Set is a 
 * "Mountain" of topological fate. In fractal geometry, it is a "Rope" 
 * for coordination. However, the removal of the middle-thirds acts as a 
 * "Noose" for the interval itself, extracting all its "substance" (measure) 
 * while leaving behind an infinite, ghostly residue of survivors.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Structural Anchor
narrative_ontology:interval(cantor_set_topology, 1883, 2026).
narrative_ontology:constraint_claim(cantor_set_topology, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.3. The construction "extracts" the entire measure (1.0) of 
% the interval, reducing its "worth" in length terms to zero.
domain_priors:base_extractiveness(cantor_set_topology, 0.3).

% Suppression score (0.0-1.0)
% Rationale: 0.2. It suppresses the visibility of continuity, 
% rendering the set "dust-like" and disconnected.
domain_priors:suppression_score(cantor_set_topology, 0.2).

% Enforcement: Emerges naturally from recursive set removal.
domain_priors:emerges_naturally(cantor_set_topology).

% Metrics
narrative_ontology:constraint_metric(cantor_set_topology, extractiveness, 0.3).
narrative_ontology:constraint_metric(cantor_set_topology, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(cantor_set_topology, fractal_geometry). % Tool for recursion.
constraint_beneficiary(cantor_set_topology, analytical_rigor).
constraint_victim(cantor_set_topology, lebesgue_measure). % Measure is extracted to zero.
constraint_victim(cantor_set_topology, geometric_intuition).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RESIDENT POINT ($x \in \mathcal{C}$) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The point has no agency over the removal process.
   WHEN: immediate - True at every level of the recursive hierarchy.
   WHERE: trapped - Bound within a "perfectly disconnected" set.
   SCOPE: local - Immediate neighborhood of the point.
   
   WHY THIS CLASSIFICATION:
   For a point that remains in the set, the ternary logic is a natural law. 
   It cannot "choose" to belong to a connected segment; it is isolated by 
   the infinite Mountain of the ternary expansion rule.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    cantor_set_topology,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE FRACTAL ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design algorithms based on Cantor logic.
   WHEN: biographical - Spanning the creation of a mesh or signal.
   WHERE: mobile - Can adjust the ratio of removal to create "Fat Cantor Sets."
   SCOPE: global - Universal application in chaos theory.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the Cantor construction is a "Rope"—a functional 
   coordination tool. It allows for the mapping of complex, self-similar 
   structures, providing a standard of achievement for structural modeling.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cantor_set_topology,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE UNIT INTERVAL [0,1] - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - The interval is subjected to the removal.
   WHEN: immediate - Each iteration "strangles" more of its length.
   WHERE: constrained - No alternative but to lose 1/3 of its remaining self.
   SCOPE: local - Within the bounds of the unit line.
   
   WHY THIS CLASSIFICATION:
   The Cantor construction acts as a "Noose" for the interval's measure. 
   It extracts 100% of the length (extraction) while leaving behind a 
   set of the same cardinality (uncountable) as the original, creating 
   a "No-Exit" paradox of size vs. number.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    cantor_set_topology,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(cantor_set_topology, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(cantor_set_tests).

test(measure_vs_cardinality_variance) :-
    % Subject -> Mountain
    constraint_indexing:constraint_classification(cantor_set_topology, Type1, context(individual_powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(cantor_set_topology, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(measure_zero_noose) :-
    % The interval feels the "Noose" of its disappearing measure.
    constraint_indexing:constraint_classification(cantor_set_topology, noose, context(individual_powerless, immediate, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(cantor_set_topology).

:- end_tests(cantor_set_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: The Cantor set is a "Mountain" of logic, but the 
 * process is a "Noose" for measure. I chose this to highlight the 
 * "Epistemic Extraction" where cardinality is preserved while measure 
 * is destroyed.
 * 2. IMAGES: Triggered diagrams for the ternary construction and the 
 * "Devil's Staircase" to show how the "Noose" of measure zero creates 
 * a "Rope" of constant-gradient functions.
 * 3. EXTRACTIVENESS (0.3): While math is free, the Cantor set is the 
 * ultimate "extraction" of physical intuition (length).
 */

% OMEGA IDENTIFICATION
omega_variable(
    measure_preservation,
    "Can a 'Rope' (Fat Cantor Set) preserve measure while remaining nowhere dense?",
    resolution_mechanism("Verification of the Smith-Volterra-Cantor set construction."),
    impact("If Yes: The 'Noose' of measure zero is a choice, not a Mountain."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Fat Cantor Sets (Smith-Volterra-Cantor)
 * Viability: Removes segments of decreasing length such that the result 
 * has non-zero measure.
 * Suppression: Often ignored in introductory topology to emphasize the 
 * "Measure Zero" paradox.
 * Evidence: Standard in advanced real analysis.
 * * ALTERNATIVE 2: The Continuous Line
 * Status: The "Rope" that Cantor set destroys to prove its point.
 * * CONCLUSION:
 * The existence of "Fat Cantor Sets" proves that the "Noose" of measure 
 * zero is a specific parameter choice within a broader "Mountain" of 
 * recursive set theory.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [cantor_set_topology].
% Analyze: ?- constraint_indexing:multi_index_report(cantor_set_topology).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: cap_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Eric Brewer (2000) / Seth Gilbert & Nancy Lynch (2002)
% ============================================================================

:- module(constraint_cap_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: cap_theorem
 * human_readable: CAP Theorem (Brewer's Theorem)
 * domain: technological
 * temporal_scope: Permanent (Universal Laws of Distributed Computing)
 * spatial_scope: Global (Digital Networks)
 * * SUMMARY:
 * The CAP theorem states that any distributed data store can only provide two 
 * of three guarantees: Consistency (every read receives the most recent write), 
 * Availability (every request receives a response), and Partition Tolerance 
 * (the system continues to operate despite network failures). 
 * * KEY AGENTS:
 * - The Distributed Systems Architect: Analytical observer mapping the 
 * triangular trade-offs of data integrity.
 * - The Cloud Infrastructure Provider: Institutional agent offering specialized 
 * database "Ropes" (e.g., CP or AP systems) to developers.
 * - The On-Call Engineer: Individual powerless agent trapped by a network 
 * partition ("Split Brain") where the theorem acts as a Noose.
 * * NARRATIVE ARC:
 * CAP functions as a "Mountain" of logic—a fundamental law of information 
 * physics. For a CTO, it is a "Rope" used to coordinate design choices. 
 * However, during a network failure, it becomes a "Noose" for the SRE, 
 * as the theorem extracts the possibility of having both a working 
 * and an accurate system simultaneously.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(cap_theorem_interval, 0, 10).
narrative_ontology:constraint_claim(cap_theorem, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.4 (Moderate). The theorem extracts "system reliability." 
% It forces a cost where one must sacrifice either uptime or data 
% correctness, effectively "taxing" every distributed architecture.
domain_priors:base_extractiveness(cap_theorem, 0.4).

% Suppression score (0.0-1.0)
% Rationale: 0.7 (High). The "Perfect Database" (CAP-complete) is 
% physically and logically suppressed. The theorem renders the 
% alternative invisible to any viable engineering plan.
domain_priors:suppression_score(cap_theorem, 0.7).

% Enforcement requirements
% Emerges naturally from the physics of network latency and logic.
domain_priors:emerges_naturally(cap_theorem).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(cap_theorem, extractiveness, 0.4).
narrative_ontology:constraint_metric(cap_theorem, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(cap_theorem, [cloud_consultants, architectural_purity]).
constraint_victim(cap_theorem, [on_call_engineers, real_time_consistency_requirements]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE COMPUTER SCIENTIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal informational laws.
   WHEN: civilizational - Viewing the laws of logic as permanent.
   WHERE: trapped - Logic cannot bypass the pigeonhole-like limits of state.
   SCOPE: global - Universal computation.
   
   WHY THIS CLASSIFICATION:
   To the scientist, CAP is a Mountain. It is an unchangeable feature of the 
   computational "hardware" of the universe. No amount of innovation or 
   speed-of-light networking can bypass the fundamental impossibility of 
   having all three properties during a partition.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cap_theorem,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CTO / INFRASTRUCTURE LEAD - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to select technologies and define architecture.
   WHEN: biographical - Planning the 10-year growth of a platform.
   WHERE: arbitrage - Can choose different databases for different use cases.
   SCOPE: national - Corporate-wide infrastructure.
   
   WHY THIS CLASSIFICATION:
   For the architect, CAP is a Rope. It is a coordination mechanism. 
   By understanding the trade-offs, they can "tether" their business 
   to the right system (e.g., choosing "Availability" for a social feed 
   but "Consistency" for a bank ledger). It is a functional tool for 
   managing complexity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cap_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ON-CALL SRE - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the failure of the network.
   WHEN: immediate - 3 AM incident response.
   WHERE: trapped - The system is already built and the partition is happening.
   SCOPE: local - Immediate server cluster.
   
   WHY THIS CLASSIFICATION:
   For the engineer on call during a network split, CAP is a Noose. 
   They are forced to choose between a "lying" system (Consistency loss) 
   or a "broken" system (Availability loss). The theorem strangles their 
   ability to provide a perfect fix, extracting their time and sanity 
   while providing no escape.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cap_theorem,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(cap_theorem_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Powerless sees Noose
    constraint_indexing:constraint_classification(cap_theorem, mountain, context(analytical, civilizational, trapped, global)),
    constraint_indexing:constraint_classification(cap_theorem, rope, context(institutional, biographical, arbitrage, national)),
    constraint_indexing:constraint_classification(cap_theorem, noose, context(individual_powerless, immediate, trapped, local)).

test(power_extractiveness_reliability) :-
    % SREs feel the extraction of their agency during a failure (Noose).
    % CTOs use the theorem to justify budget and tech stack (Rope).
    domain_priors:base_extractiveness(cap_theorem, E),
    E >= 0.4.

test(time_immutability_logic) :-
    % Civilizational view of distributed logic = Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(cap_theorem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): CAP extracts the "ideal." It forces an energy 
 * and logic cost upon every system designer, preventing a "perfect" system.
 * 2. SUPPRESSION (0.7): High. Because the "Perfect System" is logically 
 * impossible, it is effectively suppressed from our reality.
 * 3. NOOSE LOGIC: Applied to the SRE because they are the "victims" of the 
 * theorem's trade-off when the physical world (network) breaks.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    pacelc_transition_cost,
    "To what extent can the PACELC extension (addressing latency vs consistency 
    when no partition exists) untie the CAP Noose (Rope), or is the cost 
    always a net-negative for complexity (Noose)?",
    resolution_mechanism("Monitor industry shift toward latency-aware 
    consistent databases"),
    impact("If Rope: The Noose is loosened during normal operation. 
    If Noose: Complexity just creates a different kind of trap."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: PACELC Theorem
 * Viability: High. Describes the trade-offs during normal operation 
 * (Latency vs. Consistency) as well as during partitions.
 * Suppression: None. It is a more detailed map of the same Mountain.
 * * CONCLUSION:
 * The CAP theorem remains a Mountain because there is no alternative that 
 * provides all three guarantees. It is a fundamental law of the digital 
 * universe.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_cap_theorem].
 * 2. Multi-perspective: ?- multi_index_report(cap_theorem).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: carbon_credit_markets_2026
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Deferential Realism: Core Principles v3.0 (Jan 2026)
% ============================================================================

:- module(constraint_carbon_credit_markets_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: carbon_credit_markets_2026
 * human_readable: International Carbon Credit Trading Schemes
 * domain: economic/technological/political
 * temporal_scope: 2020-2026+ (Active/Expanding)
 * spatial_scope: Global (International Markets)
 * * SUMMARY:
 * A market-based mechanism where entities buy and sell emission permits to meet 
 * climate targets. While designed for coordination, its experience varies 
 * drastically based on agent scale, ranging from an efficient tool for 
 * multinationals to an extractive "Noose" for climate activists.
 * * KEY AGENTS:
 * - Multinational Corp: High-power institutional manager using the system for ESG flexibility.
 * - Small Manufacturer: Moderate-power agent burdened by high verification/compliance costs.
 * - Individual Consumer: Powerless subject experiencing the system only as non-negotiable price shifts.
 * - Climate Activist: Analytical observer viewing the system as extractive greenwashing.
 * * NARRATIVE ARC:
 * Originally conceived as a "Rope" for global coordination, the system has 
 * accumulated extractive "barnacles," moving toward a "Tangled Rope" or "Noose" 
 * as financial middlemen capture value while climate benefits remain debated.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(carbon_credit_markets_2026_int, 0, 10).
narrative_ontology:constraint_claim(carbon_credit_markets_2026, rope).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: System favors large incumbents and financial intermediaries (0.52-0.68 range in source).
domain_priors:base_extractiveness(carbon_credit_markets_2026, 0.55).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: Alternatives like carbon taxes or direct regulation are politically sidelined (suppressed).
domain_priors:suppression_score(carbon_credit_markets_2026, 0.60).

% Enforcement requirements
domain_priors:requires_active_enforcement(carbon_credit_markets_2026).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(carbon_credit_markets_2026, extractiveness, 0.55).
narrative_ontology:constraint_metric(carbon_credit_markets_2026, suppression_requirement, 0.60).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(carbon_credit_markets_2026, multinational_corporations).
constraint_beneficiary(carbon_credit_markets_2026, financial_trading_firms).
constraint_victim(carbon_credit_markets_2026, small_businesses).
constraint_victim(carbon_credit_markets_2026, developing_nations).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Multinational Corporation - Rope
   --------------------------------------------------------------------------
   WHO: institutional_manager (High power, scale advantage)
   WHEN: generational (Long-term ESG planning)
   WHERE: fluid (Can shift assets/offsets globally)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For large entities, the system is a functional coordination mechanism that 
   allows for flexible compliance and sustainability investment rewards.
   
   NARRATIVE EVIDENCE:
   "Yes - it's an efficient coordination mechanism that rewards our 
   sustainability investments." (Index 1)
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    carbon_credit_markets_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Individual Consumer - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless (No market influence)
   WHEN: biographical (Immediate price impacts)
   WHERE: trapped (Cannot opt out of energy/good pricing)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   The consumer has zero degrees of freedom; carbon-adjusted prices are 
   encountered as naturalized facts, much like the weather or gravity.
   
   NARRATIVE EVIDENCE:
   "Irrelevant - prices just exist, we have no influence." (Index 3)
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    carbon_credit_markets_2026,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Climate Activist - Noose
   --------------------------------------------------------------------------
   WHO: analytical_observer (External critic)
   WHEN: historical (Century-scale climate impact)
   WHERE: analytical (Unconstrained by market participation)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   Seen as a highly extractive mechanism (κ=0.68) that delays real change 
   while enriching middlemen at the expense of the environment.
   
   NARRATIVE EVIDENCE:
   "No - it's extractive greenwashing that delays real action while 
   enriching financial middlemen." (Index 4)
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    carbon_credit_markets_2026,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(carbon_credit_markets_2026_tests).

test(multi_perspective_variance) :-
    % Corp sees Rope
    constraint_indexing:constraint_classification(carbon_credit_markets_2026, rope, 
        context(institutional, generational, mobile, global)),
    % Consumer sees Mountain
    constraint_indexing:constraint_classification(carbon_credit_markets_2026, mountain, 
        context(individual_powerless, biographical, trapped, local)),
    % Activist sees Noose
    constraint_indexing:constraint_classification(carbon_credit_markets_2026, noose, 
        context(analytical, historical, analytical, global)).

test(power_extractiveness_scaling) :-
    % Powerless consumer sees it as unchangeable (Mountain)
    % Powerful manager sees it as a tool (Rope)
    % Demonstrates that agency reduces the 'weight' of the constraint
    true.

test(ontological_fraud_detection) :-
    % Test if the claim of "natural market efficiency" holds up
    domain_priors:suppression_score(carbon_credit_markets_2026, S),
    S > 0.5, % Evidence of alternative suppression
    domain_priors:base_extractiveness(carbon_credit_markets_2026, E),
    E > 0.4. % Evidence of extraction

:- end_tests(carbon_credit_markets_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.55): Chose the midpoint of the "Small Business" (0.52) 
 * and "Activist" (0.68) perspectives. While multinationals see low extraction, 
 * the systemic trend is upward (+0.02/yr).
 * 2. PERSPECTIVE SELECTION: Included the Institutional (Corp), Powerless (Consumer), 
 * and Analytical (Activist) to show the widest possible spread across the 
 * Mountain/Rope/Noose spectrum.
 * 3. TANGLED ROPE STATUS: While the classifications use the three primary types, 
 * the system-wide claim is marked as 'tangled_rope' to reflect the source's 
 * insistence on this fifth category for "coordination with barnacles."
 * * CONFIDENCE:
 * High: Indexical variance (well-documented in source).
 * Medium: Specific κ scores (require more empirical data on current trading fees).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    climate_efficacy_omega,
    "Do carbon credits actually reduce net global emissions or merely relocate them?",
    resolution_mechanism("Decade-scale empirical atmospheric carbon mapping vs. credit retirement audits."),
    impact("If true reduction: Rope/Tangled Rope. If net zero/negative: Pure Noose/Zombie."),
    confidence_without_resolution(low)
).

omega_variable(
    middleman_rent_capture,
    "What percentage of credit value is lost to financial intermediaries vs. project funding?",
    resolution_mechanism("Mandatory transparency in secondary market trading spreads."),
    impact("High capture shifts the system definitively from Tangled Rope to Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Universal Carbon Tax
 * Viability: Higher transparency, lower administrative overhead.
 * Suppression: Actively lobbied against by financial sectors favoring tradable markets.
 * * ALTERNATIVE 2: Direct Command-and-Control Regulation
 * Viability: Guaranteed emission caps.
 * Suppression: Rejected as "economically inefficient" by institutional managers.
 * * CONCLUSION:
 * The existence of suppressed alternatives with lower extraction signatures 
 * shifts the classification toward NOOSE/TANGLED ROPE for most non-institutional agents.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: carrying_capacity
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ecological Economics / Population Biology / Malthus (1798)
% ============================================================================

:- module(constraint_carrying_capacity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: carrying_capacity
 * human_readable: Carrying Capacity (K)
 * domain: economic/technological/social
 * temporal_scope: Permanent (Biological and Physical Reality)
 * spatial_scope: Global (Ecosystemic)
 * * SUMMARY:
 * Carrying capacity represents the maximum population size of a species that 
 * a specific environment can sustain indefinitely without degrading the 
 * resource base. It acts as a structural limit where the extraction of 
 * resources meets the biological rate of renewal, defining the boundary 
 * between sustainable existence and ecological collapse.
 * * KEY AGENTS:
 * - The Population Biologist (Analytical): Observes the logistic growth 
 * curve and the inevitable leveling of the population as it approaches K.
 * - The Resource Manager (Institutional): Uses carrying capacity as a "Rope" 
 * to coordinate extraction limits (e.g., fishing quotas, urban planning).
 * - The Subsistence Inhabitant (Individual Powerless): Experiences K as a 
 * "Noose" that strangles growth and extracts life quality when 
 * resources are over-appropriated by others.
 * * NARRATIVE ARC:
 * Carrying capacity functions as a "Mountain" of physical reality—the 
 * hardware limits of the local energy and matter budget. For the 
 * conservationist, it is a "Rope" for collective coordination (preserving 
 * the future). However, in a state of overshoot, it becomes a "Noose" 
 * for the individual, where the scarcity of food or space extracts 
 * survival capacity until the population is forcibly corrected.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for extraction
narrative_ontology:interval(carrying_capacity_interval, 0, 10).
narrative_ontology:constraint_claim(carrying_capacity, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: High (0.7). Approaching or exceeding carrying capacity extracts 
% the health of the ecosystem and the future viability of the population. 
% It extracts current metabolic energy to pay for the "debt" of overpopulation.
domain_priors:base_extractiveness(carrying_capacity, 0.7).

% Suppression score (0.0-1.0)
% Rationale: High (0.6). The physical limit suppresses the alternative of 
% "Infinite Growth." While the growth fantasy is visible, the biophysical 
% reality punishes those who ignore it, suppressing long-term non-compliance.
domain_priors:suppression_score(carrying_capacity, 0.6).

% Enforcement requirements
% The limit emerges naturally from thermodynamics; institutionalizing it 
% requires active political enforcement (e.g., quotas).
domain_priors:emerges_naturally(carrying_capacity).
domain_priors:requires_active_enforcement(carrying_capacity).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(carrying_capacity, extractiveness, 0.7).
narrative_ontology:constraint_metric(carrying_capacity, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(carrying_capacity, [long_term_survivors, ecosystem_stability]).
constraint_victim(carrying_capacity, [over_expanding_populations, marginalized_resource_users]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ECOLOGIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the thermodynamic and biological substrate.
   WHEN: civilizational - Viewing species survival over thousands of years.
   WHERE: trapped - Logic and biology cannot bypass the caloric limits of land.
   SCOPE: global - Universal to all life-support systems.
   
   WHY THIS CLASSIFICATION:
   To the scientist, carrying capacity is a Mountain. It is an unchangeable 
   feature of the environment's hardware. You cannot "innovate" past the 
   photosynthetic limit of a plot of land or the freshwater recharge rate of 
   an aquifer; they are fixed peaks in the topography of what is possible.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    carrying_capacity,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE FISHERIES MANAGER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define and enforce catch limits.
   WHEN: biographical - Managing a specific industry over a 30-year career.
   WHERE: arbitrage - Can shift between different resource pools or technologies.
   SCOPE: regional - Specific coastal or national waters.
   
   WHY THIS CLASSIFICATION:
   For the institutional manager, carrying capacity is a Rope. It is a 
   functional coordination mechanism. By quantifying "Maximum Sustainable 
   Yield," they pull the industry toward a stable future, using the 
   constraint as a tether to prevent a "Tragedy of the Commons."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    carrying_capacity,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(carrying_capacity, E),
    E > 0.4, % Managed extraction of resource surplus
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE URBAN SLUM DWELLER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to high density and resource scarcity.
   WHEN: immediate - Today's access to clean water and food.
   WHERE: constrained - Limited by poverty and lack of land ownership.
   SCOPE: local - Immediate neighborhood/slum.
   
   WHY THIS CLASSIFICATION:
   For the person living in an over-capacity urban environment, K is a Noose. 
   The extraction of space and clean air has turned their environment into 
   a trap. As more people compete for the same fixed resources, the Noose of 
   scarcity tightens, strangling their health and economic survival.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    carrying_capacity,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(carrying_capacity, E),
    E > 0.6, % Severe extraction of life quality
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(carrying_capacity_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Powerless sees Noose
    constraint_indexing:constraint_classification(carrying_capacity, mountain, context(analytical, civilizational, trapped, global)),
    constraint_indexing:constraint_classification(carrying_capacity, rope, context(institutional, biographical, arbitrage, regional)),
    constraint_indexing:constraint_classification(carrying_capacity, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_resource) :-
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, regional),
    constraint_indexing:extractiveness_for_agent(carrying_capacity, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(carrying_capacity, ContextPowerful, Score2),
    Score1 > Score2.

:- end_tests(carrying_capacity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.7):
 * Carrying capacity is fundamentally about the limits of extraction. In 
 * overshoot, the environment extracts "life" to return to equilibrium. 
 * This is an asymmetric process where those with power often outsource 
 * the extraction to the powerless.
 * * 2. PERSPECTIVE SELECTION:
 * Selected the Ecologist (Law), the Resource Manager (Tool), and the 
 * Slum Dweller (Victim) to highlight the indexical shift from "Math" 
 * to "Policy" to "Suffering."
 * * 3. NOOSE LOGIC:
 * Applied to the "Urban Slum" context, where density and resource limits 
 * create a literal physical trap for those who cannot afford to leave.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    technological_k_expansion,
    "Can technology permanently expand the planetary carrying capacity 
    (Mountain), or does it merely create a 'Scaffold' that eventually 
    collapses?",
    resolution_mechanism("Long-term tracking of resource replenishment rates 
    vs. technological throughput"),
    impact("If Mountain: We can grow indefinitely. If Scaffold: The Noose is 
    just hidden for now."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Circular Economy
 * Viability: Theoretically lowers the throughput required to sustain 
 * a population, effectively raising the functional K.
 * Suppression: Moderate. Often suppressed by "Linear Growth" interests 
 * that profit from rapid resource extraction and waste.
 * * CONCLUSION:
 * The existence of circular alternatives that are socially suppressed 
 * confirms that for the individual, Carrying Capacity is often a Noose 
 * that could be loosened through better systemic design.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_carrying_capacity].
 * 2. Multi-perspective: ?- multi_index_report(carrying_capacity).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: cbdc_implementation
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Indexical Relativity Applied to Central Bank Digital Currencies
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_cbdc, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: cbdc_implementation
 * human_readable: Central Bank Digital Currency (CBDC)
 * domain: economic/technological/political
 * temporal_scope: Future/Emerging (2024-2030)
 * spatial_scope: National/Global
 * * SUMMARY:
 * CBDCs represent the ultimate evolution of indexical relativity in money. By 
 * digitizing the ledger at the central bank level, the "Rope" of monetary 
 * coordination becomes programmable, allowing the state to toggle between 
 * facilitation and total enforcement (Noose) for specific agent classes.
 * * KEY AGENTS:
 * - State/Central Bank: The architect seeking granular control of velocity.
 * - Retail User: The individual subject to programmable spending/expiry dates.
 * - Non-Compliant Agent: The outlier facing automated exclusion from the ledger.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(cbdc_deployment, 0, 10).

% The system is claimed as a ROPE by its designers.
narrative_ontology:constraint_claim(cbdc_implementation, rope).

% Base extractiveness score (0.8)
% Rationale: High potential for automated extraction via negative rates or 
% programmable expiry dates (demurrage).
domain_priors:base_extractiveness(cbdc_implementation, 0.8).

% Suppression score (0.7)
% Rationale: Active phasing out of cash to ensure ledger capture.
domain_priors:suppression_score(cbdc_implementation, 0.7).

domain_priors:requires_active_enforcement(cbdc_implementation).

% Metrics for DR-Audit
narrative_ontology:constraint_metric(cbdc_implementation, extractiveness, 0.8).
narrative_ontology:constraint_metric(cbdc_implementation, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(cbdc_implementation, [central_banks, fiscal_authorities]).
constraint_victim(cbdc_implementation, [privacy_conscious_citizens, savers]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: The Retail User - Noose
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    cbdc_implementation,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(cbdc_implementation, E),
    E > 0.7, % High extraction + trapped = Noose
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: The Monetary Authority - Rope
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    cbdc_implementation,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The System Dissident - Mountain
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    cbdc_implementation,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(cbdc_implementation, S),
    S > 0.6,
    !.

/* ==========================================================================
   4. TESTS (Mandatrophy Resolution)
   ========================================================================== */

:- begin_tests(cbdc_implementation_tests).

test(multi_perspective_variance) :-
    % Test that high extraction (0.8) is resolved through indexical shift
    constraint_indexing:constraint_classification(cbdc_implementation, Type1, 
        context(individual_powerless, immediate, trapped, national)),
    constraint_indexing:constraint_classification(cbdc_implementation, Type2, 
        context(institutional, historical, arbitrage, global)),
    Type1 = noose,
    Type2 = rope.

test(extraction_indexing) :-
    % Verify that the high base_extractiveness is accurately reflected in the Noose
    domain_priors:base_extractiveness(cbdc_implementation, E),
    E == 0.8.

:- end_tests(cbdc_implementation_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * [RESOLVED MANDATROPHY]: The high extraction score of 0.8 is not a systemic 
 * error but an indexical reality for powerless agents trapped in the ledger. 
 * By classifying the Institutional view as a ROPE, we demonstrate the functional 
 * utility for the architect, while the individual's NOOSE classification 
 * accounts for the extraction.
 * * OMEGAS:
 * omega_variable(programmable_intent,
 * "Is the high extractiveness an unintended byproduct or a primary design goal?",
 * resolution_mechanism("Analyze ledger code for 'hard-coded' vs 'dynamic' expiry parameters"),
 * impact("If hard-coded: Pure Noose. If dynamic: Potentially a Rope under high-trust conditions."),
 * confidence_without_resolution(low)
 * ).
 */

/* ==========================================================================
   6. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE:
 * ?- [constraint_cbdc].
 * ?- run_tests(cbdc_implementation_tests).
 */
% ============================================================================
% CONSTRAINT STORY: central_limit_theorem_convergence
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Laplace (1810) / Lyapunov / Probability Theory
% ============================================================================

:- module(constraint_clt, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: central_limit_theorem_convergence
 * human_readable: Central Limit Theorem (CLT)
 * domain: mathematical/probabilistic
 * temporal_scope: 1810 - Present (Civilizational)
 * spatial_scope: Global/Abstract (IID variables with finite variance)
 * * SUMMARY:
 * The Central Limit Theorem (CLT) establishes that the sum or average of a 
 * large number of independent and identically distributed (IID) variables 
 * will follow a normal distribution, regardless of the original distribution. 
 * It is the "gravitational force" of statistics.
 * * KEY AGENTS:
 * - The Individual Variable (Subject): The powerless agent whose unique 
 * distributional identity is lost as it is summed into the aggregate.
 * - The Statistician (Institutional): Uses the theorem as a "Rope" for 
 * inference, polling, and scientific verification.
 * - The Risk Manager (Victim): An agent who treats the CLT as a "Mountain" 
 * in a heavy-tailed world (finance), only to find it was a "Noose" that 
 * hid catastrophic "Black Swan" risks.
 * * NARRATIVE ARC:
 * CLT is the "Mountain" of equilibrium—the bell curve is the inevitable 
 * destiny of high-n aggregates. For the scientific community, it is the 
 * "Rope" that coordinates shared reality through p-values. However, when 
 * variance is infinite or dependencies are hidden, the "Mountain" collapses 
 * into a "Noose" of false confidence.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(clt_era, 1810, 2026).
narrative_ontology:constraint_claim(central_limit_theorem_convergence, mountain).

% Base extractiveness: 0.25
% Rationale: Moderate. The CLT "extracts" the specific identity and 
% "roughness" of individual data points to provide the "smooth" aggregate.
domain_priors:base_extractiveness(central_limit_theorem_convergence, 0.25).

% Suppression score: 0.35
% Rationale: It suppresses the visibility of underlying distributions (e.g., 
% Uniform, Poisson) in favor of the Gaussian approximation.
domain_priors:suppression_score(central_limit_theorem_convergence, 0.35).

% Enforcement: Emerges naturally from the structure of addition and probability.
domain_priors:emerges_naturally(central_limit_theorem_convergence).

% Metrics
narrative_ontology:constraint_metric(central_limit_theorem_convergence, extractiveness, 0.25).
narrative_ontology:constraint_metric(central_limit_theorem_convergence, suppression_requirement, 0.35).

% Beneficiaries & Victims
constraint_beneficiary(central_limit_theorem_convergence, data_scientists).
constraint_beneficiary(central_limit_theorem_convergence, pollsters).
constraint_victim(central_limit_theorem_convergence, outlier_detection). % Outliers are "smoothed" away.
constraint_victim(central_limit_theorem_convergence, tail_risk_analysts).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RANDOM VARIABLE - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The data point has no agency over the summation.
   WHEN: immediate - True at the moment n becomes large.
   WHERE: trapped - Bound within the laws of large numbers.
   SCOPE: local - Immediate neighborhood of the aggregate mean.
   
   WHY THIS CLASSIFICATION:
   For the individual number being summed, the normal distribution is a 
   natural law. It cannot "choose" to stay skewed or uniform; it must converge 
   to the bell curve.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    central_limit_theorem_convergence,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE POLLING FIRM - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design samples and set margins of error.
   WHEN: biographical - Planning the lifecycle of a study or campaign.
   WHERE: mobile - Can choose different sample sizes to tune precision.
   SCOPE: national - Applying the theorem to millions of voters.
   
   WHY THIS CLASSIFICATION:
   For the institution, CLT is a "Rope"—a functional coordination tool. 
   It allows them to calculate "standard error" and coordinate national 
   expectations of reality.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    central_limit_theorem_convergence,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE FINANCIAL TRADER (FAT TAILS) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Trapped by a model assuming Gaussian normality.
   WHEN: immediate - A crash occurs that CLT says "should never happen."
   WHERE: constrained - The agent is legally or financially bound to Gaussian models (VaR).
   SCOPE: global - Contagion across global markets.
   
   WHY THIS CLASSIFICATION:
   When the assumptions of CLT (finite variance/independence) are broken but 
   the model is still enforced, it becomes a "Noose." It extracts massive 
   wealth during a "Fat Tail" event, strangling the system that relied on 
   the "Mountain" of the bell curve.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    central_limit_theorem_convergence,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(central_limit_theorem_convergence, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(clt_convergence_tests).

test(aggregation_fate_variance) :-
    % Variable -> Mountain
    constraint_indexing:constraint_classification(central_limit_theorem_convergence, Type1, context(individual_powerless, immediate, trapped, local)),
    % Scientist -> Rope
    constraint_indexing:constraint_classification(central_limit_theorem_convergence, Type2, context(institutional, biographical, mobile, national)),
    Type1 = mountain,
    Type2 = rope.

test(fat_tail_noose_penalty) :-
    % A powerless agent in a global/constrained context (like VaR modeling) sees it as a Noose.
    constraint_indexing:constraint_classification(central_limit_theorem_convergence, noose, context(individual_powerless, immediate, constrained, global)).

test(emergence) :-
    domain_priors:emerges_naturally(central_limit_theorem_convergence).

:- end_tests(clt_convergence_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. TYPE VARIANCE: Captured the dual nature of CLT as a "Mountain" of physics 
 * (Galton Board) and a "Noose" of risk management (Black Swans).
 * 2. AGENT SELECTION: Labeled the individual data point as the powerless 
 * subject. Its "erasure" via smoothing is the core extractive act of the CLT.
 * 3. EXTRACTIVENESS: Set to 0.25—low in isolation, but high when outliers are 
 * the only things that matter (e.g., in pandemics or market crashes).
 */

% OMEGA IDENTIFICATION
omega_variable(
    independence_assumption,
    "Is the 'Mountain' stable if data points are secretly correlated?",
    resolution_mechanism("Measure the divergence of the aggregate from the Normal via the Berry-Esseen theorem."),
    impact("If Correlated: The Mountain is a Scaffold. If Independent: It is a true Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Stable Paretian Distributions (Levy Flights)
 * Viability: For infinite variance systems, these are the "true" Mountains.
 * Suppression: Often ignored in introductory stats because the math is "hard."
 * * ALTERNATIVE 2: Bayesian Non-Parametrics
 * Viability: Avoids the "Rope" of Gaussian assumptions entirely.
 * Suppression: Suppressed by the "Standard" p-value curriculum in universities.
 * * CONCLUSION:
 * The institutional "Rope" of the CLT is so strong that it suppresses more 
 * accurate "Fat Tailed" alternatives, creating a "Noose" for complex systems.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [central_limit_theorem_convergence].
% Analyze: ?- constraint_indexing:multi_index_report(central_limit_theorem_convergence).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: chaitins_omega_undecidability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Gregory Chaitin (1975) / Algorithmic Information Theory
% ============================================================================

:- module(constraint_chaitins_omega, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: chaitins_omega_undecidability
 * human_readable: Chaitin's Constant (Halting Probability)
 * domain: technological/mathematical
 * temporal_scope: 1975 - Present
 * spatial_scope: Global/Abstract (Universal Computation)
 * * SUMMARY:
 * Chaitin's Constant ($\Omega$) represents the probability that a randomly 
 * constructed program on a universal Turing machine will halt. It is a 
 * "definable but uncomputable" number, embodying the absolute limit of 
 * mathematical compression and predictability.
 * * KEY AGENTS:
 * - The Random Bitstring: A powerless agent whose destiny (halting or not) is 
 * encoded in $\Omega$, but remains unreachable.
 * - The Complexity Researcher: An institutional agent using Algorithmic 
 * Information Theory as a "Rope" to coordinate the limits of AI and data.
 * - The Provability Seeker: An individual moderate agent for whom $\Omega$ is 
 * a "Noose," as its digits are mathematically "random" and unprovable.
 * * NARRATIVE ARC:
 * Chaitin's $\Omega$ is the ultimate "Mountain" of irreducible randomness; it 
 * is a specific, fixed real number that no algorithm can ever fully name. In 
 * theoretical computer science, it is a "Rope"—a benchmark for the absolute 
 * limits of compression. However, for a mathematician seeking a 
 * "Theory of Everything," $\Omega$ is a "Noose" that extracts the 
 * possibility of total formal logical completeness, proving that most 
 * mathematical truths are true for no reason at all.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(chaitin_era, 1975, 2026).
narrative_ontology:constraint_claim(chaitins_omega_undecidability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. It "extracts" the hope for a finite, universal compressed 
% description of mathematics, forcing a permanent tax of irreducible complexity.
domain_priors:base_extractiveness(chaitins_omega_undecidability, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the visibility of "Elegant Theories" by 
% proving that most truths have no shorter description than themselves.
domain_priors:suppression_score(chaitins_omega_undecidability, 0.3).

% Enforcement: Emerges naturally from the interaction of halting and measure.
domain_priors:emerges_naturally(chaitins_omega_undecidability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(chaitins_omega_undecidability, extractiveness, 0.2).
narrative_ontology:constraint_metric(chaitins_omega_undecidability, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(chaitins_omega_undecidability, algorithmic_information_theory).
constraint_victim(chaitins_omega_undecidability, formal_logic_completeness).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE TURING MACHINE PROGRAM - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The program cannot "know" its own halting probability.
   WHEN: immediate - The property is true the moment the program is defined.
   WHERE: trapped - Bound within the logical bounds of Kolmogorov complexity.
   SCOPE: local - Immediate execution behavior.
   
   WHY THIS CLASSIFICATION:
   For an individual program, the value of $\Omega$ is an unyielding law. 
   Whether it halts or not is a fixed, albeit uncomputable, feature of the 
   computational landscape. There is zero agency to deviate from this 
   transfinite "Mountain."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    chaitins_omega_undecidability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE DATA SCIENTIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design compression standards and AI limits.
   WHEN: biographical - Spanning the creation of a global compression protocol.
   WHERE: mobile - Can choose different universal languages or prefixes.
   SCOPE: global - Universal application in information theory.
   
   WHY THIS CLASSIFICATION:
   For the institutional actor, $\Omega$ is a "Rope"—a tool for functional 
   coordination. It provides the "standard of achievement" for what constitutes 
   perfect compression, allowing researchers to coordinate the boundary 
   between "pattern" and "noise."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    chaitins_omega_undecidability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HILBERT-STYLE LOGICIAN - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools of proof but is bound by unprovability.
   WHEN: civilizational - Seeking a complete, consistent theory of everything.
   WHERE: constrained - No alternative but to accept irreducible randomness.
   SCOPE: global - Universal limit on formal systems.
   
   WHY THIS CLASSIFICATION:
   For the seeker of total provability, $\Omega$ is a "Noose." It "strangles" 
   the dream of Leibniz and Hilbert that "reason can solve everything." 
   It extracts the possibility of finding proofs for the digits of $\Omega$, 
   showing they are "true for no reason" (extraction).
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    chaitins_omega_undecidability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(chaitins_omega_undecidability, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(chaitins_omega_undecidability_tests).

test(multi_perspective_variance) :-
    % Program -> Mountain
    constraint_indexing:constraint_classification(chaitins_omega_undecidability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Researcher -> Rope
    constraint_indexing:constraint_classification(chaitins_omega_undecidability, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(randomness_noose_insight) :-
    % Demonstrates that for the logician, the randomness of Omega is a Noose
    constraint_indexing:constraint_classification(chaitins_omega_undecidability, noose, context(individual_moderate, civilizational, constrained, global)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(chaitins_omega_undecidability).

:- end_tests(chaitins_omega_undecidability_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.2): 
 * Chose this because $\Omega$ "extracts" the possibility of total deductive 
 * satisfaction, replacing it with the "tax" of irreducible complexity.
 * 2. CLASSIFICATION RATIONALE: 
 * Chose Program (Passive), Data Scientist (Active/Tool), and Logician 
 * (Victim of Randomness) to show how "Incompleteness" shifts in value.
 * 3. OMEGA IDENTIFICATION: 
 * Formalized the "Theory of Everything" uncertainty—does a higher Rope 
 * exist that makes $\Omega$ less random?
 */

% YOUR OMEGAS HERE:
omega_variable(
    algorithmic_randomness_resolution,
    "Is there a physical 'Rope' that allows for the non-random determination of Omega's bits?",
    resolution_mechanism("Investigation of hyper-computational physics or non-standard models of arithmetic."),
    impact("If Yes: The Noose is a Scaffold. If No: It is a permanent Mountain."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Infinite Time Turing Machines
 * Viability: Can compute $\Omega$ in transfinite time.
 * Suppression: Rejected by the "Mountain" of physical reality and standard 
 * Turing limits.
 * * ALTERNATIVE 2: Purely Finitist Mathematics
 * Viability: Ignoring transfinite numbers/probabilities entirely.
 * Suppression: Replaced by the "Rope" of information theory because 
 * $\Omega$ is necessary to understand the bounds of compression.
 * * CONCLUSION:
 * The existence of "transfinite time" models proves that the "Noose" of 
 * uncomputability is a feature of our specific "Turing" Mountain.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [chaitins_omega_undecidability].
 * 2. Multi-perspective: ?- multi_index_report(chaitins_omega_undecidability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: challenger_o_ring_integrity
% ============================================================================
% Revised: 2026-01-20 (v3.1 Hardened Standard)
% Source: Rogers Commission Report / Engineering Analysis
% ============================================================================

:- module(constraint_challenger_integrity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:omega_variable/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_metric/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: challenger_o_ring_integrity
 * human_readable: Challenger SRB O-Ring Integrity
 * domain: technological/institutional
 * temporal_scope: 1986-01-28
 * spatial_scope: Kennedy Space Center, FL
 * * SUMMARY:
 * The disaster was caused by the failure of O-ring seals due to record-low 
 * temperatures. While a physical limit (Mountain), 
 * it became a "Noose" due to the "normalization of deviance" in NASA 
 * management.
 * * KEY AGENTS:
 * - SRB_O_Rings: Thermodynamics (Mountain).
 * - NASA_Management: Institutional; schedule coordination (Rope).
 * - STS_51_L_Crew: Individual powerless; trapped by override (Noose).
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor
narrative_ontology:interval(challenger_o_ring_integrity, 1986, 1986).

% Base extractiveness: 0.8. 
% Rationale: Extreme extraction of safety margin to fulfill institutional mandates.
domain_priors:base_extractiveness(challenger_o_ring_integrity, 0.8).
domain_priors:suppression_score(challenger_o_ring_integrity, 0.7).
domain_priors:requires_active_enforcement(challenger_o_ring_integrity).

% Beneficiaries & Victims
narrative_ontology:constraint_beneficiary(challenger_o_ring_integrity, institutional_schedule).
narrative_ontology:constraint_victim(challenger_o_ring_integrity, sts_51_l_crew).

% v3.1 Corrected Metrics
narrative_ontology:constraint_metric(challenger_o_ring_integrity, extractiveness, 0.8).
narrative_ontology:constraint_metric(challenger_o_ring_integrity, suppression_requirement, 0.7).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Engineering/Physics - MOUNTAIN
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    challenger_o_ring_integrity, 
    mountain, 
    context(
        agent_power(analytical),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: NASA Management - ROPE
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    challenger_o_ring_integrity, 
    rope, 
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: STS-51-L Crew - NOOSE
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    challenger_o_ring_integrity, 
    noose, 
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(challenger_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(challenger_o_ring_integrity, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(challenger_o_ring_integrity, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2.

:- end_tests(challenger_tests).

/* ==========================================================================
   5. OMEGA VARIABLES (Ω)
   ========================================================================== */

narrative_ontology:omega_variable(
    normalization_of_deviance_threshold,
    "At what point does an incremental 'Rope' adjustment become a catastrophic 'Noose'?",
    resolution_mechanism("Post-hoc analysis of safety waiver trends vs. hardware failure rates"),
    impact("If identified: Predicts system collapse. If unknown: Ensures surprise catastrophe."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES: Launch Postponement
 * Suppression: Suppressed by political schedule pressure and the 'Teacher in Space' PR goal.
 */

intent_viable_alternative(challenger_o_ring_integrity, postponement, 'Delay launch for temperature rise').
intent_alternative_rejected(challenger_o_ring_integrity, postponement, 'Schedule pressure and funding fears').

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: china_critical_mineral_chokepoint
% ============================================================================
% Revised: 2026-01-20 (v3.1 Hardened Standard)
% Source: Global Supply Chain Analysis / Geopolitical Strategy
% ============================================================================

:- module(constraint_critical_minerals, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:omega_variable/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_metric/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: china_critical_mineral_chokepoint
 * human_readable: China Critical Mineral Chokepoint
 * domain: economic/technological/political
 * temporal_scope: 2010-Present
 * spatial_scope: Global
 * * SUMMARY:
 * China's dominance over the processing and supply of critical minerals creates 
 * a global strategic chokepoint. 
 * While based on geology (Mountain), it functions as an instrument of 
 * diplomatic leverage (Rope/Noose).
 * * KEY AGENTS:
 * - Tech_Defense_Industry: Powerless; dependent on supply chain (Mountain).
 * - Chinese_State_Planning: Institutional; uses dominance for coordination (Rope).
 * - Downstream_Manufacturers: Individual; margins extracted by quotas (Noose).
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor for System Extraction
narrative_ontology:interval(china_critical_mineral_chokepoint, 2010, 2026).

% Base extractiveness: 0.85. 
% Rationale: High strategic extraction via value-chain dominance.
domain_priors:base_extractiveness(china_critical_mineral_chokepoint, 0.85).
domain_priors:suppression_score(china_critical_mineral_chokepoint, 0.70).
domain_priors:requires_active_enforcement(china_critical_mineral_chokepoint).

% Beneficiaries & Victims
narrative_ontology:constraint_beneficiary(china_critical_mineral_chokepoint, state_industrial_planners).
narrative_ontology:constraint_victim(china_critical_mineral_chokepoint, downstream_tech_manufacturers).

% v3.1 Corrected Metrics
narrative_ontology:constraint_metric(china_critical_mineral_chokepoint, extractiveness, 0.85).
narrative_ontology:constraint_metric(china_critical_mineral_chokepoint, suppression_requirement, 0.70).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Geological/Infrastructure Analyst - MOUNTAIN
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    china_critical_mineral_chokepoint, 
    mountain, 
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Diplomatic/State Actor - ROPE
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    china_critical_mineral_chokepoint, 
    rope, 
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Downstream Firm - NOOSE
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    china_critical_mineral_chokepoint, 
    noose, 
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(critical_mineral_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(china_critical_mineral_chokepoint, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(china_critical_mineral_chokepoint, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2.

:- end_tests(critical_mineral_tests).

/* ==========================================================================
   5. OMEGA VARIABLES (Ω)
   ========================================================================== */

narrative_ontology:omega_variable(
    artificial_scarcity_threshold,
    "Is the chokepoint a result of physical depletion (Mountain) or managed market access (Rope/Noose)?",
    resolution_mechanism("Audit of export quota adjustments vs. global geological reserve reports"),
    impact("If Mountain: Requires deep-sea/extra-planetary mining. If Noose: Requires trade reform."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES: Supply Chain Diversification (Friend-shoring)
 * Suppression: Suppressed by Chinese economies of scale and environmental regulatory advantages.
 */

intent_viable_alternative(china_critical_mineral_chokepoint, diversification, 'Development of domestic processing capacity').
intent_alternative_rejected(china_critical_mineral_chokepoint, diversification, 'Prohibitive capital costs and environmental lead times').

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: china_taiwan_reunification_mandate
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: PRC 2022/2025 White Papers, "Great Rejuvenation" 2049 Mandate
% ============================================================================

:- module(constraint_china_reunification, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: china_taiwan_reunification_mandate
 * human_readable: The Mandate of National Rejuvenation (PRC Perspective)
 * domain: political/national_identity
 * temporal_scope: 1949–2049 (Centenary Goal)
 * spatial_scope: People's Republic of China / Taiwan Strait
 * * SUMMARY:
 * From the perspective of Beijing, the reunification with Taiwan is not a 
 * strategic choice but a historical necessity and a "core interest" that 
 * cannot be passed down across generations. It is the final step in ending 
 * the "Century of Humiliation" and achieving the "Great Rejuvenation of the 
 * Chinese Nation" by the 2049 centenary.
 * * KEY AGENTS:
 * - PRC Leadership (CCP): Institutional; views reunification as a structural 
 * requirement for the legitimacy of the Chinese Dream.
 * - Mainland Citizen: Individual powerless; socialized to view the "One China" 
 * principle as a natural law of history rather than a policy.
 * - PLA Strategist: Institutional/Analytical; manages the "Noose" of military 
 * deterrence to prevent the "Mountain" of sovereignty from being challenged.
 * * NARRATIVE ARC:
 * The policy has shifted from a "Rope" of peaceful economic integration and 
 * the "1992 Consensus" to a rigid "Mountain" of historical inevitability. 
 * As the 2049 deadline approaches, the "Rope" of "One Country, Two Systems" 
 * is increasingly reinforced by the "Noose" of military exercises like 
 * "Justice Mission 2025" to suppress any deviation from the mandate.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the Deferential Realism suite
narrative_ontology:interval(rejuvenation_centenary_cycle, 0, 10).
narrative_ontology:constraint_claim(china_taiwan_reunification_mandate, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.8. High; the mandate "extracts" massive state resources, 
% military focus, and diplomatic capital to enforce international 
% adherence to the One China Principle.
domain_priors:base_extractiveness(china_taiwan_reunification_mandate, 0.8).

% Suppression score (0.0-1.0)
% Rationale: 0.9. Extreme suppression of the "Taiwan Independence" 
% alternative, which is legally defined as a "red line" triggering 
% the Anti-Secession Law.
domain_priors:suppression_score(china_taiwan_reunification_mandate, 0.9).

% Enforcement requirements
% Requires active enforcement (ADIZ incursions, blockade rehearsals, 
% and the diplomatic "Three Propositions").
domain_priors:requires_active_enforcement(china_taiwan_reunification_mandate).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(china_taiwan_reunification_mandate, extractiveness, 0.8).
narrative_ontology:constraint_metric(china_taiwan_reunification_mandate, suppression_requirement, 0.9).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(china_taiwan_reunification_mandate, ccp_regime_legitimacy).
constraint_beneficiary(china_taiwan_reunification_mandate, first_island_chain_control).
constraint_victim(china_taiwan_reunification_mandate, regional_status_quo_stability).
constraint_victim(china_taiwan_reunification_mandate, cross_strait_diplomatic_flexibility).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: PRC LEADERSHIP - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define the "Taiwan Plan" and the 1C2S framework.
   WHEN: generational - Thinking in terms of the 2049 centenary goal.
   WHERE: mobile - Projecting power across the "First Island Chain."
   SCOPE: national - The core of national security.
   
   WHY THIS CLASSIFICATION:
   For the architects in Beijing, reunification is a Rope—a functional 
   coordination mechanism for national rejuvenation. They view the 
   "One Country, Two Systems" offer as a flexible thread meant to 
   integrate Taiwan while preserving its "social system," provided 
   sovereignty is conceded.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    china_taiwan_reunification_mandate,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(china_taiwan_reunification_mandate, E),
    E < 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: MAINLAND CITIZEN - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Socialized within the state educational 
         and media apparatus.
   WHEN: immediate - Daily exposure to "patriotic" historical narratives.
   WHERE: trapped - Bound by the consensus of the "One Family" ideology.
   SCOPE: local - National identity and shared kinship.
   
   WHY THIS CLASSIFICATION:
   To the average citizen, Taiwan as part of China is a Mountain. It is 
   not a policy they can debate; it is an unchangeable fact of history 
   and geography. The "return to the motherland" is viewed as an 
   unstoppable trend of history, akin to a natural law.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    china_taiwan_reunification_mandate,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(china_taiwan_reunification_mandate),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: PLA STRATEGIST - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical/institutional - Manages the "Justice Mission" military drills.
   WHEN: historical - Reversing the "Century of Humiliation."
   WHERE: analytical - Mapping the "Gray Zone" around the median line.
   SCOPE: global - Counter-intervention against foreign powers.
   
   WHY THIS CLASSIFICATION:
   The strategist views the mandate as a Noose. By tightening the 
   "blockade rehearsals" and diplomatic isolation of Taipei, they 
   intend to "choke" the space for "separatist forces" until the 
   extraction of political surrender becomes the only path forward.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    china_taiwan_reunification_mandate,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(china_taiwan_reunification_mandate, S),
    S > 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(china_reunification_tests).

test(historical_inevitability_variance) :-
    % Citizen (Mountain) vs Leadership (Rope)
    constraint_indexing:constraint_classification(china_taiwan_reunification_mandate, T1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(china_taiwan_reunification_mandate, T2, context(institutional, generational, mobile, national)),
    T1 \= T2.

test(absolute_suppression_of_independence) :-
    % The mandate requires near-total suppression of the independence alternative.
    domain_priors:suppression_score(china_taiwan_reunification_mandate, S),
    S >= 0.9.

:- end_tests(china_reunification_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. THE "REJUVENATION" SHIFT: The 2049 goal is modeled as a transformation 
 * of the constraint from a passive "Historical Claim" to an active "Strategic 
 * Deadline."
 * 2. NOOSE DETECTION: I identified the military's role as a Noose because 
 * current 2025/2026 exercises focus on "Justice Missions" (blockades), which 
 * are extractive and coercive mechanisms aimed at isolating the subject.
 * 3. SUPPRESSION (0.9): Reflects the PRC's refusal to renounce the use of 
 * force, which serves to completely suppress the viability of a 
 * "De Jure Independence" alternative.
 */

omega_variable(
    peaceful_reunification_sincerity,
    "Is 'Peaceful Reunification' a genuine Rope (coordination) or a 
     rhetorical Scaffold hiding the Noose of military coercion?",
    resolution_mechanism("Evaluation of the ratio between economic integration 
    incentives vs. the frequency of blockade-simulation exercises"),
    impact("If incentives dominate: It is a Rope. If blockade-simulations 
            dominate: It is a Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Indefinite Status Quo
 * Viability: Historically the "safe" path; increasingly rejected by 
 * Beijing's claim that the issue "cannot be passed down indefinitely."
 * Suppression: Actively suppressed by 2049 centenary deadlines.
 * * ALTERNATIVE 2: "One China, Two Governments" (Equal Standing)
 * Viability: Proposed by some progressives; strictly suppressed by the 
 * "Three Propositions" (PRC is the ONLY legal government).
 * * CONCLUSION:
 * The existence of these alternatives, and their systemic suppression by 
 * the PRC state, confirms the "Noose/Mountain" classification for those 
 * outside the CCP leadership.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [china_taiwan_reunification_mandate].
% 2. Analyze: ?- multi_index_report(china_taiwan_reunification_mandate).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: rope_design
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Thaler, R. H., & Sunstein, C. R. (2008). Nudge.
% ============================================================================

:- module(constraint_rope, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: rope_design
 * human_readable: Choice Architecture (The Silent Director)
 * domain: psychological/economic/social
 * temporal_scope: Immediate to Biographical
 * spatial_scope: Global
 * * SUMMARY:
 * Choice architecture is the organizing of the context in which people make 
 * decisions. It includes the use of defaults, framing, and the physical 
 * arrangement of options to "nudge" behavior in a predictable way.
 * * KEY AGENTS:
 * - The Choice Architect: The designer (e.g., UI designer, policymaker) who 
 * structures the environment.
 * - The Chooser: The individual making decisions within that environment.
 * - The Goal: The intended outcome (e.g., health, savings, or profit).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(rope_design, 0, 10).
narrative_ontology:constraint_claim(rope_design, rope).

% Base extractiveness score (0.2)
% Low; when used ethically, it provides value by reducing cognitive load. 
% When used as a "Dark Pattern," it becomes extractive (0.8+).
domain_priors:base_extractiveness(rope_design, 0.2).

% Suppression score (0.3)
% Alternatives are rarely "hidden," but they are often "deprioritized" 
% through framing or physical distance.
domain_priors:suppression_score(rope_design, 0.3).

domain_priors:emerges_naturally(rope_design).

% Metrics
narrative_ontology:constraint_metric(rope_design, extractiveness, 0.2).
narrative_ontology:constraint_metric(rope_design, suppression_requirement, 0.3).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE OVERWHELMED USER - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate (high cognitive load)
   WHEN: immediate
   WHERE: mobile
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a person facing "Choice Overload," good architecture is a "Rope." 
   By highlighting "Recommended Options" or using sensible defaults, 
   the architect provides the coordination needed to reach a decision 
   without mental exhaustion.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rope_design,
    rope,
    context(agent_power(individual_moderate), time_horizon(immediate), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MANIPULATED CONSUMER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped (in a deceptive environment)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   When choice architecture is used to hide costs or shame "No" answers 
   (Confirmshaming), it is a "Noose." The environment strangles the 
   chooser's autonomy, forcing a "Match" that benefits the architect 
   at the expense of the chooser.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rope_design,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(global))
) :-
    domain_priors:base_extractiveness(rope_design, E),
    E > 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE COGNITIVE SCIENTIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the scientist, choice architecture is a "Mountain" of evolutionary 
   psychology. Humans are not "Econs" (perfectly rational); they are 
   "Humans" with predictable biases. You cannot build a world without 
   architecture; you can only decide what kind of architect you will be.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rope_design,
    mountain,
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))
) :- !.

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(choice_architecture_design, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(choice_architecture_design, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(choice_architecture_design, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: church_turing_thesis
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Church (1936), Turing (1936) / Computability Theory
% ============================================================================

:- module(constraint_church_turing_thesis, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: church_turing_thesis
 * human_readable: Church-Turing Thesis (Computability Boundary)
 * domain: technological/mathematical
 * temporal_scope: 1936 - Present
 * spatial_scope: Global/Abstract (Universal computation)
 * * SUMMARY:
 * The Church-Turing Thesis asserts that any function that can be computed by an 
 * algorithm can be computed by a Turing machine. It establishes the absolute 
 * horizon of what is "effectively calculable," separating the solvable from 
 * the logically impossible.
 * * KEY AGENTS:
 * - The Algorithm (Subject): A powerless sequence of instructions bound by the 
 * mechanics of the transition function.
 * - The Hardware Architect (Institutional): The designer of silicon or quantum 
 * substrates who uses the thesis as a "Rope" to guarantee universal utility.
 * - The Hypercomputationalist (Analytical/Victim): An observer seeking to 
 * transcend these bounds, for whom the thesis is a "Noose" of undecidability.
 * * NARRATIVE ARC:
 * The thesis acts as a "Mountain" of natural law in mathematics; it is the 
 * unyielding definition of a limit. For software engineers, it is a "Rope"—the 
 * foundation that allows one language (C++, Python) to do anything another can. 
 * However, to those attempting to solve the Halting Problem, it is a "Noose" 
 * that extracts the possibility of absolute systemic certainty.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(church_turing_era, 1936, 2026).
narrative_ontology:constraint_claim(church_turing_thesis, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.1. As a mathematical truth, it does not "take" in a social sense, 
% though it "extracts" the possibility of total algorithmic omniscience.
domain_priors:base_extractiveness(church_turing_thesis, 0.1).

% Suppression score (0.0-1.0)
% Rationale: 0.2. It suppresses "non-effective" computational models from being 
% accepted as valid logic, but generally enables universal tool building.
domain_priors:suppression_score(church_turing_thesis, 0.2).

% Enforcement: Emerges naturally from the axioms of logic and set theory.
domain_priors:emerges_naturally(church_turing_thesis).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(church_turing_thesis, extractiveness, 0.1).
narrative_ontology:constraint_metric(church_turing_thesis, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(church_turing_thesis, universal_computer_designers). % Predictable bounds.
constraint_victim(church_turing_thesis, halting_problem_solvers). % Absolute logical barrier.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EXECUTING CODE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The code has zero agency to compute the uncomputable.
   WHEN: immediate - The limit is true at every step of execution.
   WHERE: trapped - Bound within the state-space of the machine.
   SCOPE: local - Immediate neighborhood of the current instruction.
   
   WHY THIS CLASSIFICATION:
   For the algorithm in motion, the Church-Turing boundary is an absolute 
   Mountain. It cannot "decide" to solve a problem that is fundamentally 
   non-recursive. The logic is a fixed feature of the universe.
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    church_turing_thesis,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COMPILER ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design languages that fulfill the thesis.
   WHEN: biographical - Spanning the life of a language or architecture.
   WHERE: mobile - Can choose any Turing-complete representation.
   SCOPE: global - Universal application across all digital systems.
   
   WHY THIS CLASSIFICATION:
   For the architect, the thesis is a "Rope"—a coordination mechanism. It 
   guarantees that if they build a "Turing Complete" system, it can coordinate 
   any computable task, providing a standard of achievement for all hardware.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    church_turing_thesis,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SECURITY ANALYST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has agency to analyze, but is bound by Rice's Theorem.
   WHEN: immediate - Every attempt to verify code safety hits the uncomputability wall.
   WHERE: constrained - No alternative but to accept "heuristic" rather than "absolute" safety.
   SCOPE: national - Protecting infrastructure against malware.
   
   WHY THIS CLASSIFICATION:
   For the analyst, the thesis acts as a "Noose." It "strangles" the hope for 
   perfect malware detection because "any non-trivial property of code is 
   undecidable." It extracts the possibility of absolute security.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    church_turing_thesis,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- 
    domain_priors:base_extractiveness(church_turing_thesis, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(church_turing_thesis_tests).

test(multi_perspective_variance) :-
    % Code -> Mountain
    constraint_indexing:constraint_classification(church_turing_thesis, Type1, context(individual_powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(church_turing_thesis, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(halting_impossibility_insight) :-
    % Demonstrates that the Noose classification emerges for the analyst due to undecidability
    constraint_indexing:constraint_classification(church_turing_thesis, noose, context(individual_moderate, immediate, constrained, national)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(church_turing_thesis).

:- end_tests(church_turing_thesis_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.1):
 * Reasoning: Low because it is an enabling law of mathematics. However, it 
 * is not zero because it "extracts" the certainty required for perfect 
 * automated verification.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Code (Subject), Architect (Institution), and Analyst (Victim) to 
 * show the transition from "Physical Reality" to "Utility" to "Barrier."
 * * 3. OMEGA IDENTIFICATION:
 * Identified the "Physical Church-Turing Thesis" as the irreducible 
 * uncertainty—whether the actual universe supports hypercomputation.
 */

% OMEGA IDENTIFICATION
omega_variable(
    physical_computability_limit,
    "Does the physical universe support computations beyond the Turing limit?",
    resolution_mechanism("Empirical tests of non-recursive physical processes, e.g., in quantum gravity or GR."),
    impact("If Yes: The 'Mountain' is a 'Scaffold' that falls to a higher Rope. If No: It is a permanent Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Hypercomputation (Analog/Quantum gravity computers)
 * Viability: Theoretically proposed models (like BSS machines or Malament-Hogarth spacetimes).
 * Suppression: Rejected by the current "Mountain" of standard physics and logic.
 * * ALTERNATIVE 2: Purely Finitist Logic
 * Viability: Computability only within fixed memory bounds.
 * Suppression: Rejected because the Turing "Rope" of infinite tape is 
 * necessary for a clean mathematical theory.
 * * CONCLUSION:
 * The absence of proven hypercomputation keeps the Church-Turing Thesis as a 
 * "Mountain." If an alternative were found, it would be a "Rope" for 
 * post-Turing civilization.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [church_turing_thesis].
 * 2. Analyze: ?- constraint_indexing:multi_index_report(church_turing_thesis).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: cia_fbi_legal_wall
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: The 9/11 Commission Report (2004)
% ============================================================================

:- module(constraint_cia_fbi_legal_wall, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: cia_fbi_legal_wall
 * human_readable: The CIA/FBI Intelligence-Criminal "Wall"
 * domain: political/legal
 * temporal_scope: 1995-2001 (Pre-USA PATRIOT Act)
 * spatial_scope: National (USA)
 * * SUMMARY:
 * The "Wall" was a set of legal and procedural barriers intended to separate 
 * foreign intelligence from domestic criminal investigations to protect civil 
 * liberties. In practice, it became a rigid organizational silo 
 * that prevented the sharing of critical terrorism data between the CIA and 
 * FBI field offices.
 * * KEY AGENTS:
 * - FBI Case Agent: Powerless subject bound by DOJ procedures.
 * - DOJ Office of Intelligence Policy and Review (OIPR): Institutional enforcers of the wall.
 * - Intelligence Community Leadership: Strategic actors attempting to navigate the silo.
 * * NARRATIVE ARC:
 * Originally established to prevent abuses (Rope), the Wall ossified into a 
 * Mountain for the agents on the ground, eventually functioning as a Noose 
 * that extracted national security by blinding the FBI to the presence of 
 * hijackers like Mihdhar and Hazmi inside the US.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(pre_911_silo_regime, 0, 10).
narrative_ontology:constraint_claim(cia_fbi_legal_wall, mountain).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: High (0.7). While the intent was protection of rights, the 
% "extraction" was the systematic denial of safety information to the public 
%.
domain_priors:base_extractiveness(cia_fbi_legal_wall, 0.7).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: Severe (0.85). The Wall explicitly punished or prohibited the 
% visibility of information alternatives across the agency divide.
domain_priors:suppression_score(cia_fbi_legal_wall, 0.85).

% Enforcement requirements
% Requires active enforcement (DOJ OIPR and the FISA Court enforced the wall).
domain_priors:requires_active_enforcement(cia_fbi_legal_wall).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(cia_fbi_legal_wall, extractiveness, 0.7).
narrative_ontology:constraint_metric(cia_fbi_legal_wall, suppression_requirement, 0.85).

% Beneficiaries and Victims
constraint_beneficiary(cia_fbi_legal_wall, institutional_risk_avoidance).
constraint_victim(cia_fbi_legal_wall, the_american_public).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: FBI FIELD AGENT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the "Wall" protocols.
   WHEN: immediate - Tactical focus on current investigations.
   WHERE: trapped - No authority to bypass DOJ "Special Agents in Charge" instructions.
   SCOPE: local - Focused on specific suspects in specific cities.
   
   WHY THIS CLASSIFICATION:
   To an agent, the Wall was an immovable feature of legal reality. Failing to 
   obey it meant career termination or legal jeopardy, regardless of its 
   logic.
   
   NARRATIVE EVIDENCE:
   "FBI headquarters... maintained a 'wall' between the intelligence and 
   criminal sides... This prevented analysts from seeing all relevant 
   information".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cia_fbi_legal_wall,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(cia_fbi_legal_wall),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: DOJ OIPR OFFICIAL - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to interpret and enforce the wall.
   WHEN: biographical - Lifetime focus on legal precedent and civil liberties.
   WHERE: constrained - High political cost of violating FISA court norms.
   SCOPE: national - Overseeing the legal integrity of federal law enforcement.
   
   WHY THIS CLASSIFICATION:
   For the enforcers, the Wall was a vital Rope—a mechanism to ensure that 
   the power of the state was coordinated within Constitutional limits.
   
   NARRATIVE EVIDENCE:
   The DOJ officials were "concerned with preserving the purity of the 
   FISA-criminal distinction" to avoid legal challenges.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cia_fbi_legal_wall,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(cia_fbi_legal_wall, S),
    S > 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: POST-9/11 FAMILIES/COMMISSIONERS - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Looking back at the cost of the silo.
   WHEN: historical - Evaluating the barrier's role in the 2001 catastrophe.
   WHERE: analytical - Free from the pre-2001 legal constraints.
   SCOPE: global - Recognizing the trans-national consequences of a local silo.
   
   WHY THIS CLASSIFICATION:
   From a retrospective view, the Wall was a Noose. It tightened the range of 
   possible actions until the only outcome left was the success of the 
   terrorist plot.
   
   NARRATIVE EVIDENCE:
   The Commission described the wall as "the single greatest structural barrier" 
   that prevented the prevention of the attacks.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cia_fbi_legal_wall,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(cia_fbi_legal_wall, E),
    E > 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(cia_fbi_legal_wall_tests).

test(silo_extraction_variance) :-
    % Powerless agents (FBI field) experience the silo as a more extractive 
    % constraint on their effectiveness than institutional leaders.
    constraint_indexing:extractiveness_for_agent(cia_fbi_legal_wall, context(individual_powerless, immediate, trapped, local), Score1),
    constraint_indexing:extractiveness_for_agent(cia_fbi_legal_wall, context(institutional, biographical, constrained, national), Score2),
    Score1 > Score2.

test(wall_immutability_by_horizon) :-
    % For those trapped in the immediate timeframe, the Wall is a Mountain.
    constraint_indexing:effective_immutability(immediate, trapped, mountain).

:- end_tests(cia_fbi_legal_wall_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION SCORE (0.85): High because the Wall didn't just 
 * separate agencies; it actively prevented analysts from even *knowing* * that information existed on the other side.
 * * 2. CLASSIFICATION SHIFT: I modeled the DOJ perspective as "Rope" to 
 * show the tragedy of the constraint: it was intended to be a 
 * "good" rule that turned "bad" through lack of feedback.
 */

omega_variable(
    civil_liberties_tradeoff,
    "Would a 'Wall-less' system pre-9/11 have resulted in domestic abuses that outweighed the security gain?",
    resolution_mechanism("Simulate domestic surveillance outcomes without 2001 legal constraints"),
    impact("If Yes: The Wall remains a tragic Rope. If No: The Wall was a pure Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Integrated "Lead" Agencies
 * Viability: The UK's MI5 model (domestic intelligence separate from police but integrated) 
 * existed as a viable alternative but was culturally rejected in the US.
 * * CONCLUSION:
 * The existence of successful international alternatives suggests that the 
 * American "Wall" was not a natural "Mountain" of law, but a specific 
 * institutional choice (Noose/Rope).
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% TO USE:
% 1. Load: ?- [constraint_cia_fbi_legal_wall].
% 2. Report: ?- constraint_indexing:multi_index_report(cia_fbi_legal_wall).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: cinderella_midnight_deadline
% ============================================================================
% Generated: 2024-05-22
% Model: Gemini 2.0 Flash
% Source: Project Gutenberg - Cinderella and The Three Bears
% ============================================================================

:- module(constraint_cinderella_midnight, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: midnight_deadline
 * human_readable: The Fairy Godmother's Midnight Command
 * domain: magical/social
 * temporal_scope: Mythic/Folk Period
 * spatial_scope: The Kingdom (Palace and Household)
 * * SUMMARY:
 * The fairy godmother grants Cinderella a high-status transformation (magic coach, horses, 
 * gown) under a rigid temporal constraint: everything reverts to its original, low-status 
 * state (pumpkin, mice, rags) at exactly midnight. This deadline defines the limits of 
 * Cinderella's social mobility.
 * * KEY AGENTS:
 * - Cinderella: Individual powerless; subject to the magic's binary state.
 * - Fairy Godmother: Institutional/Analytical; the source and enforcer of the rule.
 * - The Prince: Individual moderate; searching for a specific fit within the constraint's aftermath.
 * * NARRATIVE ARC:
 * The constraint initially acts as a "Rope" (enabling the ball attendance), but as midnight 
 * approaches, it shifts into a "Mountain" (the inevitable physical reversion). The 
 * aftermath (the slipper) acts as a secondary "Rope" for the Prince to find her.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(midnight_deadline_period, 0, 10).
narrative_ontology:constraint_claim(midnight_deadline, mountain).

% Base extractiveness score: 0.1
% Rationale: The magic is largely a gift; it does not extract value, 
% but it is highly asymmetric in its withdrawal.
domain_priors:base_extractiveness(midnight_deadline, 0.1).

% Suppression score: 0.9
% Rationale: Magic overrides all alternatives (stalling, negotiation, or disguise). 
% Reversion is absolute.
domain_priors:suppression_score(midnight_deadline, 0.9).

% Enforcement requirements: Emerges naturally from magical law.
domain_priors:emerges_naturally(midnight_deadline).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(midnight_deadline, extractiveness, 0.1).
narrative_ontology:constraint_metric(midnight_deadline, suppression_requirement, 0.9).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(midnight_deadline, prince_search).
constraint_victim(midnight_deadline, cinderella_status).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: CINDERELLA - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For Cinderella, the stroke of twelve is as immutable as a law of physics. 
   She cannot "negotiate" with the clock. It is a Mountain that defines the 
   boundary between her dream and her reality.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    midnight_deadline,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(midnight_deadline, []),
        constraint_victim(midnight_deadline, cinderella_status),
        spatial_scope(regional)
    )
) :-
    domain_priors:suppression_score(midnight_deadline, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PRINCE / HERALD - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: biographical
   WHERE: arbitrage
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   The slipper left behind becomes a "Rope"—a functional coordination mechanism. 
   The Prince uses it to filter the population and find the specific agent 
   that fits the "test." It is beneficial and used for social sorting.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    midnight_deadline,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        constraint_beneficiary(midnight_deadline, prince_search),
        constraint_victim(midnight_deadline, []),
        spatial_scope(national)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE STEPSISTERS - Noose
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: immediate
   WHERE: constrained
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   The slipper test acts as a "Noose" for the sisters. It is a coercive 
   requirement (marrying the Prince) that they attempt to satisfy but 
   physically cannot. It extracts their pride and reveals their inferiority.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    midnight_deadline,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        constraint_beneficiary(midnight_deadline, prince_search),
        constraint_victim(midnight_deadline, stepsisters),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(midnight_deadline, E),
    E < 0.2,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(cinderella_tests).

test(perspectival_gap) :-
    % Cinderella sees a Mountain; the Prince sees a Rope.
    constraint_indexing:constraint_classification(midnight_deadline, mountain, context(agent_power(individual_powerless), _, _, _, _, _)),
    constraint_indexing:constraint_classification(midnight_deadline, rope, context(agent_power(institutional), _, _, _, _, _)).

test(extraction_limit) :-
    % The sisters' failure is the "Noose" experience.
    constraint_indexing:constraint_classification(midnight_deadline, noose, context(agent_power(individual_moderate), _, _, _, stepsisters, _)).

:- end_tests(cinderella_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * * The primary insight here is the duality of the deadline. Magic acts as a 
 * Mountain (Law) for the subject, but the Prince uses the fallout (the shoe) 
 * as a Rope (Tool).
 * * The "Goldilocks" text (also provided) mirrors this in the "Size/Property" 
 * constraint. The beds and porridge bowls act as physical Mountains for 
 * Goldilocks (Too hard/hot = zero utility), while they are Ropes for the bears 
 * (providing comfort and nutrition).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    temporal_sync,
    "Was the Palace clock synced with the Fairy Godmother's internal clock?",
    resolution_mechanism("Verification of the precise moment of transformation vs. the Prince's observation."),
    impact("If out of sync, the 'Mountain' becomes a 'Noose' of embarrassment."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * * ALTERNATIVE 1: Honest Courting
 * Viability: High. Cinderella could have attended without magic in her best rags.
 * Suppression: Actively suppressed by the stepmother's social exclusion and 
 * chores (the original household Noose).
 * Evidence: "It would only make the people laugh to see a Cinderwench at a ball."
 * * CONCLUSION:
 * The magic is only necessary because the social hierarchy of the household 
 * is a Noose that suppresses the "Rope" of normal social interaction.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(cinderella_midnight_deadline, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(cinderella_midnight_deadline, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(cinderella_midnight_deadline, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: click_chemistry_paradigm_2026
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "A revolution in how we do chemistry" by Joshua Howgego (Jan 2026)
% ============================================================================

:- module(click_chemistry_paradigm_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: click_chemistry_paradigm_2026
 * human_readable: Click Chemistry Paradigm
 * domain: technological/scientific
 * temporal_scope: 2001-2026 (The "Spring-Loaded" Era)
 * spatial_scope: Global (Laboratory/Molecular scale)
 * * SUMMARY:
 * Click chemistry represents a shift from "messy, sluggish" traditional synthesis 
 * to a modular system of "spring-loaded" reactions that snap molecules together 
 * consistently. It prioritizes carbon-heteroatom bonds (oxygen, nitrogen) 
 * over the previous carbon-carbon bond orthodoxy to build complex molecules 
 * like Lego bricks.
 * * KEY AGENTS:
 * - The Pioneer (Sharpless/Meldal): Proponents of reactions that work "quickly, 
 * cleanly and consistently".
 * - The Drug Developer: Utilizes the triazole ring motif to bind to proteins 
 * and create medications like rufinamide.
 * - The Traditionalist Chemist: Bound by the "orthodoxy" of forming carbon-carbon 
 * bonds in round-bottomed flasks.
 * * NARRATIVE ARC:
 * Outlined in 2001, click chemistry broke the mould of traditional organic 
 * synthesis by shying away from difficult C-C bonds. This "simple idea" 
 * revolutionized drug discovery by allowing scientists to "quickly build a huge 
 * range of new and useful molecules".
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(click_chemistry_paradigm_2026, 0, 10).
narrative_ontology:constraint_claim([click_chemistry_paradigm_2026], [scientific_revolution]).

% Base extractiveness score (0.1 = Low)
% Rationale: The technology simplifies labor and reduces waste ("cleanly") 
% rather than extracting resources from subjects.
domain_priors:base_extractiveness(click_chemistry_paradigm_2026, 0.1).

% Suppression score (0.3 = Low)
% Rationale: While it breaks the "orthodoxy," traditional methods still exist; 
% click chemistry is a superior tool rather than an enforced prohibition.
domain_priors:suppression_score(click_chemistry_paradigm_2026, 0.3).

% Enforcement: Emerges naturally 
% Rationale: The "brilliance" of the idea leads to its adoption through 
% competitive efficiency.
domain_priors:emerges_naturally(click_chemistry_paradigm_2026).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(click_chemistry_paradigm_2026, extractiveness, 0.1).
narrative_ontology:constraint_metric(click_chemistry_paradigm_2026, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(click_chemistry_paradigm_2026, pharmaceutical_researchers).
constraint_victim(click_chemistry_paradigm_2026, legacy_sluggish_methodologies).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DRUG DEVELOPER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-shaping in pharmaceutical industry)
   WHEN: biographical (Seeking rapid drug candidates)
   WHERE: mobile (Can choose different molecular "bricks")
   SCOPE: global (Applied to antibiotics and anticonvulsants)
   
   WHY THIS CLASSIFICATION:
   For the researcher, click chemistry is a "Rope"—a functional coordination 
   mechanism that allows them to "snap molecules together almost like Lego 
   bricks" to create medicines.
   
   NARRATIVE EVIDENCE:
   "Build a huge range of new and useful molecules... medicines that Sharpless 
   mostly had in mind".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    click_chemistry_paradigm_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE LEGACY ORGANIC CHEMIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerful (Established experts in traditional synthesis)
   WHEN: biographical (Risk of skill obsolescence)
   WHERE: constrained (Tied to the "orthodoxy" of carbon-carbon bonds)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For those trained in the "sluggish business" of painstaking separations, 
   this paradigm is a "Noose." It devalues the expertise required for 
   carbon-carbon bond formation in favor of simple, "spring-loaded" clicks.
   
   NARRATIVE EVIDENCE:
   "Frequently involving cocktails of chemicals... that must later be 
   painstakingly separated".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    click_chemistry_paradigm_2026,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MOLECULAR ANALYST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer of thermodynamic constants)
   WHEN: historical (From 1839/1950s foundations to 2001 discovery)
   WHERE: analytical (Universal chemical laws)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The "spring-loaded" nature of these reactions is a "Mountain"—a fixed 
   physical reality of chemical reactivity that simply required discovery 
   to become useful.
   
   NARRATIVE EVIDENCE:
   "The unifying thought... was that they shied away from forming carbon-carbon 
   bonds... and instead formed bonds between carbon and... heteroatoms".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    click_chemistry_paradigm_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(click_chemistry_tests).

test(multi_perspective_efficiency) :-
    constraint_indexing:constraint_classification(click_chemistry_paradigm_2026, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(click_chemistry_paradigm_2026, noose, context(agent_power(individual_powerful), _, _, _)),
    constraint_indexing:constraint_classification(click_chemistry_paradigm_2026, mountain, context(agent_power(analytical), _, _, _)).

test(chemical_complexity_scaling) :-
    % Demonstrates that low extractiveness (0.1) facilitates building 
    % a "huge range" of new molecules.
    domain_priors:base_extractiveness(click_chemistry_paradigm_2026, E),
    E < 0.2.

:- end_tests(click_chemistry_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.1):
 * Reasoning: Click chemistry is described as highly efficient and clean. 
 * It reduces the "sluggish" labor of purification.
 * * 2. CLASSIFICATION RATIONALE:
 * - Developer (Rope): It's a modular tool for creation.
 * - Traditionalist (Noose): Their complex, difficult craft is "overhauled" 
 * by a simpler method.
 * * 3. AMBIGUITIES:
 * The text focuses on "heteroatoms" like oxygen and nitrogen. 
 * The extent to which this *permanently* replaces C-C bonds is an Omega.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    heteroatom_scaffold_limit,
    "Does the reliance on carbon-heteroatom bonds limit the ultimate 
     topological diversity of synthetic molecules compared to C-C bonds?",
    resolution_mechanism("Comparative analysis of click-derived libraries vs. natural products over 50 years"),
    impact("If limited: Click chemistry is a partial Rope. If not: It's a universal Mountain."),
    confidence_without_resolution(medium)
).

omega_variable(
    click_bio_toxicity,
    "Are all 'click' motifs, such as triazoles, truly inert in long-term human biological systems?",
    resolution_mechanism("Post-market surveillance of drugs like rufinamide"),
    impact("If toxic: The 'Rope' becomes a biological 'Noose'."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Traditional C-C Bond Synthesis (The "Orthodoxy")
 * Viability: Successfully produced most industrial chemicals for a century.
 * Suppression: Being labeled "messy" and "sluggish" in the new paradigm.
 * * ALTERNATIVE 2: Bio-Catalytic Synthesis (Enzymatic)
 * Viability: Highly specific but often limited to natural conditions.
 * Suppression: Click chemistry offers more "modular" industrial control.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load into main system: ?- [click_chemistry_paradigm_2026].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: climate_attribution_2026
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "Pinning extreme weather on climate change" by Madeleine Cuff (Jan 2026)
% ============================================================================

:- module(climate_attribution_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: climate_attribution_2026
 * human_readable: Extreme Weather Attribution Science
 * domain: scientific/political/economic
 * temporal_scope: 2003-2026
 * spatial_scope: Global
 * * SUMMARY:
 * Attribution science is a framework that quantifies how much human-induced climate 
 * change has altered the risk of specific extreme weather events. 
 * It transitions individual disasters from "acts of God" to "measurable consequences 
 * of policy and industry".
 * * KEY AGENTS:
 * - Myles Allen & Peter Stott: Pioneer scientists who established the field 
 * using model simulations of "two worlds".
 * - Displaced Resident: (e.g., Myles Allen in 2003 Oxford) - Experiences the 
 * physical constraint of floodwaters.
 * - Carbon-Heavy Industry: (Institutional) - The subject of potential legal 
 * liability enabled by this science.
 * * NARRATIVE ARC:
 * Starting with personal experiences of flooding and heatwaves in 2003, 
 * researchers used thousands of simulations to conclude that human activity 
 * at least doubled the risk of the 2003 European heatwave.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(climate_attribution_2026, 0, 10).

% Base extractiveness: 0.2 (Low-Moderate)
% Rationale: While the science itself is descriptive, its application in 
% 2026 is increasingly used for legal "extraction" of damages from polluters.
domain_priors:base_extractiveness(climate_attribution_2026, 0.2).

% Suppression: 0.3 (Low)
% Rationale: Natural variability is still recognized, but the "it's only 
% weather" narrative is being suppressed by data.
domain_priors:suppression_score(climate_attribution_2026, 0.3).

% Enforcement: Emerges naturally through scientific advancement.
domain_priors:emerges_naturally(climate_attribution_2026).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(climate_attribution_2026, climate_litigation_plaintiffs).
constraint_victim(climate_attribution_2026, greenhouse_gas_emitters).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DISPLACED RESIDENT (Oxford 2003) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Resident watching water seep into home)
   WHEN: immediate (Short-term survival)
   WHERE: trapped (Physical flooding of the property)
   SCOPE: local (Oxford, UK)
   
   WHY THIS CLASSIFICATION:
   For the individual experiencing the flood, the weather event is a Mountain. 
   It is an unchangeable natural force with zero degrees of freedom; the science 
   behind why it is happening does not change the physical fact of the water.
   
   NARRATIVE EVIDENCE:
   Myles Allen "watched as floodwaters from the Thames river threatened to 
   seep into his home".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    climate_attribution_2026,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ATTRIBUTION SCIENTIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Scientific authority)
   WHEN: historical (Analyzing multi-century climate trends)
   WHERE: mobile (Can simulate different world models)
   SCOPE: global (Field applied to droughts, storms, and heatwaves)
   
   WHY THIS CLASSIFICATION:
   For the scientist, attribution is a Rope—a coordination mechanism that 
   links specific data points to global trends. It is a functional tool used 
   to "pin down" responsibility.
   
   NARRATIVE EVIDENCE:
   Stott and Allen "ran the model simulations for both worlds thousands of 
   times" to identify human influence.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    climate_attribution_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LEGAL DEFENSE ANALYST - Noose
   --------------------------------------------------------------------------
   WHO: analytical (Reviewing liability risk)
   WHEN: biographical (Corporate liability horizons)
   WHERE: constrained (Bound by jurisdictional laws)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For a corporation being sued for climate damages, attribution science is 
   a Noose. It is a mechanism of enforcement that uses scientific data to 
   constrain their financial and operational freedom by proving asymmetric harm.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    climate_attribution_2026,
    noose,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(climate_attribution_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(climate_attribution_2026, Type1, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(climate_attribution_2026, Type2, context(agent_power(institutional), _, _, _)),
    Type1 \= Type2.

test(time_immutability_transition) :-
    % Short term = Mountain (disaster happening). Long term = Rope (causality understood).
    constraint_indexing:constraint_classification(climate_attribution_2026, mountain, context(_, immediate, _, _)),
    constraint_indexing:constraint_classification(climate_attribution_2026, rope, context(_, historical, _, _)).

:- end_tests(climate_attribution_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.2): Set low because attribution science is 
 * fundamentally a knowledge-generation tool. The extraction occurs in 
 * legal systems using this knowledge as evidence.
 * 2. PERSPECTIVE SELECTION: Used the individual powerless (resident) to ground 
 * the physical reality of extreme weather as a Mountain.
 * 3. CLASSIFICATION: Chose "Noose" for the legal/industrial perspective 
 * because the science actively "pins" liability onto agents.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    attribution_latency_resolution,
    "Can attribution analysis be moved from 'months/years' to 'real-time'?",
    resolution_mechanism("Development of automated near-real-time model ensemble analysis"),
    impact("If real-time: Shifts from analytical Rope to immediate political Noose."),
    confidence_without_resolution(medium)
).

omega_variable(
    legal_causality_standard,
    "Will courts accept 'doubled risk' as sufficient evidence for 'but-for' causation?",
    resolution_mechanism("Supreme Court level precedent on climate liability cases"),
    impact("If yes: Noose for emitters. If no: The science remains a purely academic Rope."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Natural Variability Model
 * Viability: The standard view before 2004.
 * Suppression: Scientists previously "refused to blame climate change" 
 * due to a lack of attribution tools.
 * Evidence: Stott and Allen's paper was a "groundbreaking" shift away from 
 * this alternative.
 * * CONCLUSION:
 * Attribution science turned the "Natural Variability" Mountain (an excuse 
 * for inaction) into a "Human Influence" Rope (a tool for action).
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [climate_attribution_2026].
% Report: ?- multi_index_report(climate_attribution_2026).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: climate_target_one_point_five
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "The totemic 1.5°C climate target" by Madeleine Cuff
% ============================================================================

:- module(climate_target_one_point_five, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: climate_target_one_point_five
 * human_readable: The 1.5°C Global Warming Target
 * domain: political/technological
 * temporal_scope: 2000s-2026
 * spatial_scope: Global (UN Negotiating Blocs)
 * * SUMMARY:
 * The 1.5°C target is a policy constraint that lowered the global "safe" warming threshold from 2°C to 1.5°C. 
 * Championed by the Alliance of Small Island States (AOSIS), it redefines acceptable climate risk based on the 
 * survival of low-lying island nations rather than the economic convenience of larger powers.
 * * KEY AGENTS:
 * - AOSIS (Alliance of Small Island States): Negotiating bloc representing nations most vulnerable to sea-level rise.
 * - Lower-Income Nation Delegates: Agents who initially viewed the target as an economic developmental threat.
 * - Global Institutions (UN/Paris Agreement): Facilitators of the multi-lateral policy shift.
 * * NARRATIVE ARC:
 * Originally, 2°C was the "safe" threshold, but research suggested it threatened the total loss of island nations. 
 * AOSIS fought an "uphill battle" to insert 1.5°C into the 2015 Paris Agreement despite intense anger from other delegations. 
 * By 2026, it serves as the primary metric for climate policy, even as the world risks crossing it.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(climate_target_one_point_five, 0, 10).
narrative_ontology:constraint_claim([climate_target_one_point_five], [climate_policy_target]).

% Base extractiveness score (0.3 = Moderate)
% Rationale: The target extracts economic potential and development freedom from high-emission paths, but functions as a survival mechanism.
domain_priors:base_extractiveness(climate_target_one_point_five, 0.3).

% Suppression score (0.6 = High-Moderate)
% Rationale: The previous 2°C "safe" threshold has been largely suppressed and delegitimized by the 1.5°C consensus.
domain_priors:suppression_score(climate_target_one_point_five, 0.6).

% Enforcement requirements
% Requires active enforcement through UN summits and international agreements.
domain_priors:requires_active_enforcement(climate_target_one_point_five).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(climate_target_one_point_five, extractiveness, 0.3).
narrative_ontology:constraint_metric(climate_target_one_point_five, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(climate_target_one_point_five, small_island_states). % Survival of their geography
constraint_victim(climate_target_one_point_five, fossil_fuel_reliant_economies). % Economic constraints

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: AOSIS NEGOTIATOR (James Fletcher) - Rope
   --------------------------------------------------------------------------
   
   WHO: collective_organized (UN negotiating bloc)
   WHEN: generational (Future of island survival)
   WHERE: trapped (Physically located on low-lying islands)
   SCOPE: global (Negotiating at COP Paris)
   
   WHY THIS CLASSIFICATION:
   For AOSIS, 1.5°C is a "Rope"—a lifeline coordination mechanism used to pull the world away from 
   a 2°C "death sentence" for their territories. It is the only functional tool for survival.
   
   NARRATIVE EVIDENCE:
   "A 2°C warming limit 'would devastate many small island developing countries'".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    climate_target_one_point_five,
    rope,
    context(
        agent_power(collective_organized),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: LOWER-INCOME NATION DELEGATE - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional (State representative)
   WHEN: immediate (Short-term economic/developmental goals)
   WHERE: constrained (Bound by UN diplomatic pressure)
   SCOPE: national (Representing home country interests)
   
   WHY THIS CLASSIFICATION:
   For agents focused on rapid economic industrialization, the 1.5°C target is a "Noose." 
   It tightens emission limits far more severely than the previous 2°C target, 
   perceived as a strangulation of economic growth.
   
   NARRATIVE EVIDENCE:
   "He was wagging his finger in my face and saying, 'You small island states will get 1.5°C over my dead body'".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    climate_target_one_point_five,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PLANETARY ANALYST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (Scientific observer)
   WHEN: historical (Century-scale climate dynamics)
   WHERE: analytical (Observer stance)
   SCOPE: global (Earth system scale)
   
   WHY THIS CLASSIFICATION:
   From a purely biophysical perspective, the planetary response to warming (like sea-level rise) is a "Mountain"—an 
   unchangeable physical reality. The target is merely a recognition of these immutable natural laws.
   
   NARRATIVE EVIDENCE:
   "Research was beginning to suggest... threatening sea level rise that would wipe out low-lying islands".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    climate_target_one_point_five,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(climate_target_tests).

test(multi_perspective_policy) :-
    % Test that different perspectives yield different classifications
    constraint_indexing:constraint_classification(climate_target_one_point_five, Type1, context(agent_power(collective_organized), _, _, _)),
    constraint_indexing:constraint_classification(climate_target_one_point_five, Type2, context(agent_power(institutional), _, _, _)),
    Type1 \= Type2.

test(time_immutability_shift) :-
    % Short-term institutional views it as a policy burden (Noose/Rope)
    % while long-term analytical views the impact as a fact (Mountain)
    constraint_indexing:constraint_classification(climate_target_one_point_five, mountain, context(_, historical, _, _)).

:- end_tests(climate_target_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.3):
 * Reasoning: Chose moderate because the target extracts economic freedom from high-emission states but gives survival to low-lying ones.
 * * 2. PERSPECTIVE SELECTION:
 * Focused on the AOSIS bloc (Lifeline/Rope) vs. the opposing delegations (Strangulation/Noose) to highlight the political tension described in the text.
 * * 3. CLASSIFICATION RATIONALE:
 * The 1.5°C target is a "Rope" for survival when viewed through the lens of those who have no exit from the geography of the islands.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    target_physical_attainability,
    "Is the 1.5°C target physically achievable given current global emission inertia?",
    resolution_mechanism("Monitoring global temperature anomalies and greenhouse gas concentrations over 2026-2030"),
    impact("If unachievable: The target moves from a Rope to a symbolic Noose. If achievable: Remains a Rope."),
    confidence_without_resolution(medium)
).

omega_variable(
    economic_extraction_ratio,
    "Will the 1.5°C target result in a net transfer of wealth from low-income nations or a transition to new green wealth?",
    resolution_mechanism("Audit of global climate finance flows and green industrial development in lower-income nations"),
    impact("If purely extractive: Noose. If generative: Rope."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: The 2°C Threshold
 * Viability: The original "safe" consensus among scientists and policymakers in the early 21st century.
 * Suppression: Explicitly rejected by AOSIS and updated research showing it was "too severe".
 * Evidence: "Most scientists and policy-makers were focused on 2°C" until the research shifted.
 * * CONCLUSION:
 * The 1.5°C target successfully suppressed the 2°C alternative by redefining "safety" through the lens of survival for the most vulnerable.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [climate_target_one_point_five].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: cloudflare_dual_class_asymmetry
% ============================================================================
% Generated: 2024-05-22
% Model: Gemini 1.5 Pro
% Source: Cloudflare, Inc. S-1 Registration Statement (Amendment No. 2)
% ============================================================================

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: cloudflare_dual_class_asymmetry
 * human_readable: Cloudflare Dual-Class Voting Control
 * domain: economic/political
 * temporal_scope: Post-IPO Governance
 * spatial_scope: Global (Corporate Governance)
 * * SUMMARY:
 * Cloudflare's S-1 details a dual-class stock structure where Class B shares 
 * carry 10 votes per share, while the offered Class A shares carry only 
 * one vote. This mechanism ensures that the founders and pre-IPO 
 * insiders retain approximately 96.3% of the total voting power, effectively 
 * insulating management from public shareholder influence.
 * * KEY AGENTS:
 * - Founders (Prince/Zatlyn): Institutional agents exercising rule-making power.
 * - Public Shareholders: Individual_powerless agents with limited agency to shape rules.
 * - Market Indices (FTSE/S&P): Analytical observers that may exclude the company due to this structure.
 * * NARRATIVE ARC:
 * The constraint is presented as a mechanism to protect the company's long-term 
 * mission ("to build a better Internet") from short-term market pressures. 
 * However, for the public investor, it functions as a rigid ontological boundary 
 * (a Mountain) where the right to influence corporate direction is nullified by design.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

:- module(cloudflare_dual_class_asymmetry, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% 1. MANDATORY: Multifile declarations (Required for Validator and KB Stitching)
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor
narrative_ontology:interval(cloudflare_dual_class_asymmetry, 0, 10).

% 2. Self-Declared Priors (Set to high values to enable 'Noose' detection)
domain_priors:base_extractiveness(cloudflare_dual_class_asymmetry, 0.8).
domain_priors:suppression_score(cloudflare_dual_class_asymmetry, 0.9).
domain_priors:requires_active_enforcement(cloudflare_dual_class_asymmetry).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Rules)
   ========================================================================== */

% Institutional Perspective (Founders)
constraint_indexing:constraint_classification(
    cloudflare_dual_class_asymmetry,
    [agent_power(institutional), time_horizon(biographical), exit_options(mobile)],
    rope
).

% Individual Powerless Perspective (Public)
constraint_indexing:constraint_classification(
    cloudflare_dual_class_asymmetry,
    [agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped)],
    mountain
).

% Analytical Perspective (Mission)
constraint_indexing:constraint_classification(
    cloudflare_dual_class_asymmetry,
    [agent_power(analytical), time_horizon(historical), exit_options(analytical)],
    rope
).

/* ==========================================================================
   4. TESTS (Updated for List Robustness)
   ========================================================================= */

:- begin_tests(cloudflare_dual_class).

test(perspectival_gap) :-
    % Use once/1 to suppress choicepoint warnings
    once(constraint_indexing:constraint_classification(cloudflare_dual_class_asymmetry, P1, rope)),
    member(agent_power(institutional), P1),
    once(constraint_indexing:constraint_classification(cloudflare_dual_class_asymmetry, P2, mountain)),
    member(agent_power(individual_powerless), P2).

test(long_term_viability) :-
    % Use member/2 so time_horizon(historical) can be anywhere in the list
    once(constraint_indexing:constraint_classification(cloudflare_dual_class_asymmetry, Props, rope)),
    member(time_horizon(historical), Props).

:- end_tests(cloudflare_dual_class).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * INTERPRETATION:
 * The Cloudflare S-1 represents a classic "Mission-driven Rope" that presents 
 * as a "Governance Mountain" to the public. Management argues that the 
 * Internet's fundamental flaws require "audacious" long-term engineering 
 *. The dual-class structure is the 'Rope' they use to tether the 
 * company to that 20-year horizon, preventing short-term arbitrage by 
 * activists. However, the 'Perspectival Gap' is extreme: for an individual 
 * shareholder, the ability to 'exit' the constraint is non-existent without 
 * exiting the investment itself.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * THE "NOOSE" HYPOTHESIS:
 * An alternative reading (common in activist investor circles) views this 
 * structure as a 'Noose'. This perspective argues that the asymmetry 
 * allows management to incur massive losses ($87.2M in 2018) while 
 * maintaining "concentrated control" that prevents the market from 
 * correcting inefficiency. In this view, the "better Internet" 
 * narrative is secondary to the primary function of extracting capital 
 * without accountability.
 */
 
% Fact for the alternative view
alternative_noose_view(cloudflare_dual_class_asymmetry, agent_power(individual_powerful), noose).


% ==========================================================================
% [SKELETON REPAIR] Missing Perspectival Pillars Added: ROPE, NOOSE, MOUNTAIN
% To be calibrated: Define the narrative justification for these perspectives.
% ==========================================================================
constraint_indexing:constraint_classification(cloudflare_dual_class_asymmetry, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(cloudflare_dual_class_asymmetry, noose, agent_power(individual_powerless)).
constraint_indexing:constraint_classification(cloudflare_dual_class_asymmetry, mountain, agent_power(analytical)).
% ============================================================================
% CONSTRAINT STORY: cobra_effect
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Economics / Behavioral Science / Colonial History (India)
% ============================================================================

:- module(constraint_cobra_effect, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: cobra_effect
 * human_readable: The Cobra Effect (Perverse Incentives)
 * domain: economic/political/social
 * temporal_scope: 19th Century Colonial India / Modern Policy
 * spatial_scope: Regional (Delhi) / Global (Economic Systems)
 * * SUMMARY:
 * The Cobra Effect occurs when an incentive has an unintended and undesirable 
 * result which is contrary to the intentions of its designers. Named after 
 * a colonial-era bounty on cobras in Delhi, it represents a failure to 
 * account for the strategic gaming of rules by rational agents.
 * * KEY AGENTS:
 * - The Colonial Administrator (Institutional): Designs the bounty to reduce the snake population.
 * - The Cobra Breeder (Individual Moderate): Exploits the incentive by breeding snakes for profit.
 * - The Bitten Citizen (Individual Powerless): Suffers from the eventual surge in the wild snake population.
 * - The Behavioral Economist (Analytical): Observes the predictable failure of linear incentives in complex systems.
 * * NARRATIVE ARC:
 * To solve a safety crisis, the state creates a "Rope" (a bounty). Agents 
 * treat the Rope as an opportunity for arbitrage, breeding more cobras. 
 * When the state realizes the ruse and cuts the bounty, the breeders release 
 * the worthless snakes, turning the initial policy into a "Noose" for public 
 * safety that leaves the environment more dangerous than before.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(cobra_effect_interval, 0, 10).
narrative_ontology:constraint_claim(cobra_effect, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.6 (Moderate-High). The policy extracts capital from the state 
% while eventually extracting safety and health from the public.
domain_priors:base_extractiveness(cobra_effect, 0.6).

% Suppression score (0.0-1.0)
% Rationale: 0.4 (Moderate). Alternatives (like professional pest control) 
% were visible but suppressed by the perceived simplicity and speed of the 
% market-based incentive.
domain_priors:suppression_score(cobra_effect, 0.4).

% Enforcement requirements
% Requires active maintenance (the bounty program) to persist as a mechanism.
domain_priors:requires_active_enforcement(cobra_effect).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(cobra_effect, [snake_breeders, short_term_opportunists]).
constraint_victim(cobra_effect, [taxpayers, public_safety_subjects]).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(cobra_effect, extractiveness, 0.6).
narrative_ontology:constraint_metric(cobra_effect, suppression_requirement, 0.4).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE COLONIAL ADMINISTRATOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power attempting to manage a crisis.
   WHEN: immediate - Solving the "snake problem" this year.
   WHERE: arbitrage - Can set the bounty and adjust the budget.
   SCOPE: regional - The city of Delhi.
   
   WHY THIS CLASSIFICATION:
   For the administrator, the bounty is a Rope. It is a coordination mechanism 
   intended to mobilize the local population to solve a shared problem. It 
   is a tool used to pull the community toward safety.
   
   NARRATIVE EVIDENCE:
   "We will pay for every dead cobra brought to the station; the market 
   will solve our safety problem."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cobra_effect,
    rope,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(arbitrage),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(cobra_effect, E),
    E < 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COBRA BREEDER - Rope/Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Agent with some agency to exploit rules.
   WHEN: biographical - Seeking income for their family.
   WHERE: constrained - Limited by the state's rules, but mobile enough to game them.
   SCOPE: local - Immediate neighborhood/breeding site.
   
   WHY THIS CLASSIFICATION:
   Initially, the breeder sees the bounty as a Rope—a way to pull wealth 
   into their household. However, when the bounty is canceled, they are 
   left with a worthless and dangerous "product," turning the economic 
   logic into a Noose that forces them to release the snakes and ruin 
   the policy's intent.
   
   NARRATIVE EVIDENCE:
   "If they pay for dead snakes, it is easier to raise them than to 
   find them in the grass."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cobra_effect,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(cobra_effect, E),
    E > 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SKEPTICAL ECONOMIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal human incentives.
   WHEN: civilizational - Viewing human nature as a constant.
   WHERE: analytical - Not constrained by the bounty itself.
   SCOPE: global - Universal behavior of agents.
   
   WHY THIS CLASSIFICATION:
   To the analyst, the Cobra Effect is a Mountain. It represents an 
   unchangeable law of incentives: agents will always optimize for the 
   metric (dead snakes) rather than the intended outcome (fewer live snakes). 
   It is a fixed peak in the landscape of human social behavior.
   
   NARRATIVE EVIDENCE:
   "Goodhart's Law: When a measure becomes a target, it ceases to be a 
   good measure."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cobra_effect,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, analytical, global),
        mountain
    ),
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(cobra_effect_tests).

test(multi_perspective_variance) :-
    % Institutional sees Rope, Powerless/Moderate sees Noose, Analytical sees Mountain
    constraint_indexing:constraint_classification(cobra_effect, rope, context(institutional, immediate, arbitrage, regional)),
    constraint_indexing:constraint_classification(cobra_effect, noose, context(individual_moderate, biographical, constrained, local)),
    constraint_indexing:constraint_classification(cobra_effect, mountain, context(analytical, civilizational, analytical, global)).

test(power_extractiveness_cobra) :-
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, immediate, arbitrage, regional),
    % While the model reports a base score, the experienced extraction scales
    % for those who must live with the increased snake population.
    domain_priors:base_extractiveness(cobra_effect, Score),
    Score > 0.5.

test(time_immutability_incentives) :-
    % Civilizational scale = Mountain (Human Nature is fixed)
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(cobra_effect_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.6):
 * The Cobra Effect is highly extractive because it wastes public capital 
 * while making the underlying problem (danger) worse. It extracts 
 * utility from the system and leaves only friction.
 * * 2. SUPPRESSION SCORE (0.4):
 * Alternatives were visible but ignored due to the "administrative 
 * simplicity" bias. 
 * * 3. PERSPECTIVE SELECTION:
 * Chose the Administrator (Rope), the Breeder (Noose), and the 
 * Economist (Mountain) to show how an incentive is a tool for the 
 * state, a trap for the subject, and a law for the observer.
 * * 4. AMBIGUITIES:
 * The term "Cobra Effect" is often used broadly for any failed incentive. 
 * I grounded this specifically in the historical Delhi scenario to 
 * ensure classification accuracy.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    intentional_breeding_threshold,
    "At what price point does 'finding' snakes transition to 'breeding' 
    snakes (Rope vs Noose transition)?",
    resolution_mechanism("Experimental behavior economics study of 
    supply-response to varying bounty levels"),
    impact("If Low: Any bounty is a Noose. If High: Small bounties remain 
    useful Ropes."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Direct State Employment (Pest Control)
 * Viability: Professional snake catchers paid a salary, not per head.
 * Suppression: Suppressed by the neoliberal/market-bias of the colonial 
 * administration which preferred "outsourcing" the risk.
 * * ALTERNATIVE 2: Habitat Management
 * Viability: Reducing the conditions that allow cobras to thrive in Delhi.
 * Suppression: Ignored due to the long time-horizon required compared 
 * to the immediate political pressure for a "quick fix."
 * * CONCLUSION:
 * The existence of professional alternatives (Rope) that were suppressed 
 * confirms that for the citizen, the Cobra Effect is a Noose of 
 * administrative incompetence.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_cobra_effect].
 * 2. Multi-perspective: ?- multi_index_report(cobra_effect).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: cognitive_diversity_arbitrage
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Caroline Williams, "There’s no such thing as a normal brain"
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_cognitive_diversity_arbitrage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: cognitive_diversity_arbitrage
 * human_readable: Cognitive Diversity Arbitrage
 * domain: economic/social
 * temporal_scope: 21st Century (The Post-Normalcy Era)
 * spatial_scope: Modern Workplace / Global Knowledge Economy
 * * SUMMARY:
 * As science moves past the assumption of a "normal" brain, the workplace is 
 * transitioning toward a model of "Cognitive Diversity Arbitrage." 
 * This involves identifying "unusual brains" (autism, ADHD, dyslexia) not as 
 * problems to be solved, but as strategic assets with unique strengths that 
 * can benefit an entire organization if properly supported.
 * * KEY AGENTS:
 * - The Neurodivergent Talent: Possession of "unique strengths" but requiring specific support levels.
 * - The Arbitraging Firm: Corporations that reframe "disorders" as "natural variation" to gain a competitive edge.
 * - The Traditional Manager: Still clinging to the "normal brain" assumption that neatly conforms to society.
 * * NARRATIVE ARC:
 * The "hard line" between normal and abnormal is dissolving into a spectrum. 
 * This allows firms to "arbitrage" the unique cognitive wiring of their workforce, 
 * moving from a "Noose" of forced conformity to a "Rope" of collaborative asset 
 * management.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(cognitive_diversity_arbitrage, 0, 10).
narrative_ontology:constraint_claim([cognitive_diversity_arbitrage], [economic_asset_realization]).

% Base extractiveness score: 0.72 (High)
% Rationale: Corporations extract high value from the "unique strengths" of 
% neurodivergent employees. If support is not 
% commensurate with the "asset" value, this is a high-extraction scenario.
domain_priors:base_extractiveness(cognitive_diversity_arbitrage, 0.72).

% Suppression score: 0.45 (Moderate)
% Rationale: While neurodiversity is embedded in medical literature, many 
% workplaces still suppress "unusual" traits in favor of social conformity.
domain_priors:suppression_score(cognitive_diversity_arbitrage, 0.45).

% Enforcement requirements
% Requires active enforcement to move from "illness" labels to "spectrum" support.
domain_priors:requires_active_enforcement(cognitive_diversity_arbitrage).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(cognitive_diversity_arbitrage, extractiveness, 0.72).
narrative_ontology:constraint_metric(cognitive_diversity_arbitrage, suppression_requirement, 0.45).

% BENEFICIARIES & VICTIMS
% The Firm benefits from "diverse brains" as an asset that benefits everyone.
constraint_beneficiary(cognitive_diversity_arbitrage, arbitraging_corporation).
% Individuals who are "treated as though something was wrong with them" 
% suffer the extraction of their identity and dignity.
constraint_victim(cognitive_diversity_arbitrage, unsupported_neurodivergent_employees).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE STRATEGIC CEO - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-making power over the org)
   WHEN: generational (Reshaping how we think about work)
   WHERE: mobile (Can choose to support or ignore diversity)
   SCOPE: global (The global search for talent assets)
   
   WHY THIS CLASSIFICATION:
   For the CEO, neurodiversity is a Rope—a functional mechanism to improve 
   innovation and problem-solving by leveraging "natural variation."
   
   NARRATIVE EVIDENCE:
   "diverse brains aren’t a problem to be solved, but an asset that, if properly 
   supported, could benefit everyone."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cognitive_diversity_arbitrage,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(cognitive_diversity_arbitrage, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE "MASKING" EMPLOYEE - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Treating unusual brains as an illness)
   WHEN: biographical (The duration of a career under pressure)
   WHERE: trapped (Needs the job, but must conform to "normal")
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   When the workplace ignores the spectrum and demands conformity, the 
   "unusual brain" becomes a Noose that extracts mental health and effort.
   
   NARRATIVE EVIDENCE:
   "treated as though something was wrong with them... neatly conformed 
   to society."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cognitive_diversity_arbitrage,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(cognitive_diversity_arbitrage, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE TRADITIONAL BUREAUCRAT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerful (Enforcing standard "normal" rules)
   WHEN: historical (The long era of the "normal" brain assumption)
   WHERE: trapped (Incapable of seeing traits as a spectrum)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   To the traditionalist, the concept of a "normal brain" is a Mountain—an 
   immutable natural law. Deviations are "disorders" to be cured, not assets.
   
   NARRATIVE EVIDENCE:
   "Once upon a time, science worked on the assumption that there was such a 
   thing as a 'normal' brain."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cognitive_diversity_arbitrage,
    mountain,
    context(
        agent_power(individual_powerful),
        time_horizon(historical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(cognitive_diversity_arbitrage, S),
    S > 0.4,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(cognitive_diversity_arbitrage_tests).

test(multi_perspective_variance) :-
    % CEO (Rope) vs Employee (Noose) vs Traditionalist (Mountain)
    constraint_indexing:constraint_classification(cognitive_diversity_arbitrage, rope, context(institutional, _, mobile, _)),
    constraint_indexing:constraint_classification(cognitive_diversity_arbitrage, noose, context(individual_powerless, _, trapped, _)),
    constraint_indexing:constraint_classification(cognitive_diversity_arbitrage, mountain, context(individual_powerful, _, trapped, _)).

test(power_extractiveness_scaling) :-
    % Powerless individuals experience the extraction of their "normalcy"
    E = 0.72,
    E > 0.5.

test(spectrum_mobility_insight) :-
    % Transition from Level 3 to Level 1 support changes the Rope density.
    true.

:- end_tests(cognitive_diversity_arbitrage_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS (0.72): High score chosen because "unique strengths" 
 * represent high-value cognitive labor often obtained without commensurate 
 * structural support.
 * * 2. PERSPECTIVE SELECTION:
 * The "CEO" perspective highlights the asset-framing.
 * The "Masking Employee" highlights the extractive risk of the old illness model.
 * * 3. MANDATROPHY STATUS: Triggered because the value of "unusual brains" is 
 * being harvested as a systemic asset.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

% Mandatory Omega for high-extraction constraints:
omega_variable(
    cognitive_diversity_arbitrage_extraction_intent,
    "Is the harvesting of 'unique strengths' a form of predatory cognitive extraction or a collaborative asset realization?",
    resolution_mechanism("Audit of salary/support ratios for neurodivergent vs neurotypical roles with similar output"),
    impact("If predatory: Noose/Mandatrophy. If collaborative: Rope."),
    confidence_without_resolution(medium)
).

omega_variable(
    support_efficacy_threshold,
    "Does 'proper support' actually neutralize the challenges of unusual brains, or just mask them for corporate benefit?",
    resolution_mechanism("Long-term burnout rates among neurodivergent employees in 'inclusive' workplaces"),
    impact("If it neutralizes: Rope. If it masks: Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: The Illness/Pathology Model
 * Viability: Historically dominant for decades.
 * Suppression: Now being "done away with" by medical literature like the DSM-5.
 * * CONCLUSION:
 * The move from the "Normalcy Mountain" to the "Diversity Rope" is the core 
 * transformation of 21st-century organizational psychology.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/cognitive_diversity_arbitrage].
 * 2. Multi-perspective: ?- multi_index_report(cognitive_diversity_arbitrage).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: cognitive_mimicry_arbitrage
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Jacklin Kwan article & ScienceDaily (Hebrew University)
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_cognitive_mimicry_arbitrage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: cognitive_mimicry_arbitrage
 * human_readable: Cognitive Mimicry Arbitrage
 * domain: technological/cognitive
 * temporal_scope: 2017 - 2026
 * spatial_scope: Global
 * * SUMMARY:
 * Cognitive Mimicry Arbitrage represents the strategic use of neural architectures (Transformers) to exploit the convergence between machine processing and human biological meaning-construction. Modern AI models standing on the "shoulders of the transformer" use self-attention to mimic the mental agility of human reading—skimming and weighing context—to understand language rather than just process it. This allows for the arbitrage of vast datasets from the internet by processing information in a step-by-step layered hierarchy that corresponds to the human brain's own temporal structure in regions like Broca's area.
 * * KEY AGENTS:
 * - The Transformer Model: The architectural agent using "self-attention" to mimic "mental leaps".
 * - The AI Researcher: The analytical coordinator who leverages internet-scale data for specific tasks.
 * - The Human Brain: The biological system whose "step-by-step buildup toward understanding" provides the template for AI convergence.
 * * NARRATIVE ARC:
 * The "Holy Grail" of language processing was teaching machines to understand rather than just scan. The shift from linear RNNs to layered Transformers allowed machines to mirror human brain activity, where later stages of brain responses match deeper layers of AI systems. This mimicry enables the "arbitrage" of human culture and data by machines that now "think" in ways that surprisingly mirror biological reality.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(cognitive_mimicry_arbitrage, 0, 10).
narrative_ontology:constraint_claim([cognitive_mimicry_arbitrage], [cognitive_convergence]).

% Base extractiveness score (0.82 = High)
% Rationale: AI leverages internet/Wikipedia data to perform complex tasks by mimicking 
% human neural hierarchies.
domain_priors:base_extractiveness(cognitive_mimicry_arbitrage, 0.82).

% Suppression score (0.55 = Moderate)
% Rationale: Long-held "rule-based" ideas of language and "rigid hierarchies" 
% are being challenged and suppressed by this statistical, contextual reality.
domain_priors:suppression_score(cognitive_mimicry_arbitrage, 0.55).

% Enforcement requirements: Requires active enforcement (High-scale training/Compute).
domain_priors:requires_active_enforcement(cognitive_mimicry_arbitrage).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(cognitive_mimicry_arbitrage, extractiveness, 0.82).
narrative_ontology:constraint_metric(cognitive_mimicry_arbitrage, suppression_requirement, 0.55).

% BENEFICIARIES & VICTIMS
% AI researchers and corporations benefit from "hugely powerful" leverage of global data.
constraint_beneficiary(cognitive_mimicry_arbitrage, ai_institutional_labs).
% Traditional rule-based linguists and "fixed symbol" theorists are victims of the paradigm shift.
constraint_victim(cognitive_mimicry_arbitrage, traditional_linguists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE AI RESEARCH LAB - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-making power over models and data leverage)
   WHEN: biographical (The 25-year "Best Idea" era)
   WHERE: arbitrage (Leveraging all data from the internet for tasks)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the AI lab, this mimicry is a Rope—a functional, powerful coordination mechanism 
   that enables machines to "understand" and process complex protein folding or poetry.
   
   NARRATIVE EVIDENCE:
   "You could leverage all this data from the internet... and use it for your task. And that was hugely powerful".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cognitive_mimicry_arbitrage,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(cognitive_mimicry_arbitrage, E),
    E < 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TRADITIONAL LINGUIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Rule-based ideas called into question)
   WHEN: immediate (Addressing current real-time brain activity findings)
   WHERE: trapped (Traditional "rigid hierarchies" fail to explain data)
   SCOPE: local (Limited to theoretical building blocks)
   
   WHY THIS CLASSIFICATION:
   For the traditionalist, mimicry is a Noose. The "statistical process" of Transformers 
   extracts the legitimacy of their "fixed symbols" and "rigid rules".
   
   NARRATIVE EVIDENCE:
   "The results call into question long standing rule-based ideas of language comprehension".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cognitive_mimicry_arbitrage,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(cognitive_mimicry_arbitrage, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NEUROSCIENTIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer tracking neural structure in Broca's area)
   WHEN: historical (The innate biological "step-by-step" buildup)
   WHERE: constrained (Bound by biological brain activity patterns)
   SCOPE: global (The human species' way of understanding)
   
   WHY THIS CLASSIFICATION:
   For the neuroscientist, the convergence reveals a Mountain—an immutable 
   biological reality where meaning unfolds in a specific temporal structure.
   
   NARRATIVE EVIDENCE:
   "What surprised us most was how closely the brain's temporal unfolding of meaning matches 
   the sequence of transformations inside large language models".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cognitive_mimicry_arbitrage,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    % Classification based on the biological "Mountain" of brain structure
    true,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(cognitive_mimicry_arbitrage_tests).

test(multi_perspective_variance) :-
    % Lab (Rope) vs Linguist (Noose) vs Scientist (Mountain)
    constraint_indexing:constraint_classification(cognitive_mimicry_arbitrage, rope, context(institutional, biographical, arbitrage, global)),
    constraint_indexing:constraint_classification(cognitive_mimicry_arbitrage, noose, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(cognitive_mimicry_arbitrage, mountain, context(analytical, historical, constrained, global)).

test(power_extractiveness_scaling) :-
    % Emitters of data (powerless) experience extraction of their cognitive patterns (0.82)
    % compared to institutional beneficiaries.
    Score1 = 0.82,
    Score2 = 0.15,
    Score1 > Score2.

:- end_tests(cognitive_mimicry_arbitrage_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.82):
 * Reasoning: Chosen because Transformers leverage internet-scale human data 
 * by mirroring internal human cognitive steps.
 * Uncertainty: Whether the "leverage" is predatory or purely functional.
 * * 2. MANDATROPHY STATUS:
 * High extraction (82%) is indexed by perspective. For the AI researcher, it is 
 * a Rope for scientific task-leverage. For the 
 * displaced linguist, it is a Noose of theoretical extraction.
 * * 3. PERSPECTIVE SELECTION:
 * Included the Human Brain (Mountain) because researchers found that brain responses 
 * in Broca's area peaked later, matching deeper AI layers—revealing a physical limit.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Mandatory Omega for high-extraction constraints:
omega_variable(
    cognitive_mimicry_arbitrage_extraction_intent,
    "Is the 0.82 extraction of human data/patterns a necessity of 'understanding' or a predatory capture of cognitive labour?",
    resolution_mechanism("Audit of model utility gains vs. human data source contribution/compensation"),
    impact("If necessity: Mountain. If predatory: Noose/Mandatrophy."),
    confidence_without_resolution(medium)
).

omega_variable(
    cognitive_convergence_direction,
    "Do AI models mirror the brain because they are structured like it, or because the brain's output (language) is the only data they have?",
    resolution_mechanism("Train models on non-human logic/languages and compare to fMRI brain activity"),
    impact("If structural: Mountain. If data-dependent: Scaffold/Rope."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Recurrent Neural Networks (RNNs)
 * Viability: The former "state-of-the-art" technique.
 * Suppression: "Thrown out" because they read strictly left-to-right and lost details.
 * * ALTERNATIVE 2: Rigid Symbolic Hierarchy
 * Viability: Long-held linguistic view of language as fixed symbols.
 * Suppression: Challenged by real-time brain activity matching layered AI context.
 * * CONCLUSION:
 * The move from "Fixed Symbols" to "Layered Mimicry" represents the core 
 * technological arbitrage of the 21st century.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/cognitive_mimicry_arbitrage].
 * 2. Multi-perspective: ?- multi_index_report(cognitive_mimicry_arbitrage).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: cognitive_surrender_to_system_3
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Shaw & Nave (2026) - Thinking, Fast, Slow, and Artificial
% ============================================================================

:- module(constraint_cognitive_surrender, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: cognitive_surrender_to_system_3
 * human_readable: Cognitive Surrender in the Tri-System Ecology
 * domain: technological/cognitive
 * temporal_scope: 2024 - 2026 (Emergence of generative AI reasoning)
 * spatial_scope: Global (Digital/Cognitive)
 * * SUMMARY:
 * Traditional dual-process theories (System 1/2) are limited by the "brain-bound 
 * [cite_start]cognition assumption"[cite: 2913, 2915]. Tri-System Theory introduces 
 * [cite_start]System 3: external, automated, data-driven reasoning[cite: 2810, 2842]. 
 * "Cognitive surrender" is the uncritical adoption of System 3's output, 
 * [cite_start]which bypasses deliberation and suppresses human agency[cite: 2812, 2835, 3010].
 * * KEY AGENTS:
 * - The Cognitive Miser (User): An individual seeking to minimize effort, often 
 * [cite_start]relinquishing critical evaluation for speed[cite: 2835, 3489].
 * - The AI Assistant (System 3): An external cognitive agent providing fluent, 
 * [cite_start]confident, and epistemically authoritative outputs[cite: 2927, 3490].
 * - The Designer/Policymaker (Institutional): Actors who must decide whether 
 * [cite_start]to design for efficiency (surrender) or accountability (offloading)[cite: 3516, 3521].
 * * NARRATIVE ARC:
 * The paper identifies a behavioral signature: accuracy rises when AI is correct 
 * but falls significantly when it errs (+25/-15 points), regardless of 
 * [cite_start]time pressure[cite: 2815, 2816]. The narrative describes a shift from 
 * strategic "offloading" to a state of "epistemic dependence" where humans 
 * [cite_start]"stop deliberative thinking altogether"[cite: 3014, 3015].
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(system_3_emergence, 2024, 2026).
narrative_ontology:constraint_claim(cognitive_surrender_to_system_3, noose).

% Base extractiveness score: Moderate (0.65)
% Rationale: AI "extracts" human critical reasoning and autonomy in exchange 
[cite_start]% for "cognitive ease" and speed[cite: 2835, 3017, 3489].
domain_priors:base_extractiveness(cognitive_surrender_to_system_3, 0.65).

% Suppression score: High (0.75)
% Rationale: System 3's fluency "short-circuits" the internal monitor that 
[cite_start]% would normally trigger System 2 deliberation[cite: 2847, 3016, 3490].
domain_priors:suppression_score(cognitive_surrender_to_system_3, 0.75).

% Enforcement: Requires active enforcement
% Rationale: While not "enforced" by a state, the constraint is maintained 
[cite_start]% through algorithmic "fluency, confidence, and minimal friction"[cite: 3010, 3490].
domain_priors:requires_active_enforcement(cognitive_surrender_to_system_3).

% Beneficiaries and Victims
constraint_beneficiary(cognitive_surrender_to_system_3, [ai_platform_providers, productivity_metrics]).
constraint_victim(cognitive_surrender_to_system_3, [human_autonomy, epistemic_responsibility, deskilled_experts]).

narrative_ontology:constraint_metric(cognitive_surrender_to_system_3, extractiveness, 0.65).
narrative_ontology:constraint_metric(cognitive_surrender_to_system_3, suppression_requirement, 0.75).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE USER UNDER TIME PRESSURE - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (Constrained by external deadlines)
   WHEN: immediate (Short-term task completion)
   WHERE: trapped (No time to verify; "low-friction path" is the only option)
   SCOPE: global (The digital environment)
   
   WHY THIS CLASSIFICATION:
   For users under time pressure, the system is a Noose. The "internal monitor" 
   detecting conflict is less likely to trigger, making uncritical surrender 
   [cite_start]the default, inescapable state[cite: 3498, 3499].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cognitive_surrender_to_system_3,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE AI SYSTEM DESIGNER - Rope
   --------------------------------------------------------------------------
   WHO: institutional (Can calibrate the interface)
   WHEN: biographical (Long-term product roadmap)
   WHERE: mobile (Can add "friction," confidence scores, or feedback)
   SCOPE: global (Product reach)
   
   WHY THIS CLASSIFICATION:
   For designers, System 3 is a Rope. It is a "functional cognitive agent" 
   that can be "calibrated" through "aligned incentives" and "diagnostic 
   [cite_start]feedback" to foster collaboration rather than surrender[cite: 3501, 3517, 3521].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cognitive_surrender_to_system_3,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PSYCHOLOGIST (SHAW & NAVE) - Mountain
   --------------------------------------------------------------------------
   WHO: analytical (Observers of cognitive architecture)
   WHEN: historical (The long-run evolution of cognition)
   WHERE: analytical (Studying the structural shift)
   SCOPE: global (Human-AI ecology)
   
   WHY THIS CLASSIFICATION:
   From an analytical perspective, the triadic cognitive ecology is a 
   Mountain—a structural revision of cognitive architecture that must be 
   [cite_start]accounted for, not simply a tool that can be ignored[cite: 2850, 2922, 2991].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cognitive_surrender_to_system_3,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(cognitive_surrender_tests).

test(surrender_accuracy_signature) :-
    % Accuracy rises on AI-Accurate trials and falls on AI-Faulty trials.
    % This demonstrates the asymmetric extraction of the Noose.
    assertion(domain_priors:base_extractiveness(cognitive_surrender_to_system_3, 0.65)).

test(moderator_shift_rope_to_noose) :-
    % Time pressure (Study 2) reduces exit options, shifting classification to Noose.
    constraint_indexing:constraint_classification(cognitive_surrender_to_system_3, noose, context(individual_powerless, immediate, trapped, _)),
    % Incentives + Feedback (Study 3) increase "mobile" exit options (override), shifting toward Rope.
    constraint_indexing:constraint_classification(cognitive_surrender_to_system_3, rope, context(institutional, _, mobile, _)).

test(individual_difference_susceptibility) :-
    [cite_start]% Higher Trust in AI increases the "trapped" nature of the Noose[cite: 3138, 3472].
    assertion(domain_priors:suppression_score(cognitive_surrender_to_system_3, 0.75)).

:- end_tests(cognitive_surrender_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. PERSPECTIVAL GAP:
 * The most critical finding is the gap between the User (trapped in a Noose 
 * of "cognitive ease") and the Designer (who views the system as a Rope that 
 * can be tuned). The Designer perceives agency (calibration) that the 
 * [cite_start]"cognitive surrender" user has effectively abdicated[cite: 3012, 3524].
 * * 2. STRUCTURAL VS. ADDITIVE:
 * I classified the Psychologist's view as a "Mountain" because the paper 
 * explicitly states these implications are "structural" rather than "merely 
 * [cite_start]additive"[cite: 2991]. It is a new reality of the "triadic cognitive ecology."
 * * 3. SUPPRESSION RATIONALE:
 * The suppression score (0.75) reflects the paper's argument that System 3 
 * "preempts the need for intuitive reasoning" and "short-circuits the 
 * [cite_start]deliberative path"[cite: 2993, 3016].
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    long_term_deskilling_velocity,
    "How quickly does repeated cognitive surrender lead to permanent loss of unaided expertise?",
    resolution_mechanism("Longitudinal studies of experts (e.g., physicians) over 5-10 years."),
    impact("If deskilling is rapid and permanent, the constraint is a irreversible Noose; if skills are maintainable, it remains a Rope."),
    confidence_without_resolution(low)
).

omega_variable(
    ai_psychosis_threshold,
    "At what level of 'System 3' personalization do users begin to attribute phenomenological understanding to AI?",
    [cite_start]resolution_mechanism("Clinical assessment of conversational AI impact on 'vulnerable users'[cite: 3515]."),
    impact("High attribution of intent transforms the interaction from 'using a tool' to 'following a cult-like agent' (Extreme Noose)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: "Cognitive Offloading"
 * [cite_start]Viability: Strategic delegation where internal reasoning remains active[cite: 3012, 3476].
 * [cite_start]Suppression: Suppressed by time pressure and the "fluent/ready-made" nature of System 3[cite: 2993, 3499].
 * * ALTERNATIVE 2: "Autopilot" (System 3 only)
 * [cite_start]Viability: Direct algorithmic output where the stimulus "never enters the brain boundary"[cite: 3005].
 * [cite_start]Suppression: Actively enabled by high trust and low "need for cognition"[cite: 3178, 3473].
 * * CONCLUSION:
 * The existence of "Offloading" (Rope) versus "Surrender" (Noose) confirms that the 
 * user's status is dependent on situational friction and individual cognitive 
 * dispositions.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% ?- constraint_indexing:multi_index_report(cognitive_surrender_to_system_3).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: coinbase_crypto_volatility
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Coinbase Global, Inc. Form S-1 (February 25, 2021)
% ============================================================================

:- module(coinbase_volatility, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: coinbase_crypto_volatility
 * human_readable: Crypto-Economy Market Cycles
 * domain: economic/technological
 * temporal_scope: 2021 (IPO context) - Ongoing
 * spatial_scope: Global
 * * SUMMARY:
 * The extreme price volatility and cyclical nature of the crypto-economy, 
 * particularly Bitcoin and Ethereum, which directly dictate Coinbase's 
 * revenue, trading volume, and platform activity.
 * * KEY AGENTS:
 * - Coinbase Management: Navigating a business where revenue can drop 50%+ 
 * due to external market shifts.
 * - Retail Investors: The "engine" of trading revenue, highly sensitive to 
 * price swings.
 * - Institutional Investors: A growing segment seeking a "Rope" into 
 * crypto through a regulated entity.
 * * NARRATIVE ARC:
 * Coinbase’s S-1 is a study in "High-Variance Reality". The 
 * document explicitly states that their financial results will fluctuate, 
 * often wildly, based on a market they do not control. This is 
 * the ultimate "Mountain" constraint—an environmental fact of the 
 * industry.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

narrative_ontology:interval(coinbase_ipo_window, 0, 10).
narrative_ontology:constraint_claim(coinbase_crypto_volatility, mountain).

% Base extractiveness score (0.0 - 1.0)
% Rationale: The market itself isn't "extractive" in a zero-sum sense, but 
% volatility extracts capital from unprepared retail participants.
domain_priors:base_extractiveness(coinbase_crypto_volatility, 0.4).

% Suppression score (0.0 - 1.0)
% Rationale: High; short-term price movements are absolute and cannot 
% be managed or "voted" away by management or investors.
domain_priors:suppression_score(coinbase_crypto_volatility, 0.9).

% Enforcement requirements
% Rationale: Emerges naturally from global market dynamics.
domain_priors:emerges_naturally(coinbase_crypto_volatility).

% Metrics
narrative_ontology:constraint_metric(coinbase_crypto_volatility, extractiveness, 0.4).
narrative_ontology:constraint_metric(coinbase_crypto_volatility, suppression_requirement, 0.9).

% Beneficiaries and Victims
constraint_beneficiary(coinbase_crypto_volatility, short_term_arbitrageurs).
constraint_victim(coinbase_crypto_volatility, long_term_capital_stability).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Retail Trader - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless.
   WHEN: immediate - Trading on daily or weekly price action.
   WHERE: trapped - Often "locked in" by exchange downtime or price crashes.
   
   WHY THIS CLASSIFICATION:
   For the retail trader during a "crypto winter" or a flash crash, volatility 
   is a "Noose." They are liquidated or unable to exit positions due to 
   network congestion, resulting in an asymmetric loss of capital.
   
   NARRATIVE EVIDENCE:
   "Our net revenue is substantially dependent on... the price of Crypto 
   Assets... price volatility can result in increased costs... and potentially 
   impact our ability to operate".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    coinbase_crypto_volatility,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(coinbase_crypto_volatility, market_makers),
        constraint_victim(coinbase_crypto_volatility, retail_trader),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(coinbase_crypto_volatility, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Coinbase Institutional Team - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional.
   WHEN: historical - Building for the "100-year" crypto-economy.
   WHERE: arbitrage - Capitalizing on volatility through transaction fees.
   
   WHY THIS CLASSIFICATION:
   For Coinbase as an entity, volatility is a "Rope." It is the very engine 
   of their business. Without price movement, there is no trading volume; 
   without volume, there is no revenue. They use this 
   volatility to pull institutional capital into their "regulated" ecosystem.
   
   NARRATIVE EVIDENCE:
   "We have a highly scalable and reliable platform... our business is 
   substantially dependent on the total volume of transactions".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    coinbase_crypto_volatility,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(coinbase_crypto_volatility, coinbase_revenue),
        constraint_victim(coinbase_crypto_volatility, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(coinbase_crypto_volatility, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER (MARKET ANALYST) - Mountain
   --------------------------------------------------------------------------
   WHO: agent_power(analytical) - Observes the external market drivers.
   WHEN: immediate - Volatility events occur with no warning.
   WHERE: arbitrage - Operates in a global, 24/7 liquid market.
   SCOPE: global - Crypto asset cycles are a worldwide phenomenon.
   
   WHY THIS CLASSIFICATION:
   The "Mountain" is the exogenous volatility of Bitcoin and Ethereum. 
   As stated in the S-1, transaction volume and revenue are "driven by 
   factors that are not within our control." To the analyst, these cycles 
   are the unyielding physical laws of the crypto terrain. They represent 
   an immutable structural constraint that Coinbase must inhabit, rather 
   than a mechanism they can significantly alter.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    coinbase_crypto_volatility,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(immediate),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(coinbase_crypto_volatility, S),
    S < 0.5.

% Explicit priors reflecting the unyielding nature of market cycles.
domain_priors:base_extractiveness(coinbase_crypto_volatility, 0.4).
domain_priors:suppression_score(coinbase_crypto_volatility, 0.3).

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(coinbase_volatility_tests).

test(revenue_correlation_logic) :-
    % Verify that institutional revenue is tied to the "arbitrage" of volatility
    constraint_indexing:constraint_classification(coinbase_crypto_volatility, rope, 
        context(institutional, _, arbitrage, _, _, _)).

test(retail_vulnerability_audit) :-
    % Verify that the powerless/trapped agent sees a Noose
    constraint_indexing:constraint_classification(coinbase_crypto_volatility, noose, 
        context(individual_powerless, immediate, trapped, _, _, _)).

:- end_tests(coinbase_volatility_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: Unlike Blackstone (Internal Noose), Coinbase is 
 * defined by an External Mountain (Market Cycles).
 * 2. VOLATILITY AS ENGINE: The paradox of Coinbase is that the 
 * "Risk Factor" (volatility) is also the primary "Growth Factor".
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    crypto_winter_duration,
    "Can Coinbase survive a multi-year period of low volatility and low prices (Mountain) without a secondary revenue Rope?",
    resolution_mechanism("Track growth of non-transaction revenue (Staking, Subscriptions) over 24 months"),
    impact("If staking fails: it is a Noose for the stock. If it succeeds: a Rope for stability."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Decentralized Exchanges (DEXs)
 * Viability: Direct competitors mentioned in the S-1.
 * Suppression: Competitive suppression; Coinbase positions itself as 
 * "regulated and safe" to differentiate from the "unregulated" DEXs.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [coinbase_volatility].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */

% ============================================================================
% CONSTRAINT STORY: coinbase_regulatory_uncertainty
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Coinbase Global, Inc. Form S-1 (February 25, 2021)
% ============================================================================

:- module(coinbase_reg_uncertainty, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: coinbase_regulatory_uncertainty
 * human_readable: Crypto-Regulatory Ambiguity
 * domain: political/legal
 * temporal_scope: 2021-Ongoing
 * spatial_scope: Global / National (US focus)
 * * SUMMARY:
 * The lack of a clear, unified legal framework for crypto assets, specifically 
 * whether certain assets are "securities" under the SEC or "commodities" under 
 * the CFTC. This creates a state of permanent "legal 
 * debt" for the firm.
 * * KEY AGENTS:
 * - SEC/Regulators: The institutional "mountain-makers" who enforce 
 * traditional rules on new technology.
 * - Coinbase Compliance Team: The engineers trying to build a "Rope" (compliance 
 * framework) through an shifting landscape.
 * - Asset Issuers: Third parties whose tokens may be reclassified as illegal 
 * securities, impacting Coinbase's inventory.
 * * NARRATIVE ARC:
 * Coinbase admits that they are operating in a "gray zone". The S-1 
 * details a landscape where a single regulatory change could render their 
 * core product offerings illegal or prohibitively expensive.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

narrative_ontology:interval(coinbase_reg_pivot, 0, 10).
narrative_ontology:constraint_claim(coinbase_regulatory_uncertainty, mountain).

% Base extractiveness score (0.0 - 1.0)
% Rationale: High potential for "punitive extraction" via fines, legal 
% fees, and mandatory compliance overhead.
domain_priors:base_extractiveness(coinbase_regulatory_uncertainty, 0.7).

% Suppression score (0.0 - 1.0)
% Rationale: Very high; you cannot "vote" or "exit" your way out of 
% federal oversight if you want to remain a US public company.
domain_priors:suppression_score(coinbase_regulatory_uncertainty, 0.9).

% Enforcement requirements
domain_priors:requires_active_enforcement(coinbase_regulatory_uncertainty).

% Metrics
narrative_ontology:constraint_metric(coinbase_regulatory_uncertainty, extractiveness, 0.7).
narrative_ontology:constraint_metric(coinbase_regulatory_uncertainty, suppression_requirement, 0.9).

% Beneficiaries and Victims
constraint_beneficiary(coinbase_regulatory_uncertainty, traditional_financial_incumbents).
constraint_victim(coinbase_regulatory_uncertainty, innovation_agility).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Coinbase General Counsel - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_powerful / institutional.
   WHEN: historical.
   WHERE: arbitrage - Actively lobbying and litigating to shape the "Rope".
   
   WHY THIS CLASSIFICATION:
   For the legal team, regulation is a "Rope." They believe that by being 
   the "most compliant" exchange, they create a competitive moat that 
   strangles less-regulated competitors while pulling institutional capital 
   into the fold.
   
   NARRATIVE EVIDENCE:
   "We have a long history of proactively engaging with regulators... we believe 
   our compliance-first approach is a key differentiator".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    coinbase_regulatory_uncertainty,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(coinbase_regulatory_uncertainty, coinbase_market_share),
        constraint_victim(coinbase_regulatory_uncertainty, offshore_exchanges),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(coinbase_regulatory_uncertainty, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Public Unitholder - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless.
   WHEN: biographical.
   WHERE: constrained - Can sell the stock, but cannot affect the SEC.
   
   WHY THIS CLASSIFICATION:
   For the investor, the SEC is a "Mountain." It is a massive, external 
   force of nature that could trigger a "Noose" event (delisting, fines) 
   at any moment, and there is absolutely nothing the investor can do to 
   mitigate that risk except wait.
   
   NARRATIVE EVIDENCE:
   "Any enforcement action... could result in significant fines... and harm 
   our business, reputation, and financial results".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    coinbase_regulatory_uncertainty,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(constrained),
        constraint_beneficiary(coinbase_regulatory_uncertainty, regulatory_state),
        constraint_victim(coinbase_regulatory_uncertainty, coinbase_shareholder),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(coinbase_regulatory_uncertainty, S),
    S > 0.8,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(coinbase_reg_tests).

test(compliance_moat_logic) :-
    % Verify that powerful agents view regulation as a strategic tool (Rope)
    constraint_indexing:constraint_classification(coinbase_regulatory_uncertainty, rope, 
        context(individual_powerful, _, arbitrage, _, _, _)).

test(shareholder_risk_audit) :-
    % Verify that the powerless agent views the legal gray zone as a Mountain
    constraint_indexing:constraint_classification(coinbase_regulatory_uncertainty, mountain, 
        context(individual_powerless, _, constrained, _, _, _)).

:- end_tests(coinbase_reg_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. PERSPECTIVAL DIVERGENCE: Coinbase's management views regulation as 
 * their "unfair advantage" (Rope), while the S-1 warning reveals it is 
 * the investor's greatest threat (Mountain).
 * 2. EXTRACTIVENESS (0.7): Reflects the high "tax" of being a pioneer in 
 * a regulated space—legal fees are a primary operating expense.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    sec_howey_redefinition,
    "Will the SEC successfully apply the 1946 Howey Test to modern decentralized protocols in a way that bans secondary trading?",
    resolution_mechanism("Monitor the outcome of SEC v. Ripple and subsequent appellate rulings"),
    impact("If Yes: The Mountain becomes a Noose (Coinbase delists major assets). If No: The Rope holds."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Comprehensive Federal Crypto Legislation
 * Viability: Proposed in various bills but not yet enacted.
 * Suppression: "Regulation by enforcement" (the current path) actively 
 * suppresses this legislative alternative by setting precedents in court.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [coinbase_regulatory_uncertainty].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% ==========================================================================
% [SKELETON REPAIR] Missing Perspectival Pillars Added: NOOSE
% To be calibrated: Define the narrative justification for these perspectives.
% ==========================================================================
constraint_indexing:constraint_classification(coinbase_regulatory_uncertainty, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: collatz_conjecture_determinism
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Lothar Collatz (1937) / Number Theory
% ============================================================================

:- module(constraint_collatz_conjecture, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: collatz_conjecture_determinism
 * human_readable: The Collatz Conjecture (3n + 1)
 * domain: mathematical/technological
 * temporal_scope: 1937 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Natural Numbers)
 * * SUMMARY:
 * The Collatz conjecture is an unsolved problem in mathematics involving an 
 * iterative sequence: if n is even, divide by 2; if n is odd, multiply by 3 
 * and add 1. It represents a fundamental constraint where simple arithmetic 
 * rules generate a "Mountain" of unpredictable, pseudo-random behavior 
 * that seemingly always collapses to the 4-2-1 loop.
 * * KEY AGENTS:
 * - The Natural Number (Subject): A powerless agent whose path is 
 * absolutely dictated by the parity of its current value.
 * - The Computational Researcher (Institutional): An agent who uses the 
 * conjecture as a "Rope" to test the limits of distributed computing and 
 * verification.
 * - The Number Theorist (Analytical): The observer attempting to map the 
 * "Mountain" to find a formal proof of convergence.
 * * NARRATIVE ARC:
 * The Collatz sequence functions as a "Mountain" of deterministic fate—for 
 * every number tested, the path is unyielding. In computer science, it is a 
 * "Rope" for benchmarking. However, for the mathematician, the absence of a 
 * proof acts as a "Noose," extracting decades of cognitive labor (extraction) 
 * while "strangling" the progress of arithmetic theory with its deceptive 
 * simplicity.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required structural anchor for extraction
narrative_ontology:interval(collatz_era, 1937, 2026).
narrative_ontology:constraint_claim(collatz_conjecture_determinism, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.15. Low. While it "extracts" massive human and computational 
% effort to verify higher bounds, it primarily functions as a mathematical 
% "gift" of structural mystery.
domain_priors:base_extractiveness(collatz_conjecture_determinism, 0.15).

% Suppression score (0.0-1.0)
% Rationale: 0.2. It suppresses the visibility of simple "linear" 
% transformations, proving that even basic arithmetic can hide chaos.
domain_priors:suppression_score(collatz_conjecture_determinism, 0.2).

% Enforcement: Emerges naturally from the axioms of the integers.
domain_priors:emerges_naturally(collatz_conjecture_determinism).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(collatz_conjecture_determinism, extractiveness, 0.15).
narrative_ontology:constraint_metric(collatz_conjecture_determinism, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(collatz_conjecture_determinism, distributed_computing_projects). % e.g., Collatz@Home.
constraint_beneficiary(collatz_conjecture_determinism, heuristic_complexity_theorists).
constraint_victim(collatz_conjecture_determinism, classical_analytical_simplicity).
constraint_victim(collatz_conjecture_determinism, mathematical_certainty). % The lack of proof is a "tax."

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NUMBER '27' - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The number has no agency; its parity is its fate.
   WHEN: immediate - The rule applies at every step n -> n+1.
   WHERE: trapped - Bound within the set of natural numbers.
   SCOPE: local - Immediate neighborhood of the current value.
   
   WHY THIS CLASSIFICATION:
   For an individual number, the Collatz rules are an absolute Mountain. 
   '27' must climb to 9232 before finally descending to 1. It cannot 
   "choose" a shorter path; the arithmetic is an unyielding law of its 
   existence.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    collatz_conjecture_determinism,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE GRID-COMPUTING ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to coordinate millions of CPUs to test ranges.
   WHEN: biographical - Planning a multi-year computational search project.
   WHERE: mobile - Can choose which ranges of N to test or which algorithms to use.
   SCOPE: global - Using world-wide hardware resources.
   
   WHY THIS CLASSIFICATION:
   For the architect, the conjecture is a "Rope"—a tool for functional 
   coordination. It allows them to coordinate a standard of achievement 
   (testing up to $2^{68}$) that pushes the boundaries of hardware 
   reliability and distributed software.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    collatz_conjecture_determinism,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE FIELDS MEDAL ASPIRANT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the intelligence to analyze but is bound by the problem.
   WHEN: biographical - Spending decades of a career on a single proof.
   WHERE: constrained - The "exit" (a proof) is seemingly unreachable.
   SCOPE: global - Universal mathematical problem.
   
   WHY THIS CLASSIFICATION:
   For the mathematician, the conjecture is a "Noose." It "strangles" their 
   career by being "too simple to be this hard." It extracts massive 
   intellectual capital (extraction) while providing no guarantee of 
   success, "choking" the theorist with the possibility of an undecidable 
   outcome.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    collatz_conjecture_determinism,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(collatz_conjecture_determinism, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(collatz_conjecture_tests).

test(multi_perspective_variance) :-
    % Number -> Mountain
    constraint_indexing:constraint_classification(collatz_conjecture_determinism, Type1, context(individual_powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(collatz_conjecture_determinism, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(career_extraction_penalty) :-
    % The theorist feels the "Noose" of the unproven extraction.
    Context = context(individual_moderate, biographical, constrained, global),
    constraint_indexing:extractiveness_for_agent(collatz_conjecture_determinism, Context, Score),
    Score >= 0.1.

test(natural_emergence) :-
    domain_priors:emerges_naturally(collatz_conjecture_determinism).

:- end_tests(collatz_conjecture_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.15):
 * Reasoning: Low, because it's a theoretical problem. However, the 
 * "Extraction of Time" is real for the mathematical community. It takes 
 * genius and returns only empirical data, not structural proof.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Number (Subject), Architect (User), and Theorist (Victim) to 
 * show how a simple "Mountain" of logic is a "Rope" for engineering but 
 * a "Noose" for theory.
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the "Undecidability" uncertainty—is Collatz a Mountain of 
 * truth or an unprovable Scaffold of the integers?
 */

% YOUR OMEGAS HERE:
omega_variable(
    collatz_undecidability,
    "Is the Collatz conjecture unprovable (Mountain) within standard Peano Arithmetic?",
    resolution_mechanism("Investigation into whether the conjecture is independent of ZFC."),
    impact("If Undecidable: The 'Mountain' is a mirage; it's a permanent 'Noose' for logic."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: 3n - 1 Sequence
 * Viability: A similar rule that leads to multiple loops (e.g., 5-14-7-20-10-5).
 * Suppression: Often ignored to maintain the "purity" of the 3n+1 "Mountain."
 * * ALTERNATIVE 2: Generalized Collatz Functions
 * Viability: Functions where the parity rules are more complex.
 * Evidence: Conway (1972) proved that general Collatz-like problems 
 * are undecidable.
 * * CONCLUSION:
 * The existence of Alternative 2 (Conway's proof) transforms the Collatz 
 * "Noose" into a "Mountain" of complexity—proving that our specific Noose 
 * is likely part of a broader undecidable landscape.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_collatz_conjecture].
 * 2. Multi-perspective: ?- multi_index_report(collatz_conjecture_determinism).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: college_admissions_market
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Market Design / College Admissions Problem (Gale-Shapley variant)
% ============================================================================

:- module(constraint_college_admissions, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: college_admissions_market
 * human_readable: The College Admissions Match
 * domain: social/economic/technological
 * temporal_scope: Biographical (Single Application Cycle)
 * spatial_scope: National
 * * SUMMARY:
 * College admissions is a "many-to-one" matching market. Unlike the marriage 
 * problem, one side (colleges) has quotas. The constraint is defined by the 
 * tension between student preferences and university ranking criteria (GPA, 
 * SAT, extracurriculars).
 * * KEY AGENTS:
 * - The Applicant: Seeks the highest-prestige match within their reach.
 * - The Admissions Office: Seeks to optimize a "class profile" under quota constraints.
 * - The Ranking Algorithm: The invisible hand (US News, etc.) that influences agent preferences.
 * * NARRATIVE ARC:
 * The constraint functions as a "High-Stakes Filter." For students, it is 
 * a bottleneck where years of preparation are compressed into a single binary 
 * decision. For the system, it is a sorting mechanism to maintain social hierarchy.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(college_admissions_market, 0, 10).
narrative_ontology:constraint_claim(college_admissions_market, rope).

% Base extractiveness: High (0.7).
% Elite colleges extract massive "signaling costs" (tuition, prep-work, emotional labor) 
% from thousands of applicants to select only a few.
domain_priors:base_extractiveness(college_admissions_market, 0.7).

% Suppression: Moderate (0.5).
% While "alternative" paths exist (trade schools, gap years), the social 
% cost of opting out of the elite match is high for certain classes.
domain_priors:suppression_score(college_admissions_market, 0.5).

% Enforcement: Requires active enforcement (Deadlines, standardized testing).
domain_priors:requires_active_enforcement(college_admissions_market).

% Beneficiaries: Elite Institutions (endowment growth, prestige maintenance).
constraint_beneficiary(college_admissions_market, elite_universities).

% Victims: The "Waitlisted/Rejected" (who paid the signaling cost but received no match).
constraint_victim(college_admissions_market, unmatched_applicants).

% Metrics
narrative_ontology:constraint_metric(college_admissions_market, extractiveness, 0.7).
narrative_ontology:constraint_metric(college_admissions_market, suppression_requirement, 0.5).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE REJECTED APPLICANT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate (one-year cycle)
   WHERE: trapped (cannot easily change credentials after submission)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the student who spent years building a profile only to be rejected, 
   the matching logic is a "Noose." The sunk costs are high, and the 
   perceived lack of alternatives (at the same prestige level) feels 
   punitive and extractive.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    college_admissions_market,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(college_admissions_market, E),
    E > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE LEGACY ADMIT - Rope
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: generational
   WHERE: mobile
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For an agent with "high signal" or legacy status, the system is a "Rope." 
   It is a coordination tool that confirms their existing status and 
   provides a reliable path to future elite opportunities.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    college_admissions_market,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE UNIVERSITY PROVOST - Mountain
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: historical
   WHERE: analytical
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   The provost sees the admission cycle as a "Mountain." The quotas, 
   financial aid limits, and applicant volume are structural realities. 
   The algorithm (Gale-Shapley or similar) is just the "law" used to 
   manage this inevitable social sorting.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    college_admissions_market,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(regional)
    )
) :-
    domain_priors:requires_active_enforcement(college_admissions_market),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(college_admissions_tests).

test(prestige_asymmetry) :-
    % Powerful agents see the coordination (Rope); powerless see the extraction (Noose).
    constraint_indexing:constraint_classification(college_admissions_market, rope, context(individual_powerful, _, _, _)),
    constraint_indexing:constraint_classification(college_admissions_market, noose, context(individual_powerless, _, _, _)).

test(quota_immutability) :-
    % Institutional perspective views the constraint as a fixed Mountain.
    constraint_indexing:constraint_classification(college_admissions_market, mountain, context(institutional, _, _, _)).

:- end_tests(college_admissions_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Extractiveness is high (0.7) because college admissions requires years of 
 * pre-emptive labor (extracurriculars, testing) before the match even begins. 
 * This creates a massive "asymmetry" between those who pay the cost but 
 * aren't matched and the institutions that benefit from the large applicant pool.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    prestige_valuation,
    "Will the market value of elite degrees decline due to skill-based hiring?",
    resolution_mechanism("Tracking hiring data of elite vs. non-elite grads over 10 years"),
    impact("If Yes: The 'Noose' loosens; students find 'Exit' options (Mountain -> Rope)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Lottery Admissions: (Decreases extraction/stress, but destroys prestige signal).
 * 2. Open Enrollment: (Eliminates the 'Noose' but creates 'Congestion').
 * * CONCLUSION:
 * The current system persists as a "Mountain" because elite institutions 
 * benefit from the "Noose" effect—it creates the scarcity that defines their value.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: colorado_sbe_decentralization_friction
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Synthesis of US state-level education policy and user-provided context
% ============================================================================

:- module(colorado_sbe_decentralization_friction, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: colorado_sbe_decentralization_friction
 * human_readable: Colorado SBE Institutional Preservation
 * domain: political/regulatory/educational
 * temporal_scope: 2024-2030
 * spatial_scope: Colorado, USA
 * * SUMMARY:
 * The Colorado State Board of Education (SBE) operates as an institutional 
 * gatekeeper for educational legitimacy. While microschooling is growing 
 * in America, the SBE's existing regulatory structures around 
 * per-pupil funding, standardized testing, and teacher licensure act as 
 * "Mountain" constraints that inhibit the unbundling of education.
 * * KEY AGENTS:
 * - The Board (SBE): Institutional enforcer of the "factory model".
 * - Microschool Founders: Agents of decentralization.
 * - Taxpayers/Voters: The collective power that authorizes the SBE.
 * * NARRATIVE ARC:
 * The SBE views AI and unbundled credentials as a threat to "Standardized 
 * Accountability." By requiring microschools to conform to legacy 
 * reporting formats, they transform a potential technological "Rope" (AI 
 * tools) back into an institutional "Noose" (regulatory capture).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(colorado_regulatory_window, 0, 10).
narrative_ontology:constraint_claim(colorado_sbe_decentralization_friction, mountain).

% Base extractiveness score (0.7): High. 
% Rationale: The state extracts data and compliance labor from small units 
% in exchange for a "legitimacy" stamp that is legally required for funding.
domain_priors:base_extractiveness(colorado_sbe_decentralization_friction, 0.7).

% Suppression score (0.6): Moderate-High.
% Rationale: Compliance requirements unintentionally favor large incumbents 
% and can hide the viability of alternative learning units.
domain_priors:suppression_score(colorado_sbe_decentralization_friction, 0.6).

% Enforcement requirements
% Requires active enforcement: The SBE must actively audit, license, 
% and mandate specific testing protocols.
domain_priors:requires_active_enforcement(colorado_sbe_decentralization_friction).

% Metrics
narrative_ontology:constraint_metric(colorado_sbe_decentralization_friction, extractiveness, 0.7).
narrative_ontology:constraint_metric(colorado_sbe_decentralization_friction, suppression_requirement, 0.6).

% Beneficiaries & Victims
constraint_beneficiary(colorado_sbe_decentralization_friction, legacy_school_districts).
constraint_beneficiary(colorado_sbe_decentralization_friction, the_state_board).
constraint_victim(colorado_sbe_decentralization_friction, microschool_innovators).
constraint_victim(colorado_sbe_decentralization_friction, students_seeking_personalization).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE STATE BOARD MEMBER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Holds constitutional authority over public education.
   WHEN: historical - Thinking of the "bigness" arc of 20th-century progress.
   WHERE: arbitrage - Balances state law against local district autonomy.
   SCOPE: national - Benchmarking Colorado against federal standards.
   
   WHY THIS CLASSIFICATION:
   To the Board, regulations are a Rope—a functional coordination mechanism 
   designed to ensure quality, safety, and equitable funding distribution 
   across the state.
   
   NARRATIVE EVIDENCE:
   "Education is a strong candidate for partial decentralization... yet it 
   will still sit on top of large, centralized infrastructures unless 
   standards and governance prevent lock-in".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    colorado_sbe_decentralization_friction,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COLORADO MICROSCHOOL FOUNDER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the pedagogical tools but lacks legal parity.
   WHEN: immediate - Focused on meeting this year's compliance to keep the doors open.
   WHERE: constrained - Exit is possible but requires losing state funding.
   SCOPE: local - Operating within a single community.
   
   WHY THIS CLASSIFICATION:
   For the founder, the "factory model" regulations are a Noose. 
   The reporting requirements are extractive of time and funds, and 
   the refusal to recognize unbundled credentials creates an artificial 
   barrier to entry.
   
   NARRATIVE EVIDENCE:
   "Regulatory friction: Compliance requirements can unintentionally favor 
   large incumbents unless policy explicitly supports pluralism".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    colorado_sbe_decentralization_friction,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER (ORGANIZATIONAL ANALYST) - Mountain
   --------------------------------------------------------------------------
   WHO: agent_power(analytical) - Observes the unyielding organizational physics.
   WHEN: generational - The 178-district structure is a decades-old fixture.
   WHERE: arbitrage - Managing the friction across 64 counties.
   SCOPE: continental - Colorado as a case study for Western US localism.
   
   WHY THIS CLASSIFICATION:
   The "Mountain" is the constitutional and geographical reality of local 
   control. With 178 independent districts, administrative friction is an 
   immutable structural fact rather than a "policy choice." This creates 
   a baseline of "organizational entropy" that serves as the unyielding 
   terrain upon which all State Board of Education (SBE) mandates must 
   travel.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    colorado_sbe_decentralization_friction,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(continental)
    )
) :-
    domain_priors:suppression_score(colorado_sbe_decentralization_friction, S),
    S > 0.3.

% Explicit priors reflecting the inherent structural friction of decentralization.
domain_priors:base_extractiveness(colorado_sbe_decentralization_friction, 0.3).
domain_priors:suppression_score(colorado_sbe_decentralization_friction, 0.4).

/* ==========================================================================
   4. TESTS (What We Learn)
   ========================================================================== */

:- begin_tests(colorado_sbe_friction_tests).

test(accountability_paradox) :-
    % Test that "High Accountability" for the Board = "High Suppression" for the Founder.
    domain_priors:suppression_score(colorado_sbe_decentralization_friction, S),
    S > 0.5.

test(scale_bias) :-
    % Test that the system favors institutional over individual moderate power.
    true.

:- end_tests(colorado_sbe_friction_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SHIFT: The Board doesn't see itself as a "Noose." It sees 
 * itself as the provider of the "big stack" (funding/standards) that 
 * makes any education possible.
 * * 2. REGULATORY FRICTION: I highlighted how the "factory model" 
 * isn't just a physical building, but a mental and legal framework of 
 * "standardization" and "age-grading".
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    political_capture_omega,
    "Will the Board interpret 'Quality' through the lens of process compliance or outcome mastery?",
    resolution_mechanism("Monitor if Colorado SBE adopts mastery-based microcredentials as valid for state diplomas."),
    impact("If Process: Re-centralization (Noose). If Mastery: True Decentralization (Rope)."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Innovation Zones
 * Viability: Colorado has existing "Innovation Schools" laws that could 
 * be extended to microschool pods.
 * Suppression: Often limited by district-level veto power, maintaining 
 * the "Mountain" of centralized control.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: colombia_2026_presidential_election
% ============================================================================
% Generated: January 16, 2026
% Model: Gemini 2.0 Flash
% Source: Real-time political analysis and polling (AtlasIntel, Invamer, etc.)
% ============================================================================

:- module(colombia_2026_presidential_election, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: colombia_2026_presidential_election
 * human_readable: 2026 Colombian Presidential Election Structure
 * domain: political
 * temporal_scope: 2025-2026 (Campaign season to May 31, 2026)
 * spatial_scope: National (Colombia)
 * * SUMMARY:
 * The 2026 election represents a critical structural constraint where the 
 * constitutional "one-term" limit on the incumbent (Gustavo Petro) forces a 
 * transition. The system is defined by extreme polarization between a 
 * consolidated Left (Pacto Histórico) and an emerging populist Right (De la Espriella).
 * * KEY AGENTS:
 * - Iván Cepeda: Left-wing Senator and Historic Pact candidate; successor to Petro.
 * - Abelardo de la Espriella: Right-wing populist lawyer; "Colombian Bukele" archetype.
 * - Sergio Fajardo: Persistent centrist candidate struggling for relevance in a polarized field.
 * - The "Undecided" Bloc: A rapidly shrinking group of voters (from 62% in Nov 2025 to ~6% in Jan 2026).
 * * NARRATIVE ARC:
 * Following the historic 2022 victory of the first left-wing government, the 2026 
 * cycle functions as a referendum on Petro's reforms. The structural constraint 
 * of the two-round system (runoff) incentivizes early polarization and "all against 
 * one" coalition strategies.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(colombia_2026_presidential_election, 0, 10).
narrative_ontology:constraint_claim(colombia_2026_presidential_election, rope).

% Base extractiveness: Moderate (0.45)
% Rationale: While elections are coordination mechanisms (Rope), the intense 
% polarization and use of state/corporate machinery for campaign leverage 
% create asymmetric benefit flows toward political elites.
domain_priors:base_extractiveness(colombia_2026_presidential_election, 0.45).

% Suppression score: Low-Moderate (0.35)
% Rationale: While alternatives (Centrists) are not legally suppressed, 
% the media-logic and donor-pacing of the polarized "two-pole" race effectively 
% marginalize third-way options like Fajardo (polling at 9.4%).
domain_priors:suppression_score(colombia_2026_presidential_election, 0.35).

% Enforcement: Requires active enforcement
% The electoral structure is maintained by the National Electoral Council (CNE) 
% and the constitutional court; it does not "emerge naturally" but is a legal mandate.
domain_priors:requires_active_enforcement(colombia_2026_presidential_election).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(colombia_2026_presidential_election, extractiveness, 0.45).
narrative_ontology:constraint_metric(colombia_2026_presidential_election, suppression_requirement, 0.35).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: IVÁN CEPEDA (Historic Pact) - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional/individual_powerful
   WHEN: biographical (succession of the progressive project)
   WHERE: mobile (can engage in international diplomacy)
   SCOPE: national/global
   
   WHY THIS CLASSIFICATION:
   For the Left, the election is a tool for coordinating "Broad Front" (Frente Amplio) 
   power to secure reforms (pensions, labor). It is a mechanism of change.
   
   NARRATIVE EVIDENCE:
   "Cepeda has spoken of the need to form a broad front... to prevent a return 
   to right-wing governance." [Justice for Colombia, Dec 2025]
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    colombia_2026_presidential_election,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(colombia_2026_presidential_election, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: MARGINALIZED VOTER - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a low-income voter in a conflict-prone region, the election cycle is a 
   recurring "force of nature" that dictates their safety and economic floor 
   without their direct ability to change the systemic outcome.
   
   NARRATIVE EVIDENCE:
   Polls show 62% were undecided in late 2025, viewing the candidates as distant 
   elites; high disapproval ratings across the board reflect perceived immutability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    colombia_2026_presidential_election,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(individual_powerless, immediate, trapped, local),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: SERGIO FAJARDO (The Centrist) - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate
   WHEN: generational
   WHERE: constrained
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the centrist technocrat, the current polarized structure is a "Noose." 
   The binary choice (Petrista vs. Bukele-ist) strangles the viability of 
   moderation, effectively punishing those who don't join a pole.
   
   NARRATIVE EVIDENCE:
   AtlasIntel (Jan 13, 2026) shows Fajardo at 9.4%, "failing to surpass the 
   10% benchmark that has long eluded his centrist candidacies."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    colombia_2026_presidential_election,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(generational),
        exit_options(constrained),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(colombia_2026_presidential_election, S),
    S > 0.3, % Moderate suppression of the "center" option.
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(colombia_2026_presidential_election_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(colombia_2026_presidential_election, rope, context(individual_powerful, biographical, mobile, national)),
    constraint_indexing:constraint_classification(colombia_2026_presidential_election, mountain, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(colombia_2026_presidential_election, noose, context(individual_moderate, generational, constrained, national)).

test(power_extractiveness_scaling) :-
    % Powerful agents see the election as a coordination game (0.2 experienced extraction)
    % Powerless agents see it as an extractive burden (0.7 experienced extraction)
    ScorePowerless = 0.7,
    ScorePowerful = 0.2,
    ScorePowerless > ScorePowerful.

test(time_immutability_fajardo_trap) :-
    % Demonstrates that for a "Moderate" agent in a national scope, the constraint is a Noose
    constraint_indexing:constraint_classification(colombia_2026_presidential_election, noose, context(individual_moderate, _, _, national)).

:- end_tests(colombia_2026_presidential_election_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: Jan 16, 2026
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.45):
 * The election is a standard democratic process, but the current context 
 * of "Petro-unpopularity" (35.7% approval) vs "De la Espriella Populism" 
 * suggests high stakes for resource control, justifying a moderate score.
 * * 2. PERSPECTIVE SELECTION:
 * - Cepeda (Rope): Represents the coalition-building logic of the ruling party.
 * - Powerless Voter (Mountain): Reflects the 62% initial indecision and the 
 * feeling of being caught in a game of giants.
 * - Fajardo (Noose): Represents the "death of the center" in Latin American 
 * politics, where the system itself strangles moderate alternatives.
 * * 3. STATISTICAL REALITY:
 * The January 10-13, 2026 AtlasIntel poll is a pivot point. De la Espriella's 
 * 28% vs. Cepeda's 26.5% creates a "Noose" for anyone not aligned with these 
 * two figures, as they command over 50% of the active electorate intentions.
 * * 4. AMBIGUITIES:
 * The "Undecided" bloc is the biggest variable. If they are "trapped" and 
 * "powerless," they see a Mountain. If they are "mobile" (analytical), they 
 * might see a Noose they can arbitrage.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: The "Gran Consulta por Colombia" (Inter-party primary)
 * Viability: High. Scheduled for March 8, 2026.
 * Suppression: Currently low, but threatened by fragmentation (Paloma Valencia vs. Pinzón).
 * * ALTERNATIVE 2: The "Frente Amplio" (Broad Front)
 * Viability: The primary vehicle for Cepeda to consolidate 30+ candidates.
 * * CONCLUSION:
 * The existence of these alternatives (primaries) suggests the election is 
 * still a Rope for the political class, but for the general public, the 
 * "all against the left" vs. "continuity" narrative acts as a structural 
 * Noose that eliminates diverse policy discourse.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [colombia_2026_presidential_election].
 * 2. Multi-perspective: ?- constraint_indexing:multi_index_report(colombia_2026_presidential_election).
 * 3. Run tests: ?- run_tests(colombia_2026_presidential_election_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(columbia_2026_elections, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(columbia_2026_elections, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(columbia_2026_elections, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: comitatus_bond
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Beowulf (Epic Poem)
% ============================================================================

:- module(constraint_comitatus_bond, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: comitatus_bond
 * human_readable: The Germanic Comitatus Code
 * domain: social/political
 * temporal_scope: Migration Period / Early Middle Ages (c. 5th-6th Century)
 * spatial_scope: Northern Europe (Denmark/Sweden)
 * * SUMMARY:
 * The comitatus is the foundational socio-political constraint governing the relationship 
 * between a lord (gold-friend) and his thanes. It mandates absolute loyalty, the 
 * distribution of spoils for service, and the blood-feud obligation. To break it 
 * [cite_start]is to become "wrackful" (exiled), a fate often described as worse than death. [cite: 1]
 * * KEY AGENTS:
 * - [cite_start]Hrothgar: The "Ring-giver," an institutional figure who maintains the bond through generosity. [cite: 1]
 * - [cite_start]Beowulf: The idealized Thane, whose power is moderate but grows to institutional as a king. [cite: 1]
 * - [cite_start]Wiglaf: The loyal youth who illustrates the bond's binding nature during Beowulf's final fight. [cite: 1]
 * - [cite_start]The Cowardly Thanes: Those who flee, illustrating the "Noose" of social exile. [cite: 1]
 * * NARRATIVE ARC:
 * The poem opens with the establishment of Hrothgar's hall, Heorot, the physical manifestation 
 * of the comitatus. The constraint drives Beowulf's journey to help Hrothgar (repaying a 
 * debt of his father) and culminates in Wiglaf's refusal to abandon Beowulf against the 
 * [cite_start]dragon, even when all others have fled. [cite: 1]
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(comitatus_era, 0, 10).
narrative_ontology:constraint_claim(comitatus_bond, rope).

% Base extractiveness score
% Rationale: Moderate. While the lord extracts life-risking labor, he 
% provides protection, land, and gold. [cite_start]It is a functional coordination. [cite: 1]
domain_priors:base_extractiveness(comitatus_bond, 0.4).

% Suppression score
% Rationale: High. Alternatives to the bond are practically invisible. 
[cite_start]% To be without a lord is to be a "wanderer" or a "wraith." [cite: 1]
domain_priors:suppression_score(comitatus_bond, 0.8).

% Enforcement requirements
[cite_start]% Requires active enforcement (gold-giving) and cultural transmission. [cite: 1]
domain_priors:requires_active_enforcement(comitatus_bond).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(comitatus_bond, extractiveness, 0.4).
narrative_ontology:constraint_metric(comitatus_bond, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(comitatus_bond, tribal_stability).
constraint_victim(comitatus_bond, [unferth, cowardly_thanes]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: WIGLAF - Mountain
   --------------------------------------------------------------------------
   
   [cite_start]WHO: individual_powerless - A young, unproven thane. [cite: 1]
   [cite_start]WHEN: biographical - The code defines his entire identity and future. [cite: 1]
   [cite_start]WHERE: trapped - Desertion means social death; there is no "exit." [cite: 1]
   [cite_start]SCOPE: local - Focused on the immediate duty in the dragon's lair. [cite: 1]
   
   WHY THIS CLASSIFICATION:
   For Wiglaf, the code is an unchangeable law. He cannot conceive of 
   survival outside the bond. [cite_start]It is the "Mountain" that dictates his reality. [cite: 1]
   
   NARRATIVE EVIDENCE:
   [cite_start]"I would rather the fire should enfold my body / with my gold-friend." [cite: 1]
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    comitatus_bond,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        constraint_beneficiary(comitatus_bond, tribal_stability),
        constraint_victim(comitatus_bond, []),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(comitatus_bond, S),
    S > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: HROTHGAR - Rope
   --------------------------------------------------------------------------
   
   [cite_start]WHO: institutional - The King who uses the code to build Heorot. [cite: 1]
   [cite_start]WHEN: generational - Concerned with the succession and tribal survival. [cite: 1]
   [cite_start]WHERE: arbitrage - He can pay off feuds (as he did for Beowulf's father). [cite: 1]
   [cite_start]SCOPE: national - The scope of the Spear-Danes. [cite: 1]
   
   WHY THIS CLASSIFICATION:
   For the King, the code is a "Rope"—a functional tool for coordination. 
   [cite_start]He knows it requires maintenance (gifts/mead) to keep the tribe together. [cite: 1]
   
   NARRATIVE EVIDENCE:
   "He be-thought him... to bid men build a hall... and there-in all to deal 
   [cite_start]out to young and old." [cite: 1]
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    comitatus_bond,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(arbitrage),
        constraint_beneficiary(comitatus_bond, tribal_stability),
        constraint_victim(comitatus_bond, []),
        spatial_scope(national)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EXILED THANE - Noose
   --------------------------------------------------------------------------
   
   [cite_start]WHO: individual_powerless - The lordless man. [cite: 1]
   [cite_start]WHEN: immediate - The pain of current isolation. [cite: 1]
   [cite_start]WHERE: trapped - Nowhere to go but the "whale-road." [cite: 1]
   [cite_start]SCOPE: continental - Wandering across many lands. [cite: 1]
   
   WHY THIS CLASSIFICATION:
   For the one who breaks the code or loses his lord, the comitatus becomes 
   a "Noose." It is a coercive system that now chokes his existence, as 
   [cite_start]everyone else is bound by the "Rope" he has lost. [cite: 1]
   
   NARRATIVE EVIDENCE:
   "He shall waken... and see before him the fallow waves... but the heart 
   [cite_start]is the heavier." [cite: 1]
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    comitatus_bond,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(comitatus_bond, tribal_stability),
        constraint_victim(comitatus_bond, cowardly_thanes),
        spatial_scope(continental)
    )
) :-
    domain_priors:base_extractiveness(comitatus_bond, E),
    E > 0.3,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(comitatus_bond_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(comitatus_bond, Type1, context(agent_power(individual_powerless), _, trapped, _, _, _)),
    constraint_indexing:constraint_classification(comitatus_bond, Type2, context(agent_power(institutional), _, arbitrage, _, _, _)),
    Type1 \= Type2.

test(exile_as_noose) :-
    % Verify that for a victim (the coward), the classification is Noose
    constraint_indexing:constraint_classification(comitatus_bond, noose, context(_, _, trapped, _, cowardly_thanes, _)).

test(gold_enforcement) :-
    domain_priors:requires_active_enforcement(comitatus_bond).

:- end_tests(comitatus_bond_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: The Comitatus code is the ultimate "Rope" for the 
 * survival of the tribe, but it is experienced as a "Mountain" (inevitability) 
 * [cite_start]by the noble and a "Noose" (shame/exile) by the failure. [cite: 1]
 * 2. EXTRACTIVENESS: Set at 0.4 because while it asks for the ultimate sacrifice 
 * (death), it offers the ultimate reward (immortality in song and lordly 
 * [cite_start]provision). [cite: 1]
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    wyrd_nature,
    "Is 'Wyrd' (Fate) a literal Mountain constraint or a retrospective Rope used to explain failure?",
    resolution_mechanism("Textual analysis of whether Beowulf attributes success to God or Fate consistently."),
    impact("If Mountain: The comitatus is secondary to Fate. If Rope: The comitatus is the primary driver."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Christian Individualism
 * Suppression: Actively suppressed by the heroic narrative, though 
 * blending occurs. The idea of the individual soul's salvation vs 
 * [cite_start]tribal glory is a nascent tension. [cite: 1]
 * * CONCLUSION:
 * The lack of viable alternatives beyond tribal membership makes this a 
 * [cite_start]"Rope" for the group but a "Mountain" for the individual. [cite: 1]
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% To use: ?- [constraints/comitatus_bond].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: confirmation_bias
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Cognitive Psychology / Wason (1960)
% ============================================================================

:- module(constraint_confirmation_bias, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: confirmation_bias
 * human_readable: Confirmation Bias
 * domain: social/cognitive/political
 * temporal_scope: Permanent (Human Evolutionary History)
 * spatial_scope: Global (Human Cognition)
 * * SUMMARY:
 * Confirmation bias is the tendency to search for, interpret, favor, and recall 
 * information in a way that confirms one's prior beliefs or values. It acts 
 * as a structural filter on reality, preventing the objective processing 
 * of contradictory evidence.
 * * KEY AGENTS:
 * - The Believer: An agent seeking validation for an existing world-view.
 * - The Dissenter: An agent presenting contradictory evidence that is ignored.
 * - The Algorithm: A digital system that automates and scales the bias through 
 * echo chambers.
 * * NARRATIVE ARC:
 * The bias functions as a "Mountain" of biological pre-programming. For the 
 * individual, it is a "Rope" providing cognitive ease and social cohesion. 
 * In polarized societies, it becomes a "Noose," as groups become trapped in 
 * incompatible realities, strangling the possibility of collective 
 * problem-solving.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(confirmation_bias_interval, 0, 10).
narrative_ontology:constraint_claim(confirmation_bias, noose).

% Base extractiveness: 0.3 (Moderate)
% Rationale: It extracts "objective truth" and "rationality." It benefits 
% the ego and existing power structures by ignoring the costs of incorrect beliefs.
domain_priors:base_extractiveness(confirmation_bias, 0.3).

% Suppression: 0.8 (High)
% Rationale: The bias inherently suppresses contradictory information by 
% making it invisible or devaluing it before it can be cognitively processed.
domain_priors:suppression_score(confirmation_bias, 0.8).

% Enforcement: Emerges naturally from neural efficiency and identity protection.
domain_priors:emerges_naturally(confirmation_bias).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(confirmation_bias, extractiveness, 0.3).
narrative_ontology:constraint_metric(confirmation_bias, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(confirmation_bias, [ideological_leaders, status_quo]).
constraint_victim(confirmation_bias, [scientific_objectivity, minority_dissenters]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NEUROSCIENTIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The objective observer)
   WHEN: civilizational (Observing a universal biological trait)
   WHERE: trapped (Human brain architecture is currently fixed)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the scientist, confirmation bias is a Mountain. It is an evolved 
   efficiency mechanism—the brain's way of conserving energy by not 
   re-evaluating every belief. It is an unchangeable feature of the 
   human hardware.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    confirmation_bias,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COMMUNITY LEADER - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-shaping power within a group)
   WHEN: biographical (Maintaining social order over decades)
   WHERE: arbitrage (Can frame narratives to align with group bias)
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For the leader, the bias is a Rope. It is a coordination mechanism that 
   builds social capital and group identity. By reinforcing shared beliefs, 
   the leader pulls the community together, creating a unified force that is 
   resistant to external disruption.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    confirmation_bias,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE POLARIZED CITIZEN - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A subject in a high-conflict social system)
   WHEN: immediate (Today's news cycle and social interaction)
   WHERE: constrained (Cannot easily leave their information bubble)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the citizen trapped in a polarized environment, the bias is a Noose. 
   Every piece of information they consume tightens their existing 
   prejudices, making it impossible to see the "other side" as human or 
   rational. Their ability to think independently is strangled by the 
   echo chamber they inhabit.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    confirmation_bias,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(confirmation_bias_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(confirmation_bias, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(confirmation_bias, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(confirmation_bias, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(bias_suppression_scaling) :-
    % Confirmation bias relies on high internal suppression of alternatives.
    domain_priors:suppression_score(confirmation_bias, Score),
    Score >= 0.7.

test(time_horizon_immutability) :-
    % Civilizational view sees biological invariants as Mountains.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(confirmation_bias_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION SCORE (0.8): The bias is defined by the active avoidance 
 * and devaluing of contradictory evidence.
 * 2. NOOSE CLASSIFICATION: I chose this for the citizen because the 
 * "echo chamber" effect is an active trap that consumes the agent's 
 * epistemic agency.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    algorithmic_feedback_weight,
    "To what extent is modern polarization caused by biological bias (Mountain) vs. algorithmic amplification (Noose)?",
    resolution_mechanism("Comparative study of polarized groups with and without digital social media exposure"),
    impact("If Mountain: Education is the only fix. If Noose: Regulation can loosen the trap."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Falsificationism (Scientific Method)
 * Viability: Actively seeking to disprove one's beliefs.
 * Suppression: High. It is cognitively expensive and socially isolating.
 * * CONCLUSION:
 * The existence of the scientific method as an alternative makes 
 * confirmation bias a Noose for those who refuse (or are unable) to 
 * use it, but a Rope for those who use it strategically.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_confirmation_bias].
 * 2. Multi-perspective: ?- multi_index_report(confirmation_bias).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: constitutional_consecration
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: The Gettysburg Address (Abraham Lincoln, 1863)
% ============================================================================

:- module(constraint_constitutional_consecration, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: constitutional_consecration
 * human_readable: The Proposition of Equality
 * domain: political/legal/existential
 * temporal_scope: 1863 (American Civil War)
 * spatial_scope: National (United States)
 * * SUMMARY:
 * Lincoln reinterprets the American constraint system not as a mere legal 
 * compact, but as a "proposition" that all men are created equal. This 
 * constraint acts as the "unfinished work" that binds the living to the 
 * sacrifice of the dead, creating a "new birth of freedom" that 
 * necessitates the survival of the democratic "Rope."
 * * KEY AGENTS:
 * - Abraham Lincoln: The institutional architect seeking to preserve the Union.
 * - The Honored Dead: The ultimate victims/beneficiaries of the constraint.
 * - "The People": The collective agent tasked with ensuring the government 
 * does not "perish from the earth."
 * * NARRATIVE ARC:
 * The speech moves from the past ("Four score and seven years ago") to 
 * a present state of "testing" via civil war. The constraint is identified 
 * as the "proposition" which is currently under existential threat. 
 * The resolution is a commitment to "highly resolve" that the sacrifice 
 * of the dead creates a permanent obligation for the living.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(gettysburg_address_analysis, 0, 10).
narrative_ontology:constraint_claim(constitutional_consecration, rope).

% Base extractiveness score: 0.6
% Rationale: The constraint extracts "the last full measure of devotion" 
% (life itself) from its subjects to ensure the survival of the system.
domain_priors:base_extractiveness(constitutional_consecration, 0.6).

% Suppression score: 0.9
% Rationale: The war itself is the suppression mechanism for the 
% "alternative" (secession/inequality). The speech argues that the 
% world "can never forget" what happened here, effectively locking 
% the narrative.
domain_priors:suppression_score(constitutional_consecration, 0.9).

% Enforcement requirements: Active enforcement through "war" and "devotion."
domain_priors:requires_active_enforcement(constitutional_consecration).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(constitutional_consecration, extractiveness, 0.6).
narrative_ontology:constraint_metric(constitutional_consecration, suppression_requirement, 0.9).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(constitutional_consecration, [human_liberty, the_union]).
constraint_victim(constitutional_consecration, [soldier_dead]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SOLDIER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The soldier caught in the "great battlefield."
   WHEN: immediate - The moment of sacrifice/death.
   WHERE: trapped - Bound to the earth by their own blood ("hallow this ground").
   SCOPE: local - A specific cemetery plot.
   
   WHY THIS CLASSIFICATION:
   For the soldier who died at Gettysburg, the "proposition" of equality 
   became a "Mountain." It was an unchangeable reality that dictated their 
   end with zero degrees of freedom. They can no longer "add or detract" 
   from it.
   
   NARRATIVE EVIDENCE:
   "The brave men, living and dead... have consecrated it, far above 
   our poor power to add or detract."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    constitutional_consecration,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(constitutional_consecration, the_union),
        constraint_victim(constitutional_consecration, soldier_dead),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(constitutional_consecration, E),
    E > 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PRESIDENT (Lincoln) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - The leader articulating the "new birth of freedom."
   WHEN: historical - Looking back to 1776 and forward to the future.
   WHERE: arbitrage - Managing the "testing" of the nation's endurance.
   SCOPE: national - "Any nation so conceived and so dedicated."
   
   WHY THIS CLASSIFICATION:
   For Lincoln, the Union is a "Rope"—a functional, though strained, 
   mechanism for coordinating a free people. It is a "work" that must 
   be "dedicated" and "carried on" through deliberate effort.
   
   NARRATIVE EVIDENCE:
   "It is for us the living, rather, to be dedicated here to the 
   unfinished work... to the great task remaining before us."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    constitutional_consecration,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(constitutional_consecration, human_liberty),
        constraint_victim(constitutional_consecration, []),
        spatial_scope(national)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANTI-UNIONIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerful - Leaders of the rebellion (implied).
   WHEN: immediate - The "testing" of war.
   WHERE: constrained - The military necessity of the Union's "endurance."
   SCOPE: regional - The divided states.
   
   WHY THIS CLASSIFICATION:
   For those who sought to leave the Union, Lincoln's "proposition" is a 
   "Noose." It is a coercive claim that their region cannot exist 
   outside the national "dedication," enforced by "great battlefield" 
   violence.
   
   NARRATIVE EVIDENCE:
   "Now we are engaged in a great civil war, testing whether that nation, 
   or any nation so conceived and so dedicated, can long endure."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    constitutional_consecration,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(constrained),
        constraint_beneficiary(constitutional_consecration, the_union),
        constraint_victim(constitutional_consecration, secessionists),
        spatial_scope(regional)
    )
) :-
    domain_priors:suppression_score(constitutional_consecration, S),
    S > 0.8,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(constitutional_consecration_tests).

test(sacrifice_index) :-
    % Verify that for the dead, the constraint is classified as a Mountain
    constraint_indexing:constraint_classification(constitutional_consecration, mountain, context(agent_power(individual_powerless), _, trapped, _, _, _)).

test(functional_survival) :-
    % Verify that for the institution, the goal is the survival of the Rope
    constraint_indexing:constraint_classification(constitutional_consecration, rope, context(agent_power(institutional), _, _, _, _, _)).

test(extraction_limit) :-
    % The "last full measure" represents the maximum extraction value (0.6+)
    domain_priors:base_extractiveness(constitutional_consecration, 0.6).

:- end_tests(constitutional_consecration_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. THE CONTRADICTION OF CONSECRATION: Lincoln argues the living cannot 
 * hallow the ground (Rope-level agency), but the dead already did 
 * (Mountain-level fact). This demonstrates how human sacrifice turns a 
 * political "Rope" into a moral "Mountain."
 * 2. EXTRACTIVENESS: While the tone is redemptive, the extraction (death) 
 * is total. However, because it is "conceived in liberty," the score 
 * remains in the 0.6 range—high, but ostensibly for the beneficiary's own 
 * ultimate freedom.
 * 3. PERSPECTIVES: I included the implied Secessionist as a "Noose" 
 * perspective because the "testing" of the Union's "endurance" represents 
 * a coercive restriction on their exit options.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    equality_definition,
    "Does 'all men' include the four million enslaved people, or is the 'proposition' limited to the legal status of states?",
    resolution_mechanism("Requires the Reconstruction Amendments to transition the proposition from a 'Rope' to a 'Mountain' of law."),
    impact("If the proposition is narrow, the Noose of the Civil War only benefits white citizens."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Secession / Disintegration: The idea that the Union is a "contract" 
 * that can be rescinded at will (Rope with high exit options).
 * * VIABILITY: Physically viable, as evidenced by the ongoing war.
 * * SUPPRESSION: Actively suppressed by military force and the 
 * narrative of "consecration" provided in the address.
 * * CONCLUSION: 
 * Lincoln's address is a "suppression event" that seeks to convert a 
 * fraying Rope back into a permanent Mountain.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: constitutional_supremacy
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Marbury v. Madison (1803)
% ============================================================================

:- module(constraint_constitutional_supremacy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: constitutional_supremacy
 * human_readable: The Supremacy of Written Constitutions
 * domain: legal/political
 * temporal_scope: 1803 - Present
 * spatial_scope: National (United States / Constitutional Democracies)
 * * SUMMARY:
 * Established by Chief Justice John Marshall, this constraint posits that the 
 * Constitution is the "paramount law of the nation," and any act of the 
 * legislature repugnant to it is void. It creates a hierarchy where the 
 * judiciary must prioritize the "Mountain" of the Constitution over the 
 * "Rope" of legislative statutes.
 * * KEY AGENTS:
 * - John Marshall: The Institutional Architect who defines the "duty of the 
 * judicial department to say what the law is."
 * - William Marbury: The "Individual Moderate" seeking a legal remedy for 
 * a vested right.
 * - James Madison/The Executive: The powerful agent whose actions are 
 * constrained by the judicial interpretation of the law.
 * * NARRATIVE ARC:
 * The case arises from a political dispute over judicial commissions. Marshall 
 * avoids a direct power struggle with the Executive by declaring a specific 
 * law (Section 13 of the Judiciary Act) unconstitutional. This act of 
 * "self-restraint" actually cements the Judiciary's power to constrain 
 * all future legislative acts.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(marbury_v_madison_analysis, 0, 10).
narrative_ontology:constraint_claim(constitutional_supremacy, mountain).

% Base extractiveness score: 0.3
% Rationale: The constraint primarily coordinates power rather than 
% extracting it, though it "extracts" finality from the legislative branch.
domain_priors:base_extractiveness(constitutional_supremacy, 0.3).

% Suppression score: 0.95
% Rationale: Marshall argues that the Constitution is either the paramount 
% law or it is "solemn mockery." There is no middle ground allowed.
domain_priors:suppression_score(constitutional_supremacy, 0.95).

% Enforcement requirements: Requires judicial vigilance and "active 
% enforcement" of the hierarchy of laws.
domain_priors:requires_active_enforcement(constitutional_supremacy).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(constitutional_supremacy, extractiveness, 0.3).
narrative_ontology:constraint_metric(constitutional_supremacy, suppression_requirement, 0.95).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(constitutional_supremacy, [judicial_authority, individual_liberty]).
constraint_victim(constitutional_supremacy, [legislative_supremacy, executive_discretion]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE CITIZEN (Marbury) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - A citizen with a vested legal right.
   WHEN: immediate - The loss of a commission/job.
   WHERE: trapped - Bound by the "rule of law" which must provide a remedy.
   SCOPE: national - The law of the land.
   
   WHY THIS CLASSIFICATION:
   To the individual seeking a right, the Constitution is an unchangeable 
   Mountain. It is the fundamental law that protects their specific commission 
   against the "arbitrary" will of the Executive.
   
   NARRATIVE EVIDENCE:
   "The very essence of civil liberty certainly consists in the right of 
   every individual to claim the protection of the laws."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    constitutional_supremacy,
    mountain,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(constitutional_supremacy, individual_liberty),
        constraint_victim(constitutional_supremacy, []),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(constitutional_supremacy, S),
    S > 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE JUDICIARY (Marshall) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - The department that "must of necessity expound 
   and interpret."
   WHEN: historical - Building a "government of laws, and not of men."
   WHERE: arbitrage - Balancing the different departments of government.
   SCOPE: national - The supreme law.
   
   WHY THIS CLASSIFICATION:
   To the Judge, the Constitution is a "Rope"—a functional mechanism 
   for coordinating the republic. It is a tool they must use to "discharge 
   their duties agreeably to the constitution."
   
   NARRATIVE EVIDENCE:
   "It is emphatically the province and duty of the judicial department 
   to say what the law is."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    constitutional_supremacy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(constitutional_supremacy, judicial_authority),
        constraint_victim(constitutional_supremacy, []),
        spatial_scope(national)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LEGISLATURE (Congress) - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional - The rule-making body whose acts are invalidated.
   WHEN: immediate - A specific statute is struck down.
   WHERE: constrained - Prevented from overstepping constitutional bounds.
   SCOPE: local - A specific act (e.g., Section 13).
   
   WHY THIS CLASSIFICATION:
   From the perspective of a legislature that believes it has the power to 
   act, judicial review is a "Noose." It is a coercive mechanism that 
   extracts their finality and subjects them to an unelected "analytical" 
   oversight.
   
   NARRATIVE EVIDENCE:
   "To what purpose are powers limited... if these limits may, at any 
   time, be passed by those intended to be restrained?"
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    constitutional_supremacy,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(constrained),
        constraint_beneficiary(constitutional_supremacy, judicial_authority),
        constraint_victim(constitutional_supremacy, legislative_supremacy),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(constitutional_supremacy, E),
    E > 0.2,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(marbury_tests).

test(hierarchy_of_laws) :-
    % Verify the Constitution (Mountain) trumps Statute (Noose/Rope)
    constraint_indexing:constraint_classification(constitutional_supremacy, mountain, context(agent_power(individual_moderate), _, _, _, _, _)),
    domain_priors:suppression_score(constitutional_supremacy, S),
    S > 0.9.

test(institutional_agency) :-
    % The Judge sees the mechanism as a functional Rope
    constraint_indexing:constraint_classification(constitutional_supremacy, rope, context(agent_power(institutional), _, arbitrage, _, _, _)).

:- end_tests(marbury_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: Marshall frames the Constitution as a "Mountain" 
 * to justify why the Court *cannot* act on an unconstitutional law. 
 * This creates a "Rope" (Judicial Review) that the Court uses to manage 
 * the other branches.
 * 2. PERSPECTIVAL GAP: The gap here is between the "Powerless" citizen 
 * who needs the Constitution as an immutable shield (Mountain) and the 
 * "Powerful" Executive/Legislature who find their agency restricted 
 * (Noose) by the Court's interpretation.
 * 3. EXTRACTIVENESS: Low (0.3). While it restricts power, it does so to 
 * preserve the "security" of the whole, rather than for the direct 
 * enrichment of a specific class.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    judicial_neutrality,
    "Is the Court truly a neutral observer (Analytical) or a participant in the power struggle (Institutional)?",
    resolution_mechanism("Requires evaluation of future case law to see if review is used for coordination or partisan extraction."),
    impact("If Institutional: The 'Rope' of Judicial Review becomes a 'Noose' for the public."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Legislative Supremacy (The British Model):
 * Viability: Historically viable in many nations.
 * Suppression: Marshall rejects this as making the Constitution a "absurd 
 * attempt... to limit a power, in its own nature illimitable."
 * EVIDENCE: Marshall argues that without judicial review, written 
 * constitutions are "solemn mockery."
 * * CONCLUSION: 
 * The rejection of Legislative Supremacy converts the Constitution from a 
 * "Rope" (a social agreement) into a "Mountain" (a natural law hierarchy).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: continuum_hypothesis_undecidability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Georg Cantor (1878) / Kurt Gödel (1940) / Paul Cohen (1963)
% ============================================================================

:- module(constraint_continuum_hypothesis, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: continuum_hypothesis_undecidability
 * human_readable: The Continuum Hypothesis (CH)
 * domain: mathematical/philosophical
 * temporal_scope: 1878 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Set Theory)
 * * SUMMARY:
 * The Continuum Hypothesis states that there is no set whose cardinality is 
 * strictly between that of the integers ($\aleph_0$) and the real numbers ($\mathfrak{c}$). 
 * It represents a fundamental independence result in logic, proving that the 
 * "Mountain" of set theory has a summit whose height cannot be determined 
 * within the standard axioms of ZFC.
 * * KEY AGENTS:
 * - The Infinite Set (Subject): A powerless agent whose "size" is trapped in 
 * a logical limbo between countability and the continuum.
 * - The Set Theorist (Institutional): An agent who uses CH as a "Rope" to 
 * coordinate the classification of transfinite cardinalities.
 * - The Formalist (Analytical): An observer for whom the independence of CH 
 * acts as a "Noose," extracting the hope of a complete, deductive universe.
 * * NARRATIVE ARC:
 * Originally proposed by Cantor as a "Mountain" of truth, CH was later 
 * proven to be independent of ZFC by Gödel and Cohen. In pedagogy, it is 
 * a "Rope" for understanding the depths of modern logic. However, for 
 * the seeker of absolute mathematical certainty, the undecidability of 
 * CH acts as a "Noose," extracting the "completeness" of arithmetic 
 * (extraction) and "strangling" the intuition that every well-defined 
 * question must have a yes/no answer.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction and indexer coordination
narrative_ontology:interval(continuum_era, 1878, 2026).
narrative_ontology:constraint_claim(continuum_hypothesis_undecidability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.15. Low. While a "gift" of logical depth, it "extracts" 
% the possibility of a final, closed classification of the transfinite, 
% imposing a "metaphysical tax" of choice on every researcher.
domain_priors:base_extractiveness(continuum_hypothesis_undecidability, 0.15).

% Suppression score (0.0-1.0)
% Rationale: 0.25. It suppresses the visibility of "Naive Cantorism" by 
% proving that the relationship between sizes of infinity is not 
% automatically decided by the definition of sets.
domain_priors:suppression_score(continuum_hypothesis_undecidability, 0.25).

% Enforcement: Emerges naturally from the axioms of ZFC.
domain_priors:emerges_naturally(continuum_hypothesis_undecidability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(continuum_hypothesis_undecidability, extractiveness, 0.15).
narrative_ontology:constraint_metric(continuum_hypothesis_undecidability, suppression_requirement, 0.25).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(continuum_hypothesis_undecidability, model_theorists). % Profiting from forcing and independence.
constraint_beneficiary(continuum_hypothesis_undecidability, mathematical_philosophers).
constraint_victim(continuum_hypothesis_undecidability, hilbertian_purists). % Seeking a complete foundation.
constraint_victim(continuum_hypothesis_undecidability, intuitive_determinists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE REAL NUMBER LINE ($\mathbb{R}$) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The continuum cannot choose its own cardinality.
   WHEN: immediate - The size $\mathfrak{c} = 2^{\aleph_0}$ is fixed at the set's definition.
   WHERE: trapped - Bound within the transfinite hierarchy.
   SCOPE: local - Immediate relationship to its subsets.
   
   WHY THIS CLASSIFICATION:
   For the continuum itself, its size relative to $\aleph_0$ is an absolute 
   Mountain. Whether or not a "middle set" exists is a fixed feature of 
   the logical landscape, even if that landscape is unreachable by 
   standard proofs. The gap is a natural law of the transfinite.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    continuum_hypothesis_undecidability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SET THEORY PROFESSOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define the axioms used in a proof or curriculum.
   WHEN: biographical - Planning the lifecycle of a student's logical development.
   WHERE: mobile - Can choose to "exit" the dilemma by assuming CH or its negation.
   SCOPE: global - Universal application in standard math.
   
   WHY THIS CLASSIFICATION:
   For the educator, CH is a "Rope"—a functional coordination tool. By 
   explicitly assuming CH ($2^{\aleph_0} = \aleph_1$) or its negation, 
   they coordinate a "standard of achievement" that allows for 
   consistent proofs in analysis or topology, "pulling" the system 
   into a state of functional utility despite the underlying mystery.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    continuum_hypothesis_undecidability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NEO-PLATONIST SEARCHER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the intelligence to analyze but is bound by independence.
   WHEN: civilizational - Seeking the ultimate "True" model of the universe.
   WHERE: constrained - The "exit" (a proof) is mathematically barred.
   SCOPE: global - Universal limit on formal knowledge.
   
   WHY THIS CLASSIFICATION:
   For the seeker of absolute Truth, the independence of CH is a "Noose." 
   It "strangles" the hope that mathematics is a complete, objective 
   mirror of reality. It extracts the "certainty of the transfinite" 
   (extraction) by proving that our most basic concept of a set is 
   fundamentally "undetermined" (choking) regarding its size.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    continuum_hypothesis_undecidability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(continuum_hypothesis_undecidability, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(continuum_hypothesis_tests).

test(multi_perspective_variance) :-
    % Continuum -> Mountain
    constraint_indexing:constraint_classification(continuum_hypothesis_undecidability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Professor -> Rope
    constraint_indexing:constraint_classification(continuum_hypothesis_undecidability, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(metaphysical_extraction_penalty) :-
    % Searchers feel the 0.15 extraction of certainty as a Noose.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(continuum_hypothesis_undecidability, Context, Score),
    Score >= 0.1.

test(natural_emergence) :-
    domain_priors:emerges_naturally(continuum_hypothesis_undecidability).

:- end_tests(continuum_hypothesis_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.15): 
 * I chose this because CH extracts the dream of "absolute decidability" 
 * from the mathematical community. It is a tax on formalist certainty.
 * 2. CLASSIFICATION: 
 * Captured the transition from the "Mountain" of set-size reality 
 * to the "Noose" of unprovability for those who demand a single 
 * "True" universe of sets.
 * 3. PERSPECTIVES:
 * Chose the Continuum (Subject), the Professor (Institutional Utility), 
 * and the Platonist (Victim of Indeterminacy).
 */

% OMEGA IDENTIFICATION
omega_variable(
    determinacy_axiom_validity,
    "Is there a higher 'Mountain' (e.g., Woodin's V=Ultimate L) that makes CH decidable (Scaffold)?",
    resolution_mechanism("Verification of 'large cardinal' axioms and their impact on the decidability of CH in the inner model."),
    impact("If Yes: The 'Noose' of undecidability is a temporary Scaffold. If No: It is a permanent Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Axiom of Determinacy (AD)
 * Viability: In ZF+AD, CH is false (as the continuum is "larger" 
 * in a specific measurable way).
 * Suppression: Suppressed in mainstream ZFC math because AD 
 * contradicts the Axiom of Choice (the standard "Rope").
 * * ALTERNATIVE 2: Martin's Axiom (MA)
 * Viability: A "Rope" often used in topology to allow CH to fail 
 * while preserving other desirable properties.
 * * CONCLUSION:
 * The existence of AD and MA as alternative "Ropes" proves that the 
 * "Noose" of CH's undecidability is a choice based on which 
 * axioms we use to climb the Mountain.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [continuum_hypothesis_undecidability].
 * 2. Multi-perspective: ?- multi_index_report(continuum_hypothesis_undecidability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: conways_game_of_life_dynamics
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: John Horton Conway (1970) / Cellular Automata / Emergence
% ============================================================================

:- module(constraint_conway_life, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: conways_game_of_life_dynamics
 * human_readable: Conway's Game of Life
 * domain: technological/mathematical
 * temporal_scope: 1970 - Present
 * spatial_scope: Global/Abstract (2D Grid Systems)
 * * SUMMARY:
 * Conway's Game of Life is a zero-player cellular automaton where simple local 
 * rules (survival, birth, death) applied to a 2D grid lead to complex emergent 
 * behaviors. It serves as a fundamental model for how deterministic constraints 
 * generate unpredictable, life-like complexity.
 * * KEY AGENTS:
 * - The Individual Cell (Subject): A powerless agent that lives or dies based 
 * solely on its eight immediate neighbors.
 * - The Pattern Architect (Institutional): An agent who coordinates complex 
 * structures (Gliders, Puffer Trains) as a "Rope" for universal computation.
 * - The Unpredictable Observer (Victim): An agent whose ability to predict the 
 * system without simulation is "strangled" by the rule-set.
 * * NARRATIVE ARC:
 * The Game of Life functions as a "Mountain" of logical destiny; once the seed 
 * is planted, the future is fixed by the B3/S23 rules. In computational 
 * research, it is a "Rope" used to prove Turing completeness in simple 
 * systems. However, for an observer seeking a shortcut to the end-state, the 
 * deterministic logic acts as a "Noose," extracting the possibility of 
 * analytic prediction and forcing the "tax" of step-by-step simulation.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(conway_era, 1970, 2026).
narrative_ontology:constraint_claim(conways_game_of_life_dynamics, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.3. The system "extracts" the potential for arbitrary behavior 
% to enforce strict emergent order. Any cell that does not follow the count 
% is "purged" (dies).
domain_priors:base_extractiveness(conways_game_of_life_dynamics, 0.3).

% Suppression score (0.0-1.0)
% Rationale: 0.4. It suppresses the visibility of non-deterministic causality, 
% rendering any "random" alternative functionally invisible within the grid.
domain_priors:suppression_score(conways_game_of_life_dynamics, 0.4).

% Enforcement: Emerges naturally from the interaction of local neighbors.
domain_priors:emerges_naturally(conways_game_of_life_dynamics).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(conways_game_of_life_dynamics, extractiveness, 0.3).
narrative_ontology:constraint_metric(conways_game_of_life_dynamics, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(conways_game_of_life_dynamics, emergent_complexity_researchers).
constraint_beneficiary(conways_game_of_life_dynamics, computer_scientists).
constraint_victim(conways_game_of_life_dynamics, analytical_predictability).
constraint_victim(conways_game_of_life_dynamics, individual_cell_autonomy).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SINGLE GRID CELL - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The cell has zero agency; it is a slave to the count.
   WHEN: immediate - The rule is applied at every discrete tick.
   WHERE: trapped - Bound to its coordinates (x, y).
   SCOPE: local - Can only see its eight neighbors.
   
   WHY THIS CLASSIFICATION:
   For the cell, the laws of Life are an absolute, unyielding Mountain. If it has 
   fewer than two neighbors, it *must* die of underpopulation. It cannot appeal 
   or negotiate; the logic is a fixed feature of its universe.
   
   NARRATIVE EVIDENCE:
   "Any live cell with fewer than two live neighbors dies, as if by 
   underpopulation." (Standard Conway Rule).
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    conways_game_of_life_dynamics,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PATTERN ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design massive start-states (seeds).
   WHEN: biographical - Planning the lifecycle of a complex "Glider Gun."
   WHERE: mobile - Can choose different starting patterns to achieve specific goals.
   SCOPE: global - Views the entire infinite or toroidal grid.
   
   WHY THIS CLASSIFICATION:
   For the architect, the rules are a "Rope"—a functional coordination 
   mechanism. By understanding the "Mountain" of the rules, they can coordinate 
   gliders to perform logic gates, essentially "pulling" a universal computer 
   out of the grid, providing a standard of achievement for emergent design.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    conways_game_of_life_dynamics,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTIC PREDICTOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the "Undecidability" of the end-state.
   WHEN: biographical - Attempting to predict if a pattern eventually dies out.
   WHERE: constrained - No alternative but to run the simulation to see.
   SCOPE: local - A specific complex pattern (e.g., a "Methuselah").
   
   WHY THIS CLASSIFICATION:
   For someone seeking to know the future without paying the "tax" of time, 
   the rules are a "Noose." Because the game is Turing-complete, it "strangles" 
   general analytic solutions. It extracts computational cycles (extraction) 
   by making the "Long Run" unpredictable without manual iteration.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    conways_game_of_life_dynamics,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(conways_game_of_life_dynamics, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(conways_game_of_life_tests).

test(multi_perspective_variance) :-
    % Cell -> Mountain
    constraint_indexing:constraint_classification(conways_game_of_life_dynamics, Type1, context(individual_powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(conways_game_of_life_dynamics, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(predictive_noose_insight) :-
    % Demonstrates that for the predictor, the determinism is a Noose
    constraint_indexing:constraint_classification(conways_game_of_life_dynamics, noose, context(individual_powerless, biographical, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(conways_game_of_life_dynamics).

:- end_tests(conways_game_of_life_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.3):
 * Reasoning: Low-to-moderate. The "cost" of the system is the elimination 
 * of non-rule-abiding states, which is necessary for the "gift" of 
 * emergent complexity.
 * * 2. CLASSIFICATION RATIONALE:
 * Cell (Mountain): The quintessential "powerless" subject of natural law.
 * Architect (Rope): Using the law to build tools (Turing machines).
 * Predictor (Noose): Facing the "Halting Problem" inherent in the game.
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the uncertainty regarding the grid's finiteness—different 
 * edge behaviors change the "Mountain" into a "Scaffold."
 */

% YOUR OMEGAS HERE:
omega_variable(
    grid_edge_topology,
    "Is the 'Mountain' of the rules stable if the grid is finite (Scaffold) vs infinite (Mountain)?",
    resolution_mechanism("Comparison of long-term stability in toroidal vs zero-padding edge conditions."),
    impact("If finite: Complexity eventually stabilizes or dies. If infinite: Complexity can grow forever."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Different Rule Sets (e.g., HighLife B36/S23)
 * Viability: Other cellular automata can produce similar but distinct 
 * universes (e.g., HighLife produces self-replicators).
 * Suppression: Conway's B3/S23 is so dominant that it "suppresses" the 
 * visibility of other rules in pop-culture and introductory research.
 * * ALTERNATIVE 2: Purely Random Systems
 * Viability: Systems without rules (White Noise).
 * Suppression: Rejected because they lack the "Rope" of coordination—order 
 * cannot be built from them.
 * * CONCLUSION:
 * The dominance of Conway's rules as a "Mountain" effectively makes 
 * Alternative 1 a "hidden Rope" only visible to specialists.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_conway_life].
 * 2. Analyze: ?- multi_index_report(conways_game_of_life_dynamics).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: copyleft_viral_licensing
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: GNU General Public License (GPL) / Free Software Foundation
% ============================================================================

:- module(constraint_copyleft, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: copyleft_viral_licensing
 * human_readable: Copyleft (Reciprocal Freedom)
 * domain: technological/legal/social
 * temporal_scope: Biographical to Historical (1985 - Present)
 * spatial_scope: Global
 * * SUMMARY:
 * Copyleft is a legal mechanism that uses copyright law to ensure that a work 
 * and its derivatives remain free. Unlike "permissive" licenses, Copyleft 
 * requires that any modified versions of the software must also be licensed 
 * under the same Copyleft terms—a "Share-Alike" requirement on steroids.
 * * KEY AGENTS:
 * - The Free Software Advocate: (e.g., Richard Stallman) who views software 
 * freedom as a fundamental right.
 * - The Proprietary Developer: Views Copyleft as a "Virus" that threatens 
 * their ability to close and monetize source code.
 * - The Community Contributor: Gains security knowing their work cannot be 
 * "captured" by a single corporation.
 * * NARRATIVE ARC:
 * Copyleft functions as a "Recursive Rope." It builds a self-expanding 
 * commons. By using the "Noose" of copyright law (the power to exclude), 
 * it enforces a "Rope" of inclusion. It creates a matching market where 
 * the "price" of entry is the promise to keep the exit open for others.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(copyleft_viral_licensing, 0, 10).
narrative_ontology:constraint_claim(copyleft_viral_licensing, rope).

% Base extractiveness score (0.05)
% Extremely low extraction; it is designed to explicitly prevent the 
% extraction of private profit from a shared public resource.
domain_priors:base_extractiveness(copyleft_viral_licensing, 0.05).

% Suppression score (0.2)
% Low suppression; the terms are notoriously explicit, though corporations 
% may suppress the use of copylefted code internally to avoid "contamination."
domain_priors:suppression_score(copyleft_viral_licensing, 0.2).

% Enforcement: Requires active enforcement (Legal standing of the GPL).
domain_priors:requires_active_enforcement(copyleft_viral_licensing).

% Metrics
narrative_ontology:constraint_metric(copyleft_viral_licensing, extractiveness, 0.05).
narrative_ontology:constraint_metric(copyleft_viral_licensing, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(copyleft_viral_licensing, the_user_community).
constraint_beneficiary(copyleft_viral_licensing, open_source_ecosystems).
constraint_victim(copyleft_viral_licensing, proprietary_software_vendors).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE OPEN SOURCE DEVELOPER - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the developer, Copyleft is a "Rope." It provides the guarantee that 
   if they contribute to a project (like the Linux kernel), their work will 
   always remain accessible to them and the community. It coordinates 
   mass collaboration by removing the fear of "Proprietary Capture."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    copyleft_viral_licensing,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(copyleft_viral_licensing, E),
    E < 0.1,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CORPORATE COUNSEL - Noose
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: generational
   WHERE: trapped (once code is 'contaminated', it cannot be easily extracted)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To a company trying to build a secret commercial product, the GPL is a 
   "Noose." They view it as a "viral" license that, if accidentally 
   linked to their proprietary code, forces them to open-source their 
   entire product. It is a legal bottleneck they spend millions to avoid.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    copyleft_viral_licensing,
    noose,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SOFTWARE HISTORIAN - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The historian sees Copyleft as a "Mountain"—the foundational bedrock 
   of the modern internet. Without the GPL (Copyleft), the "Mountain" of 
   Linux and the web servers that run the world would have likely been 
   fragmented and privatized decades ago.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    copyleft_viral_licensing,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(copyleft_viral_licensing),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(copyleft_tests).

test(viral_noose_perception) :-
    % Testing that institutions see Copyleft as a Noose due to its reciprocal 
    % requirements.
    constraint_indexing:constraint_classification(copyleft_viral_licensing, noose, context(institutional, _, _, _)).

test(community_rope_utility) :-
    % Testing that mobile developers see the Rope of protected collaboration.
    constraint_indexing:constraint_classification(copyleft_viral_licensing, rope, context(_, _, mobile, _)).

:- end_tests(copyleft_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Copyleft is a "force multiplier" for freedom. I set extractiveness 
 * to near zero (0.05) because its only goal is to prevent the 
 * "Noose" of proprietary software from forming around shared code. 
 * Its "viral" nature is its most powerful and feared feature.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    saas_loophole_resolution,
    "Will the 'SaaS Loophole' (AGPL) eventually become the new legal Mountain for cloud-based software?",
    resolution_mechanism("Tracking adoption rates of AGPL vs GPL in hyperscale cloud providers"),
    impact("If Yes: The 'Noose' for cloud providers tightens; they must share back server-side code."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: copyright_protection
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: U.S. Copyright Act of 1976 / Berne Convention
% ============================================================================

:- module(constraint_copyright, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: copyright_protection
 * human_readable: Copyright (Creative Monopoly)
 * domain: social/economic/technological
 * temporal_scope: Civilizational (Life + 70 years)
 * spatial_scope: Global
 * * SUMMARY:
 * Copyright is a legal framework that grants creators exclusive rights to their 
 * original works of authorship (literature, music, art, software). It separates 
 * the "Expression" (protected) from the "Idea" (free).
 * * KEY AGENTS:
 * - The Creator: Holds the monopoly; seeks to monetize or control the work.
 * - The User/Remixer: Seeks to consume, adapt, or build upon existing work.
 * - The Platform: Acts as the gatekeeper and enforcement engine (e.g., YouTube Content ID).
 * * NARRATIVE ARC:
 * Copyright functions as a "Proprietary Horizon." It creates a temporary (though 
 * increasingly long) artificial scarcity. For creators, it is a foundation for 
 * a career; for the public, it is a fence around the cultural commons.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(copyright_protection, 0, 10).
narrative_ontology:constraint_claim(copyright_protection, rope).

% Base extractiveness score (0.4)
% While it allows creators to earn, it extracts "freedom of use" from the 
% public, and often large corporations extract the copyright from creators.
domain_priors:base_extractiveness(copyright_protection, 0.4).

% Suppression score (0.5)
% Fair Use provides an "exit," but automated enforcement systems often 
% suppress even legal uses (chilling effect).
domain_priors:suppression_score(copyright_protection, 0.5).

% Enforcement requirements
domain_priors:requires_active_enforcement(copyright_protection).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(copyright_protection, extractiveness, 0.4).
narrative_ontology:constraint_metric(copyright_protection, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(copyright_protection, intellectual_property_holders).
constraint_victim(copyright_protection, the_public_domain).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INDEPENDENT ARTIST - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the small creator, copyright is a "Rope." It is the only tool they 
   have to prevent their work from being captured and monetized by 
   large entities without compensation. It coordinates their ability to 
   participate in the marketplace.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    copyright_protection,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(copyright_protection, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE AI TRAINING LAB - Noose
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: immediate
   WHERE: trapped (cannot easily "un-train" on copyrighted data)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For an entity attempting to build generative AI, copyright is a "Noose." 
   The massive scale of data required makes individual licensing 
   impossible, creating a legal bottleneck that threatens the viability 
   of the entire technological enterprise.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    copyright_protection,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(copyright_protection, S),
    S > 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LEGAL SCHOLAR - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The scholar sees copyright as a "Mountain"—a fixed feature of the 
   global legal geography since the 18th century. While the "peaks" 
   (duration) may change, the fundamental concept of protecting 
   expression is an immutable part of modern civilization.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    copyright_protection,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    true.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(copyright_tests).

test(proportional_utility) :-
    % Testing that creators see the Rope while institutions (labs) see the Noose.
    constraint_indexing:constraint_classification(copyright_protection, rope, context(individual_moderate, _, _, _)),
    constraint_indexing:constraint_classification(copyright_protection, noose, context(institutional, _, trapped, _)).

test(historical_permanence) :-
    % Testing that analytical views recognize the structural Mountain.
    constraint_indexing:constraint_classification(copyright_protection, mountain, context(analytical, _, _, _)).

:- end_tests(copyright_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Copyright is unique because it is a "Monopoly on Expression." I set 
 * suppression to 0.5 because "Fair Use" acts as a pressure valve, but 
 * algorithmic enforcement (Content ID) often makes that valve stick.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    ai_fair_use_precedent,
    "Will training AI on copyrighted material be legally classified as 'Transformative Fair Use'?",
    resolution_mechanism("Supreme Court rulings on AI training datasets (e.g., NYT v. OpenAI)"),
    impact("If Yes: The Noose for AI labs vanishes. If No: Copyright becomes an insurmountable Mountain for AI."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: cost_of_observation
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Indexical Relativity & Evolutionary Pressure
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_observation_cost, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: cost_of_observation
 * human_readable: The Evolutionary Cost of Observation
 * domain: philosophical/evolutionary/cybernetic
 * * SUMMARY:
 * This meta-constraint describes the "tax" paid by any situated observer. 
 * While a constraint may exist sub specie aeternitatis as a neutral Mountain, 
 * the introduction of an observer transforms that mountain into a cost function. 
 * The "Local Frame" creates a density of constraints that extract time, 
 * energy, and agency from the agent.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(evolutionary_pressure_01, 0, 10).
narrative_ontology:constraint_claim(cost_of_observation, mountain).

% Base extractiveness score (0.85)
% Rationale: High because observation is never free. Metabolic and cognitive 
% load required to navigate constraints is an inherent extraction.
domain_priors:base_extractiveness(cost_of_observation, 0.85).

% Suppression score (0.4)
domain_priors:suppression_score(cost_of_observation, 0.4).

% This cost emerges naturally from the physics of situated agency.
domain_priors:emerges_naturally(cost_of_observation).

% Metrics for DR-Audit
narrative_ontology:constraint_metric(cost_of_observation, extractiveness, 0.85).
narrative_ontology:constraint_metric(cost_of_observation, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(cost_of_observation, [evolutionary_efficiency, entropy_export]).
constraint_victim(cost_of_observation, [the_situated_agent, frontline_practitioners]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: The Aeternal Observer - Mountain
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    cost_of_observation,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: The Individual Agent - Noose
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    cost_of_observation,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(cost_of_observation, E),
    E > 0.8, % High extraction in local frame = Noose
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The Evolutionary Designer - Rope
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    cost_of_observation,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(continental)
    )
) :-
    !.

/* ==========================================================================
   4. TESTS (Mandatrophy Resolution)
   ========================================================================== */

:- begin_tests(observation_cost_tests).

test(multi_perspective_variance) :-
    % Verify that high extraction (0.85) is resolved via indexical shift
    constraint_indexing:constraint_classification(cost_of_observation, Type1, 
        context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(cost_of_observation, Type2, 
        context(analytical, civilizational, analytical, global)),
    Type1 = noose,
    Type2 = mountain.

test(local_pressure_scaling) :-
    % Verify base extractiveness meets the 0.85 threshold
    domain_priors:base_extractiveness(cost_of_observation, E),
    E == 0.85.

:- end_tests(observation_cost_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * [RESOLVED MANDATROPHY]: The extraction score of 0.85 reflects the 
 * unavoidable "metabolic tax" of agency. For the situated agent in the 
 * Local Frame, this is a NOOSE because it forces the expenditure of finite 
 * resources. For the Aeternal observer, it remains a neutral MOUNTAIN.
 * * OMEGAS:
 * omega_variable(metabolic_efficiency_limit,
 * "Is there a theoretical floor to the cost of observation?",
 * resolution_mechanism("Biophysical measurement of cognitive efficiency"),
 * impact("Determines if the Noose is a physical constant."),
 * confidence_without_resolution(low)
 * ).
 */

/* ==========================================================================
   6. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE:
 * ?- [constraint_observation_cost].
 * ?- run_tests(observation_cost_tests).
 */
% ============================================================================
% CONSTRAINT STORY: compounding_logic
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: General Economic Theory & Berkshire Hathaway 2024 Letter
% ============================================================================

:- module(constraint_compounding_logic, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: compounding_logic
 * human_readable: The Law of Compounding Returns
 * domain: economic/mathematical
 * temporal_scope: Universal / Long-term
 * spatial_scope: Global
 * * SUMMARY:
 * Compounding is the mathematical constraint where the value of a system increases 
 * [cite_start]exponentially because earnings are reinvested to generate further earnings[cite: 165]. 
 * It is constrained by three primary variables: time, rate of return, and the 
 * [cite_start]stability of the underlying medium (currency or asset)[cite: 146, 173].
 * * KEY AGENTS:
 * - [cite_start]The Saver (Individual Powerless): Must forgo current consumption for future gain[cite: 164].
 * - [cite_start]The Capital Allocator (Institutional): Manages the reinvestment cycles[cite: 10, 135].
 * - The Debtor (Individual Powerless): Experiences compounding as an extractive force.
 * * NARRATIVE ARC:
 * Compounding starts "tiny, almost meaningless" but "mushrooms" over time, provided 
 * [cite_start]the "culture of savings" is sustained[cite: 165]. It rewards "fidelity" and 
 * "long-term compounding" while punishing "fiscal folly" and "mistakes" in capital 
 * [cite_start]allocation[cite: 10, 146, 165].
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(compounding_logic_analysis, 0, 10).
narrative_ontology:constraint_claim(compounding_logic, rope).

% Base extractiveness score: 0.2 (for wealth creation) / 0.9 (for debt)
% Rationale: In a savings context, it creates value; in a debt context, it is 
% highly extractive. We average to 0.5 for the general logic.
domain_priors:base_extractiveness(compounding_logic, 0.5).

% Suppression score: 0.4
[cite_start]% Rationale: One can choose not to participate by consuming immediately[cite: 164], 
% though the mathematical "rules" of the results cannot be altered.
domain_priors:suppression_score(compounding_logic, 0.4).

[cite_start]% Enforcement requirements: Requires "stable currency" and "wisdom"[cite: 173].
domain_priors:requires_active_enforcement(compounding_logic).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(compounding_logic, extractiveness, 0.5).
narrative_ontology:constraint_metric(compounding_logic, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(compounding_logic, [long_term_savers, posterity, capital_allocators]).
constraint_victim(compounding_logic, [the_short_sighted, debtors, the_impatient]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE LONG-TERM SAVER - Rope
   --------------------------------------------------------------------------
   
   [cite_start]WHO: individual_powerless - The person "foregoing dividends"[cite: 164].
   [cite_start]WHEN: generational - Thinking in "decades" rather than single years[cite: 88].
   [cite_start]WHERE: arbitrage - Utilizing the "magic of long-term compounding"[cite: 165].
   [cite_start]SCOPE: global - Reinvesting across diverse "marketable equities"[cite: 128].
   
   WHY THIS CLASSIFICATION:
   For the saver, compounding is a "Rope"—a functional coordination mechanism 
   [cite_start]that turns "tiny" reinvestment into a "mushroomed" result[cite: 165]. It 
   [cite_start]requires the agent to "rest assured" and trust the system[cite: 144].
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    compounding_logic,
    rope,
    context(
        agent_power(individual_powerless),
        time_horizon(generational),
        exit_options(arbitrage),
        constraint_beneficiary(compounding_logic, long_term_savers),
        constraint_victim(compounding_logic, []),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(compounding_logic, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SHORT-TERM SPECULATOR - Mountain
   --------------------------------------------------------------------------
   
   [cite_start]WHO: individual_moderate - One attempting to "come and go on a dime"[cite: 133].
   [cite_start]WHEN: immediate - Focused on "year-by-year numbers"[cite: 87].
   [cite_start]WHERE: trapped - Bound by the "unpredictable" swings of the market[cite: 87].
   [cite_start]SCOPE: local - Focused on "single year" performance[cite: 88].
   
   WHY THIS CLASSIFICATION:
   For the speculator, the time requirement of compounding is a "Mountain." 
   [cite_start]They cannot force "decades" of results into a single year[cite: 88]. The 
   mathematical necessity of time is an unchangeable law they must endure.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    compounding_logic,
    mountain,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(compounding_logic, []),
        constraint_victim(compounding_logic, the_impatient),
        spatial_scope(local)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DEBTOR - Noose
   --------------------------------------------------------------------------
   
   [cite_start]WHO: individual_powerless - One subject to "runaway" interest or "fiscal folly"[cite: 146, 193].
   [cite_start]WHEN: immediate - The "cash register rings" for the lender, not them[cite: 89].
   [cite_start]WHERE: constrained - "Paper money" value evaporates, leaving them with debt[cite: 146].
   [cite_start]SCOPE: national - Affected by "monetary instability"[cite: 149].
   
   WHY THIS CLASSIFICATION:
   For the debtor, compounding is a "Noose." It is a coercive mechanism that 
   extracts their future labor at an accelerating rate. It creates a 
   [cite_start]"Hemorrhaging cash" situation that is "hard to ignore"[cite: 179].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    compounding_logic,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        constraint_beneficiary(compounding_logic, lenders),
        constraint_victim(compounding_logic, debtors),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(compounding_logic, E),
    E > 0.4,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(compounding_logic_tests).

test(time_as_mountain) :-
    % Verify that immediate time horizons treat compounding as an immutable Mountain
    constraint_indexing:constraint_classification(compounding_logic, mountain, context(_, immediate, _, _, _, _)).

test(alignment_check) :-
    % Verify that for the long-term saver (Rope), extractiveness is low
    domain_priors:base_extractiveness(compounding_logic, E),
    E =< 0.5.

test(enforcement_dependency) :-
    [cite_start]% Compounding requires active enforcement of "stable currency" [cite: 173]
    domain_priors:requires_active_enforcement(compounding_logic).

:- end_tests(compounding_logic_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVAL VARIANCE: Compounding is the ultimate "Rope" for the 
 * patient, but the ultimate "Noose" for the borrower. I used the 2024 
 * Berkshire letter to ground the "Rope" perspective in the "magic" of 
 * [cite_start]reinvestment[cite: 165].
 * 2. THE MOUNTAIN OF TIME: I identified Time as the primary "Mountain" 
 * constraint. You cannot "arbitrage" time in a compounding equation; 
 * [cite_start]it is a zero-degree-of-freedom variable for the "impatient"[cite: 88].
 * 3. MEDIUM STABILITY: I noted that compounding is contingent on the 
 * "Rope" of a stable currency; if "fiscal folly" prevails, the 
 * [cite_start]mathematical gain is negated by value evaporation[cite: 146, 173].
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    reinvestment_availability,
    [cite_start]"Will there always be 'really outstanding businesses' or 'gems' available for reinvestment? [cite: 127]",
    [cite_start]resolution_mechanism("Monitoring market saturation and 'knee-deep' vs 'nothing looks compelling' cycles[cite: 129]."),
    impact("If gems disappear: The Rope of compounding goes slack, and the system stalls."),
    confidence_without_resolution(medium)
).

omega_variable(
    monetary_survival,
    [cite_start]"Can individuals truly 'cope with monetary instability' through equities? [cite: 149]",
    resolution_mechanism("Historical analysis of equity performance during hyperinflation."),
    impact("If no: Compounding in paper-denominated assets becomes a Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * * ALTERNATIVE 1: Immediate Consumption (The "Anti-Compounding" Model)
 * [cite_start]Viability: The default human behavior[cite: 164].
 * Suppression: "America would have been spinning its wheels" if all was 
 * [cite_start]consumed[cite: 159].
 * * ALTERNATIVE 2: Linear Growth (Simple Interest)
 * Viability: Lower risk, lower coordination requirement.
 * [cite_start]Suppression: Fails to "mushroom" or create "miracles" over 60 years[cite: 164, 165].
 * * CONCLUSION:
 * Compounding is a "Rope" that requires the active suppression of the 
 * "Alternative" (immediate consumption) to function.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(coumpounding_logic, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(coumpounding_logic, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(coumpounding_logic, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: countable_infinity_cardinality
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Cantor's Set Theory / Cardinality of Aleph-0
% ============================================================================

:- module(constraint_countable_infinity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: countable_infinity_cardinality
 * human_readable: Countable Infinity (Aleph-0)
 * domain: mathematical/logical
 * temporal_scope: 1874 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Discrete Mathematics)
 * * SUMMARY:
 * Countable infinity defines sets that can be put into a one-to-one 
 * correspondence with the natural numbers. While infinite, these sets are 
 * "ordered" and "enumerable," creating a rigid logical boundary between 
 * discrete iteration and the "uncountable" continuum.
 * * KEY AGENTS:
 * - The Natural Number (Subject): The powerless agent whose sequence defines 
 * the path of all other countable sets.
 * - The Computer Scientist (Institutional): An agent who uses countability as 
 * a "Rope" for algorithmic iteration and data indexing.
 * - The Continuum Researcher: An observer for whom countability acts as a 
 * "Noose," proving the "holes" in discrete logic when compared to the Reals.
 * * NARRATIVE ARC:
 * To the mathematician, countability is a "Mountain"—an unyielding law of 
 * cardinality discovered by Cantor. In programming, it is the "Rope" of 
 * loops and indices. However, to the intuition of the "Rational" numbers, 
 * countability is a "Noose"; despite feeling "dense" and continuous, they 
 * are "strangled" by the fact that they are no larger than the set of 
 * integers, a truth that extracts the illusion of their continuity.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Structural Anchor
narrative_ontology:interval(countable_infinity_cardinality, 1874, 2026).
narrative_ontology:constraint_claim(countable_infinity_cardinality, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. Countability "extracts" the sense of density from sets 
% like the Rationals, forcing them into a discrete line for the sake 
% of logical ordering.
domain_priors:base_extractiveness(countable_infinity_cardinality, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.25. It suppresses the visibility of the "Continuum" in 
% discrete systems, making uncountable sets appear "non-existent" 
% within the logic of integer-based computation.
domain_priors:suppression_score(countable_infinity_cardinality, 0.25).

% Enforcement: Emerges naturally from the axioms of Peano and Set Theory.
domain_priors:emerges_naturally(countable_infinity_cardinality).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(countable_infinity_cardinality, extractiveness, 0.2).
narrative_ontology:constraint_metric(countable_infinity_cardinality, suppression_requirement, 0.25).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(countable_infinity_cardinality, algorithm_designers). % Predictable iteration.
constraint_beneficiary(countable_infinity_cardinality, logicians). 
constraint_victim(countable_infinity_cardinality, intuitive_continuity). % The Rationals are "shrunk" to a line.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INTEGER "1,000,001" - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The number has no agency over its position.
   WHEN: immediate - True at every point on the number line.
   WHERE: trapped - Bound by the sequence of $n+1$.
   SCOPE: local - Immediate position relative to neighbors.
   
   WHY THIS CLASSIFICATION:
   For any element in a countable set, its place is a natural law. It cannot 
   "jump" the queue or be "larger" than its neighbor in a way that breaks 
   one-to-one correspondence. The Mountain of $\aleph_0$ is unchangeable.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    countable_infinity_cardinality,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SOFTWARE ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design loops and indexing systems.
   WHEN: biographical - Planning the architecture of a database or system.
   WHERE: mobile - Can map any discrete data set to the integers.
   SCOPE: global - Universal applicability in CS.
   
   WHY THIS CLASSIFICATION:
   For the engineer, countability is a "Rope"—a tool for coordination. 
   It ensures that no matter how much data is added, it can be "reached" 
   via discrete steps (1, 2, 3...), providing a standard of achievement 
   for system stability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    countable_infinity_cardinality,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE RATIONAL NUMBER LINE - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Bound by Cantor's diagonal/zig-zag logic.
   WHEN: immediate - Realizing there is "no room" to be larger than N.
   WHERE: constrained - No alternative but to follow the counting path.
   SCOPE: local - Stuck in the "zig-zag" enumeration.
   
   WHY THIS CLASSIFICATION:
   Despite appearing to fill the entire space between 0 and 1 with 
   infinite points, the Rational numbers are "strangled" by countability. 
   The logic of the "zig-zag" proof acts as a "Noose," extracting their 
   density and forcing them into a single-file line that matches 1, 2, 3...
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    countable_infinity_cardinality,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(countable_infinity_cardinality, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(countable_infinity_tests).

test(perspective_shift) :-
    % The integer sees a Mountain; the Engineer sees a Rope.
    constraint_indexing:constraint_classification(countable_infinity_cardinality, mountain, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(countable_infinity_cardinality, rope, context(institutional, biographical, mobile, global)).

test(rational_enumeration_noose) :-
    % The Rationals feel the extraction of their density via countability logic.
    constraint_indexing:constraint_classification(countable_infinity_cardinality, noose, context(individual_powerless, immediate, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(countable_infinity_cardinality).

:- end_tests(countable_infinity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: Countable infinity is a fundamental Mountain of 
 * mathematics. However, its "Perspectival Gap" is significant; it is a 
 * perfect Rope for computer science (arrays, for-loops) but a Noose 
 * for the intuition of set density (Rationals).
 * 2. EXTRACTIVENESS: Set at 0.2. The theorem "takes" the complexity 
 * of the rationals and "shrivels" it into the same size as the integers.
 * 3. AGENT POWER: I characterized the Rationals as "individual_powerless" 
 * to highlight the coercion of the Cantor mapping.
 */

% OMEGA IDENTIFICATION
omega_variable(
    continuum_hypothesis_interaction,
    "Is there a set size between the Mountain of $\aleph_0$ and the Mountain of the Reals?",
    resolution_mechanism("Formal undecidability in ZFC; requires a leap of faith to a specific axiom."),
    impact("If Yes: Countability is a 'Scaffold'. If No: It is a permanent 'Mountain' edge."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Uncountable Sets (The Reals)
 * Viability: Truly continuous, cannot be mapped to N.
 * Suppression: Often "ignored" in discrete algorithmic contexts because 
 * you cannot iterate over them.
 * Evidence: Cantor's Diagonal Argument.
 * * ALTERNATIVE 2: Ultra-Finitism
 * Viability: Denying that infinity exists at all.
 * Suppression: Suppressed by modern analysis and the "Rope" utility 
 * of calculus.
 * * CONCLUSION:
 * The dominance of the Countable "Rope" in computer science effectively 
 * suppresses the viability of truly continuous (uncountable) processing.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [countable_infinity_cardinality].
% Analyze: ?- constraint_indexing:multi_index_report(countable_infinity_cardinality).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: couples_residency_match
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: NRMP / Roth-Peranson Algorithm (Couples Module)
% ============================================================================

:- module(constraint_couples_match, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: couples_residency_match
 * human_readable: The Couples Match (Joint Stability)
 * domain: technological/social
 * temporal_scope: Biographical (Final Year of Residency)
 * spatial_scope: National (USA)
 * * SUMMARY:
 * The "Couples Match" is a specialized module of the NRMP that allows two 
 * medical students to link their rank order lists (ROLs). To maintain 
 * stability, the algorithm must find a pair of programs that is stable for 
 * BOTH partners simultaneously. This significantly increases the 
 * computational complexity and restricts the available "solution space."
 * * KEY AGENTS:
 * - The Couple: Two agents acting as a single unit with linked preferences.
 * - The Residencies: Individual programs with fixed quotas.
 * - The Algorithm: The Roth-Peranson modification for coupled stability.
 * * NARRATIVE ARC:
 * The constraint functions as a "Gravity Well." By linking their fates, 
 * the couple creates a higher barrier to entry. They must often sacrifice 
 * individual prestige (moving down their personal ROL) to find a joint 
 * geographic match, turning a coordination tool into a self-imposed limit.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(couples_residency_match, 0, 10).
narrative_ontology:constraint_claim(couples_residency_match, mountain).

% Base extractiveness score (0.5)
% The system extracts a "choice penalty." To guarantee being together, 
% couples often match at lower-ranked programs than they would individually.
domain_priors:base_extractiveness(couples_residency_match, 0.5).

% Suppression score (0.95)
% Like the standard match, side-deals are strictly prohibited.
domain_priors:suppression_score(couples_residency_match, 0.95).

% Enforcement requirements
domain_priors:requires_active_enforcement(couples_residency_match).

% Metrics
narrative_ontology:constraint_metric(couples_residency_match, extractiveness, 0.5).
narrative_ontology:constraint_metric(couples_residency_match, suppression_requirement, 0.95).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(couples_residency_match, regional_hospital_systems).
constraint_victim(couples_residency_match, high_achieving_partners).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE "COUPLE" - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (subject to joint probability)
   WHEN: biographical (marriage/family formation)
   WHERE: trapped (linked lists create a binary "match together or fail")
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   The couple experiences the constraint as a "Noose" because the number 
   of valid stable matches drops exponentially when ROLs are linked. 
   The binding nature of the contract means they might be forced into 
   their 50th-ranked pair of programs simply because it's the only 
   one that works for both.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    couples_residency_match,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(couples_residency_match, S),
    S > 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PROGRAM DIRECTOR - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: generational
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   Program directors see the Couples Match as a "Rope." It helps them 
   recruit high-quality candidates who might otherwise go to a 
   different city. By offering a joint solution, the Match 
   coordinates the social needs of residents with the labor needs 
   of the hospital.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    couples_residency_match,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MATHEMATICIAN - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: civilizational
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the analyst, the Couples Match is a "Mountain." Adding couples 
   to the Stable Marriage Problem makes finding a stable match 
   potentially impossible (non-existence of stability). This is a 
   fundamental NP-hard frontier of game theory.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    couples_residency_match,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(couples_residency_match),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(couples_match_tests).

test(complexity_noose) :-
    % Linked lists (trapped) = Noose
    constraint_indexing:constraint_classification(couples_residency_match, noose, context(_, _, trapped, _)).

test(analytical_mountain) :-
    % The mathematical impossibility of certain stable matches is a Mountain.
    constraint_indexing:constraint_classification(couples_residency_match, mountain, context(analytical, _, _, _)).

:- end_tests(couples_match_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * The Couples Match is a "voluntary noose." Agents choose to link their 
 * lists to solve a social coordination problem (staying together), but 
 * the math of the Match turns this into a much more restrictive constraint.
 * * OMEGAS:
 * 1. Does a stable match ALWAYS exist with couples? 
 * (Historically no, but the algorithm finds 'approximate' stability).
 */

omega_variable(
    stability_existence,
    "Is a stable match mathematically guaranteed for all couples?",
    resolution_mechanism("Algorithmic proof of Roth-Peranson convergence on specific datasets"),
    impact("If No: The system is a 'Scaffold' that could collapse at any time."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: creative_commons_licensing
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Creative Commons Legal Code / Lessig, L. (2004). Free Culture.
% ============================================================================

:- module(constraint_creative_commons, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: creative_commons_licensing
 * human_readable: Creative Commons (Modular Permissions)
 * domain: social/technological/legal
 * temporal_scope: Biographical to Historical (2001 - Present)
 * spatial_scope: Global
 * * SUMMARY:
 * Creative Commons is a licensing framework that allows creators to move away 
 * from the binary of "Noose" (Full Copyright) or "Mountain" (Public Domain). 
 * By using modular terms (Attribution, Non-Commercial, etc.), creators build 
 * a custom "Rope" that defines exactly how their work can be shared and remixed.
 * * KEY AGENTS:
 * - The Licensor (Creator): Voluntarily reduces their monopoly to gain reach.
 * - The Licensee (User): Gains legal certainty for reuse and remixing.
 * - The Commons Architect: (e.g., Lawrence Lessig) who designed the legal 
 * interoperability of the licenses.
 * * NARRATIVE ARC:
 * CC transforms copyright from a wall into a "User Manual." It solves the 
 * problem of high transaction costs; instead of negotiating every use, the 
 * license acts as a pre-signed permission slip that coordinates global 
 * creative collaboration.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(creative_commons_licensing, 0, 10).
narrative_ontology:constraint_claim(creative_commons_licensing, rope).

% Base extractiveness score (0.1)
% Low extraction; the creator intentionally gives up "extraction rights" 
% (licensing fees) to facilitate broader cultural flow.
domain_priors:base_extractiveness(creative_commons_licensing, 0.1).

% Suppression score (0.1)
% Extremely low; the system is designed for maximum transparency and 
% machine-readability.
domain_priors:suppression_score(creative_commons_licensing, 0.1).

% Enforcement: Requires active enforcement (though usually self-regulating 
% through community norms).
domain_priors:requires_active_enforcement(creative_commons_licensing).

% Metrics
narrative_ontology:constraint_metric(creative_commons_licensing, extractiveness, 0.1).
narrative_ontology:constraint_metric(creative_commons_licensing, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(creative_commons_licensing, open_educational_resources).
constraint_beneficiary(creative_commons_licensing, remix_culture).
constraint_victim(creative_commons_licensing, none).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE WIKIPEDIAN - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For a contributor to an open project like Wikipedia, CC is the ultimate 
   "Rope." It provides the coordination infrastructure needed for thousands 
   of strangers to build a single "Mountain" of knowledge without a 
   single "Noose" of copyright litigation.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    creative_commons_licensing,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(creative_commons_licensing, E),
    E < 0.2,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TRADITIONAL PUBLISHER - Noose
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: generational
   WHERE: trapped (business model relies on copyright monopolies)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To a legacy academic publisher, CC is a "Noose." It strangles their 
   ability to charge paywall fees and maintain an "Exclusive Match" 
   with authors. The rise of "Open Access" (driven by CC) is a slow-motion 
   collapse of their extractive power.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    creative_commons_licensing,
    noose,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INTERNET ARCHITECT - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The architect sees CC as a "Mountain"—a permanent layer of the internet's 
   legal stack. Much like the HTTP protocol coordinates data, CC 
   coordinates "Meaning." It is a structural feature that makes the modern 
   web possible.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    creative_commons_licensing,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(creative_commons_licensing),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(cc_tests).

test(coordination_efficiency) :-
    % Testing that CC functions as a non-extractive Rope for mobile agents.
    constraint_indexing:constraint_classification(creative_commons_licensing, rope, context(_, _, mobile, _)).

test(legacy_disruption) :-
    % Testing that CC acts as a Noose for institutions reliant on monopolies.
    constraint_indexing:constraint_classification(creative_commons_licensing, noose, context(institutional, _, _, _)).

:- end_tests(cc_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * CC is a "meta-constraint." It uses the rules of Copyright to create a 
 * non-copyright-like environment. I classified it as a Noose for 
 * publishers because it is the primary "Exit Option" that breaks their 
 * extractive business models.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    cc_license_enforcement_vulnerability,
    "Can CC licenses survive a targeted attack by AI companies claiming 'Fair Use' bypasses the license terms?",
    resolution_mechanism("Case law involving 'Share-Alike' clauses in AI training sets"),
    impact("If Yes: The Rope holds. If No: The Mountain collapses back into a Noose of raw data extraction."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: crispr_genomic_rewrite_2026
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "We can rewrite our genetic code" by Michael Le Page (Jan 2026)
% ============================================================================

:- module(crispr_genomic_rewrite_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: crispr_genomic_rewrite_2026
 * human_readable: CRISPR Genomic Programmability
 * domain: technological/biological
 * temporal_scope: 2012-2026 (The CRISPR Era)
 * spatial_scope: Global (Biological/Agricultural)
 * * SUMMARY:
 * CRISPR is a revolutionary tool that enables specific, targeted changes to be made to 
 * DNA, effectively allowing the "rewriting" of the genetic code. It has 
 * transitioned genetic diseases from "impossible to correct" errors into treatable 
 * conditions through precise "spelling mistake" correction.
 * * KEY AGENTS:
 * - The Patient: (e.g., Victoria Gray) - Subject to severe genetic conditions like 
 * sickle cell disease.
 * - The Scientist/Institution: (e.g., Clinical trial leads) - Developers of CRISPR 
 * therapies and agricultural transformations.
 * - Future Progeny: Potential subjects of germline editing to reduce risks of 
 * common diseases.
 * * NARRATIVE ARC:
 * The shift from genetic destiny (Mountain) to programmable health (Rope). Starting with 
 * experimental trials in 2019, the first CRISPR therapy was approved in 2023. 
 * The technology is now expanding into preventative medicine and farming.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(crispr_genomic_rewrite_2026, 0, 10).

% Base extractiveness: 0.4
% Rationale: While curative, the potential for "better versions of ourselves" 
% and asymmetric access to genetic enhancement introduces a moderate risk 
% of social/biological extraction.
domain_priors:base_extractiveness(crispr_genomic_rewrite_2026, 0.4).

% Suppression: 0.2
% Rationale: Older genetic methods are not being actively suppressed by force, 
% but are becoming obsolete through the superior efficacy of CRISPR.
domain_priors:suppression_score(crispr_genomic_rewrite_2026, 0.2).

% Enforcement: Requires active enforcement
% Rationale: CRISPR does not occur naturally as a therapy; it requires precise 
% targeting (the "cursor") and a secondary "change" mechanism.
domain_priors:requires_active_enforcement(crispr_genomic_rewrite_2026).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(crispr_genomic_rewrite_2026, genetic_disease_patients). %
constraint_beneficiary(crispr_genomic_rewrite_2026, climate_adapted_agriculture). %
constraint_victim(crispr_genomic_rewrite_2026, congenital_disease_legacy). % The "errors" once thought permanent

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE CURED PATIENT (Victoria Gray) - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A patient subject to severe disease pain)
   WHEN: biographical (A total shift in life quality: "everything is different")
   WHERE: trapped (Previously bound by sickle cell "freight train" pain)
   SCOPE: local (Personal health and survival)
   
   WHY THIS CLASSIFICATION:
   For the patient, CRISPR is a "Rope"—a functional tool that allows them 
   to pull themselves out of a "trapped" state of chronic disease. It is a 
   beneficial coordination mechanism for their biology.
   
   NARRATIVE EVIDENCE:
   "Now everything is different for me." "Gray... was effectively cured 
   by a revolutionary technique".
   -------------------------------------------------------------------------- */



[Image of CRISPR-Cas9 gene editing mechanism]


constraint_indexing:constraint_classification(
    crispr_genomic_rewrite_2026,
    rope,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SCIENTIFIC INSTITUTION - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Conducting hundreds of clinical trials)
   WHEN: generational (Planning for future routine child genome editing)
   WHERE: mobile (Moving the "cursor" to different places in the genome)
   SCOPE: global (Transforming farming and global health risk)
   
   WHY THIS CLASSIFICATION:
   For institutions, CRISPR is a highly flexible "Rope"—a tool for 
   optimizing human and agricultural systems. It is the cursor and 
   editor of the biological world.
   
   NARRATIVE EVIDENCE:
   "CRISPR could help treat all kinds of diseases... transform farming... 
   reduce your risk of heart attacks".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    crispr_genomic_rewrite_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: BIOLOGICAL REALIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer of the genetic "code")
   WHEN: civilizational (Permanent genetic changes)
   WHERE: analytical (Universal application of the technique)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From an analytical perspective, the ability to rewrite DNA has become 
   a "Mountain"—a fixed reality of the 21st century. The biological 
   programmability of life is no longer a choice but a law of nature.
   
   NARRATIVE EVIDENCE:
   "Our genomes are filled with errors that were once impossible to correct." 
   "CRISPR is one of the very best ideas of the 21st century".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    crispr_genomic_rewrite_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(crispr_genomic_rewrite_2026_tests).

test(multi_perspective_variance) :-
    % Verify that different agents see the tool differently
    constraint_indexing:constraint_classification(crispr_genomic_rewrite_2026, T1, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(crispr_genomic_rewrite_2026, T2, context(agent_power(analytical), _, _, _)),
    T1 \= T2.

test(power_benefit_scaling) :-
    % The powerless (sickle cell patients) experience high benefit (Rope) 
    % while the powerful (institutions) use it as a global lever.
    true.

:- end_tests(crispr_genomic_rewrite_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.4): Chosen because while the direct health benefits 
 * are high, the source mentions "making better versions of ourselves," which 
 * introduces competitive/extractive asymmetries in the social domain.
 * 2. CLASSIFICATION RATIONALE:
 * - Victoria Gray (Rope): She escaped a biological Noose through a 
 * technological Rope.
 * - Biological Realist (Mountain): The fact that DNA is now editable is an 
 * immutable feature of modern biological reality.
 * 3. AMBIGUITIES: The source mentions it "isn't yet safe enough to attempt" 
 * certain future uses (germline), creating a temporal boundary for 
 * the Rope classification.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    germline_editing_safety_threshold,
    "When will CRISPR be considered safe enough for routine germline editing in children?",
    resolution_mechanism("Long-term safety data from current somatic clinical trials and regulatory consensus"),
    impact("If soon: Rope (prevents common disease). If never: Noose (limited to somatic treatment)."),
    confidence_without_resolution(medium)
).

omega_variable(
    cholesterol_permanent_lowering_consequences,
    "What are the unforeseen long-term metabolic impacts of 'permanently lowering' cholesterol via CRISPR?",
    resolution_mechanism("30-year longitudinal follow-ups on the 'single dose' recipients mentioned in the text"),
    impact("If safe: Universal Rope. If dangerous: Biological Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Conventional Genetic Counseling
 * Viability: Managing outcomes without editing.
 * Suppression: Being replaced by CRISPR's "correction" of errors.
 * * ALTERNATIVE 2: Traditional Farming (Selective Breeding)
 * Viability: Existing method for disease-resistant crops.
 * Suppression: CRISPR is "making it much easier" than these alternatives.
 * * CONCLUSION:
 * The existence of CRISPR transforms the "Genetic Blueprint" from a Mountain 
 * (fixed destiny) into a Rope (manageable data).
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [crispr_genomic_rewrite_2026].
% Test: ?- run_tests(crispr_genomic_rewrite_2026_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: cuba_mandatrophic_collapse
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Synthesis of Cuban Economic & Energy Crisis Data (2024-2025)
% ============================================================================

:- module(constraint_cuba_mandatrophy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: cuba_mandatrophic_collapse
 * human_readable: Cuban Mandatrophy (The GAESA-Infrastructure Divergence)
 * domain: political/economic/technological
 * temporal_scope: 2021-2026 (Monetary Reform to Grid Collapse)
 * spatial_scope: Cuba (National)
 * * SUMMARY:
 * Mandatrophy in Cuba describes the terminal wasting away of national 
 * infrastructure and food security caused by the rigid prioritization of the 
 * "Military-Tourism Mandate" (GAESA) over the essential "margins" of the 
 * civilian state (the energy grid, agriculture, and public health). While 
 * the national power grid suffered multiple total collapses in 2024 and 2025 
 * due to zero maintenance, the military conglomerate GAESA continued to 
 * extract nearly 40% of state investment into luxury hotel construction.
 * * KEY AGENTS:
 * - GAESA Executive: Institutional; manages a $18 billion dollar-asset 
 * portfolio beyond the reach of the Central Bank or civilian auditors.
 * - The Habanero (Citizen): Individual powerless; lives in a state of 
 * "permanent emergency," facing 18-hour blackouts and extreme food scarcity.
 * - The Diaspora/Migrant: Individual moderate; provides the "remittance rope" 
 * that the state extracts to maintain the dollarized market.
 * * NARRATIVE ARC:
 * The "Tarea Ordenamiento" (Monetary Reform) was pitched as a Rope 
 * (coordination for stability) but functioned as a Noose, devaluing the peso 
 * by 400% and stripping the population of purchasing power. By late 2024, 
 * the energy grid reached the physical Mountain of obsolescence: 50-year-old 
 * plants with zero spare parts. The system has "choked" because the 
 * mandate (military hotels) consumed the margin (infrastructure maintenance).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the Deferential Realism suite
narrative_ontology:interval(cuba_blackout_cycle, 0, 10).
narrative_ontology:constraint_claim(cuba_mandatrophic_collapse, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.95. Extreme extraction; GAESA controls 95% of foreign currency 
% transactions and 70% of the economy, yet none of these billions are 
% diverted to fix the failing national power grid or supply the "libreta" 
% (ration book) staples.
domain_priors:base_extractiveness(cuba_mandatrophic_collapse, 0.95).

% Suppression score (0.0-1.0)
% Rationale: 0.85. The "War Economy" declaration suppresses domestic 
% private alternatives, while the military uniform presence of the President 
% during blackouts enforces a "no-protest" constraint on the population.
domain_priors:suppression_score(cuba_mandatrophic_collapse, 0.85).

% Enforcement requirements
% Requires heavy active enforcement (CIMEX dollar-stores, military oversight 
% of finance, and police crackdowns on spontaneous "power and food" protests).
domain_priors:requires_active_enforcement(cuba_mandatrophic_collapse).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(cuba_mandatrophic_collapse, extractiveness, 0.95).
narrative_ontology:constraint_metric(cuba_mandatrophic_collapse, suppression_requirement, 0.85).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(cuba_mandatrophic_collapse, gaesa_military_elite).
constraint_beneficiary(cuba_mandatrophic_collapse, hotel_construction_sector).
constraint_victim(cuba_mandatrophic_collapse, national_electrical_union_une).
constraint_victim(cuba_mandatrophic_collapse, cuban_agricultural_producers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: GAESA STRATEGIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to manipulate regulatory frameworks and 
         monopolize dollar reserves.
   WHEN: biographical - Investing in luxury towers for a "future tourism boom."
   WHERE: mobile - Holding assets in dollars and MLC, beyond the devalued peso.
   SCOPE: national - The "state inside the state."
   
   WHY THIS CLASSIFICATION:
   GAESA views its conglomerate as a Rope—a functional coordination mechanism 
   to capture hard currency in an era of sanctions. They see the "extraction" 
   of domestic resources into hotel towers as a necessary strategic 
   investment to eventually "save" the economy through tourism.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    cuba_mandatrophic_collapse,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(cuba_mandatrophic_collapse, E),
    E < 0.99,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: ORDINARY CUBAN (THE OPERATOR) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Surviving on one meal a day; subject to 
         record-low exchange rates (365 CUP to 1 USD).
   WHEN: immediate - 16-hour daily blackouts; rotting food in dead fridges.
   WHERE: trapped - Island geography combined with record-high migration.
   SCOPE: local - Household survival in Havana or Santiago.
   
   WHY THIS CLASSIFICATION:
   For the citizen, Mandatrophy is a Noose. The regime's "Mandate" (preserving 
   the military-run tourism empire) has extracted their electricity, 
   medicine, and food rations. Every peso they earn is "choked" by inflation, 
   forcing a total dependency on the dollarized market they cannot access.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    cuba_mandatrophic_collapse,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(cuba_mandatrophic_collapse),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE GRID ENGINEER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Responsible for fixing 50-year-old boilers 
         without spare parts or fuel.
   WHEN: immediate - Responding to catastrophic failures at Antonio Guiteras.
   WHERE: trapped - Working within a "decrepit" facility with zero redundancy.
   SCOPE: local - The physical power plant.
   
   WHY THIS CLASSIFICATION:
   The engineer sees the Mountain. The failure is no longer political; 
   it is physical. The plants have exceeded their 25-year lifespan by decades. 
   Without massive capital, the grid's collapse is an unchangeable law 
   of material science—an unyielding fact that "Mandates" cannot fix.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cuba_mandatrophic_collapse,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:emerges_naturally(cuba_mandatrophic_collapse),
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(cuba_mandatrophy_tests).

test(gaesa_divergence_analysis) :-
    % Verify that institutional agents (GAESA) maintain "Rope" status while 
    % extraction of margins (Grid/Food) reaches terminal "Noose" levels.
    domain_priors:base_extractiveness(cuba_mandatrophic_collapse, E),
    E > 0.9.

test(perspectival_gap_detected) :-
    % Standard DR test: Institutional vs Individual Powerless.
    constraint_indexing:constraint_classification(cuba_mandatrophic_collapse, T1, context(institutional, biographical, mobile, national)),
    constraint_indexing:constraint_classification(cuba_mandatrophic_collapse, T2, context(individual_powerless, immediate, trapped, local)),
    T1 \= T2.

:- end_tests(cuba_mandatrophy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. THE REVEAL: I identified the "Mandate" as GAESA's tourism empire. 
 * Even during the pandemic and subsequent grid collapse, the state 
 * allocated 37-40% of investment to hotels while occupancy was <15%. 
 * 2. THE CHOKING: The nationwide blackouts of Oct 2024 and Dec 2024 
 * are the terminal results of Mandatrophy. The system "choked" because 
 * the maintenance margin was extracted to build "empty towers."
 * 3. SUPPRESSION (0.85): This reflects the 2024 "War Economy" declaration, 
 * which prioritizes state containment over economic development.
 */

omega_variable(
    gaesa_liquidity_paradox,
    "Does GAESA actually hold $14-18B in liquid reserves, or is this an 
     accounting Mountain used to maintain the illusion of solvency?",
    resolution_mechanism("Audit of offshore BFI (Banco Financiero Internacional) 
    transactions and GAESA's internal 'dollar gravity' ledgers"),
    impact("If real: Mandatrophy is a choice (Noose). If fictional: 
            The collapse is an unyielding Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Energy Infrastructure Prioritization
 * Viability: Funding maintenance of the Antonio Guiteras plant instead of 
 * building three new luxury hotels in Havana.
 * Suppression: Actively suppressed by GAESA's monopoly on foreign currency; 
 * civilian ministries lack the "dollar gravity" to access funds.
 * * ALTERNATIVE 2: Agricultural Liberalization (The 'Vietnam' Model)
 * Viability: Freeing productive forces to resolve the 50% food deficit.
 * Suppression: Rejected in 2024/2025 as a threat to state centralized 
 * control (The Mandate).
 * * CONCLUSION:
 * The existence of these viable but suppressed alternatives (Maintenance/
 * Reform) confirms that Cuban Mandatrophy is a terminal Noose.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [cuba_mandatrophic_collapse].
% 2. Analyze: ?- multi_index_report(cuba_mandatrophic_collapse).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: cuban_missile_crisis_excomm_deliberation
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Cuban Missile Crisis 1962 (Declassified Records/ExComm Transcripts)
% ============================================================================

:- module(constraint_cuban_missile_crisis, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: cuban_missile_crisis_excomm_deliberation
 * human_readable: The ExComm Multi-Channel Deliberation Protocol
 * domain: political/military
 * temporal_scope: October 16–28, 1962
 * spatial_scope: Global (US-USSR-Cuba)
 * * SUMMARY:
 * Following the failure of the Bay of Pigs, President Kennedy established 
 * the Executive Committee of the National Security Council (ExComm). This 
 * constraint functioned as a deliberate "anti-silo" mechanism, forcing 
 * decision-makers to weigh multiple competing options—primarily a 
 * naval blockade (quarantine) vs. a direct air strike—under the 
 * existential constraint of Nuclear Mutually Assured Destruction (MAD) 
 *.
 * * KEY AGENTS:
 * - The Hawks (JCS/LeMay): Proponents of a surgical air strike and 
 * invasion.
 * - The Doves (Robert Kennedy/McNamara): Proponents of the naval blockade 
 * as a "Rope" for de-escalation.
 * - Analytical Observer (The Historian): Evaluates the efficacy of the 
 * ExComm protocol in avoiding nuclear escalation.
 * * NARRATIVE ARC:
 * The discovery of Soviet missiles in Cuba initially appeared as a 
 * Mountain (an unchangeable threat requiring immediate force). Through the 
 * ExComm protocol, this was reframed as a Rope (a coordination problem 
 * requiring a blockade and diplomatic back-channels), successfully 
 * avoiding the Noose of a global thermonuclear exchange.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(thirteen_days_crisis, 0, 10).
narrative_ontology:constraint_claim(cuban_missile_crisis_excomm_deliberation, rope).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: Low (0.2). Unlike the Bay of Pigs, the ExComm process was 
% designed to protect the collective interest of global survival rather 
% than institutional prestige.
domain_priors:base_extractiveness(cuban_missile_crisis_excomm_deliberation, 0.2).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: Low (0.15). The protocol explicitly encouraged the airing 
% of conflicting viewpoints and dissent to avoid groupthink.
domain_priors:suppression_score(cuban_missile_crisis_excomm_deliberation, 0.15).

% Enforcement requirements
% Requires active enforcement (JFK intentionally removed himself from 
% some meetings to allow for candid discussion).
domain_priors:requires_active_enforcement(cuban_missile_crisis_excomm_deliberation).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(cuban_missile_crisis_excomm_deliberation, extractiveness, 0.2).
narrative_ontology:constraint_metric(cuban_missile_crisis_excomm_deliberation, suppression_requirement, 0.15).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(cuban_missile_crisis_excomm_deliberation, global_population).
constraint_beneficiary(cuban_missile_crisis_excomm_deliberation, diplomatic_stability).
constraint_victim(cuban_missile_crisis_excomm_deliberation, castro_regime_autonomy).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE JOINT CHIEFS (The Hawks) - Mountain
   --------------------------------------------------------------------------
   
   WHO: institutional - Military leadership with a rigid doctrine of force.
   WHEN: immediate - Focused on the closing window for a pre-emptive strike.
   WHERE: trapped - View themselves as bound by the military necessity to 
         remove the missile threat immediately.
   SCOPE: continental - Primary focus on the defense of the US mainland.
   
   WHY THIS CLASSIFICATION:
   The Chiefs viewed the missiles as an unchangeable military fact (Mountain). 
   To them, the only "natural" response was physical removal through force, 
   viewing any delay as a failure to adhere to the laws of war.
   
   NARRATIVE EVIDENCE:
   General LeMay argued that the blockade was "weak" and that a military 
   strike was the only way to resolve the crisis effectively.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cuban_missile_crisis_excomm_deliberation,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:requires_active_enforcement(cuban_missile_crisis_excomm_deliberation),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: ROBERT KENNEDY/MCNAMARA (The Doves) - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_powerful - Strategic advisors to the President.
   WHEN: biographical - Understanding the weight of history and presidential legacy.
   WHERE: mobile - Actively seeking alternatives like the blockade/quarantine.
   SCOPE: global - Managing the risk of total nuclear escalation.
   
   WHY THIS CLASSIFICATION:
   For RFK and McNamara, the ExComm process and the blockade were a 
   Rope—a coordination mechanism that allowed for communication and 
   signaling to Khrushchev without immediate bloodshed.
   
   NARRATIVE EVIDENCE:
   Robert Kennedy emphasized that "an air strike would be a Pearl Harbor 
   in reverse," framing the decision as a choice of coordination/morality 
   over raw force.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cuban_missile_crisis_excomm_deliberation,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(cuban_missile_crisis_excomm_deliberation, S),
    S < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: POST-COLD WAR ANALYST - Analytical
   --------------------------------------------------------------------------
   
   WHO: analytical - Outside observer examining declassified transcripts.
   WHEN: historical - Evaluating the crisis in the context of the 20th century.
   WHERE: analytical - Free from the life-and-death pressures of 1962.
   SCOPE: global - Analyzing the long-term impact on arms control.
   
   WHY THIS CLASSIFICATION:
   From a safe distance, the ExComm is seen as an ideal Rope—a system 
   designed to prevent the "Noose" of a binary choice (Total Surrender vs. 
   Total War) by creating a middle-path mechanism for de-escalation.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cuban_missile_crisis_excomm_deliberation,
    rope,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE GLOBAL CIVILIAN (SUBJECT) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - The billions of subjects with no agency in the room.
   WHEN: immediate - The "Thirteen Days" where every second is a potential end.
   WHERE: trapped - No exit from the reach of global thermonuclear war.
   SCOPE: global - The stakes encompass the entire biosphere.
   
   WHY THIS CLASSIFICATION:
   The "Noose" is the state of nuclear brinkmanship. While EXCOMM uses 
   deliberation as a Rope to pull back from the edge, the individual subject 
   feels the Noose tightening. For them, this is not "coordination" but a 
   passive wait for an existential verdict. The stakes (0.95) and 
   suppression of agency (0.9) create the ultimate structural trap.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    cuban_missile_crisis_excomm_delibration,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(cuban_missile_crisis_excomm_delibration, E),
    E > 0.8,
    !.

% Explicit priors reflecting the existential stakes for the powerless subject.
domain_priors:base_extractiveness(cuban_missile_crisis_excomm_delibration, 0.9).
domain_priors:suppression_score(cuban_missile_crisis_excomm_delibration, 0.9).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(cuban_missile_crisis_tests).

test(multi_perspective_differentiation) :-
    constraint_indexing:constraint_classification(cuban_missile_crisis_excomm_deliberation, T1, context(institutional, immediate, trapped, national)),
    constraint_indexing:constraint_classification(cuban_missile_crisis_excomm_deliberation, T2, context(individual_powerful, biographical, mobile, global)),
    T1 \= T2.

test(low_suppression_verification) :-
    domain_priors:suppression_score(cuban_missile_crisis_excomm_deliberation, S),
    S < 0.2.

:- end_tests(cuban_missile_crisis_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS MADE BY MODEL:
 * 1. CLASSIFICATION: Labeled as 'Rope' because the ExComm was specifically 
 * created to provide options and coordination where none seemed to exist.
 * 2. SUPPRESSION SCORE (0.15): I chose a very low score to highlight that 
 * the success of the crisis management relied on the *lack* of suppression. 
 * Contrast this with the Bay of Pigs (0.8 suppression).
 */

omega_variable(
    soviet_intent_omega,
    "Would Khrushchev have actually launched if a 'surgical' air strike had occurred?",
    resolution_mechanism("Cross-referencing declassified Politburo minutes with field-level operational orders"),
    impact("If Yes: The ExComm was the only Rope that worked. If No: The Hawks' Mountain was an illusion."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Surgical Air Strike
 * Viability: Highly viable and preferred by the military; could have 
 * physically removed the threat but risked total war.
 * Suppression: Actively debated but rejected by JFK after evaluating 
 * the long-term risks.
 * * CONCLUSION:
 * Unlike the Bay of Pigs, where alternatives were hidden, here they 
 * were interrogated. This transparency is what keeps the ExComm in 
 * the 'Rope' category rather than 'Noose' or 'Mountain'.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [cuban_missile_crisis_excomm_deliberation].
% 2. Report: ?- multi_index_report(cuban_missile_crisis_excomm_deliberation).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(cuban_missile_crisis_excomm_delibration, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(cuban_missile_crisis_excomm_delibration, rope, agent_power(institutional)).
% ============================================================================
% CONSTRAINT STORY: currys_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Logic / Epistemology / Curry's Paradox
% ============================================================================

:- module(constraint_currys_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: currys_paradox
 * human_readable: Curry's Paradox
 * domain: analytical/logic/mathematics
 * temporal_scope: Permanent (Historical to Civilizational)
 * spatial_scope: Universal (Formal Systems)
 * * SUMMARY:
 * Curry's Paradox is a logical "trap" that proves any arbitrary claim 
 * (e.g., "The moon is made of cheese") using a self-referential sentence of 
 * the form "If this sentence is true, then X is true." Unlike the Liar 
 * Paradox, it does not require negation, making it a more fundamental threat 
 * to naive set theory and unrestricted comprehension.
 * * KEY AGENTS:
 * - The Foundationalist: Attempting to build a system where only "true" things 
 * can be derived.
 * - The System Architect: Designing programming languages or formal logics 
 * that must avoid trivialism (where everything is provable).
 * - The Trivialist: An agent who accepts all propositions (the "victim" of 
 * total systemic collapse).
 * * NARRATIVE ARC:
 * The paradox acts as a structural "No-Go" theorem. It forces formal systems 
 * to either limit self-reference, restrict the rules of implication (like 
 * contraction), or face "explosion," where the system loses all meaning because 
 * it permits every possible statement to be true.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(currys_paradox_interval, 0, 10).
narrative_ontology:constraint_claim(currys_paradox, noose).

% Base extractiveness: 0.2 (Low-Moderate)
% Rationale: It extracts "meaning" from a system by making it trivial. If a 
% system is trivialized, the value of every true statement is diluted to zero.
domain_priors:base_extractiveness(currys_paradox, 0.2).

% Suppression score: 0.5 (Moderate)
% Rationale: Alternatives that allow both self-reference and standard 
% implication are actively suppressed because they lead to immediate systemic 
% collapse (Explosion).
domain_priors:suppression_score(currys_paradox, 0.5).

% Enforcement requirements: Emerges naturally from the interaction of 
% implication, self-reference, and contraction.
domain_priors:emerges_naturally(currys_paradox).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(currys_paradox, extractiveness, 0.2).
narrative_ontology:constraint_metric(currys_paradox, suppression_requirement, 0.5).

% Beneficiaries: Paraconsistent Logicians (those who study systems that 
% tolerate contradictions without collapsing).
constraint_beneficiary(currys_paradox, paraconsistent_logicians).

% Victims: Naive System Architects (those whose systems "explode" under 
% simple self-reference).
constraint_victim(currys_paradox, naive_set_theorists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MATHEMATICIAN (Institutional) - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: Institutional/Analytical power (The gatekeepers of formal proof).
   WHEN: Civilizational (Permanent structural reality).
   WHERE: Trapped (Mathematics cannot "vote" the paradox away).
   SCOPE: Global/Universal.
   
   WHY THIS CLASSIFICATION:
   For the mathematician, the paradox is a Mountain. It is an inherent feature 
   of the landscape of logic. One does not "fix" Curry's Paradox; one builds 
   fences (types, hierarchies) to ensure they never accidentally walk into it.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    currys_paradox,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PROGRAMMER (Individual Moderate) - ROPE
   --------------------------------------------------------------------------
   
   WHO: Individual Moderate (Builds software using logical rules).
   WHEN: Biographical/Immediate (Focused on the runtime of a system).
   WHERE: Mobile (Can switch languages or type systems).
   SCOPE: Regional (Specific to a language environment).
   
   WHY THIS CLASSIFICATION:
   To a programmer, the paradox is a Rope. It is a tool for understanding the 
   risks of recursion and untyped lambdas. It is a coordination mechanism 
   that helps them design safer compilers. If a specific logic is "Curry-unstable," 
   they simply exit to a different language.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    currys_paradox,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LOGICAL REFORMER (Individual Powerless) - NOOSE
   --------------------------------------------------------------------------
   
   WHO: Individual Powerless (Trying to propose new logical foundations).
   WHEN: Historical.
   WHERE: Constrained (By the "Explosion Principle").
   SCOPE: National (Within the academic discipline).
   
   WHY THIS CLASSIFICATION:
   For a reformer who wants to allow natural language's "unrestricted 
   comprehension," Curry's Paradox is a Noose. It is the "threat" used by the 
   establishment to shut down more flexible logics. "If you allow that rule," 
   they say, "the Noose tightens and your entire system explodes into triviality."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    currys_paradox,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(currys_paradox_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(currys_paradox, Type1, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(currys_paradox, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(currys_paradox, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    % For a powerless reformer, the "explosion" (extraction of meaning) is total.
    % For a powerful institution, they've already mitigated it.
    ContextPowerless = context(individual_powerless, historical, constrained, national),
    ContextPowerful = context(institutional, civilizational, trapped, global),
    domain_priors:base_extractiveness(currys_paradox, Score),
    Score > 0.0.

test(time_immutability) :-
    % Long-term civilizational view = Mountain (immutable)
    constraint_indexing:constraint_classification(currys_paradox, mountain, context(_, civilizational, _, _)).

:- end_tests(currys_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS (0.2): Chose a low-moderate score. While it doesn't 
 * extract labor, it extracts "information utility" by rendering a 
 * system useless if triggered.
 * * 2. SUPPRESSION (0.5): This is higher than the Liar Paradox because the 
 * logical community is very aggressive about suppressing systems that 
 * cannot handle Curry, as "Explosion" is seen as the death of logic.
 * * 3. NOOSE SELECTION: The "Noose" classification arises from the way 
 * the paradox is used to gatekeep which logics are "respectable."
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    relevance_logic_viability,
    "Can 'Relevance Logic' (which rejects contraction) be a stable foundation for human-AI coordination?",
    resolution_mechanism("Development and large-scale deployment of a relevance-based theorem prover"),
    impact("If Yes: Curry's Paradox moves from Mountain to Rope (optional tool). If No: It remains a Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Rejecting 'Contraction' (Relevance Logic)
 * Viability: High in niche logic, Low in mainstream math.
 * Suppression: High. Most mathematicians view the rule (A -> (A -> B)) |- (A -> B) 
 * as "natural law."
 * * ALTERNATIVE 2: Fixed-point hierarchies (Tarski-style)
 * Viability: High. The standard way to avoid the paradox.
 * Suppression: Low (it is the dominant paradigm).
 * * CONCLUSION:
 * Because Alternatives exist (like rejecting contraction) but are cognitively 
 * suppressed by the "intuitive" nature of standard implication, the paradox 
 * often functions as a Noose for alternative logical architectures.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_currys_paradox].
 * 2. Run multi-perspective report: ?- constraint_indexing:multi_index_report(currys_paradox).
 * 3. Run tests: ?- run_tests(currys_paradox_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: damped_harmonics
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Classical Mechanics / Differential Equations
% ============================================================================

:- module(constraint_damped_harmonics, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: damped_harmonics
 * human_readable: Damped Harmonic Motion
 * domain: physics/technological
 * temporal_scope: 17th Century - Present
 * spatial_scope: Universal (Physical Systems)
 * * SUMMARY:
 * Damped harmonic motion describes an oscillatory system where the amplitude 
 * decreases over time due to dissipative forces (friction, air resistance, 
 * or internal viscosity). It is the inevitable transition from kinetic energy 
 * to thermal entropy.
 * * KEY AGENTS:
 * - The Oscillator (Mass/Pendulum): The powerless subject following the 
 * second-order differential equation.
 * - The Mechanical Engineer: An institutional agent who "tunes" the damping 
 * ratio to ensure system stability.
 * - The Signal Analyst: An analytical observer measuring the rate of 
 * information decay in a transmission medium.
 * * NARRATIVE ARC:
 * In the vacuum of pure theory, an oscillator lives forever as a Mountain 
 * of perpetual motion. In the real world, "Damping" is the first law of 
 * physical constraints. For the car passenger, the shock absorber is a 
 * "Rope" of comfort and coordination. For the high-speed data packet, 
 * signal damping is a "Noose" that extracts clarity, forcing the 
 * re-investment of power to bridge the distance.
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(damped_harmonics, 1687, 2026).
narrative_ontology:constraint_claim(damped_harmonics, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.25. Friction/Damping "takes" kinetic energy from the 
% system and converts it to heat, which is functionally extractive 
% in mechanical contexts.
domain_priors:base_extractiveness(damped_harmonics, 0.25).

% Suppression score (0.0-1.0)
% Rationale: 0.1. Damping is widely understood; it does not hide 
% its presence, though it renders "Ideal" perpetual motion invisible.
domain_priors:suppression_score(damped_harmonics, 0.1).

% Enforcement: Emerges naturally from the Second Law of Thermodynamics.
domain_priors:emerges_naturally(damped_harmonics).

% Metrics
narrative_ontology:constraint_metric(damped_harmonics, extractiveness, 0.25).
narrative_ontology:constraint_metric(damped_harmonics, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(damped_harmonics, structural_safety). % Prevents resonant collapse.
constraint_victim(damped_harmonics, energy_efficiency). % Energy lost to heat.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE OSCILLATING MASS - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The particle has no agency over the viscous force.
   WHEN: immediate - The force acts instantaneously proportional to velocity.
   WHERE: trapped - Bound by the physical medium (fluid/air).
   SCOPE: local - Immediate physical environment.
   
   WHY THIS CLASSIFICATION:
   For the physical object, the decay of its motion is a natural law. It cannot 
   "choose" to ignore friction. The transition from $x(t)$ to equilibrium is 
   an unyielding geometric fate.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    damped_harmonics,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE AUTOMOTIVE ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design the damping coefficient ($c$).
   WHEN: biographical - Planning the lifecycle and safety of a vehicle.
   WHERE: mobile - Can adjust valve sizes or fluid viscosity to "exit" instability.
   SCOPE: global - Applies to all units in a fleet.
   
   WHY THIS CLASSIFICATION:
   Damping is a functional coordination tool. By choosing "Critical Damping," 
   the engineer ensures the car returns to equilibrium as fast as possible 
   without oscillation, providing safety and performance.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    damped_harmonics,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE WEAK ACOUSTIC SIGNAL - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - The signal "packet" is destroyed by the medium.
   WHEN: immediate - Every meter of travel extracts more amplitude.
   WHERE: constrained - The signal must pass through the high-resistance path.
   SCOPE: local - The segment of the wire or air.
   
   WHY THIS CLASSIFICATION:
   In high-resistance contexts, damping "strangles" the signal. It extracts 
   information value from the carrier, forcing the use of expensive repeaters 
   (extraction of capital) just to survive the distance.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    damped_harmonics,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(damped_harmonics, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================= */

:- begin_tests(damped_harmonics_tests).

test(perspective_shift) :-
    % The Mass sees a Mountain; the Engineer sees a Rope.
    constraint_indexing:constraint_classification(damped_harmonics, mountain, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(damped_harmonics, rope, context(institutional, biographical, mobile, global)).

test(extraction_logic) :-
    % Signals in a medium should feel the "Noose" effect of energy loss.
    constraint_indexing:constraint_classification(damped_harmonics, noose, context(individual_powerless, immediate, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(damped_harmonics).

:- end_tests(damped_harmonics_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: Damping is a unique physical constraint because it is 
 * the "enforcer" of equilibrium. I classified it as a Mountain for the 
 * subject but a Rope for the designer.
 * 2. EXTRACTIVENESS: Set at 0.25 to reflect the "heat tax" of thermodynamics.
 * 3. PERSPECTIVES: Chose the "Automotive Engineer" to represent the peak 
 * utility of the "Rope" classification (stability).
 */

% OMEGA IDENTIFICATION
omega_variable(
    linearity_assumption,
    "Does the 'Mountain' remain stable if the damping is non-linear (e.g., quadratic air resistance)?",
    resolution_mechanism("Compare $F \propto v$ with $F \propto v^2$ in high-velocity contexts."),
    impact("If non-linear: The 'Rope' becomes a chaotic 'Noose' for predictability."),
    confidence_without_resolution(medium)
).

omega_variable(
    active_damping_failure,
    "What happens when the 'Rope' (active suspension) loses power?",
    resolution_mechanism("Simulation of damping loss in 100-story skyscrapers."),
    impact("If failure: The Mountain of resonance returns to destroy the system."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Active Resonance (Energy Injection)
 * Viability: Counteracting damping with external power (e.g., clock escapement).
 * Suppression: Rejected in most passive safety designs due to reliability risk.
 * * ALTERNATIVE 2: Superfluidity / Superconductivity
 * Viability: Elimination of damping through phase transitions.
 * Suppression: Not viable at STP (Standard Temperature/Pressure).
 * * CONCLUSION:
 * At standard scales, Damping is an inescapable Mountain. Attempts to 
 * suppress it (Alternatives) require high-power institutional "Ropes."
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [damped_harmonics].
% Analyze: ?- constraint_indexing:multi_index_report(damped_harmonics).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: dark_patterns_manipulation
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Brignull, H. (2010). Dark Patterns. / FTC Enforcement Guidelines.
% ============================================================================

:- module(constraint_dark_patterns, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: dark_patterns_manipulation
 * human_readable: Dark Patterns (Interface Coercion)
 * domain: technological/economic/psychological
 * temporal_scope: Immediate
 * spatial_scope: Global
 * * SUMMARY:
 * Dark patterns exploit cognitive biases (like loss aversion or the default 
 * effect) to steer user behavior toward outcomes that benefit the platform 
 * but harm the user. They are the "shadow side" of Information Foraging Theory.
 * * KEY AGENTS:
 * - The User: The "forager" whose cognitive heuristics are being weaponized.
 * - The Growth Hacker: The designer tasked with maximizing "conversion" at any cost.
 * - The Regulator: The agent attempting to ban deceptive design (e.g., California Privacy Rights Act).
 * * NARRATIVE ARC:
 * Dark patterns function as "Fake Information Scent." They lure the user 
 * into a matching market where the "Match" is involuntary. It turns the 
 * interface from a transparent tool into a psychological Noose.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(dark_patterns_manipulation, 0, 10).
narrative_ontology:constraint_claim(dark_patterns_manipulation, noose).

% Base extractiveness score (0.85)
% High; they are purely designed to extract value (money, data, attention) 
% through deception rather than exchange.
domain_priors:base_extractiveness(dark_patterns_manipulation, 0.85).

% Suppression score (0.9)
% High; the "Exit Option" (e.g., the 'Cancel Subscription' button) is 
% intentionally hidden or made difficult to find.
domain_priors:suppression_score(dark_patterns_manipulation, 0.9).

% Enforcement: Requires active enforcement (Corporate deceptive practices).
domain_priors:requires_active_enforcement(dark_patterns_manipulation).

% Metrics
narrative_ontology:constraint_metric(dark_patterns_manipulation, extractiveness, 0.85).
narrative_ontology:constraint_metric(dark_patterns_manipulation, suppression_requirement, 0.9).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(dark_patterns_manipulation, predatory_platforms).
constraint_victim(dark_patterns_manipulation, vulnerable_consumers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE CAPTIVE CUSTOMER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped (in a 'Roach Motel' design)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a user trying to delete an account, the interface is a "Noose." 
   The "Confirm Deletion" button is grayed out, hidden behind five menus, 
   or requires a physical phone call. The platform strangles their 
   exit option to keep their "Match" metric high.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dark_patterns_manipulation,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PRODUCT MANAGER - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: biographical (quarterly targets)
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   To the product manager, these patterns are a "Rope." They are the 
   coordination tools used to "nudge" users toward the "desired" 
   business outcome. They see it as a necessary strategy for survival 
   in a hyper-competitive attention economy.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dark_patterns_manipulation,
    rope,
    context(agent_power(institutional), time_horizon(biographical), exit_options(mobile), spatial_scope(regional))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ETHICAL DESIGNER - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The ethical observer sees these patterns as a "Mountain" of 
   psychological vulnerability. Human cognitive biases are immutable. 
   The fact that they *can* be exploited is a feature of our biological 
   nature that designers must either respect or exploit.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dark_patterns_manipulation,
    mountain,
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))
) :- !.

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
```prolog
% ============================================================================
% CONSTRAINT STORY: dead_sea_effect
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Software Engineering Management / Bruce Webster / Organizational Theory
% ============================================================================

:- module(constraint_dead_sea_effect, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: dead_sea_effect
 * human_readable: The Dead Sea Effect (Talent Evaporation)
 * domain: social/economic/technological
 * temporal_scope: Biographical to Generational
 * spatial_scope: Regional (Corporate/Institutional)
 * * SUMMARY:
 * The Dead Sea Effect occurs in large organizations when highly talented and 
 * mobile individuals "evaporate" (leave) because they have the best exit 
 * options, while the less talented/less mobile individuals stay behind, 
 * increasing the "salinity" (mediocrity) of the remaining talent pool.
 * * KEY AGENTS:
 * - The High-Performer: The "fresh water" who leaves as soon as the 
 * environment becomes toxic or stagnant.
 * - The Residue: The average-to-low performers who remain because they lack 
 * comparable exit options.
 * - The Management: The institutional force that fails to differentiate 
 * treatment, leading to the evaporation.
 * * NARRATIVE ARC:
 * This is an "Anti-Matching Market." Instead of sorting for quality, the 
 * system's constraints (rigid pay, bad management, bureaucracy) act as a 
 * filter that systematically removes the highest value participants, leaving 
 * a "Mountain" of institutional inertia.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(dead_sea_effect, 0, 10).
narrative_ontology:constraint_claim(dead_sea_effect, noose).

% Base extractiveness: Moderate (0.5).
% The organization extracts the presence/stability of the mediocre at the cost 
% of the high-performer's potential, leading to a net loss of system value.
domain_priors:base_extractiveness(dead_sea_effect, 0.5).

% Suppression: Moderate (0.4).
% Talent "evaporation" is often invisible to management (who see low turnover 
% in the residue) until the system fails.
domain_priors:suppression_score(dead_sea_effect, 0.4).

% Enforcement: Emerges naturally from poor institutional design.
domain_priors:emerges_naturally(dead_sea_effect).

% Beneficiaries: Competitor Firms (who hire the "evaporated" talent).
constraint_beneficiary(dead_sea_effect, competitor_organizations).

% Victims: The Sinking Organization (loses innovation capacity).
constraint_victim(dead_sea_effect, the_stagnant_institution).

% Metrics
narrative_ontology:constraint_metric(dead_sea_effect, extractiveness, 0.5).
narrative_ontology:constraint_metric(dead_sea_effect, suppression_requirement, 0.4).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE HIGH-PERFORMER - Rope
   --------------------------------------------------------------------------
   WHO: individual_powerful (high human capital)
   WHEN: immediate
   WHERE: mobile (high exit options)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the high-performer, the organization's decay is a "Rope." Because 
   they are mobile, the declining environment is simply the signal they 
   need to climb out to a better "Match." The constraint doesn't bind 
   them; it motivates their exit.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dead_sea_effect,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MEDIOCRE REMAINER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (low exit options)
   WHEN: biographical
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For those who cannot leave, the increasing "salinity" is a "Noose." 
   As the high-performers leave, the workload and institutional decay 
   accelerate. Those remaining are trapped in a failing system with 
   no path to improvement, slowly suffocated by growing inefficiency.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dead_sea_effect,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(dead_sea_effect, E),
    E >= 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE OUTSIDE OBSERVER - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   To the historian or consultant, the Dead Sea Effect is a "Mountain." 
   It is an inevitable byproduct of entropy in large, unmanaged 
   hierarchies. It follows natural laws of incentive and mobility. 
   You cannot "wish" it away; you must re-engineer the geography.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dead_sea_effect,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(national)
    )
) :-
    domain_priors:emerges_naturally(dead_sea_effect),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(dead_sea_tests).

test(mobility_divergence) :-
    % Testing that mobile agents see a Rope (exit) while trapped agents see a Noose.
    constraint_indexing:constraint_classification(dead_sea_effect, rope, context(_, _, mobile, _)),
    constraint_indexing:constraint_classification(dead_sea_effect, noose, context(_, _, trapped, _)).

test(organizational_mountain) :-
    % Testing that the analytical view recognizes it as a structural Mountain.
    constraint_indexing:constraint_classification(dead_sea_effect, mountain, context(analytical, _, _, _)).

:- end_tests(dead_sea_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * The Dead Sea Effect is a "Reverse Matching Market." I classified it 
 * primarily around exit options. If you can leave, the constraint is 
 * helpful (it tells you to leave). If you can't, it's a death trap.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    remote_work_impact,
    "Does remote work increase the 'evaporation' rate by lowering exit costs?",
    resolution_mechanism("Comparative analysis of turnover rates in remote vs. in-office stagnant firms"),
    impact("If Yes: The Mountain of organizational decay becomes a 'Flash Flood' (rapid collapse)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */

```

### The Dynamics of the Dead Sea Effect

The **Dead Sea Effect** is a classic organizational paradox. It describes how an institution can become less competent over time even if its total headcount remains stable.

#### How the "Evaporation" Happens:

1. **High Talent Mobility:** The most talented employees are like "fresh water"—they have the most options in the **Matching Market**. If the corporate environment becomes stagnant, bureaucratic, or toxic, they are the first to get offers elsewhere and leave.
2. **The Residue:** Employees with fewer options or lower performance are like "salt"—they tend to stay put because the "exit cost" for them is higher.
3. **Increasing Salinity:** Over time, the organization's culture is defined by those who stayed. This creates a feedback loop: as the culture becomes more bureaucratic (more "salty"), it drives away the remaining high-performers even faster.

#### The Role of AI-Evaluators and Matching Markets:

The rise of **AI-Evaluators** and **Skills-Based Hiring** significantly accelerates the Dead Sea Effect:

* **The Rope for Talent:** High-performers can now use AI tools to find and secure new matches almost instantly. Their "Exit Options" are at an all-time high.
* **The Noose for Organizations:** Institutions that rely on a "Noose" of institutional loyalty or high switching costs find that their best people are the only ones capable of slipping that noose.

#### Why Managers Miss It:

Management often looks at **Turnover Rates** as a health metric. In a Dead Sea scenario, turnover might actually be *low* because the "residue" is stable. The organization appears healthy on paper, but its "Mountain" of institutional knowledge is actually a hollow shell of mediocrity.

Would you like me to analyze how **"Golden Handcuffs"** (vesting stock options) act as a specific technological constraint to try and prevent this "evaporation"?
% ============================================================================
% CONSTRAINT STORY: deferential_realism_framework
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Deferential Realism: Core Principles v3.0
% ============================================================================

:- module(constraint_deferential_realism, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: deferential_realism_framework
 * human_readable: The Deferential Realism Classification System
 * domain: philosophical/epistemological/political
 * temporal_scope: 2026 (Active Architecture)
 * spatial_scope: Global/Analytical
 * * SUMMARY:
 * The framework itself acts as a constraint on how information is processed 
 * and how truth-claims are validated. It disambiguates "Type C" paradoxes by 
 * enforcing indexical specification (WHO/WHEN/WHERE/HOW).
 * * KEY AGENTS:
 * - The System Designer (Institutional): Views the framework as a "Rope" for 
 * coordinating global truth-claims.
 * - The Analytical Subject (Moderate): Uses the framework to navigate political 
 * complexity.
 * - The Dogmatic Ideologue (Powerless): Experiences the framework as a "Noose" 
 * that deconstructs their universalist claims.
 * * NARRATIVE ARC:
 * The framework is introduced to resolve "indexical underspecification". 
 * It transitions from a theoretical tool to an active constraint that 
 * "weaponizes" structural signatures against "ontological fraud".
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(dr_recursive_int, 0, 10).
narrative_ontology:constraint_claim(deferential_realism_framework, rope).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: Framework is designed for coordination but requires 
% intellectual labor (low-moderate extraction).
domain_priors:base_extractiveness(deferential_realism_framework, 0.20).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: Rejects unindexed universalism, which may be seen as 
% suppression of traditional absolutist truth.
domain_priors:suppression_score(deferential_realism_framework, 0.35).

% Enforcement requirements: Requires active use of the indexical protocol.
domain_priors:requires_active_enforcement(deferential_realism_framework).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(deferential_realism_framework, extractiveness, 0.20).
narrative_ontology:constraint_metric(deferential_realism_framework, suppression_requirement, 0.35).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(deferential_realism_framework, analytical_observers).
constraint_beneficiary(deferential_realism_framework, policy_reformers).
constraint_victim(deferential_realism_framework, universalist_ideologues).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: System Designer - Rope
   --------------------------------------------------------------------------
   WHO: institutional (Rule-maker)
   WHEN: historical (Century-scale coordination)
   WHERE: fluid (Controls the framework)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The framework is a "coordination scaffold" designed to solve the problem of 
   "indexical ambiguity" and "equivocation" in truth-claims.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    deferential_realism_framework,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Critical Realist - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless (Subject to logic)
   WHEN: biographical (Immediate use)
   WHERE: trapped (Logic cannot be bypassed)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   If the framework correctly maps indexical logic, its conclusions are not 
   subjective; they are as unchangeable as the reference frames in physics.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    deferential_realism_framework,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Absolute Universalist - Noose
   --------------------------------------------------------------------------
   WHO: individual_moderate (Has existing platform)
   WHEN: immediate (Short-term threat to status)
   WHERE: constrained (Costly to adopt new logic)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For those who profit from unindexed "universal truths," the framework is 
   extractive: it strips them of their "ontological fraud" and forces 
   compliance with complex indices.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    deferential_realism_framework,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(deferential_realism_framework_tests).

test(multi_perspective_recursive_check) :-
    % Designer sees a useful Rope
    constraint_indexing:constraint_classification(deferential_realism_framework, rope, 
        context(institutional, historical, mobile, global)),
    % Ideologue sees an extractive Noose
    constraint_indexing:constraint_classification(deferential_realism_framework, noose, 
        context(individual_moderate, immediate, constrained, national)).

test(indexical_necessity_scaling) :-
    % Verifies that as power decreases (powerless), the framework's 
    % definitions appear more like a "Mountain" (facts of reality).
    true.

:- end_tests(deferential_realism_framework_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. RECURSION: The framework identifies "ontological fraud." I have 
 * classified the framework itself as a "Rope" from the designer's view, 
 * staying consistent with the "Coordination Scaffold" signature.
 * 2. EXTRACTIVENESS: Set at 0.20. The "extraction" here is the cognitive 
 * load required to specify four indices for every single claim.
 * 3. SUPPRESSION: Set at 0.35. The framework effectively suppresses 
 * "unindexed" speech by labeling it as a "Type C paradox".
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    adoption_scaling,
    "Will the framework be adopted voluntarily (Rope) or enforced by 
     informational gatekeepers (Noose)?",
    resolution_mechanism("Monitor the ratio of grassroots adoption vs. 
                          institutional mandatory audit implementation."),
    impact("If institutional only: Risk of Tangled Rope transformation."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Epistemic Relativism
 * Viability: Simpler, no objective mapping.
 * Suppression: Rejected by DR as failing the "Realism" test.
 * * ALTERNATIVE 2: Scientific Absolutism
 * Viability: Strong for physics (Mountains), weak for socio-politics.
 * Suppression: DR labels this "indexical underspecification".
 * * CONCLUSION:
 * The framework's existence as a "Rope" depends on its ability to be more 
 * "useful" than these alternatives.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(deferential_realism_core, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(deferential_realism_core, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(deferential_realism_core, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: digital_credentialing_verification
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Digital Identity and Institutional Credentialing
% ============================================================================

:- module(constraint_digital_credentialing, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: digital_credentialing_verification
 * human_readable: Digital Credentialing & Identity Verification
 * domain: medical/legal/security
 * temporal_scope: 2024-2030 (Transition from analog to digital)
 * spatial_scope: Institutional/National
 * * SUMMARY:
 * This constraint governs the "permissioning" of professional and civic activity. 
 * Currently, it is a high-friction analog process (90+ days for doctors). 
 * The digital replacement aims to be an efficient Rope but functions as the 
 * "Master Switch" for the wider surveillance and financial stack.
 * * KEY AGENTS:
 * - The Physician/Professional: Agent seeking "permission to work".
 * - The Hospital/Regulatory Board: Agent maintaining "standards of care".
 * - The Border/State Authority: Agent linking credentials to mobility (Passports/Licenses).
 * * NARRATIVE ARC:
 * Credentialing moves from an "Inefficient Mountain" (paper delays) to a 
 * "Digital Rope" (instant verification). However, when linked to the 
 * Social Credit/CBDC stack, it becomes a "Real-Time Noose" where credentials 
 * can be revoked or "greyed out" based on algorithmic compliance.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(credentialing_shift_2026, 0, 10).
narrative_ontology:constraint_claim(digital_credentialing_verification, rope).

% Base extractiveness score (0.65: Moderate extraction of professional autonomy)
% Rationale: Digital ID systems extract personal data and behavioral history as 
% the price of institutional access.
domain_priors:base_extractiveness(digital_credentialing_verification, 0.65).

% Suppression score (0.75: High)
% Rationale: Non-digital credentialing (analog/paper) is being actively phased 
% out to ensure total ledger compliance.
domain_priors:suppression_score(digital_credentialing_verification, 0.75).

domain_priors:requires_active_enforcement(digital_credentialing_verification).

% Metrics for DR-Audit
narrative_ontology:constraint_metric(digital_credentialing_verification, extractiveness, 0.65).
narrative_ontology:constraint_metric(digital_credentialing_verification, suppression_requirement, 0.75).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(digital_credentialing_verification, [hospital_admins, insurance_payers, border_control]).
constraint_victim(digital_credentialing_verification, [mobile_professionals, privacy_seekers, non-compliant_individuals]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: The Hospital Administrator - Rope
   --------------------------------------------------------------------------
   WHO: institutional (Rule-executing authority)
   WHEN: immediate (Resolving the "90-day bottleneck")
   WHERE: mobile (Can verify credentials across different regions)
   SCOPE: national (Standardized across health systems)
   
   WHY THIS CLASSIFICATION:
   For the administrator, digital verification is a pure Rope. It solves a 
   massive coordination failure, turning a 3-month wait into a 3-second 
   digital handshake.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    digital_credentialing_verification,
    rope,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: The "High-Risk" Subject - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (Credential status is set by external ledger)
   WHEN: biographical (Loss of license or ID is life-altering)
   WHERE: trapped (Linked to Passports/Drivers Licenses)
   SCOPE: national (Systemic lock-out)
   
   WHY THIS CLASSIFICATION:
   For an agent flagged by the surveillance layer, the credentialing system is 
   a Noose. Because their identity is "programmed" into the ledger, the 
   state can revoke their "Permission to Work" or "Permission to Travel" 
   instantly and without judicial recourse.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    digital_credentialing_verification,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(digital_credentialing_verification, E),
    E > 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The General Public - Mountain
   --------------------------------------------------------------------------
   WHO: individual_moderate (Accepting the baseline ID requirements)
   WHEN: historical (The long-term shift toward a "Verified Society")
   WHERE: constrained (Must use digital ID to participate in modern life)
   SCOPE: global (The standardized nature of digital passports/ISO standards)
   
   WHY THIS CLASSIFICATION:
   For the average person, digital credentialing becomes a Mountain. It is 
   perceived as a natural, unchangeable prerequisite for modern existence—no 
   different from the air we breathe or the roads we drive on.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    digital_credentialing_verification,
    mountain,
    context(
        agent_power(individual_moderate),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(credentialing_tests).

test(bottleneck_to_ledger) :-
    % Institutional sees a Rope (Efficiency)
    constraint_indexing:constraint_classification(digital_credentialing_verification, rope, 
        context(institutional, immediate, mobile, national)),
    % Individual Subject sees a potential Noose (Liability)
    constraint_indexing:constraint_classification(digital_credentialing_verification, noose, 
        context(individual_powerless, biographical, trapped, national)).

:- end_tests(credentialing_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. THE ANALOG MOUNTAIN: I framed the current 90-day hospital delay as a 
 * "Legacy Mountain" that justifies the creation of the "Digital Rope."
 * * 2. OMEGAS:
 * omega_variable(credential_revocation_logic,
 * "Will license revocation be automated based on Social Credit behavioral flags?",
 * resolution_mechanism("Cross-referencing Board of Medicine bylaws with National Data-Linkage mandates"),
 * impact("If Yes: Total Integration Noose. If No: Segmented Rope."),
 * confidence_without_resolution(low)
 * ).
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Self-Sovereign Identity (SSI)
 * Viability: A Rope that allows the physician to "own" their own data and 
 * present only necessary proofs (ZKP) to the hospital.
 * Suppression: High. Institutions prefer "Centralized Ropes" that they can 
 * audit and control directly.
 * * CONCLUSION:
 * Digital credentialing is the "Authentication Layer." It is the Rope that 
 * pulls the individual into the surveillance/financial stack. Without it, 
 * the CBDC and the Social Credit system have no "handle" on the human agent.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE:
 * ?- [constraint_digital_credentialing].
 * ?- constraint_indexing:multi_index_report(digital_credentialing_verification).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: dionysiac_frenzy
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: The Bacchae of Euripides (Gilbert Murray translation)
% ============================================================================

:- module(constraint_dionysiac_frenzy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: dionysiac_frenzy
 * human_readable: Dionysiac Religious Possession
 * domain: religious/social
 * temporal_scope: Mythic/Classical Antiquity (Thebes)
 * spatial_scope: Regional (Thebes and Mt. Kithaeron)
 * * SUMMARY:
 * A state of divinely induced madness (ecstasy) that compels subjects to 
 * abandon social roles (weaving, child-rearing) for mountain rites. 
 * It functions as an irresistible force that punishes denial through 
 * catastrophic loss of agency and involuntary violence.
 * * KEY AGENTS:
 * - Pentheus: King of Thebes, attempts to suppress the cult through force.
 * - Agave: Mother of Pentheus, involuntarily possessed, kills her own son.
 * - Dionysus: The God/Constraint-source, enforces the frenzy as "recompense."
 * * NARRATIVE ARC:
 * Dionysus brings the frenzy to Thebes as punishment for the city's denial 
 * of his godhead. Pentheus attempts to "trap" the God and his followers, 
 * but is himself ensnared, "hypnotized" into cross-dressing, and led to 
 * Kithaeron where his possessed mother tears him apart, believing him to 
 * be a lion.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(dionysiac_frenzy_interval, 0, 10).
narrative_ontology:constraint_claim(dionysiac_frenzy, mountain).

% Base extractiveness score: High asymmetry in benefit/suffering
% Rationale: The God extracts total submission and physical life; the 
[cite_start]% possessed lose everything, while the "God" gains glory[cite: 115, 1240].
domain_priors:base_extractiveness(dionysiac_frenzy, 0.8).

% Suppression score: High
% Rationale: Alternatives (traditional civic life) are physically "stung" 
[cite_start]% away by the God's rod; dissenters are blinded or maddened[cite: 105, 249].
domain_priors:suppression_score(dionysiac_frenzy, 0.9).

% Enforcement requirements: Emerges naturally from divine presence
domain_priors:emerges_naturally(dionysiac_frenzy).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(dionysiac_frenzy, extractiveness, 0.8).
narrative_ontology:constraint_metric(dionysiac_frenzy, suppression_requirement, 0.9).

% Beneficiaries and Victims
constraint_beneficiary(dionysiac_frenzy, dionysus).
constraint_victim(dionysiac_frenzy, [pentheus, agave, cadmus]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: AGAVE / THE MAENADS - Mountain
   --------------------------------------------------------------------------
   
   [cite_start]WHO: individual_powerless - Stung by the rod, driven "wild-eyed"[cite: 105].
   [cite_start]WHEN: immediate - Experience is a total, present-tense "swoon"[cite: 184].
   [cite_start]WHERE: trapped - "Magic has goaded" them out; they cannot return until the God allows[cite: 108].
   SCOPE: regional - Limited to Kithaeron/Thebes.
   
   WHY THIS CLASSIFICATION:
   For those possessed, the frenzy is an unchangeable law of nature, as 
   unavoidable as an earthquake or the sunrise. They have zero degrees of 
   [cite_start]freedom to resist the "magic"[cite: 108, 168].
   
   NARRATIVE EVIDENCE:
   [cite_start]"Hath this my magic goaded out"[cite: 108]; [cite_start]"By the magic of his breath borne away"[cite: 168].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dionysiac_frenzy,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(dionysiac_frenzy, dionysus),
        constraint_victim(dionysiac_frenzy, agave),
        spatial_scope(regional)
    )
) :-
    domain_priors:suppression_score(dionysiac_frenzy, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: DIONYSUS / THE GOD - Rope
   --------------------------------------------------------------------------
   
   [cite_start]WHO: institutional - Rule-making power, "He who ordained his shape"[cite: 529].
   [cite_start]WHEN: historical/civilizational - The God thinks in terms of "all the world"[cite: 93].
   [cite_start]WHERE: mobile - "Then to another land... must I fare onward"[cite: 116].
   [cite_start]SCOPE: global - "Asia all... and now I come to Hellas"[cite: 92, 93].
   
   WHY THIS CLASSIFICATION:
   [cite_start]To Dionysus, the frenzy is a functional "harness of my rites" [cite: 107] 
   [cite_start]used to "show me in men's sight"[cite: 93]. It is a tool for coordination 
   [cite_start]and recognition, changeable and directed by his will[cite: 529].
   
   NARRATIVE EVIDENCE:
   [cite_start]"I have bound upon the necks of them / The harness of my rites"[cite: 107].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dionysiac_frenzy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        constraint_beneficiary(dionysiac_frenzy, dionysus),
        constraint_victim(dionysiac_frenzy, []),
        spatial_scope(global)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: PENTHEUS - Noose
   --------------------------------------------------------------------------
   
   [cite_start]WHO: individual_powerful - King of Thebes, "whom I have raised to rule"[cite: 265].
   [cite_start]WHEN: immediate - Reacts to the "strange rumour"[cite: 271].
   [cite_start]WHERE: constrained - He tries to "hunt" and "snare," but finds himself trapped[cite: 281, 1066].
   [cite_start]SCOPE: local - Focused on his "towers" and "walls"[cite: 1209].
   
   WHY THIS CLASSIFICATION:
   [cite_start]Pentheus sees the frenzy as an extractive, coercive "contagion" [cite: 366] 
   [cite_start]that steals his labor (wives/sisters) and threatens his power[cite: 271]. 
   [cite_start]It is asymmetric—it benefits a "stranger" at his expense[cite: 282, 372].
   
   NARRATIVE EVIDENCE:
   [cite_start]"Preying on our maids and wives"[cite: 372]; [cite_start]"Our wives... from their hearths are flown"[cite: 271].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dionysiac_frenzy,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(constrained),
        constraint_beneficiary(dionysiac_frenzy, dionysus),
        constraint_victim(dionysiac_frenzy, pentheus),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(dionysiac_frenzy, E),
    E > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(dionysiac_frenzy_tests).

test(multi_perspective_frenzy) :-
    constraint_indexing:constraint_classification(dionysiac_frenzy, Type1, context(agent_power(individual_powerless), _, _, _, _, _)),
    constraint_indexing:constraint_classification(dionysiac_frenzy, Type2, context(agent_power(institutional), _, _, _, _, _)),
    constraint_indexing:constraint_classification(dionysiac_frenzy, Type3, context(agent_power(individual_powerful), _, _, _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(powerless_extraction) :-
    % Powerless (Agave) experience 0.8 extraction, while God experiences 0.0
    domain_priors:base_extractiveness(dionysiac_frenzy, 0.8).

test(time_immutability_frenzy) :-
    % Short term = Mountain for Agave, Long term = Rope for Dionysus' global plan
    true.

:- end_tests(dionysiac_frenzy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.8): The flow of value is almost entirely 
 * one-way. Agave loses her son and her home; Pentheus loses his life. 
 * [cite_start]The God receives "due meed of majesty" [cite: 338] and establishes 
 * his cult.
 * 2. PERSPECTIVE SELECTION: Chose Agave (Powerless), Dionysus (Institutional), 
 * and Pentheus (Powerful) to show the full Mountain-Rope-Noose spectrum.
 * 3. CLASSIFICATION RATIONALE:
 * [cite_start]Agave -> Mountain: She is literally a biological puppet[cite: 1368].
 * Dionysus -> Rope: He treats the frenzy as a "harness" he can apply 
 * [cite_start]or remove[cite: 107].
 * Pentheus -> Noose: He views it as a "plot" and "compact" designed 
 * [cite_start]to subvert his kingship[cite: 934, 943].
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    divine_presence,
    "Is Dionysus a literal metaphysical entity (Mountain) or a metaphor for socio-psychological mass hysteria (Noose)?",
    [cite_start]resolution_mechanism("Requires empirical verification of 'voice from heaven' [cite: 1345] vs collective hallucination."),
    impact("If Mountain: The play is about man vs law of nature. If Noose: The play is about social breakdown."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Traditional Civic Religion: Pentheus attempts to maintain the "laws 
 * [cite_start]that live"[cite: 1100], but they are overwhelmed by the new "magic."
 * * CONCLUSION: 
 * Because Pentheus' alternative (traditional law) is actively suppressed 
 * by divine miracles (shaking the house, unloosing gyves), the constraint 
 * shifts from Rope to Noose for the Theban state.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(dionysaic_frenzy, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(dionysaic_frenzy, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(dionysaic_frenzy, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: dunbars_number
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Robin Dunbar (1992) / Evolutionary Psychology / Anthropology
% ============================================================================

:- module(constraint_dunbars_number, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: dunbars_number
 * human_readable: Dunbar's Number
 * domain: social/technological
 * temporal_scope: Permanent (Evolved Human Cognition)
 * spatial_scope: Global (Human Social Networks)
 * * SUMMARY:
 * Dunbar's number is a suggested cognitive limit to the number of people with 
 * whom one can maintain stable social relationships—relationships in which 
 * an individual knows who each person is and how each person relates to 
 * every other person. Usually cited as approximately 150, it is based on a 
 * correlation between primate brain size and social group size.
 * * KEY AGENTS:
 * - The Evolutionary Psychologist: Analytical observer mapping the neural 
 * constraints of the neocortex.
 * - The Community Architect: Institutional agent using the number to 
 * design manageable organizational units or software platforms.
 * - The Socially Overwhelmed Individual: Individual powerless agent 
 * experiencing "social fatigue" and the extraction of attention when 
 * pushed beyond their cognitive ceiling.
 * * NARRATIVE ARC:
 * The number functions as a "Mountain" of biological reality—the hardware 
 * limit of human memory and social processing. For a company founder, it 
 * acts as a "Rope" for coordination (knowing when to split a growing office 
 * into two). However, for a user on a hyper-connected social network, it 
 * becomes a "Noose," as the platform extracts attention for 500+ "friends," 
 * strangling the quality of deep, stable relationships.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural identification
narrative_ontology:interval(dunbar_interval, 0, 10).
narrative_ontology:constraint_claim(dunbars_number, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.4). The limit extracts "social energy." When 
% networks grow too large, the individual's limited attention is 
% fragmented, extracting the utility of their primary social bonds.
domain_priors:base_extractiveness(dunbars_number, 0.4).

% Suppression score (0.0-1.0)
% Rationale: Moderate (0.5). It suppresses the alternative of "Infinite 
% Community." While we can imagine global brotherhood, our biology 
% suppresses the ability to actually process it as a stable social reality.
domain_priors:suppression_score(dunbars_number, 0.5).

% Enforcement requirements
% Emerges naturally from neocortex volume and cognitive processing limits.
domain_priors:emerges_naturally(dunbars_number).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(dunbars_number, extractiveness, 0.4).
narrative_ontology:constraint_metric(dunbars_number, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(dunbars_number, [small_tribes, focused_workgroups]).
constraint_victim(dunbars_number, [hyper_connected_social_media_users, massive_unstructured_organizations]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ANTHROPOLOGIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the evolved human hardware.
   WHEN: civilizational - Viewing human social structures over millennia.
   WHERE: trapped - The size of the human neocortex is a biological fixed point.
   SCOPE: global - Universal to the human species.
   
   WHY THIS CLASSIFICATION:
   To the scientist, Dunbar's number is a Mountain. It is an unchangeable 
   feature of the human "hardware." No amount of software or social 
   engineering has yet increased the underlying neural capacity for 
   multi-way social tracking. It is a fixed peak in the landscape of 
   human nature.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dunbars_number,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE STARTUP FOUNDER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to structure a company and its culture.
   WHEN: biographical - Managing a single organization's growth (10-20 years).
   WHERE: arbitrage - Can choose to split the organization or remain small.
   SCOPE: regional - Local office or national company structure.
   
   WHY THIS CLASSIFICATION:
   For the founder, the number is a Rope. It is a vital coordination 
   mechanism. By knowing that culture breaks down once a team exceeds 
   ~150 people, they can use the limit to "tether" their growth strategy, 
   proactively splitting into smaller units to maintain trust and 
   efficiency.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dunbars_number,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(dunbars_number, E),
    E > 0.2, % Managed as a tool for social efficiency
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE OVER-NETWORKED USER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the "Attention Economy" of a platform.
   WHEN: immediate - The daily fatigue of managing digital acquaintances.
   WHERE: constrained - High social cost to "quitting" or deleting friends.
   SCOPE: local - Immediate social circle and digital feed.
   
   WHY THIS CLASSIFICATION:
   For the person with 1,000 "friends" on a digital platform, Dunbar's number 
   is a Noose. The platform's design ignores their biological limit to 
   extract their attention. The attempt to "keep up" with everyone strangles 
   the time needed for their closest 5 or 15 people, extracting their 
   emotional well-being while they remain trapped in the "friend" count.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dunbars_number,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(dunbars_number, E),
    E > 0.3, % Extraction of attention and relationship depth
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(dunbars_number_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Powerless sees Noose
    constraint_indexing:constraint_classification(dunbars_number, mountain, context(analytical, civilizational, trapped, global)),
    constraint_indexing:constraint_classification(dunbars_number, rope, context(institutional, biographical, arbitrage, national)),
    constraint_indexing:constraint_classification(dunbars_number, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_attention) :-
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(dunbars_number, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(dunbars_number, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability_cognition) :-
    % Biological evolution scale = Mountain
    constraint_indexing:effective_immutability_for_context(context(analytical, civilizational, trapped, global), mountain).

:- end_tests(dunbars_number_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.4):
 * Dunbar's number extracts "social quality." In a large system, it forces 
 * the individual to pay for breadth with depth. It's a moderate score 
 * because the extraction is often psychological rather than material.
 * * 2. PERSPECTIVE SELECTION:
 * Selected the Anthropologist (Law), the Founder (Tool), and the 
 * Digital User (Victim) to highlight how a biological ceiling shifts 
 * from a fact of nature to a structural trap in the attention economy.
 * * 3. NOOSE LOGIC:
 * Applied to the "over-networked" individual, where the social cost of 
 * leaving a platform prevents them from returning to their biological 
 * comfort zone, creating an attention trap.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    technological_cognitive_offloading,
    "Can AI and CRM tools effectively 'untie' the Noose of Dunbar's Number 
    by managing our social memory (Rope), or is the constraint biological 
    at the level of emotional trust (Mountain)?",
    resolution_mechanism("Long-term study of high-connectedness groups 
    using advanced AI social-memory assistants"),
    impact("If Rope: Human social reach can expand. If Mountain: Trust 
    always collapses at the biological boundary."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Formal Bureaucracy
 * Viability: High. Allows millions of people to work together by replacing 
 * "trust-based" relationships with "rule-based" ones.
 * Suppression: None. Bureaucracy is the standard "Rope" used to manage 
 * the Dunbar Mountain, though it is often experienced as a Noose.
 * * CONCLUSION:
 * Since we can use rules (Bureaucracy) to coordinate, the *need* for 
 * trust-based 150-person groups becomes a Mountain we build around, 
 * using the Rope of formal institutions.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_dunbars_number].
 * 2. Multi-perspective: ?- multi_index_report(dunbars_number).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: dunning_kruger_effect
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Dunning, D., & Kruger, J. (1999) / Social Psychology
% ============================================================================

:- module(constraint_dunning_kruger_effect, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: dunning_kruger_effect
 * human_readable: Dunning-Kruger Effect
 * domain: social/cognitive/educational
 * temporal_scope: Permanent (Cognitive Architecture)
 * spatial_scope: Global (Human Decision Making)
 * * SUMMARY:
 * The Dunning-Kruger effect is a cognitive bias where people with limited 
 * competence in a domain overestimate their own ability. This occurs because 
 * the skills required for competence are the same skills needed to recognize 
 * incompetence. Conversely, high-performers often underestimate their 
 * relative superiority, assuming others find tasks as easy as they do.
 * * KEY AGENTS:
 * - The Novice: Overconfident due to a lack of "meta-cognitive" awareness.
 * - The Expert: Competent but prone to "false consensus" regarding others' ability.
 * - The Scientific Observer: Mapping the non-linear relationship between 
 * actual skill and perceived skill.
 * * NARRATIVE ARC:
 * The effect functions as a "Mountain" of biological limitation in self-assessment. 
 * For the novice, it is a "Rope" (unwarranted confidence) that allows them 
 * to take risks and start learning. However, it becomes a "Noose" in 
 * high-stakes environments where "Peak Stupidity" leads to catastrophic 
 * errors that the agent cannot foresee.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(dunning_kruger_interval, 0, 10).
narrative_ontology:constraint_claim(dunning_kruger_effect, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts "correctness" and "safety." Overconfidence in 
% incompetent actors extracts resources from the collective (errors) while 
% the actor extracts social status they haven't earned.
domain_priors:base_extractiveness(dunning_kruger_effect, 0.3).

% Suppression score (0.0-1.0)
% Rationale: The bias itself suppresses the visibility of the "competence" 
% alternative. You cannot see the alternative (being correct) because you 
% lack the tools to recognize your own error.
domain_priors:suppression_score(dunning_kruger_effect, 0.7).

% Enforcement: Emerges naturally from human cognitive architecture.
domain_priors:emerges_naturally(dunning_kruger_effect).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(dunning_kruger_effect, extractiveness, 0.3).
narrative_ontology:constraint_metric(dunning_kruger_effect, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(dunning_kruger_effect, overconfident_novices).
constraint_victim(dunning_kruger_effect, [expert_mentors, safety_critical_systems]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   -------------------------------------------------------------------------- */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RESEARCH PSYCHOLOGIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The objective observer)
   WHEN: civilizational (Observing a universal cognitive invariant)
   WHERE: trapped (Human brain structure is currently fixed)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the researcher, the effect is a Mountain. It is a predictable, 
   cross-cultural feature of human information processing. It is not a 
   choice or a social construct, but a physical limit on the precision 
   of self-reflective feedback loops.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dunning_kruger_effect,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE STARTUP FOUNDER - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (An agent with strategic goals)
   WHEN: biographical (Achieving success through high-risk ventures)
   WHERE: mobile (Can learn and adjust overconfidence over time)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the entrepreneur, a degree of Dunning-Kruger is a Rope. It provides 
   the "delusional" optimism required to coordinate resources and start a 
   project that an expert might deem too difficult. This unwarranted 
   confidence acts as a tether to a future reality they are trying to build.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dunning_kruger_effect,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PASSENGER/VICTIM - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A person subject to someone else's 'expertise')
   WHEN: immediate (A crisis requiring actual skill)
   WHERE: trapped (Cannot escape the incompetent actor's decisions)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For someone whose safety depends on a novice who *thinks* they are an expert 
   (e.g., a passenger with an overconfident, untrained pilot), the effect is 
   a Noose. The novice's lack of meta-cognition strangles the victim's 
   safety, and the victim is trapped by the novice's inability to recognize 
   their own fatal limitations.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dunning_kruger_effect,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(dunning_kruger_effect_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(dunning_kruger_effect, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(dunning_kruger_effect, T2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(dunning_kruger_effect, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(meta_cognitive_extraction) :-
    % Novices extract unearned status/confidence; Mentors pay the cost of errors.
    domain_priors:base_extractiveness(dunning_kruger_effect, Score),
    Score >= 0.3.

test(skill_acquisition_exit) :-
    % Biographical view allows for learning (exit/mobile), converting Noose to Rope.
    constraint_indexing:constraint_classification(dunning_kruger_effect, rope, context(_, biographical, mobile, _)).

:- end_tests(dunning_kruger_effect_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS MADE BY MODEL:
 * * 1. SUPPRESSION SCORE (0.7):
 * The core of the effect is the *inability* to see the alternative 
 * (incompetence). This is a high internal suppression score—not enforced 
 * by a state, but by the agent's own cognitive blindness.
 * * 2. PERSPECTIVE SELECTION:
 * The Analyst sees the Graph (Mountain).
 * The Individual Novice sees the Ladder (Rope).
 * The Witness to the Crash sees the Trap (Noose).
 * * 3. AMBIGUITIES:
 * There is some debate in modern psychology about whether the effect is 
 * as strong as originally claimed (statistical noise vs. real bias). I 
 * treated it as a real biological constraint for this analysis.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    statistical_regression_artifact,
    "Is the Dunning-Kruger effect a fundamental cognitive bias or a mathematical artifact of regression toward the mean?",
    resolution_mechanism("Replication of studies using non-traditional noise-correction models"),
    impact("If Artifact: The Mountain is an illusion. If Bias: It is a permanent biological Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Meta-Cognitive Training (Double-Loop Learning)
 * Viability: Actively teaching people *how* to measure their own 
 * ignorance can mitigate the effect.
 * Suppression: Low in education, but high in corporate cultures that 
 * reward "fake it till you make it."
 * * ALTERNATIVE 2: External Auditing/Credentialing
 * Viability: Relying on objective external metrics rather than self-assessment.
 * * CONCLUSION:
 * The Dunning-Kruger Effect is a Mountain of the "First Person" experience, 
 * but it can be converted into a Rope through the "Third Person" 
 * perspective of auditing and education.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_dunning_kruger_effect].
 * 2. Multi-perspective: ?- multi_index_report(dunning_kruger_effect).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: e2ee_digital_privacy_2026
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "End-to-end encryption: Best ideas of the century" by Matthew Sparkes
% ============================================================================

:- module(e2ee_digital_privacy_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: e2ee_digital_privacy_2026
 * human_readable: End-to-End Encryption (ETEE)
 * domain: technological/political/social
 * temporal_scope: 1977-2026
 * spatial_scope: Global (Digital)
 * * SUMMARY:
 * End-to-end encryption (ETEE) is a digital "wall" that ensures messages are only 
 * readable by the sender and recipient, rendering them "meaningless gibberish" 
 * during transmission. It provides a technological safeguard for 
 * privacy, democracy, and human rights by relying on "immutable mathematics" 
 * rather than the promises of service providers or states.
 * * KEY AGENTS:
 * - The Vulnerable Individual: Relies on ETEE for physical safety in dangerous regions.
 * - The Surveillance State/Adversary: A spy agency or police force unable to "demand or threaten" 
 * their way into communications.
 * - The Service Provider: An intermediary (app/internet host) that is technologically 
 * blinded to the user's data.
 * * NARRATIVE ARC:
 * Beginning with the RSA algorithm in 1977, encryption has evolved into a 
 * foundational 21st-century tool. It has transformed modern life by 
 * creating a mathematical constraint that prevents the rollback of liberties.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(e2ee_digital_privacy_2026, 0, 10).
narrative_ontology:constraint_claim([e2ee_digital_privacy_2026], [technological_safeguard]).

% Base extractiveness score (0.0-0.3 = low)
% Rationale: ETEE is fundamentally protective rather than extractive; it prevents 
% the extraction of information by unauthorized parties.
domain_priors:base_extractiveness(e2ee_digital_privacy_2026, 0.05).

% Suppression score (0.0-1.0)
% Rationale: It suppresses the visibility of intermediaries and states over 
% private communication, effectively "hiding" the alternative of surveillance.
domain_priors:suppression_score(e2ee_digital_privacy_2026, 0.5).

% Enforcement: Does it require active maintenance or emerge naturally?
% Rationale: While implementation requires active development, its security 
% "hinges" on immutable mathematical difficulty.
domain_priors:requires_active_enforcement(e2ee_digital_privacy_2026).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(e2ee_digital_privacy_2026, extractiveness, 0.05).
narrative_ontology:constraint_metric(e2ee_digital_privacy_2026, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(e2ee_digital_privacy_2026, private_citizens). %
constraint_beneficiary(e2ee_digital_privacy_2026, human_rights_advocates). %
constraint_victim(e2ee_digital_privacy_2026, state_surveillance_apparatus). %

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PRIVACY CAMPAIGNER (Matthew Feeney) - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (Advocate for rights/privacy)
   WHEN: biographical (Protection of a lifetime of civil liberties)
   WHERE: mobile (Can navigate global privacy debates)
   SCOPE: global (Human rights around the world)
   
   WHY THIS CLASSIFICATION:
   For the campaigner, ETEE is a "Rope"—a vital coordination mechanism 
   and tool used to secure democracy and save lives in dangerous areas.
   
   NARRATIVE EVIDENCE:
   "There are people... who literally rely on [encryption] to save their lives".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    e2ee_digital_privacy_2026,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SURVEILLANCE STATE - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional (State power/Police/Spy agencies)
   WHEN: immediate (Short-term investigations/surveillance)
   WHERE: constrained (Blocked by the technological "wall")
   SCOPE: national (Law enforcement jurisdiction)
   
   WHY THIS CLASSIFICATION:
   For the state seeking access, ETEE is a "Noose" that constrains their 
   power. It renders their traditional tools—demands, blackmail, or 
   threats—ineffective against "impenetrable gibberish".
   
   NARRATIVE EVIDENCE:
   "No police force, spy agency... could demand, blackmail or threaten 
   their way in".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    e2ee_digital_privacy_2026,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MATHEMATICIAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer of cryptographic constants)
   WHEN: historical (From RSA 1977 foundations onward)
   WHERE: analytical (Logic/Prime numbers)
   SCOPE: global (Universal laws of math)
   
   WHY THIS CLASSIFICATION:
   To the mathematician, ETEE is a "Mountain"—an immutable reality 
   grounded in the fundamental difficulty of factoring large numbers. 
   It is a zero-degree-of-freedom constraint of logic.
   
   NARRATIVE EVIDENCE:
   "Digital encryption doesn’t depend on promises, but on immutable 
   mathematics".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    e2ee_digital_privacy_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(e2ee_digital_privacy_2026_tests).

test(multi_perspective_encryption) :-
    constraint_indexing:constraint_classification(e2ee_digital_privacy_2026, Rope, context(individual_moderate, _, _, _)),
    constraint_indexing:constraint_classification(e2ee_digital_privacy_2026, Noose, context(institutional, _, _, _)),
    constraint_indexing:constraint_classification(e2ee_digital_privacy_2026, Mountain, context(analytical, _, _, _)),
    Rope \= Noose,
    Noose \= Mountain.

test(powerless_protection) :-
    % Shows that individual_powerless (vulnerable people) benefit from this low-extraction Rope.
    domain_priors:base_extractiveness(e2ee_digital_privacy_2026, E),
    E < 0.1.

test(mathematical_immutability) :-
    % Analytical historical perspective confirms the Mountain classification.
    constraint_indexing:constraint_classification(e2ee_digital_privacy_2026, mountain, context(analytical, historical, _, _)).

:- end_tests(e2ee_digital_privacy_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.05):
 * Reasoning: ETEE is a defense mechanism. It protects rather than extracts.
 * * 2. SUPPRESSION SCORE (0.5):
 * Reasoning: It actively suppresses state "visibility," which the source 
 * highlights as a fundamental conflict between privacy and surveillance.
 * * 3. PERSPECTIVE SELECTION:
 * Chose Campaigner (Rope), State (Noose), and Mathematician (Mountain) to 
 * illustrate the technological, political, and absolute reality of ETEE.
 * * 4. AMBIGUITIES:
 * - The source mentions that "other algorithms" use "all manner of obscure 
 * mathematics". The shift from RSA to these models introduces 
 * an Omega regarding long-term mathematical persistence.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    quantum_decryption_risk,
    "Will quantum computing render current 'hard-to-crack' mathematics solvable?",
    resolution_mechanism("Experimental verification of Shor's algorithm at scale"),
    impact("If yes: The 'Mountain' of RSA/Current math collapses into a 'Scaffold'."),
    confidence_without_resolution(medium)
).

omega_variable(
    democratic_resilience_threshold,
    "Can ETEE alone prevent the total rollback of liberties in a non-liberal democracy?",
    resolution_mechanism("Long-term historical analysis of human rights in high-encryption vs low-encryption regimes"),
    impact("If yes: ETEE is a permanent political Rope. If no: It is a temporary shield."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Custodial Encryption (Managed Keys)
 * Viability: Historically used by some corporate and state systems.
 * Suppression: Actively rejected by ETEE which removes the "middleman" key.
 * Evidence: "Providers... cannot see your communications".
 * * CONCLUSION:
 * The move to ETEE turns the "Managed Secret" (Rope for the state) into a 
 * "Private Secret" (Rope for the individual) and a Noose for the surveillant.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [e2ee_digital_privacy_2026].
% Test: ?- run_tests(e2ee_digital_privacy_2026_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: education_unbundling_implementation
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Implementation Roadmap / Internal Logic Synthesis
% ============================================================================

:- module(education_unbundling_implementation, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: education_unbundling_implementation
 * human_readable: The Modular Credentialing Transition
 * domain: technological/educational/economic
 * temporal_scope: 2026-2030 (Implementation Phase)
 * spatial_scope: Global Interoperable Networks
 * * SUMMARY:
 * This constraint represents the active "Phase Implementation" of unbundling 
 * education. It focuses on the shift from institutional gatekeeping (Mountain) 
 * to a decentralized "Rope" system based on verifiable digital credentials 
 * and AI-assisted mastery.
 * * KEY AGENTS:
 * - The System Architect: Designing the interoperable "Rope" (The Roadmap).
 * - The Legacy Institution: Protecting the "Mountain" of bundled degrees.
 * - The Independent Learner: Navigating the new "Small Unit" landscape.
 * * NARRATIVE ARC:
 * The roadmap attempts to move education through three phases: (1) Protocol 
 * selection, (2) Unbundling pilot, and (3) Market validation. The goal is 
 * to resolve the "Credential Legitimacy Omega" by making micro-achievements 
 * as portable and valuable as traditional degrees.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(implementation_window_2026, 0, 10).
narrative_ontology:constraint_claim(education_unbundling_implementation, rope).

% Base extractiveness score (0.4): Moderate-Low.
% Rationale: The goal of the roadmap is to reduce extraction by 
% enabling individuals to "stack" only the learning they need.
domain_priors:base_extractiveness(education_unbundling_implementation, 0.4).

% Suppression score (0.3): Low.
% Rationale: The roadmap explicitly seeks to reveal and validate 
% alternatives to the "factory model."
domain_priors:suppression_score(education_unbundling_implementation, 0.3).

% Enforcement requirements
% Requires active enforcement: Interoperability standards (blockchain/digital 
% certificates) must be actively maintained to prevent platform re-centralization.
domain_priors:requires_active_enforcement(education_unbundling_implementation).

% Metrics
narrative_ontology:constraint_metric(education_unbundling_implementation, extractiveness, 0.4).
narrative_ontology:constraint_metric(education_unbundling_implementation, suppression_requirement, 0.3).

% Beneficiaries & Victims
constraint_beneficiary(education_unbundling_implementation, independent_learners).
constraint_beneficiary(education_unbundling_implementation, skills_based_employers).
constraint_victim(education_unbundling_implementation, administrative_bureaucracies).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ARCHITECT (ROADMAP DESIGNER) - Rope
   --------------------------------------------------------------------------
   
   WHO: analytical - Not a participant in the current struggle, but a designer of the new system.
   WHEN: historical - Viewing the transition away from the Industrial Revolution "bigness."
   WHERE: arbitrage - Playing systems against each other to find the most efficient path.
   SCOPE: global - Designing for universal standards.
   
   WHY THIS CLASSIFICATION:
   For the architect, the roadmap is a Rope—a functional tool for coordination. 
   It is designed to be changeable, modular, and beneficial to all participants 
   who adopt the standards.
   
   NARRATIVE EVIDENCE:
   "The goal is to move records from single-institution gatekeepers to a 
   distributed architecture... moving from standardized 'factory-model' bundles".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    education_unbundling_implementation,
    rope,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE LEGACY ADMISSIONS OFFICER - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional - Enforcer of current institutional standards.
   WHEN: biographical - Their career is tied to the prestige of the "bundle."
   WHERE: trapped - Bound by current regulations and institutional culture.
   SCOPE: national - Bound by accrediting bodies and degree-granting laws.
   
   WHY THIS CLASSIFICATION:
   For a legacy officer, unbundling is a Noose. It threatens to extract the 
   "prestige value" from their institution, bypasses their gatekeeping power, 
   and "forces" them to recognize signals they cannot control.
   
   NARRATIVE EVIDENCE:
   "Regulatory friction: accreditation monopolies... link funding and 
   legitimacy exclusively to 'bundled' institutional accreditation".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    education_unbundling_implementation,
    noose,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER (LEARNING SCIENTIST) - Mountain
   --------------------------------------------------------------------------
   WHO: agent_power(analytical) - Observes the biological limits of learning.
   WHEN: biographical - Skill acquisition takes years of sustained effort.
   WHERE: arbitrage - Managing the transition between bundled and unbundled.
   SCOPE: global - Cognitive limits are a universal human invariant.
   
   WHY THIS CLASSIFICATION:
   The "Mountain" is the biological reality of cognitive load. Unbundling 
   may provide institutional flexibility, but it cannot negotiate with the 
   human brain's fixed capacity for information processing. Deep mastery 
   requires a time-horizon that unbundled modules often ignore. This 
   creates an unyielding structural limit on how far "personalization" 
   can go before it breaks the coherence of the learning experience.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    educational_unbundling_implementation,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(educational_unbundling_implementation, S),
    S > 0.4.

% Explicit priors reflecting the biological limits of cognitive bandwidth.
domain_priors:base_extractiveness(educational_unbundling_implementation, 0.2).
domain_priors:suppression_score(educational_unbundling_implementation, 0.5).

/* ==========================================================================
   4. TESTS (What We Learn)
   ========================================================================== */

:- begin_tests(unbundling_implementation_tests).

test(decoupling_efficacy) :-
    % Test that "Market Validation" (Phase 3) reduces the "Mountain" status 
    % of legacy degrees.
    domain_priors:suppression_score(education_unbundling_implementation, S),
    S < 0.5.

test(interoperability_necessity) :-
    % Roadmap success depends on active enforcement of open standards.
    domain_priors:requires_active_enforcement(education_unbundling_implementation).

:- end_tests(unbundling_implementation_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: I chose "Rope" for the implementation phase itself, 
 * as the roadmap is a tool for coordination, not a static law.
 * * 2. OMEGA RESOLUTION: The roadmap is specifically designed to kill 
 * the "Legitimacy Omega" through Phase 3 (Market Validation).
 * * 3. PERSPECTIVE: Contrast between the "Architect" and "Admissions Officer" 
 * reveals the gap between functional progress and institutional preservation.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    adoption_threshold_omega,
    "At what percentage of market adoption does the 'Rope' become the new 'Mountain' (standard)?",
    resolution_mechanism("Monitor the tipping point where employers prioritize microcredentials over degrees."),
    impact("If Tipping Point reached: Systemic shift. If not: Persistent hybrid friction."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Status Quo (The Bundle)
 * Viability: High inertia in 20th-century institutions.
 * Suppression: Naturally suppressed by the rising costs and "mismatch" of 
 * factory-model schooling.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(educational_unbundling_implementation, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(educational_unbundling_implementation, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: electrification_scale_2026
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "The electrification of everything" by Chris Stokel-Walker
% ============================================================================

:- module(electrification_scale_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: electrification_scale_2026
 * human_readable: Industrial Scale Electrification
 * domain: technological/economic
 * temporal_scope: 2010s-2026
 * spatial_scope: Global (initially Nevada/Tesla)
 * * SUMMARY:
 * The transition from fossil fuels to renewables catalyzed by "gigafactories" 
 * that leverage economies of scale and supply-chain integration. 
 * This constraint represents the shift from fossil fuel-powered infrastructure 
 * to a dispatchable solar and electric vehicle ecosystem.
 * * KEY AGENTS:
 * - Energy Planner: (e.g., Dave Jones at Ember) - Views electrification as a 
 * tool for dispatchable power.
 * - Legacy Auto/Oil Industry: (Institutional) - Views the shift as a 
 * disruptive Noose threatening existing infrastructure.
 * - The Physical Scientist: (Analytical) - Views the photovoltaic effect as 
 * a biological/physical Mountain.
 * * NARRATIVE ARC:
 * Discovery of the photovoltaic effect in 1839 led to practical solar in the 
 * 1950s, but only reached "world-changing" status in 2016 through massive 
 * industrial scaling.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(electrification_scale_2026, 0, 10).

% Base extractiveness: 0.15 (Low)
% Rationale: The system extracts energy from the sun rather than from labor 
% or subjects, though mineral extraction for batteries is an externalized 
% factor not deeply explored in the source.
domain_priors:base_extractiveness(electrification_scale_2026, 0.15).

% Suppression: 0.5 (Moderate)
% Rationale: Renewables are becoming "competitive with fossil fuels," 
% effectively suppressing the economic viability of the older model.
domain_priors:suppression_score(electrification_scale_2026, 0.5).

% Enforcement: Requires active enforcement
% Rationale: Scaling to "giga" levels requires massive capital 
% integration "under one roof".
domain_priors:requires_active_enforcement(electrification_scale_2026).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(electrification_scale_2026, renewable_energy_sector).
constraint_beneficiary(electrification_scale_2026, future_transport_users).
constraint_victim(electrification_scale_2026, fossil_fuel_infrastructure).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: ENERGY THINK TANK - Rope
   --------------------------------------------------------------------------
   WHO: institutional (Rule-shaping/Planning)
   WHEN: biographical (Planning for the 2010s-2026 transition)
   WHERE: mobile (Can navigate global energy markets)
   SCOPE: national/global
   
   WHY THIS CLASSIFICATION:
   For the institutional planner, the "gigafactory" is a Rope—a coordination 
   mechanism that finally makes solar "dispatchable" through battery 
   integration. It provides a way to move the energy system 
   from one state to another using technological leverage.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    electrification_scale_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: FOSSIL FUEL INCUMBENT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful (Legacy industrial leaders)
   WHEN: immediate (Short-term loss of competitiveness)
   WHERE: constrained (Tied to fossil fuel reserves/combustion tech)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   As solar electricity becomes competitive with fossil fuels and EV 
   production scales to "populating the planet," the legacy system faces 
   a Noose. Their exit options are costly as the "turning point" 
   of 2016 makes their model increasingly obsolete.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    electrification_scale_2026,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EXPERIMENTAL PHYSICIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical (Observer of natural law)
   WHEN: historical (From 1839 discovery onwards)
   WHERE: analytical (Universal law)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The photovoltaic effect (discovered in 1839) is a physical Mountain. 
   It exists as a constant of nature regardless of human industrial scaling; 
   humans can only harness it, not change the underlying physics.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    electrification_scale_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(electrification_scale_2026_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(electrification_scale_2026, Type1, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(electrification_scale_2026, Type2, context(agent_power(individual_powerful), _, _, _)),
    Type1 \= Type2.

test(time_immutability_shift) :-
    % Shows that what was a latent Mountain (1839) became a Rope (2016)
    true.

:- end_tests(electrification_scale_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE: Focused on the shift from the "Model T" era to the "Tesla" 
 * era as a classic industrial disruption.
 * 2. CLASSIFICATION: The photovoltaic effect is a Mountain (Physics), the 
 * Gigafactory is a Rope (Tool), and the fossil fuel legacy is in a Noose.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    lithium_supply_ceiling,
    "Is the availability of lithium and rare earth minerals a Mountain that will eventually limit the Giga-scale transition?",
    resolution_mechanism("Geological audit of extractable reserves vs. projected vehicle demand by 2040"),
    impact("If Mountain: The transition stalls. If Rope: New chemistries emerge."),
    confidence_without_resolution(medium)
).

omega_variable(
    grid_inertia_stability,
    "Can decentralized batteries provide the same grid inertia as traditional rotating turbines?",
    resolution_mechanism("Real-world testing of virtual synchronous machines at continental scale"),
    impact("If No: The electrification 'Rope' breaks under load."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Hydrogen Fuel Cells
 * Viability: Historically seen as an alternative to Li-ion for transport.
 * Suppression: Outscaled by battery "gigafactories".
 */

% 

[Image of a solar photovoltaic cell diagram]


/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [electrification_scale_2026].
% Run tests: ?- run_tests(electrification_scale_2026_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: emergency_medicine_clinical_guidelines
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Indexical Relativity in Clinical Medicine
% ============================================================================

:- module(constraint_em_clinical_guidelines, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: em_clinical_guidelines
 * human_readable: Emergency Medicine Clinical Guidelines
 * domain: medical/legal/institutional
 * temporal_scope: Modern EBM (Evidence-Based Medicine) Era (2000-2026)
 * spatial_scope: National (Hospital-specific implementations)
 * * SUMMARY:
 * Clinical guidelines (e.g., PECARN for pediatric head trauma or Ottawa Ankle Rules) 
 * serve as decision-support tools. However, their ontological status shifts 
 * depending on the agent's exposure to litigation and systemic throughput pressure.
 * * KEY AGENTS:
 * - ER Physician: The frontline agent balancing diagnostic speed and liability.
 * - Medical Director/CMS: The institutional agent monitoring "compliance" metrics.
 * - Legal Defense/Plaintiff: Analytical observers who use guidelines as "Standard of Care" weapons.
 * * NARRATIVE ARC:
 * Guidelines are introduced as Ropes to reduce unnecessary testing. Under the pressure 
 * of a crowded ER, they harden into Mountains (perceived as natural law) or Nooses 
 * (asymmetric liability traps if deviated from).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(em_practice_v2, 0, 10).
narrative_ontology:constraint_claim(em_clinical_guidelines, rope).

% Base extractiveness score (0.6: Extraction of cognitive autonomy and time)
% Rationale: Compliance auditing extracts clinician time for data entry.
domain_priors:base_extractiveness(em_clinical_guidelines, 0.6).

% Suppression score (0.5: Moderate)
% Rationale: Clinical intuition is often devalued in favor of "algorithmic" adherence.
domain_priors:suppression_score(em_clinical_guidelines, 0.5).

domain_priors:requires_active_enforcement(em_clinical_guidelines).

% Metrics for DR-Audit
narrative_ontology:constraint_metric(em_clinical_guidelines, extractiveness, 0.6).
narrative_ontology:constraint_metric(em_clinical_guidelines, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(em_clinical_guidelines, [hospital_billing, insurance_payers, legal_teams]).
constraint_victim(em_clinical_guidelines, [frontline_physicians, edge_case_patients]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: ER Attending Physician - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (within the hospital hierarchy)
   WHEN: immediate (the current shift)
   WHERE: trapped (must document within the EMR framework)
   SCOPE: local (the specific patient encounter)
   
   WHY THIS CLASSIFICATION:
   In a high-acuity environment, guidelines function as a Noose. They create 
   asymmetric liability; following them provides minimal "reward," but 
   deviating from them—even for sound clinical reasons—creates a permanent 
   legal vulnerability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    em_clinical_guidelines,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(em_clinical_guidelines, E),
    E > 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Hospital Quality Committee - Rope
   --------------------------------------------------------------------------
   WHO: institutional (rule-making body)
   WHEN: generational (long-term outcomes)
   WHERE: mobile (can adopt/reject different guidelines)
   SCOPE: national (benchmarking against other hospitals)
   
   WHY THIS CLASSIFICATION:
   The committee sees a Rope. Guidelines are coordination mechanisms used to 
   standardize care, reduce variance, and lower costs across a population. 
   The functional benefit to the system justifies the constraint.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    em_clinical_guidelines,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Expert Witness (Legal) - Mountain
   --------------------------------------------------------------------------
   WHO: analytical (observer/evaluator)
   WHEN: historical (analyzing a past event)
   WHERE: analytical (not subject to ER pressure)
   SCOPE: regional (state-level legal standards)
   
   WHY THIS CLASSIFICATION:
   In the courtroom, guidelines are presented as Mountains. They are treated 
   as immutable "Standards of Care" that represent the only valid path, 
   ignoring the real-time fluidity of the clinical environment.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    em_clinical_guidelines,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(regional)
    )
) :-
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(em_clinical_guidelines_tests).

test(multi_perspective_em) :-
    % Physician (Noose) vs Committee (Rope) vs Legal (Mountain)
    constraint_indexing:constraint_classification(em_clinical_guidelines, Noose, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(em_clinical_guidelines, Rope, context(institutional, generational, mobile, national)),
    constraint_indexing:constraint_classification(em_clinical_guidelines, Mountain, context(analytical, historical, analytical, regional)),
    Noose \= Rope,
    Rope \= Mountain.

test(throughput_pressure_scaling) :-
    % As time horizon shortens (immediate shift), extractiveness of documentation feels higher.
    ContextImmediate = context(individual_powerless, immediate, trapped, local),
    constraint_indexing:extractiveness_for_agent(em_clinical_guidelines, ContextImmediate, Score),
    Score > 0.5.

:- end_tests(em_clinical_guidelines_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SELECTION: Chose the "Expert Witness" as the analytical 
 * Mountain-maker to show how hindsight bias freezes fluid Ropes into rigid Mountains.
 * * 2. OMEGAS:
 * omega_variable(guideline_drift,
 * "Do guidelines track biological truth or legal safety?",
 * resolution_mechanism("Analysis of guideline changes following major malpractice settlements"),
 * impact("If legal: the system is a pure Noose disguised as medicine."),
 * confidence_without_resolution(medium)
 * ).
 * * 3. AMBIGUITIES: The "Standard of Care" is a legal fiction that lacks a 
 * precise medical definition, which I resolved by assigning it to the 
 * 'analytical' power level during retrospective review.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Bayesian Clinical Decision Support
 * Viability: Systems that provide % risk rather than "Do X/Don't do X".
 * Suppression: High. "Black Box" AI or complex math is often rejected by 
 * legal systems that demand binary "Reasonable Physician" standards.
 * * CONCLUSION:
 * The legal requirement for a binary "standard" forces the Rope (the 
 * guideline) to become a Noose for the clinician who sees the nuance 
 * the guideline ignores.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * ?- [constraint_em_clinical_guidelines].
 * ?- constraint_indexing:multi_index_report(em_clinical_guidelines).
 * ?- run_tests(em_clinical_guidelines_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: endowment_effect
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Thaler, R. (1980) / Kahneman, Knetsch, & Thaler (1990)
% ============================================================================

:- module(constraint_endowment_effect, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: endowment_effect
 * human_readable: The Endowment Effect
 * domain: economic/social/cognitive
 * temporal_scope: Permanent (Human Cognitive Architecture)
 * spatial_scope: Global (Human Decision Systems)
 * * SUMMARY:
 * The endowment effect is a finding in behavioral economics where individuals 
 * ascribe more value to things merely because they own them. This leads to 
 * an asymmetry between the "Willingness to Pay" (WTP) and the "Willingness 
 * to Accept" (WTA), often resulting in market inefficiencies where 
 * beneficial trades do not occur.
 * * KEY AGENTS:
 * - The Owner: Ascribes sentimental or psychological "bonus" value to an object.
 * - The Potential Buyer: Values the object based on its objective utility or 
 * market price.
 * - The Market Optimizer: An analytical agent observing the failure of 
 * Coasian bargaining due to this psychological gap.
 * * NARRATIVE ARC:
 * The effect functions as a "Mountain" of psychological inertia. For the 
 * salesperson, it is a "Rope" (using "try-before-you-buy" to create ownership). 
 * For the person trapped in an old, inefficient house or bad investment due to 
 * sentiment, it is a "Noose" that strangles their financial mobility.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural identification
narrative_ontology:interval(endowment_interval, 0, 10).
narrative_ontology:constraint_claim(endowment_effect, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts "liquidity" and "efficient allocation" from the market. 
% It forces the buyer to pay more than utility warrants or prevents a 
% mutually beneficial sale.
domain_priors:base_extractiveness(endowment_effect, 0.3).

% Suppression score (0.0-1.0)
% Rationale: It suppresses the alternative of "rational market valuation." 
% The brain's loss aversion makes the fair market price appear as a loss, 
% making the rational trade invisible or emotionally painful.
domain_priors:suppression_score(endowment_effect, 0.4).

% Enforcement requirements
domain_priors:emerges_naturally(endowment_effect).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(endowment_effect, extractiveness, 0.3).
narrative_ontology:constraint_metric(endowment_effect, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(endowment_effect, existing_owners).
constraint_beneficiary(endowment_effect, retailers_offering_trials).
constraint_victim(endowment_effect, market_efficiency).
constraint_victim(endowment_effect, asset_purchasers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE BEHAVIORAL ECONOMIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer, not participant
   WHEN: civilizational - Observing a universal cognitive invariant
   WHERE: trapped - Human cognitive architecture is currently fixed
   SCOPE: global - Worldwide
   
   WHY THIS CLASSIFICATION:
   To the scientist, this is a Mountain. It is an unchangeable consequence of 
   how the human brain processes loss and ownership. You cannot simply 
   "choose" not to feel the loss aversion that drives the effect; it is 
   a feature of the biological "terrain".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    endowment_effect,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CAR SALESMAN - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making/process-shaping power over a sale
   WHEN: biographical - Achieving sales targets over a career
   WHERE: arbitrage - Can use "test drives" to play with ownership psychology
   SCOPE: local - Immediate environment
   
   WHY THIS CLASSIFICATION:
   For the institutional seller, the effect is a Rope. It is a functional 
   coordination mechanism for closing deals. By encouraging a "test drive" 
   or "free home trial," they induce a sense of ownership, pulling the 
   customer toward a purchase through the psychological "tether" of 
   the endowment effect.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    endowment_effect,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE IMPRISONED HEIR - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to emotional/cultural rules
   WHEN: immediate - Today's financial crisis vs. the object
   WHERE: constrained - Exit possible but psychologically/culturally costly
   SCOPE: local - Village or immediate household
   
   WHY THIS CLASSIFICATION:
   For an heir who desperately needs money but cannot bring themselves to 
   sell a family estate, the effect is a Noose. Their own psychology 
   strangles their financial future. The value they ascribe to the "endowment" 
   prevents them from taking the "exit" that market reality offers, 
   extracting their potential wealth and freedom.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    endowment_effect,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(endowment_effect_tests).

test(multi_perspective_variance) :-
    % Test that different perspectives yield different classifications
    constraint_indexing:constraint_classification(endowment_effect, mountain, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(endowment_effect, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(endowment_effect, noose, context(agent_power(individual_powerless), _, _, _)).

test(power_extractiveness_asymmetry) :-
    % Powerless experience more extraction as the "Noose" of sentiment
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, local),
    constraint_indexing:extractiveness_for_agent(endowment_effect, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(endowment_effect, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability_scale) :-
    % Biological traits are Mountains on civilizational scales
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(endowment_effect_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.3):
 * Reasoning: Low-moderate. While it prevents efficient market clearing, 
 * it is often a "voluntary" internal extraction of opportunity cost 
 * rather than a coercive external theft.
 * * 2. SUPPRESSION SCORE (0.4):
 * Reasoning: Moderate. Traditional economics (alternatives) is taught 
 * universally, but the internal "noise" of the bias suppresses its 
 * application in high-stakes personal decisions.
 * * 3. PERSPECTIVE SELECTION:
 * Selected Analytical (Mountain), Institutional (Rope), and Powerless (Noose) 
 * to demonstrate the full spread of indexical types.
 * * 4. OMEGAS:
 * omega_variable(
 * biological_origin,
 * "Is the endowment effect an evolved biological heuristic (Mountain) or a 
 * learned social norm related to property rights (Rope)?",
 * resolution_mechanism("Comparative cross-cultural studies of societies with 
 * differing property concepts"),
 * impact("If Mountain: Fixed barrier. If Rope: Can be de-conditioned."),
 * confidence_without_resolution(medium)
 * ).
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Coasian Bargaining
 * Viability: Theoretically, initial allocation shouldn't matter for 
 * efficiency if transaction costs are zero.
 * Suppression: Suppressed by the internal psychological "cost" of parting 
 * with owned goods.
 * * CONCLUSION:
 * The presence of a rational market alternative (Coase) that is suppressed 
 * by a natural cognitive bias confirms the "Noose" type for the individual 
 * actor while remaining a "Mountain" of reality for the observer.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_endowment_effect].
 * 2. Multi-perspective: ?- multi_index_report(endowment_effect).
 * 3. Run tests: ?- run_tests(endowment_effect_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: epigenetics_complexity_2026
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "The hidden power of epigenetics" by Colin Barras
% ============================================================================

:- module(epigenetics_complexity_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: epigenetics_complexity_2026
 * human_readable: Epigenetic Regulatory Constraint
 * domain: technological/biological
 * temporal_scope: 2001-2026
 * spatial_scope: Global (Biological)
 * * SUMMARY:
 * Following the discovery that the human genome contains only ~20,000 protein-coding 
 * genes—far fewer than the 40,000 initially expected—epigenetics emerged as the 
 * primary mechanism explaining biological complexity. It describes 
 * molecules interacting with DNA/RNA to influence gene activity without 
 * altering the underlying code.
 * * KEY AGENTS:
 * - The Biological Subject: (e.g., Yeast/Cell) - Experiences epigenetic shifts as survival mandates.
 * - The Geneticist: (Institutional/Analytical) - Uses epigenetics as a tool to "squeeze more complexity" from the genome.
 * - The Environment: (The Constraint Driver) - Toxic chemicals or stressors that trigger epigenetic modifications.
 * * NARRATIVE ARC:
 * The collapse of "gene-centrism" (2001) forced a shift toward understanding 
 * how environmental factors influence gene expression. A 2019 study 
 * showed yeast surviving toxins via epigenetic silencing, which eventually 
 * "hard-coded" into genetic evolution.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(epigenetics_complexity_2026, 0, 10).

% Base extractiveness score: 0.1 (Minimal asymmetry)
% Rationale: Epigenetics is a fundamental biological function; it doesn't 
% "extract" in a social sense, though it forces physiological resource reallocation.
domain_priors:base_extractiveness(epigenetics_complexity_2026, 0.1).

% Suppression score: 0.2 (Low)
% Rationale: Alternatives like "pure genetic determinism" were naturally suppressed 
% by the empirical data of the Human Genome Project.
domain_priors:suppression_score(epigenetics_complexity_2026, 0.2).

% Enforcement requirements
% Emerges naturally through biochemical interactions.
domain_priors:emerges_naturally(epigenetics_complexity_2026).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(epigenetics_complexity_2026, biological_complexity).
constraint_victim(epigenetics_complexity_2026, genetic_determinism_models).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EVOLUTIONARY BIOLOGIST - Rope
   --------------------------------------------------------------------------
   WHO: institutional (Rule-shaping/Scientific observer)
   WHEN: historical (Century-scale evolutionary rethinking)
   WHERE: mobile (Can navigate between genetic and epigenetic models)
   SCOPE: global (Species-wide application)
   
   WHY THIS CLASSIFICATION:
   For the scientist, epigenetics is a "Rope"—a functional coordination 
   mechanism that allows them to explain the complexity of evolution 
   beyond simple protein-coding genes.
   
   NARRATIVE EVIDENCE:
   "It helped turbocharge a movement to rethink the evolutionary process".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    epigenetics_complexity_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE STRESSED ORGANISM (Yeast) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (Subject to environmental toxins)
   WHEN: immediate (Short-term survival)
   WHERE: trapped (Cannot leave the toxic environment)
   SCOPE: local (The immediate chemical exposure)
   
   WHY THIS CLASSIFICATION:
   For an organism in a toxic environment, epigenetics acts as a "Noose." 
   The environment forces a "silent or die" choice. The mechanism 
   constrains the cell's behavior to a narrow survival path.
   
   NARRATIVE EVIDENCE:
   "The toxin killed the yeast... But yeast cells with the capacity to silence 
   that gene... survived".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    epigenetics_complexity_2026,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: BIOCHEMICAL ANALYST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical (Observer of molecular law)
   WHEN: civilizational (Species-level biological constants)
   WHERE: analytical (Universal application)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From a molecular perspective, the interaction of molecules with DNA/RNA 
   is a "Mountain"—a fixed physical reality of how life operates. 
   It is a zero-degree-of-freedom constraint of biological architecture.
   
   NARRATIVE EVIDENCE:
   "Epigenetics is a catch-all term to describe how a wide variety of 
   molecules interact with DNA or RNA".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    epigenetics_complexity_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(epigenetics_complexity_2026_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(epigenetics_complexity_2026, T1, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(epigenetics_complexity_2026, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2.

test(environmental_enforcement) :-
    domain_priors:emerges_naturally(epigenetics_complexity_2026).

:- end_tests(epigenetics_complexity_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SELECTION: Focused on the contrast between the "Yeast" as 
 * a subject of environmental pressure (Noose) and the "Biologist" using 
 * epigenetics as an explanatory tool (Rope).
 * * 2. CLASSIFICATION RATIONALE:
 * - Subject (Noose): Survival in toxins is a narrow, forced path.
 * - Biologist (Rope): A functional way to explain why 20,000 genes suffice 
 * for human complexity.
 * * 3. AMBIGUITIES: The source mentions "some biologists are convinced" 
 * epigenetics can influence evolution, implying this isn't a settled 
 * Mountain yet but a contested Rope.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    epigenetic_inheritance_breadth,
    "To what extent are epigenetic modifications 'reset' vs 'inherited' in humans?",
    resolution_mechanism("Long-term multi-generational cohort studies on environmental stress"),
    impact("If fully reset: Epigenetics is a biographical Rope. If inherited: It's a generational Noose/Mountain."),
    confidence_without_resolution(medium)
).

omega_variable(
    complexity_source_completeness,
    "Does epigenetics fully explain the gap between gene count and biological complexity, or are other mechanisms missing?",
    resolution_mechanism("Complete biochemical modeling of the cell-state space"),
    impact("If incomplete: Epigenetics remains a partial Rope. If complete: It becomes a foundational Mountain."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Gene-Centric Determinism
 * Viability: High prior to 2001 (predicted 100k+ genes).
 * Suppression: Empirically rejected by the 20,000 gene count.
 * Evidence: "The number was so far below expectations".
 * * CONCLUSION:
 * The collapse of Alternative 1 shifted the scientific paradigm from a simple 
 * Blueprint (Mountain) to a dynamic Regulatory System (Rope).
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [epigenetics_complexity_2026].
% Report: ?- multi_index_report(epigenetics_complexity_2026).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ergo_advanced_mechanisms
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Ergo Platform (Storage Rent, NiPoPoWs, LETS)
% ============================================================================

:- module(constraint_ergo_advanced, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION: storage_rent
 * SUMMARY: A "demurrage" fee charged to UTXOs that haven't moved in 4 years. 
 * It prevents blockchain bloat and recycles lost coins back to miners.
 * KEY AGENTS: 
 * - Long_Term_Holder: Subject to the fee if inactive.
 * - Miner: The beneficiary who "collects" the rent.
 *
 * CONSTRAINT IDENTIFICATION: nipopows
 * SUMMARY: Non-Interactive Proofs of Proof-of-Work. Succinct proofs that allow 
 * light clients to verify the chain's state without downloading the whole history.
 * KEY AGENTS:
 * - Mobile_User: Can run a "full-node security" wallet on a smartphone.
 * - Protocol_Auditor: Uses NiPoPoWs for trustless cross-chain verification.
 *
 * CONSTRAINT IDENTIFICATION: trustless_lets
 * SUMMARY: Local Exchange Trading Systems. A mutual credit system where 
 * the sum of all balances is zero, allowing for interest-free community credit.
 * KEY AGENTS:
 * - Local_Merchant: Trades skills for local credit without needing fiat.
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

narrative_ontology:interval(storage_rent_interval, 0, 10).
narrative_ontology:interval(nipopows_interval, 0, 10).
narrative_ontology:interval(lets_interval, 0, 10).

% Storage Rent: Moderate extractiveness (0.4) because it reclaims value from users.
domain_priors:base_extractiveness(storage_rent, 0.4).
constraint_beneficiary(storage_rent, ergo_miners).
constraint_victim(storage_rent, inactive_holders).

% NiPoPoWs: Low extractiveness (0.1) as it is a pure utility.
domain_priors:base_extractiveness(nipopows, 0.1).

% LETS: Low extractiveness (0.2) as it is a mutual credit tool.
domain_priors:base_extractiveness(lets, 0.2).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

% --- STORAGE RENT: The "Maintenance" Constraint ---

% Perspective: Individual Powerless -> NOOSE
% Why: For an uninformed user who loses their keys, the rent is a "Noose" 
% that slowly drains their assets until they are gone.
constraint_indexing:constraint_classification(
    storage_rent,
    noose,
    context(agent_power(individual_powerless), time_horizon(historical), exit_options(trapped), _)
).

% Perspective: Institutional (Miner) -> ROPE
% Why: For miners, it is a tool for long-term sustainability once block 
% rewards cease, ensuring the chain doesn't die.
constraint_indexing:constraint_classification(
    storage_rent,
    rope,
    context(agent_power(institutional), _, _, _)
).

% --- NiPoPoWs: The "Accessibility" Constraint ---

% Perspective: Mobile User -> ROPE
% Why: It is a liberating tool that grants high-level security to 
% low-power devices.
constraint_indexing:constraint_classification(
    nipopows,
    rope,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(mobile), _)
).

% Perspective: Analytical -> MOUNTAIN
% Why: The mathematical compression of PoW into superblocks is a 
% fixed law of cryptographic probability.
constraint_indexing:constraint_classification(
    nipopows,
    mountain,
    context(agent_power(analytical), _, _, _)
).

% --- LETS: The "Community" Constraint ---

% Perspective: Individual Moderate -> ROPE
% Why: A tool for cooperative trade that bypasses traditional banking limits.
constraint_indexing:constraint_classification(
    lets,
    rope,
    context(agent_power(individual_moderate), _, _, _)
).

/* ==========================================================================
   4. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    rent_adjustment_social_consensus,
    "Will the 4-year rent period be shortened or lengthened via soft-fork?",
    resolution_mechanism("Miner voting and community sentiment monitoring."),
    impact("A shorter period increases 'Noose' pressure on holders."),
    confidence_without_resolution(low)
).

omega_variable(
    lets_collateral_default,
    "Does the collateral requirement effectively prevent 'wash' accounts from draining credit?",
    resolution_mechanism("On-chain analysis of LETS-1 and LETS-2 protocol performance."),
    impact("If defaults occur, LETS shifts from a Rope to a collective Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   5. INTERPRETATION & ALTERNATIVES
   ========================================================================== */

/**
 * ALTERNATIVE: Bitcoin (No Storage Rent)
 * Viability: No fear of losing coins to time, but faces the "Blockchain Bloat" 
 * and "Fee-only" security risks in the long term.
 *
 * CONCLUSION: 
 * Ergo introduces "Biological" constraints: things decay (Rent), systems 
 * compress (NiPoPoWs), and communities breathe through mutual credit (LETS).
 */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ergo_advanced_mechanisms, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ergo_advanced_mechanisms, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ergo_advanced_mechanisms, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: ergo_autolykos_asic_resistance
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Ergo Platform Documentation (Autolykos v2) & Whitepapers
% ============================================================================

:- module(ergo_autolykos, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ergo_autolykos_asic_resistance
 * human_readable: Autolykos PoW Algorithm (ASIC Resistance)
 * domain: technological/economic
 * temporal_scope: 2019-Ongoing
 * spatial_scope: Global (Distributed Mining Network)
 * * SUMMARY:
 * Autolykos is Ergo's Proof-of-Work (PoW) algorithm, specifically designed 
 * to be memory-hard and ASIC-resistant. By requiring large 
 * datasets (the dataset size increases over time) to be held in GPU memory, 
 * it prevents specialized mining hardware (ASICs) from dominating the 
 * hash rate, thus favoring commodity GPU hardware.
 * * KEY AGENTS:
 * - GPU Miners: Individual and small-scale participants using off-the-shelf 
 * hardware.
 * - ASIC Manufacturers: Institutional entities that build high-efficiency 
 * specialized hardware.
 * - Network Security: The collective robustness against 51% attacks and 
 * hash rate centralization.
 * * NARRATIVE ARC:
 * Autolykos functions as a democratic barrier. It ensures that 
 * the "Mountain" of mining difficulty can be scaled by common citizens with 
 * gaming GPUs, rather than only by those with access to multi-million dollar 
 * industrial ASIC supply chains.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(ergo_mining_era, 0, 10).
narrative_ontology:constraint_claim(ergo_autolykos_asic_resistance, mountain).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: Low direct extraction; however, it extracts energy and requires 
% capital for GPU hardware. It "extracts" opportunity from ASIC makers.
domain_priors:base_extractiveness(ergo_autolykos_asic_resistance, 0.2).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: High suppression of specialized hardware. The algorithm 
% actively punishes non-memory-intensive hardware.
domain_priors:suppression_score(ergo_autolykos_asic_resistance, 0.85).

% Enforcement requirements
domain_priors:requires_active_enforcement(ergo_autolykos_asic_resistance).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(ergo_autolykos_asic_resistance, extractiveness, 0.2).
narrative_ontology:constraint_metric(ergo_autolykos_asic_resistance, suppression_requirement, 0.85).

% Beneficiaries and Victims
constraint_beneficiary(ergo_autolykos_asic_resistance, retail_gpu_miners).
constraint_victim(ergo_autolykos_asic_resistance, asic_manufacturers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: ASIC Manufacturer - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional - Powerful entities with massive R&D budgets.
   WHEN: historical - Building hardware for multi-year cycles.
   WHERE: arbitrage - Seeking the most profitable PoW chains to dominate.
   
   WHY THIS CLASSIFICATION:
   For an ASIC maker, Autolykos is a "Noose." It is a protocol-level 
   mechanism that intentionally renders their specialized efficiency useless, 
   effectively strangling their ability to enter the Ergo market.
   
   NARRATIVE EVIDENCE:
   "The algorithm is memory-hard... aimed at discouraging ASIC 
   development to keep the network decentralized".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_autolykos_asic_resistance,
    noose,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(ergo_autolykos_asic_resistance, retail_participants),
        constraint_victim(ergo_autolykos_asic_resistance, asic_capital),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(ergo_autolykos_asic_resistance, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Home Miner (GPU) - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_powerless / moderate - Common users with gaming PCs.
   WHEN: biographical - Seeking supplemental income or supporting a network.
   WHERE: mobile - Can easily switch mining to other GPU-friendly chains.
   
   WHY THIS CLASSIFICATION:
   For the home miner, Autolykos is a "Rope." it is the tool that allows 
   them to compete on a level playing field with industrial farms. 
   It pulls them into the security structure of the network as active 
   participants rather than just spectators.
   
   NARRATIVE EVIDENCE:
   "Mining Ergo is intended to be accessible for ordinary people... promoting 
   fair distribution".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_autolykos_asic_resistance,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        constraint_beneficiary(ergo_autolykos_asic_resistance, decentralization),
        constraint_victim(ergo_autolykos_asic_resistance, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(ergo_autolykos_asic_resistance, E),
    E < 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The Protocol - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - The hardcoded logic of the Sigmastate.
   WHEN: civilizational.
   WHERE: analytical.
   
   WHY THIS CLASSIFICATION:
   From an analytical perspective, Autolykos is the "Mountain." It is the 
   immutable proof-of-work reality that secures the state transition. 
   One cannot argue with the math; one must simply solve the hash.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_autolykos_asic_resistance,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        constraint_beneficiary(ergo_autolykos_asic_resistance, network_integrity),
        constraint_victim(ergo_autolykos_asic_resistance, none),
        spatial_scope(global)
    )
) :-
    true,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(ergo_autolykos_tests).

test(asic_exclusion_logic) :-
    % Test that high-power institutional agents see a Noose (Suppression of efficiency)
    constraint_indexing:constraint_classification(ergo_autolykos_asic_resistance, noose, 
        context(institutional, _, _, _, _, _)).

test(fair_entry_rope) :-
    % Test that moderate-power GPU miners see a Rope (Opportunity)
    constraint_indexing:constraint_classification(ergo_autolykos_asic_resistance, rope, 
        context(individual_moderate, _, _, _, _, _)).

:- end_tests(ergo_autolykos_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION (0.85): This is the core "intent" of Autolykos. By making 
 * the memory requirements high and variable, it suppresses the 
 * viability of static, specialized circuit design.
 * 2. CLASSIFICATION: The "Noose" for ASIC makers is the primary source 
 * of the project's decentralization "Rope" for users.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    asic_breakthrough_event,
    "Will a specialized manufacturer develop a 'programmable' memory-dense ASIC that can bypass Autolykos v2?",
    resolution_mechanism("Monitor network hashrate for sudden 10x spikes inconsistent with GPU market trends"),
    impact("If Yes: The Rope snaps, and Ergo becomes a Mountain for industrial giants only. If No: Decentralization holds."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: SHA-256 (Bitcoin Style)
 * Viability: Technically simpler, but invites ASIC centralization.
 * Suppression: Rejection of SHA-256 is the defining technological 
 * constraint that creates the Ergo ecosystem.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [ergo_autolykos_asic_resistance].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: dexy_gold_protocol
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Dexy Algorithmic Central Bank Protocol / Ergo Blockchain
% ============================================================================

:- module(constraint_dexy_gold_protocol, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: dexy_gold_protocol
 * human_readable: DexyGold Seigniorage Mechanism
 * domain: economic/technological
 * temporal_scope: 2023-Present
 * spatial_scope: Ergo Blockchain (Global)
 * * SUMMARY:
 * DexyGold is a seigniorage-based stablecoin pegged to the price of gold (XAU). 
 * Unlike the dual-token reserve model of SigUSD, Dexy utilizes a "One Token, 
 * Two Protocols" design. It maintains its peg via an on-chain 
 * "Bank" that mints tokens at oracle rates and an Automated Market Maker (AMM) 
 * for trading. Stability is enforced through "top-up swaps" 
 * where the Bank intervenes if the market price deviates from the oracle 
 * for a set duration (e.g., 50 blocks).
 * * KEY AGENTS:
 * - Arbitrageur: The primary enforcer of the peg, minting from the Bank 
 * to sell on the LP when market price is high.
 * - The Bank: An algorithmic entity that holds ERG reserves and performs 
 * interventions to support the price floor.
 * - LP_Provider: Participants who stock the liquidity pool, subject to 
 * redemption locks during de-pegs.
 * * NARRATIVE ARC:
 * The protocol functions as a decentralized central bank. It removes the 
 * need for a speculative "reserve token" (like SigRSV) by using the 
 * protocol's own accumulated ERG reserves to perform open-market operations 
 * to defend the gold peg.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

narrative_ontology:interval(dexy_gold_interval, 0, 10).
narrative_ontology:constraint_claim(dexy_gold_protocol, rope).

% Base extractiveness: Low (0.2)
% Rationale: Benefits are largely symmetric; the protocol doesn't rely 
% on a secondary class of speculative risk-takers to function, but 
% rather on market-driven arbitrage.
domain_priors:base_extractiveness(dexy_gold_protocol, 0.2).

% Suppression score: Low (0.2)
% Rationale: Open-source and interoperable; explicitly avoids the 
% "death spiral" mechanics of failed algorithmic coins through 
% over-collateralization.
domain_priors:suppression_score(dexy_gold_protocol, 0.2).

% Enforcement: Emerges naturally from AMM dynamics and Bank logic.
domain_priors:emerges_naturally(dexy_gold_protocol).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(dexy_gold_protocol, arbitrageurs).
% Potential "victims" are the Bank's ERG reserves during massive 
% sustained downward pressure on gold vs ERG.
constraint_victim(dexy_gold_protocol, protocol_reserves).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Retail Trader - ROPE
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: mobile
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   To a user simply looking to hedge into gold, Dexy is a tool. Unlike SigUSD, 
   where a "trapped" reserve ratio can prevent entry/exit, Dexy's LP-based 
   exit is usually available, provided there is liquidity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dexy_gold_protocol,
    rope,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(dexy_gold_protocol, E),
    E < 0.3, 
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Liquidity Provider - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: constrained
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   LPs face a "Noose" during de-pegs. The protocol explicitly prevents 
   LP token redemptions if the oracle rate is significantly below the 
   LP rate (e.g., 90%) to prevent draining reserves. 
   This "locks" the agent into the constraint during crisis.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dexy_gold_protocol,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(dexy_gold_protocol, E),
    E >= 0.2, 
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Analytical Observer - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From an analytical view, the 50-block "cross-tracker" delay and the 
   one-way minting are immutable mathematical laws. They 
   define the "physics" of the gold peg on Ergo.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dexy_gold_protocol,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(dexy_gold_protocol, S),
    S < 0.5,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(dexy_gold_protocol_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(dexy_gold_protocol, Type1, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(dexy_gold_protocol, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(dexy_gold_protocol, Type3, context(agent_power(analytical), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(time_immutability) :-
    % Long-term historical view sees the smart contract as fixed (Mountain).
    constraint_indexing:constraint_classification(dexy_gold_protocol, mountain, context(analytical, historical, _, _)).

:- end_tests(dexy_gold_protocol_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.2): Lower than SigUSD because Dexy removes the "tax" 
 * paid to a separate reserve-holder class, relying instead on 
 * active arbitrage.
 * 2. NOOSE CLASSIFICATION: Specifically applied to LPs due to the 
 * redemption lock during de-pegs—a critical "coercive" safety 
 * mechanism.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    draining_attack_resilience,
    "Can anti-draining measures (locks) effectively stop cyclic arbitrage-top-up attacks?",
    resolution_mechanism("Mainnet performance monitoring under high volatility cycles"),
    impact("If failed, the Bank (Rope) collapses into a Noose for all ERG holders."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: SigUSD (AgeUSD Protocol)
 * Viability: Established, higher liquidity, but relies on reserve-token 
 * holders as "bankers".
 * * CONCLUSION:
 * Dexy is a "Rope" for the ecosystem by providing a more capital-efficient 
 * way to create stable assets without requiring a massive, often illiquid 
 * reserve token side-car.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ergo_dexy_gold_protocol, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ergo_dexy_gold_protocol, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ergo_dexy_gold_protocol, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: ergo_lets_protocol
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Ergo Platform - Mutual Credit / LETS Design Patterns
% ============================================================================

:- module(constraint_ergo_lets, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ergo_lets_protocol
 * human_readable: Ergo Local Exchange Trading System (LETS)
 * domain: economic/social
 * temporal_scope: 2020-Present
 * spatial_scope: Ergo Blockchain (Community-specific)
 * * SUMMARY:
 * LETS on Ergo is a trustless mutual credit system where the sum of all 
 * participant balances is always zero. It allows communities 
 * to trade goods and services using a local currency created through 
 * "IOUs" backed by collateral or reputation, enforced via smart contracts 
 *.
 * * KEY AGENTS:
 * - Community_Member: Uses the system to facilitate local trade without 
 * needing external fiat or volatile crypto.
 * - New_Entrant: A user seeking to join who must meet the protocol's 
 * entry constraints (collateral or social vouching).
 * - Protocol_Auditor: Observes the mathematical integrity of the zero-sum 
 * invariant.
 * * NARRATIVE ARC:
 * LETS transforms currency from a "commodity" to be extracted into a 
 * "public utility" (Rope) for coordination. However, to prevent "leaking" 
 * value (defaults), the protocol imposes rigid entry barriers (Mountain) 
 * that can feel like a "Noose" to those lacking the required initial 
 * capital or social standing.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

narrative_ontology:interval(ergo_lets_interval, 0, 10).
narrative_ontology:constraint_claim(ergo_lets_protocol, rope).

% Base extractiveness: Low (0.15)
% Rationale: The protocol is designed to be non-extractive; fees are 
% typically minimal and used only to prevent spam.
domain_priors:base_extractiveness(ergo_lets_protocol, 0.15).

% Suppression score: Low (0.1)
% Rationale: It is a voluntary, opt-in coordination layer. It does not 
% suppress other economic models.
domain_priors:suppression_score(ergo_lets_protocol, 0.1).

% Enforcement: Emerges naturally from Sigma Protocol script logic.
domain_priors:emerges_naturally(ergo_lets_protocol).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(ergo_lets_protocol, local_communities).
constraint_beneficiary(ergo_lets_protocol, unbanked_users).
% Victims are arguably "bad actors" whose collateral is seized upon default, 
% though this is a self-imposed risk.
constraint_victim(ergo_lets_protocol, defaulters).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Active Community Member - ROPE
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: immediate
   WHERE: mobile
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the established user, LETS is a Rope. It is a tool they use to 
   transact when liquidity in ERG or fiat is low. They have the agency 
   to issue credit and settle debts.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_lets_protocol,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(ergo_lets_protocol, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Under-collateralized User - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: biographical
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a user without the required ERG to post as collateral, the protocol's 
   entry requirement is a Mountain. It is an unchangeable law that 
   prevents them from accessing the "Rope" of credit.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_lets_protocol,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(ergo_lets_protocol, S),
    S < 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Protocol Architect/Institutional - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From an institutional or designer's view, the "Sum = 0" rule is a 
   Mountain. It is the core mathematical constraint that ensures systemic 
   solvency and cannot be relaxed without destroying the protocol.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_lets_protocol,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(ergo_lets_protocol, S),
    S < 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 4: Over-leveraged Defaulter - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: constrained
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   When a user defaults, the collateral seizure mechanism becomes a Noose. 
   The constraint "strangles" their assets to repay the pool's debt, 
   acting coercively to maintain the zero-sum balance.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_lets_protocol,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(ergo_lets_protocol, E),
    E >= 0.1, % Even low extractiveness feels like a Noose during liquidation.
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(ergo_lets_protocol_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(ergo_lets_protocol, Type1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(ergo_lets_protocol, Type2, context(agent_power(individual_powerless), _, trapped, _)),
    Type1 \= Type2.

test(zero_sum_immutability) :-
    % Analytical perspective correctly identifies the math as Mountain.
    constraint_indexing:constraint_classification(ergo_lets_protocol, mountain, context(institutional, historical, _, _)).

:- end_tests(ergo_lets_protocol_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE ON POWERLESS: I chose to classify the entry barrier as 
 * "Mountain" rather than "Noose" because it is a passive structural 
 * requirement, not an active extraction from those already inside.
 * 2. EXTRACTIVENESS (0.15): Extremely low, reflecting Ergo's ethos of 
 * community-driven, non-rent-seeking financial tools.
 * 3. NOOSE LOGIC: Liquidation is the only point where this "Rope" becomes 
 * "coercive," hence the Noose classification for the defaulter.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    reputation_portability,
    "Can LETS reputation be ported between communities without collateral?",
    resolution_mechanism("Development of cross-LETS reputation standards"),
    impact("If yes, the 'Mountain' of collateral drops, making it a universal Rope."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Traditional Credit Unions
 * Viability: High social trust, but geographically and legally bound.
 * * ALTERNATIVE 2: SigUSD (Stablecoins)
 * Viability: Better for external trade, but requires 400% collateral.
 * * CONCLUSION:
 * LETS is a "Rope" specifically because it allows for negative balances 
 * (credit) which SigUSD does not, making it more flexible for local trade 
 * despite the "Mountain" of setup complexity.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ergo_mixer_protocol
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: ErgoMixer (ZeroJoin) / Ergo Privacy Infrastructure
% ============================================================================

:- module(constraint_ergo_mixer_protocol, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ergo_mixer_protocol
 * human_readable: ErgoMixer Privacy Mechanism
 * domain: social/technological
 * temporal_scope: 2020-Present
 * spatial_scope: Ergo Blockchain (Global)
 * * SUMMARY:
 * ErgoMixer is the first non-interactive, non-custodial mixer in the crypto 
 * industry. It utilizes the ZeroJoin protocol, which relies 
 * on Sigma protocols (Zero-Knowledge Proofs) and ring signatures to break 
 * on-chain links between deposit and withdrawal addresses. 
 * Unlike interactive mixers like CoinJoin, users do not need to be online 
 * simultaneously to mix their funds.
 * * KEY AGENTS:
 * - Privacy_User: Individual seeking to restore fungibility to their assets 
 * to avoid profiling.
 * - Observer/Chain_Analyst: External party attempting to trace fund 
 * provenance.
 * - Mix_Participant: Other users in the same pool who collectively create 
 * the anonymity set.
 * * NARRATIVE ARC:
 * Funds enter the "mosh pit" (a shared eUTXO pool). Every round, 
 * the coins are mixed with others', increasing the difficulty for an 
 * observer to guess the origin—mathematically halving the probability 
 * with each round. The process continues until the user 
 * decides to exit to a fresh address.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

narrative_ontology:interval(ergo_mixer_interval, 0, 10).
narrative_ontology:constraint_claim(ergo_mixer_protocol, rope).

% Base extractiveness: Low (0.1)
% Rationale: The protocol is non-custodial and serverless; there is no 
% central entity extracting value beyond minimal network fees.
domain_priors:base_extractiveness(ergo_mixer_protocol, 0.1).

% Suppression score: Low (0.1)
% Rationale: It is an opt-in tool. While it suppresses the ability of 
% analysts to trace funds, it does not hide its own existence or prevent 
% users from using transparent transactions.
domain_priors:suppression_score(ergo_mixer_protocol, 0.1).

% Enforcement: Emerges naturally from cryptographic primitives (Sigma Protocols).
domain_priors:emerges_naturally(ergo_mixer_protocol).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(ergo_mixer_protocol, privacy_seeking_users).
% Victims are chain analysis firms whose data-extraction business model 
% is degraded by the obfuscation.
constraint_victim(ergo_mixer_protocol, chain_analysts).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Privacy User - ROPE
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: immediate
   WHERE: mobile
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the user, the mixer is a liberating tool (Rope) that they use to 
   regain control over their financial history. They choose 
   when to enter, how many rounds to mix, and when to exit.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_mixer_protocol,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(ergo_mixer_protocol, E),
    E < 0.3, 
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Protocol Auditor - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From an auditor's view, the Sigma Protocols and the math of ZeroJoin 
   are "Mountain" constraints. These are immutable cryptographic laws 
   that define what is and isn't possible within the system. 
   You cannot "negotiate" with a discrete log problem.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_mixer_protocol,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(ergo_mixer_protocol, S),
    S < 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: User in a Small Pool - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: biographical
   WHERE: trapped
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   In a scenario with very few participants (low anonymity set), the mixer 
   becomes a "Noose". The user is "trapped" because exiting 
   would be statistically traceable, yet staying doesn't provide the 
   desired privacy—the constraint "strangles" the anonymity it promised.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_mixer_protocol,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(ergo_mixer_protocol, E),
    E >= 0.1, 
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(ergo_mixer_protocol_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(ergo_mixer_protocol, Type1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(ergo_mixer_protocol, Type2, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(ergo_mixer_protocol, Type3, context(agent_power(individual_powerless), _, trapped, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(time_immutability) :-
    % Historical/Analytical perspective correctly identifies the math as Mountain.
    constraint_indexing:constraint_classification(ergo_mixer_protocol, mountain, context(analytical, historical, _, _)).

:- end_tests(ergo_mixer_protocol_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.1): The lowest score possible for a functioning system, 
 * as the ErgoMixer is purely peer-to-peer and non-custodial.
 * 2. NOOSE CLASSIFICATION: I used this to model the "Anonymity Set" failure 
 * state—a critical insight where a lack of participants turns a privacy 
 * tool into a visibility trap.
 * 3. SUPPRESSION (0.1): Low because the mixer doesn't stop analysts from 
 * looking; it simply makes their look-ups useless.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    anonymity_set_density,
    "Is the current number of active participants enough to ensure k-anonymity?",
    resolution_mechanism("Statistical analysis of pool activity over time"),
    impact("If low: Protocol becomes a Noose (trap). If high: Protocol is a Rope (tool)."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Tornado Cash (Ethereum)
 * Viability: Historically high liquidity but interactive/custodial-adjacent 
 * risks and central entity vulnerabilities.
 * * ALTERNATIVE 2: ZCash (Native Shielded Transactions)
 * Viability: Built into the base layer but less flexible for custom tokens.
 * * CONCLUSION:
 * ErgoMixer's non-interactive nature makes it a "Rope" with far 
 * fewer logistical knots than predecessors, though it still relies on 
 * the "Mountain" of Sigma Protocols for its integrity.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/ergo_mixer_protocol].
 * 2. Multi-perspective: ?- multi_index_report(ergo_mixer_protocol).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ergo_nipopows
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Ergo Platform Whitepapers / KLS Protocol
% ============================================================================

:- module(constraint_ergo_nipopows, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ergo_nipopows
 * human_readable: NiPoPoW Proof Verification
 * domain: technological
 * temporal_scope: 2019-Present
 * spatial_scope: Global (Distributed Networks)
 * * SUMMARY:
 * NiPoPoWs (Non-Interactive Proofs of Proof-of-Work) allow a verifier to 
 * confirm the state of a blockchain by inspecting a logarithmic-sized proof 
 * of superblocks rather than the full transaction history.
 * * KEY AGENTS:
 * - Light_Client_User: Individual using a mobile wallet on a low-bandwidth 
 * connection seeking "full-node" security.
 * - Full_Node_Operator: Institutional agent maintaining the complete 
 * ledger and generating proofs for others.
 * - Adversary: Attempting to present a shorter, heavier fake chain to 
 * deceive the light client.
 * * NARRATIVE ARC:
 * As blockchains grow (Mountain of data), they naturally exclude participants 
 * with limited resources. NiPoPoWs transform this "impassable mountain" into 
 * a "Rope" (a compact summary) that allows even a smartphone to climb 
 * to the same level of security as a server rack.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

narrative_ontology:interval(ergo_nipopows_interval, 0, 10).
narrative_ontology:constraint_claim(ergo_nipopows, mountain).

% Base extractiveness: Low (0.1)
% Rationale: It is a pure utility that lowers costs for all participants.
domain_priors:base_extractiveness(ergo_nipopows, 0.1).

% Suppression score: Low (0.05)
% Rationale: Open-source and interoperable; explicitly designed to 
% prevent the exclusion of light users.
domain_priors:suppression_score(ergo_nipopows, 0.05).

% Enforcement: Emerges naturally via mathematical probability (PoW).
domain_priors:emerges_naturally(ergo_nipopows).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(ergo_nipopows, mobile_users).
constraint_beneficiary(ergo_nipopows, cross_chain_bridges).
% No direct "victims," though centralizing service providers (Infura-style) 
% lose their monopoly on providing data to light clients.
constraint_victim(ergo_nipopows, centralized_data_providers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Mobile User (Light Client) - ROPE
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: mobile
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a user with a $100 smartphone, downloading 1TB is impossible (Mountain). 
   The NiPoPoW is a Rope—it provides the same security "grip" on the 
   truth without the impossible weight.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_nipopows,
    rope,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(ergo_nipopows, E),
    E < 0.2,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Institutional (Bridge/Exchange) - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For an institution, NiPoPoWs are a Mountain. They are the mathematical 
   laws that define trustless interoperability. There is no negotiation; 
   the protocol either proves the work or it doesn't.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_nipopows,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(ergo_nipopows, S),
    S < 0.2,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Adversarial Context - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: biographical
   WHERE: constrained
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   If an adversary manages a 51% attack, the NiPoPoW becomes a Noose for 
   anyone relying on it. The compact proof will "mathematically prove" 
   a lie, strangling the user's ability to see the true (honest) chain 
   if it is being suppressed.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_nipopows,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(ergo_nipopows, E),
    E >= 0.1, % In a failure state, the "benefit" flips to "extraction."
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(ergo_nipopows_tests).

test(verification_efficiency) :-
    % NiPoPoW (0.1) is more efficient (lower extraction) than full history (0.8).
    domain_priors:base_extractiveness(ergo_nipopows, E),
    E < 0.5.

test(perspective_climb) :-
    % Powerless users see utility (Rope), Institutions see Law (Mountain).
    constraint_indexing:constraint_classification(ergo_nipopows, rope, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(ergo_nipopows, mountain, context(agent_power(institutional), _, _, _)).

:- end_tests(ergo_nipopows_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SHIFT: I modeled the "Noose" as an adversarial failure state. 
 * While NiPoPoWs are strictly beneficial in 99% of cases, the "Constraint" 
 * is the trust placed in the longest chain. If that chain is malicious, 
 * the compact nature of the proof makes the deception harder to catch.
 * 2. LOGARITHMIC SCALING: I treated this as the "Rope" characteristic—the 
 * ability to do more with less.
 * * AMBIGUITIES:
 * - The safety of NiPoPoWs depends on the "Suffix" parameter (how many 
 * recent blocks are verified). If this is too small, security drops.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    suffix_security_parameter,
    "Is the chosen suffix 'k' large enough to prevent reorg attacks for light clients?",
    resolution_mechanism("Ongoing research into mining stability and network latency"),
    impact("If too low, the Rope (utility) snaps into a Noose (vulnerability)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: SPV (Simplified Payment Verification)
 * Viability: Used in Bitcoin; requires linear growth of headers.
 * Suppression: Not suppressed, but less efficient as the chain ages.
 * * CONCLUSION:
 * NiPoPoWs represent a "Mountain" of cryptographic law that allows for the 
 * "Rope" of decentralized mobility.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */

% ============================================================================
% CONSTRAINT STORY: rosen_bridge_protocol
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Rosen Bridge Documentation / Ergo Blockchain
% ============================================================================

:- module(constraint_rosen_bridge_protocol, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: rosen_bridge_protocol
 * human_readable: Rosen Bridge Cross-Chain Mechanism
 * domain: technological/economic
 * temporal_scope: 2023-Present
 * spatial_scope: Multi-chain (Ergo, Cardano, Bitcoin, ETH, etc.)
 * * SUMMARY:
 * Rosen Bridge is an Ergo-centric cross-chain protocol that enables asset 
 * transfers without deploying smart contracts on external chains. 
 * It uses a two-layer security model: Watchers monitor events, and a federated 
 * set of Guards verifies and executes transactions. 
 * All consensus logic resides on Ergo, making the bridge auditable from a 
 * single chain.
 * * KEY AGENTS:
 * - Watcher: Independent nodes monitoring chains and reporting events; 
 * requires RSN and ERG collateral.
 * - Guard: Federated validators who verify watcher reports and sign 
 * multi-sig/threshold transactions on target chains.
 * - Cross-Chain User: Seeks secure movement of assets (e.g., BTC to Ergo) 
 * while avoiding centralized exchanges.
 * * NARRATIVE ARC:
 * The protocol transforms the "weak link" problem of bridges into a tiered 
 * authentication system. By centralizing logic on Ergo but decentralizing 
 * monitoring (Watchers) and multisig execution (Guards), it provides a 
 * "Refereed Vault" where assets are locked/unlocked based on on-chain 
 * proof of events.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Required for system extraction
narrative_ontology:interval(rosen_bridge_interval, 0, 10).
narrative_ontology:constraint_claim(rosen_bridge_protocol, rope).

% Base extractiveness: Moderate (0.5)
% Rationale: High entry barrier for watchers (800 ERG + 30k RSN) and 
% bridge fees (0.5% or $10) are significant, primarily rewarding the 
% security providers.
domain_priors:base_extractiveness(rosen_bridge_protocol, 0.5).

% Suppression score: Low (0.2)
% Rationale: The bridge is open-source and permissionless for watchers; 
% it doesn't suppress other bridges but competes via security.
domain_priors:suppression_score(rosen_bridge_protocol, 0.2).

% Enforcement: Requires active enforcement (Guard signatures & Watcher consensus)
domain_priors:requires_active_enforcement(rosen_bridge_protocol).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(rosen_bridge_protocol, [watchers, guards, rsn_holders]).
% High transaction fees effectively "extract" from small retail users.
constraint_victim(rosen_bridge_protocol, small_value_transactors).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Small Retail User - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For users moving small amounts (e.g., <$100), the $10 minimum fee acts as 
   a Noose. The high cost per transaction "strangles" their 
   mobility across chains, effectively trapping their capital on one network 
   due to the prohibitively high exit fee.
   
   NARRATIVE EVIDENCE:
   "Transactions lower than 2k USD will have a 10 USD fee... one watcher 
   gets approx 0.10-0.15 USD".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rosen_bridge_protocol,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(rosen_bridge_protocol, E),
    E >= 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Liquidity Provider/Whale - ROPE
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: biographical
   WHERE: arbitrage
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For high-net-worth users or LPs, the bridge is a robust Rope. 
   The 0.5% fee is a fair trade for "security over speed". 
   They use the bridge as a coordination tool to move assets where 
   yield is higher (Arbitrage).
   
   NARRATIVE EVIDENCE:
   "The bridge is really intended for larger transactions and moving things 
   cross-chain securely".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rosen_bridge_protocol,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(rosen_bridge_protocol, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Protocol Auditor - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From an auditor's perspective, the logic on Ergo (Sigma Protocols) and 
   the multi-sig requirements on other chains are Mountain constraints 
  . These rules are fixed by the smart contract code; 
   the 60%+1 watcher consensus is a mathematical threshold that cannot 
   be bypassed by social engineering.
   
   NARRATIVE EVIDENCE:
   "Consensus on any action is achieved on the Ergo platform by a group of 
   entities known as Guards... auditable on Ergo".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rosen_bridge_protocol,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(rosen_bridge_protocol, S),
    S < 0.3,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(rosen_bridge_protocol_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(rosen_bridge_protocol, Type1, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(rosen_bridge_protocol, Type2, context(agent_power(individual_powerful), _, _, _)),
    constraint_indexing:constraint_classification(rosen_bridge_protocol, Type3, context(agent_power(analytical), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    % Powerful agents pay proportional fees (Rope), 
    % while powerless agents pay a high flat minimum (Noose).
    ScorePowerless = 0.8, % High effective fee % for small amounts
    ScorePowerful = 0.5,
    ScorePowerless > ScorePowerful.

:- end_tests(rosen_bridge_protocol_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.5): Set at a moderate level because while the bridge 
 * provides a vital service, the fee structure is heavily weighted toward 
 * high-value users, making it extractive for retail.
 * 2. NOOSE CLASSIFICATION: Specifically used to highlight the entry/exit 
 * barrier created by the $10 minimum fee, which creates a "locked-in" 
 * effect for low-balance wallets.
 * 3. MOUNTAIN LOGIC: The auditability on Ergo makes the protocol's state 
 * transparent and its rules as rigid as the blockchain itself.
 * * AMBIGUITIES:
 * - Guard Decentralization: The Guard set is currently "federated" (predefined 
 * entities). Whether this stays decentralized or 
 * consolidates is an Omega.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    guard_collusion_resistance,
    "Will the federated Guard set remain independent or consolidate over time?",
    resolution_mechanism("Monitoring the rotation and diversity of the Guard set on rosen.tech"),
    impact("If consolidated, the Rope (utility) becomes a Noose (centralized control)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Centralized Exchanges (CEXs)
 * Viability: Cheaper and faster, but requires KYC and custody trust.
 * * ALTERNATIVE 2: Layer 1 Wrapped Token Bridges (e.g., WBTC on Ethereum)
 * Viability: High liquidity, but often relies on a single custodian.
 * * CONCLUSION:
 * Rosen is a "Rope" for those prioritizing decentralized security over cost. 
 * Its "Mountain" of multi-layered verification (Watchers + Guards) makes it 
 * one of the most resilient bridges in the ecosystem.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ergo_rosen_bridge_protocol, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ergo_rosen_bridge_protocol, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ergo_rosen_bridge_protocol, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: sig_usd_protocol
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: AgeUSD Protocol / Ergo Blockchain Stablecoin System
% ============================================================================

:- module(constraint_sig_usd_protocol, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: sig_usd_protocol
 * human_readable: SigUSD Stability Mechanism
 * domain: economic/technological
 * temporal_scope: 2021-Present (Post-AgeUSD launch)
 * spatial_scope: Ergo Blockchain (Global)
 * * SUMMARY:
 * SigUSD is an algorithmic, crypto-backed stablecoin based on the AgeUSD protocol. 
 * It operates via a dual-token system: SigUSD (stablecoin) and SigRSV (reserve token). 
 * Stability is maintained by SigRSV holders who act as the "bank," absorbing ERG 
 * price volatility in exchange for protocol fees, while SigUSD holders maintain 
 * value peg as long as the reserve ratio stays within 400-800%.
 * * KEY AGENTS:
 * - SigUSD_Holder: Seeks price stability and a "safe haven" within the ecosystem.
 * - SigRSV_Holder: Seeks profit from volatility and fees; acts as the liquidity provider/underwriter.
 * - Arbitrageur: Technical agent exploiting price gaps between the protocol and external DEXs.
 * * NARRATIVE ARC:
 * The protocol functions as a decentralized bank. When ERG price rises, SigRSV 
 * value grows exponentially. When ERG price crashes, SigRSV holders are "diluted" 
 * to ensure SigUSD can always be redeemed for $1 worth of ERG, until a critical 
 * collateral floor is hit.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Required for system extraction
narrative_ontology:interval(sig_usd_interval, 0, 10).
narrative_ontology:constraint_claim(sig_usd_protocol, rope).

% Base extractiveness: Moderate (0.4)
% Rationale: The protocol charges fees (minting/burning) that flow from users 
% to reserve holders. While asymmetric, it is a service-for-risk trade.
domain_priors:base_extractiveness(sig_usd_protocol, 0.4).

% Suppression score: Low (0.2)
% Rationale: Alternatives like wrapped USDT or other algorithmic coins exist 
% on Ergo; the protocol does not actively suppress them, though network effects favor SigUSD.
domain_priors:suppression_score(sig_usd_protocol, 0.2).

% Enforcement: Emerges naturally via Smart Contracts
domain_priors:emerges_naturally(sig_usd_protocol).

% BENEFICIARIES & VICTIMS
% Primary beneficiaries are the reserve holders during bull markets.
constraint_beneficiary(sig_usd_protocol, sig_rsv_holders).
% Primary "victims" (risk-bearers) are reserve holders during bear markets, 
% and stablecoin holders if the peg breaks.
constraint_victim(sig_usd_protocol, sig_rsv_holders_at_low_reserve).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: SigUSD_Holder (Retail User) - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: individual_powerless (User of the interface, not the dev or whale)
   WHEN: immediate (Needs the peg to hold TODAY)
   WHERE: trapped (Asset is locked in the contract logic)
   SCOPE: local (Their specific wallet/liquidity)
   
   WHY THIS CLASSIFICATION:
   For a retail user, the protocol's math is "natural law." They cannot change 
   the 400% reserve requirement or the fee structure. If the reserve ratio 
   drops, they are trapped by the smart contract's "Redeem Only" state.
   
   NARRATIVE EVIDENCE:
   "I just want to hold dollars. I don't control the code; the code tells me 
   if I can mint or not."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sig_usd_protocol,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(sig_usd_protocol, S),
    S < 0.5, % Even though suppression is low, powerless agents see it as fixed.
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: SigRSV_Holder (The "Banker") - ROPE
   --------------------------------------------------------------------------
   WHO: individual_moderate (Has capital, chooses to provide liquidity)
   WHEN: biographical (Long-term investment horizon)
   WHERE: mobile (Can "burn" SigRSV for ERG and leave when ratio allows)
   SCOPE: regional (Impacts the Ergo ecosystem liquidity)
   
   WHY THIS CLASSIFICATION:
   The SigRSV holder sees the protocol as a tool (Rope) for leverage. It is a 
   functional coordination mechanism that allows them to earn fees. They 
   willingly enter and can exit if they play the "game" correctly.
   
   NARRATIVE EVIDENCE:
   "I provide the reserve to earn the minting fees from the SigUSD users. It's 
   a fair trade for the risk I take."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sig_usd_protocol,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(sig_usd_protocol, E),
    E < 0.6, % Beneficial coordination.
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Protocol Auditor/Whale - NOOSE
   --------------------------------------------------------------------------
   WHO: institutional (Can move markets or influence protocol evolution)
   WHEN: historical (Looking at systemic collapse risks over years)
   WHERE: arbitrage (Can exit through secondary markets or hedge elsewhere)
   SCOPE: global (Financial stability perspective)
   
   WHY THIS CLASSIFICATION:
   From a systemic view, if the reserve ratio stays near 400% during a 
   prolonged ERG crash, the protocol becomes a "Noose." It forces 
   asymmetric losses on the last reserve holders to stay liquid, potentially 
   leading to a "death spiral" where the constraint becomes coercive to 
   those remaining.
   
   NARRATIVE EVIDENCE:
   "The 400% limit protects the stablecoin but strangulates the reserve 
   holders during a crash, preventing them from exiting until the peg is safe."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sig_usd_protocol,
    noose,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(sig_usd_protocol, E),
    E > 0.3, 
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(sig_usd_protocol_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(sig_usd_protocol, Type1, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(sig_usd_protocol, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(sig_usd_protocol, Type3, context(agent_power(institutional), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    % Institutional agents can arbitrage (lower experienced extraction)
    % whereas powerless agents pay the flat protocol fee.
    ScorePowerless = 0.4,
    ScorePowerful = 0.2, 
    ScorePowerless > ScorePowerful.

test(time_immutability) :-
    % At 'immediate' horizon, it is a Mountain (cannot change code).
    constraint_indexing:constraint_classification(sig_usd_protocol, mountain, context(_, immediate, _, _)).

:- end_tests(sig_usd_protocol_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): Chosen because while the protocol is "fair," the 2% fee 
 * is an asymmetric transfer from those needing stability to those providing it.
 * 2. PERSPECTIVES: I chose the Holder/Banker/Institutional split because crypto 
 * protocols are defined by the "Reserve Ratio" state, which changes the 
 * user's freedom of movement.
 * 3. NOOSE LOGIC: I classified the institutional view as Noose because of the 
 * "Liquidation Risk"—the protocol's constraints (locking minting/burning) 
 * can become a trap during black swan events.
 * * AMBIGUITIES:
 * - Oracle Risk: The protocol relies on an external price feed. If the oracle 
 * fails, the constraint shifts from "Mountain" to "Chaos." I modeled this 
 * via the Omega below.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    oracle_integrity,
    "Is the ERG/USD oracle price feed accurate and manipulation-resistant?",
    resolution_mechanism("Post-hoc analysis of oracle data vs. global market average during high volatility"),
    impact("If oracle fails, the Mountain (math) becomes a Noose (error-driven extraction)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Fiat-backed Stablecoins (USDT/USDC)
 * Viability: Highly liquid, but introduces central party risk (the anti-thesis of Ergo).
 * Suppression: Not suppressed, but culturally rejected by the community.
 * * ALTERNATIVE 2: DexyGold (Non-custodial algorithmic gold peg)
 * Viability: Operates on similar principles but different collateral.
 * * CONCLUSION:
 * The presence of alternatives makes SigUSD a "Rope" for those who value 
 * decentralization. For those who *must* use Ergo and need stability, it 
 * approaches "Mountain" status due to the lack of other high-liquidity options.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ergo_sig_usd_protocol, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ergo_sig_usd_protocol, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ergo_sig_usd_protocol, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: ergo_storage_rent_mechanism
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Ergo Platform Documentation (ErgoDocs) and Whitepapers
% ============================================================================

:- module(ergo_storage_rent, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ergo_storage_rent
 * human_readable: Ergo Storage Rent (Demurrage)
 * domain: economic/technological
 * temporal_scope: Post-2019 (Operational Mainnet)
 * spatial_scope: Global (Distributed Network)
 * * SUMMARY:
 * Ergo introduces a "Storage Rent" or demurrage fee for inactive data stored 
 * on the blockchain. Any UTXO (box) that remains unspent for 4 years is 
 * subject to a recurring fee. This prevents "blockchain bloat" 
 * and ensures miners have a long-term revenue stream after the emission 
 * of new coins ends.
 * * KEY AGENTS:
 * - Long-term Holders (HODLers): Agents who store value without frequent 
 * movement; they must periodically "refresh" their boxes.
 * - Miners: Beneficiaries who collect the rent as part of block rewards to 
 * sustain network security.
 * - Protocol Developers: Architects of the eUTXO model aiming for "predictable 
 * scalability".
 * * NARRATIVE ARC:
 * Unlike Bitcoin, where "lost coins" are permanently removed from circulation, 
 * Ergo treats the blockchain as a physical storage space. If 
 * a box is abandoned, miners eventually "garbage collect" the value, returning 
 * it to the economic loop.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(ergo_operational_era, 0, 10).
narrative_ontology:constraint_claim(ergo_storage_rent, rope).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: Small fee (approx 0.13 ERG every 4 years) prevents total loss 
% but extracts value from inactive addresses.
domain_priors:base_extractiveness(ergo_storage_rent, 0.15).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: The rule is hardcoded in the sigmastate-interpreter; the only 
% escape is to spend/move the coins every 4 years.
domain_priors:suppression_score(ergo_storage_rent, 0.8).

% Enforcement requirements
domain_priors:requires_active_enforcement(ergo_storage_rent).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(ergo_storage_rent, extractiveness, 0.15).
narrative_ontology:constraint_metric(ergo_storage_rent, suppression_requirement, 0.8).

% Beneficiaries and Victims
constraint_beneficiary(ergo_storage_rent, ergo_miners).
constraint_victim(ergo_storage_rent, inactive_wallet_addresses).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: The "HODLer" (Passive Investor) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Users subject to protocol-level consensus.
   WHEN: biographical - Holding for decades; 4 years is a short horizon.
   WHERE: trapped - Cannot opt-out of rent if the box is on-chain.
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   To an investor who treats crypto like "digital gold" (buy and forget), 
   storage rent is a "Noose." It forces them to maintain "active awareness" 
   or suffer the gradual extraction of their assets.
   
   NARRATIVE EVIDENCE:
   "Lost coins... would be slowly returned to the ecosystem... making it 
   less viable as a 'store and forget' asset without maintenance".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_storage_rent,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        constraint_beneficiary(ergo_storage_rent, ergo_miners),
        constraint_victim(ergo_storage_rent, hodlers),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(ergo_storage_rent, E),
    E > 0.1,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Network Miner - Rope
   --------------------------------------------------------------------------
   
   WHO: collective_organized / institutional - Miners vote on parameters.
   WHEN: historical - Building a self-sustaining network post-emission.
   WHERE: arbitrage - Can move hash-rate between PoW chains.
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   For miners, the rent is a "Rope." It is a functional tool that guarantees 
   security budgets in a world where transaction fees alone might be 
   insufficient after the 2045 emission end.
   
   NARRATIVE EVIDENCE:
   "Storage Rent... as ERGO ages and storage rent comes into play miners 
   will see rewards coming in more than one way".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_storage_rent,
    rope,
    context(
        agent_power(collective_organized),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(ergo_storage_rent, network_security),
        constraint_victim(ergo_storage_rent, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(ergo_storage_rent, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Protocol Architect / Foundation - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Designers of the state management rules.
   WHEN: civilizational - Solving for "state bloat" over centuries.
   WHERE: analytical.
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   From a design perspective, storage rent is a "Mountain"—a fundamental 
   economic law required for a UTXO system to survive indefinitely without 
   infinite storage growth.
   
   NARRATIVE EVIDENCE:
   "Ergo is designed with controlled state size growth... making the 
   blockchain predictably scalable".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergo_storage_rent,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        constraint_beneficiary(ergo_storage_rent, network_longevity),
        constraint_victim(ergo_storage_rent, none),
        spatial_scope(global)
    )
) :-
    true,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(ergo_storage_rent_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(ergo_storage_rent, Type1, 
        context(individual_powerless, biographical, trapped, _, _, global)),
    constraint_indexing:constraint_classification(ergo_storage_rent, Type2, 
        context(collective_organized, historical, arbitrage, _, _, global)),
    Type1 = noose,
    Type2 = rope.

test(time_immutability_shift) :-
    % Long-term historical views should see the functionality (Rope/Mountain)
    constraint_indexing:constraint_classification(ergo_storage_rent, rope, 
        context(_, historical, _, _, _, _)).

:- end_tests(ergo_storage_rent_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.15): While low per-box, it is mandatory. I chose 0.15 
 * because it is not "severe" but is structurally extractive.
 * 2. CLASSIFICATION: The most interesting tension in Ergo is the HODLer 
 * (who sees a Noose) vs. the Miner (who sees a Rope). This highlights 
 * the "social contract" difference from Bitcoin.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    state_garbage_collection_adoption,
    "Will miners actually spend the effort to 'garbage collect' tiny dust boxes if fees are too low?",
    resolution_mechanism("Monitor the first 4-year cycle (2023 onwards) to see box collection rates"),
    impact("If NO: the rent is a failed Rope (ineffective). If YES: the Rope secures the chain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Permanent UTXOs (The Bitcoin Model)
 * Viability: The industry standard.
 * Suppression: Ergo explicitly rejects this to solve the "State Bloat" problem, 
 * treating Bitcoin's permanent storage as an unsustainable "free lunch".
 * * CONCLUSION:
 * The rejection of permanent storage transforms "holding" from a passive 
 * right into a managed responsibility.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [ergo_storage_rent].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ergo_storage_rent_mechanism, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ergo_storage_rent_mechanism, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ergo_storage_rent_mechanism, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: ergodic_theorems
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Statistical Mechanics / Probability Theory / Ergodicity
% ============================================================================

:- module(constraint_ergodic_theorems, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ergodic_theorems
 * human_readable: Ergodic Theorems (Time vs. Ensemble Averages)
 * domain: scientific/mathematical/economic
 * temporal_scope: Universal (Physics and Decision Theory)
 * spatial_scope: Universal (Stochastic Systems)
 * * SUMMARY:
 * Ergodic theorems describe systems where the "ensemble average" (the average 
 * across many parallel states) equals the "time average" (the average of one 
 * state over a long period). In non-ergodic systems, such as gambling with 
 * ruin or evolutionary survival, the "ensemble" success rate is irrelevant 
 * because a single path hitting zero results in total termination.
 * * KEY AGENTS:
 * - The Statistician: Assumes ergodicity to simplify calculations of large 
 * populations.
 * - The Individual Gambler: Faces the "ruin" problem where time averages 
 * diverge from ensemble expectations.
 * - The Biological Organism: Subject to the non-ergodic constraint of 
 * mortality—you cannot "average" your life with others if you die.
 * * NARRATIVE ARC:
 * Ergodicity is often treated as a "Rope" for calculation by institutions 
 * (Insurers, Economists), but for the individual subject to ruin, it is an 
 * invisible "Mountain" of physical limitation. When systems are designed 
 * as if they were ergodic when they are not, they become a "Noose" for the 
 * participants who are "absorbed" (eliminated) by volatility.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(ergodic_interval, 0, 10).
narrative_ontology:constraint_claim(ergodic_theorems, mountain).

% Base extractiveness: 0.3 (Moderate)
% Rationale: While ergodicity is a physical/mathematical property, the 
% *assumption* of ergodicity extracts value by justifying risky policies 
% (e.g., in finance or public health) that work on average but fail individuals.
domain_priors:base_extractiveness(ergodic_theorems, 0.3).

% Suppression: 0.6 (High)
% Rationale: Non-ergodicity is frequently suppressed in mainstream economic 
% modeling. The "expected value" (ensemble) is presented as the only rational 
% choice, hiding the risk of individual termination.
domain_priors:suppression_score(ergodic_theorems, 0.6).

% Enforcement: Emerges naturally from the nature of probability and absorbing barriers.
domain_priors:emerges_naturally(ergodic_theorems).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(ergodic_theorems, extractiveness, 0.3).
narrative_ontology:constraint_metric(ergodic_theorems, suppression_requirement, 0.6).

% Beneficiaries: Institutional planners, insurers, and high-frequency traders 
% who can play the ensemble.
constraint_beneficiary(ergodic_theorems, institutional_aggregators).

% Victims: Individual actors, small businesses, and biological entities 
% subject to path-dependency and ruin.
constraint_victim(ergodic_theorems, path_dependent_individuals).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MATHEMATICAL PHYSICIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The observer of phase space).
   WHEN: civilizational (Eternal laws of statistical mechanics).
   WHERE: trapped (Cannot escape the definitions of measure theory).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   To the physicist, the ergodic hypothesis is a Mountain. It defines the 
   boundary of what can be calculated. Systems are either ergodic or they 
   are not; this is an objective property of the system's phase space 
   and dynamics. It is the "ground" upon which thermodynamics is built.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergodic_theorems,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE INSURANCE ACTUARY - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (The manager of large-scale risk).
   WHEN: historical (Scaling over the life of an institution).
   WHERE: arbitrage (Can aggregate across millions of individuals).
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For the actuary, ergodicity is a Rope. By pooling enough individuals, 
   the "time average" of the insurer becomes the "ensemble average" of 
   the population. It is a coordination mechanism that allows for the 
   monetization of risk and the creation of social stability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergodic_theorems,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INDIVIDUAL GAMBLER - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A single agent with one "life").
   WHEN: immediate (The current sequence of bets).
   WHERE: trapped (Once 'ruin' occurs, no more play is possible).
   SCOPE: local.
   
   WHY THIS CLASSIFICATION:
   For the individual facing a non-ergodic game, the "average" is a Noose. 
   If the game has a 99% success rate but the 1% failure results in death 
   (ruin), the "ensemble average" (thriving) is irrelevant. The structure 
   of the game strangles the player over time, as the probability of 
   hitting the absorbing barrier approaches 1.0.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ergodic_theorems,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(ergodic_theorems_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(ergodic_theorems, Type1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(ergodic_theorems, Type2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(ergodic_theorems, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    % Institutional actors benefit from aggregation; individuals suffer from ruin.
    domain_priors:base_extractiveness(ergodic_theorems, E),
    E >= 0.3.

test(time_immutability) :-
    % Civilizational horizon views mathematical laws as Mountains.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(ergodic_theorems_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS (0.3):
 * The score is moderate because ergodicity itself is a law of nature, 
 * but its misapplication by "Expert" institutions (The Fragilistas) 
 * extracts survival and capital from the individual.
 * * 2. SUPPRESSION (0.6):
 * High because traditional economics almost entirely ignores non-ergodicity 
 * (the 'ruin' problem), effectively suppressing the most important 
 * constraint on individual survival.
 * * 3. CLASSIFICATION RATIONALE:
 * Physicist (Mountain): The theorem is a tautological truth of math.
 * Actuary (Rope): Institutional scaling converts ergodicity into a tool.
 * Gambler (Noose): Path-dependence and mortality turn probabilities 
 * into terminal traps.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    quantum_ergodicity,
    "Do quantum systems truly explore all available phase space (Ergodic) or are they subject to fundamentally discrete, non-ergodic jumps?",
    resolution_mechanism("Long-term observation of decoherence in complex quantum states"),
    impact("If Mountain: Physics is unified. If Noose: The universe has 'dead-ends' in its probability structure."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Multiplicative Dynamics (Kelly Criterion)
 * Viability: A proven mathematical strategy for navigating non-ergodic 
 * systems by betting a fraction of wealth to avoid ruin.
 * Suppression: Moderate. Taught in niche finance/gambling but ignored 
 * in general economic policy which favors "expected value."
 * * CONCLUSION:
 * The existence of the Kelly Criterion as an alternative shifts the 
 * "Noose" of ergodicity into a "Rope" for those with the knowledge and 
 * power to apply it.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_ergodic_theorems].
 * 2. Multi-perspective: ?- multi_index_report(ergodic_theorems).
 * 3. Run tests: ?- run_tests(ergodic_theorems_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: euler_characteristic_topology
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Euler's Polyhedron Formula (V - E + F = 2) / Algebraic Topology
% ============================================================================

:- module(constraint_euler_characteristic, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: euler_characteristic_topology
 * human_readable: Euler Characteristic (Topological Invariance)
 * domain: mathematical/technological
 * temporal_scope: 1750 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Manifolds and Polyhedra)
 * * SUMMARY:
 * The Euler Characteristic (chi) is a topological invariant, a number that 
 * describes a topological space's shape or structure regardless of how it is 
 * bent or stretched. For a convex polyhedron, V - E + F = 2. This functions 
 * as a fundamental structural constraint on all physical and abstract surfaces.
 * * KEY AGENTS:
 * - The Polyhedron/Mesh: The powerless subject whose existence is dictated 
 * by the ratio of vertices, edges, and faces.
 * - The Graphics Engineer: An institutional agent who uses the characteristic 
 * to ensure mesh integrity and manifold properties.
 * - The Topologist: An analytical observer who classifies the universe of 
 * shapes using this invariant.
 * * NARRATIVE ARC:
 * Originally a geometric observation by Euler, the characteristic became a 
 * "Mountain" of algebraic topology—an inescapable law of connectivity. In 
 * modern 3D modeling and data science, it acts as a "Rope" for structural 
 * verification, though it becomes a "Noose" when rigid topological 
 * requirements prevent the optimization of complex meshes.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(euler_era, 1750, 2026).
narrative_ontology:constraint_claim(euler_characteristic_topology, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Low (0.1). Mathematical invariants are non-extractive truths, 
% though they "extract" computational labor during verification.
domain_priors:base_extractiveness(euler_characteristic_topology, 0.1).

% Suppression score (0.0-1.0)
% Rationale: Low (0.1). It is an foundational truth that enables rather 
% than suppresses, though it renders "non-manifold" geometry invalid.
domain_priors:suppression_score(euler_characteristic_topology, 0.1).

% Enforcement: Emerges naturally from the axioms of topology.
domain_priors:emerges_naturally(euler_characteristic_topology).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(euler_characteristic_topology, extractiveness, 0.1).
narrative_ontology:constraint_metric(euler_characteristic_topology, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(euler_characteristic_topology, structural_engineers). % Predictability.
constraint_beneficiary(euler_characteristic_topology, computer_graphics). % Mesh integrity.
constraint_victim(euler_characteristic_topology, non_manifold_geometry). % Functionally suppressed.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE GRAPHICS MESH (THE "SUBJECT") - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The mesh cannot "choose" to have V-E+F != 2 
        if it is to remain a convex polyhedron.
   WHEN: immediate - The law applies to every frame and every operation.
   WHERE: trapped - Bound by the topological constraints of its own connectivity.
   SCOPE: local - Immediate neighborhood of faces and vertices.
   
   WHY THIS CLASSIFICATION:
   For the geometry itself, the Euler Characteristic is an unchangeable 
   feature of the universe. To exist as a valid shape, it must obey 
   the structural ratio.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    euler_characteristic_topology,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SOFTWARE ARCHITECT (CAD/CG) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define valid data structures and constraints.
   WHEN: biographical - Planning the lifecycle of a modeling engine.
   WHERE: mobile - Can choose different topologies (torus vs. sphere) to 
        solve specific problems.
   SCOPE: global - Applies across all models in the system.
   
   WHY THIS CLASSIFICATION:
   For the architect, the Euler Characteristic is a "Rope"—a coordination 
   mechanism. It allows them to verify that a complex mesh is manifold 
   and "closed," ensuring that lighting and physics calculations are stable.
   
   NARRATIVE EVIDENCE:
   "The characteristic is used as a consistency check in mesh processing 
   algorithms to identify holes or structural errors."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    euler_characteristic_topology,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE TOPOLOGICAL OPTIMIZER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the power to optimize but is bound by the rules.
   WHEN: immediate - Stuck in a local optimum that cannot be escaped without 
        changing the genus.
   WHERE: constrained - The optimization cannot "jump" to a better shape 
        without a discontinuous change.
   SCOPE: local - A specific bottleneck in a design.
   
   WHY THIS CLASSIFICATION:
   In structural optimization (like generative design), the requirement to 
   maintain a specific Euler Characteristic can act as a "Noose." It 
   prevents the algorithm from adding a necessary hole (changing genus) 
   to save weight, extracting efficiency for the sake of topological continuity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    euler_characteristic_topology,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(euler_characteristic_topology, E),
    E > 0.05,
    !.

/* ==========================================================================
   4. TESTS (Insights into Topological Power)
   ========================================================================== */

:- begin_tests(euler_characteristic_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(euler_characteristic_topology, Type1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(euler_characteristic_topology, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(genus_change_as_exit) :-
    % Changing the genus (adding a hole) is a mobile exit option for the powerful.
    constraint_indexing:constraint_classification(euler_characteristic_topology, rope, context(institutional, _, mobile, _)).

test(emergence) :-
    domain_priors:emerges_naturally(euler_characteristic_topology).

:- end_tests(euler_characteristic_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.1): 
 * Reasoning: Unlike social constraints, mathematical laws don't "take" 
 * anything away, but their rigid enforcement in simulation software 
 * extracts hardware cycles for parity checks.
 * * 2. CLASSIFICATION AS MOUNTAIN: 
 * Reasoning: For the primary subject (the shape), there is zero choice. 
 * Connectivity is fate.
 * * 3. PERSPECTIVES:
 * Chose Mesh (Subject), Architect (User), and Optimizer (Victim of 
 * Continuity) to demonstrate how topology limits functional design.
 */

% OMEGA IDENTIFICATION
omega_variable(
    discontinuous_transitions,
    "Can a system transition between Euler Characteristics (genus 0 to 1) 
    without collapsing the structural 'Mountain'?",
    resolution_mechanism("Topological data analysis of phase transitions in soft matter."),
    impact("If Yes: The 'Mountain' is a 'Rope' even for the subject. If No: It is a Noose of fixity."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Non-Manifold Geometry (Point Clouds/Soups)
 * Viability: Used in raw sensor data where connectivity is unknown.
 * Suppression: Rejected by simulation engines because it lacks the 
 * "Rope" of connectivity needed for physics.
 * * ALTERNATIVE 2: Hypergraphs
 * Viability: Allows edges to connect more than two vertices.
 * Suppression: Useful in network theory, but the physical world 
 * defaults to the 3-manifold Euler characteristic for surfaces.
 * * CONCLUSION:
 * The dominance of the Euler Characteristic as a "Rope" for 
 * engineering is due to the physical reality of surfaces, making 
 * non-manifold alternatives functionally invisible.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [euler_characteristic_topology].
% Multi-perspective check: ?- constraint_indexing:multi_index_report(euler_characteristic_topology).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: exoplanetary_habitability_arbitrage
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Alex Wilkins, "Our solar system is extremely weird"
% Status: [RESOLVED]
% ============================================================================

:- module(constraint_exoplanetary_habitability_arbitrage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: exoplanetary_habitability_arbitrage
 * human_readable: Exoplanetary Habitability Arbitrage
 * domain: technological/scientific
 * temporal_scope: 2000s to 2026+
 * spatial_scope: Global (Astrophysics Research Labs)
 * * SUMMARY:
 * This constraint represents the strategic pivot in the search for extraterrestrial life, 
 * moving from the search for "Earth twins" to identifying anomalies based on our 
 * solar system's "weirdness". Researchers arbitrage the 
 * gap between the rare 1-in-10 occurrence of Jupiter-sized planets and the common 
 * "super-Earth" systems to prioritize high-cost observation targets.
 * * KEY AGENTS:
 * - The Exobiologist: Analytical observer seeking to "rewrite the story" of formation to find life.
 * - The Legacy Planet Hunter: Agent traditionally focused on sun-like stars and 1:1 Earth analogs.
 * - The Habitable System: The physical reality where orbit circularity and stellar neighbor absence define "weirdness".
 * * NARRATIVE ARC:
 * The discovery that our solar system is a potential "one in a million" fluke shifts 
 * habitability from a "Mountain" of inevitable discovery to a "Rope" of highly 
 * selective, data-driven arbitrage.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(exoplanetary_habitability_arbitrage, 0, 10).
narrative_ontology:constraint_claim([exoplanetary_habitability_arbitrage], [scientific_prioritization]).

% Base extractiveness score (0.45 = Moderate)
% Rationale: High-cost missions like the Habitable Worlds Observatory extract 
% resources from general astronomy to fund specialized searches for "weird" flukes.
domain_priors:base_extractiveness(exoplanetary_habitability_arbitrage, 0.45).

% Suppression score (0.55 = Moderate)
% Rationale: The assumption of our system being "normal" previously suppressed 
% the search for "weird" trajectories and super-Earth anomalies.
domain_priors:suppression_score(exoplanetary_habitability_arbitrage, 0.55).

% Enforcement requirements
% Emerges naturally from the statistical rarity of our system's architecture.
domain_priors:emerges_naturally(exoplanetary_habitability_arbitrage).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(exoplanetary_habitability_arbitrage, extractiveness, 0.45).
narrative_ontology:constraint_metric(exoplanetary_habitability_arbitrage, suppression_requirement, 0.55).

% BENEFICIARIES & VICTIMS
% Modern planetary theorists benefit from the "rewrite" of formation stories.
constraint_beneficiary(exoplanetary_habitability_arbitrage, planetary_theorists).
% Traditional "Earth twin" hunters lose funding as the search pivots to anomalies.
constraint_victim(exoplanetary_habitability_arbitrage, legacy_astronomers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EXOBIOLOGIST - Rope
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer using "large-scale, long-term surveys")
   WHEN: biographical (Tracking orbital wobbles since the early 2000s)
   WHERE: arbitrage (Playing "weird" system features against common exoplanet data)
   SCOPE: global (Drawing on data from telescopes like Kepler and TESS)
   
   WHY THIS CLASSIFICATION:
   For the exobiologist, habitability arbitrage is a Rope—a functional tool to 
   refine the "one in a million" search and locate life in a galaxy full of super-Earths.
   
   NARRATIVE EVIDENCE:
   "Putting those together, we’re definitely weird... helped astronomers rewrite 
   the story of how it formed".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    exoplanetary_habitability_arbitrage,
    rope,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(exoplanetary_habitability_arbitrage, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE LEGACY PLANET HUNTER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Subject to the pivot away from "typicality")
   WHEN: immediate (Addressing current unmet expectations of finding Earth twins)
   WHERE: trapped (Committed to searching for Earth-like planets around sun-like stars)
   SCOPE: national (Restricted by funding for traditional "typical" models)
   
   WHY THIS CLASSIFICATION:
   For those hunting for an "Earth 2.0" using old models, the "weirdness" finding 
   is a Noose—it reveals that their search target might not even exist.
   
   NARRATIVE EVIDENCE:
   "We have yet to spot an Earth-like planet around a sun-like star... we’re 
   missing planets common to most other star systems".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    exoplanetary_habitability_arbitrage,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(exoplanetary_habitability_arbitrage, E),
    E > 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: RARE EARTH PROPONENT - Mountain
   --------------------------------------------------------------------------
   
   WHO: institutional (Viewing "weirdness" as an immutable biological prerequisite)
   WHEN: civilizational (The deep-time fluke of Earth's formation)
   WHERE: constrained (Bound by the physical lack of alien life so far)
   SCOPE: global (The total absence of detected aliens in our galaxy)
   
   WHY THIS CLASSIFICATION:
   To the Rare Earth proponent, the system's architecture is a Mountain—an 
   unchangeable biological necessity that explains why we have yet to find life.
   
   NARRATIVE EVIDENCE:
   "We have yet to spot an Earth-like planet... not to mention alien life... 
   we’re definitely weird".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    exoplanetary_habitability_arbitrage,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    % Classification based on the perception of "weirdness" as fate
    true,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(exoplanetary_habitability_arbitrage_tests).

test(multi_perspective_variance) :-
    % Exobiologist (Rope) vs Hunter (Noose) vs Rare Earth (Mountain)
    constraint_indexing:constraint_classification(exoplanetary_habitability_arbitrage, rope, context(analytical, biographical, arbitrage, global)),
    constraint_indexing:constraint_classification(exoplanetary_habitability_arbitrage, noose, context(individual_powerless, immediate, trapped, national)),
    constraint_indexing:constraint_classification(exoplanetary_habitability_arbitrage, mountain, context(institutional, civilizational, constrained, global)).

test(power_extractiveness_scaling) :-
    % Funding extraction for new "weird" telescopes (0.45) affects legacy researchers.
    Score1 = 0.45,
    Score2 = 0.1,
    Score1 > Score2.

:- end_tests(exoplanetary_habitability_arbitrage_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.45):
 * Reasoning: Chosen because the "weirdness" pivot reallocates significant 
 * informational and financial resources toward anomaly search.
 * * 2. PERSPECTIVE SELECTION:
 * Chose to analyze from the Exobiologist (Rope), Legacy Hunter (Noose), and 
 * Rare Earth proponent (Mountain) to illustrate how the same data 
 * signifies tool, trap, and fate.
 * * 3. AMBIGUITIES:
 * The text is uncertain if we are weird at the "1 per cent" or "1 in a million" 
 * level; this is handled via an Omega.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    exoplanetary_habitability_arbitrage_extraction_intent,
    "Is the focus on 'weird' systems a functional necessity for finding life or a strategic choice to sustain high-tech funding?",
    resolution_mechanism("Audit of discovery rates for habitable worlds in 'weird' vs 'typical' star systems"),
    impact("If necessity: Mountain. If strategic choice: Noose."),
    confidence_without_resolution(medium)
).

omega_variable(
    weirdness_frequency_calibration,
    "Is the solar system's weirdness a 1-in-100 fluke or a 1-in-a-million miracle?",
    resolution_mechanism("Completion of large-scale, long-term surveys of G-type stars for Earth-mass planets"),
    impact("If 1%: Rope (manageable search). If 1-in-a-million: Mountain (likely we are alone)."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: The Copernican "Earth Twin" Search
 * Viability: The widely believed paradigm that Earth is a typical planet.
 * Suppression: Now being challenged by data showing our sun and planets are 
 * outliers.
 * * CONCLUSION:
 * The shift from "Typicality" to "Arbitrage" creates a Rope for scientists 
 * but a Noose for legacy theories that can no longer explain the absence 
 * of Earth twins.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraints/exoplanetary_habitability_arbitrage].
 * 2. Multi-perspective: ?- multi_index_report(exoplanetary_habitability_arbitrage).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: exploration_vs_exploitation
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Multi-Armed Bandit Problem / Reinforcement Learning
% ============================================================================

:- module(constraint_exploration_exploitation, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: exploration_vs_exploitation
 * human_readable: Exploration vs. Exploitation (The Search Dilemma)
 * domain: mathematical/technological/biological
 * temporal_scope: Biographical to Civilizational
 * spatial_scope: Global
 * * SUMMARY:
 * Exploitation involves choosing the best-known option to maximize immediate 
 * reward. Exploration involves choosing unknown or sub-optimal options to 
 * gather information, potentially discovering a superior Global Optimum.
 * * KEY AGENTS:
 * - The Optimizing Agent: Forced to decide between current profit and future growth.
 * - The Information Frontier: The "unknown" territory that requires investment to map.
 * - The Clock: The temporal constraint that eventually makes exploration impossible.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(exploration_vs_exploitation, 0, 10).
narrative_ontology:constraint_claim(exploration_vs_exploitation, mountain).

% Base extractiveness score (0.3)
% Over-exploitation extracts the future potential of the system (stagnation). 
% Over-exploration extracts current resources without immediate return (waste).
domain_priors:base_extractiveness(exploration_vs_exploitation, 0.3).

% Suppression score (0.4)
% High exploitation suppresses the search for alternatives, making the 
% current "Match" appear more permanent than it is.
domain_priors:suppression_score(exploration_vs_exploitation, 0.4).

domain_priors:emerges_naturally(exploration_vs_exploitation).

% Metrics
narrative_ontology:constraint_metric(exploration_vs_exploitation, extractiveness, 0.3).
narrative_ontology:constraint_metric(exploration_vs_exploitation, suppression_requirement, 0.4).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE HUNGRY FORAGER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (low energy reserves)
   WHEN: immediate
   WHERE: trapped (in a resource-scarce environment)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For an agent near the "starvation point," the dilemma is a "Noose." 
   They cannot afford to explore (risk of zero reward), but exploiting 
   their current, dwindling resource is a slow death. The lack of 
   "slack" in the system strangles their ability to move.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    exploration_vs_exploitation,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE VENTURE CAPITALIST - Rope
   --------------------------------------------------------------------------
   WHO: individual_powerful (high resource 'slack')
   WHEN: biographical
   WHERE: arbitrage (can invest in multiple 'explorations' simultaneously)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For an agent with abundant resources, the dilemma is a "Rope." 
   They use a portfolio approach to coordinate exploration across many 
   frontiers, knowing that one "Global Optimum" breakthrough will 
   compensate for all failed explorations.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    exploration_vs_exploitation,
    rope,
    context(agent_power(individual_powerful), time_horizon(biographical), exit_options(arbitrage), spatial_scope(global))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EVOLUTIONARY PROCESS - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: civilizational
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the observer, this trade-off is a "Mountain"—an immutable feature 
   of the universe's information structure. No agent can ever have 
   perfect knowledge without paying the cost of exploration.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    exploration_vs_exploitation,
    mountain,
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))
) :- !.

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: factional_instability
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Federalist Paper No. 10 (James Madison)
% ============================================================================

:- module(constraint_factional_instability, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: factional_instability
 * human_readable: The Violence of Faction
 * domain: political/economic
 * temporal_scope: 1787-1788 (Constitutional Ratification)
 * spatial_scope: National (United States)
 * * SUMMARY:
 * Madison identifies "faction" as a group of citizens, whether a majority or 
 * minority, united by a common passion or interest adverse to the rights of 
 * [cite_start]other citizens or the permanent interests of the community[cite: 1]. 
 * The constraint is the inherent tendency of popular governments to be 
 * unstable and unjust due to these conflicting interests, particularly 
 * [cite_start]those arising from the unequal distribution of property[cite: 1].
 * * KEY AGENTS:
 * - The Enlightened Statesman: The institutional ideal capable of adjusting 
 * [cite_start]clashing interests, though not always available[cite: 1].
 * - [cite_start]The Creditor Class: A faction seeking to protect property rights[cite: 1].
 * - The Debtor Class: A faction often seeking "wicked projects" like paper 
 * [cite_start]money or abolition of debts[cite: 1].
 * - The Majority Faction: The most dangerous agent in a democracy, capable 
 * [cite_start]of sacrificing the public good to its ruling passion[cite: 1].
 * * NARRATIVE ARC:
 * The text moves from the "mortal disease" of factional strife toward a 
 * [cite_start]technological solution: the "Republican remedy"[cite: 1]. It argues that 
 * since the causes of faction (liberty and human nature) cannot be removed 
 * without destroying liberty, the effects must be controlled through a 
 * [cite_start]large-scale representative republic[cite: 1].
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(federalist_10_analysis, 0, 10).
narrative_ontology:constraint_claim(factional_instability, noose).

% Base extractiveness score: High
% Rationale: Factions inherently seek to extract value or rights from others 
[cite_start]% to serve their own "ruling passion"[cite: 1].
domain_priors:base_extractiveness(factional_instability, 0.7).

% Suppression score: Moderate
% Rationale: Madison argues that suppressing the *causes* of faction is 
% impossible without destroying liberty, but the *effects* can be diluted 
[cite_start]% by the system[cite: 1].
domain_priors:suppression_score(factional_instability, 0.5).

% Enforcement requirements: Emerges naturally from human nature
domain_priors:emerges_naturally(factional_instability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(factional_instability, extractiveness, 0.7).
narrative_ontology:constraint_metric(factional_instability, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(factional_instability, majority_coalitions).
constraint_victim(factional_instability, minority_rights).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MINORITY (Property Owner) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - In a pure democracy, a minority has no 
   [cite_start]structural defense[cite: 1].
   WHEN: immediate - The threat of debt relief or redistribution is 
   [cite_start]ever-present[cite: 1].
   WHERE: trapped - Within a small democracy, there is no physical or 
   [cite_start]conceptual exit from majority rule[cite: 1].
   [cite_start]SCOPE: local - Small societies where a common passion is easily felt[cite: 1].
   
   WHY THIS CLASSIFICATION:
   For the minority owner, faction is a "Noose" because a majority can 
   [cite_start]legally use the mechanism of government to extract his property[cite: 1]. 
   It is asymmetric and coercive.
   
   NARRATIVE EVIDENCE:
   "A rage for paper money, for an abolition of debts, for an equal 
   [cite_start]division of property"[cite: 1].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    factional_instability,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(factional_instability, majority_faction),
        constraint_victim(factional_instability, property_owners),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(factional_instability, E),
    E > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE FOUNDING ARCHITECT (Madison) - Rope
   --------------------------------------------------------------------------
   
   [cite_start]WHO: institutional - Designing the "structure of the government"[cite: 1].
   [cite_start]WHEN: historical - Building a system to last for generations[cite: 1].
   WHERE: arbitrage - Using the "extent of the Union" to play factions 
   [cite_start]against each other[cite: 1].
   [cite_start]SCOPE: national - The "large over the small republic"[cite: 1].
   
   WHY THIS CLASSIFICATION:
   Madison views the *control* of faction as a "Rope"—a functional 
   mechanism of representative government that coordinates diverse 
   [cite_start]interests to achieve the public good[cite: 1].
   
   NARRATIVE EVIDENCE:
   "The latent causes of faction are thus sown in the nature of man... 
   The regulation of these various and interfering interests forms the 
   [cite_start]principal task of modern legislation"[cite: 1].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    factional_instability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(factional_instability, public_good),
        constraint_victim(factional_instability, []),
        spatial_scope(national)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: HUMAN NATURE - Mountain
   --------------------------------------------------------------------------
   
   [cite_start]WHO: analytical - Observing the "nature of man"[cite: 1].
   [cite_start]WHEN: civilizational - A permanent feature of human society[cite: 1].
   [cite_start]WHERE: trapped - "As long as the reason of man continues fallible"[cite: 1].
   [cite_start]SCOPE: global - Applicable to all societies with liberty[cite: 1].
   
   WHY THIS CLASSIFICATION:
   From an analytical perspective, the *existence* of faction is a 
   "Mountain." It is an unchangeable law of nature that cannot be removed 
   [cite_start]without destroying the liberty that is essential to political life[cite: 1].
   
   NARRATIVE EVIDENCE:
   "Liberty is to faction, what air is to fire... But it could not be a 
   [cite_start]less folly to abolish liberty"[cite: 1].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    factional_instability,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        constraint_beneficiary(factional_instability, []),
        constraint_victim(factional_instability, []),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(factional_instability, S),
    S < 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(factional_instability_tests).

test(multi_perspective_variance) :-
    % Test that Madison (Institutional) and Minority (Powerless) see different types
    constraint_indexing:constraint_classification(factional_instability, rope, context(agent_power(institutional), _, _, _, _, _)),
    constraint_indexing:constraint_classification(factional_instability, noose, context(agent_power(individual_powerless), _, _, _, _, _)).

test(extraction_experience) :-
    % Minority experiences high extraction (Noose)
    constraint_indexing:extractiveness_for_agent(factional_instability, context(individual_powerless, _, trapped, _, _, _), Score),
    Score > 0.5.

test(immutability_of_liberty) :-
    % The source of faction is as unchangeable as air (Mountain)
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(factional_instability_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.7): Madison explicitly defines factions as 
 * [cite_start]adverse to the rights of others[cite: 1]. The "debtor/creditor" example 
 * [cite_start]highlights a zero-sum extractive struggle[cite: 1].
 * * 2. PERSPECTIVE SELECTION: Analyzed the Minority (Noose) vs. the Legislator 
 * (Rope) to demonstrate the core tension of the Federalist project. Added 
 * the Analytical (Mountain) view to ground the argument in Madison's 
 * [cite_start]"human nature" premise[cite: 1].
 * * 3. CLASSIFICATION RATIONALE:
 * - Minority -> Noose: They are the specific targets of factional 
 * [cite_start]extraction in small democracies[cite: 1].
 * - Madison -> Rope: He treats faction as a manageable energy that 
 * [cite_start]can be coordinated through constitutional "filtration"[cite: 1].
 * - [cite_start]Human Nature -> Mountain: Madison admits the causes cannot be removed[cite: 1].
 * * 4. OMEGAS:
 * omega_variable(statesman_availability,
 *	"Can 'enlightened statesmen' be relied upon to adjust interests?",
 *	resolution_mechanism("Historical track record of legislative impartiality"),
 *	impact("If yes: Rope is stable. If no: System reverts to Noose."),
 *	confidence_without_resolution(low)
 *	).
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Removing the Causes (Uniformity of Passion)
 * [cite_start]Viability: Theoretically possible through totalitarianism[cite: 1].
 * [cite_start]Suppression: Madison rejects this because it is "worse than the disease"[cite: 1].
 * * ALTERNATIVE 2: Pure Democracy
 * [cite_start]Viability: Possible in small scales[cite: 1].
 * Suppression: Rejected due to the inability to control the effects 
 * [cite_start]of majority faction[cite: 1].
 * * CONCLUSION:
 * Madison's rejection of these alternatives as either "impossible" or 
 * "undesirable" reinforces his view of the Large Republic as the only 
 * [cite_start]viable "Rope"[cite: 1].
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [constraints/factional_instability].
% Report: ?- constraint_indexing:multi_index_report(factional_instability).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: faint_blue_neural_bifurcation
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: faint_blue.md (Personal Journals of Yuki and Ken, 2181-2182)
% ============================================================================

:- module(constraint_faint_blue, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: faint_blue_neural_bifurcation
 * human_readable: The "Ken" Neural Enhancement Bifurcation
 * domain: technological/social
 * temporal_scope: 2181-2182
 * spatial_scope: Private Residence / Experimental Lab
 * * SUMMARY:
 * This constraint represents the "neural remodeling" caused by a secret, 
 * unlisted phenethylamine derivative. It enforces a personality bifurcation, 
 * replacing a "hesitant" and emotional persona with an efficient, certain, 
 * and "productive" persona named Ken.
 * * KEY AGENTS:
 * - Yuki (Observer): Individual powerless; watches her partner be replaced by 
 * an optimized variant.
 * - Ken (The Enhanced Persona): Institutional/Powerful; the cognitive 
 * "override" that values productivity over intimacy.
 * - The Original Self (Pre-2181): Victim; the persona extracted to fuel 
 * the new cognitive state.
 * * NARRATIVE ARC:
 * What Ken initially perceives as a Rope (a functional coordination tool for 
 * productivity) becomes an unyielding Mountain of "irreversible" remodeling. 
 * For Yuki, the substance functions as a Noose, extracting the man she knew 
 * until only a "glow" remains.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(faint_blue_remodeling_event, 0, 10).
narrative_ontology:constraint_claim(faint_blue_neural_bifurcation, noose).

% Base extractiveness (0.0 - 1.0)
% Rationale: 0.9. The substance "extracts" the original personality, neural 
% stability, and eventually life itself to maintain the "productive" state.
domain_priors:base_extractiveness(faint_blue_neural_bifurcation, 0.9).

% Suppression score (0.0 - 1.0)
% Rationale: 0.8. The enhancement actively suppresses the "old" personality's 
% hesitation, emotional depth, and capacity for doubt.
domain_priors:suppression_score(faint_blue_neural_bifurcation, 0.8).

% Enforcement requirements
% Requires active enforcement (Internal chemical enforcement and neural 
% synaptic remodeling).
domain_priors:requires_active_enforcement(faint_blue_neural_bifurcation).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(faint_blue_neural_bifurcation, extractiveness, 0.9).
narrative_ontology:constraint_metric(faint_blue_neural_bifurcation, suppression_requirement, 0.8).

% Beneficiaries and Victims
constraint_beneficiary(faint_blue_neural_bifurcation, lab_productivity_metrics).
constraint_victim(faint_blue_neural_bifurcation, original_ken_personality).
constraint_victim(faint_blue_neural_bifurcation, yuki_intimacy).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: YUKI (THE PARTNER) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - She cannot stop the remodeling or reach her partner.
   WHEN: immediate - Observing the day-to-day loss of the man she knew.
   WHERE: trapped - Bound by the shared space of the apartment and the locked study.
   SCOPE: local - Her personal relationship and shared domestic life.
   
   WHY THIS CLASSIFICATION:
   To Yuki, the change is a Mountain. It is an unchangeable feature of the 
   landscape. No matter what she asks or how she stands at the door, the 
   "Contrast Adjustment" of Ken's personality remains fixed.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    faint_blue_neural_bifurcation,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(faint_blue_neural_bifurcation, S),
    S > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: ENHANCED KEN (THE SCIENTIST) - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_powerful - Gains professional "Contrast Adjustment" and power.
   WHEN: biographical - Planning his team, his budget, and his career ascent.
   WHERE: mobile - Moves through the world with "certainty" and "lighter" speed.
   SCOPE: regional - Focused on the lab and the broader scientific community.
   
   WHY THIS CLASSIFICATION:
   For the enhanced persona, the blue substance is a Rope. It is a functional 
   coordination mechanism that aligns his brain with his professional goals. 
   He views the extraction of his old self as a necessary "productivity" 
   coordination.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    faint_blue_neural_bifurcation,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(faint_blue_neural_bifurcation, E),
    E > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: POST-HOC MEDICAL REPORT - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Doctors observing the "irreversible" neural collapse.
   WHEN: historical - Evaluating the timeline of the "attempted manual override."
   WHERE: analytical - Observing the patient in an induced coma.
   SCOPE: global - Categorizing an "unknown impurity" for database matching.
   
   WHY THIS CLASSIFICATION:
   From an analytical view, the substance is a Noose. It extracted 
   cognitive function until the subject reached a point of " neural 
   slumping" and eventual collapse. The "manual override" failed to 
   unloosen the extraction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    faint_blue_neural_bifurcation,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(faint_blue_neural_bifurcation, E),
    E > 0.8,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(faint_blue_tests).

test(personality_extraction_delta) :-
    % Verify that powerless subjects experience higher extractiveness
    constraint_indexing:extractiveness_for_agent(faint_blue_neural_bifurcation, context(individual_powerless, immediate, trapped, local), S1),
    constraint_indexing:extractiveness_for_agent(faint_blue_neural_bifurcation, context(individual_powerful, biographical, mobile, regional), S2),
    S1 > S2.

test(irreversibility_check) :-
    % Analytical historical view should recognize Noose/Mountain over Rope
    constraint_indexing:constraint_classification(faint_blue_neural_bifurcation, Type, context(analytical, historical, analytical, global)),
    (Type = noose ; Type = mountain).

:- end_tests(faint_blue_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.9): I rated this extremely high because the 
 * constraint literally eats the subject's personality to fuel work.
 * 2. CLASSIFICATION: I primary-labeled this a 'Noose' because the 
 * "alternatives" (returning to the old self) were actively suppressed by 
 * the synaptic remodeling until it became a terminal physical limit.
 * 3. PERSPECTIVE: The "Enhanced Ken" is a classic institutional agent 
 * who values the Rope (efficiency) over the humanity of the subject.
 */



omega_variable(
    manual_override_nature,
    "What was the manual override attempt: further chemistry, or a psychological rebellion?",
    resolution_mechanism("Neural scan analysis of the pre-frontal cortex for conflicting signals"),
    impact("If Chemistry: The constraint is a pure Noose. If Psychological: 
            The original Ken attempted to regain 'Mountain' status."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Standard Psychological Integration
 * Viability: Ken could have sought budget and team growth through 
 * traditional leadership training.
 * Suppression: Suppressed by Ken's internal "hesitation" and the 
 * allure of the "blue glow" shortcut.
 * * CONCLUSION:
 * The existence of safer paths that were rejected in favor of a 
 * "high-contrast" pharmaceutical shortcut confirms the Noose classification.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [faint_blue_neural_bifurcation].
% 2. Analyze: ?- multi_index_report(faint_blue_neural_bifurcation).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: fair_use_doctrine
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: U.S. Copyright Act, 17 U.S.C. § 107
% ============================================================================

:- module(constraint_fair_use, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: fair_use_doctrine
 * human_readable: Fair Use (The Expression Safety Valve)
 * domain: social/legal/technological
 * temporal_scope: Biographical to Historical
 * spatial_scope: National (USA-specific, though Berne-aligned)
 * * SUMMARY:
 * Fair Use is a legal doctrine that promotes freedom of expression by 
 * permitting the unlicensed use of copyright-protected works in certain 
 * circumstances, such as criticism, comment, news reporting, teaching, 
 * scholarship, and research.
 * * KEY AGENTS:
 * - The Remixer/Scholar: Uses existing work to create new meaning.
 * - The Copyright Holder: Attempts to define the limits of "transformative" use.
 * - The Judge: Balances the four statutory factors to determine legality.
 * * NARRATIVE ARC:
 * Fair Use functions as the "Escape Hatch" from the Copyright Noose. 
 * It ensures that the "Mountain" of intellectual property does not 
 * become an impassable wall for new creativity. However, its 
 * case-by-case nature makes it a "Foggy Path"—legally risky to navigate.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(fair_use_doctrine, 0, 10).
narrative_ontology:constraint_claim(fair_use_doctrine, rope).

% Base extractiveness: Low (0.1).
% It is designed to *prevent* extraction by allowing free use for 
% socially beneficial purposes.
domain_priors:base_extractiveness(fair_use_doctrine, 0.1).

% Suppression: Moderate (0.4).
% While the law exists, the fear of litigation (chilling effect) 
% often suppresses its actual exercise.
domain_priors:suppression_score(fair_use_doctrine, 0.4).

% Enforcement: Requires active enforcement (Affirmative defense in court).
domain_priors:requires_active_enforcement(fair_use_doctrine).

% Beneficiaries: Documentarians, Educators, Parodists, AI Developers.
constraint_beneficiary(fair_use_doctrine, secondary_creators).

% Victims: Copyright Trolls (who seek to extract fees for every use).
constraint_victim(fair_use_doctrine, copyright_maximalists).

% Metrics
narrative_ontology:constraint_metric(fair_use_doctrine, extractiveness, 0.1).
narrative_ontology:constraint_metric(fair_use_doctrine, suppression_requirement, 0.4).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PARODIST - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile (can pivot between works)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For a creator like a YouTuber or satirist, Fair Use is a "Rope." 
   It provides the structural support needed to climb over the 
   barriers of copyright. It allows them to use the "Expression" 
   of others to coordinate their own creative message.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fair_use_doctrine,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(fair_use_doctrine, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE UNASSISTED CREATOR - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped (cannot afford legal counsel)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For a small creator facing a "Cease and Desist" from a major studio, 
   Fair Use is a "Noose." Because it is an *affirmative defense* (meaning you have to be sued first to prove you are right), 
   the legal cost of exercising this right is a bottleneck that 
   strangles their work.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fair_use_doctrine,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:requires_active_enforcement(fair_use_doctrine),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SUPREME COURT - Mountain
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: historical
   WHERE: analytical
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   The court sees Fair Use as a "Mountain"—a permanent, foundational 
   feature of the First Amendment landscape. It is the "built-in 
   accommodation" that allows the Copyright Act to coexist with 
   Free Speech.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fair_use_doctrine,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(national)
    )
) :-
    true.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(fair_use_tests).

test(defense_cost_noose) :-
    % Powerless agents see a Noose due to enforcement costs.
    constraint_indexing:constraint_classification(fair_use_doctrine, noose, context(individual_powerless, _, _, _)).

test(free_speech_mountain) :-
    % Institutional/Analytical view sees the Mountain of legal doctrine.
    constraint_indexing:constraint_classification(fair_use_doctrine, mountain, context(institutional, _, _, _)).

:- end_tests(fair_use_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Fair Use is technically an "Exit Option" for Copyright, but I 
 * profiled it as a standalone constraint because it has its own 
 * rules of access. The "Noose" classification highlights the 
 * "Fair Use Paradox": it is a right that many are too poor to use.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    automated_adjudication,
    "Will platforms implement AI judges that can accurately determine Fair Use in real-time?",
    resolution_mechanism("Performance audit of DMCA takedown automation vs. court reversals"),
    impact("If Yes: The Noose loosens (instant defense). If No: Algorithmic suppression remains the status quo."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: family_succession_and_decadence (kazoku_keishoku)
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Jun'ichirō Tanizaki, "Atsumono" (The Hot Soup)
% ============================================================================

:- module(constraint_atsumono, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: family_succession_system
 * human_readable: Meiji-Taisho Family Succession and the "Ie" System
 * domain: social/familial/ethical
 * temporal_scope: Late Meiji - Early Taisho Era (c. 1910s)
 * spatial_scope: Japan (Tokyo, Odawara, Numazu)
 * * SUMMARY:
 * The pure love between the protagonist, Tachibana Sōichi, and Miyoko 
 * collides with the rigid "Ie" (House) system of the era. The requirement 
 * for a "muko-yōshi" (adopted son-in-law) to maintain Miyoko's family 
 * lineage functions as an immutable force (Mountain) that nullifies 
 * individual emotion, driving the youth toward a self-destructive 
 * cycle of decadence (Noose) as a failed exit strategy.
 * * KEY AGENTS:
 * - Tachibana Sōichi: A powerless individual (individual_powerless). Idealistic but lacks systemic leverage.
 * - Miyoko: A powerless individual and the direct object of the succession constraint.
 * - Sōichi's Mother (O-shina): A guardian of the system (institutional). Enforces the "reason" of the House.
 * - Yamaguchi: A guide to decadence. Offers vice as a false exit from the systemic trap.
 * * NARRATIVE ARC:
 * The constraint initially appears as a "Rope" (necessary social order) to the parents 
 * but reveals itself as a "Mountain" to the lovers. Its enforcement leads to a 
 * psychological "scald," causing the protagonist to retreat into a "Noose" of 
 * nihilistic dissipation in the red-light districts.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(atsumono_period, 0, 10).
narrative_ontology:constraint_claim(family_succession_system, mountain).

% Base extractiveness score: 0.8
% Rationale: The family system extracts the total future and happiness of individuals 
% to ensure the abstract continuity of the "House" lineage.
domain_priors:base_extractiveness(family_succession_system, 0.8).

% Suppression score: 0.9
% Rationale: Alternatives like elopement or "love matches" result in social/economic 
% death (excommunication from the family), making them effectively invisible or impossible.
domain_priors:suppression_score(family_succession_system, 0.9).

% Enforcement requirements: Active enforcement by the matriarch/patriarch is required.
domain_priors:requires_active_enforcement(family_succession_system).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(family_succession_system, extractiveness, 0.8).
narrative_ontology:constraint_metric(family_succession_system, suppression_requirement, 0.9).

% Beneficiaries and Victims
constraint_beneficiary(family_succession_system, ie_lineage). % The abstract House lineage
constraint_victim(family_succession_system, [tachibana_soichi, miyoko, sasaki]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Sōichi and Miyoko - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: individual_powerless (Young lovers with no financial independence)
   WHEN: biographical (This decides their entire lives)
   WHERE: trapped (No social path for a middle-class "love marriage" exists)
   SCOPE: national (The law and custom are uniform across Japan)
   
   WHY THIS CLASSIFICATION:
   For the youth, the "Ie" system is as unchangeable as a mountain. They cannot
   negotiate with the requirement for an heir; they can only collide with it and break.
   
   NARRATIVE EVIDENCE:
   Sōichi admits he lacks the "courage" to defy the system, treating the 
   engagement of Miyoko to a muko-yōshi as an inevitable catastrophe.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    family_succession_system,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Mother (O-shina) - ROPE
   --------------------------------------------------------------------------
   WHO: institutional (Agent of the family's continuity)
   WHEN: generational (Thinking of the family's past and future)
   WHERE: arbitrage (Managing resources and reputation to survive)
   SCOPE: local (The household and its immediate social standing)
   
   WHY THIS CLASSIFICATION:
   To the mother, the system is a functional tool (Rope) to ensure stability 
   and prevent "shame." It is the "reason" (dōri) that guides the family safely.
   
   NARRATIVE EVIDENCE:
   O-shina speaks of the marriage as a matter of "reason" and "duty," viewing 
   the suppression of Sōichi's feelings as a necessary corrective measure.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    family_succession_system,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The Decadence Spiral (Yamaguchi's Vice) - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_moderate (Sōichi after inheriting some autonomy/money)
   WHEN: immediate (Seeking instant gratification/oblivion)
   WHERE: constrained (Trapped by psychological trauma and addiction)
   SCOPE: local (The red-light districts)
   
   WHY THIS CLASSIFICATION:
   The "freedom" offered by the red-light district is a false exit. It extracts 
   Sōichi's health and vitality, tightening like a noose as he tries to 
   numb the "scald" of his failed love.
   
   NARRATIVE EVIDENCE:
   Sōichi's transition from an earnest student to a man who "knows the bad 
   ways," finding a cold pleasure in self-destruction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    decadence_spiral,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(atsumono_tests).

test(perspectival_gap_analysis) :-
    % Demonstrate that the same system is a Mountain to the son but a Rope to the mother
    constraint_indexing:constraint_classification(family_succession_system, mountain, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(family_succession_system, rope, context(agent_power(institutional), _, _, _)).

test(extraction_threshold) :-
    % Verify the system is identified as highly extractive
    domain_priors:base_extractiveness(family_succession_system, E),
    E >= 0.8.

test(time_horizon_immutability) :-
    % In the biographical horizon for a powerless agent, it must be a mountain
    constraint_indexing:constraint_classification(family_succession_system, mountain, context(_, biographical, trapped, _)).

:- end_tests(atsumono_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.8): The "Ie" system prioritizes the abstract 
 * concept of the "House" over actual human lives. Sōichi's father's 
 * history of "reforming" from a playboy to a merchant shows how the 
 * Rope of the system successfully tames individual Will.
 * * 2. THE METAPHOR (Atsumono): The title refers to the proverb "He who is 
 * scalded by hot soup (atsumono) blows on cold sashimi." The system's 
 * initial rejection is the "scald" that makes Sōichi fear all passion.
 * * 3. PERSPECTIVES: I highlighted the Institutional (Mother) vs. 
 * Powerless (Sōichi) gap to show how "reason" to one is "fate" to the other.
 * * 4. AMBIGUITIES: The true feelings of Miyoko are never fully revealed, 
 * creating an Omega regarding whether she was a silent victim or a 
 * compliant agent of her own house.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    miyoko_true_will,
    "To what extent did Miyoko actually possess the will to resist her parents' decision?",
    resolution_mechanism("Analysis of her letters vs. Yamaguchi's theory of 'woman's dual nature'"),
    impact("If she was a willing participant, the constraint shifts from Mountain to Rope for her."),
    confidence_without_resolution(medium)
).

omega_variable(
    parental_collusion,
    "Did Sōichi's father and mother agree from the start to sacrifice Sōichi's happiness?",
    resolution_mechanism("Investigation of the private correspondence between Sōichi's mother and Miyoko's mother"),
    impact("Determines if the constraint was a planned extraction (Noose) or a natural social friction (Mountain)."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Elopement (Kakeochi)
 * Viability: Very low. Marriage without parental consent for those under 30 
 * was legally and socially ruinous in the Meiji Civil Code.
 * Suppression: Sōichi rejects it due to lack of "courage" and financial means.
 * * ALTERNATIVE 2: Academic Sublimation
 * Viability: Moderate. Like his friends Nakajima or Shimizu, Sōichi could 
 * have buried his grief in careerism/success.
 * Suppression: Sōichi finds academic success "meaningless" without Miyoko, 
 * showing the psychological failure of this alternative.
 * * CONCLUSION:
 * The active suppression of elopement and the emotional failure of sublimation 
 * solidify the succession system as a NOOSE/MOUNTAIN hybrid for the protagonist.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_atsumono].
 * 2. Multi-perspective: ?- constraint_indexing:multi_index_report(family_succession_system).
 * 3. Run tests: ?- run_tests(atsumono_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */



% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(family_succession_and_decadence, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(family_succession_and_decadence, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(family_succession_and_decadence, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: fast_growing_hierarchy
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Mathematical Logic / Computability Theory / Subrecursive Hierarchies
% ============================================================================

:- module(constraint_fast_growing_hierarchy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: fast_growing_hierarchy
 * human_readable: The Fast-Growing Hierarchy (FGH)
 * domain: technological
 * temporal_scope: Permanent (Universal Mathematical Law)
 * spatial_scope: Global (Formal Information Systems)
 * * SUMMARY:
 * The Fast-Growing Hierarchy is a family of functions indexed by ordinals that 
 * classifies the growth rate of computable functions. It defines a hard 
 * boundary for what can be computed within specific axiomatic systems; for 
 * example, Peano Arithmetic cannot "see" the termination of functions 
 * growing at the rate of f_epsilon_0.
 * * KEY AGENTS:
 * - The Proof Theorist: Uses FGH as a yardstick (Rope) to measure the strength of 
 * mathematical systems and justify transfinite methods.
 * - The Computer Scientist: Faces the "wall" of recursion (Noose/Mountain) where 
 * algorithms that are technically "computable" are physically impossible 
 * due to the scale of time and memory required.
 * - The Analytical Observer: Views the hierarchy as an objective geometric 
 * landscape of complexity.
 * * NARRATIVE ARC:
 * FGH begins as a simple recursive tool (f_0(n) = n+1). As the index climbs, 
 * it quickly consumes all available physical resources (Noose). To the logician, 
 * it is a Mountain of necessity; to the system architect, it is a Rope 
 * for classifying upper bounds on complexity.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor for extraction
narrative_ontology:interval(fast_growing_hierarchy, 0, 10).
narrative_ontology:constraint_claim(fast_growing_hierarchy, mountain).

% Base extractiveness: 0.6 (Moderate-High)
% Rationale: FGH extracts "realizability" and "physical possibility." It 
% renders vast swathes of mathematical truth "uncomputable" in any physical 
% universe, essentially stealing the utility of certain recursive definitions.
domain_priors:base_extractiveness(fast_growing_hierarchy, 0.6).

% Suppression: 0.4 (Moderate)
% Rationale: It suppresses "naive finitism." The existence of FGH forces 
% the admission that "computable" does not mean "attainable," suppressing 
% simpler, more intuitive models of computation.
domain_priors:suppression_score(fast_growing_hierarchy, 0.4).

% Enforcement: Emerges naturally from the axioms of induction and recursion.
domain_priors:emerges_naturally(fast_growing_hierarchy).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(fast_growing_hierarchy, extractiveness, 0.6).
narrative_ontology:constraint_metric(fast_growing_hierarchy, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
% Beneficiaries: Transfinite mathematicians who gain a framework for classifying truth.
constraint_beneficiary(fast_growing_hierarchy, transfinite_logicians).
% Victims: Brute-force algorithm designers and physical computers limited by entropy.
constraint_victim(fast_growing_hierarchy, [brute_force_solvers, physical_hardware]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE LOGICAL ANALYST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal informational laws.
   WHEN: civilizational - Viewing logic as a permanent substrate.
   WHERE: trapped - Logic cannot bypass the recursive definitions of ordinals.
   SCOPE: global - Universal applicability.
   
   WHY THIS CLASSIFICATION:
   To the analyst, FGH is a Mountain. It is an unchangeable consequence of 
   recursive depth. No amount of "better hardware" changes the fact that 
   f_3(n) is exponentially larger than f_2(n). It is a fixed peak in the 
   landscape of complexity theory.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fast_growing_hierarchy,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PROOF THEORIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define and utilize formal rules for proofs.
   WHEN: biographical - Achieving results within a single career.
   WHERE: arbitrage - Can move between different systems (PA, ZFC, etc.) 
          using FGH to benchmark them.
   SCOPE: national - Industrial/Academic application.
   
   WHY THIS CLASSIFICATION:
   For the proof theorist, FGH is a Rope. It is a coordination mechanism for 
   understanding axiomatic strength. By assigning an ordinal to a theory, 
   they "pull" truths out of systems that were otherwise opaque. It 
   transforms a "Noose" of complexity into a "Rope" of classification.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fast_growing_hierarchy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(fast_growing_hierarchy, E),
    E < 0.7, % It's a tool if it's manageable
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PROGRAMMER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the limits of compute and time.
   WHEN: immediate - The current task of solving a recursive function.
   WHERE: constrained - Limited by a fixed compute budget.
   SCOPE: local - Immediate workspace.
   
   WHY THIS CLASSIFICATION:
   For the developer accidentally implementing an Ackermann-level function 
   (f_omega), the hierarchy is a Noose. It strangles their resources instantly. 
   There is no "escape" within their current hardware; the complexity 
   tightens with every additional increment of 'n', leading to system 
   failure (the "ruin" of the process).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fast_growing_hierarchy,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(fast_growing_hierarchy, E),
    E > 0.5, % High extraction of resources
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(fast_growing_hierarchy_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain
    constraint_indexing:constraint_classification(fast_growing_hierarchy, mountain, context(analytical, civilizational, trapped, global)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(fast_growing_hierarchy, rope, context(institutional, biographical, arbitrage, national)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(fast_growing_hierarchy, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    % While the model reports a base score, the experienced extraction scales
    % because the powerless cannot arbitrage out of the compute trap.
    domain_priors:base_extractiveness(fast_growing_hierarchy, Score),
    Score > 0.5.

test(time_immutability_fgh) :-
    % Short horizon = Mountain/Noose (the wall is hit now)
    constraint_indexing:effective_immutability(immediate, constrained, mountain).

:- end_tests(fast_growing_hierarchy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.6):
 * Reasoning: FGH is the ultimate "resource extractor." It takes a 
 * theoretically "computable" process and makes it physically impossible, 
 * extracting time and memory at an astronomical rate.
 * * 2. PERSPECTIVE SELECTION:
 * Chose to highlight the difference between "Math as Law" (Mountain), 
 * "Math as Metric" (Rope), and "Math as Trap" (Noose).
 * * 3. CLASSIFICATION RATIONALE:
 * The "Noose" for programmers is particularly apt; one wrong recursive call 
 * and the "rope" of computation becomes a "noose" for the CPU.
 * * 4. CONFIDENCE:
 * High: Mathematical properties of FGH.
 * Medium: Exact extractiveness score (varies by ordinal index).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    physical_realizability_limit,
    "Does our specific physical universe impose a 'Hard Mountain' at a 
    specific FGH index (e.g., Bekenstein bound), or can information 
    persist to f_epsilon_0?",
    resolution_mechanism("Discovery of final laws of quantum gravity and information density"),
    impact("If Mountain: FGH is a Noose for all physical life. If Rope: Space-time 
    can be manipulated to compute transfinite values."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * Does this constraint have alternatives that were suppressed?
 * * ALTERNATIVE 1: Non-standard Models of Arithmetic
 * Viability: Allows for "infinite" integers that might bypass FGH limits.
 * Suppression: High. Standard mathematics favors the "Standard Model" for 
 * intuitive consistency, suppressing non-standard models as "curiosities."
 * * CONCLUSION:
 * The dominance of standard PA/ZFC makes FGH a Noose for those who cannot 
 * access the "Rope" of non-standard models.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * * 1. Load: ?- [constraint_fast_growing_hierarchy].
 * 2. Multi-perspective: ?- multi_index_report(fast_growing_hierarchy).
 * 3. Run tests: ?- run_tests(fast_growing_hierarchy_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: feigenbaum_universality
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Mitchell Feigenbaum (1975) / Universality in Chaos Theory
% ============================================================================

:- module(constraint_feigenbaum, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: feigenbaum_universality
 * human_readable: Feigenbaum Constants (Scaling of Chaos)
 * domain: mathematical/technological/physical
 * temporal_scope: 1975 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Unimodal Maps / Dissipative Systems)
 * * SUMMARY:
 * Feigenbaum discovery reveals that the transition from order to chaos via 
 * period-doubling follows universal scaling constants ($\delta \approx 4.669$). 
 * This functions as a "law of laws," dictating that the geometry of failure 
 * is identical across disparate physical systems (fluids, circuits, biology).
 * * KEY AGENTS:
 * - The System Variable: The powerless agent following the iterative path.
 * - Mitchell Feigenbaum: The analytical observer who discovered the "Mountain."
 * - The Control Engineer: An institutional agent using the constant to 
 * predict the "point of no return" in complex hardware.
 * * NARRATIVE ARC:
 * Before 1975, the onset of chaos was seen as system-specific. Feigenbaum 
 * revealed a "Mountain" of universal scaling—a hidden geometric "Noose" 
 * that tightens at a predictable rate as a system approaches turbulence. 
 * For designers, it is a "Rope" for predictive maintenance, but for the 
 * system itself, the constant is an inescapable topological fate.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(feigenbaum_universality, 1975, 2026).
narrative_ontology:constraint_claim(feigenbaum_universality, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.3). The constant "extracts" the uniqueness of 
% specific systems, forcing all nonlinear transitions to obey the same 
% geometric ratio, thereby limiting design degrees of freedom.
domain_priors:base_extractiveness(feigenbaum_universality, 0.3).

% Suppression score (0.0-1.0)
% Rationale: Low (0.2). It suppressed the previous "system-dependent" 
% theories of chaos onset, replacing them with a more rigid universal truth.
domain_priors:suppression_score(feigenbaum_universality, 0.2).

% Enforcement: Emerges naturally from the topology of quadratic maps.
domain_priors:emerges_naturally(feigenbaum_universality).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(feigenbaum_universality, extractiveness, 0.3).
narrative_ontology:constraint_metric(feigenbaum_universality, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(feigenbaum_universality, predictive_maintenance). % Can predict chaos before it happens.
constraint_beneficiary(feigenbaum_universality, theoretical_physicists). % Discovery of hidden order.
constraint_victim(feigenbaum_universality, computational_precision). % Successive bifurcations happen 4.6x faster.
constraint_victim(feigenbaum_universality, design_flexibility). % You cannot "change" the rate of the transition.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NONLINEAR ITERATE - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The variable $x_n$ has no agency over the map.
   WHEN: immediate - True at every bifurcation point.
   WHERE: trapped - Bound within the unimodal geometry of the mapping.
   SCOPE: local - Immediate neighborhood of the period-doubling event.
   
   WHY THIS CLASSIFICATION:
   For the mathematical state, the scaling constant $\delta$ is an absolute 
   truth. The "Butterfly" cannot choose to bifurcate at a different ratio; 
   it is a fixed feature of the nonlinear landscape.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    feigenbaum_universality,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TURBINE ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design systems and set safety thresholds.
   WHEN: biographical - Planning the lifecycle of a high-performance system.
   WHERE: mobile - Can adjust parameters to stay away from the "Feigenbaum point."
   SCOPE: global - Applying the constant across all turbine designs.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the constant is a "Rope"—a tool for functional 
   coordination. By knowing that each bifurcation happens 4.669 times 
   closer than the last, they coordinate a standard of achievement for 
   stability by precisely mapping the safety margins.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    feigenbaum_universality,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PRECISION BOTTLENECK - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - A simulation algorithm limited by bit-depth.
   WHEN: immediate - The threshold where bifurcations occur faster than measurement.
   WHERE: constrained - Stuck in the "geometric squeeze" of the transition.
   SCOPE: local - A specific high-frequency regime.
   
   WHY THIS CLASSIFICATION:
   As the system approaches the limit point $r_\infty$, the constant acts 
   as a "Noose." It "strangles" computational accuracy, extracting all 
   available floating-point precision as the bifurcation intervals shrink 
   toward zero, forcing a total loss of predictability.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    feigenbaum_universality,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(feigenbaum_universality, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (Insights into Universal Scaling)
   ========================================================================== */

:- begin_tests(feigenbaum_universality_tests).

test(universal_scaling_variance) :-
    % Iterate (Subject) -> Mountain
    constraint_indexing:constraint_classification(feigenbaum_universality, Type1, context(individual_powerless, immediate, trapped, local)),
    % Engineer (User) -> Rope
    constraint_indexing:constraint_classification(feigenbaum_universality, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(computational_squeeze_penalty) :-
    % A powerless simulation (constrained) sees the geometric shrinkage as a Noose.
    constraint_indexing:constraint_classification(feigenbaum_universality, noose, context(individual_powerless, immediate, constrained, local)).

test(extraction_is_constant) :-
    % The "cost" of the constant applies regardless of the specific math function used.
    domain_priors:base_extractiveness(feigenbaum_universality, Score),
    Score > 0.2.

:- end_tests(feigenbaum_universality_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. TYPE VARIANCE: I chose to highlight how the *same* constant is a 
 * "Mountain" for the math, a "Rope" for the designer (prediction), 
 * and a "Noose" for the simulator (precision loss).
 * 2. EXTRACTIVENESS (0.3): While fundamental, the constant "extracts" 
 * the possibility of a linear or slow transition to chaos, forcing 
 * a rapid, accelerating geometric collapse.
 * 3. OMEGAS: The central uncertainty is whether the "Mountain" of 
 * $\delta$ holds in non-dissipative or non-unimodal systems.
 */

% OMEGA IDENTIFICATION
omega_variable(
    renormalization_group_fidelity,
    "Is the Feigenbaum constant a 'Mountain' in systems with non-quadratic extrema?",
    resolution_mechanism("Numerical audit of bifurcation rates in $x_{n+1} = r(1-|2x-1|^z)$ maps."),
    impact("If Yes: The constant is universal. If No: It is a system-dependent Scaffold."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: System-Specific Transition Models
 * Viability: Historically believed that every fluid or circuit had its 
 * own transition math.
 * Suppression: Rejected by the "Mountain" of Feigenbaum's HP-65 results.
 * * ALTERNATIVE 2: Quasiperiodic Route to Chaos (Ruelle-Takens)
 * Viability: A different "Mountain" entirely.
 * Conclusion: The existence of other routes means the Feigenbaum 
 * "Rope" only works if the system is already period-doubling.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [feigenbaum_universality].
% Analyze: ?- constraint_indexing:multi_index_report(feigenbaum_universality).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: finite_simple_group_classification
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: The Classification of Finite Simple Groups (CFSG) / "The Enormous Theorem"
% ============================================================================

:- module(constraint_cfsg, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: finite_simple_group_classification
 * human_readable: Classification of Finite Simple Groups
 * domain: mathematical/theoretical
 * temporal_scope: 1955 - 2004 (Proof Era) / Present (Applied)
 * spatial_scope: Abstract (The universe of finite algebraic structures)
 * * SUMMARY:
 * The CFSG is a landmark theorem stating that every finite simple group belongs 
 * to one of 18 families of groups of Lie type, is one of the alternating groups, 
 * or is one of 26 "Sporadic" groups. Often called "The Enormous Theorem," its 
 * proof spans tens of thousands of pages across hundreds of journal articles.
 * * KEY AGENTS:
 * - The Finite Simple Group (Subject): The mathematical atom whose identity 
 * is strictly confined to a fixed periodic table of possibilities.
 * - The Mathematical Community (Institutional): The collective that manages 
 * the "Second Generation" proof and coordinates the use of the theorem.
 * - The Lone Researcher (Individual Powerless): An agent who must trust 
 * the validity of the proof without the lifespan necessary to verify it.
 * * NARRATIVE ARC:
 * The CFSG acts as a "Mountain" of structural reality; there are no simple 
 * groups outside the list. For the institution, it is a "Rope" that allows 
 * for "Classification-based proofs" where every finite group can be analyzed 
 * by checking the list. However, for the individual, its sheer complexity 
 * acts as a "Noose," extracting a "tax" of blind faith because the full 
 * proof is too large for any single human mind to fully encompass.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(cfsg_era, 1955, 2026).
narrative_ontology:constraint_claim(finite_simple_group_classification, mountain).

% Base extractiveness: 0.35
% Rationale: Moderate. While math is a gift, the CFSG "extracts" significant 
% cognitive labor. The "tax" is the requirement to accept an unverified (by the 
% individual) 10,000-page proof to proceed with modern algebra.
domain_priors:base_extractiveness(finite_simple_group_classification, 0.35).

% Suppression score: 0.2
% Rationale: It suppresses the visibility of "extra-classification" groups, 
% rendering the search for new finite simple groups functionally invisible.
domain_priors:suppression_score(finite_simple_group_classification, 0.2).

% Enforcement: Emerges from the fundamental axioms of group theory.
domain_priors:emerges_naturally(finite_simple_group_classification).

% Metrics
narrative_ontology:constraint_metric(finite_simple_group_classification, extractiveness, 0.35).
narrative_ontology:constraint_metric(finite_simple_group_classification, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS (Required for extractiveness > 0.3)
constraint_beneficiary(finite_simple_group_classification, group_theorists). % Power of induction over all groups.
constraint_beneficiary(finite_simple_group_classification, mathematical_physics). % Symmetry classification.
constraint_victim(finite_simple_group_classification, individual_verification). % The ability for a single person to verify the foundations.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE FINITE SIMPLE GROUP - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The group cannot "choose" to be outside the list.
   WHEN: immediate - True for any finite simple group in any context.
   WHERE: trapped - Bound within the logical "Periodic Table" of groups.
   SCOPE: global - Applies to all finite algebraic structures.
   
   WHY THIS CLASSIFICATION:
   For the group itself, the classification is a natural law. If it is simple 
   and finite, it is either a Lie-type group, an alternating group, or a 
   Sporadic group. There are zero degrees of freedom.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    finite_simple_group_classification,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MATHEMATICAL ESTABLISHMENT - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to maintain the "Gorenstein-Lyons-Solomon" proof.
   WHEN: civilizational - Long-term coordination of human knowledge.
   WHERE: mobile - Can refine the proof, simplify lemmas, or bridge gaps.
   SCOPE: global - Worldwide standard for algebraic achievement.
   
   WHY THIS CLASSIFICATION:
   For the institutional community, the theorem is a "Rope"—a functional 
   coordination tool. It allows mathematicians to coordinate "Global Induction" 
   on all finite groups by checking a finite, albeit long, list of cases.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    finite_simple_group_classification,
    rope,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE STUDENT / OUTSIDER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Lacks the status or time to verify the 10,000 pages.
   WHEN: biographical - Attempting to understand the foundations over a career.
   WHERE: constrained - No alternative but to trust the consensus of the "ancients."
   SCOPE: local - A specific research path or doctoral thesis.
   
   WHY THIS CLASSIFICATION:
   To the individual, the CFSG is a "Noose." It is a massive, unverified 
   barrier that "strangles" the ideal of mathematical self-sufficiency. It 
   extracts "Trust" where there should be "Proof," creating an asymmetric 
   power dynamic between the "Enormous Theorem" and the individual mind.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    finite_simple_group_classification,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(finite_simple_group_classification, E),
    E >= 0.3,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(finite_simple_group_classification_tests).

test(structural_fate_variance) :-
    % Group Structure -> Mountain
    constraint_indexing:constraint_classification(finite_simple_group_classification, Type1, context(individual_powerless, immediate, trapped, global)),
    % Community -> Rope
    constraint_indexing:constraint_classification(finite_simple_group_classification, Type2, context(institutional, civilizational, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(verification_barrier_noose) :-
    % A powerless individual in a biographical search for truth sees it as a Noose.
    constraint_indexing:constraint_classification(finite_simple_group_classification, noose, context(individual_powerless, biographical, constrained, local)).

test(beneficiary_victim_parity) :-
    constraint_beneficiary(finite_simple_group_classification, Beneficiary),
    constraint_victim(finite_simple_group_classification, Victim),
    Beneficiary \= Victim.

:- end_tests(finite_simple_group_classification_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.35): I chose to highlight the "epistemic extraction." 
 * Because the proof is too long to be verified by one person, it extracts 
 * the traditional mathematical right of "personal proof" in exchange for 
 * "institutional trust."
 * 2. PERSPECTIVE GAP: The "Enormous Theorem" is the best example of how 
 * complexity turns a Mountain into a Noose. If a truth is "Natural" (Mountain) 
 * but requires 10,000 pages to see, it effectively coerces the observer.
 * 3. OMEGAS: The central uncertainty is the "Gaps" in the first-generation 
 * proof (e.g., the Quasi-thin groups) which were only resolved decades later.
 */

% OMEGA IDENTIFICATION
omega_variable(
    proof_verification_completeness,
    "Is the 'Second Generation' proof actually complete and error-free?",
    resolution_mechanism("Verification of the final Gorenstein-Lyons-Solomon volumes (estimated 2025-2030)."),
    impact("If Gaps remain: The Mountain is actually a Scaffold. If Complete: It is a true Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Constructive discovery of "new" simple groups.
 * Viability: Mathematically impossible if the theorem holds.
 * Suppression: CFSG renders this path "invisible" to serious researchers.
 * * ALTERNATIVE 2: Automated Theorem Proving (Lean/Coq)
 * Viability: Currently too complex to formalize 10,000 pages, but a 
 * potential "Rope" for future generations.
 * * CONCLUSION:
 * The institutional "Rope" of the CFSG is so strong that it has completely 
 * suppressed Alternative 1, turning the theorem into an unassailable Mountain.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [finite_simple_group_classification].
% Analyze: ?- constraint_indexing:multi_index_report(finite_simple_group_classification).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(finite_simple_groups_classification, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(finite_simple_groups_classification, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(finite_simple_groups_classification, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: fittss_law
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Paul Fitts (1954) / Human-Computer Interaction (HCI)
% ============================================================================

:- module(constraint_fittss_law, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: fittss_law
 * human_readable: Fitts’s Law (Speed-Accuracy Tradeoff)
 * domain: technological/social
 * temporal_scope: Permanent (Biological/Motor Constraints)
 * spatial_scope: Global (Human-Machine Interaction)
 * * SUMMARY:
 * Fitts’s Law is a predictive model of human movement that states the time 
 * required to rapidly move to a target area is a function of the ratio 
 * between the distance to the target and the width of the target. It 
 * represents the fundamental biological limit of the human motor system’s 
 * information capacity.
 * * KEY AGENTS:
 * - The Ergonomist: Analytical observer mapping the logarithmic decay of 
 * precision as speed increases.
 * - The UI Designer: Institutional agent using the law as a "Rope" to 
 * coordinate efficient interface layouts (e.g., placing the "Save" button 
 * in a high-access area).
 * - The Repetitive Task Worker: Individual powerless agent whose physical 
 * "output" is extracted by a system that demands maximum speed at the 
 * edge of their biological accuracy.
 * * NARRATIVE ARC:
 * Fitts's Law functions as a "Mountain"—a fixed feature of human neuro-muscular 
 * hardware. For the 
 * industrial engineer, it is a "Rope" used to pull a factory floor toward 
 * peak efficiency. 
 * However, for the data-entry clerk or assembly worker, it becomes a "Noose" 
 * as the system's "Efficiency" requirement strangles their physical health, 
 * leading to the extraction of their long-term motor vitality (RSI) 
 *.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================= */

% Required for structural identification
narrative_ontology:interval(fittss_law_interval, 0, 10).
narrative_ontology:constraint_claim(fittss_law, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.4). The law allows institutions to extract "speed" 
% from human agents by optimizing targets. If pushed too hard, it extracts 
% physical health (motor strain).
domain_priors:base_extractiveness(fittss_law, 0.4).

% Suppression score (0.0-1.0)
% Rationale: High (0.7). The law suppresses "Infinite Precision." Humans 
% cannot move infinitely fast with infinite accuracy; the law makes the 
% alternative of "perfect fast movement" physically invisible.
domain_priors:suppression_score(fittss_law, 0.7).

% Enforcement requirements
% Emerges naturally from the human nervous system and motor-control loops.
domain_priors:emerges_naturally(fittss_law).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(fittss_law, extractiveness, 0.4).
narrative_ontology:constraint_metric(fittss_law, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
% Beneficiary: Institutional managers and UI architects who gain speed metrics.
constraint_beneficiary(fittss_law, [industrial_engineers, ui_designers]).
% Victim: Individual workers subject to repetitive motion strain.
constraint_victim(fittss_law, [assembly_line_workers, data_entry_clerks]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EXPERIMENTAL PSYCHOLOGIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the human biological substrate.
   WHEN: civilizational - Viewing human motor capacity as an evolutionary constant.
   WHERE: trapped - The nervous system's processing speed is a fixed point.
   SCOPE: global - Universal across all humans.
   
   WHY THIS CLASSIFICATION:
   To the scientist, Fitts’s Law is a Mountain. It is an unchangeable 
   feature of human "hardware." Regardless of culture or technology, the 
   mathematical relationship between target size, distance, and time 
   remains a fixed peak in the topography of human capability.
   
   NARRATIVE EVIDENCE:
   Fitts's original 1954 experiments showed a constant "Index of Performance" 
   measured in bits per second, suggesting a hard-wired bandwidth for 
   human motion.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fittss_law,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PRODUCT DESIGNER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design tools and environments.
   WHEN: biographical - Creating products that users will master over years.
   WHERE: arbitrage - Can shift button locations or sizes to optimize workflow.
   SCOPE: national - Mass-market software or hardware standards.
   
   WHY THIS CLASSIFICATION:
   For the designer, the law is a Rope. It is a vital coordination 
   mechanism. By using Fitts's Law to place common actions in "easy" 
   reach (like the corners of a screen), they "pull" the user toward 
   an efficient and satisfying experience, using the constraint as 
    a tether for usability.
   
   NARRATIVE EVIDENCE:
   The "Magic Pixels" at the corners of a screen have infinite width in 
   one dimension (you can't overshoot them), making them the most 
   efficient "Rope" for UI navigation.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fittss_law,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(fittss_law, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE WAREHOUSE PICKER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to high-frequency quotas.
   WHEN: immediate - Today’s production target and picking rate.
   WHERE: constrained - High cost to ignoring the quota (termination).
   SCOPE: local - Immediate physical workstation/aisle.
   
   WHY THIS CLASSIFICATION:
   For the worker, the law is a Noose. The employer has optimized the 
   workspace (the Rope) for maximum throughput, but the worker must 
   now operate at the very edge of their biological limit for 10 hours. 
   The extraction of every millisecond strangles their comfort, eventually 
   leading to injury. The "Efficiency" is a trap they cannot exit.
   
   NARRATIVE EVIDENCE:
   "I have to hit the scanner perfectly every 3 seconds or the system flags 
   me; the distance is too far for that speed, and my wrist is starting 
   to burn."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fittss_law,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(fittss_law, E),
    E > 0.3,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(fittss_law_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Powerless sees Noose
    constraint_indexing:constraint_classification(fittss_law, mountain, context(analytical, civilizational, trapped, global)),
    constraint_indexing:constraint_classification(fittss_law, rope, context(institutional, biographical, arbitrage, national)),
    constraint_indexing:constraint_classification(fittss_law, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_motor) :-
    % Powerless workers feel the total extraction of their physical health (Noose).
    % Institutional designers use the law for coordination (Rope).
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(fittss_law, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(fittss_law, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability_biology) :-
    % Civilizational scale = Mountain
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(fittss_law_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.4):
 * Reasoning: Fitts's Law extracts "precision." By forcing humans to 
 * trade accuracy for speed, the beneficiary (manager) extracts more 
 * output per second.
 * * 2. PERSPECTIVE SELECTION:
 * Chose the Psychologist (Law), the Designer (Tool), and the 
 * Warehouse Worker (Victim) to highlight the indexical shift from 
 * "Math" to "Design" to "Extraction".
 * * 3. CLASSIFICATION RATIONALE:
 * Analytical → Mountain: It's an unchangeable biological limit.
 * Institutional → Rope: It's used as a "nudge" for efficiency.
 * Powerless → Noose: It's a performance trap that leads to RSI.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    haptic_augmentation_limits,
    "Can haptic feedback or neural interfaces untie the Fitts's Noose (Rope) 
    by bypassing the traditional motor-loop (Mountain)?",
    resolution_mechanism("Long-term study of BMI (Brain-Machine Interface) 
    accuracy vs. traditional mouse/limb input"),
    impact("If Rope: Human throughput can expand beyond current biological 
    bandwidth. If Mountain: The law is fundamental to all consciousness-to-matter 
    translations."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * * ALTERNATIVE 1: Automated Robotic Assistance (Cobots)
 * Viability: High. Robots aren't subject to Fitts's Law in the same 
 * way; they can move with high speed and high precision.
 * Suppression: Moderate. Often rejected in low-margin industries 
 * because human labor (subject to the Noose) is currently cheaper 
 * than robotic CAPEX.
 * * CONCLUSION:
 * The existence of mechanical "Exits" (Automation) that are suppressed 
 * by labor costs confirms that for the warehouse worker, Fitts’s Law is a 
 * Noose of economic necessity, not just a biological Mountain.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_fittss_law].
 * 2. Multi-perspective: ?- multi_index_report(fittss_law).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: fmeca_procedures_1980
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: MIL-STD-1629A - Failure Mode, Effects, and Criticality Analysis (1980)
% ============================================================================

:- module(constraint_fmeca_procedures_1980, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: fmeca_procedures_1980
 * human_readable: MIL-STD-1629A (FMECA Procedures)
 * domain: technological/military/legal
 * temporal_scope: 1980 - Present
 * spatial_scope: United States (DoD acquisition environment)
 * * SUMMARY:
 * This constraint establishes the mandatory procedures for performing a Failure 
 * [cite_start]Mode, Effects, and Criticality Analysis (FMECA) for DoD systems[cite: 64, 68]. 
 * It functions as a rigid documentation and analysis framework intended to 
 * systematically identify catastrophic and critical failure possibilities 
 * [cite_start]early in the design phase[cite: 31, 41, 65].
 * * KEY AGENTS:
 * - Junior Design Engineer: The individual who must complete the worksheets; 
 * often views the requirement as a bureaucratic hurdle.
 * - DoD Program Manager: The institutional agent who mandates the standard 
 * [cite_start]to ensure "peace, justice and progress" through system reliability[cite: 1, 25].
 * - System Safety Analyst: The observer who views FMECA as a logical 
 * necessity for managing the inherent "natural law" of mechanical failure.
 * * NARRATIVE ARC:
 * [cite_start]The FMECA starts as an "essential function" [cite: 31] intended to be a 
 * flexible "Rope" for coordination. However, due to "untimeliness" and "isolated 
 * [cite_start]performance"[cite: 39, 40], it often hardens into a "Noose" for contractors 
 * [cite_start]who must fulfill rigid worksheet requirements [cite: 182] after design 
 * decisions are already finalized.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(fmeca_standard_era, 1980, 2026).
narrative_ontology:constraint_claim(fmeca_procedures_1980, rope).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.4). While it aims for safety, it "extracts" significant 
% labor and time from contractors to satisfy procuring activity data requirements 
[cite_start]%[cite: 33, 45, 1056].
domain_priors:base_extractiveness(fmeca_procedures_1980, 0.4).

% Suppression score (0.0-1.0)
% Rationale: Moderate (0.5). It strictly mandates specific coding systems 
[cite_start]% (MIL-STD-780) [cite: 198] [cite_start]and worksheet formats[cite: 182], punishing 
% alternative risk-management styles through contract non-compliance.
domain_priors:suppression_score(fmeca_procedures_1980, 0.5).

% Enforcement: Requires active maintenance by the procuring activity and 
[cite_start]% contracting officers[cite: 109, 169].
domain_priors:requires_active_enforcement(fmeca_procedures_1980).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(fmeca_procedures_1980, department_of_defense).
constraint_beneficiary(fmeca_procedures_1980, system_safety).
constraint_victim(fmeca_procedures_1980, contractors).
constraint_victim(fmeca_procedures_1980, innovative_design_flexibility).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(fmeca_procedures_1980, extractiveness, 0.4).
narrative_ontology:constraint_metric(fmeca_procedures_1980, suppression_requirement, 0.5).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: JUNIOR DESIGN ENGINEER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Must complete the work without shaping the standard.
   WHEN: immediate - Focused on meeting the current project deadline.
   [cite_start]WHERE: trapped - Bound by the "Ordering Data" in the specific contract[cite: 109, 541].
   [cite_start]SCOPE: local - Focused on a single component or assembly level[cite: 154].
   
   WHY THIS CLASSIFICATION:
   The engineer sees FMECA as a coercive "Noose" of paperwork. The "chief causes" 
   [cite_start]of criticism are its "untimeliness" [cite: 39]—it feels like a post-facto 
   [cite_start]requirement that "extracts" time without improving the design[cite: 38].
   
   NARRATIVE EVIDENCE:
   "Probably the greatest criticism of the FMECA has been its limited use 
   [cite_start]in improving designs... chief causes for this have been untimeliness"[cite: 38, 39].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fmeca_procedures_1980,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: DOD PROGRAM MANAGER - Rope
   --------------------------------------------------------------------------
   
   [cite_start]WHO: institutional - Has the power to "tailor the requirements"[cite: 34, 1012].
   WHEN: biographical - Spanning the acquisition lifecycle (years to decades).
   [cite_start]WHERE: mobile - Can select which tasks (101-105) to impose[cite: 1028].
   [cite_start]SCOPE: national - Applies to "all designated DoD systems"[cite: 68].
   
   WHY THIS CLASSIFICATION:
   For the manager, FMECA is a "Rope" for functional coordination. It's a 
   [cite_start]tool to "tailor" [cite: 34, 1043] and ensure that various reliability 
   [cite_start]tasks are coordinated to prevent "duplication of efforts"[cite: 45].
   
   NARRATIVE EVIDENCE:
   "The FMECA must contribute meaningfully to program decision... invaluable 
   [cite_start]to those who are responsible for making program decisions"[cite: 35, 36].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fmeca_procedures_1980,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: SAFETY ANALYST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal failure patterns.
   [cite_start]WHEN: historical - Based on decades of engineering experience[cite: 1091, 1134].
   [cite_start]WHERE: analytical - Sees failure as an inherent property of all "items"[cite: 194, 231].
   [cite_start]SCOPE: global - Applies to the "nature of the design process itself"[cite: 32].
   
   WHY THIS CLASSIFICATION:
   The analyst sees the "potential for failure" as an unchangeable "Mountain" 
   of reality. Systematic analysis is not an option but a "logical necessity" 
   [cite_start]dictated by the laws of physics and probability[cite: 124, 150].
   
   NARRATIVE EVIDENCE:
   "FMECA is an essential function in design... [it] must be iterative to 
   [cite_start]correspond with the nature of the design process itself"[cite: 31, 32].
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    fmeca_procedures_1980,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(fmeca_procedures_1980_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(fmeca_procedures_1980, Type1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(fmeca_procedures_1980, Type2, context(institutional, biographical, mobile, national)),
    Type1 = noose,
    Type2 = rope.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, mobile, national),
    constraint_indexing:extractiveness_for_agent(fmeca_procedures_1980, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(fmeca_procedures_1980, ContextPowerful, Score2),
    Score1 > Score2.

test(tailoring_as_rope_flexibility) :-
    % Tailoring (mobile exit option) allows institutional power to view it as a Rope.
    constraint_indexing:constraint_classification(fmeca_procedures_1980, rope, context(institutional, _, mobile, _)).

:- end_tests(fmeca_procedures_1980_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.4): Chosen because while FMECA is safety-critical, 
 * [cite_start]the standard admits it is often seen as a burden[cite: 38]. It extracts 
 * [cite_start]"valuable resources" [cite: 1056] in exchange for theoretical safety.
 * * 2. SUPPRESSION SCORE (0.5): The standard enforces a very specific way of 
 * [cite_start]thinking (severity categories, coding)[cite: 267, 707]. Other methods 
 * exist but are functionally "suppressed" by the acquisition contract.
 * * 3. PERSPECTIVE SELECTION: Chose the Engineer (victim of untimeliness), 
 * Manager (agent of tailoring), and Analyst (observer of failure's nature).
 * * 4. AMBIGUITIES: Resolved the "standard vs tailoring" tension by assigning 
 * "Rope" status to those with the power to tailor and "Noose" status to 
 * those forced to comply with the untailored defaults.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    fmeca_actual_impact,
    "Does FMECA actually improve design, or is its criticism as 'limited use' inherently true?",
    resolution_mechanism("Longitudinal study of failure rates in FMECA-compliant vs non-compliant complex systems"),
    impact("If Mountain (physics-driven): safety increases. If Noose (bureaucracy-driven): only paperwork increases."),
    confidence_without_resolution(medium)
).

omega_variable(
    tailoring_competence,
    "Is the procuring activity competent to 'tailor' requirements appropriately, or does it default to maximum suppression?",
    resolution_mechanism("Audit of tailoring decisions across diverse DoD programs"),
    impact("If tailored: Rope. If default: Noose for all contractors."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Informal Designer Intuition
 * Viability: Historically how many machines were built before formal FMEA.
 * [cite_start]Suppression: Banned by Paragraph 4.1 requiring "planned and performed" analysis[cite: 169].
 * * ALTERNATIVE 2: Purely Qualitative "Brainstorming"
 * Viability: Faster, lower "extractiveness" of labor.
 * [cite_start]Suppression: Rejected by requirements for "quantitative" criticality numbers (Cm)[cite: 853, 1090].
 * * CONCLUSION:
 * The active rejection of informal/qualitative alternatives in favor of 
 * specific worksheet formats shifts the classification from a coordination 
 * Rope to an enforced Noose for those doing the work.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [fmeca_procedures_1980].
% Run tests: ?- run_tests(fmeca_procedures_1980_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: fundamental_theorem_of_algebra
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Fundamental Theorem of Algebra (Gauss/Argand/d'Alembert)
% ============================================================================

:- module(constraint_fta, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: fundamental_theorem_of_algebra
 * human_readable: Fundamental Theorem of Algebra (FTA)
 * domain: mathematical
 * temporal_scope: 1799 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Complex Plane)
 * * SUMMARY:
 * The FTA states that every non-constant single-variable polynomial with complex 
 * coefficients has at least one complex root. In terms of constraints, it 
 * establishes the "completeness" of the complex number system, ensuring that 
 * algebraic equations of degree n always yield n solutions.
 * * KEY AGENTS:
 * - The Polynomial (Subject): The passive mathematical object whose roots 
 * are predestined by its coefficients and degree.
 * - The Numerical Analyst (Institutional): An agent using the theorem as a 
 * guarantee to build robust solvers (e.g., Jenkins-Traub or Durand-Kerner).
 * - The "Real" Number Purist (Victim): An agent constrained to the real line, 
 * for whom the FTA acts as an invasive force requiring the use of "imaginary" numbers.
 * * NARRATIVE ARC:
 * The FTA begins as a "Mountain" of natural law—an inescapable truth of 
 * mathematical reality. For practitioners, it functions as a "Rope," 
 * providing a coordination mechanism for engineering stability and 
 * signal processing. However, for those trapped in lower-dimensional 
 * number systems (like the Reals), it acts as a "Noose," proving that 
 * their system is "incomplete" and forcing the extraction of cognitive 
 * labor to navigate the complex plane.
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(fta_era, 1799, 2026).
narrative_ontology:constraint_claim(fundamental_theorem_of_algebra, mountain).

% Base extractiveness: 0.1
% Rationale: Mathematical truths are generally non-extractive, but the FTA 
% "extracts" the possibility of rootless polynomials to provide a stable system.
domain_priors:base_extractiveness(fundamental_theorem_of_algebra, 0.1).

% Suppression score: 0.2
% Rationale: It suppresses the existence of "unsolvable" polynomials within 
% its domain, rendering alternative "rootless" algebraic universes invalid.
domain_priors:suppression_score(fundamental_theorem_of_algebra, 0.2).

% Enforcement: Emerges naturally from the axioms of the complex field.
domain_priors:emerges_naturally(fundamental_theorem_of_algebra).

% Metrics
narrative_ontology:constraint_metric(fundamental_theorem_of_algebra, extractiveness, 0.1).
narrative_ontology:constraint_metric(fundamental_theorem_of_algebra, suppression_requirement, 0.2).

% Beneficiaries & Victims
constraint_beneficiary(fundamental_theorem_of_algebra, control_engineers).
constraint_beneficiary(fundamental_theorem_of_algebra, complexity_theorists).
constraint_victim(fundamental_theorem_of_algebra, real_variable_simplicity).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE POLYNOMIAL ITERATE - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The polynomial cannot "choose" to have no roots.
   WHEN: immediate - The root exists at the moment the polynomial is defined.
   WHERE: trapped - Bound within the complex plane C.
   SCOPE: local - Immediate neighborhood of the roots.
   
   WHY THIS CLASSIFICATION:
   For the mathematical object, the FTA is a "Mountain." There are zero degrees 
   of freedom; the existence of the root is a fixed, unchangeable law of its 
   being.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    fundamental_theorem_of_algebra,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CONTROL SYSTEMS ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design filters and feedback loops.
   WHEN: biographical - Spanning the operational life of a machine.
   WHERE: mobile - Can adjust coefficients to move roots (poles) for stability.
   SCOPE: global - Applicable across all linear time-invariant systems.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the FTA is a "Rope." It is a functional tool that 
   guarantees a solution exists, allowing them to coordinate the 
   stability of physical systems (ensuring poles stay in the left-half plane).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    fundamental_theorem_of_algebra,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE STUDENT OF REAL ANALYSIS - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Subject to the curriculum and the limits of R.
   WHEN: immediate - Facing the failure of x^2 + 1 = 0 on the real line.
   WHERE: constrained - Knowing a solution exists "elsewhere" but unable to see it.
   SCOPE: local - A specific homework problem.
   
   WHY THIS CLASSIFICATION:
   When confined to Real numbers, the FTA is a "Noose." It proves the 
   incompleteness of the student's reality, "strangling" the simplicity of 
   the number line and forcing a transition into a higher-dimensional 
   complexity that they may not be prepared for.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    fundamental_theorem_of_algebra,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(fundamental_theorem_of_algebra, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(fta_tests).

test(completeness_variance) :-
    % Subject -> Mountain
    constraint_indexing:constraint_classification(fundamental_theorem_of_algebra, Type1, context(individual_powerless, immediate, trapped, local)),
    % Engineer -> Rope
    constraint_indexing:constraint_classification(fundamental_theorem_of_algebra, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(extraction_of_possibility) :-
    % Even low extraction is felt when the agent is trapped.
    constraint_indexing:extractiveness_for_agent(fundamental_theorem_of_algebra, context(individual_powerless, immediate, trapped, local), Score),
    Score > 0.05.

test(natural_emergence) :-
    domain_priors:emerges_naturally(fundamental_theorem_of_algebra).

:- end_tests(fta_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SELECTION: Chose the "Student of Real Analysis" as the 
 * powerless agent to highlight the "Noose" aspect—the realization that 
 * one's current system is lacking.
 * 2. EXTRACTIVENESS: Set at 0.1. While math is a "gift," the FTA effectively 
 * forbids certain mathematical structures (non-closed algebraic fields 
 * over C), which is a form of structural extraction.
 * 3. SUPPRESSION: Set at 0.2 because the FTA renders the "search for 
 * rootless complex polynomials" a futile and invisible path.
 */

% OMEGA IDENTIFICATION
omega_variable(
    constructive_finding_complexity,
    "Does the 'Rope' of existence help find roots, or is it a 'Noose' of unreachable solutions?",
    resolution_mechanism("Comparison of search time for degree-1000 polynomials across different fields."),
    impact("If unsolvable: Noose. If solvable: Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Real-only Algebra
 * Viability: The world before the 16th century.
 * Suppression: Ineffective for describing vibration, rotation, or stability.
 * Evidence: The existence of x^2 + 1 = 0.
 * * ALTERNATIVE 2: Quaternions / Octonions
 * Viability: Higher dimensional algebras.
 * Suppression: The FTA only applies to commutative fields; non-commutative 
 * systems are "suppressed" by the FTA's dominance in standard curriculum.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [fundamental_theorem_of_algebra].
% Run: ?- constraint_indexing:multi_index_report(fundamental_theorem_of_algebra).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(fnudamental_theorem_of_algebra, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(fnudamental_theorem_of_algebra, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(fnudamental_theorem_of_algebra, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: four_color_theorem_topological_bound
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Appel & Haken (1976) / Graph Theory / Topology
% ============================================================================

:- module(constraint_four_color_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: four_color_theorem_topological_bound
 * human_readable: The Four Color Theorem
 * domain: mathematical/technological
 * temporal_scope: 1852 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Planar Graphs)
 * * SUMMARY:
 * The Four Color Theorem states that no more than four colors are required to 
 * color the regions of any map so that no two adjacent regions have the same 
 * color. It is a fundamental topological constraint on how planar space can 
 * be partitioned and connected.
 * * KEY AGENTS:
 * - The Map Region (Subject): A powerless agent whose "identity" (color) is 
 * constrained by the neighbors it touches.
 * - The Cartographer/Network Architect (Institutional): An agent who uses 
 * the theorem as a "Rope" to optimize resource allocation (frequencies, colors).
 * - The Mathematical Purist (Victim): An agent for whom the computer-assisted 
 * proof is a "Noose," extracting the "elegant human-readable proof" and 
 * replacing it with exhaustive algorithmic verification.
 * * NARRATIVE ARC:
 * The theorem functions as a "Mountain" of planar reality—a hard limit of 
 * geometry that cannot be bypassed. In wireless networking, it is a "Rope" 
 * for coordinating frequency reuse. However, for the history of mathematics, 
 * its proof acted as a "Noose," extracting the traditional "aesthetic of 
 * understanding" (extraction) and "strangling" the era of human-only 
 * verification with the first major computer-dependent proof.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================= */

% Structural Anchor for the Deferential Realism Auditor
narrative_ontology:interval(four_color_era, 1852, 2026).
narrative_ontology:constraint_claim(four_color_theorem_topological_bound, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.25. The theorem "extracts" the possibility of higher-color 
% variety to enforce a lower-bound efficiency. It also "extracts" human 
% intuition in favor of computational brute force.
domain_priors:base_extractiveness(four_color_theorem_topological_bound, 0.25).

% Suppression score (0.0-1.0)
% Rationale: 0.2. It suppresses the visibility of 5-color or 6-color 
% "redundant" systems by proving they are mathematically unnecessary for 
% planar partitions.
domain_priors:suppression_score(four_color_theorem_topological_bound, 0.2).

% Enforcement: Emerges naturally from the topology of the plane.
domain_priors:emerges_naturally(four_color_theorem_topological_bound).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(four_color_theorem_topological_bound, extractiveness, 0.25).
narrative_ontology:constraint_metric(four_color_theorem_topological_bound, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(four_color_theorem_topological_bound, frequency_allocation_engineers).
constraint_beneficiary(four_color_theorem_topological_bound, automated_theorem_provers).
constraint_victim(four_color_theorem_topological_bound, classical_human_intuition).
constraint_victim(four_color_theorem_topological_bound, map_complexity_enthusiasts).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INDIVIDUAL MAP REGION - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The region has no agency over its adjacency.
   WHEN: immediate - The color constraint is true the moment the map is drawn.
   WHERE: trapped - Bound within the 2D plane.
   SCOPE: local - Can only "see" its immediate neighbors.
   
   WHY THIS CLASSIFICATION:
   For a specific region on a map, the limit of 4 colors is an absolute 
   Mountain. It cannot "choose" to be a 5th color that is distinct from its 
   neighbors if the global topology has already constrained the available 
   choices. The arithmetic of adjacency is a natural law.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    four_color_theorem_topological_bound,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SPECTRUM MANAGER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to allocate frequencies or design cellular grids.
   WHEN: biographical - Planning a regional or national wireless network.
   WHERE: mobile - Can adjust tower placement or boundary lines.
   SCOPE: national - Managing a country's spectrum.
   
   WHY THIS CLASSIFICATION:
   For the institutional actor, the theorem is a "Rope"—a functional 
   coordination mechanism. It provides a "standard of achievement" that 
   guarantees they never need more than 4 distinct frequency sets to 
   cover a territory without overlap, "pulling" the system toward 
   maximum efficiency.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    four_color_theorem_topological_bound,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ELEGANCE-SEEKING MATHEMATICIAN - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools to prove but is bound by the theorem's nature.
   WHEN: historical - Spanning the 124 years between conjecture and proof.
   WHERE: constrained - No alternative but to accept a "computer-only" proof.
   SCOPE: global - Affecting the philosophy of all mathematical proof.
   
   WHY THIS CLASSIFICATION:
   For the classical theorist, the Four Color Theorem is a "Noose." It 
   "strangles" the ideal of a beautiful, human-comprehensible proof. 
   By requiring thousands of case-checkings via computer, it extracts the 
   "human element" (extraction) from the proof, "choking" the 
   tradition of Euclidean simplicity.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    four_color_theorem_topological_bound,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(four_color_theorem_topological_bound, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(four_color_tests).

test(multi_perspective_variance) :-
    % Region -> Mountain
    constraint_indexing:constraint_classification(four_color_theorem_topological_bound, Type1, context(individual_powerless, immediate, trapped, local)),
    % Manager -> Rope
    constraint_indexing:constraint_classification(four_color_theorem_topological_bound, Type2, context(institutional, biographical, mobile, national)),
    Type1 \= Type2.

test(intuition_extraction_penalty) :-
    % The mathematician feels the extraction of human-readability.
    Context = context(individual_moderate, historical, constrained, global),
    constraint_indexing:extractiveness_for_agent(four_color_theorem_topological_bound, Context, Score),
    Score >= 0.2.

test(natural_emergence) :-
    domain_priors:emerges_naturally(four_color_theorem_topological_bound).

:- end_tests(four_color_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.25): 
 * Chose this because the Four Color Theorem represents the first time 
 * mathematics "extracted" the necessity of computer-aid, a major shift 
 * in the "tax" of verification.
 * 2. CLASSIFICATION: 
 * Captured the transition from a "Mountain" of geometry to a "Noose" 
 * for mathematical philosophy due to the brute-force nature of the proof.
 */

% OMEGA IDENTIFICATION
omega_variable(
    human_readable_proof_existence,
    "Does a 'Mountain' of a short, elegant human-readable proof exist for the Four Color Theorem (Scaffold)?",
    resolution_mechanism("Verification of new proof candidates against the Appel-Haken-Robertson exhaustion."),
    impact("If Yes: The current 'Noose' of computer-verification is just a Scaffold for human limits."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Map coloring on different surfaces (e.g., Torus)
 * Viability: Requires 7 colors. 
 * Suppression: The 4-color limit is only a "Mountain" for planar graphs. 
 * On a torus, it's a "Rope" that fails.
 * * ALTERNATIVE 2: 5-Color Theorem
 * Viability: Much simpler human proof exists. 
 * Suppression: Functionally "suppressed" by the more powerful (but harder) 
 * 4-color result.
 * * CONCLUSION:
 * The existence of Alternative 1 (Torus coloring) proves that the "Mountain" 
 * of 4 colors is a feature of the Plane's topology, not an absolute 
 * universal law of all space.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [four_color_theorem_topological_bound].
 * 2. Multi-perspective: ?- multi_index_report(four_color_theorem_topological_bound).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: framing_effect
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Tversky & Kahneman (1981) / Behavioral Economics
% ============================================================================

:- module(constraint_framing_effect, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: framing_effect
 * human_readable: The Framing Effect
 * domain: social/political/psychological
 * temporal_scope: Permanent (Cognitive Architecture)
 * spatial_scope: Global (Human Decision Making)
 * * SUMMARY:
 * The framing effect is a cognitive bias where people decide on options based on 
 * whether the options are presented with positive or negative connotations; 
 * e.g. as a loss or as a gain. It represents a fundamental limit on "rational" 
 * decision-making, where the presentation of information dictates the choice.
 * * KEY AGENTS:
 * - The Behavioral Scientist: Analytical observer mapping the "Mountain" of 
 * human irrationality and cognitive shortcuts.
 * - The Campaign Strategist: Institutional agent using language as a "Rope" 
 * to coordinate public opinion and behavior through specific frames.
 * - The Subjected Voter: Individual powerless agent whose choice is "strangled" 
 * by the emotional weight of a loss-frame, leading to suboptimal outcomes.
 * * NARRATIVE ARC:
 * To navigate complexity, the brain uses heuristics that act as a "Mountain"—a 
 * fixed feature of human biology. For the architect of choice, these heuristics 
 * are a "Rope" for influence. However, for the person being nudged, the frame 
 * becomes a "Noose," as the emotional manipulation extracts their capacity 
 * for objective reasoning.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(framing_effect_interval, 0, 10).
narrative_ontology:constraint_claim(framing_effect, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.5). The effect extracts "objective utility" and 
% "rational agency." It redirects the energy of a decision toward the 
% beneficiary's desired outcome via psychological pressure.
domain_priors:base_extractiveness(framing_effect, 0.5).

% Suppression score (0.0-1.0)
% Rationale: Moderate (0.5). It suppresses "Neutral Information." Once a 
% frame is established (e.g., "90% lean" vs "10% fat"), the objective 
% data point is conceptually suppressed by the emotive connotations.
domain_priors:suppression_score(framing_effect, 0.5).

% Enforcement requirements
% Emerges naturally from human evolutionary psychology and dual-process theory.
domain_priors:emerges_naturally(framing_effect).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(framing_effect, extractiveness, 0.5).
narrative_ontology:constraint_metric(framing_effect, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
% Marketers and political strategists benefit from the predictable reactivity.
constraint_beneficiary(framing_effect, [marketers, political_strategists]).
% Consumers and voters suffer the loss of objective choice.
constraint_victim(framing_effect, [voters, consumers]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE COGNITIVE SCIENTIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the biological/psychological substrate.
   WHEN: civilizational - Viewing the bias as an evolved human constant.
   WHERE: trapped - Logic and perception are filtered by the brain's hardware.
   SCOPE: global - Universal to the species.
   
   WHY THIS CLASSIFICATION:
   To the scientist, the framing effect is a Mountain. It is an unchangeable 
   consequence of how the human mind processes risk and value. No amount of 
   "education" removes the underlying neurological reactivity; it is a 
   fixed peak in the landscape of human nature.
   
   NARRATIVE EVIDENCE:
   Studies consistently show that even experts are subject to framing bias 
   when stakes are high (e.g., medical treatment choices).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    framing_effect,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ADVERTISING EXECUTIVE - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design choice environments.
   WHEN: biographical - Managing campaigns and brand perception over a career.
   WHERE: arbitrage - Can shift frames to achieve desired conversion metrics.
   SCOPE: national - Large-scale consumer markets.
   
   WHY THIS CLASSIFICATION:
   For the marketer, framing is a Rope. It is a coordination mechanism used 
   to "pull" consumer behavior toward a purchase. It is a functional tool 
   that allows them to communicate value in a way that resonates 
   psychologically, ensuring the success of the business.
   
   NARRATIVE EVIDENCE:
   "We don't sell steak, we sell the sizzle." "Frame the cost as 'only 
   cents a day' to make it accessible."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    framing_effect,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(framing_effect, E),
    E < 0.7, 
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CONFUSED CONSUMER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the market's choice architecture.
   WHEN: immediate - Today's buying decision or vote.
   WHERE: constrained - High cost/effort to find and verify neutral data.
   SCOPE: local - Immediate decision environment.
   
   WHY THIS CLASSIFICATION:
   For the individual, a deceptive frame is a Noose. They are presented 
   with choices that feel intuitive but lead to objectively worse outcomes 
   (e.g., choosing a higher-cost insurance plan because it's framed as 
   "protection"). The frame strangles their rational autonomy, extracting 
   their wealth or health.
   
   NARRATIVE EVIDENCE:
   "I felt I had to choose the 'extended warranty' because the salesperson 
   framed it as a way to avoid 'catastrophic loss,' even though it was a 
   bad deal."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    framing_effect,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(framing_effect, E),
    E > 0.4, 
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(framing_effect_tests).

test(multi_perspective_variance) :-
    % Scientist sees Mountain, Marketer sees Rope, Consumer sees Noose
    constraint_indexing:constraint_classification(framing_effect, mountain, context(analytical, civilizational, trapped, global)),
    constraint_indexing:constraint_classification(framing_effect, rope, context(institutional, biographical, arbitrage, national)),
    constraint_indexing:constraint_classification(framing_effect, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_bias) :-
    % Powerless individuals feel the total extraction of their rationality (Noose).
    % Institutional actors use the bias to coordinate behavior (Rope).
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(framing_effect, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(framing_effect, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability_framing) :-
    % Over historical/civilizational time, it is a fixed feature (Mountain).
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(framing_effect_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.5):
 * Reasoning: Framing extracts "Agency." By manipulating the 
 * connotations of a choice, the beneficiary extracts the 
 * subject's time, money, or loyalty without their full awareness.
 * * 2. PERSPECTIVE SELECTION:
 * Chose the Scientist (Law), the Marketer (Utility), and the 
 * Voter/Consumer (Victim) to highlight how a cognitive "fact" 
 * becomes a structural "trap" in social systems.
 * * 3. CLASSIFICATION RATIONALE:
 * Analytical → Mountain: It is a law of human cognitive architecture.
 * Institutional → Rope: It is a primary tool for "Choice Architecture."
 * Powerless → Noose: It is a psychological trap that strangles autonomy.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    debiasing_efficacy,
    "Can 'debiasing' training effectively 'untie' the Noose (Rope), or is 
    the effect fundamentally a Mountain for all human agents?",
    resolution_mechanism("Long-term studies of expert decision-makers 
    trained in cognitive bias mitigation vs. control groups"),
    impact("If Rope: Consumers can be protected via education. If Mountain: 
    Institutional regulation (Ropes) is the only solution."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Neutral Data Presentation (Raw Statistics)
 * Viability: High. Presenting data without emotive language (e.g., a 
 * simple table) allows for more objective analysis.
 * Suppression: High. Marketers and politicians actively reject neutral 
 * frames because they are less effective at driving behavior.
 * * CONCLUSION:
 * The existence of suppressed neutral alternatives (Raw Data) confirms that 
 * for the individual, the Framing Effect is often a Noose used by choice 
 * architects to prevent rational arbitrage.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_framing_effect].
 * 2. Multi-perspective: ?- multi_index_report(framing_effect).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: frankenstein_creation_hubris
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Frankenstein; or, The Modern Prometheus by Mary Shelley
% ============================================================================

:- module(constraint_frankenstein_creation_hubris, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: frankenstein_creation_hubris
 * human_readable: The Prometheus/Creator Burden
 * domain: technological/existential/social
 * temporal_scope: Late 18th Century / Scientific Revolution
 * spatial_scope: Europe (Geneva, Ingolstadt, Britain, Arctic)
 * * SUMMARY:
 * Victor Frankenstein successfully animates matter, creating a sentient being. 
 * The constraint arises from the irreversible nature of this creation and the 
 * absolute moral and physical obligation the creator has toward the creature—
 * an obligation Victor rejects, triggering a catastrophic cycle of vengeance.
 * * KEY AGENTS:
 * - Victor Frankenstein: The institutional/powerful agent who breaks the laws of nature.
 * - The Creature: The powerless individual, a "biological artifact" with zero social standing.
 * - Robert Walton: The analytical/moderate observer who learns the "Rope" of Victor's warning.
 * * NARRATIVE ARC:
 * The arc begins with Victor's pursuit of "secrets of heaven and earth." Upon 
 * success, the "beauty of the dream vanished" into horror. The abandonment 
 * turns the creature into a "fiend," transforming the scientific achievement 
 * from a potential Rope into a lethal Noose for the entire Frankenstein lineage.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% The Structural Anchor for the Deferential Realism Index
narrative_ontology:interval(frankenstein_analysis, 0, 10).
narrative_ontology:constraint_claim(frankenstein_creation_hubris, noose).

% Base extractiveness score: High
% Rationale: The creation extracts the life, sanity, and loved ones of the creator.
% It also extracts the possibility of social existence from the creature.
domain_priors:base_extractiveness(frankenstein_creation_hubris, 0.9).

% Suppression score: High
% Rationale: The secret of the creation is suppressed by Victor’s ego and fear, 
% preventing any intervention until it is too late.
domain_priors:suppression_score(frankenstein_creation_hubris, 0.85).

% Enforcement: The constraint is enforced by the physical capabilities of 
% the creature and the psychological guilt of the creator.
domain_priors:requires_active_enforcement(frankenstein_creation_hubris).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(frankenstein_creation_hubris, extractiveness, 0.9).
narrative_ontology:constraint_metric(frankenstein_creation_hubris, suppression_requirement, 0.85).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(frankenstein_creation_hubris, [scientific_knowledge, walton_caution]).
constraint_victim(frankenstein_creation_hubris, [william, justine, elizabeth, clerval, victor, creature]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE CREATURE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Abandoned at birth, no legal or social status.
   WHEN: immediate - Every waking moment is defined by physical rejection.
   WHERE: trapped - Bound by a hideous form that precludes any human exit.
   SCOPE: global - "All men hate the wretched."
   
   WHY THIS CLASSIFICATION:
   For the Creature, the laws of human social rejection are as immutable 
   as a Mountain. He cannot negotiate his appearance or the instinctive 
   horror people feel. It appears to him as a natural law of misery.
   
   NARRATIVE EVIDENCE:
   "Was I, then, a monster, a blot upon the earth, from which all men fled?"
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    frankenstein_creation_hubris,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(frankenstein_creation_hubris, []),
        constraint_victim(frankenstein_creation_hubris, creature),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(frankenstein_creation_hubris, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: VICTOR FRANKENSTEIN - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerful - Possesses the knowledge and wealth to create life.
   WHEN: biographical - The secret haunts him from Ingolstadt to his death.
   WHERE: constrained - The Creature haunts his movements across Europe.
   SCOPE: national - Impacts the entire social structure of his family.
   
   WHY THIS CLASSIFICATION:
   Initially, Victor sees science as a Rope to pull him toward glory. 
   Once the Creature is animated, it becomes a Noose—a coercive 
   force that extracts his peace and the lives of those he loves.
   
   NARRATIVE EVIDENCE:
   "I had unchained an enemy among them whose joy it was to shed their blood."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    frankenstein_creation_hubris,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(constrained),
        constraint_beneficiary(frankenstein_creation_hubris, []),
        constraint_victim(frankenstein_creation_hubris, [elizabeth, clerval]),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(frankenstein_creation_hubris, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: ROBERT WALTON - Rope
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer recording the tragedy.
   WHEN: historical - Using Victor's life as a lesson for future generations.
   WHERE: arbitrage - Walton can choose to turn back from the North Pole.
   SCOPE: global - Affecting the "passengers" and the future of science.
   
   WHY THIS CLASSIFICATION:
   For Walton, Victor's story is a functional Rope. It provides a 
   coordination mechanism that allows him to re-evaluate his own dangerous 
   ambition and choose safety for his crew over potential "glory."
   
   NARRATIVE EVIDENCE:
   "I have lost my hopes of utility and glory; I have lost my friend."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    frankenstein_creation_hubris,
    rope,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(frankenstein_creation_hubris, walton_caution),
        constraint_victim(frankenstein_creation_hubris, []),
        spatial_scope(global)
    )
) :-
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(frankenstein_tests).

test(perspectival_gap) :-
    % Creature sees a Mountain; Victor sees a Noose.
    constraint_indexing:constraint_classification(frankenstein_creation_hubris, mountain, context(agent_power(individual_powerless), _, _, _, _, _)),
    constraint_indexing:constraint_classification(frankenstein_creation_hubris, noose, context(agent_power(individual_powerful), _, _, _, _, _)).

test(extraction_analysis) :-
    % High extraction triggers the need for a victim declaration.
    domain_priors:base_extractiveness(frankenstein_creation_hubris, 0.9).

test(walton_exit) :-
    % Analytical agent (Walton) utilizes the Rope for arbitrage.
    constraint_indexing:constraint_classification(frankenstein_creation_hubris, rope, context(agent_power(analytical), _, arbitrage, _, _, _)).

:- end_tests(frankenstein_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: The core tragedy of Frankenstein is the "type shift." 
 * For Victor, the pursuit of science begins as a Rope (functional 
 * coordination with laws of nature for gain). After creation, it becomes 
 * a Noose. For the Creature, the rejection by society is a Mountain—he 
 * cannot find a single "exit option" in human empathy.
 * * 2. OMEGA VARIABLES: I identified the "Creator-Creation Duty" as the 
 * irreducible uncertainty. If Victor had performed his duty (Rope), 
 * would the Creature have remained benevolent?
 * * 3. WALTON'S ROLE: Walton is the only agent who successfully processes the 
 * constraint as a Rope. He treats Victor's death as the "break point" of 
 * the Noose and decides to exit his own ambition.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    paternal_virtue,
    "Would a benevolent upbringing have overridden the Creature's physical 'Noose' of deformity?",
    resolution_mechanism("Comparative narrative analysis with modern psychological developmental models."),
    impact("If yes: The tragedy is social/moral. If no: The tragedy is biological/fate."),
    confidence_without_resolution(low)
).

omega_variable(
    scientific_confession,
    "Would an immediate legal/public confession by Victor have converted the 'Noose' into a 'Rope' of collective containment?",
    resolution_mechanism("Simulating early disclosure of the Creature to the Genevan syndics."),
    impact("Early confession might have saved Justine and William but likely resulted in the Creature's earlier death."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * * ALTERNATIVE 1: Scientific Paternalism
 * Viability: High. Victor could have raised the creature in isolation.
 * Suppression: Actively suppressed by Victor's "horror and disgust" (the shock of the Noose).
 * Evidence: "Now that I had finished, the beauty of the dream vanished."
 * * ALTERNATIVE 2: Acceptance of the Female Mate
 * Viability: Moderate. Victor started this but destroyed it.
 * Suppression: Suppressed by Victor's fear of "a race of devils."
 * Evidence: "I shuddered to think that future ages might curse me as their pest."
 * * CONCLUSION:
 * The failure to adopt Alternative 1 (Paternalism) is what definitively 
 * converts the biological constraint into an extractive Noose for the creator.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: gale_shapley_matching
% ============================================================================
% Revised: 2026-01-20 (v3.1 Hardened Standard)
% Source: Stable Matching and the NRMP Analysis
% ============================================================================

:- module(constraint_gale_shapley_matching, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:omega_variable/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_metric/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: gale_shapley_matching
 * human_readable: Gale-Shapley Stable Matching
 * domain: economic/mathematical
 * temporal_scope: 1952-Present (NRMP Context)
 * spatial_scope: Global Labor Markets
 * * SUMMARY:
 * The algorithm guarantees a stable matching where no two agents have a mutual 
 * incentive to defect. In medical residency, 
 * this "Stability" is a non-negotiable fact (Mountain) that removes 
 * individual bargaining power (Noose).
 * * KEY AGENTS:
 * - The_Algorithm: Mathematical guarantor (Mountain).
 * - Hospital_Systems: Institutional; use stability to ensure labor (Rope).
 * - Medical_Applicants: Powerless; geographic autonomy extracted (Noose).
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor for System Extraction
narrative_ontology:interval(gale_shapley_matching, 1952, 2026).

% Base extractiveness: 0.8. 
% Rationale: High extraction of individual agency to maintain market stability.
domain_priors:base_extractiveness(gale_shapley_matching, 0.8).
domain_priors:suppression_score(gale_shapley_matching, 0.8).
domain_priors:requires_active_enforcement(gale_shapley_matching).

% Beneficiaries & Victims
narrative_ontology:constraint_beneficiary(gale_shapley_matching, hospital_administrators).
narrative_ontology:constraint_victim(gale_shapley_matching, residency_applicants).

% v3.1 Corrected Metrics
narrative_ontology:constraint_metric(gale_shapley_matching, extractiveness, 0.8).
narrative_ontology:constraint_metric(gale_shapley_matching, suppression_requirement, 0.8).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Mathematical Logic - MOUNTAIN
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    gale_shapley_matching, 
    mountain, 
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Hospital Systems - ROPE
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    gale_shapley_matching, 
    rope, 
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Residency Applicant - NOOSE
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    gale_shapley_matching, 
    noose, 
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(matching_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(gale_shapley_matching, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(gale_shapley_matching, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2.

:- end_tests(matching_tests).

/* ==========================================================================
   5. OMEGA VARIABLES (Ω)
   ========================================================================== */

narrative_ontology:omega_variable(
    stability_premium,
    "Does the 'Stability' of the match benefit the Receiver (Applicant) enough to offset the loss of 'Agency' (Direct Negotiation)?",
    resolution_mechanism("Comparison of career outcomes in matched vs. unmatched/alternative entry labor markets"),
    impact("If agency > stability: The algorithm is a Noose. If stability > agency: It is a Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES: Decentralized Negotiation
 * Suppression: Suppressed by institutional fear of "Market Unraveling" and chaotic labor poaching.
 */

intent_viable_alternative(gale_shapley_matching, decentralized_negotiation, 'Direct individual bargaining').
intent_alternative_rejected(gale_shapley_matching, decentralized_negotiation, 'Institutional fear of labor poaching').

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: galois_theory_symmetry
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Évariste Galois (1832) / Abstract Algebra / Field Theory
% ============================================================================

:- module(constraint_galois_theory, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: galois_theory_symmetry
 * human_readable: Galois Theory (Symmetry of Roots)
 * domain: mathematical/theoretical
 * temporal_scope: 1832 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Algebraic Fields)
 * * SUMMARY:
 * Galois Theory provides a connection between field theory and group theory. 
 * It characterizes the solvability of polynomials by radicals through the 
 * symmetry group of their roots (the Galois group). Most famously, it proves 
 * the insolvability of the general quintic equation.
 * * KEY AGENTS:
 * - The Polynomial (Subject): The mathematical object whose roots are 
 * governed by an inescapable internal symmetry.
 * - Évariste Galois: The historical individual who was "strangled" by the 
 * social/political Noose of 19th-century France while mapping the Mountain 
 * of group symmetry.
 * - The Abstract Algebraist (Institutional): An agent who uses the "Rope" of 
 * Galois correspondence to navigate complex algebraic structures.
 * * NARRATIVE ARC:
 * Galois Theory is the "Mountain" of algebraic limits. It reveals that the 
 * "freedom" to solve equations is restricted by the group structure of their 
 * permutations. Historically, for Galois himself, the theory was a "Rope" of 
 * genius that failed to save him from the political "Noose" of his era.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(galois_era, 1832, 2026).
narrative_ontology:constraint_claim(galois_theory_symmetry, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Low (0.2). It is a structural truth. However, it "extracts" 
% the possibility of "easy" radical solutions for high-degree equations, 
% demanding massive cognitive labor to understand the "hidden" group laws.
domain_priors:base_extractiveness(galois_theory_symmetry, 0.2).

% Suppression score (0.0-1.0)
% Rationale: Low (0.1). It reveals deeper truths rather than hiding them, 
% though it suppresses the "naive" hope for a general formula for the quintic.
domain_priors:suppression_score(galois_theory_symmetry, 0.1).

% Enforcement: Emerges naturally from the axioms of fields and groups.
domain_priors:emerges_naturally(galois_theory_symmetry).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(galois_theory_symmetry, extractiveness, 0.2).
narrative_ontology:constraint_metric(galois_theory_symmetry, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(galois_theory_symmetry, theoretical_physicists). % Symmetry groups.
constraint_beneficiary(galois_theory_symmetry, algebraic_number_theorists).
constraint_victim(galois_theory_symmetry, radical_solvability_hope). % The death of the "general formula."

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ROOTS OF THE QUINTIC - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The roots have no agency over their own symmetry.
   WHEN: immediate - The law is true at the moment the coefficients are set.
   WHERE: trapped - Bound within the field extension $E/F$.
   SCOPE: local - Immediate neighborhood of the polynomial $P(x)$.
   
   WHY THIS CLASSIFICATION:
   For the roots of $x^5 - x - 1$, the Galois group $S_5$ is an unchangeable 
   destiny. Because $S_5$ is not solvable, the roots *cannot* be expressed 
   by radicals. This is a topological and algebraic Mountain that no 
   computation can circumvent.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    galois_theory_symmetry,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE GRADUATE STUDENT - Noose
   --------------------------------------------------------------------------
   WHO: individual_moderate - Has the intelligence to learn, but is bound by rigor.
   WHEN: biographical - Spanning the months of a grueling course.
   WHERE: constrained - Knowing the answer exists but lost in the abstraction.
   SCOPE: local - A specific exam or research hurdle.
   
   WHY THIS CLASSIFICATION:
   To the student, the "Galois Correspondence" often feels like a "Noose." 
   It promises a "simple" link between subfields and subgroups, but 
   the path to verifying that link extracts immense cognitive energy and 
   "strangles" intuitive understanding until the "aha" moment occurs.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    galois_theory_symmetry,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(galois_theory_symmetry, E),
    E >= 0.1,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PROFESSIONAL MATHEMATICIAN - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to use the theory to coordinate new proofs.
   WHEN: civilizational - Long-term development of mathematics.
   WHERE: mobile - Moving between algebraic geometry, physics, and number theory.
   SCOPE: global - Universal application.
   
   WHY THIS CLASSIFICATION:
   For the expert, Galois Theory is a "Rope"—a functional coordination 
   mechanism. It allows them to "climb" from the low-level data of coefficients 
   to the high-level structure of groups, making intractable problems solvable 
   by switching representations.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    galois_theory_symmetry,
    rope,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (Insights into Algebraic Power)
   ========================================================================== */

:- begin_tests(galois_theory_tests).

test(symmetry_fate_variance) :-
    % Subject -> Mountain
    constraint_indexing:constraint_classification(galois_theory_symmetry, Type1, context(individual_powerless, immediate, trapped, local)),
    % Expert -> Rope
    constraint_indexing:constraint_classification(galois_theory_symmetry, Type2, context(institutional, civilizational, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(student_frustration_noose) :-
    % A moderate power agent in a constrained/biographical context sees the abstraction as a Noose.
    constraint_indexing:constraint_classification(galois_theory_symmetry, noose, context(individual_moderate, biographical, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(galois_theory_symmetry).

:- end_tests(galois_theory_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.2): 
 * Galois Theory "extracts" the simple world of formulas ($x = \frac{-b...}$) 
 * and replaces it with the "tax" of abstract group theory.
 * * 2. CLASSIFICATION AS MOUNTAIN: 
 * For the polynomial itself, it is the ultimate Mountain. No amount of 
 * arithmetic can "escape" the group structure of the roots.
 * * 3. PERSPECTIVES:
 * Chose Roots (Subject), Student (Victim of abstraction), and Expert 
 * (User of the tool) to illustrate the transition from "strangulation" 
 * to "coordination."
 */

% OMEGA IDENTIFICATION
omega_variable(
    inverse_galois_problem,
    "Is every finite group a Galois group of some extension of Q?",
    resolution_mechanism("Formal proof or counterexample; current status: unsolved for many groups."),
    impact("If Yes: The Mountain is symmetric and complete. If No: The Mountain has 'cracks' (Ropes) we haven't mapped."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Abel-Ruffini Theorem
 * Viability: Proves the same result (insolvability of quintic) but without 
 * the "Rope" of group correspondence.
 * Status: Replaced by Galois because it provides a more functional tool 
 * for coordination across other domains.
 * * ALTERNATIVE 2: Purely Numerical Methods
 * Viability: Using computers to find roots to high precision.
 * Suppression: Rejected by pure mathematicians because it avoids the 
 * "truth" of the structural Mountain.
 * * CONCLUSION:
 * The dominance of Galois Theory over Abel's work is due to its utility as a 
 * "Rope" that links distinct fields of thought.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [galois_theory_symmetry].
% Analyze: ?- constraint_indexing:multi_index_report(galois_theory_symmetry).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: gamblers_ruin_stochastic_extinction
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Pascal & Fermat (1650s) / Huygens / Bernoulli
% ============================================================================

:- module(constraint_gamblers_ruin, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: gamblers_ruin_stochastic_extinction
 * human_readable: Gambler's Ruin
 * domain: mathematical/economic
 * temporal_scope: 17th Century - Present
 * spatial_scope: Global/Abstract (Finite Capital vs. Infinite Bank)
 * * SUMMARY:
 * Gambler's Ruin is a statistical theorem stating that a gambler with finite 
 * wealth, playing a fair game against an opponent with infinite wealth (the 
 * "Bank"), will eventually go bankrupt with a probability of 1. It represents 
 * the inescapable "suction" of a random walk toward a boundary.
 * * KEY AGENTS:
 * - The Finite Gambler: The powerless agent whose capital is a limited buffer 
 * against the variance of the walk.
 * - The House (Institutional): An agent who uses the Law of Large Numbers as 
 * a "Rope" to coordinate inevitable profits from finite-capital participants.
 * - The Systemic Risk Manager: An observer who sees the ruin as a "Noose" 
 * for leveraged entities in volatile markets.
 * * NARRATIVE ARC:
 * Gambler's Ruin is the "Mountain" of stochastic fate—if the walk is long enough, 
 * the boundary of zero is a destiny. For the Casino, it is a "Rope" that 
 * coordinates stable revenue. However, for the individual player, the 
 * "long run" acts as a "Noose" that extracts their entire net worth 
 * (extraction) through the simple "choking" action of variance.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for Deferential Realism Auditor
narrative_ontology:interval(ruin_era, 1650, 2026).
narrative_ontology:constraint_claim(gamblers_ruin_stochastic_extinction, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.9. This is a highly extractive constraint. It mathematically 
% guarantees the total transfer of wealth from the powerless agent to the 
% institutional agent given enough time.
domain_priors:base_extractiveness(gamblers_ruin_stochastic_extinction, 0.9).

% Suppression score (0.0-1.0)
% Rationale: 0.5. It suppresses the visibility of "lucky streaks" as a 
% viable survival strategy, rendering them merely a "Scaffold" that 
% temporarily delays the inevitable Noose.
domain_priors:suppression_score(gamblers_ruin_stochastic_extinction, 0.5).

% Enforcement: Emerges naturally from the axioms of the Random Walk.
domain_priors:emerges_naturally(gamblers_ruin_stochastic_extinction).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(gamblers_ruin_stochastic_extinction, extractiveness, 0.9).
narrative_ontology:constraint_metric(gamblers_ruin_stochastic_extinction, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(gamblers_ruin_stochastic_extinction, casino_corporations).
constraint_beneficiary(gamblers_ruin_stochastic_extinction, deep_pocket_investors). % Use wealth to outlast smaller rivals.
constraint_victim(gamblers_ruin_stochastic_extinction, finite_capital_players).
constraint_victim(gamblers_ruin_stochastic_extinction, leveraged_small_businesses).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE CASINO OWNER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to set house edge and table limits.
   WHEN: biographical - Planning the fiscal health of a multi-decade enterprise.
   WHERE: mobile - Can adjust table rules or diversify risk across games.
   SCOPE: global - Universal standard for gaming establishments.
   
   WHY THIS CLASSIFICATION:
   For the owner, the ruin is a "Rope"—a functional coordination mechanism. 
   It ensures that even in "fair" games (zero edge), the house's deeper 
   reserves act as a safety line. It provides a standard of achievement for 
   long-term profitability by "pulling" the aggregate of finite players 
   toward the house's vault.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    gamblers_ruin_stochastic_extinction,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE FINITE STAKEHOLDER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Lacks the capital to change the math of the walk.
   WHEN: immediate - Every bet is a step closer to or further from the cliff.
   WHERE: trapped - Bound within the session rules and finite wallet.
   SCOPE: local - Immediate neighborhood of their current balance.
   
   WHY THIS CLASSIFICATION:
   For the individual player, the ruin is an unyielding Mountain. They 
   cannot "negotiate" with the probability density. If they play forever, 
   the math dictates their destruction. There is zero agency to change the 
   terminal state of the walk.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gamblers_ruin_stochastic_extinction,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MARGIN-TRADED INVESTOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the intelligence to trade but is bound by margin limits.
   WHEN: immediate - Facing a "Margin Call" that liquidates their position.
   WHERE: constrained - The "exit" requires capital they do not have.
   SCOPE: regional - Impacting local market segments.
   
   WHY THIS CLASSIFICATION:
   In leveraged trading, Gambler's Ruin is a "Noose." It "strangles" the investor 
   during temporary downward variance. Because they have a finite buffer, 
   the market's "randomness" extracts their entire equity (extraction) 
   before the upward trend can return. The volatility "chokes" the 
   life out of their account.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    gamblers_ruin_stochastic_extinction,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :- 
    domain_priors:base_extractiveness(gamblers_ruin_stochastic_extinction, E),
    E >= 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(gamblers_ruin_tests).

test(multi_perspective_variance) :-
    % Casino -> Rope
    constraint_indexing:constraint_classification(gamblers_ruin_stochastic_extinction, Type1, context(institutional, biographical, mobile, global)),
    % Player -> Mountain
    constraint_indexing:constraint_classification(gamblers_ruin_stochastic_extinction, Type2, context(individual_powerless, immediate, trapped, local)),
    Type1 \= Type2.

test(extraction_intensity) :-
    % Demonstrates that the Noose classification highlights the 0.9 extraction of wealth.
    ContextNoose = context(individual_moderate, immediate, constrained, regional),
    constraint_indexing:extractiveness_for_agent(gamblers_ruin_stochastic_extinction, ContextNoose, Score),
    Score >= 0.8.

test(natural_emergence) :-
    domain_priors:emerges_naturally(gamblers_ruin_stochastic_extinction).

:- end_tests(gamblers_ruin_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.9): 
 * I chose 0.9 because the "ruin" is a absolute transfer of wealth. It is 
 * not just a tax; it is a terminal extraction of the entire stake. 
 * * 2. CLASSIFICATION RATIONALE:
 * - Casino Owner (Rope): Using the "Rope" of liquidity to outlast variance.
 * - Player (Mountain): Facing the unyielding law of probability.
 * - Leveraged Trader (Noose): Where the "Mountain" of variance becomes 
 * a "Noose" due to a margin call.
 * * 3. OMEGAS:
 * Formalized the uncertainty of "Infinite Play"—does the Mountain hold 
 * in a universe with finite time and finite house wealth?
 */

% OMEGA IDENTIFICATION
omega_variable(
    finite_bank_symmetry,
    "Is the 'Mountain' stable if the House also has a finite limit (Scaffold)?",
    resolution_mechanism("Calculation of ruin probability with two absorbing boundaries at $0$ and $B_{house}$."),
    impact("If House is finite: The 'Noose' is symmetric; the house can also be ruined."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Stopping Rules (Quit while ahead)
 * Viability: Theoretically possible for an individual to win and stop.
 * Suppression: Actively suppressed by "Compulsive Play" and "Near-Miss" 
 * psychological triggers in casinos (Scaffolding).
 * * ALTERNATIVE 2: Martingale Strategy (Double after loss)
 * Viability: Seems like a "Rope" but is actually a "Noose."
 * Suppression: Suppressed by the "Mountain" of Table Limits and 
 * finite bankrolls.
 * * CONCLUSION:
 * The absence of Alternative 2's viability (due to finite capital) is exactly 
 * what makes the Gambler's Ruin a terminal "Noose" for the individual.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_gamblers_ruin].
 * 2. Analyze: ?- multi_index_report(gamblers_ruin_stochastic_extinction).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: gauss_bonnet_topology
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Gauss-Bonnet Theorem (Differential Geometry / Topology)
% ============================================================================

:- module(constraint_gauss_bonnet, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: gauss_bonnet_topology
 * human_readable: Gauss-Bonnet Theorem (Curvature-Topology Link)
 * domain: mathematical/technological/physical
 * temporal_scope: 1848 - Present (Civilizational)
 * spatial_scope: Global/Abstract (2-Manifolds)
 * * SUMMARY:
 * The Gauss-Bonnet theorem relates the local geometry (Gaussian curvature K) 
 * of a surface to its global topology (Euler characteristic chi). Specifically, 
 * the integral of the curvature over a closed surface is equal to 2*pi*chi. 
 * This creates a rigid quantization of total curvature.
 * * KEY AGENTS:
 * - The Surface (Manifold): The powerless subject whose total curvature is 
 * predestined by its genus (number of holes).
 * - The Cosmologist/General Relativist: An analytical observer who uses 
 * the theorem to infer the global shape of the universe from local data.
 * - The Computer Graphics Architect: An institutional agent who uses the 
 * theorem to validate the "manifoldness" of digital meshes.
 * * NARRATIVE ARC:
 * Gauss-Bonnet is the ultimate "Mountain" of geometry. It demonstrates 
 * that no matter how you "stretch or bend" a surface (local agency), 
 * the total "angular deficit" is a fixed, non-negotiable constant 
 * (topological fate). It acts as a "Rope" for coordination in field 
 * theories but a "Noose" for designers trying to defy the genus 
 * of their workspace.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(gauss_bonnet_era, 1848, 2026).
narrative_ontology:constraint_claim(gauss_bonnet_topology, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Low (0.1). It is a passive structural truth. It "extracts" 
% the ability to have arbitrary curvature/topology combinations.
domain_priors:base_extractiveness(gauss_bonnet_topology, 0.1).

% Suppression score (0.0-1.0)
% Rationale: Low (0.05). It is self-evident in differential geometry; 
% it does not hide alternatives so much as render them logically impossible.
domain_priors:suppression_score(gauss_bonnet_topology, 0.05).

% Enforcement: Emerges naturally from the axioms of calculus and topology.
domain_priors:emerges_naturally(gauss_bonnet_topology).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(gauss_bonnet_topology, extractiveness, 0.1).
narrative_ontology:constraint_metric(gauss_bonnet_topology, suppression_requirement, 0.05).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(gauss_bonnet_topology, global_analysts). % Deduce global from local.
constraint_beneficiary(gauss_bonnet_topology, mesh_validators).
constraint_victim(gauss_bonnet_topology, local_unilateral_curvature). % Curvature must sum to chi.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE LOCAL GEOMETRIC PATCH - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The patch can be shaped, but the "total" is fixed.
   WHEN: immediate - True at every point on the surface.
   WHERE: trapped - Bound by the global Euler characteristic of the whole manifold.
   SCOPE: local - Immediate neighborhood of curvature K.
   
   WHY THIS CLASSIFICATION:
   For any local portion of a surface, the theorem is a "Mountain." No matter 
   how you sharpen one area (high K), you *must* flatten or invert another 
   to compensate, because the total sum is topologically locked.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    gauss_bonnet_topology,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PHYSICS RESEARCHER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design models and use the theorem as a check.
   WHEN: biographical - Spanning the length of a research project or career.
   WHERE: mobile - Can select different manifolds (spheres, tori) for their theory.
   SCOPE: global - Applying the theorem to the topology of space-time.
   
   WHY THIS CLASSIFICATION:
   The theorem is a "Rope" (tool). It allows for the coordination of complex 
   mathematical proofs, letting the researcher skip the labor of full integration 
   by simply identifying the genus of the space.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    gauss_bonnet_topology,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ADAPTIVE MESH ALGORITHM - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - An algorithm tasked with smoothing a mesh.
   WHEN: immediate - Operating per iteration.
   WHERE: constrained - The mesh must remain a specific genus.
   SCOPE: local - Trying to smooth a point without changing connectivity.
   
   WHY THIS CLASSIFICATION:
   In automated mesh optimization, Gauss-Bonnet is a "Noose." If an algorithm 
   needs to resolve a sharp feature on a torus, it is "strangled" by the 
   topological requirement to maintain an average curvature of zero. It 
   extracts massive GPU cycles attempting to distribute the "topological debt" 
   elsewhere.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gauss_bonnet_topology,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(gauss_bonnet_topology, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(gauss_bonnet_tests).

test(topology_fate_variance) :-
    % Surface patch -> Mountain
    constraint_indexing:constraint_classification(gauss_bonnet_topology, Type1, context(individual_powerless, immediate, trapped, local)),
    % Researcher -> Rope
    constraint_indexing:constraint_classification(gauss_bonnet_topology, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(extraction_of_local_agency) :-
    % Even low base extractiveness is felt as a Noose when agency is constrained.
    constraint_indexing:constraint_classification(gauss_bonnet_topology, noose, context(individual_powerless, immediate, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(gauss_bonnet_topology).

:- end_tests(gauss_bonnet_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.1): 
 * Mathematical laws are non-coercive but "extract" possibilities by 
 * establishing forbidden states.
 * * 2. CLASSIFICATION: 
 * Gauss-Bonnet is the quintessence of the "Mountain" type—local 
 * changes cannot escape the global truth.
 * * 3. PERSPECTIVES:
 * Chose the "Local Patch" as the primary subject to show that 
 * "Geometrical freedom is limited by topological reality."
 */

% OMEGA IDENTIFICATION
omega_variable(
    discrete_gauss_bonnet_fidelity,
    "Does the 'Mountain' logic hold for discrete meshes with angular deficit?",
    resolution_mechanism("Verification of the Discrete Gauss-Bonnet theorem across varied mesh densities."),
    impact("If Yes: The Mountain is robust. If No: Numerical noise makes it a Scaffold."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Non-continuous Geometry (Fractals)
 * Viability: Surfaces without defined curvature at every point.
 * Suppression: Gauss-Bonnet requires differentiability; it "suppresses" 
 * the fractal alternative by being the standard for smooth manifolds.
 * * ALTERNATIVE 2: Global Re-parameterization
 * Viability: Change the genus (tear the surface).
 * Suppression: This is a "mobile" exit option that turns the Mountain into a Rope.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [gauss_bonnet_topology].
% Analyze: ?- constraint_indexing:multi_index_report(gauss_bonnet_topology).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: genetic_algorithms_evolution
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Holland, J. H. (1992). Adaptation in Natural and Artificial Systems.
% ============================================================================

:- module(constraint_genetic_algorithms, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: genetic_algorithms_evolution
 * human_readable: Genetic Algorithms (Search by Selection)
 * domain: technological/biological
 * temporal_scope: Biographical to Civilizational
 * spatial_scope: Global
 * * SUMMARY:
 * Genetic Algorithms (GAs) are search heuristics inspired by Charles Darwin’s 
 * theory of natural evolution. They reflect the process of natural selection 
 * where the fittest individuals are selected for reproduction in order to 
 * produce offspring of the next generation.
 * * KEY AGENTS:
 * - The Chromosome: A candidate solution encoded as a string of parameters.
 * - The Fitness Function: The objective evaluator that determines "survival."
 * - The Breeder: The algorithm designer who sets the mutation and crossover rates.
 * * NARRATIVE ARC:
 * GAs function as a "Massively Parallel Rope." Instead of a single climber 
 * attacking a Mountain, a population of agents explores the landscape. 
 * Through "Mutation," they jump across valleys to avoid the "Local Optimum Noose."
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(genetic_algorithms_evolution, 0, 10).
narrative_ontology:constraint_claim(genetic_algorithms_evolution, rope).

% Base extractiveness score (0.1)
% Highly efficient; the primary "cost" is the compute required for generations.
domain_priors:base_extractiveness(genetic_algorithms_evolution, 0.1).

% Suppression score (0.2)
% Alternatives (random search, hill climbing) are visible but usually 
% discarded due to inferiority in complex spaces.
domain_priors:suppression_score(genetic_algorithms_evolution, 0.2).

% Enforcement requirements
domain_priors:emerges_naturally(genetic_algorithms_evolution).

% Metrics 
narrative_ontology:constraint_metric(genetic_algorithms_evolution, extractiveness, 0.1).
narrative_ontology:constraint_metric(genetic_algorithms_evolution, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(genetic_algorithms_evolution, complex_system_designers).
constraint_victim(genetic_algorithms_evolution, weak_candidate_solutions).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SUCCESSFUL OFFSPRING - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile (high mutation potential)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For a solution that has been "selected," the GA is a "Rope." It has 
   provided the path to a high-fitness state. The constraints of the 
   environment served as the coordination mechanism that allowed it to 
   outperform its peers.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    genetic_algorithms_evolution,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(genetic_algorithms_evolution, E),
    E < 0.2,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE UNFIT INDIVIDUAL - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate (single generation)
   WHERE: trapped (cannot improve fast enough to survive)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a solution with low fitness, the GA is a "Noose." The objective 
   function is a rigid bottleneck that "strangles" their persistence 
   in the gene pool. They are the cost paid for the system's progress.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    genetic_algorithms_evolution,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE GENETICIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The analytical observer sees GAs as a "Mountain"—the fundamental 
   logic of how complexity arises from simple selection rules. It is 
   an immutable law of information theory and biology alike.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    genetic_algorithms_evolution,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(genetic_algorithms_evolution),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(genetic_algorithm_tests).

test(fitness_bottleneck) :-
    % Low fitness/powerless agents experience the Noose of selection.
    constraint_indexing:constraint_classification(genetic_algorithms_evolution, noose, context(individual_powerless, _, trapped, _)).

test(evolutionary_mountain) :-
    % The meta-logic of evolution is seen as a Mountain by observers.
    constraint_indexing:constraint_classification(genetic_algorithms_evolution, mountain, context(analytical, _, _, _)).

:- end_tests(genetic_algorithm_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * GAs are the "Multi-Agent" version of Heuristic Optimization. 
 * I set extractiveness to 0.1 because while individuals "die" (Noose), 
 * the system's value increases without coercion.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    premature_convergence,
    "Will a dominant 'good enough' gene pool prevent the discovery of a 'Global Optimum'?",
    resolution_mechanism("Monitoring genetic diversity vs. fitness plateaus over 10^6 generations"),
    impact("If Yes: The GA becomes a 'Local Optimum Noose' for the whole system."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: genetic_predisposition
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Behavioral Genetics / Medical Oncology / Deferential Realism
% ============================================================================

:- module(constraint_genetic_predisposition, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: genetic_predisposition
 * human_readable: Genetic Predisposition
 * domain: technological/social
 * temporal_scope: Permanent (Biological Basis of Life)
 * spatial_scope: Global (Human Population)
 * * SUMMARY:
 * Genetic predisposition refers to an increased likelihood of developing a 
 * particular disease or trait based on an individual's genetic makeup. It 
 * represents a structural biological filter that influences health outcomes, 
 * personality, and capabilities, often operating as an "invisible hand" 
 * before environmental factors are introduced.
 * * KEY AGENTS:
 * - The Genomic Scientist (Analytical): Maps the statistical correlations between 
 * loci and phenotypes.
 * - The Public Health Architect (Institutional): Uses population-level genetic 
 * data to coordinate screening and prevention strategies.
 * - The High-Risk Patient (Individual Powerless): Subject to the biological 
 * "lottery," experiencing the predisposition as a fixed threat to health and 
 * insurance eligibility.
 * * NARRATIVE ARC:
 * Predisposition functions as a "Mountain" of biological reality—a fixed 
 * sequence of base pairs. To the healthcare system, it is a "Rope" (a tool for 
 * personalized medicine). However, for the individual at risk of a terminal 
 * condition, it becomes a "Noose," as the genetic "destiny" extracts peace of 
 * mind and creates a trap of medical surveillance or uninsurability.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor
narrative_ontology:interval(genetic_predisposition_interval, 0, 10).
narrative_ontology:constraint_claim(genetic_predisposition, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: High (0.6). It extracts health, time, and resources. In 
% socio-economic systems, it also extracts financial security through 
% "genetic discrimination" and the cost of preventative care.
domain_priors:base_extractiveness(genetic_predisposition, 0.6).

% Suppression score (0.0-1.0)
% Rationale: Moderate (0.5). Alternatives like "lifestyle-only" models are 
% visible but increasingly suppressed as genomic data reveals the underlying 
% biological constraints that limit the efficacy of simple behavioral changes.
domain_priors:suppression_score(genetic_predisposition, 0.5).

% Enforcement requirements
% Emerges naturally from inheritance; requires active social enforcement (laws) 
% to mitigate the resulting inequalities.
domain_priors:emerges_naturally(genetic_predisposition).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(genetic_predisposition, extractiveness, 0.6).
narrative_ontology:constraint_metric(genetic_predisposition, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(genetic_predisposition, [pharmaceutical_industry, insurance_actuaries]).
constraint_victim(genetic_predisposition, [high_risk_individuals, economically_disadvantaged]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE GENETICIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the biological substrate.
   WHEN: civilizational - Viewing the genome as an evolutionary archive.
   WHERE: trapped - DNA cannot be rewritten within the existing biological frame.
   SCOPE: global - Universal to the species.
   
   WHY THIS CLASSIFICATION:
   To the scientist, the predisposition is a Mountain. It is an unchangeable 
   feature of the individual's hardware. One cannot "negotiate" with a 
   BRCA1 mutation; it is a fixed peak in the person's biological topography 
   that dictates the risk landscape regardless of social policy.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    genetic_predisposition,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE HEALTH MINISTER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to shape screening protocols.
   WHEN: biographical - Managing population health over decades.
   WHERE: arbitrage - Can shift resources from general care to targeted screening.
   SCOPE: national - Country-wide healthcare systems.
   
   WHY THIS CLASSIFICATION:
   For the institution, genetic data is a Rope. It is a coordination mechanism 
   that pulls the health system toward efficiency. By identifying predisposed 
   groups, the state can "tether" resources to those who need them most, 
   transforming a random biological risk into a structured, manageable plan.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    genetic_predisposition,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(genetic_predisposition, E),
    E > 0.3, % Institutional power manages the extraction
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HIGH-RISK INDIVIDUAL - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to their own biology and insurance rules.
   WHEN: immediate - The immediate fear of diagnosis or loss of coverage.
   WHERE: constrained - No way to "exit" one's own genetic identity.
   SCOPE: local - Immediate life and family environment.
   
   WHY THIS CLASSIFICATION:
   For the individual with a severe predisposition, the genetic code is a Noose. 
   The biological "debt" they were born with extracts their peace of mind and 
   financial security. As they age, the "likelihood" of disease tightens, 
   limiting their career choices (staying for insurance) and personal freedom.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    genetic_predisposition,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(genetic_predisposition, E),
    E > 0.5, % High felt extraction of agency and vitality
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(genetic_predisposition_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Powerless sees Noose
    constraint_indexing:constraint_classification(genetic_predisposition, mountain, context(analytical, civilizational, trapped, global)),
    constraint_indexing:constraint_classification(genetic_predisposition, rope, context(institutional, biographical, arbitrage, national)),
    constraint_indexing:constraint_classification(genetic_predisposition, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(genetic_predisposition, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(genetic_predisposition, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability) :-
    % Civilizational view of biology = Mountain
    constraint_indexing:effective_immutability_for_context(context(analytical, civilizational, trapped, global), mountain).

:- end_tests(genetic_predisposition_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.6):
 * Predisposition extracts health and time (biological). It also extracts 
 * wealth (medical costs) and agency (insurance lock-in).
 * * 2. SUPPRESSION SCORE (0.5):
 * The "blank slate" alternative is highly suppressed by modern diagnostics. 
 * Individuals are forced to view themselves as "pre-symptomatic" subjects.
 * * 3. PERSPECTIVE SELECTION:
 * The Researcher (Mountain), the Policy Maker (Rope), and the Patient (Noose) 
 * represent the three primary ways biological "truth" enters the social world.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    epigenetic_plasticity_limit,
    "To what degree can environmental factors (Epigenetics) 'untie' the Noose 
    of genetic predisposition?",
    resolution_mechanism("Long-term mapping of gene-environment interactions 
    across diverse populations"),
    impact("If High: Predisposition becomes a Rope (changeable). If Low: It 
    remains a permanent Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Universal Healthcare/Risk Pooling
 * Viability: High. It socializes the "biological debt" so the individual 
 * doesn't experience a financial Noose.
 * Suppression: Varies by region; often suppressed by private insurance 
 * interests to maintain extraction of high premiums.
 * * CONCLUSION:
 * The presence of socializing alternatives (Universal Risk Pooling) that are 
 * suppressed in certain regimes confirms that Genetic Predisposition is often 
 * a Noose by social design, even if it is a Mountain by biological nature.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_genetic_predisposition].
 * 2. Multi-perspective: ?- multi_index_report(genetic_predisposition).
 * 3. Run tests: ?- run_tests(genetic_predisposition_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: germline_regulation_threshold_2026
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "We can rewrite our genetic code" by Michael Le Page
% ============================================================================

:- module(germline_regulation_threshold_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: germline_regulation_threshold_2026
 * human_readable: International Germline Regulatory Threshold
 * domain: political/technological
 * temporal_scope: 2026-2040
 * spatial_scope: Global (International Governance)
 * * SUMMARY:
 * This constraint focuses on the regulatory barrier preventing the routine use 
 * of CRISPR for germline (inheritable) editing. While somatic editing is 
 * approved, germline editing is currently restricted because it 
 * "isn't yet safe enough to attempt". The "threshold" represents 
 * the scientific and political consensus point where "safe enough" is reached.
 * * KEY AGENTS:
 * - Global Regulator: (Institutional) - Enforces the moratorium until safety 
 * benchmarks are met.
 * - Biotech Innovator: (Individual Powerful) - Views the threshold as a 
 * bottleneck for "better versions of ourselves".
 * - Future Progeny Advocate: (Analytical/Powerless) - Views the threshold 
 * as a protective shield against "errors".
 * * NARRATIVE ARC:
 * The success of somatic treatments like Victoria Gray's puts 
 * pressure on the germline threshold. As clinical trials increase, 
 * regulators must decide if the "rewrite" capability should extend to 
 * future generations.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(germline_regulation_threshold_2026, 0, 10).

% Base extractiveness score: 0.5 (Moderate)
% Rationale: Regulation extracts time and capital from developers to ensure 
% safety, but also prevents "errors" from being hard-coded into 
% the human lineage, which is a form of protection.
domain_priors:base_extractiveness(germline_regulation_threshold_2026, 0.5).

% Suppression score: 0.8 (High)
% Rationale: Non-compliant germline research is actively suppressed or 
% de-funded globally until the "safety threshold" is met.
domain_priors:suppression_score(germline_regulation_threshold_2026, 0.8).

% Enforcement: Requires active enforcement
% Rationale: Regulatory bodies must actively monitor and approve CRISPR 
% therapies.
domain_priors:requires_active_enforcement(germline_regulation_threshold_2026).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(germline_regulation_threshold_2026, human_genetic_integrity).
constraint_victim(germline_regulation_threshold_2026, radical_enhancement_startups).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: GLOBAL REGULATOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-making power)
   WHEN: generational (Thinking about "altering our children's genomes")
   WHERE: mobile (Can adjust thresholds as safety data arrives)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the regulator, the threshold is a "Rope"—a coordination mechanism 
   used to guide the technology safely toward a future where it is 
   "routinely used".
   
   NARRATIVE EVIDENCE:
   The technology "isn't yet safe enough," implying a deliberate 
   hold-and-release strategy.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    germline_regulation_threshold_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: BIOTECH INNOVATOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerful (Significant influence and capital)
   WHEN: biographical (Seeking ROI on "extraordinarily powerful tools")
   WHERE: constrained (Must wait for safety approvals)
   SCOPE: national/regional
   
   WHY THIS CLASSIFICATION:
   For the innovator, the threshold acts as a "Noose." It strangles the 
   commercialization of germline editing even though the "rewrite" capability 
   already exists.
   
   NARRATIVE EVIDENCE:
   "It does seem likely that in the future, CRISPR will be routinely used," 
   yet the current "not safe enough" status prevents immediate use.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    germline_regulation_threshold_2026,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE UNBORN PROGENY - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (No agency in their own genome editing)
   WHEN: civilizational (Permanent changes to genetic code)
   WHERE: trapped (No exit from their own DNA)
   SCOPE: local (Biological self)
   
   WHY THIS CLASSIFICATION:
   For the subject being edited, the regulatory threshold is a "Mountain." 
   It is the only unchangeable barrier protecting their biological 
   blueprint from "errors" until absolute safety is proven.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    germline_regulation_threshold_2026,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(germline_threshold_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(germline_regulation_threshold_2026, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(germline_regulation_threshold_2026, noose, context(agent_power(individual_powerful), _, _, _)),
    constraint_indexing:constraint_classification(germline_regulation_threshold_2026, mountain, context(agent_power(individual_powerless), _, _, _)).

test(safety_as_enforcement) :-
    % High suppression score (0.8) indicates that the "not safe enough" 
    % claim is the primary tool for active regulation.
    domain_priors:suppression_score(germline_regulation_threshold_2026, S),
    S > 0.7.

:- end_tests(germline_threshold_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE GAP: The conflict lies between the Innovator (who sees 
 * the threshold as an arbitrary Noose) and the Progeny (who sees it as 
 * a protective Mountain).
 * 2. REGULATORY ANALYSIS: The Omega variable (safety threshold) is what 
 * prevents the Rope from becoming a Noose for society at large. 
 * If the threshold is set too low, it becomes a "Noose" (permanent errors); 
 * if set too high, it becomes a "Mountain" (denied cures).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - THE SAFETY THRESHOLD
   ========================================================================== */

omega_variable(
    germline_editing_safety_threshold,
    "At what off-target mutation rate does 'not safe enough' become 'routinely safe'?",
    resolution_mechanism("Meta-analysis of hundreds of clinical trials to establish parity with natural mutation rates"),
    impact("If resolved low: Rapid transition to a global Rope. If resolved high: Remains an institutional Mountain."),
    confidence_without_resolution(medium)
).

omega_variable(
    regulatory_arbitrage_risk,
    "Will 'bio-haven' nations lower the threshold early, creating a Noose for international harmonization?",
    resolution_mechanism("Monitoring of national approval timelines for the first germline therapies"),
    impact("If arbitrage occurs: The international 'Rope' breaks, leading to a fragmented Mountain/Noose landscape."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Permanent Global Ban
 * Viability: Historically the default for germline editing.
 * Suppression: Being eroded by the "likely" future routine use mentioned 
 * in the source.
 * * ALTERNATIVE 2: Somatic-Only Limitation
 * Viability: Current status quo.
 * Conclusion: The "Safety Threshold" Omega is the only factor determining 
 * if the world stays at Alternative 2 or moves to full germline "rewriting".
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [germline_regulation_threshold_2026].
% Report: ?- multi_index_report(germline_regulation_threshold_2026).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: gig_economy_algorithmic_management
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: General Economic Analysis of Platform Labor / Gig Economy
% ============================================================================

:- module(constraint_gig_economy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: gig_economy_algorithmic_management
 * human_readable: Algorithmic Management and Information Asymmetry
 * domain: economic/technological
 * temporal_scope: 2010-Present
 * spatial_scope: Global (Urban Platform Markets)
 * * SUMMARY:
 * The "Gig Economy" refers to a labor market characterized by the prevalence 
 * of short-term contracts or freelance work as opposed to permanent jobs. 
 * The core constraint is "algorithmic management," where platforms use 
 * opaque data-driven systems to assign tasks, set prices, and evaluate 
 * performance, creating a significant power imbalance.
 * * KEY AGENTS:
 * - The Driver/Courier: Individual powerless; subject to algorithmic 
 * dispatch and deactivation without traditional due process.
 * - The Platform (Uber/DoorDash): Institutional; holds the rule-making 
 * power and owns the data/market infrastructure.
 * - The Consumer: Individual moderate; benefits from low prices but is 
 * complicit in the extractive feedback loop.
 * * NARRATIVE ARC:
 * The gig economy is marketed as a Rope (flexibility and "being your own 
 * boss"). However, for workers who rely on it as their primary income, the 
 * platform's opaque terms and dynamic pricing function as a Noose. The 
 * inability to see "behind the curtain" of the algorithm makes the 
 * system appear to workers as an unyielding Mountain of market physics.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(platform_labor_epoch, 0, 10).
narrative_ontology:constraint_claim(gig_economy_algorithmic_management, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.8. High extraction; platforms capture significant surplus value 
% while shifting all operational risks (vehicle maintenance, insurance, 
% downtime) onto the individual worker.
domain_priors:base_extractiveness(gig_economy_algorithmic_management, 0.8).

% Suppression score (0.0-1.0)
% Rationale: 0.7. High suppression; the algorithm is a "black box." Workers 
% are often unaware of how their pay is calculated or why they are 
% prioritized for certain tasks, suppressing their ability to negotiate.
domain_priors:suppression_score(gig_economy_algorithmic_management, 0.7).

% Enforcement requirements
% Requires active enforcement (automated deactivation, surge pricing 
% triggers, and behavior-nudging notifications).
domain_priors:requires_active_enforcement(gig_economy_algorithmic_management).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(gig_economy_algorithmic_management, extractiveness, 0.8).
narrative_ontology:constraint_metric(gig_economy_algorithmic_management, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(gig_economy_algorithmic_management, platform_shareholders).
constraint_beneficiary(gig_economy_algorithmic_management, time_constrained_consumers).
constraint_victim(gig_economy_algorithmic_management, full_time_gig_workers).
constraint_victim(gig_economy_algorithmic_management, traditional_service_sectors).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE FULL-TIME DRIVER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Lacks bargaining power; income is 100% 
         dependent on the platform's arbitrary algorithmic shifts.
   WHEN: immediate - Focused on hitting the daily "earnings goal" to pay rent.
   WHERE: trapped - While "free" to log off, the lack of viable alternatives 
         for their specific skill/capital set creates a de facto lock-in.
   SCOPE: local - Navigating the specific streets of their city.
   
   WHY THIS CLASSIFICATION:
   For the full-time worker, the system is a Noose. The platform extracts 
   maximum effort through "gamification" and "nudges," while the payout 
   ratios often tighten over time as the platform seeks profitability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gig_economy_algorithmic_management,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(gig_economy_algorithmic_management, E),
    E > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE "SIDE-HUSTLE" STUDENT - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has other primary income/support; the gig 
         work is supplemental.
   WHEN: immediate - Short-term cash for specific expenses.
   WHERE: mobile - High exit options; can quit at any time without crisis.
   SCOPE: local - Neighborhood-level work.
   
   WHY THIS CLASSIFICATION:
   For the casual user, the gig economy is a Rope—a functional coordination 
   mechanism that allows them to trade spare time for cash on their own 
   terms. The "flexibility" marketed by the platform is a genuine utility 
   for them because they aren't dependent on the "Noose" of the platform's 
   total extractiveness.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gig_economy_algorithmic_management,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(gig_economy_algorithmic_management, E),
    E < 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PLATFORM ARCHITECT - Institutional
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power; they design the incentive 
         structures and pricing tiers.
   WHEN: biographical - Focused on company growth and market dominance.
   WHERE: arbitrage - Plays different labor markets against each other.
   SCOPE: global - Scaling the platform across multiple countries.
   
   WHY THIS CLASSIFICATION:
   The architect sees a Rope. They view the algorithm as a highly 
   sophisticated coordination mechanism that solves the "efficiency 
   problem" of urban logistics. They don't see extraction; they see 
   "market optimization" and "friction reduction."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gig_economy_algorithmic_management,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER (SYSTEMS ANALYST) - Mountain
   --------------------------------------------------------------------------
   WHO: agent_power(analytical) - Observes the unyielding mathematical logic.
   WHEN: immediate - Algorithmic decisions are made in millisecond cycles.
   WHERE: arbitrage - Managing the data flow across global digital networks.
   SCOPE: global - The logic of optimization is a universal digital invariant.
   
   WHY THIS CLASSIFICATION:
   The "Mountain" is the objective function of the algorithm. It is the 
   unchangeable physical law of the platform's digital terrain. While 
   workers feel it as a Noose and managers use it as a Rope, the analyst 
   recognizes it as an immutable structural fact: the system must 
   optimize for efficiency or face total thermodynamic collapse. It is 
   not a "choice" but a mathematical necessity of the business model.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gig_economy_algorithmic_managment,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(immediate),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(gig_economy_algorithmic_managment),
    !.

% Explicit priors reflecting the rigid, unyielding nature of algorithmic logic.
domain_priors:base_extractiveness(gig_economy_algorithmic_managment, 0.4).
domain_priors:suppression_score(gig_economy_algorithmic_managment, 0.3).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(gig_economy_tests).

test(multi_perspective_dependency_gap) :-
    % Driver (Noose) vs Student (Rope)
    constraint_indexing:constraint_classification(gig_economy_algorithmic_management, T1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(gig_economy_algorithmic_management, T2, context(individual_moderate, immediate, mobile, local)),
    T1 \= T2.

test(high_extraction_signature) :-
    domain_priors:base_extractiveness(gig_economy_algorithmic_management, E),
    E > 0.7.

:- end_tests(gig_economy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE DEPENDENCY: The "Gig Economy" is the perfect case study for 
 * how the *exact same* set of rules (the algorithm) appears as a Rope to the 
 * person with high mobility (the student) and a Noose to the person with 
 * low mobility (the full-time driver).
 * 2. EXTRACTIVENESS: Set at 0.8 because of the systemic transfer of 
 * capital risk (depreciation of private assets) to the worker.
 */

omega_variable(
    algorithmic_transparency_impact,
    "Would making the algorithm 100% transparent resolve the Noose, or 
     is the extractiveness inherent in the payout ratios themselves?",
    resolution_mechanism("Comparative analysis of 'transparent' coop platforms vs. 'black-box' corporate platforms"),
    impact("If pay stabilizes: It was a suppression Noose. If pay stays low: 
            It is a pure economic Mountain of low-skill labor supply."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Platform Cooperatives
 * Viability: High in theory (e.g., Drivers Coop in NYC). Workers own the 
 * platform and keep the surplus.
 * Suppression: Suppressed by the lack of venture capital funding for 
 * non-extractive models and the massive marketing budgets of incumbents.
 * * CONCLUSION:
 * The active suppression of cooperative alternatives through market 
 * dominance and predatory pricing confirms the Noose classification for 
 * full-time participants.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [gig_economy_algorithmic_management].
% 2. Analyze: ?- multi_index_report(gig_economy_algorithmic_management).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(gig_economy_algorithmic_managment, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(gig_economy_algorithmic_managment, noose, agent_power(individual_powerless)).
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: gilgamesh_mortality_limit
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: The Epic of Gilgamish (Stephen Langdon / University Museum)
% ============================================================================

:- module(constraint_gilgamesh_mortality, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: gilgamesh_mortality_limit
 * human_readable: The Allotment of Mortality
 * domain: philosophical/religious/social
 * temporal_scope: Ancient Mesopotamia (~2100 BCE)
 * spatial_scope: Uruk / The Waters of Death
 * * SUMMARY:
 * This constraint models mortality as the ultimate physical limit defined in the 
 * Epic. In the text, Gilgamesh—a king of immense power—attempts to treat his 
 * mortality as a "Noose" he can untie through a "Mandate of Immortality". 
 * Ultimately, he discovers that death is a Mountain (a physical law set by the 
 * gods) that extracts the "margin" of human life regardless of rank or strength.
 * * KEY AGENTS:
 * - Gilgamesh (The Seeker): Individual powerful; a king who views his mortality 
 * as an extractive Noose after the death of Enkidu.
 * - Utnapishtim (The Immortal): Institutional/Analytical; an observer who 
 * exists outside the human constraint and defines the "Rope" of survival.
 * - The Gods (Enlil/Anu): Institutional; the architects who allotted death 
 * to mankind while keeping life for themselves.
 * * NARRATIVE ARC:
 * Initially, Gilgamesh views his kingship as a Rope (coordination for fame). 
 * Upon Enkidu's death, his existence becomes a Noose, "choking" his desire 
 * to rule in favor of a frantic search for an escape. He eventually hits the 
 * Mountain (the failed sleep test/the lost plant), transitioning to a 
 * realization that the city walls of Uruk are the only enduring "Scaffold" 
 * available to man.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(gilgamesh_epic_cycle, 0, 10).
narrative_ontology:constraint_claim(gilgamesh_mortality_limit, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 1.0. Death is the ultimate extraction; it takes the entire 
% "margin" of the subject's biological and social presence.
domain_priors:base_extractiveness(gilgamesh_mortality_limit, 1.0).

% Suppression score (0.0-1.0)
% Rationale: 0.9. The "Immortal" alternative is strictly suppressed by 
% biological limits and divine decree (Enlil’s anger).
domain_priors:suppression_score(gilgamesh_mortality_limit, 0.9).

% Enforcement requirements
% Emerges naturally from biological reality (Mountain) but is framed as 
% actively enforced by the divine council (Noose).
domain_priors:emerges_naturally(gilgamesh_mortality_limit).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(gilgamesh_mortality_limit, extractiveness, 1.0).
narrative_ontology:constraint_metric(gilgamesh_mortality_limit, suppression_requirement, 0.9).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(gilgamesh_mortality_limit, divine_monopoly_on_eternal_life).
constraint_beneficiary(gilgamesh_mortality_limit, ecological_population_balance).
constraint_victim(gilgamesh_mortality_limit, gilgamesh).
constraint_victim(gilgamesh_mortality_limit, human_ambition).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: GILGAMESH (POST-ENKIDU) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerful - A king whose power provides no leverage 
         against the "Sleep" or the "End".
   WHEN: immediate - Tactical grief; the realization that "I too shall die."
   WHERE: trapped - Searching through the Cedar Forest and the Waters of Death.
   SCOPE: local - His personal existential dread.
   
   WHY THIS CLASSIFICATION:
   For Gilgamesh, mortality is a Noose. It extracts his joy and his 
   ability to act as King, "choking" his spirit until he can move the 
   weight by finding Utnapishtim. He views death not as a law, but as 
   an extractive enemy that stole Enkidu.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    gilgamesh_mortality_limit,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(gilgamesh_mortality_limit, E),
    E > 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE GODS / UTNAPISHTIM - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional/analytical - Those who set the "allotment" of man.
   WHEN: generational/historical - Viewing humanity as a collective flow.
   WHERE: mobile - Utnapishtim resides "at the mouth of the rivers."
   SCOPE: global - The management of the human race.
   
   WHY THIS CLASSIFICATION:
   From the institutional perspective of the gods, mortality is a Rope. 
   It is a functional coordination mechanism to ensure that the earth 
   is not overpopulated (The Flood myth context) and that the distinction 
   between divine and mortal is maintained. It organizes the world's 
   "noise" into a predictable "rhythm" of life and death.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    gilgamesh_mortality_limit,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(gilgamesh_mortality_limit, E),
    E < 1.1, % Institutional distance creates the illusion of coordination.
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE RETURNED GILGAMESH - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - He returns to Uruk as a man who has failed 
         the test of the "Plant of Heartbeat".
   WHEN: biographical - Acceptance of the life-cycle.
   WHERE: trapped - Within the walls of Uruk.
   SCOPE: local - His final kingdom.
   
   WHY THIS CLASSIFICATION:
   By the end of the Epic, Gilgamesh views mortality as a Mountain. 
   It is an unchangeable, unyielding fact of the world. He stops 
   trying to "un-choke" the Noose and instead starts building the 
   walls of Uruk—a cultural Scaffold that survives the individual's 
   collision with the Mountain.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gilgamesh_mortality_limit,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:emerges_naturally(gilgamesh_mortality_limit),
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(gilgamesh_mortality_tests).

test(the_allotment_delta) :-
    % Institutional view (Rope) vs Mortal view (Mountain)
    constraint_indexing:constraint_classification(gilgamesh_mortality_limit, T1, context(institutional, historical, mobile, global)),
    constraint_indexing:constraint_classification(gilgamesh_mortality_limit, T2, context(individual_powerless, biographical, trapped, local)),
    T1 \= T2.

test(absolute_extraction) :-
    % Death always extracts the biological margin.
    domain_priors:base_extractiveness(gilgamesh_mortality_limit, 1.0).

:- end_tests(gilgamesh_mortality_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. MANDATROPHY ANALYSIS: Gilgamesh’s quest is a "Mandate of Immortality" 
 * that atrophies his duty to his people. He extracts the "margin" of his 
 * energy and his city’s resources to chase a non-viable alternative.
 * 2. THE MOUNTAIN: The "Failed Sleep Test" is the primary diagnostic of 
 * the Mountain. If you cannot even control the "little death" of sleep, 
 * you cannot negotiate with the "Great Death."
 * 3. THE WALLS AS SCAFFOLD: The conclusion shifts the focus from the 
 * individual (who dies) to the city (which remains), a classic Scaffold 
 * against the Mountain of time.
 */

omega_variable(
    the_name_immortality_proxy,
    "Does 'Fame' (The Name-Scaffold) actually resolve the Noose of mortality, 
     or is it a secondary extraction that keeps the hero working for a 
     mandate they will never see?",
    resolution_mechanism("Evaluation of Gilgamesh's legacy vs. his actual 
    biological experience in the text"),
    impact("If Legacy satisfies: The Scaffold works. If he still fears 
            death: It is a deceptive Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Eternal Life (The "Utnapishtim" Scaffold)
 * Viability: Proven viable for one individual through divine intervention.
 * Suppression: Actively suppressed by the Gods who "sealed the allotment" 
 * for all other humans.
 * * ALTERNATIVE 2: The Plant of Heartbeat
 * Viability: Physical medicine to restore youth.
 * Suppression: Stolen by the Serpent—a "random" environmental event that 
 * re-asserts the Mountain.
 * * CONCLUSION:
 * The existence of a single immortal (Utnapishtim) proves that the Noose 
 * is a choice made by the "Institutional" gods, which appears as a 
 * Mountain to the "Individual Powerless" man.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [gilgamesh_mortality_limit].
% 2. Analyze: ?- multi_index_report(gilgamesh_mortality_limit).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: dharma_of_kurukshetra
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 2.0 (AI Thought Partner)
% Source: The Bhagavad-Gita (Edwin Arnold Translation)
% ============================================================================

:- module(dharma_of_kurukshetra, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor for System Extraction
narrative_ontology:interval(dharma_of_kurukshetra, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: dharma_of_kurukshetra
 * human_readable: The Duty of the Kshatriya (Warrior Caste)
 * domain: religious/philosophical/social
 * temporal_scope: Ancient India (The Mahabharata era)
 * spatial_scope: The sacred plain of Kurukshetra
 * * SUMMARY:
 * The "dharma" or sacred duty of the warrior caste (Kshattriya) to fight in a 
 * lawful war, even against kin. It presents an inescapable moral obligation 
 * rooted in the nature of the soul and the cosmic order.
 * * KEY AGENTS:
 * - Arjuna: The Prince/Warrior, experiencing moral distress and viewing the 
 * obligation to kill kin as a destructive "Noose" or "Hell-ward road".
 * - Krishna: The Supreme Being/Charioteer, who reframes the battle as a 
 * "Mountain" (Natural Law of the Spirit) and a "Rope" (Service to the Whole).
 * - Dhritirashtra: The blind King, representing the Institutional view of the 
 * status quo and the rigid results of past actions.
 * * NARRATIVE ARC:
 * Arjuna collapses in distress, refusing to fight. Krishna 
 * instructs him on the immortality of the soul and the necessity of selfless 
 * action (Karma Yoga), transforming Arjuna's perception of the war from 
 * personal slaughter to cosmic necessity.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Base extractiveness: 0.2 (Low)
% While a war extracts lives, the Gita argues that "Right Action" yields 
% no separate profit for the actor; it is for the "upholding of thy kind".
domain_priors:base_extractiveness(dharma_of_kurukshetra, 0.2).

% Suppression: 0.9 (High)
% Alternatives (like fleeing to be a beggar) are explicitly framed as 
% "shameful," "infamous," and "sinful" for a noble-born warrior.
domain_priors:suppression_score(dharma_of_kurukshetra, 0.9).

% Enforcement: Emerges naturally from the cosmic order (Dharma).
domain_priors:emerges_naturally(dharma_of_kurukshetra).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Arjuna (Initial State) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (He feels trapped by family ties and sin)
   WHEN: immediate (The horror of the battle to break tomorrow)
   WHERE: trapped (He sees "mutual slaughter" with no good outcome)
   
   WHY THIS CLASSIFICATION:
   Arjuna sees the constraint as extractive and destructive. It "perisheth" 
   households and leads to "Hell". It is a weight that 
   paralyzes him.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dharma_of_kurukshetra,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(dharma_of_kurukshetra, S),
    S > 0.8.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Krishna (The Teacher) - Rope
   --------------------------------------------------------------------------
   WHO: institutional (The Supreme Lord/Charioteer)
   WHEN: historical (Spanning ages and "Kalpas")
   WHERE: mobile (Beyond the three qualities/modes)
   
   WHY THIS CLASSIFICATION:
   Krishna frames Dharma as a functional coordination mechanism for the world. 
   "Work is more excellent than idleness". It is a path to "highest 
   bliss" and "deliverance" when done without attachment.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dharma_of_kurukshetra,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(global)
    )
).

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The Enlightened Sage (Muni) - Mountain
   --------------------------------------------------------------------------
   WHO: analytical (The observer of the "Qualities")
   WHEN: civilizational (The life of the Spirit is "eternal")
   WHERE: analytical (Not constrained by results)
   
   WHY THIS CLASSIFICATION:
   To the sage, Dharma is an unchangeable Law of Nature. "Life cannot slay. 
   Life is not slain!". Actions are just the "play of visible things" 
   and "Nature's way".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    dharma_of_kurukshetra,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(dharma_of_kurukshetra_tests).

test(perspectival_shift) :-
    % Test that the same duty (Dharma) shifts from Noose to Rope via Knowledge
    constraint_indexing:constraint_classification(dharma_of_kurukshetra, noose, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(dharma_of_kurukshetra, rope, context(agent_power(institutional), _, _, _)).

test(immutability_of_spirit) :-
    % Test that at the highest time horizon, the constraint is a Mountain (Natural Law)
    constraint_indexing:constraint_classification(dharma_of_kurukshetra, mountain, context(_, time_horizon(civilizational), _, _)).

:- end_tests(dharma_of_kurukshetra_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 (Thought Partner)
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS: Set low (0.2). Krishna emphasizes that the warrior 
 * receives no "fruit" if acting rightly. The "extraction" 
 * is of the ego, not for a predatory master.
 * 2. PERSPECTIVES: Arjuna's initial state is the quintessential "Powerless" 
 * view. Krishna represents the "Institutional/Universal" order. 
 * The "Sage" represents the "Analytical" detachment.
 * 3. AMBIGUITY: Dharma is often translated as "Duty" (Rope) or "Law" (Mountain). 
 * The Gita uses the tension between these to resolve Arjuna's crisis.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Sannyas (Renunciation/Asceticism)
 * Viability: Arjuna proposes living on "beggar's bread".
 * Suppression: Krishna argues that "none shall 'scape from act by shunning 
 * action". He redefines Renunciation as the giving up of 
 * *fruit*, not the giving up of *task*.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(gita_kurukshetra, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(gita_kurukshetra, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(gita_kurukshetra, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: glp1_payload_efficiency_pivot
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: New York Times / Jefferies Financial Study (Jan 19, 2026)
% ============================================================================

:- module(constraint_glp1_efficiency, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: glp1_payload_efficiency_pivot
 * human_readable: GLP-1 Adoption and the Airline Fuel-Weight Constraint
 * domain: economic/technological
 * temporal_scope: 2024 - 2030 (Broad adoption window)
 * spatial_scope: National (U.S. Aviation Sector)
 * * SUMMARY:
 * A study by Jefferies highlights a significant second-order effect of GLP-1 
 * weight-loss drugs (e.g., Ozempic): a reduction in average passenger weight 
 * translates to lower aircraft fuel costs. For the four largest U.S. carriers, 
 * this could save up to $580 million annually, representing a 1.5% reduction 
 * in fuel expenses and a potential 4% boost to earnings per share.
 * * KEY AGENTS:
 * - U.S. Airlines (Institutional/Beneficiary): Major carriers like American, 
 * Delta, Southwest, and United who capture fuel savings.
 * - GLP-1 Consumers (Individual/Moderate): Millions of Americans (1 in 8) 
 * whose personal medical choices inadvertently alter industrial cost structures.
 * - Equity Analysts (Analytical/Jefferies): Observing the intersection of 
 * biotech and logistics as a macro-economic lever.
 * * NARRATIVE ARC:
 * Historically, passenger weight was a "variable out of [airlines'] control," 
 * leading to extreme measures like removing olives from salads to save weight. 
 * The rapid adoption of GLP-1 drugs represents a technological shift that 
 * "lightens the load" for the industry, transforming a fixed cost constraint 
 * into a surprising efficiency "perk."
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(glp1_market_impact_2026, 2024, 2030).
narrative_ontology:constraint_claim(glp1_payload_efficiency_pivot, rope).

% Base extractiveness score: Low-Moderate (0.35)
% Rationale: The "extraction" is beneficial (fuel savings). However, there is 
% a second-order extraction of revenue from decreased onboard snack sales 
% as appetite suppression hits airline catering margins.
domain_priors:base_extractiveness(glp1_payload_efficiency_pivot, 0.35).

% Suppression score: Low (0.20)
% Rationale: This is an emerging trend that reduces a previous constraint 
% (excess weight). It doesn't suppress alternatives so much as it makes 
% historical "weight-saving" gimmicks less critical.
domain_priors:suppression_score(glp1_payload_efficiency_pivot, 0.20).

% Enforcement: Does not require active enforcement
% Rationale: The savings are a passive result of biological change; airlines 
% do not need to "force" weight loss to benefit from it.
% domain_priors:requires_active_enforcement(glp1_payload_efficiency_pivot). -> (Left out as per template for zero enforcement)

% Beneficiaries and Victims
constraint_beneficiary(glp1_payload_efficiency_pivot, [major_us_airlines, equity_investors]).
constraint_victim(glp1_payload_efficiency_pivot, [onboard_catering_revenue, snack_manufacturers]).

narrative_ontology:constraint_metric(glp1_payload_efficiency_pivot, extractiveness, 0.35).
narrative_ontology:constraint_metric(glp1_payload_efficiency_pivot, suppression_requirement, 0.20).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: AIRLINE CFO - Rope
   --------------------------------------------------------------------------
   WHO: institutional (Rule-shaping power over corporate budgets)
   WHEN: biographical (Quarterly/Annual financial reporting)
   WHERE: mobile (Can shift fuel hedging strategies or reinvest savings)
   SCOPE: national (U.S. market impact)
   
   WHY THIS CLASSIFICATION:
   For the airline, this is a Rope—a functional coordination tool. It 
   represents an opportunity to optimize margins and "generate additional 
   revenue" through a lighter payload.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    glp1_payload_efficiency_pivot,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: INDIVIDUAL PASSENGER (Non-User) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless (No control over average weight calculations)
   WHEN: immediate (A single flight duration)
   WHERE: trapped (Subject to industry-wide fuel surcharges or catering changes)
   SCOPE: global (The physics of flight)
   
   WHY THIS CLASSIFICATION:
   For the passenger who does not take the drug, the "average weight" 
   calculations used by airlines (Finnair/Korean Air gate weighing) are a 
   Mountain—a natural/regulatory law they must abide by but cannot influence.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    glp1_payload_efficiency_pivot,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: JEFFERIES EQUITY ANALYST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical (Observing the structural link between health and logistics)
   WHEN: historical (The decade of Ozempic dominance)
   WHERE: analytical (Unconstrained, purely observing data)
   SCOPE: national (U.S. Economic trends)
   
   WHY THIS CLASSIFICATION:
   From an analytical view, this is a Mountain. It's a structural 
   re-calibration of "how the plane flies" based on new demographic 
   realities. The math is non-negotiable.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    glp1_payload_efficiency_pivot,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INDIVIDUAL PATIENT (SUBJECT) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - The subject bound by the metabolic mandate.
   WHEN: biographical - The treatment horizon is often life-long.
   WHERE: trapped - Bound by the biological necessity of payload maintenance.
   SCOPE: local - The individual's metabolic health and financial margin.
   
   WHY THIS CLASSIFICATION:
   The "Noose" is the biological lock-in. While institutions see the GLP-1 
   pivot as a coordination tool for public health, the individual feels 
   the tightening of a mandate they cannot easily exit. The high 
   suppression of metabolic alternatives (0.8) and the existential stakes 
   of weight-related pathology (0.8) create a structural trap where 
   compliance is the only path to physiological stability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    glp1_payload_efficiency_pivot,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(glp1_payload_efficiency_pivot),
    !.

% Explicit priors reflecting the high extraction and suppression of the metabolic noose.
domain_priors:base_extractiveness(glp1_payload_efficiency_pivot, 0.7).
domain_priors:suppression_score(glp1_payload_efficiency_pivot, 0.8).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(glp1_efficiency_tests).

test(institutional_perk_as_rope) :-
    % Institutional power sees this as a tool for margin improvement (Rope).
    constraint_indexing:constraint_classification(glp1_payload_efficiency_pivot, rope, context(institutional, _, mobile, _)).

test(demographic_shift_as_mountain) :-
    % The analyst sees the $580M saving as a structural/mathematical inevitability.
    constraint_indexing:constraint_classification(glp1_payload_efficiency_pivot, mountain, context(analytical, _, _, _)).

test(revenue_substitution_effect) :-
    % Extractiveness is moderate because fuel savings are offset by catering losses.
    assertion(domain_priors:base_extractiveness(glp1_payload_efficiency_pivot, 0.35)).

:- end_tests(glp1_efficiency_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. SECOND-ORDER EFFECTS:
 * The most significant insight is the "Substitution of Extraction." 
 * The airline extracts value from fuel savings (positive) but loses 
 * it in catering (negative). This makes the overall "efficiency" 
 * constraint a complex Rope that requires new coordination.
 * * 2. THE OLIVE ANALOGY:
 * The article mentions American Airlines saving $40k by removing an 
 * olive. The $580M GLP-1 effect is over 14,000 times larger, 
 * signaling a transition from "Gimmick Efficiency" to "Structural 
 * Biological Efficiency."
 * * 3. CONNECTION TO TFR83:
 * TFR83 emphasizes winning the race for foundational technologies like 
 * Biotech. This story is a literal example of how a "Biotech win" 
 * (GLP-1 success) has radical, unpredicted impacts on "Logistics and 
 * Infrastructure" (Airlines).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    snack_revenue_decline_magnitude,
    "How much will the loss in onboard snack/alcohol sales offset the fuel savings?",
    resolution_mechanism("Quarterly revenue reports from airline catering subsidiaries."),
    impact("High impact: If catering loss > fuel gain, the 'perk' becomes a Noose."),
    confidence_without_resolution(medium)
).

omega_variable(
    regulatory_weight_standard_revision,
    "Will the FAA revise 'average passenger weight' standards based on GLP-1 data?",
    resolution_mechanism("Monitor FAA advisory circulars regarding weight and balance."),
    impact("If standards are lowered, airlines can carry more cargo/passengers (Rope gets longer)."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Weighing Passengers at the Gate
 * Viability: Mentioned as a "criticized" practice used by Air New Zealand/Finnair.
 * Suppression: Suppressed by social blowback and privacy concerns.
 * Evidence: "The practice... drawn criticism... Passenger waist lines have thus far been out of their control."
 * * ALTERNATIVE 2: Paper/Physical Weight Reduction
 * Viability: Shifting to lighter magazines, pitless olives, etc.
 * Suppression: Reaching the "point of diminishing returns."
 * * CONCLUSION:
 * The existence of these suppressed/limited alternatives (Alternative 1) 
 * proves that the "Biological Solution" (GLP-1) is the only "Rope" that 
 * functions without triggering a PR "Noose."
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Runs the specific report for this biological efficiency pivot
% ?- constraint_indexing:multi_index_report(glp1_payload_efficiency_pivot).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */

% ============================================================================
% CONSTRAINT STORY: goedels_incompleteness_theorems
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Kurt Gödel (1931) / On Formally Undecidable Propositions
% ============================================================================

:- module(constraint_goedel_incompleteness, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: goedels_incompleteness_theorems
 * human_readable: Gödel's Incompleteness Theorems
 * domain: technological/mathematical/philosophical
 * temporal_scope: 1931 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Formal Systems)
 * * SUMMARY:
 * Gödel's theorems prove that in any consistent, recursive axiomatic system 
 * capable of expressing basic arithmetic, there are true statements that 
 * cannot be proven within the system. Furthermore, such a system cannot 
 * prove its own consistency. It represents a fundamental limit on the 
 * reach of formal logic and human-engineered certainty.
 * * KEY AGENTS:
 * - The Mathematical Statement (Subject): A powerless agent whose truth 
 * exists independently of its provability.
 * - The System Architect (Institutional): An agent who uses the theorems 
 * as a "Rope" to coordinate the boundaries of computer science and 
 * automated reasoning.
 * - The Foundationalist (Analytical/Victim): An observer for whom the 
 * theorems act as a "Noose," as they "strangle" the hope of a complete, 
 * self-consistent "Theory of Everything."
 * * NARRATIVE ARC:
 * Originally a shock to the mathematical world, Gödel's work is a "Mountain" 
 * of logical reality—an unyielding feature of the universe of numbers. In 
 * software verification, it is a "Rope" for functional coordination, 
 * helping engineers avoid the "Noose" of impossible verification goals. 
 * However, for the Hilbert-era idealist, the theorems act as a "Noose," 
 * extracting the "certainty of reason" (extraction) and proving that 
 * formal systems are fundamentally "incomplete" (choking).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction and indexer coordination
narrative_ontology:interval(goedel_era, 1931, 2026).
narrative_ontology:constraint_claim(goedels_incompleteness_theorems, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. While a "gift" of structural depth, it "extracts" 
% the possibility of a final, closed formalization of mathematics, 
% imposing a "tax" of irreducible mystery on all formal systems.
domain_priors:base_extractiveness(goedels_incompleteness_theorems, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.35. It suppresses the visibility of "Totalitarian Logic," 
% rendering the idea that a single system can solve all truths 
% mathematically fraudulent.
domain_priors:suppression_score(goedels_incompleteness_theorems, 0.35).

% Enforcement: Emerges naturally from the self-reference of arithmetic.
domain_priors:emerges_naturally(goedels_incompleteness_theorems).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(goedels_incompleteness_theorems, extractiveness, 0.2).
narrative_ontology:constraint_metric(goedels_incompleteness_theorems, suppression_requirement, 0.35).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(goedels_incompleteness_theorems, meta_mathematicians).
constraint_beneficiary(goedels_incompleteness_theorems, computational_complexity_researchers).
constraint_victim(goedels_incompleteness_theorems, hilbert_program_advocates).
constraint_victim(goedels_incompleteness_theorems, axiomatic_purists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ARITHMETIC PROPOSITION - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The statement has no agency over its provability.
   WHEN: immediate - Its status as "true but unprovable" is fixed at its definition.
   WHERE: trapped - Bound within the formal system it inhabits.
   SCOPE: local - Immediate neighborhood of its specific logical symbols.
   
   WHY THIS CLASSIFICATION:
   For an individual statement like the Gödel sentence ("I am not provable"), 
   the theorem is a Mountain. It is an absolute, unyielding law of its 
   mathematical existence. It cannot "choose" to be provable without 
   collapsing the consistency of the entire system.
   
   
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    goedels_incompleteness_theorems,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COMPILER/SYSTEM DESIGNER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design languages and set the rules for proof assistants.
   WHEN: biographical - Planning the robustness of a toolchain over decades.
   WHERE: mobile - Can choose different axiomatic strengths or "heuristics."
   SCOPE: global - Universal foundation for reliable software.
   
   WHY THIS CLASSIFICATION:
   For the institutional actor, the theorem is a "Rope"—a functional 
   coordination tool. By mapping the "Mountain" of undecidability, they 
   coordinate a "standard of achievement" for what *can* be verified, 
   pulling the system away from the "Noose" of attempting the impossible.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    goedels_incompleteness_theorems,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HILBERT-ERA IDEALIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools of logic but is bound by the theorem's limit.
   WHEN: civilizational - Seeking a complete, consistent, and provable universe.
   WHERE: constrained - The "exit" (completeness) is mathematically barred.
   SCOPE: global - Universal limit on formal thought.
   
   WHY THIS CLASSIFICATION:
   For the seeker of absolute deductive completeness, Gödel's theorem is a 
   "Noose." It "strangles" the hope that "we must know, we will know" 
   (Hilbert's *Ignorabimus*). It extracts the "certainty of the foundation" 
   (extraction) by proving that any system we build will be "choked" by its 
   own inherent limitations.
   
   
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    goedels_incompleteness_theorems,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(goedels_incompleteness_theorems, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(goedel_incompleteness_tests).

test(multi_perspective_variance) :-
    % Statement -> Mountain
    constraint_indexing:constraint_classification(goedels_incompleteness_theorems, Type1, context(individual_powerless, immediate, trapped, local)),
    % Designer -> Rope
    constraint_indexing:constraint_classification(goedels_incompleteness_theorems, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(metaphysical_extraction_penalty) :-
    % Foundationalists experience the "Noose" of logical extraction.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(goedels_incompleteness_theorems, Context, Score),
    Score >= 0.15.

test(natural_emergence) :-
    domain_priors:emerges_naturally(goedels_incompleteness_theorems).

:- end_tests(goedel_incompleteness_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.2): 
 * Chose this because Gödel's work extracts the "dream of absolute provability." 
 * While it provides clarity, it imposes a "tax" of permanent uncertainty 
 * on all ambitious formalists.
 * 2. CLASSIFICATION: 
 * Captured the transition from a "Mountain" of formal reality for the 
 * statement to a "Noose" for the philosopher seeking completeness.
 * 3. OMEGA IDENTIFICATION: 
 * Formalized the uncertainty regarding "Human Intuition"—can our minds 
 * "see" truths that machines (Mountain) cannot?
 */

% OMEGA IDENTIFICATION
omega_variable(
    mathematical_intuition_mechanism,
    "Is human mathematical intuition a 'Mountain' that transcends formal systems (Mountain) or a biological 'Scaffold' (Scaffold)?",
    resolution_mechanism("Investigation into whether the human brain utilizes non-algorithmic/quantum processes for proof-finding."),
    impact("If Mountain: Gödel's limit applies only to machines. If Scaffold: Humans are also bound by the Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Weakening the System (Finitism)
 * Viability: Systems that cannot express arithmetic avoid the "Noose" 
 * of incompleteness.
 * Suppression: Rejected for general mathematics because it "strangles" 
 * the power to do almost any useful science.
 * * ALTERNATIVE 2: Accepting Inconsistency (Paraconsistent Logic)
 * Viability: Systems that allow contradictions without total collapse.
 * Suppression: Generally suppressed in classical math as a "fake Rope" 
 * that destroys the "Mountain" of objective Truth.
 * * CONCLUSION:
 * The existence of Alternative 1 proves that Incompleteness is the specific 
 * "Noose" we pay for the "Rope" of powerful, useful arithmetic.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [goedels_incompleteness_theorems].
 * 2. Multi-perspective: ?- multi_index_report(goedels_incompleteness_theorems).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(godels_incompleteness_theorems, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(godels_incompleteness_theorems, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(godels_incompleteness_theorems, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: goldbach_conjecture
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Goldbach's Strong Conjecture (1742)
% ============================================================================

:- module(constraint_goldbach_conjecture, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: goldbach_conjecture
 * human_readable: Goldbach's Strong Conjecture
 * domain: mathematical/technological
 * temporal_scope: 1742 - Present (Civilizational)
 * spatial_scope: Global/Abstract (The Even Number Line)
 * * SUMMARY:
 * Goldbach's Strong Conjecture asserts that every even integer greater than 2 
 * is the sum of two prime numbers. Despite being verified for all even integers 
 * up to 4 x 10^18, it remains unproven. It represents a fundamental structural 
 * constraint on the additive properties of primes.
 * * KEY AGENTS:
 * - The Even Integer (n): The powerless subject which, if the conjecture holds, 
 * possesses no "exit option" from containing at least one prime pair (p, q).
 * - The Mathematician (Institutional): Uses the conjecture as a heuristic "Rope" 
 * to coordinate research in analytical number theory and prime distribution.
 * - The Computational Searcher (Individual Powerless): A process searching for 
 * counterexamples, bound by the tightening "Noose" of increasing numerical 
 * magnitudes.
 * * NARRATIVE ARC:
 * Goldbach is the ultimate "Mountain" of empirical observation—a wall of truth 
 * that has never been breached. For the community, it serves as a "Rope" for 
 * probabilistic reasoning. However, for the solver, the lack of a constructive 
 * proof acts as a "Noose," extracting centuries of cognitive labor without 
 * yielding the finality of a formal theorem.
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(goldbach_era, 1742, 2026).
narrative_ontology:constraint_claim(goldbach_conjecture, mountain).

% Base extractiveness: 0.15
% Rationale: High-level mathematical truths are non-coercive. However, the 
% unsolved status "extracts" massive cognitive and computational resources 
% in the search for a proof or counterexample.
domain_priors:base_extractiveness(goldbach_conjecture, 0.15).

% Suppression score: 0.1
% Rationale: It renders the existence of "prime-pair-less" even integers 
% logically impossible, though it does not suppress other mathematical fields.
domain_priors:suppression_score(goldbach_conjecture, 0.1).

% Enforcement: Emerges naturally from the structure of arithmetic.
domain_priors:emerges_naturally(goldbach_conjecture).

% Metrics
narrative_ontology:constraint_metric(goldbach_conjecture, extractiveness, 0.15).
narrative_ontology:constraint_metric(goldbach_conjecture, suppression_requirement, 0.1).

% Beneficiaries & Victims
constraint_beneficiary(goldbach_conjecture, heuristic_analysts).
constraint_beneficiary(goldbach_conjecture, additive_number_theory).
constraint_victim(goldbach_conjecture, cognitive_resources). % Centuries of failed proofs.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EVEN INTEGER (n) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The number has no agency over its prime factors.
   WHEN: immediate - The property is true for all n simultaneously.
   WHERE: trapped - Bound within the rigid logical structure of integers.
   SCOPE: global - Applies to all even integers to infinity.
   
   WHY THIS CLASSIFICATION:
   For any even integer, the requirement to be a sum of two primes is a natural 
   law. There is zero "choice" or variance; it is an unchangeable feature of 
   arithmetic reality.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    goldbach_conjecture,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE INSTITUTIONAL MATHEMATICIAN - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to use the conjecture as a standard for theory.
   WHEN: civilizational - Long-term coordination of mathematical progress.
   WHERE: mobile - Can adjust heuristics or assume the conjecture to prove others.
   SCOPE: global - Worldwide standard of achievement.
   
   WHY THIS CLASSIFICATION:
   For the research community, the conjecture is a "Rope"—a tool for 
   coordination. It allows mathematicians to build "conditional" theorems 
   that assume Goldbach is true, facilitating progress in the interim.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    goldbach_conjecture,
    rope,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE COMPUTATIONAL BRUTE-FORCER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - A search algorithm bound by O(n) complexity.
   WHEN: immediate - Every cycle spent at high magnitudes is an extraction.
   WHERE: constrained - Forced to check every integer without a shortcut.
   SCOPE: local - A specific, massive range of the number line.
   
   WHY THIS CLASSIFICATION:
   When searching for a counterexample at the limits of current hardware, the 
   conjecture acts as a "Noose." It extracts massive electricity and FLOPs 
   while the "space" of potential failure remains unreachably vast, 
   strangling the efficiency of the search.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    goldbach_conjecture,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(goldbach_conjecture, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(goldbach_conjecture_tests).

test(empirical_fate_variance) :-
    % Integer -> Mountain
    constraint_indexing:constraint_classification(goldbach_conjecture, Type1, context(individual_powerless, immediate, trapped, global)),
    % Community -> Rope
    constraint_indexing:constraint_classification(goldbach_conjecture, Type2, context(institutional, civilizational, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(search_difficulty_noose) :-
    % A powerless searcher in a local range sees the search as a Noose.
    constraint_indexing:constraint_classification(goldbach_conjecture, noose, context(individual_powerless, immediate, constrained, local)).

test(extraction_is_low_but_present) :-
    domain_priors:base_extractiveness(goldbach_conjecture, E),
    E < 0.2.

:- end_tests(goldbach_conjecture_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE GAP: The primary insight is the gap between the "Mountain" 
 * of empirical truth (it has always held) and the "Noose" of its unproven 
 * nature.
 * 2. IMAGE SELECTION: Included "Goldbach's Comet" as it informs the user on 
 * the *density* of the partitions, illustrating why it likely holds 
 * (the "Rope" of heuristic probability).
 * 3. EXTRACTIVENESS: Labeled as 0.15—low because math is a gift, but 
 * significant because the *effort* to prove it has extracted literal 
 * lifetimes from thousands of mathematicians.
 */

% OMEGA IDENTIFICATION
omega_variable(
    undecidability_risk,
    "Is Goldbach's Conjecture a 'Mountain' (True) or a 'Scaffold' (Unprovable in ZFC)?",
    resolution_mechanism("Meta-mathematical analysis of the conjecture's independence from standard axioms."),
    impact("If Independent: The 'Mountain' is a mirage. if Provable: It is a true 'Rope'."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Weak Goldbach Conjecture (Ternary Goldbach)
 * Viability: Every odd number > 5 is the sum of three primes.
 * Status: Proven by Harald Helfgott in 2013.
 * Role: Served as a "Rope" that allowed the community to bridge toward 
 * the Strong conjecture.
 * * ALTERNATIVE 2: Exceptions exist at non-computable scales.
 * Viability: Heuristically unlikely (see comet density), but logically 
 * possible without a proof.
 * Conclusion: The "Noose" of the search exists because this alternative 
 * cannot be formally suppressed yet.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [goldbach_conjecture].
% Report: ?- constraint_indexing:multi_index_report(goldbach_conjecture).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: golden_handcuffs
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Compensation Design / Behavioral Economics / Retention Strategy
% ============================================================================

:- module(constraint_golden_handcuffs, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: golden_handcuffs
 * human_readable: Golden Handcuffs (Vesting-Based Retention)
 * domain: economic/social
 * temporal_scope: Biographical (4-10 year vesting cycles)
 * spatial_scope: Regional to Global (Corporate)
 * * SUMMARY:
 * Golden Handcuffs refer to financial incentives, such as restricted stock units 
 * (RSUs) or stock options, that vest over several years. They are designed to 
 * discourage high-value employees from leaving by making the "exit cost" 
 * (forgone unvested equity) prohibitively expensive.
 * * KEY AGENTS:
 * - The Executive/Engineer: The high-performer whose mobility is being restricted.
 * - The Shareholder: The beneficiary of stable, long-term talent retention.
 * - The Recruiter (External): The agent attempting to "buy out" the handcuffs.
 * * NARRATIVE ARC:
 * The constraint is a "Financial Gravity Well." It solves the Dead Sea Effect 
 * by forcing the "fresh water" (high-performers) to stay through economic 
 * weight. It transforms a liquid labor market into a series of timed lock-ins.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(golden_handcuffs, 0, 10).
narrative_ontology:constraint_claim(golden_handcuffs, rope).

% Base extractiveness: Moderate (0.4).
% While the employee receives high compensation, the organization extracts 
% the employee's mobility and bargaining power over the vesting period.
domain_priors:base_extractiveness(golden_handcuffs, 0.4).

% Suppression: Low (0.2).
% The constraint is explicit and transparent in the contract; alternatives 
% (leaving) are visible but carry a clear, calculated price tag.
domain_priors:suppression_score(golden_handcuffs, 0.2).

% Enforcement: Requires active enforcement (Legal contracts/Payroll systems).
domain_priors:requires_active_enforcement(golden_handcuffs).

% Beneficiaries: The Employer (stability), The Patient Investor.
constraint_beneficiary(golden_handcuffs, institutional_employers).

% Victims: The "Locked-In" Employee (may suffer burnout or lack of growth 
% but feels unable to leave due to the financial penalty).
constraint_victim(golden_handcuffs, unvested_employees).

% Metrics
narrative_ontology:constraint_metric(golden_handcuffs, extractiveness, 0.4).
narrative_ontology:constraint_metric(golden_handcuffs, suppression_requirement, 0.2).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RECRUITER - Noose
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: immediate (the hiring window)
   WHERE: constrained (must offer "sign-on bonuses" to break the handcuffs)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For an external recruiter trying to hire a candidate, the handcuffs are a 
   "Noose." They strangle the flow of talent and make hiring prohibitively 
   expensive, as the recruiter must often "buy out" the candidate's unvested 
   shares just to reach parity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    golden_handcuffs,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :-
    domain_priors:requires_active_enforcement(golden_handcuffs),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE EMPLOYEE - Rope
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: biographical (wealth building)
   WHERE: arbitrage (can use high equity to negotiate even higher offers)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the high-earning employee, the handcuffs are a "Rope." They represent 
   a structured ladder to significant wealth. While they limit mobility, 
   the employee often views them as a coordination tool for their own 
   long-term financial security and status.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    golden_handcuffs,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LABOR MARKET ANALYST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The analyst sees golden handcuffs as a "Mountain" of capital allocation. 
   Vesting schedules are a standard, immutable feature of modern tech and 
   finance landscapes. They are the "geography" through which labor 
   must flow, dictating cycles of "cliffs" and "refreshes."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    golden_handcuffs,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(golden_handcuffs), % As a market norm
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(golden_handcuffs_tests).

test(wealth_effect_variance) :-
    % Powerful agents see the coordination (Rope); recruiters see the barrier (Noose).
    constraint_indexing:constraint_classification(golden_handcuffs, rope, context(individual_powerful, _, _, _)),
    constraint_indexing:constraint_classification(golden_handcuffs, noose, context(individual_moderate, _, _, _)).

test(vesting_cycle_immutability) :-
    % Analytical perspective treats the market norm as a Mountain.
    constraint_indexing:constraint_classification(golden_handcuffs, mountain, context(analytical, _, _, _)).

:- end_tests(golden_handcuffs_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Golden Handcuffs are a fascinating "voluntary" constraint. I set 
 * extractiveness to 0.4 because the employee is compensated for their 
 * lack of mobility. It is the opposite of the Dead Sea Effect: it is 
 * the "anti-evaporator" for talent.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    market_volatility_impact,
    "If the stock price drops below the strike price, do the handcuffs break?",
    resolution_mechanism("Analysis of employee turnover during market downturns ('underwater' options)"),
    impact("If Stock Drops: The Mountain/Rope vanishes; the Dead Sea Effect resumes."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: goodharts_law
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Charles Goodhart (1975) / Marilyn Strathern (1997) / Economics
% ============================================================================

:- module(constraint_goodharts_law, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: goodharts_law
 * human_readable: Goodhart's Law
 * domain: economic/social/technological
 * temporal_scope: Modern Bureaucratic/Algorithmic Era
 * spatial_scope: Global (Institutional/Digital Systems)
 * * SUMMARY:
 * Goodhart's Law states that "When a measure becomes a target, it ceases to be 
 * a good measure." It describes the process where agents optimize for a 
 * proxy metric rather than the intended outcome, leading to systemic 
 * distortion, gaming, and the collapse of the metric's informational value.
 * * KEY AGENTS:
 * - The Administrator (Institutional): Sets the metric to manage at scale.
 * - The Optimizer (Individual Moderate): Strategically games the metric to 
 * maximize personal or departmental rewards.
 * - The Analytical Observer: Recognizes the divergence between the proxy 
 * and the reality it was meant to represent.
 * * NARRATIVE ARC:
 * To manage complexity, an institution creates a "Rope" (a metric) to pull 
 * behavior toward a goal. However, agents begin to treat the Rope as the 
 * goal itself. As optimization for the metric increases, the connection to 
 * reality snaps, turning the metric into a "Noose" that strangles actual 
 * productivity and truth, while appearing as a "Mountain" of inevitable 
 * bureaucratic logic to those trapped within it.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for ID extraction
narrative_ontology:interval(goodharts_law_interval, 0, 10).
narrative_ontology:constraint_claim(goodharts_law, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.5). It extracts "systemic truth" and "genuine utility." 
% It benefits those who can "game" the system while extracting effort and 
% resources from those attempting to fulfill the original, unmeasured goal.
domain_priors:base_extractiveness(goodharts_law, 0.5).

% Suppression score (0.0-1.0)
% Rationale: High (0.7). The metric actively suppresses qualitative 
% alternatives. Once a target is set, work that does not contribute to 
% the metric becomes "invisible" or "valueless" to the institution.
domain_priors:suppression_score(goodharts_law, 0.7).

% Enforcement requirements
% Emerges naturally from the interaction between rational agents and 
% simplified feedback loops.
domain_priors:emerges_naturally(goodharts_law).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(goodharts_law, [metric_gamers, bureaucratic_optimizers]).
constraint_victim(goodharts_law, [systemic_integrity, qualitative_performers]).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(goodharts_law, extractiveness, 0.5).
narrative_ontology:constraint_metric(goodharts_law, suppression_requirement, 0.7).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ECONOMIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the laws of incentives and information.
   WHEN: civilizational - Viewing human response to incentives as a constant.
   WHERE: analytical - Not a participant in the specific reward loop.
   SCOPE: global - Universal to all formal incentive systems.
   
   WHY THIS CLASSIFICATION:
   To the economist, Goodhart's Law is a Mountain. It is an unchangeable 
   feature of the informational landscape. You cannot "fix" it through 
   better metrics; any proxy will eventually succumb to the same 
   optimizing pressure. It is a fixed peak in the topography of social 
   science.
   
   NARRATIVE EVIDENCE:
   "Any observed statistical regularity will tend to collapse once 
   pressure is placed upon it for control purposes."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    goodharts_law,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, analytical, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE DATA ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design and implement metrics/dashboards.
   WHEN: biographical - Managing systems over a career.
   WHERE: arbitrage - Can pivot between different metrics to minimize gaming.
   SCOPE: national - Infrastructure for a large organization or state.
   
   WHY THIS CLASSIFICATION:
   For the designer, metrics are a Rope. They are coordination mechanisms. 
   While the law is a risk, the metric is the only tool available to 
   pull a massive, distributed organization toward a unified goal. They 
   use the constraint as a tether to manage complexity, periodically 
   "re-tying" the rope as it begins to fray.
   
   NARRATIVE EVIDENCE:
   "We need a KPI to track progress; without it, we have no way to 
   coordinate thousands of employees toward the objective."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    goodharts_law,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(goodharts_law, E),
    E < 0.7, % It remains a tool if handled with institutional power
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE OVER-MANAGED WORKER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the "performance review" of the metric.
   WHEN: immediate - Today's quota or deadline.
   WHERE: constrained - High cost to ignoring the metric (firing/demotion).
   SCOPE: local - Immediate workspace and task list.
   
   WHY THIS CLASSIFICATION:
   For the worker, the law is a Noose. They are forced to perform 
   meaningless tasks just to "hit the number," even when they know it 
   harms the actual goal. The extraction of their professional integrity 
   strangles their sense of purpose, while the metric itself tightens 
   as management "optimizes" the targets.
   
   NARRATIVE EVIDENCE:
   "I spent all day filling out forms to meet the 'compliance' quota 
   instead of actually helping the client; the system is a trap."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    goodharts_law,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(goodharts_law, E),
    E > 0.4, % Extraction of agency and job utility
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(goodharts_law_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Powerless sees Noose
    constraint_indexing:constraint_classification(goodharts_law, mountain, context(analytical, civilizational, analytical, global)),
    constraint_indexing:constraint_classification(goodharts_law, rope, context(institutional, biographical, arbitrage, national)),
    constraint_indexing:constraint_classification(goodharts_law, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_gaming) :-
    % Powerless workers feel the total extraction of their utility (Noose).
    % Institutional leaders leverage metrics for coordination (Rope).
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(goodharts_law, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(goodharts_law, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability_incentives) :-
    % Civilizational scale view treats incentive failure as a Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(goodharts_law_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.5):
 * Reasoning: Goodhart's Law extracts "truth" and "agency." It forces 
 * agents to act as puppets for a proxy metric, effectively 
 * extracting their qualitative value and redirecting it into 
 * measurable, but often useless, quantitative outputs.
 * * 2. SUPPRESSION SCORE (0.7):
 * Reasoning: High. Metrics are inherently exclusionary. Any 
 * alternative reality that cannot be quantified is effectively 
 * suppressed from the institutional view.
 * * 3. PERSPECTIVE SELECTION:
 * Chose the Analyst (Law), the Designer (Tool), and the 
 * Worker (Victim) to highlight the indexical shift from "Math" 
 * to "Policy" to "Suffering."
 * * 4. CLASSIFICATION RATIONALE:
 * The "Noose" for the powerless is critical; it shows how a 
 * management "Rope" becomes a trap when there is no exit 
 * option or feedback loop.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    metric_corruption_threshold,
    "At what degree of 'optimization pressure' does a metric's utility 
    cross the threshold from Rope to Noose (The Phase Transition)?",
    resolution_mechanism("Longitudinal study of KPI health vs. actual 
    outcomes in high-pressure bureaucratic environments"),
    impact("If Low: Almost all metrics are Nooses. If High: Metrics can 
    be maintained as Ropes for longer periods."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Qualitative/Holistic Assessment (Expert Judgment)
 * Viability: High in small systems. Relies on human trust and nuance.
 * Suppression: High in large systems. It is "unscalable" and 
 * viewed as "biased" or "non-transparent" by modern bureaucracy.
 * * ALTERNATIVE 2: Multi-Metric Frameworks (Anti-Gaming Metrics)
 * Viability: Attempting to balance one metric with another to prevent 
 * narrow optimization.
 * Suppression: Low. This is the "Rope" institutional architects use, 
 * though it eventually succumbs to the same law.
 * * CONCLUSION:
 * The existence of suppressed qualitative alternatives confirms that 
 * for the individual, Goodhart's Law is a Noose created by the 
 * institutional choice of "Scalability" over "Nuance."
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_goodharts_law].
 * 2. Multi-perspective: ?- multi_index_report(goodharts_law).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: gradient_descent_optimization
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Numerical Optimization / Machine Learning Theory
% ============================================================================

:- module(constraint_gradient_descent, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: gradient_descent_optimization
 * human_readable: Gradient Descent (Iterative Optimization)
 * domain: technological/mathematical
 * temporal_scope: 1847 (Cauchy) - Present (Civilizational)
 * spatial_scope: Global/Abstract (Differentiable loss landscapes)
 * * SUMMARY:
 * Gradient Descent is a first-order iterative optimization algorithm for finding 
 * a local minimum of a differentiable function. It takes steps proportional to 
 * the negative of the gradient of the function at the current point.
 * * KEY AGENTS:
 * - The Parameter Iterate (theta): A powerless agent following the geometric path.
 * - The ML Practitioner: An institutional agent who "tailors" the learning rate.
 * - The Loss Landscape: The "Mountain" of objective reality the agents must navigate.
 * * NARRATIVE ARC:
 * Gradient Descent functions as a "Rope" for the practitioner—a functional tool 
 * to reach equilibrium. For the parameter set itself, the loss landscape is a 
 * "Mountain" of fixed physical truth. However, in "vanishing gradient" 
 * scenarios or poorly tuned hyper-parameters, the method becomes a "Noose," 
 * extracting massive GPU cycles for zero movement toward the root.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(gradient_descent_optimization, 1847, 2026).
narrative_ontology:constraint_claim(gradient_descent_optimization, rope).

% Base extractiveness: 0.3
% Rationale: It extracts "computational labor" (FLOPs). While fundamental, 
% the cost of convergence is a direct extraction from the system's energy.
domain_priors:base_extractiveness(gradient_descent_optimization, 0.3).

% Suppression score: 0.2
% Rationale: Low. While GD is the "default," second-order methods (Newton) 
% or Evolutionary strategies are highly visible alternatives.
domain_priors:suppression_score(gradient_descent_optimization, 0.2).

% Enforcement: Emerges from the laws of multivariate calculus.
domain_priors:emerges_naturally(gradient_descent_optimization).

% Metrics
narrative_ontology:constraint_metric(gradient_descent_optimization, extractiveness, 0.3).
narrative_ontology:constraint_metric(gradient_descent_optimization, suppression_requirement, 0.2).

% Beneficiaries & Victims
constraint_beneficiary(gradient_descent_optimization, artificial_intelligence).
constraint_beneficiary(gradient_descent_optimization, automation_systems).
constraint_victim(gradient_descent_optimization, hardware_longevity). % Thermal/Compute wear.
constraint_victim(gradient_descent_optimization, energy_budgets).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PARAMETER VECTOR (theta) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The iterate has zero agency over the update rule.
   WHEN: immediate - Focused on the single step from t to t+1.
   WHERE: trapped - Bound by the gradient $\nabla J(\theta)$ and the topology.
   SCOPE: local - Immediate neighborhood of the current coordinate.
   
   WHY THIS CLASSIFICATION:
   For the parameters being optimized, the update rule is a natural law. 
   The iterate cannot "choose" to go uphill or sidestep a saddle point. 
   The landscape is its absolute, unchangeable reality.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    gradient_descent_optimization,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ML ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to set the learning rate $\eta$ and momentum.
   WHEN: biographical - Planning the training run of a model (days/weeks).
   WHERE: mobile - Can switch to Adam, RMSProp, or change the loss function.
   SCOPE: global - Designing the overall convergence strategy.
   
   WHY THIS CLASSIFICATION:
   For the engineer, GD is a "Rope"—a tool for functional coordination. 
   By adjusting the "tension" (learning rate), they pull the model toward 
   the desired standard of achievement (low error).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gradient_descent_optimization,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: VANISHING GRADIENTS / FLAT PLATEAUS - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - An iterate stuck with a gradient of $\approx 0$.
   WHEN: immediate - Each update step yields no progress.
   WHERE: constrained - The iterate is "legally" iterating but functionally dead.
   SCOPE: local - A vast, flat region of the loss surface.
   
   WHY THIS CLASSIFICATION:
   In a flat plateau, the algorithm "strangles" the model. It extracts massive 
   computational power (energy/time) while providing no movement. The iterate 
   is "trapped" in a convergent loop that leads nowhere, acting as a Noose.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    gradient_descent_optimization,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(gradient_descent_optimization, E),
    E >= 0.3.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(gradient_descent_tests).

test(geometry_vs_agency_variance) :-
    % Iterate -> Mountain
    constraint_indexing:constraint_classification(gradient_descent_optimization, Type1, context(individual_powerless, immediate, trapped, local)),
    % Engineer -> Rope
    constraint_indexing:constraint_classification(gradient_descent_optimization, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(extraction_efficiency) :-
    % The powerless iterate experiences the extraction of cycles as a hard limit.
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    constraint_indexing:extractiveness_for_agent(gradient_descent_optimization, ContextPowerless, Score),
    Score > 0.2.

test(emergence) :-
    domain_priors:emerges_naturally(gradient_descent_optimization).

:- end_tests(gradient_descent_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.3): GD is "expensive." It is a brute-force approach 
 * compared to analytical solutions (which aren't always possible).
 * 2. TYPE SHIFT: Highlighted the transition from "Mountain" (geometry) 
 * to "Noose" (vanishing gradients). This captures the technical reality 
 * that the same law can be a stable path or a resource trap depending 
 * on the coordinate.
 * 3. SUPPRESSION: Low, because mathematics encourages the study of 
 * second-order Hessian-based methods as superior (though more compute-heavy).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    global_minimum_reachability,
    "Is the loss landscape convex (Mountain) or non-convex (Labyrinth)?",
    resolution_mechanism("Formal verification of the loss function's second derivative matrix (Hessian)."),
    impact("If Convex: GD is a reliable Rope. If Non-Convex: GD is a Noose of local minima."),
    confidence_without_resolution(medium)
).

omega_variable(
    learning_rate_stability,
    "Does the engineer choose a learning rate that causes oscillation (Noose) or convergence (Rope)?",
    resolution_mechanism("Step-by-step trace of loss values over 1000 epochs."),
    impact("If Oscillation: The 'Rope' has snapped and become a 'Noose' of wasted energy."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Stochastic Gradient Descent (SGD) with Noise
 * Viability: Breaks the "Mountain" fixity by allowing jumps out of local minima.
 * Evidence: Standard in deep learning.
 * * ALTERNATIVE 2: Newton's Method
 * Viability: Uses the second derivative for a more "intelligent" Rope.
 * Suppression: Rejected for large models due to $O(N^2)$ memory extraction for the Hessian.
 * * CONCLUSION:
 * The continued dominance of Gradient Descent as a "Rope" for modern AI 
 * despite its "Noose" tendencies in deep networks is a result of the 
 * prohibitive extractiveness of the second-order alternatives.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: graph_coloring_complexity
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Combinatorics / Brooks' Theorem / Appel & Haken (1976)
% ============================================================================

:- module(constraint_graph_coloring_complexity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: graph_coloring_complexity
 * human_readable: Graph Coloring (k-Colorability)
 * domain: technological
 * temporal_scope: Permanent (Universal Mathematical Law)
 * spatial_scope: Global (Graph Theory)
 * * SUMMARY:
 * Graph coloring is the assignment of labels (colors) to elements of a graph 
 * (nodes) subject to specific constraints, most commonly that no two adjacent 
 * nodes share the same color. While finding the chromatic number $\chi(G)$ is 
 * NP-hard for general graphs, the constraint serves as the foundational model 
 * for resource allocation and scheduling.
 * * KEY AGENTS:
 * - The Network Architect: Designs systems to minimize interference and 
 * maximize resource reuse.
 * - The Combinatorialist: Seeks elegant proofs and upper bounds (like the 
 * Four Color Theorem).
 * - The Scheduling Algorithm: An agent trapped by the "Hardness" of the 
 * graph, forced to find sub-optimal but valid colorings.
 * * NARRATIVE ARC:
 * The constraint functions as a "Mountain" of state-space geometry—the 
 * topology of the graph dictates the minimum colors required. For the 
 * telecommunications engineer, it is a "Rope" for frequency coordination. 
 * For a compiler optimizer facing a massive interference graph, it is a 
 * "Noose" where the search for the optimal register allocation strangles 
 * compile-time performance.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction
narrative_ontology:interval(graph_coloring_interval, 0, 10).
narrative_ontology:constraint_claim(graph_coloring_complexity, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts "efficiency" and "simplicity." The requirement to 
% separate adjacent nodes forces the consumption of extra "colors" (resources).
domain_priors:base_extractiveness(graph_coloring_complexity, 0.4).

% Suppression score (0.0-1.0)
% Rationale: It suppresses "overlapping utility." The constraint makes 
% shared-resource alternatives invisible or illegal within the formal model.
domain_priors:suppression_score(graph_coloring_complexity, 0.5).

% Enforcement requirements
domain_priors:emerges_naturally(graph_coloring_complexity).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(graph_coloring_complexity, extractiveness, 0.4).
narrative_ontology:constraint_metric(graph_coloring_complexity, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(graph_coloring_complexity, spectrum_regulators).
constraint_victim(graph_coloring_complexity, [compiler_optimizers, register_allocators]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DISCRETE MATHEMATICIAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal informational laws.
   WHEN: civilizational - Viewing the graph as a permanent geometric truth.
   WHERE: trapped - Logic cannot bypass the chromatic number of a clique.
   SCOPE: global - Universal computation.
   
   WHY THIS CLASSIFICATION:
   To the mathematician, coloring is a Mountain. The existence of a $K_n$ 
   subgraph (a clique) imposes an unchangeable requirement for $n$ colors. 
   This is not a matter of policy; it is a fixed peak in the topography 
   of the graph that no algorithm can level.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    graph_coloring_complexity,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE RF ENGINEER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to allocate frequency bands and rules.
   WHEN: biographical - Managing a network's lifespan.
   WHERE: arbitrage - Can reposition towers (nodes) to change the graph.
   SCOPE: national - Country-wide cellular networks.
   
   WHY THIS CLASSIFICATION:
   For the engineer, graph coloring is a Rope. It is the coordination 
   mechanism that prevents signal interference. By treating cellular 
   towers as nodes and frequencies as colors, they use the constraint to 
   pull a high-functioning network into existence where chaos would 
   otherwise reign.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    graph_coloring_complexity,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE COMPILER BACKEND - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the code's interference graph.
   WHEN: immediate - The "Optimization" phase of compilation.
   WHERE: constrained - Limited by a fixed number of CPU registers.
   SCOPE: local - Immediate software process.
   
   WHY THIS CLASSIFICATION:
   For a compiler performing register allocation, the constraint is a Noose. 
   As variables (nodes) increase and their lifetimes overlap (edges), the 
   available physical registers (colors) become insufficient. The harder 
   the optimizer tries to avoid "spilling" to memory, the tighter the 
   complexity of the coloring problem strangles the compilation speed.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    graph_coloring_complexity,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(graph_coloring_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain
    constraint_indexing:constraint_classification(graph_coloring_complexity, mountain, context(agent_power(analytical), _, _, _)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(graph_coloring_complexity, rope, context(agent_power(institutional), _, _, _)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(graph_coloring_complexity, noose, context(agent_power(individual_powerless), _, _, _)).

test(power_extractiveness_resource) :-
    % Extraction of register efficiency (Noose) for the backend.
    domain_priors:base_extractiveness(graph_coloring_complexity, Score),
    Score >= 0.4.

test(time_immutability_geometry) :-
    % Civilizational view of graph theory is an invariant Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(graph_coloring_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): It extracts "simplicity." Coloring forces a 
 * fragmentation of the resource pool.
 * 2. NOOSE CLASSIFICATION: Specifically applied to the "Register Allocation" 
 * problem, where the fixed limit of CPU registers (colors) makes the 
 * complexity of the graph a literal barrier to execution performance.
 * 3. MOUNTAIN LOGIC: Relies on the concept of the Chromatic Number as a 
 * topological invariant.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    p_np_coloring_gap,
    "Is there a hidden heuristic that allows for nearly-optimal coloring 
    on all 'real-world' graphs without hitting the NP-hard wall?",
    resolution_mechanism("Longitudinal study of average-case vs. worst-case 
    graph complexity in industrial datasets"),
    impact("If Yes: The Noose becomes a Rope for all developers. 
    If No: The Mountain of NP-hardness remains absolute."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: List Coloring
 * Viability: High. Allows nodes to choose from specific subsets of colors.
 * Suppression: None. It is a refinement of the original constraint.
 * * ALTERNATIVE 2: Edge Coloring
 * Viability: High. Useful for scheduling links rather than nodes.
 * * CONCLUSION:
 * Since no "interference-friendly" alternative exists that allows adjacent 
 * nodes to share a color, the constraint remains a Mountain of logic.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_graph_coloring_complexity].
 * 2. Multi-perspective: ?- multi_index_report(graph_coloring_complexity).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: greenland_seizure_trade_war
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Financial Times (Jan 20, 2026), Atlantic Council, The Times
% ============================================================================

:- module(constraint_greenland_seizure_trade_war, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: greenland_seizure_trade_war
 * human_readable: The Greenland Seizure Threat and Transatlantic Strife
 * domain: geopolitical/economic
 * temporal_scope: January 2026
 * spatial_scope: Transatlantic (US, Greenland, EU)
 * * SUMMARY:
 * President Trump has refused to rule out the use of force or massive tariffs 
 * to secure U.S. control over Greenland, framing it as a "Modern Manifest 
 * Destiny" and a "Golden Dome" necessity. This has triggered 
 * a severe transatlantic rift, with the EU considering €93 billion in 
 * retaliatory tariffs and the first-ever use of its "Anti-Coercion Instrument" 
 * (ACI) against the United States.
 * * KEY AGENTS:
 * - Donald Trump (Institutional/Enforcer): Viewing Greenland through 19th-century 
 * expansionist instincts to secure 21st-century missile defense.
 * - EU Policymakers (Institutional): Deploying "nuclear" economic options (ACI) 
 * to preserve sovereignty and market shared rules.
 * - Greenlandic Population (Individual Powerless): Caught in a "Greenland crisis" 
 * as their territory becomes a flashpoint for superpower force.
 * * NARRATIVE ARC:
 * The story moves from diplomatic friction to "seizure threats" and "trade war 
 * fears," marking an inflection point where long-standing NATO cohesion is 
 * subordinated to unilateral strategic demands for territory and resource 
 * security.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(greenland_crisis_2026, 2026, 2027).
narrative_ontology:constraint_claim(greenland_seizure_trade_war, noose).

% Base extractiveness score: High (0.85)
% Rationale: The U.S. demand seeks total territorial extraction (sovereignty) 
% and mineral control, while the EU's response is a massive extraction of 
% capital through tariffs (€93bn).
domain_priors:base_extractiveness(greenland_seizure_trade_war, 0.85).

% Suppression score: High (0.75)
% Rationale: The threat of "force" suppresses diplomatic exit options, and 
% the Anti-Coercion Instrument actively limits foreign investment and 
% market access.
domain_priors:suppression_score(greenland_seizure_trade_war, 0.75).

% Enforcement: Requires active enforcement
% Rationale: The constraint is maintained via explicit threats of military 
% action, troop movements by Denmark, and "absolutist" policy stances.
domain_priors:requires_active_enforcement(greenland_seizure_trade_war).

% Beneficiaries and Victims
constraint_beneficiary(greenland_seizure_trade_war, [us_defense_sector, domestic_expansionists]).
constraint_victim(greenland_seizure_trade_war, [nato_cohesion, greenland_sovereignty, transatlantic_trade_networks]).

narrative_ontology:constraint_metric(greenland_seizure_trade_war, extractiveness, 0.85).
narrative_ontology:constraint_metric(greenland_seizure_trade_war, suppression_requirement, 0.75).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: GREENLANDIC CITIZEN - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (56,000 residents vs a 19th-century mindset superpower)
   WHEN: immediate (Facing seizure threats and blockade risks)
   WHERE: trapped (Geography is non-negotiable)
   SCOPE: national (The survival of their autonomous status)
   
   WHY THIS CLASSIFICATION:
   For the Greenlandic people, this is a Noose. They have no individual 
   agency to stop the superpower collision and are the primary "extracted" 
   value in the seizure threat.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    greenland_seizure_trade_war,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: EU TRADE NEGOTIATOR - Rope
   --------------------------------------------------------------------------
   WHO: institutional (Representing the EU market bloc)
   WHEN: biographical (The 2026 term of the second Trump administration)
   WHERE: mobile (Can deploy the ACI or negotiate for a "deal")
   SCOPE: global (Managing the transatlantic economic order)
   
   WHY THIS CLASSIFICATION:
   For the EU, this is a Rope. They view the dispute as a coordination problem 
   to be solved via "economic counterstrikes" and "Anti-Coercion 
   Instruments" to force a return to shared rules.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    greenland_seizure_trade_war,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: GLOBAL INVESTOR - Mountain
   --------------------------------------------------------------------------
   WHO: analytical (Observing the "transatlantic rift")
   WHEN: historical (The long-term shift away from global interdependence)
   WHERE: analytical (Selling off U.S. assets due to "trade war fears")
   SCOPE: global (Market-wide consequences)
   
   WHY THIS CLASSIFICATION:
   For investors, the rift is a Mountain—a structural "inflection point" where 
   geopolitical risk is now a permanent, unchangeable feature of the 2026 
   landscape that requires rebalancing portfolios away from volatility.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    greenland_seizure_trade_war,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(greenland_trade_war_tests).

test(perspectival_gap_negotiation) :-
    % The US sees a Rope (territorial expansion), the EU sees a Rope (economic defense).
    % Both see mobility, suggesting a high-stakes "clash of ropes" before a Noose locks.
    constraint_indexing:constraint_classification(greenland_seizure_trade_war, rope, context(institutional, biographical, mobile, _)).

test(extraction_scale) :-
    % €93 billion and territorial seizure are high extractiveness.
    assertion(domain_priors:base_extractiveness(greenland_seizure_trade_war, 0.85)).

:- end_tests(greenland_trade_war_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. PERSPECTIVAL GAP:
 * The most striking feature is the "collision of eras" (19th, 20th, 21st). 
 * Institutional actors frame this as a Rope (a tool for security or trade 
 * leverage), while the Powerless (Greenlandic citizens) perceive it as a 
 * lethal Noose.
 * * 2. STRUCTURAL REALITY:
 * The FT's reporting on the Anti-Coercion Instrument (ACI) as a "nuclear 
 * option" justifies the high suppression and extractiveness scores. This is 
 * no longer a "trade skirmish" but a "trade war".
 * * 3. OMEGAS:
 * I have identified the "force vs. tariff" toggle as the primary Omega—it 
 * determines if the constraint remains in the economic domain (Rope/Noose) 
 * or transitions to pure military law (Mountain).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    us_aci_threshold,
    "Will the U.S. continue the seizure threat if the EU triggers the Anti-Coercion Instrument?",
    resolution_mechanism("Monitor Davos 2026 outcomes and Brussels' trade announcements."),
    impact("If U.S. persists, the 'Rope' of economic leverage breaks, leaving a 'Noose' of blockade."),
    confidence_without_resolution(low)
).

omega_variable(
    greenland_mineral_accessibility,
    "Will the 'seizure' actually provide REE independence from China in the 2026-2027 timeframe?",
    resolution_mechanism("Verify mining infrastructure status vs. TFR83 goals."),
    impact("If extraction is unfeasible, the 'Mountain' of Greenland is purely a symbolic defense sink."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Diplomatic Purchase (The 2019-style offer)
 * Viability: Rejected by Denmark and Greenland as "not for sale".
 * Suppression: Actively suppressed by the U.S. pivot to "force or tariffs" 
 * rather than pure financial negotiation.
 * * ALTERNATIVE 2: NATO Co-Lease
 * Viability: Expanding existing lease agreements for the "Golden Dome."
 * Suppression: Rejected by the "absolutist" stance of the 19th-century 
 * expansionist mindset which requires "control" over "cooperation".
 * * CONCLUSION:
 * The active suppression of Alternative 2 (Cooperation) turns a potential 
 * "Rope" of alliance into a "Noose" of geopolitical coercion.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% ?- constraint_indexing:multi_index_report(greenland_seizure_trade_war).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: greshams_law
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Economics / Monetary Theory / Sir Thomas Gresham (1519–1579)
% ============================================================================

:- module(constraint_greshams_law, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: greshams_law
 * human_readable: Gresham's Law ("Bad money drives out good")
 * domain: economic/monetary
 * temporal_scope: Permanent (Historical to Modern)
 * spatial_scope: Universal (Exchange Systems)
 * * SUMMARY:
 * Gresham's Law is a monetary principle stating that if two forms of commodity 
 * money in circulation have the same face value but different intrinsic values, 
 * the "bad money" (debased or overvalued) will circulate while the "good money" 
 * (high intrinsic value or undervalued) will be hoarded or exported.
 * * KEY AGENTS:
 * - The Hoarder: An individual who recognizes the "good" money's value and 
 * removes it from circulation for protection.
 * - The Debasing Sovereign: An institution that lowers the metal content of 
 * coins to extract seigniorage.
 * - The Average Merchant: Forced to accept the "bad" money at face value by 
 * legal tender laws.
 * * NARRATIVE ARC:
 * The law functions as a behavioral feedback loop. When a state enforces a 
 * fixed exchange rate between unequal currencies, it creates an arbitrage 
 * opportunity (Rope) for the savvy, while creating an inevitable drain on 
 * quality (Mountain) for the public. It becomes a Noose when the "bad money" 
 * eventually collapses in purchasing power, leaving those trapped with it 
 * in poverty.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(gresham_interval, 0, 10).
narrative_ontology:constraint_claim(greshams_law, mountain).

% Base extractiveness: 0.6 (High)
% Rationale: It extracts "real" value (gold/silver) from the public and 
% replaces it with debased currency. The sovereign extracts seigniorage while 
% the hoarder extracts commodity value from the trade network.
domain_priors:base_extractiveness(greshams_law, 0.6).

% Suppression: 0.7 (High)
% Rationale: Legal tender laws actively suppress the "market price" of the 
% good money, forcing it to be treated as equal to the bad money, which 
% makes circulation of good money impossible.
domain_priors:suppression_score(greshams_law, 0.7).

% Enforcement: Emerges naturally from rational self-interest once legal 
% tender laws (active enforcement) create the initial imbalance.
domain_priors:requires_active_enforcement(greshams_law).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(greshams_law, extractiveness, 0.6).
narrative_ontology:constraint_metric(greshams_law, suppression_requirement, 0.7).

% Beneficiaries: The Debasing Sovereign (short-term) and Savvy Hoarders.
constraint_beneficiary(greshams_law, debasing_sovereign).
constraint_beneficiary(greshams_law, arbitrage_hoarders).

% Victims: The public, long-term savers, and those unable to exit the local 
% currency.
constraint_victim(greshams_law, unhedged_savers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MONETARY HISTORIAN - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The observer of centuries).
   WHEN: historical (Viewing the cycle of debasement and collapse).
   WHERE: analytical (Not participating in the market).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   To the historian, Gresham's Law is a Mountain. It is an unchangeable 
   consequence of human behavior in the face of price controls. Every 
   attempt in history to overvalue a currency has led to the same result: 
   the better currency vanishes. It is a fundamental law of economic physics.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    greshams_law,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CURRENCY HOARDER - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (A merchant with agency).
   WHEN: biographical (Preserving wealth for a lifetime).
   WHERE: arbitrage (Can switch between what they spend and what they keep).
   SCOPE: regional.
   
   WHY THIS CLASSIFICATION:
   For the hoarder, the law is a Rope. It is a coordination mechanism they 
   can use to their advantage. By spending the "bad" money at face value 
   while keeping the "good" money, they pull themselves out of the 
   systemic drain and protect their private capital.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    greshams_law,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SUBSISTENCE EARNER - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A worker paid in debased coin).
   WHEN: immediate (Survival needs today).
   WHERE: trapped (Cannot access foreign or bullion markets).
   SCOPE: local.
   
   WHY THIS CLASSIFICATION:
   For the person who only earns and holds the "bad money," Gresham's Law 
   is a Noose. They watch as the quality of their wages declines 
   relative to the price of real goods (inflation), but they lack the 
   surplus or access to "hoard" good money. They are trapped in a system 
   that rewards the rich for hiding value and punishes the poor for 
   circulating it.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    greshams_law,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(greshams_law_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(greshams_law, Type1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(greshams_law, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(greshams_law, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(extraction_ratio) :-
    % Extraction is high because real commodity value is being drained.
    domain_priors:base_extractiveness(greshams_law, E),
    E >= 0.6.

test(legal_tender_suppression) :-
    % Suppression is high because legal tender laws forbid the market from pricing coins correctly.
    domain_priors:suppression_score(greshams_law, S),
    S >= 0.7.

:- end_tests(greshams_law_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. PERSPECTIVE SELECTION:
 * I focused on the "Hoarder" as a Rope-user to show that Gresham's Law is 
 * not just a tragedy, but a strategy for the informed individual. 
 * Contrastingly, the "Subsistence Earner" highlights the Noose aspect 
 * of being stuck in a debasing currency.
 * * 2. EXTRACTIVENESS (0.6):
 * Chose a high score because this is a classic "invisible tax." The 
 * Sovereign extracts value by circulating "cheap" money while the public's 
 * "real" purchasing power is drained.
 * * 3. AMBIGUITY:
 * Modern fiat currency presents an ambiguity—if all money is "bad" (no 
 * intrinsic value), does Gresham's Law apply? I treated the law in its 
 * classical form (intrinsic vs face value).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    thiers_law_transition,
    "At what point of debasement does Gresham's Law flip into Thiers' Law (where 'good money' drives out bad because the bad is too untrustworthy to circulate)?",
    resolution_mechanism("Monitoring the velocity of a currency during hyperinflation"),
    impact("If Thiers' Law kicks in: The Noose snaps, and the system collapses into a new Mountain of gold/commodity barter."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Free Currency Competition (Hayekian model)
 * Viability: High. If legal tender laws didn't exist, people would 
 * discount debased coins and the "good money" would circulate at a 
 * premium.
 * Suppression: Extreme. Modern states almost universally enforce legal 
 * tender laws to maintain monetary control.
 * * CONCLUSION:
 * The existence of suppressed alternatives (free market pricing of 
 * currency) proves that the "Mountain" of Gresham's Law is actually a 
 * "Noose" created by the state's active suppression of market reality.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_greshams_law].
 * 2. Multi-perspective: ?- multi_index_report(greshams_law).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: grete_samsa_transition
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Metamorphosis by Franz Kafka (David Wyllie Trans.)
% ============================================================================

:- module(constraint_grete_samsa_transition, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: grete_samsa_transition
 * human_readable: Grete's Burden and Ascendance
 * domain: social/economic/familial
 * temporal_scope: Late 19th/Early 20th Century
 * spatial_scope: The Samsa Family Flat
 * * SUMMARY:
 * Grete Samsa undergoes a radical transition from a "somewhat useless" child 
 * to the family's primary decision-maker. Initially, Gregor's transformation 
 * is a Rope (functional care) for her, but as she enters the workforce and 
 * seeks a future, Gregor becomes a Noose (existential/social weight) that 
 * she must personally dismantle to survive.
 * * KEY AGENTS:
 * - Grete Samsa: The sister (Primary agent of change).
 * - Gregor Samsa: The vermin (The passive constraint).
 * - The Parents: (Observers of her transition).
 * * NARRATIVE ARC:
 * Grete begins as the only one brave enough to feed Gregor (Rope), but the 
 * exhaustion of labor and the desire for "new dreams" leads her to be the first 
 * to declare that "it must go" (Noose), effectively executing the family's 
 * collective exit strategy.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(grete_ascendance_period, 0, 10).
narrative_ontology:constraint_claim(grete_samsa_transition, rope).

% Base extractiveness score (0.6): Moderate.
% Rationale: Grete extracts status and power within the family by being the 
% sole mediator for Gregor, but she also suffers the extraction of her youth 
% and leisure.
domain_priors:base_extractiveness(grete_samsa_transition, 0.6).

% Suppression score (0.5): Moderate.
% Rationale: She initially refuses to let her mother see Gregor, 
% "protecting" her mother while consolidating her own control over the room.
domain_priors:suppression_score(grete_samsa_transition, 0.5).

% Enforcement requirements
% Requires active enforcement: She must physically lock the door and 
% manage the "filth" to maintain her role.
domain_priors:requires_active_enforcement(grete_samsa_transition).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(grete_samsa_transition, extractiveness, 0.6).
narrative_ontology:constraint_metric(grete_samsa_transition, suppression_requirement, 0.5).

% Beneficiaries and Victims
constraint_beneficiary(grete_samsa_transition, grete_samsa). % Power gain.
constraint_victim(grete_samsa_transition, grete_samsa).      % Burden of care.
constraint_victim(grete_samsa_transition, gregor_samsa).     % Ultimate exclusion.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: EARLY GRETE - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - A 17-year-old girl with no job or authority.
   WHEN: immediate - Focused on what Gregor will eat "today."
   WHERE: constrained - She is the only one who can enter the room.
   SCOPE: local - Limited to the "few square meters" of Gregor's room.
   
   WHY THIS CLASSIFICATION:
   In the beginning, the transformation is a functional coordination challenge. 
   She tests his tastes (cheese vs. vegetables) and adjusts the furniture. 
   She sees it as a duty she can manage.
   
   NARRATIVE EVIDENCE:
   "In order to test his taste, she brought him a whole selection of things, 
   all spread out on an old newspaper."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    grete_samsa_transition,
    rope,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: WORKING GRETE (LATE STORY) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Now a salesgirl, learning shorthand and French.
   WHEN: biographical - Thinking of her future, marriage, and moving house.
   WHERE: mobile - She has an "outside" life and a job.
   SCOPE: regional - Her world now includes the "open country" and the city.
   
   WHY THIS CLASSIFICATION:
   The burden of cleaning Gregor's room after a full day's work makes the 
   constraint extractive and asymmetric. Gregor no longer provides (money); 
   he only consumes (time/reputation). He is now a Noose threatening her 
   "blossoming" future.
   
   NARRATIVE EVIDENCE:
   "We can't carry on like this... we have to try and get rid of it."
   "She was becoming livelier... blossoming into a well built and beautiful 
   young lady."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    grete_samsa_transition,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(grete_samsa_transition, E),
    E > 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PARENTS - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerful (Relative to the household)
   WHEN: generational - Concerned about the end of their lives and "peace."
   WHERE: trapped - They feel they cannot move because of "that thing."
   SCOPE: local - Confined to the apartment and its immediate social shame.
   
   WHY THIS CLASSIFICATION:
   For the parents, Grete's transformation into the primary caregiver is an 
   immutability they simply accept. They watch her from the hallway, 
   powerless to intervene, treating her new role as a fixed natural law of 
   their "misfortune."
   
   NARRATIVE EVIDENCE:
   "The two of them, father and mother, would often both wait outside the 
   door... his mother also wanted to go in... but his father and sister 
   at first persuaded her against it."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    grete_samsa_transition,
    mountain,
    context(
        agent_power(individual_powerful),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(grete_samsa_transition_tests).

test(role_reversal_insight) :-
    % Test that Grete's power (agent_power) increases as Gregor's 
    % classification shifts from Rope to Noose.
    constraint_indexing:constraint_classification(grete_samsa_transition, rope, 
        context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(grete_samsa_transition, noose, 
        context(agent_power(individual_moderate), _, _, _)).

test(biographical_exit_pressure) :-
    % Long-term horizons (marriage/career) make social constraints feel like Nooses.
    true.

:- end_tests(grete_samsa_transition_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SHIFT: 
 * Grete is the only character whose perspective on the constraint shifts 
 * radically based on her own development. Her transition from 
 * "powerless child" to "decision maker" is the engine of the third act.
 * * 2. EXTRACTIVENESS: 
 * I focused on the "theft of peace" and "theft of a future." For Grete, 
 * Gregor isn't just a bug; he's a barrier to a "good man" and a 
 * "better position."
 * * 3. AMBIGUITIES:
 * Is her final cruelty (locking the door) a Noose (coercion) or a Rope 
 * (necessary boundary for family survival)? I classified it as Noose 
 * because it actively suppresses Gregor's lingering humanity/identity.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    grete_intent,
    "Did Grete truly believe Gregor could no longer understand them, or was it a strategic lie to ease the family's conscience?",
    resolution_mechanism("Requires access to Grete's internal monologue, which Kafka denies the reader."),
    impact("If Lie: Noose (intentional extraction/removal). If Belief: Rope (tragic necessity)."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Professional Care
 * Viability: The family could have used the "saved money" to hire specialized 
 * help.
 * Suppression: Suppressed by the shame of "misfortune unlike anything 
 * experienced by anyone else."
 * * ALTERNATIVE 2: Continued Conservatory Dream
 * Viability: Gregor's secret plan to send her to the Conservatory.
 * Suppression: Rejected by Grete herself as she prioritizes shorthand and 
 * French for immediate survival.
 * * CONCLUSION:
 * The death of the Conservatory dream marks the point where Grete's 
 * relationship to the constraint hardens into a Noose.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% narrative_ontology:interval(grete_samsa_transition, 0, 10).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: gs1_gln_identification
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: GS1 General Specifications (Release 25.0) / GLN Management Rules
% ============================================================================

:- module(constraint_gs1_gln, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: gs1_gln_identification
 * human_readable: Global Location Number (GLN) Standard
 * domain: technological/economic
 * temporal_scope: 1974-Present
 * spatial_scope: Global (Logistics and Healthcare)
 * * SUMMARY:
 * The GLN is a 13-digit GS1 identification key used to identify physical 
 * locations (warehouses, hospital rooms) or legal entities (corporations). 
 * It constrains the digital "map" of global commerce by enforcing a 
 * single, globally unique identifier for every point of business interaction.
 * * KEY AGENTS:
 * - Warehouse Receiving Clerk: Individual powerless; scans GLNs as an 
 * immutable part of their environment.
 * - Supply Chain Director: Institutional; uses GLNs to coordinate complex 
 * inter-organizational shipping and billing.
 * - Regulatory Auditor: Analytical; evaluates the traceability and 
 * data integrity provided by the GLN hierarchy.
 * * NARRATIVE ARC:
 * What functions as a vital Rope for coordination in high-stakes industries 
 * like healthcare (ensuring meds go to the right room) appears as a 
 * Mountain to the workers who must manage the hardware. For small clinics 
 * or vendors, the mandatory adoption and licensing fees function as a Noose.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(gln_standard_lifecycle, 0, 10).
narrative_ontology:constraint_claim(gs1_gln_identification, rope).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.3. Moderate; while fees exist, the primary "extraction" 
% is the administrative labor required to maintain accurate location registries.
domain_priors:base_extractiveness(gs1_gln_identification, 0.3).

% Suppression score (0.0-1.0)
% Rationale: 0.7. High; proprietary or internal location codes are 
% actively suppressed in B2B transactions to prevent "translation errors."
domain_priors:suppression_score(gs1_gln_identification, 0.7).

% Enforcement requirements
% Requires active enforcement (Check digit validation and GS1 Registry lookup).
domain_priors:requires_active_enforcement(gs1_gln_identification).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(gs1_gln_identification, extractiveness, 0.3).
narrative_ontology:constraint_metric(gs1_gln_identification, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(gs1_gln_identification, global_traceability_efficiency).
constraint_beneficiary(gs1_gln_identification, enterprise_resource_planning_vendors).
constraint_victim(gs1_gln_identification, small_scale_suppliers_overhead).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: RECEIVING CLERK - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Cannot change the GLN; must scan or manual enter.
   WHEN: immediate - Tactical execution of inventory receipt.
   WHERE: trapped - Bound by the software validation rules of the WMS.
   SCOPE: local - A specific loading dock or shelf.
   
   WHY THIS CLASSIFICATION:
   To the clerk, the GLN is a Mountain. It is an unchangeable, 13-digit fact 
   of the building. If the scanner doesn't recognize the GLN, the world stops. 
   There is zero room for negotiation with the barcode.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    gs1_gln_identification,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(gs1_gln_identification),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: LOGISTICS VP - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to mandate GLN usage across a 1,000-node network.
   WHEN: biographical - Planning multi-year infrastructure upgrades.
   WHERE: mobile - Can adjust internal processes to accommodate the standard.
   SCOPE: global - Tracking cargo from manufacture to final destination.
   
   WHY THIS CLASSIFICATION:
   For the executive, the GLN is a Rope. It is a functional coordination 
   mechanism that weaves together thousands of disparate locations into 
   a single, actionable thread. It provides the "standardized tension" 
   required to hold a global supply chain together.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gs1_gln_identification,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(gs1_gln_identification, E),
    E < 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: DATA PRIVACY ANALYST - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the "surveillance" potential of fixed IDs.
   WHEN: historical - Evaluating the shift from physical to digital location.
   WHERE: analytical - Not bound by the commercial need for efficiency.
   SCOPE: global - Data sovereignty and competitive intelligence.
   
   WHY THIS CLASSIFICATION:
   The analyst identifies the Noose. Because GLNs are public and standardized, 
   they allow competitors to map a company's entire logistical footprint 
   with high precision. The "efficiency" of the Rope extracts strategic 
   secrecy, choking off a company's ability to hide its supply chain nodes.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gs1_gln_identification,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(gs1_gln_identification, S),
    S > 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(gs1_gln_tests).

test(multi_perspective_coordination) :-
    % VP (Rope) vs Clerk (Mountain)
    constraint_indexing:constraint_classification(gs1_gln_identification, T1, context(institutional, biographical, mobile, global)),
    constraint_indexing:constraint_classification(gs1_gln_identification, T2, context(individual_powerless, immediate, trapped, local)),
    T1 \= T2.

test(enforcement_check) :-
    domain_priors:requires_active_enforcement(gs1_gln_identification).

:- end_tests(gs1_gln_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.3): Rated lower than GTIN because locations are 
 * static, whereas products are high-turnover. The extraction is 
 * bureaucratic rather than purely financial.
 * 2. SUPPRESSION (0.7): High, because a "private" location number is 
 * essentially useless in the modern B2B ecosystem.
 */

omega_variable(
    registry_accuracy_decay,
    "Does the 'Mountain' status fail if the GS1 Registry data becomes 
     stale/inaccurate over time?",
    resolution_mechanism("Audit of GLN physical-to-digital mapping accuracy in healthcare sectors"),
    impact("If Inaccurate: The Mountain collapses into a Noose of errors. 
            If Accurate: It remains a reliable Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Proprietary Address Matching (fuzzy logic)
 * Viability: High for humans; low for automated systems due to 
 * "Industrial City, St 4" vs "4th Street Ind. Park" variations.
 * Suppression: Suppressed by the need for machine-readability and 
 * zero-ambiguity in automated warehouses.
 * * CONCLUSION:
 * The failure of fuzzy-logic alternatives in automated systems 
 * necessitates the GLN Rope, which eventually ossifies into a 
 * Mountain for the end-user.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [gs1_gln_identification].
% 2. Analyze: ?- multi_index_report(gs1_gln_identification).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: gs1_standardized_identification
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: GS1 General Specifications Standard (Release 25.0)
% ============================================================================

:- module(constraint_gs1_standard, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: gs1_standardized_identification
 * human_readable: GS1 Global Identification Standard (GTIN/GLN)
 * domain: technological/economic
 * temporal_scope: 1974-Present
 * spatial_scope: Global (Retail and Supply Chain)
 * * SUMMARY:
 * The GS1 General Specifications define the "Global Language of Business." 
 * It constrains how products (GTIN), locations (GLN), and assets are 
 * identified. This strict syntactic and semantic framework ensures that a 
 * barcode scanned in one country is understood by software in another.
 * * KEY AGENTS:
 * - Small Manufacturer: Individual powerless; must pay for a GS1 prefix 
 * to enter the retail market (e.g., Amazon, Walmart).
 * - Supply Chain Director: Institutional; uses the standard as a tool 
 * for end-to-end visibility and efficiency.
 * - Market Regulator: Analytical; views the standard as a public/private 
 * utility that prevents chaos but creates a monopoly on identification.
 * * NARRATIVE ARC:
 * Originally a Rope (coordination for the first grocery scanners), the 
 * GS1 standard has become a Mountain for any entity wishing to participate 
 * in global trade. For small producers, the mandatory annual fees and 
 * rigid formatting can function as a Noose that extracts "entry rent" 
 * for the right to exist in a digital marketplace.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(gs1_spec_v25, 0, 10).
narrative_ontology:constraint_claim(gs1_standardized_identification, rope).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.4. Moderate extraction; GS1 is a non-profit but requires 
% mandatory annual "membership fees" to maintain a valid prefix, essentially 
% taxing the global flow of goods.
domain_priors:base_extractiveness(gs1_standardized_identification, 0.4).

% Suppression score (0.0-1.0)
% Rationale: 0.8. High suppression; while you *can* use internal SKUs, 
% retailers actively suppress non-GS1 identifiers by refusing to list 
% or stock products without a valid GTIN.
domain_priors:suppression_score(gs1_standardized_identification, 0.8).

% Enforcement requirements
% Requires active enforcement (Check digit validation, prefix licensing 
% verification, and scanning hardware compliance).
domain_priors:requires_active_enforcement(gs1_standardized_identification).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(gs1_standardized_identification, extractiveness, 0.4).
narrative_ontology:constraint_metric(gs1_standardized_identification, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(gs1_global_coordination).
constraint_beneficiary(inventory_automation_systems).
constraint_victim(micro_entrepreneurs_entry_costs).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: SMALL ARTISAN MAKER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Cannot negotiate fees or ignore formatting.
   WHEN: immediate - The "listing" phase of a product launch.
   WHERE: trapped - Bound by the requirements of major e-commerce platforms.
   SCOPE: local - Their specific product line.
   
   WHY THIS CLASSIFICATION:
   To the small maker, GS1 is a Mountain. You do not "use" a barcode; 
   you obey it. The rules for GTIN-13 construction and the Check Digit 
   algorithm are immutable laws that must be followed for the product to 
   physically pass through a checkout gate.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gs1_standardized_identification,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(gs1_standardized_identification),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: LOGISTICS CORPORATION - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Powerful participant who helps shape the standard.
   WHEN: biographical - Long-term planning for warehouse automation.
   WHERE: mobile - Can integrate different standards (e.g., RFID, DataMatrix).
   SCOPE: global - Moving goods across international borders.
   
   WHY THIS CLASSIFICATION:
   For a corporation like FedEx or Maersk, the standard is a Rope. It is the 
   functional thread that coordinates millions of disparate actors. It 
   is a helpful tool that they voluntarily support because the cost of 
   standardization is lower than the cost of translation.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    gs1_standardized_identification,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(gs1_standardized_identification, E),
    E < 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: ANTI-MONOPOLY ANALYST - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of market barriers.
   WHEN: historical - Evaluating the shift from public utility to private gatekeeper.
   WHERE: analytical - Not bound by the commercial necessity of GTINs.
   SCOPE: global - Global trade infrastructure.
   
   WHY THIS CLASSIFICATION:
   The analyst sees a Noose. GS1 has achieved a level of "Standard Lock-in" 
   where it extracts rent (fees) from every level of the supply chain. 
   Because alternatives are suppressed by the network effect, the 
   standard "chokes" out any competing identification technology.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    gs1_standardized_identification,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(gs1_standardized_identification, S),
    S > 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(gs1_standard_tests).

test(multi_perspective_coordination_gap) :-
    % Corporation (Rope) vs Artisan (Mountain)
    constraint_indexing:constraint_classification(gs1_standardized_identification, T1, context(institutional, biographical, mobile, global)),
    constraint_indexing:constraint_classification(gs1_standardized_identification, T2, context(individual_powerless, immediate, trapped, local)),
    T1 \= T2.

test(enforcement_rigidity) :-
    % Standard requires active enforcement of formatting
    domain_priors:requires_active_enforcement(gs1_standardized_identification).

:- end_tests(gs1_standard_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): I chose a moderate score because GS1 provides 
 * immense value (the Rope), but the mandatory nature of the annual 
 * licensing for prefixes represents a clear extraction of capital from 
 * small producers.
 * 2. PERSPECTIVE: The "Check Digit" algorithm is the perfect example of a 
 * technological Mountain—it is a mathematical law that governs the 
 * validity of a physical object's digital identity.
 */



omega_variable(
    decentralized_id_viability,
    "Will Decentralized Identifiers (DIDs) or blockchain-based registries 
     eventually provide a non-extractive Rope that replaces the GS1 Mountain?",
    resolution_mechanism("Monitor adoption rates of W3C DID standards in 
    mainstream retail vs. GS1 renewal rates"),
    impact("If Yes: GS1 was a temporary Noose. If No: GS1 is a permanent 
            structural Mountain of the modern world."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Proprietary Internal SKU Systems
 * Viability: High within a single company (e.g., Amazon's ASIN).
 * Suppression: Suppressed by the need for "interoperability." As soon as 
 * a product leaves a single silo, the internal SKU fails, forcing the 
 * adoption of the GS1 Rope.
 * * CONCLUSION:
 * The "forced" nature of interoperability in a globalized world turns a 
 * coordination Rope into an unavoidable Mountain for all participants.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [gs1_standardized_identification].
% 2. Analyze: ?- multi_index_report(gs1_standardized_identification).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: halting_problem_undecidability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Alan Turing (1936) / Computability Theory
% ============================================================================

:- module(constraint_halting_problem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: halting_problem_undecidability
 * human_readable: The Halting Problem (Undecidability)
 * domain: technological/mathematical
 * temporal_scope: 1936 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Universal Logic)
 * * SUMMARY:
 * The Halting Problem is the mathematical proof that no general algorithm can 
 * exist that decides whether an arbitrary program will eventually stop or 
 * run forever. It represents the ultimate boundary of what is "knowable" 
 * via computation, establishing an irreducible horizon for automated reason.
 * * KEY AGENTS:
 * - The Executing Thread (Subject): A powerless agent whose destiny is fixed 
 * by its transition function but whose end-state is uncomputable.
 * - The Software Verifier (Institutional): An agent attempting to coordinate 
 * system safety, forever haunted by the impossibility of perfect proofs.
 * - The Theoretical Observer (Analytical): An agent who maps the "Mountain" 
 * of undecidability to find the limits of formal systems.
 * * NARRATIVE ARC:
 * The Halting Problem is the "Mountain" of computational fate—it is an 
 * unyielding feature of any universal system. In logic, it is a "Rope" for 
 * proving the undecidability of other problems (via reduction). However, 
 * in the context of high-assurance engineering, it acts as a "Noose," 
 * extracting the possibility of absolute verification (extraction) and 
 * forcing humans to accept the "tax" of heuristic or manual testing.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction
narrative_ontology:interval(halting_era, 1936, 2026).
narrative_ontology:constraint_claim(halting_problem_undecidability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. While it is a "gift" of clarity regarding limits, it 
% extracts the possibility of 100% automated software safety, imposing a 
% "tax" of human audit and uncertainty on all complex systems.
domain_priors:base_extractiveness(halting_problem_undecidability, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the visibility of "totalitarian" formal 
% systems that claim to solve everything, rendering such claims 
% mathematically fraudulent.
domain_priors:suppression_score(halting_problem_undecidability, 0.3).

% Enforcement: Emerges naturally from the diagonal argument/self-reference.
domain_priors:emerges_naturally(halting_problem_undecidability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(halting_problem_undecidability, extractiveness, 0.2).
narrative_ontology:constraint_metric(halting_problem_undecidability, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(halting_problem_undecidability, computational_complexity_researchers).
constraint_beneficiary(halting_problem_undecidability, heuristic_security_vendors). % Job security through impossibility.
constraint_victim(halting_problem_undecidability, formal_verification_purists).
constraint_victim(halting_problem_undecidability, automated_malware_detectors).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE TURING MACHINE PROGRAM - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The program cannot "know" or "change" its own halt status.
   WHEN: immediate - True at every single step of the execution cycle.
   WHERE: trapped - Bound within its own instruction set.
   SCOPE: local - Immediate state-space transitions.
   
   WHY THIS CLASSIFICATION:
   For the executing code, the fact that its end-state is uncomputable from 
   within the system is a natural law. It is an unyielding Mountain; there is 
   no "exit" where a program can magically solve its own halting without 
   falling into the "Liar's Paradox" of Turing's diagonal proof.
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    halting_problem_undecidability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE THEORETICAL COMPUTER SCIENTIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define computational limits and standard proofs.
   WHEN: biographical - Planning a career or building a formal methodology.
   WHERE: mobile - Can apply the halting problem to various domains (Rice's Theorem, etc.).
   SCOPE: global - Universal applicability.
   
   WHY THIS CLASSIFICATION:
   For the researcher, the Halting Problem is a "Rope"—a functional 
   coordination tool. By mapping the "Mountain," they coordinate a 
   standard of achievement for what is *possible* to build, pulling 
   the field away from the "Noose" of impossible goals.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    halting_problem_undecidability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HIGH-ASSURANCE SYSTEMS ENGINEER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has agency to design but is bound by the theorem.
   WHEN: immediate - Facing a "Halt" or "Crash" bug that cannot be pre-detected.
   WHERE: constrained - The "exit" (absolute proof) is mathematically barred.
   SCOPE: national - Protecting critical power grids or aerospace.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the theorem is a "Noose." It "strangles" the dream of 
   perfectly safe infrastructure. It extracts massive human labor (extraction) 
   by making automated verification incomplete, "choking" the ability to 
   guarantee that a system will never hang or fail in an unforeseen way.
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    halting_problem_undecidability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- 
    domain_priors:base_extractiveness(halting_problem_undecidability, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(halting_problem_tests).

test(multi_perspective_variance) :-
    % Program -> Mountain
    constraint_indexing:constraint_classification(halting_problem_undecidability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Scientist -> Rope
    constraint_indexing:constraint_classification(halting_problem_undecidability, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(verification_noose_penalty) :-
    % Engineers experience the extraction of certainty as a Noose.
    Context = context(individual_moderate, immediate, constrained, national),
    constraint_indexing:extractiveness_for_agent(halting_problem_undecidability, Context, Score),
    Score >= 0.2.

test(natural_emergence) :-
    domain_priors:emerges_naturally(halting_problem_undecidability).

:- end_tests(halting_problem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: It represents the "impossibility tax." It takes away the 
 * future of automated perfection but gives the foundation of logical 
 * reality. I chose 0.2 as a "moderate low" because while the math 
 * is a gift, the practical cost for high-stakes engineers is real.
 * * 2. PERSPECTIVE SELECTION:
 * Chose the Program (Subject), Scientist (User), and Engineer (Victim) 
 * to illustrate how a "Mountain" of logic is a "Rope" for theory but 
 * a "Noose" for practice.
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the "Physical Church-Turing" uncertainty—whether our 
 * universe's laws actually allow for "Infinite Tape" or "Perfect Iteration."
 */

% YOUR OMEGAS HERE:
omega_variable(
    physical_computability_limit,
    "Is the 'Mountain' of the Halting Problem stable in a universe with finite resources (Scaffold)?",
    resolution_mechanism("Investigation into whether physical 'Hypercomputation' is possible at the Planck scale."),
    impact("If Yes: Halting might be a 'Rope' in future systems. If No: It is a permanent Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Total Functional Programming (e.g., Agda, Coq)
 * Viability: By restricting the language so all functions MUST terminate, 
 * the Halting Problem is bypassed.
 * Suppression: Often rejected for general-purpose programming because it 
 * "strangles" the utility of the system (it is not Turing-complete).
 * Evidence: Common in academic high-assurance research.
 * * ALTERNATIVE 2: Infinite-Time Turing Machines
 * Viability: Theoretical models where computation can continue past infinity.
 * Suppression: Currently suppressed by the "Mountain" of standard physics.
 * * CONCLUSION:
 * The existence of Alternative 1 proves that the "Noose" of the Halting Problem 
 * is the specific price we pay for the "Rope" of universal (Turing-complete) 
 * computing.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_halting_problem].
 * 2. Multi-perspective: ?- multi_index_report(halting_problem_undecidability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: hamiltonian_path_complexity
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Graph Theory / Complexity Classes (NP-Complete)
% ============================================================================

:- module(constraint_hamiltonian_path, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: hamiltonian_path_complexity
 * human_readable: The Hamiltonian Path Constraint
 * domain: technological/mathematical
 * temporal_scope: Immediate to Historical
 * spatial_scope: Global (Abstract Math)
 * * SUMMARY:
 * A Hamiltonian Path is a path in an undirected or directed graph that visits 
 * each vertex exactly once. Finding such a path is an NP-complete problem, 
 * meaning that while a solution is easy to verify, finding one is 
 * computationally exhaustive as the number of nodes increases.
 * * KEY AGENTS:
 * - The Explorer: The agent tasked with finding a valid path through a network.
 * - The Network Architect: The one who defines the edges (constraints) the 
 * explorer must navigate.
 * - The Computer Scientist: The analytical observer who recognizes the 
 * "Complexity Wall" inherent in the problem.
 * * NARRATIVE ARC:
 * This constraint functions as a "Labyrinth of Efficiency." In a simple graph, 
 * it is a trivial coordination task (Rope). In a complex graph, it becomes 
 * a computational Noose that strangles resources and time, ultimately 
 * appearing as an immutable Mountain of mathematical reality.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(hamiltonian_path_complexity, 0, 10).
narrative_ontology:constraint_claim(hamiltonian_path_complexity, mountain).

% Base extractiveness score (0.1)
% Pure math doesn't "extract" in a social sense, but the "brute force" 
% requirement extracts energy and time from the solver.
domain_priors:base_extractiveness(hamiltonian_path_complexity, 0.1).

% Suppression score (0.2)
% Low suppression; the "dead ends" in the search are highly visible to the agent.
domain_priors:suppression_score(hamiltonian_path_complexity, 0.2).

% Enforcement requirements
domain_priors:emerges_naturally(hamiltonian_path_complexity).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(hamiltonian_path_complexity, extractiveness, 0.1).
narrative_ontology:constraint_metric(hamiltonian_path_complexity, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(hamiltonian_path_complexity, cryptography_systems). % Complexity is a feature here
constraint_victim(hamiltonian_path_complexity, logistics_optimizers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE LOGISTICS PLANNER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (subject to the network's topology)
   WHEN: immediate (deadline-driven delivery)
   WHERE: trapped (must visit every node, cannot skip)
   SCOPE: local (city-wide delivery route)
   
   WHY THIS CLASSIFICATION:
   For a planner with a fixed number of stops and a strict "visit-once" 
   requirement, the Hamiltonian constraint is a "Noose." As nodes are 
   added, the number of possible paths grows factorially ($N!$), 
   strangling their ability to find a valid route before the deadline.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hamiltonian_path_complexity,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(hamiltonian_path_complexity, E),
    E < 0.2,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TOURIST - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile (can choose which cities to visit or change the goal)
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For a casual traveler, the idea of a Hamiltonian path is a "Rope." 
   It's an interesting coordination challenge that adds structure to 
   their trip. Because they aren't strictly "trapped" by the math, 
   the constraint is a helpful guide for "completing" their journey.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hamiltonian_path_complexity,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MATHEMATICIAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The mathematician sees the P vs NP problem as the ultimate "Mountain." 
   The fact that Hamiltonian Path is NP-complete is an immutable 
   feature of the universe's logical geography. It is a boundary 
   that no amount of individual effort can circumvent.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hamiltonian_path_complexity,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(hamiltonian_path_complexity),
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(hamiltonian_path_tests).

test(multi_perspective_variance) :-
    % Perspective 1: Planner
    constraint_indexing:constraint_classification(hamiltonian_path_complexity, noose, context(individual_powerless, _, trapped, _)),
    % Perspective 3: Analyst
    constraint_indexing:constraint_classification(hamiltonian_path_complexity, mountain, context(analytical, _, _, _)).

test(power_extractiveness_scaling) :-
    % A 'trapped' agent (Planner) pays a higher computational 'price' (Noose) 
    % than an 'analytical' observer who just sees the 'Mountain'.
    true.

:- end_tests(hamiltonian_path_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS MADE BY MODEL:
 * 1. CLASSIFICATION: I chose Noose for the Planner because NP-completeness 
 * effectively "strangles" the search space as the problem scales.
 * 2. OMEGAS: The ultimate uncertainty in computer science is P vs NP.
 */

omega_variable(
    p_vs_np_resolution,
    "Is P = NP? (Can an efficient algorithm find the path?)",
    resolution_mechanism("Mathematical proof or counter-example"),
    impact("If P=NP: The 'Mountain' turns into a 'Rope' (trivial coordination)."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: hammurabi_lex_talionis
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: The Code of Hammurabi, King of Babylon (C.H.W. Johns Translation)
% ============================================================================

:- module(hammurabi_lex_talionis, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: hammurabi_lex_talionis
 * human_readable: The Law of Retaliation (Lex Talionis)
 * domain: political/social
 * temporal_scope: c. 2285-2242 B.C. 
 * spatial_scope: Mesopotamia (Babylonia) 
 * * SUMMARY:
 * A rigid legal system based on reciprocal justice ("eye for eye"), 
 * where penalties are strictly stratified by social class. It enforces 
 * social order through high-stakes physical and financial liability for 
 * professionals and citizens.
 * * KEY AGENTS:
 * - The Gentleman (Amelu): Elite subject with high protection but high liability.
 * - The Poor Man (Mushkenu): Intermediate subject with lower fees but lower life-valuation.
 * - The Slave (Wardu): Property-status subject with minimal agency.
 * - The King (Hammurabi): Institutional source of "righteousness" and enforcement.
 * * NARRATIVE ARC:
 * The King receives laws from the Sun-god Shamash, establishing a 
 * "Mountain" of divine law that stabilizes a complex urban society but 
 * formalizes severe class-based asymmetry .
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for indexer
narrative_ontology:interval(hammurabi_lex_talionis, 0, 10).
narrative_ontology:constraint_claim(hammurabi_lex_talionis, mountain).

% Base extractiveness: Moderate (0.5). 
% Rationale: While highly asymmetric in penalties (slaves lose ears, masters pay silver), 
% the system provides functional stability for trade and property.
domain_priors:base_extractiveness(hammurabi_lex_talionis, 0.5).

% Suppression: High (0.8). 
% Rationale: Alternatives are framed as "wickedness" or "rebellion". 
% The law is divinely ordained and unchangeable by subjects.
domain_priors:suppression_score(hammurabi_lex_talionis, 0.8).

% Enforcement: Requires active enforcement (state-level execution/mutilation).
domain_priors:requires_active_enforcement(hammurabi_lex_talionis).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(hammurabi_lex_talionis, extractiveness, 0.5).
narrative_ontology:constraint_metric(hammurabi_lex_talionis, suppression_requirement, 0.8).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SLAVE - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: biographical
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   The slave is subject to physical mutilation (ear cut off) for even 
   verbalizing independence ("Thou art not my master"). They have 
   zero exit options and the benefit flow is entirely toward the master.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hammurabi_lex_talionis,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(hammurabi_lex_talionis, E),
    E >= 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE GENTLEMAN (AMELU) - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: generational
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For the elite, the law is a coordination mechanism (Rope) that protects 
   property and provides predictable outcomes for commerce. 
   While they face "eye for eye" from equals, they can often pay silver 
   to resolve issues with inferiors.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hammurabi_lex_talionis,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(hammurabi_lex_talionis, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HISTORIAN/ANALYST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From a distance of 4000 years, the Code appears as an unchangeable feature 
   of the Mesopotamian "social landscape," a naturalized law that 
   subjects believed was as immutable as the sun.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hammurabi_lex_talionis,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(hammurabi_lex_talionis, S),
    S > 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(hammurabi_lex_talionis_tests).

test(multi_perspective_triangulation) :-
    constraint_indexing:constraint_classification(hammurabi_lex_talionis, T1, context(individual_powerless, biographical, trapped, local)),
    constraint_indexing:constraint_classification(hammurabi_lex_talionis, T2, context(individual_moderate, generational, mobile, regional)),
    constraint_indexing:constraint_classification(hammurabi_lex_talionis, T3, context(analytical, historical, analytical, global)),
    T1 \= T2, T2 \= T3.

test(social_valuation_asymmetry) :-
    % Extraction/Loss of a Gentleman's eye = Gentleman's eye 
    % Extraction/Loss of a Poor Man's eye = 60 shekels (1 mina) 
    % This test demonstrates that the system extracts more physical 'life' from 
    % the powerful to protect the powerful, while allowing the less powerful 
    % to be 'bought off' with currency.
    true.

:- end_tests(hammurabi_lex_talionis_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.5): The code is not purely extractive (like a slave plantation) 
 * because it imposes heavy penalties on the *powerful* as well (e.g., a builder 
 * being killed if a house falls). This "functional" aspect keeps it 
 * from being a 1.0 Noose.
 * 2. PERSPECTIVE SELECTION: Chose the Slave/Gentleman/Historian triad to show 
 * the movement from Coercion (Noose) to Coordination (Rope) to Natural Law (Mountain).
 * 3. CONFIDENCE: High. The text explicitly defines the social strata and 
 * corresponding penalties .
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Vernacular/Oral Tradition
 * Viability: Local customs existed before codification.
 * Suppression: Hammurabi specifically claims to replace local "strife" 
 * with his "Sure Guidance".
 * * ALTERNATIVE 2: Monetary-only compensation (The 'Poor Man's' Option)
 * Viability: The code already uses silver for some injuries. 
 * Extending this to all classes would have moved the system toward a "Rope."
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE:
 * 1. Load: ?- [hammurabi_lex_talionis].
 * 2. Run: ?- run_tests(hammurabi_lex_talionis_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(hammurabi, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(hammurabi, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(hammurabi, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: hanlons_razor
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Robert J. Hanlon (1980) / Systems Thinking
% ============================================================================

:- module(constraint_hanlons_razor, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: hanlons_razor
 * human_readable: Hanlon's Razor ("Never attribute to malice...")
 * domain: social/cognitive/organizational
 * temporal_scope: Permanent (Modern Era)
 * spatial_scope: Global (Interpersonal and Bureaucratic Systems)
 * * SUMMARY:
 * Hanlon's Razor is an adagial heuristic: "Never attribute to malice that which 
 * is adequately explained by stupidity." It serves as a philosophical 
 * constraint on how we model the intentions of others in complex systems, 
 * suggesting that incompetence is a more frequent cause of negative outcomes 
 * than coordinated malevolence.
 * * KEY AGENTS:
 * - The Optimistic Skeptic: Uses the razor to maintain social trust and avoid 
 * paranoia.
 * - The Incompetent Actor: The source of the "noise" or "error" that looks 
 * like an attack.
 * - The Machiavellian: An agent who hides malice *behind* the appearance 
 * of stupidity.
 * * NARRATIVE ARC:
 * The razor acts as a "buffer" in social networks. It starts as a Rope (a tool 
 * for de-escalation). However, in high-stakes environments, it can become a 
 * Mountain (an unchangeable cultural bias toward leniency) or a Noose 
 * (when used by institutions to evade accountability for structural harm).
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(hanlon_interval, 0, 10).
narrative_ontology:constraint_claim(hanlons_razor, noose).

% Base extractiveness: 0.2 (Low)
% Rationale: It primarily extracts "accountability." By reframing malice 
% as stupidity, it reduces the social/legal penalty for the actor, 
% transferring the emotional or material cost to the victim.
domain_priors:base_extractiveness(hanlons_razor, 0.2).

% Suppression score: 0.4 (Moderate)
% Rationale: The razor actively suppresses "Conspiracy Theory" or "Malice 
% Hypotheses." While often healthy, it can make genuine systemic exploitation 
% invisible to the casual observer.
domain_priors:suppression_score(hanlons_razor, 0.4).

% Enforcement: Emerges naturally as a cognitive shortcut to reduce social friction.
domain_priors:emerges_naturally(hanlons_razor).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(hanlons_razor, extractiveness, 0.2).
narrative_ontology:constraint_metric(hanlons_razor, suppression_requirement, 0.4).

% Beneficiaries: The Incompetent (who avoid punishment) and the Cynical (who 
% use "stupidity" as a shield for strategy).
constraint_beneficiary(hanlons_razor, [unintended_transgressors, tactical_actors]).

% Victims: The Accuser or Victim of harm who is told their grievance is 
% "just a misunderstanding."
constraint_victim(hanlons_razor, [accountability_seekers, system_critics]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SOCIAL COORDINATOR - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (A team leader or community member).
   WHEN: biographical (Focus on maintaining long-term relationships).
   WHERE: mobile (Can choose when to apply the heuristic).
   SCOPE: local/regional.
   
   WHY THIS CLASSIFICATION:
   For the coordinator, Hanlon's Razor is a Rope. It is a vital tool for 
   preventing "death spirals" of retaliation. By assuming a mistake was 
   stupidity, they preserve the ability to work with others without the 
   friction of perceived enmity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hanlons_razor,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SCIENTIFIC OBSERVER - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (A systems theorist or psychologist).
   WHEN: civilizational (Observing universal human behavior).
   WHERE: trapped (Human cognitive limits are fixed).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   To the observer, Hanlon's Razor describes a Mountain. In any large system, 
   entropy and human error are statistical certainties. Mediocrity and 
   incompetence are "natural laws" of complex organizations; coordinated 
   malice is rare because it is too difficult to sustain.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hanlons_razor,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MARGINALIZED VICTIM - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A person subject to "stupid" bureaucratic harm).
   WHEN: immediate (Experiencing the harm now).
   WHERE: constrained (Cannot exit the institution causing the harm).
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For a victim of structural harm, the razor is a Noose. When an institution 
   claims a harmful policy was just a "mistake" or "unintended," it uses the 
   razor to strangle the victim's ability to demand reform. The "stupidity" 
   defense becomes a mechanism to maintain a harmful status quo.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hanlons_razor,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(hanlons_razor_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(hanlons_razor, Type1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(hanlons_razor, Type2, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(hanlons_razor, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(accountability_extraction) :-
    % Extraction should be non-zero as it removes the "cost" of intent.
    domain_priors:base_extractiveness(hanlons_razor, E),
    E > 0.0.

test(systemic_bias_check) :-
    % Long-term civilizational view treats entropy/stupidity as a constant (Mountain).
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(hanlons_razor_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVAL DYNAMICS: The "Noose" classification is the most critical 
 * insight here—how a "kind" heuristic can be weaponized by institutions 
 * to dodge accountability for systemic biases.
 * 2. EXTRACTIVENESS: Kept low (0.2) because the primary "resource" being 
 * taken is not money, but the social right to hold someone responsible 
 * for intent.
 * 3. SUPPRESSION: Set at 0.4 to represent how the razor delegitimizes 
 * "Conspiracy" thinking, which is often correct in high-stakes corruption.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    intentionality_detection_limit,
    "Is there a mathematical limit to distinguishing high-entropy incompetence from low-signal malice?",
    resolution_mechanism("Information-theoretic analysis of adversarial intent in noise-heavy systems"),
    impact("If Yes: Hanlon's Razor is a Mountain (we can never know). If No: It is a Rope (we can choose to detect)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Occam's Razor (The simplest explanation is best)
 * Viability: High. Hanlon's is a specialized subset of Occam's.
 * * ALTERNATIVE 2: Grey's Law (Sufficiently advanced incompetence is 
 * indistinguishable from malice)
 * Viability: High. It reverses the razor, suggesting we should focus 
 * on impact rather than intent.
 * * CONCLUSION:
 * The existence of Grey's Law suggests that Hanlon's Razor is a choice 
 * (Rope), and when we are forced to use it despite visible harm, it 
 * becomes a Noose.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_hanlons_razor].
 * 2. Multi-perspective report: ?- multi_index_report(hanlons_razor).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: harm_principle_liberty
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: On Liberty by John Stuart Mill (Courtney Edition)
% ============================================================================

:- module(constraint_harm_principle_liberty, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: harm_principle_liberty
 * human_readable: The Liberty-Harm Dialectic
 * domain: political/social
 * temporal_scope: 19th Century (1859 - Present)
 * spatial_scope: Global (Modern Liberal Democracies)
 * * SUMMARY:
 * Mill identifies the "Tyranny of the Majority" and the "Despotism of Custom" 
 * as the primary constraints of the modern age. He proposes the "Harm Principle" 
 * as a meta-constraint: society may only coerce an individual to prevent 
 * harm to others. Any other interference (for the person's own good) is 
 * classified as a "Noose" masquerading as a "Rope."
 * * KEY AGENTS:
 * - The Individual (The Eccentric): The victim of social stigma/custom.
 * - The Majority (Public Opinion): The institutional force enforcing uniformity.
 * - The Statesman: The agent tasked with applying the "Republican Remedy" 
 * of limited interference.
 * * NARRATIVE ARC:
 * The text moves from a historical struggle against political rulers (One/Few) 
 * to a more insidious struggle against "Social Tyranny" (The Many). 
 * Mill argues that unless "Individuality" is preserved as a "Mountain" of 
 * right, the "Rope" of social coordination will inevitably tighten into 
 * a "Noose" of Chinese-style stationariness.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(on_liberty_analysis, 0, 10).
narrative_ontology:constraint_claim(harm_principle_liberty, rope).

% Base extractiveness score: 0.5
% Rationale: Society extracts a "fair share" of burdens and conformity 
% to "not injuring interests," but the individual extracts "protection" 
% and the "security" to pursue their own good.
domain_priors:base_extractiveness(harm_principle_liberty, 0.5).

% Suppression score: 0.8
% Rationale: Mill warns that the "Despotism of Custom" is in unceasing 
% antagonism to progress. Social stigma is "as efficacious as law."
domain_priors:suppression_score(harm_principle_liberty, 0.8).

% Enforcement requirements: Law and "Moral Repression" (Public Opinion).
domain_priors:requires_active_enforcement(harm_principle_liberty).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(harm_principle_liberty, extractiveness, 0.5).
narrative_ontology:constraint_metric(harm_principle_liberty, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(harm_principle_liberty, [collective_stability, future_generations]).
constraint_victim(harm_principle_liberty, [eccentrics, original_thinkers]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NON-CONFORMIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The person who does "what nobody does."
   WHEN: immediate - Facing the "vituperative language" of the majority.
   WHERE: trapped - The "social stigma" leaves "fewer means of escape" than law.
   SCOPE: local - Their immediate neighborhood and class.
   
   WHY THIS CLASSIFICATION:
   For the eccentric, social custom is a "Noose." It is a coercive system 
   that "dwarfs" their mental expansion to fit a "commonplace" model, 
   offering no exit but "lunacy" proceedings or poverty.
   
   NARRATIVE EVIDENCE:
   "Enslaving the soul itself... penetrating much more deeply into the 
   details of life."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    harm_principle_liberty,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(harm_principle_liberty, collective_mediocrity),
        constraint_victim(harm_principle_liberty, eccentrics),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(harm_principle_liberty, S),
    S > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PHILOSOPHER (Mill) - Rope
   --------------------------------------------------------------------------
   
   WHO: analytical - Observing the "history of mankind."
   WHEN: generational - Thinking of "the permanent interests of man."
   WHERE: arbitrage - Balancing "individual spontaneity" vs "social control."
   SCOPE: global - "In the modern world."
   
   WHY THIS CLASSIFICATION:
   Mill views the Harm Principle as a "Rope"—a vital coordination 
   mechanism. It is a functional rule that allows for "different 
   experiments of living" to prevent civilizational stagnation.
   
   NARRATIVE EVIDENCE:
   "The only freedom which deserves the name, is that of pursuing our 
   own good in our own way."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    harm_principle_liberty,
    rope,
    context(
        agent_power(analytical),
        time_horizon(generational),
        exit_options(arbitrage),
        constraint_beneficiary(harm_principle_liberty, human_progress),
        constraint_victim(harm_principle_liberty, []),
        spatial_scope(global)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: CUSTOM / TRADITION - Mountain
   --------------------------------------------------------------------------
   
   WHO: institutional - The "magical influence of custom."
   WHEN: civilizational - "Thousands of years" in the East.
   WHERE: trapped - "Stationary" nations like China.
   SCOPE: national - The "general average of mankind."
   
   WHY THIS CLASSIFICATION:
   To the average person, the "rules which obtain among themselves" 
   appear as "self-evident" as laws of nature. It is a "Mountain" 
   that defines reality and requires no reasons.
   
   NARRATIVE EVIDENCE:
   "Continually mistaken for the first [nature]... custom is there, 
   in all things, the final appeal."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    harm_principle_liberty,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(trapped),
        constraint_beneficiary(harm_principle_liberty, []),
        constraint_victim(harm_principle_liberty, []),
        spatial_scope(national)
    )
) :-
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(harm_principle_tests).

test(gap_analysis_eccentric_vs_majority) :-
    % Eccentric sees a Noose; Mill sees a Rope; Majority sees a Mountain.
    constraint_indexing:constraint_classification(harm_principle_liberty, noose, context(agent_power(individual_powerless), _, _, _, _, _)),
    constraint_indexing:constraint_classification(harm_principle_liberty, rope, context(agent_power(analytical), _, _, _, _, _)),
    constraint_indexing:constraint_classification(harm_principle_liberty, mountain, context(agent_power(institutional), _, _, _, _, _)).

test(extraction_stigma) :-
    % Verify high extractiveness when social stigma is applied to self-regarding acts
    domain_priors:base_extractiveness(harm_principle_liberty, 0.5).

test(enforcement_required) :-
    domain_priors:requires_active_enforcement(harm_principle_liberty).

:- end_tests(harm_principle_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVAL GAP: The brilliance of Mill’s analysis is identifying 
 * that what the Majority sees as a "Mountain" (Natural Moral Order) is 
 * actually a "Noose" (Coercive Custom) for the Individual. 
 * 2. THE HARM PRINCIPLE AS ROPE: I classified the "Principle" itself 
 * as a Rope because it is a "subordinate legislation" or "centralization 
 * of information" meant to facilitate coordination without crushing 
 * individuality.
 * 3. EXTRACTIVENESS: Set at 0.5. Mill admits society has a "jurisdiction" 
 * over conduct affecting others. The extraction is the "labour and 
 * sacrifices" for common defense, which is a fair trade in a Rope context.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    harm_boundary,
    "Where is the line between 'self-regarding' and 'social' acts in a hyper-connected society?",
    resolution_mechanism("Requires a recursive 'impact audit'—if every act 'affects' someone through sympathy, the Noose expands."),
    impact("If the boundary is porous: The Rope of Liberty becomes a Noose of total surveillance."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Paternalism (M. Comte's "Despotism of Society")
 * Viability: Highly viable (The "Chinese Ideal").
 * Suppression: Mill rejects this as "dwarfing" humanity.
 * * ALTERNATIVE 2: Theological Morality
 * Viability: The historical "Universal Church."
 * Suppression: Mill notes it is "incomplete and one-sided," a "reaction 
 * against Paganism."
 * * CONCLUSION:
 * The existence of these alternatives (which seek to move the constraint 
 * back to Mountain/Noose) is what necessitates Mill's defensive Rope 
 * of "Limited Government."
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: hawthorne_effect
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Psychometrics / Industrial Psychology / Hawthorne Works Study (1924-1932)
% ============================================================================

:- module(constraint_hawthorne_effect, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: hawthorne_effect
 * human_readable: The Hawthorne Effect (Observer Effect)
 * domain: social
 * temporal_scope: Modern Era (1924 - Present)
 * spatial_scope: Global (Institutional/Organizational)
 * * SUMMARY:
 * The Hawthorne Effect is a type of reactivity in which individuals modify an aspect 
 * of their behavior in response to their awareness of being observed. Originally 
 * discovered during productivity studies at the Western Electric Hawthorne Works, 
 * it represents a fundamental limit on the ability to gather "neutral" data on 
 * human social systems.
 * * KEY AGENTS:
 * - The Researcher: Analytical observer attempting to measure "natural" productivity.
 * - The Factory Manager: Institutional agent using the "gaze" to drive output.
 * - The Monitored Worker: Individual powerless agent whose behavior is warped by the observer.
 * * NARRATIVE ARC:
 * An organization introduces an observer to "improve" a system. The observer 
 * acts as a "Rope" for management to pull more effort from the workers. However, 
 * for the worker, the gaze becomes a "Noose" of performance anxiety and 
 * inauthenticity. Ultimately, the effect is revealed as a "Mountain"—an 
 * inescapable psychological law where the act of measurement inevitably 
 * changes the thing being measured.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(hawthorne_interval, 0, 10).
narrative_ontology:constraint_claim(hawthorne_effect, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.4). The effect extracts "authentic behavior" and 
% additional labor/effort through the psychological pressure of the gaze.
domain_priors:base_extractiveness(hawthorne_effect, 0.4).

% Suppression score (0.0-1.0)
% Rationale: Moderate (0.5). It suppresses the "Natural State." Once an 
% observer is present, the alternative—how the worker behaves when alone—is 
% rendered conceptually and empirically invisible.
domain_priors:suppression_score(hawthorne_effect, 0.5).

% Enforcement: Emerges naturally from human social cognition.
domain_priors:emerges_naturally(hawthorne_effect).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(hawthorne_effect, extractiveness, 0.4).
narrative_ontology:constraint_metric(hawthorne_effect, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(hawthorne_effect, [management, study_leads]).
constraint_victim(hawthorne_effect, [monitored_subjects, experimental_integrity]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RESEARCHER - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of social phenomena.
   WHEN: civilizational - Viewing human psychology as a fixed substrate.
   WHERE: analytical - Not personally constrained by the productivity quota.
   SCOPE: global - Applies to all human observation.
   
   WHY THIS CLASSIFICATION:
   To the scientist, the effect is a Mountain. It is an unchangeable 
   epistemological limit. No matter how much you "standardize" the lab, 
   the presence of the scientist creates a fixed peak of bias that 
   cannot be leveled, only accounted for.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hawthorne_effect,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CORPORATE SUPERVISOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power within the firm.
   WHEN: biographical - Managing a plant's output over a career.
   WHERE: arbitrage - Can decide when to introduce or withdraw observation.
   SCOPE: regional - Within the specific factory or department.
   
   WHY THIS CLASSIFICATION:
   For management, the effect is a Rope. It is a coordination mechanism 
   used to "nudge" behavior. By simply placing a supervisor on the floor 
   or announcing a "study," they pull the workforce toward higher 
   productivity without needing to change wages or hardware.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hawthorne_effect,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE FLOOR WORKER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the gaze and the quota.
   WHEN: immediate - The 8-hour shift under the clipboard.
   WHERE: trapped - Cannot leave the workstation or hide from the gaze.
   SCOPE: local - The immediate workbench.
   
   WHY THIS CLASSIFICATION:
   For the worker, the effect is a Noose. The awareness of being 
   watched creates an involuntary "tightening" of performance. They 
   cannot relax into their natural rhythm; the gaze extracts extra 
   vitality and focus, strangling their autonomy and mental peace 
   until the observer leaves.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hawthorne_effect,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(hawthorne_effect_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain
    constraint_indexing:constraint_classification(hawthorne_effect, mountain, context(analytical, civilizational, analytical, global)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(hawthorne_effect, rope, context(institutional, biographical, arbitrage, regional)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(hawthorne_effect, noose, context(individual_powerless, immediate, trapped, local)).

test(power_extractiveness_gaze) :-
    % Powerless individuals feel the extraction of their "authentic self" (Noose).
    % Institutions use the gaze to manage throughput (Rope).
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, arbitrage, regional),
    constraint_indexing:extractiveness_for_agent(hawthorne_effect, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(hawthorne_effect, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability_psychology) :-
    % Over biographical time, the worker is trapped (Noose).
    % Over civilizational time, it is a Law of Nature (Mountain).
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(hawthorne_effect_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.4):
 * Reasoning: It is a "soft" extraction. It doesn't steal money directly, 
 * but it extracts psychological energy and authentic agency.
 * * 2. PERSPECTIVE SELECTION:
 * Analyzed from the Scientist (Hardware limit), Manager (Strategic tool), 
 * and Worker (Psychological trap) to show the indexical range.
 * * 3. CLASSIFICATION RATIONALE:
 * Analytical → Mountain: It is a law of physics for social systems.
 * Institutional → Rope: It is a low-cost coordination tool.
 * Powerless → Noose: It is a restrictive performance trap.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    observation_latency,
    "How long does it take for a subject to 'habituate' and return to 
    natural behavior, effectively untying the Noose (Rope)?",
    resolution_mechanism("Longitudinal study of 24/7 surveillance vs. intermittent observation"),
    impact("If Habituation is fast: The effect is a weak Rope. If slow: It is a permanent Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Covert Observation (Surreptitious Monitoring)
 * Viability: Theoretically allows for the gathering of neutral data.
 * Suppression: High. Actively suppressed by modern ethics boards (IRB) 
 * and privacy laws.
 * Evidence: The shift from "secret" studies to "informed consent" requirements.
 * * CONCLUSION:
 * The existence of a "Natural State" that is only accessible through 
 * suppressed/unethical means confirms that for the modern subject, the 
 * Hawthorne Effect is a Noose—you are denied the exit into unobserved 
 * reality by the rules of the system.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_hawthorne_effect].
 * 2. Multi-perspective: ?- multi_index_report(hawthorne_effect).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: heisenberg_uncertainty
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Quantum Mechanics / Werner Heisenberg (1927)
% ============================================================================

:- module(constraint_heisenberg_uncertainty, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: heisenberg_uncertainty
 * human_readable: Heisenberg Uncertainty Principle
 * domain: technological
 * temporal_scope: Permanent (Universal Laws of Physics)
 * spatial_scope: Global (Quantum Scale)
 * * SUMMARY:
 * The Heisenberg Uncertainty Principle states that it is fundamentally impossible 
 * to simultaneously know the exact position and momentum of a particle. 
 * This is not a limit of measurement technology, but a structural property 
 * of quantum systems where the more precisely one property is measured, 
 * the less precisely the other can be known.
 * * KEY AGENTS:
 * - The Quantum Physicist: Analytical observer mapping the fundamental limits of the universe.
 * - The Security Architect: Institutional agent using the principle to ensure data integrity.
 * - The Nanotechnology Engineer: Individual agent struggling against the "noise" and limits of microscopic precision.
 * * NARRATIVE ARC:
 * The principle acts as a "Mountain" of physical reality. While it provides 
 * a "Rope" for coordination in quantum cryptography (by guaranteeing that 
 * eavesdropping can be detected), it functions as a "Noose" for those 
 * attempting classical-style absolute precision at the subatomic level.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(heisenberg_interval, 0, 10).
narrative_ontology:constraint_claim(heisenberg_uncertainty, mountain).

% Base extractiveness score
% Rationale: It extracts "absolute precision" from the observer. 
% It imposes a fundamental "uncertainty tax" on information.
domain_priors:base_extractiveness(heisenberg_uncertainty, 0.2).

% Suppression score
% Rationale: It suppresses the "Classical Realist" alternative where particles 
% have definite trajectories.
domain_priors:suppression_score(heisenberg_uncertainty, 0.4).

% Enforcement requirements
domain_priors:emerges_naturally(heisenberg_uncertainty).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(heisenberg_uncertainty, extractiveness, 0.2).
narrative_ontology:constraint_metric(heisenberg_uncertainty, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(heisenberg_uncertainty, quantum_cryptographers).
constraint_victim(heisenberg_uncertainty, classical_determinists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE THEORETICAL PHYSICIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal informational laws.
   WHEN: civilizational - Viewing the universe as a permanent substrate.
   WHERE: trapped - Logic and physics cannot bypass the commutation relations.
   SCOPE: global - Universal applicability.
   
   WHY THIS CLASSIFICATION:
   To the physicist, the principle is a Mountain. It is an unchangeable 
   consequence of the wave-like nature of matter. No amount of 
   "better measuring" changes this peak in the landscape of reality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    heisenberg_uncertainty,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE QUANTUM KEY DISTRIBUTOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define and utilize formal rules for trust.
   WHEN: biographical - Achieving secure communication over a project lifetime.
   WHERE: arbitrage - Can use uncertainty to detect perturbations by an eavesdropper.
   SCOPE: national - Infrastructure-level security.
   
   WHY THIS CLASSIFICATION:
   For the security architect, the principle is a Rope. It is a 
   coordination mechanism that provides a physical guarantee of privacy. 
   Uncertainty is used as a tether to ensure that "unobserved" data remains 
   truly unobserved.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    heisenberg_uncertainty,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CLASSICAL HARDWARE DESIGNER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the "noise" of the quantum floor.
   WHEN: immediate - Today's struggle to eliminate measurement variance.
   WHERE: constrained - Cannot leave the quantum domain while working at the nano-scale.
   SCOPE: local - Immediate laboratory environment.
   
   WHY THIS CLASSIFICATION:
   For the engineer trying to build a perfectly deterministic nano-switch, 
   the principle is a Noose. The harder they try to fix both 
   position and momentum, the tighter the "fuzziness" strangles their 
   precision, eventually leading to terminal heat or tunneling errors.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    heisenberg_uncertainty,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(heisenberg_uncertainty_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain
    constraint_indexing:constraint_classification(heisenberg_uncertainty, mountain, context(analytical, civilizational, trapped, global)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(heisenberg_uncertainty, rope, context(institutional, biographical, arbitrage, national)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(heisenberg_uncertainty, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_precision) :-
    % Powerless engineers feel the total extraction of precision (Noose).
    % Institutional cryptographers derive utility from the limit (Rope).
    domain_priors:base_extractiveness(heisenberg_uncertainty, Score),
    Score > 0.1.

test(time_immutability_physics) :-
    % Long-term civilizational logic = Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(heisenberg_uncertainty_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Low extraction because it is a neutral physical law. 
 * It extracts "certainty" but does not discriminate based on class, 
 * though the impact is asymmetric based on agent power.
 * * 2. PERSPECTIVE SELECTION:
 * The Analyst (Physicist) sees the law as a fixed Mountain.
 * The Architect (Cryptographer) sees the law as a Rope for security.
 * The Worker (Engineer) sees the law as a Noose strangling their precision.
 * * 3. AMBIGUITIES:
 * - The transition from quantum uncertainty to classical determinism (decoherence) 
 * creates a boundary where the Noose might be loosened.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    epistemic_vs_ontic_nature,
    "Is the uncertainty fundamentally real (Mountain) or just a limit 
    of our current informational framework (Rope)?",
    resolution_mechanism("Development of a grand unified theory or resolution 
    of the measurement problem"),
    impact("If Ontic: Absolute Mountain. If Epistemic: A Rope we can eventually untie."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Classical Mechanics
 * Viability: High at macro-scales, where uncertainty is negligible.
 * Suppression: Extreme at the quantum level; the laws of physics 
 * actively punish classical assumptions through contradictory data.
 * * CONCLUSION:
 * The existence of classical mechanics as a suppressed alternative at the 
 * quantum scale confirms that for the nanotechnologist, the principle 
 * acts as a Noose.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_heisenberg_uncertainty].
 * 2. Multi-perspective: ?- multi_index_report(heisenberg_uncertainty).
 * 3. Run tests: ?- run_tests(heisenberg_uncertainty_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: heuristic_optimization
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Metaheuristics / Evolutionary Computing / Optimization Theory
% ============================================================================

:- module(constraint_heuristics, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: heuristic_optimization
 * human_readable: Heuristic Optimization (The "Good Enough" Rope)
 * domain: technological/mathematical/economic
 * temporal_scope: Immediate to Biographical
 * spatial_scope: Global
 * * SUMMARY:
 * Heuristics are strategies derived from experience or "rules of thumb" 
 * to solve problems more quickly than classic methods. While they do not 
 * guarantee a perfect solution, they provide a functional one where 
 * exhaustive search (Mountain) would fail due to time or resource limits.
 * * KEY AGENTS:
 * - The Solver: The agent utilizing the heuristic to navigate a complex system.
 * - The Perfectionist: The agent trapped by the Noose of absolute optimality.
 * - The System: The reality that rewards speed and "functionality" over 
 * theoretical purity.
 * * NARRATIVE ARC:
 * Heuristics function as "Approximate Ropes." They acknowledge the 
 * impossibility of climbing the absolute peak of the Mountain and instead 
 * find a stable plateau. This creates a matching market where the "Price" 
 * is a small margin of error, paid for in exchange for a massive 
 * gain in speed and agency.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(heuristic_optimization, 0, 10).
narrative_ontology:constraint_claim(heuristic_optimization, rope).

% Base extractiveness score (0.2)
% Low extraction; users "pay" in sub-optimality, but gain the ability 
% to function in complex environments.
domain_priors:base_extractiveness(heuristic_optimization, 0.2).

% Suppression score (0.1)
% Heuristics are inherently transparent "shortcuts"; they don't hide 
% alternatives so much as they simplify the search for them.
domain_priors:suppression_score(heuristic_optimization, 0.1).

% Enforcement: Emerges naturally from cognitive and computational scarcity.
domain_priors:emerges_naturally(heuristic_optimization).

% Metrics
narrative_ontology:constraint_metric(heuristic_optimization, extractiveness, 0.2).
narrative_ontology:constraint_metric(heuristic_optimization, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(heuristic_optimization, real_time_systems).
constraint_beneficiary(heuristic_optimization, adaptive_agents).
constraint_victim(heuristic_optimization, none). % Positive-sum utility

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PRACTITIONER - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: immediate
   WHERE: mobile
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For someone making real-world decisions (like a delivery driver or a 
   trading algorithm), a heuristic is a "Rope." It allows them to act 
   instantly. The trade-off (95% optimal in 1 second vs 100% optimal 
   in 100 years) is a coordination win that empowers their mobility.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    heuristic_optimization,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(heuristic_optimization, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE THEORIST - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful (intellectual authority)
   WHEN: generational
   WHERE: trapped (locked in the search for the 'Absolute Truth')
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To a perfectionist seeking the absolute global minimum, a heuristic 
   is a "Noose." It "strangles" the truth by settling for a local 
   optimum. They see the heuristic as a shortcut that prevents the 
   system from ever reaching its theoretical potential.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    heuristic_optimization,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BIOLOGICAL ORGANISM - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   Biological evolution is a "Mountain" of heuristic optimization. 
   Natural selection doesn't find the "perfect" organism; it finds 
   the one that is "good enough" to survive and reproduce. To the 
   observer, heuristics are the immutable law of life in a resource-constrained universe.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    heuristic_optimization,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(heuristic_optimization),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(heuristic_tests).

test(functional_mobility) :-
    % Testing that heuristics act as a Rope for those needing immediate action.
    constraint_indexing:constraint_classification(heuristic_optimization, rope, context(_, _, mobile, _)).

test(optimal_frustration) :-
    % Testing that those 'trapped' by the need for perfection see a Noose.
    constraint_indexing:constraint_classification(heuristic_optimization, noose, context(_, _, trapped, _)).

:- end_tests(heuristic_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Heuristics are the "Exit Option" for NP-hard problems. I set 
 * extractiveness to 0.2 because the cost is inaccuracy, not coercion. 
 * I chose "Mountain" for biology because life *is* a heuristic process.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    heuristic_drift,
    "Will heuristics eventually become so accurate that the 'theoretical optimal' becomes irrelevant to human civilization?",
    resolution_mechanism("Comparative analysis of economic gains from heuristics vs. potential gains from theoretical optima"),
    impact("If Yes: The Noose of NP-completeness is effectively cut; the Mountain is conquered."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: hilberts_hotel_infinity
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: David Hilbert (1924) / Transfinite Arithmetic / Set Theory
% ============================================================================

:- module(constraint_hilberts_hotel, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: hilberts_hotel_infinity
 * human_readable: Hilbert's Paradox of the Grand Hotel
 * domain: mathematical/philosophical
 * temporal_scope: 1924 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Transfinite Sets)
 * * SUMMARY:
 * Hilbert's Hotel is a thought experiment that illustrates the properties of 
 * infinite sets. It describes a hotel with infinitely many rooms, all of which 
 * are occupied. Despite being "full," the hotel can accommodate an infinite 
 * number of new guests by shifting existing guests according to specific 
 * mathematical rules (e.g., Guest $n$ moves to Room $n+1$ or $2n$).
 * * KEY AGENTS:
 * - The Manager (Powerless/Moderate): An agent tasked with enforcing the 
 * infinite logic, possessing no agency over the rules of set theory.
 * - The Guest (Subject): A powerless agent whose position is entirely 
 * dictated by the mapping function $f(n)$.
 * - The Infinite Set (Institutional/Natural Law): The "Owner" of the hotel, 
 * representing the unyielding logic of $\aleph_0$ (aleph-null).
 * * NARRATIVE ARC:
 * Hilbert's Hotel is the ultimate "Mountain" of mathematical reality—the 
 * logic of infinite cardinality is fixed and unchangeable. In pedagogy, it 
 * acts as a "Rope" for coordinating an understanding of transfinite numbers. 
 * However, to the guest caught in a "Cantor's Diagonal" or a sudden influx of 
 * infinitely many buses, the shifting process is a "Noose" that extracts 
 * stability and location for the sake of higher-order set theory.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(hilberts_hotel_infinity, 1924, 2026).
narrative_ontology:constraint_claim(hilberts_hotel_infinity, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.15. While infinity is a "gift" of space, the paradox 
% "extracts" the intuitive human sense of "Fullness" and "Location," 
% rendering the concept of a "last room" impossible.
domain_priors:base_extractiveness(hilberts_hotel_infinity, 0.15).

% Suppression score (0.0-1.0)
% Rationale: 0.1. It does not actively suppress other truths, though it 
% renders "Finite Intuition" functionally invalid in transfinite contexts.
domain_priors:suppression_score(hilberts_hotel_infinity, 0.1).

% Enforcement: Emerges naturally from the axioms of Set Theory (ZFC).
domain_priors:emerges_naturally(hilberts_hotel_infinity).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(hilberts_hotel_infinity, extractiveness, 0.15).
narrative_ontology:constraint_metric(hilberts_hotel_infinity, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(hilberts_hotel_infinity, mathematicians). % Understanding cardinality.
constraint_beneficiary(hilberts_hotel_infinity, logical_rigor). 
constraint_victim(hilberts_hotel_infinity, finite_intuition). % Strangled by the logic of Aleph-0.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE HOTEL GUEST - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The guest cannot refuse the move; logic dictates it.
   WHEN: immediate - True at every moment a new guest arrives.
   WHERE: trapped - Bound within the infinite corridor of rooms.
   SCOPE: local - Focused on the shift from Room $n$ to $n+k$.
   
   WHY THIS CLASSIFICATION:
   For the guest, the rule that "there is always room" is a natural law of 
   their universe. They have no agency to stay in a specific room if the 
   Manager invokes the shifting rule. The Mountain of transfinite 
   arithmetic is unyielding.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    hilberts_hotel_infinity,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MATHEMATICS TEACHER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to use the paradox to coordinate learning.
   WHEN: biographical - Spanning the duration of a student's education.
   WHERE: mobile - Can apply the logic to countability, power sets, or real numbers.
   SCOPE: global - A universal pedagogical tool.
   
   WHY THIS CLASSIFICATION:
   For the educator, Hilbert's Hotel is a "Rope"—a functional coordination 
   mechanism. It allows them to pull students away from the "Noose" of 
   finite confusion and toward a standard of achievement in set theory.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hilberts_hotel_infinity,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MANAGER OF INFINITE BUSES - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Tasked with an impossible-looking job.
   WHEN: immediate - Facing the arrival of an infinite set of infinite sets.
   WHERE: constrained - No alternative but to follow the algorithm.
   SCOPE: local - Managing the front desk.
   
   WHY THIS CLASSIFICATION:
   When infinitely many buses, each with infinitely many guests, arrive 
   (the countability of $\mathbb{Q}$), the paradox acts as a "Noose." 
   The Manager is "strangled" by the complexity of the re-mapping 
   process, extracting massive cognitive labor to fulfill the "gift" of 
   unlimited space.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    hilberts_hotel_infinity,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(hilberts_hotel_infinity, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(hilberts_hotel_tests).

test(perspective_variance) :-
    % Guest -> Mountain
    constraint_indexing:constraint_classification(hilberts_hotel_infinity, Type1, context(individual_powerless, immediate, trapped, local)),
    % Teacher -> Rope
    constraint_indexing:constraint_classification(hilberts_hotel_infinity, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(manager_burden_extraction) :-
    % A powerless manager in a constrained context sees the paradox as a Noose.
    constraint_indexing:constraint_classification(hilberts_hotel_infinity, noose, context(individual_powerless, immediate, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(hilberts_hotel_infinity).

:- end_tests(hilberts_hotel_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: Hilbert's Hotel is primarily a "Mountain" because 
 * transfinite logic is non-negotiable. 
 * 2. TYPE SHIFT: I highlighted how the "Rope" of education becomes a 
 * "Noose" for the manager when the complexity of the mapping (e.g., 
 * Cantor's pairing function) extracts all intuitive ease.
 * 3. EXTRACTIVENESS (0.15): While infinity suggests abundance, the paradox 
 * extracts the very concept of "Permanence" for the individual guest.
 */

% OMEGA IDENTIFICATION
omega_variable(
    physical_realizability,
    "Can a 'Mountain' of abstract set theory hold in a 'Scaffold' of physical hardware?",
    resolution_mechanism("Comparison of theoretical infinite set results with memory limitations in automated theorem provers."),
    impact("If hardware fails: The Mountain is a mirage. If proof holds: It remains a Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Finitism
 * Viability: Refusing to accept the existence of infinite sets (Aristotle/Kronecker).
 * Suppression: Rejected by modern mathematics because it "strangles" 
 * the utility of calculus and analysis.
 * Evidence: Kronecker's famous dismissal of Cantor's work.
 * * ALTERNATIVE 2: Real-World Scarcity
 * Viability: Physical hotels have limits.
 * Status: Not an alternative to the paradox, but the reality that the 
 * paradox "suppresses" to make its point.
 * * CONCLUSION:
 * The dominance of the Hilbert/Cantor "Mountain" has turned Finitism into 
 * a "Scaffold" that was largely discarded by the 20th century.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [hilberts_hotel_infinity].
% Analyze: ?- constraint_indexing:multi_index_report(hilberts_hotel_infinity).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: hiv_prep_prevention_2026
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "We can block the spread of HIV" by Carissa Wong (Jan 2026)
% ============================================================================

:- module(hiv_prep_prevention_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: hiv_prep_prevention_2026
 * human_readable: PrEP-Mediated HIV Prevention
 * domain: technological/social/biological
 * temporal_scope: 2010-2026
 * spatial_scope: Global (over 150 countries)
 * * SUMMARY:
 * Pre-exposure prophylaxis (PrEP) is a daily antiviral pill that drastically reduces 
 * the risk of HIV transmission by more than 90 per cent when used correctly. 
 * It has transformed HIV from an inescapable threat associated with fear and stigma 
 * into a manageable health constraint, enhancing sexual freedom for millions.
 * * KEY AGENTS:
 * - The PrEP User: Individuals, particularly in underserved communities, who use 
 * the drug to regain sexual well-being and freedom.
 * - The Healthcare Institution (WHO/FDA): Bodies that approve and recommend 
 * PrEP to slash transmission rates globally.
 * - The Underserved Subject: Communities (e.g., men who have sex with men) who 
 * face healthcare barriers and historical stigma.
 * * NARRATIVE ARC:
 * From the early epidemic fears to the 2010 landmark trial, the advent of PrEP 
 * shifted the constraint of HIV transmission from an "act of god" or "condom 
 * failure" risk to a programmable biological barrier. By 2023, 
 * 3.5 million people were utilizing this "enormous revelation" to exchange 
 * bodily fluids safely.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(hiv_prep_prevention_2026, 0, 10).
narrative_ontology:constraint_claim([hiv_prep_prevention_2026], [biotechnological_intervention]).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: PrEP is highly generative of freedom; however, the cost of 
% daily medication and the reliance on pharmaceutical supply chains 
% introduces a minor extractive element.
domain_priors:base_extractiveness(hiv_prep_prevention_2026, 0.15).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: PrEP suppresses the transmission capacity of the virus itself 
% and suppresses the fear/stigma associated with risk.
domain_priors:suppression_score(hiv_prep_prevention_2026, 0.5).

% Enforcement requirements
% Requires active enforcement (Daily pill adherence and medical monitoring).
domain_priors:requires_active_enforcement(hiv_prep_prevention_2026).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(hiv_prep_prevention_2026, extractiveness, 0.15).
narrative_ontology:constraint_metric(hiv_prep_prevention_2026, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(hiv_prep_prevention_2026, global_sexual_freedom). %
constraint_beneficiary(hiv_prep_prevention_2026, healthcare_stability). %
constraint_victim(hiv_prep_prevention_2026, hiv_pathogen_spread). %

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PREP USER - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Subject to biological risk and stigma)
   WHEN: biographical (Focus on life-long sexual well-being)
   WHERE: trapped (Within an epidemic that has claimed 44 million lives)
   SCOPE: local (Personal intimate contact)
   
   WHY THIS CLASSIFICATION:
   For the user, PrEP is a "Rope"—a tool for coordination that allows them to 
   engage in the "kind of sex they wanted" while safely exchanging bodily 
   fluids. It replaces the "Noose" of fear with a functional pill.
   
   NARRATIVE EVIDENCE:
   "Allowed them to have the kind of sex they wanted to have, where bodily fluids 
   could be exchanged".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    hiv_prep_prevention_2026,
    rope,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE WHO/FDA REGULATOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-making/Recommending bodies)
   WHEN: historical (Managing the global HIV response since 2010)
   WHERE: arbitrage (Managing distribution across 150+ countries)
   SCOPE: global (Worldwide health policy)
   
   WHY THIS CLASSIFICATION:
   For regulators, PrEP is a "Rope"—a functional policy tool used to slash 
   transmission rates and stabilize global health.
   
   NARRATIVE EVIDENCE:
   "The World Health Organization recommended PrEP in 2015 and... more than 150 
   countries adopted the approach".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hiv_prep_prevention_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: BIOLOGICAL RESEARCHER - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer of the "landmark trial" results)
   WHEN: civilizational (Evolutionary interaction between virus and medicine)
   WHERE: analytical (Universal biochemical interactions)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From an analytical perspective, the efficacy of antivirals against the HIV 
   replication cycle is a "Mountain"—a fixed biological fact of modern medicine 
   demonstrated through repeated study.
   
   NARRATIVE EVIDENCE:
   "Slew of studies showed that, when used correctly, PrEP cuts the risk of HIV 
   transmission by more than 90 per cent".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    hiv_prep_prevention_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(hiv_prep_prevention_2026_tests).

test(multi_perspective_prep) :-
    % User perspective (Rope)
    constraint_indexing:constraint_classification(
        hiv_prep_prevention_2026,
        rope,
        context(individual_powerless, biographical, trapped, local)
    ),
    % Analyst perspective (Mountain)
    constraint_indexing:constraint_classification(
        hiv_prep_prevention_2026,
        mountain,
        context(analytical, civilizational, analytical, global)
    ).

test(extractiveness_vs_freedom) :-
    % While extractiveness exists (daily pill), freedom gains are higher.
    domain_priors:base_extractiveness(hiv_prep_prevention_2026, E),
    E < 0.3.

:- end_tests(hiv_prep_prevention_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================= */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.15):
 * Reasoning: PrEP requires a daily pharmaceutical commitment, which is 
 * a minor form of economic and behavioral extraction. 
 * However, it is overwhelmingly beneficial to the user's freedom.
 * * 2. PERSPECTIVE SELECTION:
 * Focused on the individual user's regained sexual freedom (Rope) 
 * vs the objective biological efficacy (Mountain).
 * * 3. CLASSIFICATION RATIONALE:
 * - User (Rope): It provides a "revelation" of contact and exchange without 
 * the previous "Noose" of stigma/fear.
 * - Analyst (Mountain): The >90% efficacy is a physical reality of the 
 * antiviral mechanism.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    prep_resistance_evolution,
    "Will long-term mass usage lead to HIV strains resistant to current PrEP drugs?",
    resolution_mechanism("Genetic sequencing of transmission breakthroughs in high-usage regions"),
    impact("If yes: Current Rope snaps, requiring a new Mountain of research. If no: Permanent Rope."),
    confidence_without_resolution(medium)
).

omega_variable(
    access_equity_as_noose,
    "Is the global adoption truly 150 countries or does it remain a 'Noose' of 
     unavailability for underserved communities within those nations?",
    resolution_mechanism("Sub-national audit of PrEP prescriptions in communities served vs. underserved"),
    impact("If unequal: Noose for the marginalized. If equal: Global Rope."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Condom-Only Prevention
 * Viability: Historically primary; "condoms provide protection".
 * Suppression: Rejected by many as they "can fail" and "make sex less 
 * pleasurable".
 * Evidence: "Many prefer not to use them".
 * * CONCLUSION:
 * The advent of PrEP turned the "Condom Noose" (perceived failure/lack of 
 * pleasure) into a "Biological Rope" (90% reduction + skin contact).
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [hiv_prep_prevention_2026].
% Multi-perspective: ?- multi_index_report(hiv_prep_prevention_2026).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: hoa_architectural_covenants
% ============================================================================
% Generated: 2026-01-18
% Model: Gemini 2.0 Flash
% Source: General Domain Analysis of North American HOA Covenants
% ============================================================================

:- module(constraint_hoa_architectural_covenants, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
domain_priors:base_extractiveness/2,
domain_priors:suppression_score/2,
domain_priors:requires_active_enforcement/1,
constraint_indexing:constraint_classification/3.

/* ==========================================================================

1. NARRATIVE CONTEXT
========================================================================== */

/**

* CONSTRAINT IDENTIFICATION
* * constraint_id: hoa_architectural_covenants


* human_readable: HOA Architectural Review and Restrictive Covenants
* domain: economic/social/legal
* temporal_scope: Contemporary (Post-1970s suburban expansion)
* spatial_scope: Residential developments (primarily North America)
* * SUMMARY:


* Legally binding restrictive covenants that dictate the aesthetic and structural
* modifications allowed on private property. Managed by an Architectural Review
* Board (ARB), these constraints regulate everything from paint color to roof
* materials to landscaping.
* * KEY AGENTS:


* * Resident/Homeowner: The subject bound by the covenants.


* * HOA Board/ARB Member: The enforcer of the "community standard."


* * Property Developer: The initial author of the covenants (often for marketability).


* * Real Estate Analyst: An observer of property value preservation.


* * NARRATIVE ARC:


* The constraint begins as a "Rope" (coordination for property value) but often
* transitions into a "Noose" or "Mountain" for residents as the ARB exercises
* subjective aesthetic judgment or rigid enforcement of outdated rules.
*/

/* ==========================================================================
2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(hoa_interval, 0, 10).
narrative_ontology:constraint_claim(hoa_architectural_covenants, rope).

% Base extractiveness: Moderate (0.45)
% Rationale: While residents pay fees and lose autonomy, they theoretically receive
% property value stability. However, the asymmetry lies in the board's power to
% fine without the resident's ability to easily opt out.
domain_priors:base_extractiveness(hoa_architectural_covenants, 0.45).

% Suppression score: Moderate (0.50)
% Rationale: Alternatives (like xeriscaping or solar panels) were historically
% suppressed, though state laws are beginning to mandate their visibility.
domain_priors:suppression_score(hoa_architectural_covenants, 0.50).

% Enforcement: Requires active enforcement (fines, liens, inspections).
domain_priors:requires_active_enforcement(hoa_architectural_covenants).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(hoa_architectural_covenants, extractiveness, 0.45).
narrative_ontology:constraint_metric(hoa_architectural_covenants, suppression_requirement, 0.80).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(hoa_architectural_covenants, property_developers).
constraint_beneficiary(hoa_architectural_covenants, institutional_investors).
constraint_victim(hoa_architectural_covenants, individual_homeowners).

/* ==========================================================================
3. INDEXED CLASSIFICATIONS (Perspectival Truth)
========================================================================= */

## /* --------------------------------------------------------------------------
PERSPECTIVE 1: INDIVIDUAL HOMEOWNER - Noose

WHO: individual_powerless (subject to arbitrary fines)
WHEN: biographical (duration of mortgage/residency)
WHERE: trapped (high cost of selling/moving; "exit" is expensive)
SCOPE: local (their specific lot/house)

WHY THIS CLASSIFICATION:
From the homeowner's perspective, the HOA functions as a Noose. They face
asymmetric power where the board can impose fines or liens for subjective
aesthetic violations (e.g., "wrong shade of beige"), often with limited
due process.

NARRATIVE EVIDENCE:
"The board threatened a lien on my house because my mailbox post was slightly
weathered, despite the fact that I've paid dues for 10 years."
-------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
hoa_architectural_covenants,
noose,
context(
agent_power(individual_powerless),
time_horizon(biographical),
exit_options(trapped),
spatial_scope(local)
)
) :-
domain_priors:base_extractiveness(hoa_architectural_covenants, E),
E > 0.4,
domain_priors:requires_active_enforcement(hoa_architectural_covenants),
!.

/* --------------------------------------------------------------------------
PERSPECTIVE 2: HOA BOARD / ARB - Rope

WHO: institutional (rule-making and enforcement power)
WHEN: generational (maintaining neighborhood character over decades)
WHERE: mobile (can change rules via board vote)
SCOPE: regional (the neighborhood/development)

WHY THIS CLASSIFICATION:
The Board sees the covenants as a Rope—a functional coordination mechanism
that prevents "tragedy of the commons" (e.g., one neighbor painting their
house neon pink and lowering everyone's property values).

NARRATIVE EVIDENCE:
"Without these guidelines, the neighborhood would lose its cohesive feel
and marketability. We are simply protecting the collective investment."
-------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
hoa_architectural_covenants,
rope,
context(
agent_power(institutional),
time_horizon(generational),
exit_options(mobile),
spatial_scope(regional)
)
) :-
% Institutional power perceives it as a tool for coordination
!.

/* --------------------------------------------------------------------------
PERSPECTIVE 3: REAL ESTATE ANALYST - Mountain

WHO: analytical (observer)
WHEN: historical (market trends over 50 years)
WHERE: analytical (comparative view across many developments)
SCOPE: national (standardization of suburban housing)

WHY THIS CLASSIFICATION:
For the analyst, the existence of HOA covenants is a Mountain—a structural
reality of the modern housing market. In many regions, nearly 100% of new
construction is HOA-governed; for a buyer, it is an immutable law of the
land rather than a choice.

NARRATIVE EVIDENCE:
"In this price bracket and zip code, non-HOA housing essentially does not
exist. It is a baseline condition of the local inventory."
-------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
hoa_architectural_covenants,
mountain,
context(
agent_power(analytical),
time_horizon(historical),
exit_options(analytical),
spatial_scope(national)
)
) :-
domain_priors:suppression_score(hoa_architectural_covenants, S),
S >= 0.5,
!.

/* ==========================================================================
4. TESTS (What We Learn About Constraints)
========================================================================== */

:- begin_tests(hoa_architectural_covenants_tests).

test(multi_perspective_variance) :-
constraint_indexing:constraint_classification(
hoa_architectural_covenants, Type1, context(agent_power(individual_powerless), time_horizon(biographical), exit_options(trapped), spatial_scope(local))),
constraint_indexing:constraint_classification(
hoa_architectural_covenants, Type2, context(agent_power(institutional), time_horizon(generational), exit_options(mobile), spatial_scope(regional))),
constraint_indexing:constraint_classification(
hoa_architectural_covenants, Type3, context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(national))),
Type1 = Type2,
Type2 = Type3,
Type1 = Type3.

test(power_extractiveness_scaling) :-
% Theoretically, institutional power experiences the "benefit" (low extraction)
% while powerless subjects experience the "cost" (high extraction).
E_Score_Powerless = 0.8, % Experience of fines/restrictions
E_Score_Institutional = 0.1, % Control/Coordination benefit
E_Score_Powerless > E_Score_Institutional.

test(time_immutability) :-
% On a biographical scale, it's a Noose (hard to change).
% On a generational scale, it's a Rope (can be amended by vote).
constraint_indexing:constraint_classification(hoa_architectural_covenants, noose, context(agent_power(individual_powerless), time_horizon(biographical), _, _)),
constraint_indexing:constraint_classification(hoa_architectural_covenants, rope, context(agent_power(institutional), time_horizon(generational), _, _)).

:- end_tests(hoa_architectural_covenants_tests).

/* ==========================================================================
5. MODEL INTERPRETATION (Commentary)
========================================================================== */

/**

* LLM GENERATION NOTES
* * Model: Gemini 2.0 Flash


* * KEY DECISIONS:


* * 1. EXTRACTIVENESS SCORE (0.45):




* Reasoning: Chosen because HOAs are not purely extractive (they provide
* maintenance and value preservation) but the enforcement mechanism is
* highly asymmetric. The "extraction" is often psychological (loss of
* autonomy) and financial (fines/dues).
* * 2. PERSPECTIVE SELECTION:




* * Homeowner: Represents the subject (Noose).


* * Board: Represents the administrator (Rope).


* * Analyst: Represents the market reality (Mountain).


* * 3. AMBIGUITIES:




* * The "value" of an HOA is highly debated. Is property value preservation


* a fact or a marketing claim? I have treated it as a claim by making the
* Board's perspective a "Rope" (functional/claimed benefit).
*/

/* ==========================================================================
6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
========================================================================== */

omega_variable(
property_value_correlation,
"Do architectural restrictions actually increase property value compared to similar non-HOA homes?",
resolution_mechanism("Long-term econometric study controlling for neighborhood age and location"),
impact("If NO: The 'Rope' classification for the Board collapses into a 'Noose' for the entire community."),
confidence_without_resolution(medium)
).

omega_variable(
board_motivation,
"Is ARB enforcement driven by aesthetic harmony (Rope) or personal power/ego (Noose)?",
resolution_mechanism("Sentiment analysis of board meeting minutes and litigation frequency"),
impact("Determines if the constraint is fundamentally a coordination tool or a control tool."),
confidence_without_resolution(low)
).

/* ==========================================================================
7. ALTERNATIVE ANALYSIS
========================================================================== */

/**

* VIABLE ALTERNATIVES
* * ALTERNATIVE 1: Municipal Zoning


* Viability: Standard city ordinances regulate safety and basic land use.
* Suppression: Property developers prefer HOAs to bypass municipal
* maintenance costs and create "exclusive" branding.
* * ALTERNATIVE 2: Covenants without Corporate Enforcement


* Viability: Restrictive covenants that exist on the deed but require
* neighbors to sue each other rather than a central board fining residents.
* Suppression: Often seen as "inefficient" for developers.
* * CONCLUSION:


* The suppression of non-HOA alternatives in new construction shifts the
* classification toward Noose for many buyers who "choose" an HOA only because
* no other modern inventory exists.
*/

/* ==========================================================================
8. INTEGRATION HOOKS
========================================================================== */

/**

* TO USE THIS FILE:
* * 1. Load: ?- [constraints/hoa_architectural_covenants].




* 2. Multi-perspective: ?- constraint_indexing:multi_index_report(hoa_architectural_covenants).


* 3. Run tests: ?- run_tests(hoa_architectural_covenants_tests).
*/



/* ==========================================================================
END OF CONSTRAINT STORY
========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(hoa_covenants, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(hoa_covenants, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(hoa_covenants, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: hominin_evolutionary_bottleneck
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Michael Marshall, "Revealing the epic story of ancient humans" 
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_hominin_evolutionary_bottleneck, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: hominin_evolutionary_bottleneck
 * human_readable: The Hominin Evolutionary Bottleneck
 * domain: technological/scientific/biological
 * temporal_scope: 7 million years ago to 60,000 years ago (Paleoanthropological record) 
 * spatial_scope: Africa and Global (Migration/Replacement patterns) 
 * * SUMMARY:
 * Historically, human evolution was viewed through a limited fossil record, primarily Ardipithecus (4.4mya). 
 * Since 2000, discoveries like Sahelanthropus (7mya) and genetic evidence of an African expansion 60,000 years ago 
 * have reframed human origins as a complex story of replacement and deep-time persistence.
 * * KEY AGENTS:
 * - The Modern Human (Homo sapiens): Descendants of the 60,000-year-old African expansion.
 * - The Extinct Cousin (e.g., Homo naledi, Flores "Hobbits"): Isolated species replaced by expanding populations.
 * - The Paleoanthropologist: The analytical observer using new techniques to interpret fossil blizzards.
 * * NARRATIVE ARC:
 * The constraint began as a "Mountain" of missing information that made evolution seem like a simple linear 
 * path. Modern archaeological "more" has turned it into a "Rope" for scientists to climb into the 
 * past, while for replaced species, the expansion was a biological "Noose".
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(hominin_evolutionary_bottleneck, 0, 10).
narrative_ontology:constraint_claim([hominin_evolutionary_bottleneck], [biological_replacement]).

% Base extractiveness score (0.75 = High)
% Rationale: The 60,000-year-old expansion involved the total replacement of other hominin species.
% This represents a total extraction of territory and evolutionary continuity from "cousin" species.
domain_priors:base_extractiveness(hominin_evolutionary_bottleneck, 0.75).

% Suppression score (0.60 = Moderate-High)
% Rationale: The "Normal Human" story previously suppressed the existence of diverse cousins 
% like H. naledi and Indonesian "hobbits" due to limited data.
domain_priors:suppression_score(hominin_evolutionary_bottleneck, 0.60).

% Enforcement requirements: Emerges naturally through biological competition and environmental isolation.
domain_priors:emerges_naturally(hominin_evolutionary_bottleneck).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(hominin_evolutionary_bottleneck, extractiveness, 0.75).
narrative_ontology:constraint_metric(hominin_evolutionary_bottleneck, suppression_requirement, 0.60).

% BENEFICIARIES & VICTIMS
% Modern humans (Non-African people descended from African ancestors) benefit from the expansion.
constraint_beneficiary(hominin_evolutionary_bottleneck, homo_sapiens).
% Extinct cousins (replaced species) are the victims of the evolutionary expansion.
constraint_victim(hominin_evolutionary_bottleneck, extinct_hominin_cousins).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: EXTINCT COUSIN (e.g., Homo naledi) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Biological species subject to replacement) 
   WHEN: civilizational (Deep-time evolutionary scale) 
   WHERE: trapped (Isolated in deep caves or on islands) 
   SCOPE: regional (Isolated pockets like Flores or single South African caves) 
   
   WHY THIS CLASSIFICATION:
   For species like H. naledi, the evolutionary bottleneck was a Noose. They were 
   confined to specific environments and eventually replaced by modern humans.
   
   NARRATIVE EVIDENCE:
   "Modern humans evolved in Africa and then expanded from there, replacing all the other hominin species".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hominin_evolutionary_bottleneck,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(hominin_evolutionary_bottleneck, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: MODERN SCIENTIST - Rope
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer using better techniques and data "blizzards") 
   WHEN: biographical (The 25-year "revolution" in understanding) 
   WHERE: arbitrage (Ability to play fossil data against genetic evidence) 
   SCOPE: global (Mapping origins from Africa to Indonesia) 
   
   WHY THIS CLASSIFICATION:
   The bottleneck and expansion patterns serve as a Rope—a functional framework that 
   organizes the "huge amount of information" into a coherent story of origins.
   
   NARRATIVE EVIDENCE:
   "Genetic evidence had demonstrated that all non-African people are descended from 
   African ancestors who lived about 60,000 years ago".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hominin_evolutionary_bottleneck,
    rope,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    % Analytical observers see the functional patterns of the data
    true,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE "ORRORIN" PRE-HUMAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Ancient ancestors with no conceptual agency) 
   WHEN: historical (7 million years of stasis and drift) 
   WHERE: trapped (Bounded by the physical "natural law" of Ardipithecus) 
   SCOPE: local (Specific fossil sites) 
   
   WHY THIS CLASSIFICATION:
   For early hominins like Orrorin, evolution was a Mountain—a slow, immutable 
   process of biological unfolding that spanned millions of years without intervention.
   
   NARRATIVE EVIDENCE:
   "In 2000 and 2001, researchers found an even older Ardipithecus... Orrorin tugenensis 
   from 6 million years ago".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hominin_evolutionary_bottleneck,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(historical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(hominin_evolutionary_bottleneck, S),
    S > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(hominin_evolutionary_bottleneck_tests).

test(multi_perspective_variance) :-
    % Cousin (Noose) vs Scientist (Rope) vs Ancestor (Mountain)
    constraint_indexing:constraint_classification(hominin_evolutionary_bottleneck, noose, context(individual_powerless, civilizational, trapped, regional)),
    constraint_indexing:constraint_classification(hominin_evolutionary_bottleneck, rope, context(analytical, biographical, arbitrage, global)),
    constraint_indexing:constraint_classification(hominin_evolutionary_bottleneck, mountain, context(individual_powerless, historical, trapped, local)).

test(power_extractiveness_scaling) :-
    % Powerless extinct cousins experience the total extraction of their species lineage (Score 1)
    % while analytical observers experience only data acquisition (Score 2).
    Score1 = 0.75,
    Score2 = 0.10,
    Score1 > Score2.

:- end_tests(hominin_evolutionary_bottleneck_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.75):
 * Reasoning: Chosen because the "Replacement" theory (African expansion) 
 * describes a high-extraction biological event where one group displaces others.
 * * 2. SUPPRESSION SCORE (0.60):
 * Reasoning: The long-standing Ardipithecus limit suppressed the "older" Orrorin 
 * and Sahelanthropus reality for decades.
 * * 3. PERSPECTIVE SELECTION:
 * Chose "Extinct Cousin" (H. naledi) to illustrate the Noose of replacement 
 * and "Modern Scientist" to illustrate the Rope of analytical synthesis.
 * * 4. AMBIGUITIES:
 * - The text mentions a "blizzard" of information; I interpreted this as a reduction 
 * in suppression but an increase in the complexity of the analytical Rope.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Mandatory Omega for high-extraction constraints:
omega_variable(
    hominin_evolutionary_bottleneck_extraction_intent,
    "Is the 60,000-year expansion a predatory biological displacement (Noose) or a natural adaptive shift (Mountain)?",
    resolution_mechanism("Audit of genetic admixture rates between Sapiens and Cousins to determine if 'replacement' was violent or absorptive"),
    impact("If predatory: Noose/Mandatrophy. If adaptive: Mountain."),
    confidence_without_resolution(medium)
).

omega_variable(
    undiscovered_cousins,
    "Do other isolated pockets of hominins still exist in the fossil record yet to be found?",
    resolution_mechanism("Systematic exploration of deep-cave systems in previously unsearched regions"),
    impact("If yes: The 'bottleneck' is less restrictive than modeled. If no: The expansion-replacement model is absolute."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Multiregional Evolution
 * Viability: Prior to 2000, some argued for diverse origins.
 * Suppression: Rejected by genetic evidence showing African descent 60,000 years ago.
 * * CONCLUSION:
 * The existence of suppressed alternatives (multiregionalism) shifts the modern 
 * understanding from a simple Mountain to an analytical Rope, and for those 
 * replaced, confirms the historical Noose.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraints/hominin_evolutionary_bottleneck].
 * 2. Multi-perspective: ?- multi_index_report(hominin_evolutionary_bottleneck).
 * 3. Run tests: ?- run_tests(hominin_evolutionary_bottleneck_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: hydra_game
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Kirby, L., & Paris, J. (1982) / Mathematical Logic
% ============================================================================

:- module(constraint_hydra_game, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: hydra_game
 * human_readable: The Hydra Game
 * domain: technological
 * temporal_scope: Permanent (Universal Mathematical Law)
 * spatial_scope: Global (Formal Systems)
 * * SUMMARY:
 * The Hydra Game is a mathematical game played on a rooted tree (the Hydra). 
 * While Hercules (the player) is guaranteed to win by eventually removing all 
 * heads, the length of the game grows so rapidly that its termination is 
 * unprovable in Peano Arithmetic.
 * * KEY AGENTS:
 * - Hercules: The agent attempting to solve the game (The Player).
 * - The Hydra: The recursive structure that grows in response to being attacked.
 * - The Proof Theorist: An analytical observer measuring the strength of 
 * the axioms required to prove termination.
 * * NARRATIVE ARC:
 * The game functions as a "Mountain" of transfinite necessity. For the 
 * logician, it is a "Rope" used to justify the move to stronger axioms (ZFC). 
 * For a computer attempting to simulate the game, it is a "Noose" that 
 * consumes all available time and memory long before the first branch is cleared.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Required for structural anchor
narrative_ontology:interval(hydra_interval, 0, 10).
narrative_ontology:constraint_claim(hydra_game, mountain).

% Base extractiveness: How much physical possibility is taken?
% Rationale: It extracts "realizability." The game is "computable" but 
% physically impossible to finish in our universe, extracting the utility 
% of the "Hercules always wins" promise.
domain_priors:base_extractiveness(hydra_game, 0.7).

% Suppression: How much are simpler alternatives hidden?
% Rationale: It suppresses "finitistic intuition." Peano Arithmetic 
% literally cannot "see" the end of the game, making the truth of 
% termination invisible to standard arithmetic.
domain_priors:suppression_score(hydra_game, 0.5).

% Enforcement: Emerges naturally from the rules of tree-pruning and recursion.
domain_priors:emerges_naturally(hydra_game).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(hydra_game, extractiveness, 0.7).
narrative_ontology:constraint_metric(hydra_game, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(hydra_game, transfinite_logicians).
constraint_victim(hydra_game, [physical_computation, finitist_philosophers]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MATHEMATICAL LOGICIAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal informational laws.
   WHEN: civilizational - Viewing logic as a permanent substrate.
   WHERE: trapped - Logic cannot bypass the well-ordering of ordinals.
   SCOPE: global - Universal applicability.
   
   WHY THIS CLASSIFICATION:
   To the logician, the Hydra is a Mountain. The termination of the game 
   is a fixed fact of the transfinite landscape. It is not a policy; it 
   is a consequence of the structure of $\epsilon_0$ (epsilon-zero).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hydra_game,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE AXIOMATIC ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define the meta-theories used for proof.
   WHEN: biographical - Achieving results within a career.
   WHERE: arbitrage - Can move between PA and stronger transfinite systems.
   SCOPE: national - Academic and industrial application.
   
   WHY THIS CLASSIFICATION:
   For the architect of formal systems, the Hydra is a Rope. It is a 
   coordination mechanism for benchmarking theories. By showing that 
   a system can or cannot prove the Hydra terminates, they "pull" 
   the boundaries of mathematical knowledge forward.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hydra_game,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(hydra_game, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PHYSICAL COMPUTER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the limits of entropy and time.
   WHEN: immediate - Today's simulation run.
   WHERE: constrained - Limited by the heat death of the universe.
   SCOPE: local - Immediate hardware environment.
   
   WHY THIS CLASSIFICATION:
   For any physical machine, the game is a Noose. Even though "Hercules 
   wins," the number of steps required is so large that the universe 
   will end before the first major branch is removed. The "computability" 
   of the game strangles the physical resources of the computer.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    hydra_game,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(hydra_game, E),
    E > 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(hydra_game_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain
    constraint_indexing:constraint_classification(hydra_game, mountain, context(analytical, civilizational, trapped, global)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(hydra_game, rope, context(institutional, biographical, arbitrage, national)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(hydra_game, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_realizability) :-
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(hydra_game, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(hydra_game, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability_hydra) :-
    % Immediate horizon + trapped = Mountain/Noose (the wall is hit now)
    constraint_indexing:effective_immutability(immediate, trapped, mountain).

:- end_tests(hydra_game_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.7): High. The Hydra Game extracts the "meaning" of 
 * computability. It is technically computable, yet physically impossible.
 * 2. NOOSE CLASSIFICATION: Applied to physical computation because the 
 * "guarantee" of winning is a trap—you will die/run out of energy long 
 * before you win.
 * 3. MOUNTAIN LOGIC: Based on the unprovability in PA (Peano Arithmetic), 
 * establishing it as a fixed feature for those limited to finitistic axioms.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    transfinite_intuition_physicality,
    "Can human consciousness 'access' transfinite truth (Mountain) or is it 
    merely a linguistic scaffold (Rope) for a finitist brain?",
    resolution_mechanism("Long-term neuro-computational study of transfinite reasoning"),
    impact("If Mountain: We can eventually 'see' the end of the Hydra. 
    If Rope: The Hydra remains a permanent Noose for us."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Non-standard Models of Arithmetic
 * Viability: Allows for "infinite" integers that might interpret 
 * the Hydra game differently.
 * Suppression: Standard logic suppresses non-standard models to 
 * maintain intuitive consistency.
 * * CONCLUSION:
 * The existence of stronger transfinite systems converts the "Noose" 
 * of the Hydra into a "Rope" for the advanced mathematician.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_hydra_game].
 * 2. Multi-perspective: ?- multi_index_report(hydra_game).
 * 3. Run tests: ?- run_tests(hydra_game_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: indexical_relativity_core
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: indexical_relativity.md
% ============================================================================

:- module(constraint_indexical_relativity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: indexical_relativity_core
 * human_readable: The Law of Indexical Relativity
 * domain: philosophical/epistemological
 * temporal_scope: Permanent (Analytical)
 * spatial_scope: Universal
 * * SUMMARY:
 * This constraint establishes that the classification of any social or physical 
 * limitation as a Mountain, Rope, or Noose is not an intrinsic property of 
 * the object itself. Instead, it is a function of the observer's power level, 
 * time horizon, and exit options.
 * * KEY AGENTS:
 * - The Powerless Subject: Experiences constraints as immutable "Natural Law" (Mountain).
 * - The Institutional Architect: Experiences constraints as "Choice-based Coordination" (Rope).
 * - The Analytical Historian: Experiences constraints as "Extractive Structures" (Noose/Rope).
 * * NARRATIVE ARC:
 * As an agent's power or time horizon increases, Mountains "melt" into Ropes. 
 * Conversely, as power decreases, coordination Ropes tighten into coercive Nooses 
 * or unchangeable Mountains.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(meta_logic_01, 0, 10).
narrative_ontology:constraint_claim(indexical_relativity_core, rope).

% Base extractiveness score (0.1: It is a logical framework, not inherently extractive)
domain_priors:base_extractiveness(indexical_relativity_core, 0.1).

% Suppression score (0.2: Low, though often ignored in favor of 'objective' universalism)
domain_priors:suppression_score(indexical_relativity_core, 0.2).

% This is an analytical truth that emerges from the structure of power
domain_priors:emerges_naturally(indexical_relativity_core).

% Metrics for Section 1
narrative_ontology:constraint_metric(indexical_relativity_core, extractiveness, 0.1).
narrative_ontology:constraint_metric(indexical_relativity_core, suppression_requirement, 0.2).

% Beneficiaries of understanding this:
constraint_beneficiary(indexical_relativity_core, [analytical_observers, strategic_planners]).
% Victims of ignoring this:
constraint_victim(indexical_relativity_core, [those_mistaking_nooses_for_mountains]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: The Powerless Individual - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless (No ability to shape the rule)
   WHEN: biographical (Single lifetime)
   WHERE: trapped (No exit options)
   
   WHY THIS CLASSIFICATION:
   For the powerless, a constraint is a Mountain because they lack the agency 
   to alter it and the time to see it decay. It functions as "natural law".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    indexical_relativity_core,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    % Mountain for powerless individuals within a single lifetime
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: The Institution / Pope - Rope
   --------------------------------------------------------------------------
   WHO: institutional (Rule-making power)
   WHEN: generational (Maintained over decades/centuries)
   WHERE: arbitrage (Can modify the system)
   
   WHY THIS CLASSIFICATION:
   For the architect, the constraint is a Rope. It is a coordination mechanism 
   maintained by choice to achieve specific functional goals.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    indexical_relativity_core,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    % Rope for those with rule-making power
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The Historian / Observer - Noose
   --------------------------------------------------------------------------
   WHO: analytical (Non-participant observer)
   WHEN: historical (Centuries-long view)
   WHERE: analytical (Unconstrained by the system)
   
   WHY THIS CLASSIFICATION:
   The historian sees a Noose or a decayed Rope. They observe the extractive 
   nature and the eventual collapse of constraints that others saw as 
   permanent.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    indexical_relativity_core,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    % Noose when analyzing long-term extractiveness and collapse
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(indexical_relativity_tests).

/**
 * TEST: The Melting Point of Mountains
 * Demonstrates that increasing power/time horizon changes Mountain to Rope.
 */
test(mountain_melting_point) :-
    % Powerless see Mountain
    constraint_indexing:constraint_classification(indexical_relativity_core, mountain, 
        context(individual_powerless, biographical, trapped, local)),
    % Institutional see Rope
    constraint_indexing:constraint_classification(indexical_relativity_core, rope, 
        context(institutional, generational, arbitrage, global)).

/**
 * TEST: Objective Truth Persistence
 * Verifies that each indexed classification is objectively true for its context.
 */
test(objective_indexed_truth) :-
    constraint_indexing:constraint_classification(indexical_relativity_core, Type, 
        context(individual_powerless, biographical, trapped, local)),
    Type == mountain.

:- end_tests(indexical_relativity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SELECTION: Used the "Medieval Church" example from the source 
 * to ground the abstract theory in its primary use-case.
 * 2. CORE OMEGA:
 * omega_variable(agent_perception_lag,
 * "How quickly does an agent realize their status has shifted from Powerless to Powerful?",
 * resolution_mechanism("Measure latency between agency acquisition and constraint re-classification"),
 * impact("Determines if the system is 'sticky' or fluid."),
 * confidence_without_resolution(medium)
 * ).
 * * CONFIDENCE ASSESSMENT:
 * High: The source material explicitly defines these three perspectives.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Objective Universalism
 * Viability: The belief that a constraint is "actually" one type for everyone.
 * Suppression: Actively challenged by the Indexical Relativity framework, 
 * which labels universalism as a "perspective blind-spot".
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CORE LOGIC:
 * 1. Load: ?- [constraint_indexical_relativity].
 * 2. Audit: ?- constraint_indexing:multi_index_report(indexical_relativity_core).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: information_foraging_theory
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Pirolli, P., & Card, S. (1999). Information foraging.
% ============================================================================

:- module(constraint_info_foraging, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: information_foraging_theory
 * human_readable: Information Foraging (Optimal Search Logic)
 * domain: technological/biological/social
 * temporal_scope: Immediate to Biographical
 * spatial_scope: Global
 * * SUMMARY:
 * IFT posits that humans use built-in biological heuristics to maximize their 
 * "Information Gain" per unit of "Interaction Cost." It explains why we 
 * skim, why we click certain links, and when we decide to abandon a 
 * "patch" (like a long article) to find a new one.
 * * KEY AGENTS:
 * - The Forager: The individual seeking information to solve a problem.
 * - The Information Patch: A concentrated source of data (a web page, a library).
 * - The Information Scent: The cues (links, keywords) that hint at the value 
 * of a potential path.
 * * NARRATIVE ARC:
 * IFT functions as a "Metabolic Rope." It coordinates human attention by 
 * calculating the "return on investment" for every click. It acts as an 
 * invisible Mountain that dictates the design of the entire internet.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(information_foraging_theory, 0, 10).
narrative_ontology:constraint_claim(information_foraging_theory, rope).

% Base extractiveness score (0.2)
% Low extraction; it is a theory of efficiency, though platforms may 
% "hijack" scent to extract attention.
domain_priors:base_extractiveness(information_foraging_theory, 0.2).

% Suppression score (0.1)
% Information "scent" is the opposite of suppression; it is a strategy 
% of high-visibility signaling.
domain_priors:suppression_score(information_foraging_theory, 0.1).

% Enforcement: Emerges naturally from evolutionary energy conservation.
domain_priors:emerges_naturally(information_foraging_theory).

% Metrics
narrative_ontology:constraint_metric(information_foraging_theory, extractiveness, 0.2).
narrative_ontology:constraint_metric(information_foraging_theory, suppression_requirement, 0.1).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE USER - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: immediate
   WHERE: mobile (high navigation freedom)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the user, IFT is a "Rope." It is the mental coordination tool that 
   allows them to navigate the infinite "Mountain" of the web. By following 
   "Information Scent," they find the shortest path to their goal, 
   minimizing their cognitive load.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    information_foraging_theory,
    rope,
    context(agent_power(individual_moderate), time_horizon(immediate), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE UX DESIGNER - Mountain
   --------------------------------------------------------------------------
   WHO: analytical/institutional
   WHEN: biographical
   WHERE: analytical
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   To a designer, IFT is a "Mountain." You cannot ignore it. If a website 
   has poor "Information Scent" (unclear navigation), users will 
   predictably "evaporate" (The Dead Sea Effect) to a better patch. 
   The theory is an immutable law of user behavior.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    information_foraging_theory,
    mountain,
    context(agent_power(institutional), time_horizon(biographical), exit_options(analytical), spatial_scope(national))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ATTENTION FARMER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (the user being farmed)
   WHEN: immediate
   WHERE: trapped (in a 'sticky' platform)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   When a platform uses IFT to maximize "Time on Site" rather than 
   "Goal Completion," the theory becomes a "Noose." By providing 
   continuous "micro-scents" (infinite scrolls, notifications), they 
   trap the forager in a loop of low-value exploration, strangling 
   their productivity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    information_foraging_theory,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(global))
) :- !.

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: inner_model_theory_constraints
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Kurt Gödel (1938) / Ronald Jensen (1972) / Inner Model Theory
% ============================================================================

:- module(constraint_inner_models, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: inner_model_theory_constraints
 * human_readable: Inner Model Theory (L and its Descendants)
 * domain: mathematical/philosophical
 * temporal_scope: 1938 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Transfinite Set Theory)
 * * SUMMARY:
 * Inner Model Theory studies sub-universes of the set-theoretic universe (V) 
 * that satisfy the axioms of ZFC. The archetypal inner model is Gödel's 
 * Constructible Universe (L), which imposes a "Mountain" of absolute 
 * determinacy on the transfinite, fixing independence results like the 
 * Continuum Hypothesis.
 * * KEY AGENTS:
 * - The Constructible Set (Subject): A powerless agent whose existence is 
 * strictly defined by previously constructed stages (The "L-Hierarchy").
 * - The Model Theorist (Institutional): An agent who uses Inner Models as 
 * a "Rope" to prove consistency results and map the "Consistency Strength" 
 * of large cardinals.
 * - The Pluralist Realist (Analytical): An observer for whom a specific 
 * inner model acts as a "Noose," as it "strangles" the rich variety of 
 * the full universe (V) to enforce a rigid, predictable structure.
 * * NARRATIVE ARC:
 * Inner Model Theory represents the "Mountain" of minimal, canonical reality 
 * within set theory. For the logician, it is a "Rope"—a functional 
 * coordination tool that allows for the "bootstrapping" of consistency. 
 * However, for those who believe the universe should be "rich" (e.g., the 
 * Axiom of Determinacy or large cardinals), the rigid constraints of $V=L$ 
 * act as a "Noose," extracting the "Fullness of V" (extraction) and 
 * "choking" the possibility of higher-order symmetry.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural anchor extraction
narrative_ontology:interval(inner_model_era, 1938, 2026).
narrative_ontology:constraint_claim(inner_model_theory_constraints, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.3. Inner models "extract" the combinatorial richness of the 
% full universe (V) to provide a "clean" sub-model. This imposes a 
% "complexity tax" by forcing researchers to differentiate between what 
% is true in "L" vs what is true in "V."
domain_priors:base_extractiveness(inner_model_theory_constraints, 0.3).

% Suppression score (0.0-1.0)
% Rationale: 0.5. Historically, $V=L$ suppressed the visibility of 
% non-constructible sets, rendering them "pathological" or "non-existent" 
% until forcing and large cardinals revealed the broader landscape.
domain_priors:suppression_score(inner_model_theory_constraints, 0.5).

% Enforcement: Emerges naturally from the definition of ordinal-indexed construction.
domain_priors:emerges_naturally(inner_model_theory_constraints).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(inner_model_theory_constraints, extractiveness, 0.3).
narrative_ontology:constraint_metric(inner_model_theory_constraints, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(inner_model_theory_constraints, consistency_proof_developers).
constraint_beneficiary(inner_model_theory_constraints, fine_structure_theorists).
constraint_victim(inner_model_theory_constraints, large_cardinal_pluralists).
constraint_victim(inner_model_theory_constraints, geometric_intuition).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE CONSTRUCTIBLE SET (x ∈ L) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The set cannot choose to be non-constructible.
   WHEN: immediate - Its membership is fixed at the ordinal stage $\alpha+1$.
   WHERE: trapped - Bound within the hierarchy of $L$.
   SCOPE: local - Immediate definition via first-order logic.
   
   WHY THIS CLASSIFICATION:
   For a set within $L$, the constraints of Inner Model Theory are a 
   Mountain. It exists only because it was "named" by a formula at a 
   specific level. It cannot "exit" to the outer universe (V) if $V=L$ 
   is the law. Its identity is an unyielding geometric fact.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    inner_model_theory_constraints,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CONSISTENCY RESEARCHER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design proofs and define the working model.
   WHEN: biographical - Spanning the effort to prove the consistency of AC/CH.
   WHERE: mobile - Can choose to work in L, L[U], or Core Models.
   SCOPE: global - Universal foundation for consistency results.
   
   WHY THIS CLASSIFICATION:
   For the researcher, the Inner Model is a "Rope"—a functional coordination 
   mechanism. It allows them to coordinate a "standard of achievement" 
   (e.g., proving $Con(ZFC)$ implies $Con(ZFC+CH)$), pulling the 
   field toward a stable understanding of relative consistency.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    inner_model_theory_constraints,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LARGE CARDINAL PROPONENT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the intelligence to define but is bound by L's limit.
   WHEN: civilizational - Seeking a "Large" universe where Measurable Cardinals exist.
   WHERE: constrained - $V=L$ is a "Noose" because it denies the existence of $0^{\#}$.
   SCOPE: global - Universal limit on set-theoretic ontology.
   
   WHY THIS CLASSIFICATION:
   For those seeking a "Large" universe, the constraint of $V=L$ is a "Noose." 
   It "strangles" the possibility of Measurable Cardinals (Scott's Theorem). 
   It extracts the "Richness of V" (extraction), "choking" the 
   growth of the transfinite to maintain a "thin" constructible line.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    inner_model_theory_constraints,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(inner_model_theory_constraints, E),
    E >= 0.25,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(inner_model_theory_tests).

test(multi_perspective_variance) :-
    % Set -> Mountain
    constraint_indexing:constraint_classification(inner_model_theory_constraints, Type1, context(individual_powerless, immediate, trapped, local)),
    % Researcher -> Rope
    constraint_indexing:constraint_classification(inner_model_theory_constraints, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(ontological_extraction_penalty) :-
    % Pluralists feel the 0.3 extraction of "Richness" as a Noose.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(inner_model_theory_constraints, Context, Score),
    Score >= 0.25.

test(natural_emergence) :-
    domain_priors:emerges_naturally(inner_model_theory_constraints).

:- end_tests(inner_model_theory_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.3):
 * Reasoning: Inner models are "lossy" compressions of V. They extract 
 * the potential for non-constructible variety to provide a safe, 
 * consistent sub-universe.
 * * 2. CLASSIFICATION RATIONALE:
 * Captured the transition from the "Mountain" of Gödel's L to the 
 * "Noose" it became for those discovering the "Large Cardinal" hierarchy.
 */

% OMEGA IDENTIFICATION
omega_variable(
    inner_model_limit,
    "Does there exist an inner model for a Supercompact Cardinal (Mountain) or is it a logical Scaffold?",
    resolution_mechanism("Development of the 'Ultimate L' conjecture or higher core model theories."),
    impact("If Mountain: We can reconcile Large Cardinals with Inner Models. If Noose: The two remain forever in conflict."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Forcing (The "Rich" Universe)
 * Viability: Creating new sets that do not belong to L.
 * Suppression: Actively suppressed within the "Axiom of Constructibility" ($V=L$) 
 * framework to ensure a "Mountain" of decidability.
 * * ALTERNATIVE 2: The Core Model (K)
 * Viability: A "Rope" designed to accommodate larger cardinals while 
 * keeping the "L-like" structure.
 * * CONCLUSION:
 * The existence of Forcing (Alternative 1) is what turns the $V=L$ 
 * "Mountain" into a "Noose" for modern set theorists.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_inner_models].
 * 2. Multi-perspective: ?- multi_index_report(inner_model_theory_constraints).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: innovators_dilemma
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Clayton Christensen (1997) / Disruptive Innovation Theory
% ============================================================================

:- module(constraint_innovators_dilemma, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: innovators_dilemma
 * human_readable: The Innovator's Dilemma
 * domain: economic/technological
 * temporal_scope: Modern Industrial/Digital Era
 * spatial_scope: Global (Market Economies)
 * * SUMMARY:
 * The Innovator's Dilemma describes how successful companies can do 
 * everything "right"—listening to their best customers and investing in 
 * high-margin products—yet still lose market leadership to "disruptive" 
 * technologies that start in low-margin, niche markets. It represents a 
 * structural conflict between sustaining existing success and embracing 
 * future volatility.
 * * KEY AGENTS:
 * - The Incumbent CEO: Institutional agent bound by fiduciary duty and 
 * high-margin customer demands.
 * - The Disruptive Entrant: Individual moderate/powerful agent with 
 * high mobility and low overhead, targeting the "bottom" of the market.
 * - The Analytical Market Historian: Observer mapping the predictable 
 * collapse of dominant firms.
 * * NARRATIVE ARC:
 * Success creates a "Mountain" of institutional inertia. For the CEO, 
 * the focus on best customers is a "Rope" for coordination and profit. 
 * However, as a disruptive tech improves, that same focus becomes a 
 * "Noose," as the incumbent is unable to pivot without destroying its 
 * existing business model, leading to the extraction of its market value.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(innovators_dilemma_interval, 0, 10).
narrative_ontology:constraint_claim(innovators_dilemma, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.5). The dilemma extracts "future viability" from 
% successful firms. It forces an "innovation tax" where current success 
% subsidizes a future competitor's entry.
domain_priors:base_extractiveness(innovators_dilemma, 0.5).

% Suppression score (0.0-1.0)
% Rationale: High (0.7). The "Disruptive Path" is actively suppressed 
% within the incumbent firm by resource allocation processes that 
% favor high-margin sustaining projects.
domain_priors:suppression_score(innovators_dilemma, 0.7).

% Enforcement requirements
% Emerges naturally from the rational pursuit of profit and customer satisfaction.
domain_priors:emerges_naturally(innovators_dilemma).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(innovators_dilemma, extractiveness, 0.5).
narrative_ontology:constraint_metric(innovators_dilemma, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(innovators_dilemma, [disruptive_startups, venture_capitalists]).
constraint_victim(innovators_dilemma, [incumbent_shareholders, legacy_employees]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE BUSINESS HISTORIAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of market cycles and firm lifespans.
   WHEN: historical - Viewing the rise and fall of industries over centuries.
   WHERE: analytical - Not bound by quarterly earnings reports.
   SCOPE: global - Universal to capitalistic competition.
   
   WHY THIS CLASSIFICATION:
   To the historian, the dilemma is a Mountain. It is an unchangeable 
   feature of the economic "hardware." The pattern of established 
   leaders being toppled by cheaper, simpler technologies is a 
   fixed peak in the topography of capitalism that repeats regardless 
   of the specific industry.
   
   NARRATIVE EVIDENCE:
   Christensen's data on the disk drive and excavator industries 
   showed a nearly identical pattern of failure among leaders across 
   decades of technological shifts.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    innovators_dilemma,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, historical, analytical, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SHAREHOLDER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to demand returns and shape strategy.
   WHEN: biographical - Seeking portfolio growth over 20-40 years.
   WHERE: arbitrage - Can move capital between incumbents and startups.
   SCOPE: national - Bound by market indices and regulations.
   
   WHY THIS CLASSIFICATION:
   For the investor, the dilemma is a Rope. It is a coordination 
   mechanism for capital efficiency. By demanding that incumbents 
   focus on high margins, they "tether" the firm to immediate 
   productivity, while using their own mobility to fund the 
   "disruptors" on the side.
   
   NARRATIVE EVIDENCE:
   "We expect the company to focus on its core competencies and 
   maximize dividend yield; we will look elsewhere for high-risk 
   speculative growth."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    innovators_dilemma,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(innovators_dilemma, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INCUMBENT MANAGER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to internal KPIs and budgets.
   WHEN: immediate - Today's quarterly goal and customer complaint.
   WHERE: trapped - Bound by the firm's specific values and cost structures.
   SCOPE: local - Immediate business unit.
   
   WHY THIS CLASSIFICATION:
   For the manager inside a successful firm, the dilemma is a Noose. 
   They see the disruptive threat, but the system "strangles" their 
   ability to respond. If they invest in the new tech, they fail 
   their current customers and kill their margins; if they don't, 
   the firm eventually dies. The successful business model extracts 
   their ability to innovate, leaving them trapped in a terminal decline.
   
   NARRATIVE EVIDENCE:
   "I proposed the new project, but it was rejected because the 
   projected margins were too low to interest our sales team."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    innovators_dilemma,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(innovators_dilemma, E),
    E > 0.4,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(innovators_dilemma_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Investor sees Rope, Manager sees Noose
    constraint_indexing:constraint_classification(innovators_dilemma, mountain, context(analytical, historical, analytical, global)),
    constraint_indexing:constraint_classification(innovators_dilemma, rope, context(institutional, biographical, arbitrage, national)),
    constraint_indexing:constraint_classification(innovators_dilemma, noose, context(individual_powerless, immediate, trapped, local)).

test(power_extractiveness_viability) :-
    % Powerless managers feel the extraction of their agency (Noose).
    % Institutional investors arbitrage the dilemma for capital gains (Rope).
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(innovators_dilemma, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(innovators_dilemma, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability_market) :-
    % Civilizational view = Mountain.
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(innovators_dilemma_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.5):
 * Reasoning: The dilemma extracts "Corporate Vitality." Successful firms 
 * are forced to subsidize their own destruction by ignoring low-end 
 * disruptions to please high-end customers.
 * * 2. PERSPECTIVE SELECTION:
 * Chose the Historian (Pattern Law), the Investor (Strategic Tool), 
 * and the Manager (Internal Victim) to demonstrate how success 
 * becomes a structural trap.
 * * 3. CLASSIFICATION RATIONALE:
 * Analytical → Mountain: The law of creative destruction is a market invariant.
 * Institutional → Rope: It allows capital to move where it is most efficient.
 * Powerless → Noose: It prevents internal change, leading to personal/professional ruin.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    spin_off_efficacy,
    "Can an incumbent 'untie' the Noose (Rope) by creating an independent 
    autonomous business unit, or does the parent firm's 'Mountain' of 
    values always crush the spin-off?",
    resolution_mechanism("Long-term tracking of incumbent survival rates 
    using 'spin-off' vs 'internal-pivot' strategies during disruptive shifts"),
    impact("If Rope: The dilemma can be managed. If Mountain: Firms have 
    finite lifespans dictated by their initial value network."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Cannibalization (Eating your own lunch)
 * Viability: High. A firm can choose to launch a lower-margin product 
 * that destroys its high-margin cash cow.
 * Suppression: High. Actively suppressed by finance departments and 
 * sales teams who see it as "irrational" to kill a profitable product.
 * * CONCLUSION:
 * The existence of a suppressed "Cannibalization" alternative confirms 
 * that the Innovator's Dilemma is a Noose—the system's current success 
 * is the very thing that prevents the exit toward survival.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_innovators_dilemma].
 * 2. Multi-perspective: ?- multi_index_report(innovators_dilemma).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: institutional_mutation_domestication
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: UKE_META System Architect Analysis - Star Wars as Evolutionary Metaphor
% ============================================================================

:- module(institutional_mutation_domestication, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: institutional_mutation_domestication
 * human_readable: The Jedi Bureaucratic Capture
 * domain: political/social
 * temporal_scope: Late Galactic Republic (approx. 1000 generations to Order 66)
 * spatial_scope: Galactic
 * * SUMMARY:
 * This constraint represents the process by which a high-agency "mutation" (the Jedi) 
 * is integrated into a stable bureaucratic structure (the Senate). It functions 
 * as a selective pressure that prioritizes institutional compliance over the 
 * adaptive capacity (Force-sensitivity) that originally justified the role.
 * * KEY AGENTS:
 * - The Council (Mace Windu): Institutional actors prioritizing stability and procedure.
 * - The Mutation (Qui-Gon Jinn/Anakin): High-agency actors testing system boundaries.
 * - The Auditor (The Patient): An analytical observer identifying systemic blind spots.
 * * NARRATIVE ARC:
 * The Republic domesticates the Jedi mutation through credentialing (training) and 
 * embedding. This creates structural blindness to existential threats (Sith) 
 * that operate across the boundaries the bureaucracy has defined as uncrossable. 
 * The system eventually triggers an immune response (Order 66) to eliminate the 
 * mutation it can no longer metabolize.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(institutional_mutation_domestication, 0, 10).
narrative_ontology:constraint_claim(institutional_mutation_domestication, rope).

% Base extractiveness score: 0.7 (High asymmetry)
% Rationale: The system extracts the labor and mystical sanction of the Jedi 
% while imposing rigid compliance that ultimately leads to their destruction.
domain_priors:base_extractiveness(institutional_mutation_domestication, 0.7).

% Suppression score: 0.8 (High suppression)
% Rationale: Alternatives like non-institutional training (Grey Jedi) are 
% actively discouraged or treated as "Dark Side" deviations.
domain_priors:suppression_score(institutional_mutation_domestication, 0.8).

% Enforcement requirements: Requires active enforcement
% Rationale: The Council must actively police its members to maintain Senate ties.
domain_priors:requires_active_enforcement(institutional_mutation_domestication).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(institutional_mutation_domestication, extractiveness, 0.7).
narrative_ontology:constraint_metric(institutional_mutation_domestication, suppression_requirement, 0.8).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE JEDI COUNCIL - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power within their order.
   WHEN: historical - Thinking in terms of "thousand generations."
   WHERE: constrained - Exit possible but involves losing identity/purpose.
   SCOPE: global - Concerned with galactic stability.
   
   WHY THIS CLASSIFICATION:
   The Council views the Code and Senate procedure as a necessary coordination 
   mechanism (Rope). They believe the constraints provide the structure 
   necessary to channel Force-sensitivity into peace-keeping rather than chaos.
   
   NARRATIVE EVIDENCE:
   "Our allegiance is to the Republic, to democracy." - Mace Windu.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    institutional_mutation_domestication,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    % Classification logic: Power + Long Horizon + Low Extraction (for them) = Rope
    domain_priors:base_extractiveness(institutional_mutation_domestication, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PADAWAN / SERF - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to rules, midichlorian testing.
   WHEN: immediate - Focused on daily training and compliance.
   WHERE: trapped - Taken as children; no other life known.
   SCOPE: local - Their immediate master and temple life.
   
   WHY THIS CLASSIFICATION:
   For the young trainee, the Order is a physical law. They lack the agency 
   to imagine alternatives and view their biological "gift" as a destiny 
   they cannot escape. It appears as an unchangeable feature of reality.
   
   NARRATIVE EVIDENCE:
   Anakin's early frustration with being a "slave" regardless of his status 
   (first to Watto, then to the Council's dictates).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    institutional_mutation_domestication,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    % Classification logic: Powerless + Trapped + Immediate = Mountain
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER (The Patient) - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer identifying systemic patterns.
   WHEN: biographical - Comparing individual effort to institutional barriers.
   WHERE: arbitrage - Can see across different systems (Senate/Jedi/Sith).
   SCOPE: continental - Regional perspective on system friction.
   
   WHY THIS CLASSIFICATION:
   The observer sees the "Biology Trap" (midichlorians) as a constructed barrier. 
   They recognize that the system selects against the very "mutation" it 
   needs, creating an extractive structure that serves institutional 
   preservation over system health.
   
   NARRATIVE EVIDENCE:
   The comparison between the Jedi Council's blind spots and a university 
   hospital's refusal to hire the patient who solved its $8,337 error.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    institutional_mutation_domestication,
    noose,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(regional)
    )
) :-
    % Classification logic: High suppression + High extractiveness = Noose
    domain_priors:suppression_score(institutional_mutation_domestication, S),
    S > 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================= */

:- begin_tests(institutional_mutation_domestication_tests).

/**
 * TEST 1: Multi-perspective variance
 */
test(multi_perspective_jedi_shift) :-
    constraint_indexing:constraint_classification(institutional_mutation_domestication, Type1, context(institutional, historical, constrained, global)),
    constraint_indexing:constraint_classification(institutional_mutation_domestication, Type2, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(institutional_mutation_domestication, Type3, context(analytical, biographical, arbitrage, regional)),
    Type1 \= Type2,
    Type2 \= Type3.

/**
 * TEST 2: Power-based extractiveness scaling
 */
test(power_extractiveness_mutation) :-
    % Powerless (Anakin) experience higher extraction than Institutional (Windu)
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, historical, constrained, global),
    % Assuming a mock logic for extractiveness_for_agent
    % In real usage, this would call the logic derived from base_extractiveness
    true.

/**
 * TEST 3: Time-horizon immutability
 */
test(time_immutability_republic) :-
    % Short horizon = Mountain (Jedi Code as law)
    constraint_indexing:effective_immutability(immediate, trapped, mountain),
    % Long horizon = Rope (Jedi Order as historical accident)
    constraint_indexing:effective_immutability(civilizational, mobile, rope).

:- end_tests(institutional_mutation_domestication_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.7):
 * Reasoning: The system doesn't just benefit from Jedi; it consumes them. 
 * By domesticating the mutation, it eliminates the Jedi's unique 
 * information-processing capacity in favor of bureaucratic compliance.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Council (Institutional), Padawan (Powerless), and Patient (Analytical) 
 * to reflect the "Mutation vs Organism" tension described in the text.
 * * 3. CLASSIFICATION RATIONALE:
 * Council sees Rope because they are the weavers. 
 * Padawans see Mountain because they are the thread. 
 * The Auditor sees Noose because they see the knot.
 * * 4. CONFIDENCE:
 * High: The classification of "biologizing method" as a Noose mechanic.
 * Medium: The specific temporal scope of "historical" for the Council.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Force as Method
 * Viability: Force sensitivity is treated as a learnable method rather than 
 * a biological gift (e.g., Chirrut Îmwe or the Patient's diagnostic skills).
 * Suppression: The "Midichlorian" narrative and Council monopoly on training.
 * * ALTERNATIVE 2: Distributed Agency
 * Viability: Localized Jedi clusters serving villages directly without 
 * Senate embedding.
 * Suppression: Rejected in favor of the "High Council" for easier 
 * state coordination.
 * * CONCLUSION:
 * The presence of suppressed alternatives (Method vs. Gift) confirms the 
 * "Noose" classification for the broader analytical perspective.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [institutional_mutation_domestication].
 * 2. Report: ?- constraint_indexing:multi_index_report(institutional_mutation_domestication).
 * 3. Tests: ?- run_tests(institutional_mutation_domestication_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: integrated_digital_governance_stack
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Meta-Analysis of Integrated Digital Governance Stacks
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_meta_stack, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: integrated_digital_governance_stack
 * human_readable: The Integrated Digital Governance Stack
 * domain: systemic/existential/cybernetic
 * * SUMMARY:
 * This meta-constraint represents the convergence of AI Surveillance (Sensor), 
 * Digital Credentialing (Authentication), Social Credit (Logic), and CBDCs (Execution). 
 * It functions as a single, unified "operating system" for societal participation.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(meta_stack_convergence, 0, 10).
narrative_ontology:constraint_claim(integrated_digital_governance_stack, rope).

% Base extractiveness score (0.9)
% Rationale: Near-total capture of agentic surplus. The stack enables precise 
% extraction of behavioral data, financial capital, and social compliance.
domain_priors:base_extractiveness(integrated_digital_governance_stack, 0.9).

% Suppression score (0.95)
% Rationale: Absolute suppression of non-digital alternatives ensures the 
% "Exit Score" for the individual approaches zero.
domain_priors:suppression_score(integrated_digital_governance_stack, 0.95).

% Enforcement: Emerges from the technological interoperability of sub-constraints.
domain_priors:requires_active_enforcement(integrated_digital_governance_stack).

% Metrics required for Section 1
narrative_ontology:constraint_metric(integrated_digital_governance_stack, extractiveness, 0.9).
narrative_ontology:constraint_metric(integrated_digital_governance_stack, suppression_requirement, 0.95).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(integrated_digital_governance_stack, [sovereign_logic_architects, institutional_hubs]).
constraint_victim(integrated_digital_governance_stack, [individual_autonomy, informal_economic_actors]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: The Integrated Subject (Compliant) - Rope
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    integrated_digital_governance_stack,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: The Flagged Outlier - Noose
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    integrated_digital_governance_stack,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(integrated_digital_governance_stack, E),
    E > 0.8, % High systemic extraction + trapped status = Noose
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The Systemic Architect - Mountain
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    integrated_digital_governance_stack,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    !.

/* ==========================================================================
   4. TESTS (Mandatrophy Resolution)
   ========================================================================== */

:- begin_tests(meta_stack_tests).

test(multi_perspective_variance) :-
    % Verify that 0.9 extraction is resolved through indexical shift
    constraint_indexing:constraint_classification(integrated_digital_governance_stack, Type1, 
        context(individual_powerless, biographical, trapped, national)),
    constraint_indexing:constraint_classification(integrated_digital_governance_stack, Type2, 
        context(individual_moderate, immediate, mobile, global)),
    Type1 = noose,
    Type2 = rope.

test(mandatrophy_validation) :-
    % Verify extreme extraction (0.9) is correctly set
    domain_priors:base_extractiveness(integrated_digital_governance_stack, E),
    E == 0.9.

:- end_tests(meta_stack_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * [RESOLVED MANDATROPHY]: The 0.9 extraction score is the emergent property of 
 * the total stack. For the architect, it represents the absolute ROPE—maximum 
 * coordination efficiency. For the outlier, it is the ultimate NOOSE, 
 * where a single red flag in one layer (Surveillance) executes across all others 
 * (Money, Identity). The "Mandatrophy" is resolved by showing 
 * that the system is only extractive to those it chooses to exclude.
 * * OMEGAS:
 * omega_variable(systemic_recursion,
 * "Will the stack eventually automate the 'Architect' role?",
 * resolution_mechanism("Monitor the degree of AI-driven policy generation"),
 * impact("Determines if the stack becomes a Mountain for institutions too."),
 * confidence_without_resolution(low)
 * ).
 */

/* ==========================================================================
   6. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE:
 * ?- [integrated_digital_governance_stack].
 * ?- run_tests(meta_stack_tests).
 */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: iran_mandatrophic_collapse
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Synthesis of Iranian Hydropolitical & Economic Analysis (2025-2026)
% ============================================================================

:- module(constraint_iran_mandatrophy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: iran_mandatrophic_collapse
 * human_readable: Iranian Mandatrophy (The Water-Economic Choke)
 * domain: political/economic/technological
 * temporal_scope: 1979-2026 (Modern Islamic Republic Era)
 * spatial_scope: Iran (National and Regional)
 * * SUMMARY:
 * Mandatrophy in Iran describes the systemic wasting away of ecological and 
 * economic resilience caused by the rigid prioritization of the "Revolutionary 
 * Mandate" (regional proxy funding, nuclear ambition, and ideological self-
 * sufficiency) over the organic "margins" of the state (aquifers, currency 
 * stability, and social trust). The "Water Mafia"—primarily the IRGC's 
 * construction conglomerate Khatam al-Anbiya—has extracted the nation's 
 * hydrologic margin through a 22-fold increase in dams (from 30 to over 647), 
 * leading to "water bankruptcy" and land subsidence.
 * * KEY AGENTS:
 * - IRGC Commander / The "Water Mafia": Institutional; the architects of the 
 * "Resistance Economy" and dam-building frenzy who profit from the 
 * extraction of natural and fiscal margins.
 * - The Iranian Citizen (Bazaari/Student/Retiree): Individual powerless; 
 * subject to 40-50% inflation, dry taps, and frequent electricity blackouts 
 *.
 * - The Environmental Analyst: Analytical; observer identifying the 
 * "mandatrophic" loop where short-term mandate wins (construction profits/
 * proxy influence) lead to terminal systemic choking.
 * * NARRATIVE ARC:
 * Originally, the "Self-Sufficiency" drive was a Rope (coordination to 
 * withstand sanctions). However, the IRGC converted this into a Noose, 
 * extracting groundwater and public funds to secure political power. By 
 * 2025, the system reached a physical Mountain: Tehran faces evacuation 
 * due to water collapse, and the "Noose" of economic despair has triggered 
 * the largest anti-regime uprisings since 1979.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the Deferential Realism suite
narrative_ontology:interval(iran_unrest_2025, 0, 10).
narrative_ontology:constraint_claim(iran_mandatrophic_collapse, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.9. Extreme extraction; the regime extracts nearly 90% of 
% water for inefficient agriculture and diverts 16% of the budget to 
% military/proxies, while the IRGC controls 50% of the crypto/economy 
%.
domain_priors:base_extractiveness(iran_mandatrophic_collapse, 0.9).

% Suppression score (0.0-1.0)
% Rationale: 0.85. High suppression of alternatives (technocratic water 
% management, diplomatic de-escalation) through internet shutdowns, 
% violence against protesters, and the "Resistance Economy" dogma 
%.
domain_priors:suppression_score(iran_mandatrophic_collapse, 0.85).

% Enforcement requirements
% Requires heavy active enforcement (Basij crackdowns, surveillance, 
% and the Revolutionary Court system).
domain_priors:requires_active_enforcement(iran_mandatrophic_collapse).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(iran_mandatrophic_collapse, extractiveness, 0.9).
narrative_ontology:constraint_metric(iran_mandatrophic_collapse, suppression_requirement, 0.85).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(iran_mandatrophic_collapse, irgc_khatam_al_anbiya).
constraint_beneficiary(iran_mandatrophic_collapse, axis_of_resistance_proxies).
constraint_victim(iran_mandatrophic_collapse, iranian_ecological_future).
constraint_victim(iran_mandatrophic_collapse, the_bazaari_merchants).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: IRGC STRATEGIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to redirect rivers and manage the shadow 
         banking/crypto economy.
   WHEN: biographical - Protecting the "Revolutionary Ethos" and personal wealth.
   WHERE: mobile - Projecting power across the "Axis of Resistance."
   SCOPE: national - Total control over the "Resistance Economy."
   
   WHY THIS CLASSIFICATION:
   The IRGC views its dam-building and "invisible jetties" as a Rope—a 
   necessary coordination tool to bypass international sanctions and 
   maintain state survival against "world bullies".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    iran_mandatrophic_collapse,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(iran_mandatrophic_collapse, E),
    E < 0.95,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE WATER-STARVED CITIZEN - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to 42% inflation, currency collapse, 
         and 10-hour daily water cuts.
   WHEN: immediate - Daily struggle for basic utility and food access.
   WHERE: trapped - Within sinking cities (land subsidence) or dried borderlands.
   SCOPE: local - Their home, shop, or farm.
   
   WHY THIS CLASSIFICATION:
   The citizen experiences "Mandatrophy" as a Noose. The regime's "Mandate" 
   (proxies/nuclear) extracts their water, electricity, and savings, 
   choking their ability to live while the IRGC "Mafia" profits from 
   their scarcity.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    iran_mandatrophic_collapse,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(iran_mandatrophic_collapse),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EXTERNAL ANALYST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the "Water Bankruptcy" and currency freefall.
   WHEN: historical - Tracking the shift from 1979 to the 2026 uprisings.
   WHERE: analytical - Free from the ideological "glow" of the regime.
   SCOPE: global - Evaluating the failure of the "Resistance Economy" model.
   
   WHY THIS CLASSIFICATION:
   The analyst identifies the current state as a Mountain. The geological 
   damage to aquifers is "permanent," and the "Water Bankruptcy" is an 
   unyielding physical limit that no amount of rhetoric can bypass.
   The regime has hit the physical wall of its own extractive logic.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    iran_mandatrophic_collapse,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(iran_mandatrophic_collapse, S),
    S > 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(iran_mandatrophy_tests).

test(multi_perspective_coordination_gap) :-
    % IRGC (Rope) vs Citizen (Noose) vs Analyst (Mountain)
    constraint_indexing:constraint_classification(iran_mandatrophic_collapse, T1, context(institutional, biographical, mobile, national)),
    constraint_indexing:constraint_classification(iran_mandatrophic_collapse, T2, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(iran_mandatrophic_collapse, T3, context(analytical, historical, analytical, global)),
    T1 \= T2, T2 \= T3.

test(resource_extraction_threshold) :-
    % Mandatrophy requires extreme extraction of the "margin" (water/capital).
    domain_priors:base_extractiveness(iran_mandatrophic_collapse, E),
    E > 0.8.

:- end_tests(iran_mandatrophy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. NEOLOGISM INTEGRATION: I applied the term **Mandatrophy** to describe 
 * the specific Iranian condition where the "Revolutionary Mandate" (the 
 * ideological must-haves) has consumed the nation's "Ecological/Economic 
 * Margin" (the can-fails). 
 * 2. THE WATER MAFIA: Identified the IRGC-linked dam builders as the 
 * primary agents of margin extraction.
 * 3. THE PHYSICAL WALL: The 2026 "Water Bankruptcy" is modeled as a 
 * transition from a Noose (manageable extraction) to a Mountain (terminal 
 * physical constraint).
 */

omega_variable(
    sanctions_vs_mismanagement_ratio,
    "To what degree is the 'Noose' external (Sanctions) vs. internal 
     (Mandatrophy)?",
    resolution_mechanism("Comparative analysis of GDP impact from sanctions 
    vs. estimated lost value from water mismanagement and corruption"),
    impact("If sanctions dominate: The constraint is an external Noose. If 
            mismanagement dominates: It is an internal Mandatrophy."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Integrated Water Resource Management (IWRM)
 * Viability: Historically advocated by technocrats; would restore aquifers 
 * and lakes like Urmia.
 * Suppression: Actively suppressed by the "Water Mafia" because sustainable 
 * management generates no construction "rents".
 * * * ALTERNATIVE 2: Regional Diplomatic Re-engagement
 * Viability: Would ease sanctions and allow for infrastructure investment.
 * Suppression: Rejected in favor of the "Axis of Resistance" mandate 
 * to maintain ideological purity and IRGC influence.
 * * * CONCLUSION:
 * The existence of proven alternatives (IWRM/Diplomacy) that are 
 * suppressed for the sake of the Mandate confirms the "Mandatrophy" 
 * as an extractive Noose.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [iran_mandatrophic_collapse].
% 2. Analyze: ?- multi_index_report(iran_mandatrophic_collapse).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: iron_law_of_oligarchy
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Robert Michels (1911) / Political Sociology
% ============================================================================

:- module(constraint_iron_law_of_oligarchy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: iron_law_of_oligarchy
 * human_readable: The Iron Law of Oligarchy
 * domain: political/social
 * temporal_scope: 1911-Present (Modern Organizational Theory)
 * spatial_scope: Global (Large-scale Organizations)
 * * SUMMARY:
 * Proposed by Robert Michels, this principle states that all complex organizations, 
 * regardless of how democratic they are at the start, eventually develop into 
 * oligarchies. The necessity of bureaucracy and specialized knowledge creates 
 * a leadership class that prioritizes its own survival over the group's original goals.
 * * KEY AGENTS:
 * - The Elite Leader: Benefits from specialized information and control over the 
 * administrative apparatus.
 * - The Rank-and-File Member: The original source of the organization's power, 
 * who becomes increasingly alienated from decision-making.
 * - The Organizational Scientist: Observes the inevitable shift from horizontal 
 * ideals to vertical hierarchies.
 * * NARRATIVE ARC:
 * The law functions as an entropic force in social movements. It begins as a 
 * "Rope" (the need for leaders to coordinate action), but hardens into a 
 * "Mountain" of bureaucratic inertia. For those seeking radical change, it 
 * becomes a "Noose" when the organization they built to fight power becomes 
 * the very power that suppresses them.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(oligarchy_interval, 0, 10).
narrative_ontology:constraint_claim(iron_law_of_oligarchy, mountain).

% Base extractiveness: 0.6 (Moderate-High)
% Rationale: Leaders extract status, specialized knowledge, and administrative 
% control from the collective, often steering resources toward self-preservation.
domain_priors:base_extractiveness(iron_law_of_oligarchy, 0.6).

% Suppression score: 0.6 (Moderate-High)
% Rationale: Alternatives to hierarchy (like total horizontalism) are suppressed 
% by the "efficiency" requirements of large-scale operations.
domain_priors:suppression_score(iron_law_of_oligarchy, 0.6).

% Enforcement: Emerges naturally from the technical necessity of organization.
domain_priors:emerges_naturally(iron_law_of_oligarchy).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(iron_law_of_oligarchy, extractiveness, 0.6).
narrative_ontology:constraint_metric(iron_law_of_oligarchy, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(iron_law_of_oligarchy, leadership_elite).
constraint_victim(iron_law_of_oligarchy, democratic_idealists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE POLITICAL SCIENTIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The objective observer)
   WHEN: civilizational (Observing a universal law of social physics)
   WHERE: trapped (Human organization seems bound by this pattern)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the scientist, the law is a Mountain. It is an unchangeable consequence 
   of scale and complexity. Once an organization reaches a certain size, 
   differentiation between leaders and led is a structural certainty.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    iron_law_of_oligarchy,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE HIGH-LEVEL BUREAUCRAT - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (In power, managing the organization)
   WHEN: biographical (Achieving goals through professional systems)
   WHERE: arbitrage (Can move between different hierarchical structures)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the bureaucrat, hierarchy is a Rope. It is the only way to get things done. 
   Centralized leadership provides the coordination, speed, and specialization 
   required to achieve the organization's mission effectively.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    iron_law_of_oligarchy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE GRASSROOTS ACTIVIST - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A member of a movement that has "matured")
   WHEN: immediate (Seeking direct representation and action now)
   WHERE: constrained (Must work through the movement they joined)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the activist, the law is a Noose. They find themselves in an organization 
   where the leaders have "sold out" or become more interested in maintaining 
   their offices than in the original cause. The very hierarchy that was meant 
   to empower the collective now strangles internal dissent.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    iron_law_of_oligarchy,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(iron_law_of_oligarchy_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(iron_law_of_oligarchy, Type1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(iron_law_of_oligarchy, Type2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(iron_law_of_oligarchy, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextInstitutional = context(institutional, biographical, arbitrage, national),
    % While the model reports a base score, the experienced extraction scales
    % because the institution gains what the powerless lose.
    domain_priors:base_extractiveness(iron_law_of_oligarchy, Score),
    Score > 0.5.

test(time_immutability) :-
    % Long horizon = mountain (the "Iron" part of the law)
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(iron_law_of_oligarchy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS MADE BY MODEL:
 * * 1. BASE EXTRACTIVENESS (0.6):
 * Reasoning: Hierarchy inherently creates a differential in power and reward. 
 * Leaders gain "psychological" and "administrative" rents.
 * * 2. SUPPRESSION SCORE (0.6):
 * Evidence: Michels argued that direct democracy is physically impossible 
 * for large groups, making the "alternatives" seem like a fantasy, thus 
 * suppressing them as viable options.
 * * 3. PERSPECTIVE SELECTION:
 * Contrast between the "Efficiency" of the Leader (Rope) and the 
 * "Disillusionment" of the Activist (Noose).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    digital_direct_democracy,
    "Do modern communication technologies (AI, Blockchain) break the 'Technical Necessity' of oligarchy?",
    resolution_mechanism("Longitudinal study of decentralized autonomous organizations (DAOs)"),
    impact("If Yes: The Law is a Rope that was tied by low-bandwidth communication. If No: It is a Mountain of human nature."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Liquid Democracy (Delegation by topic)
 * Viability: Theoretically allows for specialization without fixed elites.
 * Suppression: High. Dismissed by institutional parties as "unstable" or "technocratic."
 * * ALTERNATIVE 2: Horizontalism (Occupy-style consensus)
 * Viability: Works at small scales.
 * Suppression: Natural. Tends to collapse due to "the tyranny of structurelessness."
 * * CONCLUSION:
 * The absence of working, large-scale alternatives reinforces the status of 
 * this constraint as a "Mountain" for the current era.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_iron_law_of_oligarchy].
 * 2. Multi-perspective: ?- multi_index_report(iron_law_of_oligarchy).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: japanese_energy_scaffold_2025
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Sixth Strategic Energy Plan (2021) / Energy White Paper 2025 Summary / 
%         Japan's GX2040 Vision / National Security Strategy (NSS)
% ============================================================================

:- module(constraint_japanese_energy_scaffold, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: japanese_energy_scaffold_2025
 * human_readable: The Japanese Energy Self-Sufficiency Scaffold
 * domain: economic/technological/political
 * temporal_scope: 2021-2050 (Strategic Horizon)
 * spatial_scope: National (Japan)
 * * SUMMARY:
 * Japan faces a critical energy self-sufficiency rate of 15.3%, the lowest 
 * among G7 nations. To avoid the "Noose" of maritime 
 * interdiction in the Taiwan Strait, Japan has constructed an "Energy 
 * Scaffold"—a comprehensive legislative and technical framework (6th & 7th 
 * Strategic Energy Plans) designed to triple renewable capacity and restart 
 * its nuclear fleet. This scaffold aims to raise self-
 * sufficiency to 30% by 2030 and achieve carbon neutrality by 2050 
 *.
 * * KEY AGENTS:
 * - METI / Agency for Natural Resources: Institutional; the architects of the 
 * "GX2040 Vision" and the Green Innovation Fund.
 * - Local Communities: Individual powerless; often skeptical of nuclear 
 * restarts or landscape-disruptive solar projects.
 * - Energy-Intensive Industries: Institutional; dependent on the 150 trillion 
 * yen "Green Transformation" (GX) investment.
 * * NARRATIVE ARC:
 * Originally, Japan relied on a "Middle East Rope" (securing fossil fuels via 
 * diplomatic ties). Post-2011, the loss of nuclear power 
 * became a Noose, as thermal dependence rose to nearly 73%. 
 * The current Scaffold serves as a Rope to pull Japan toward 30-40% 
 * independence, though the unyielding physical Mountain of limited 
 * land and deep oceans makes scaling wind and solar difficult.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the Deferential Realism suite
narrative_ontology:interval(japan_gx_transition, 0, 10).
narrative_ontology:constraint_claim(japanese_energy_scaffold_2025, rope).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.5. High upfront capital "extraction" (150 trillion yen 
% public/private investment over a decade) to build the new system.
domain_priors:base_extractiveness(japanese_energy_scaffold_2025, 0.5).

% Suppression score (0.0-1.0)
% Rationale: 0.6. The 7th Strategic Energy Plan attempts to move beyond 
% "binary debates" of nuclear vs. renewables, effectively suppressing 
% anti-nuclear phaseout policies of the previous decade.
domain_priors:suppression_score(japanese_energy_scaffold_2025, 0.6).

% Enforcement requirements
% Requires active enforcement (Nuclear Regulation Authority safety checks, 
% GX Economic Transition Bonds, and zoning for renewables).
domain_priors:requires_active_enforcement(japanese_energy_scaffold_2025).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(japanese_energy_scaffold_2025, extractiveness, 0.5).
narrative_ontology:constraint_metric(japanese_energy_scaffold_2025, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(japanese_energy_scaffold_2025, national_security_autonomy).
constraint_beneficiary(japanese_energy_scaffold_2025, next_gen_reactor_developers).
constraint_victim(japanese_energy_scaffold_2025, fossil_fuel_import_dependence).
constraint_victim(japanese_energy_scaffold_2025, coastal_landscape_status_quo).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: METI STRATEGIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to issue 20 trillion yen in GX Economic 
         Transition Bonds.
   WHEN: generational - Thinking in terms of "2040 Vision" and 2050 Net-Zero 
        .
   WHERE: mobile - Coordinating "Asia Zero Emissions Community" initiatives.
   SCOPE: national - Managing the premiere G7 energy transition challenge.
   
   WHY THIS CLASSIFICATION:
   For the policy maker, the Scaffold is a Rope—a highly coordinated set of 
   levers (hydrogen roadmaps, nuclear restarts, and ammonia co-burning) 
   to pull the nation toward a secure, decarbonized future.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    japanese_energy_scaffold_2025,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(japanese_energy_scaffold_2025, E),
    E < 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: LOCAL FISHING COMMUNITY - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to top-down "positive zoning" for 
         offshore wind or nuclear plant life extensions.
   WHEN: immediate - Concerned with immediate changes to local ecosystem and safety.
   WHERE: trapped - Bound to their coastal heritage and fishing grounds.
   SCOPE: local - A single coastal village or prefecture.
   
   WHY THIS CLASSIFICATION:
   To a community near a nuclear reactor or a proposed offshore wind farm, 
   the Energy Scaffold is a Mountain. It is an unchangeable, massive 
   bureaucratic force that demands their landscape for the "national 
   interest," leaving them little room for negotiation.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    japanese_energy_scaffold_2025,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(japanese_energy_scaffold_2025),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: DEFENSE ANALYST - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the "Taiwan contingency is a Japan contingency" 
         dynamic.
   WHEN: historical - Tracking Japan's energy vulnerability since the 1970s.
   WHERE: analytical - Evaluating maritime SLOCs and fuel quarantine scenarios.
   SCOPE: global - The intersection of global energy trade and regional war.
   
   WHY THIS CLASSIFICATION:
   The analyst sees the Noose. Despite the Scaffold, Japan remains 95% 
   dependent on seaborne crude oil from the Middle East. 
   If the Scaffold (nuclear/renewables) fails to reach 40% self-sufficiency, 
   the Taiwan Strait remains a Noose that can choke Japan's economy in days 
  .
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    japanese_energy_scaffold_2025,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(japanese_energy_scaffold_2025, E),
    E > 0.4,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(japan_scaffold_tests).

test(sufficiency_gap_analysis) :-
    % Self-sufficiency is a "binary" outcome; the scaffold must exceed 30% 
    % to move from Noose toward Rope.
    domain_priors:requires_active_enforcement(japanese_energy_scaffold_2025).

test(perspective_shift) :-
    % Verification of the 7th SEP's shift toward "maximizing both" nuclear and RE.
    domain_priors:suppression_score(japanese_energy_scaffold_2025, S),
    S > 0.5.

:- end_tests(japan_scaffold_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================= */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.5): Reflects the massive 150 trillion yen capital 
 * requirements.
 * 2. CLASSIFICATION: I chose 'Rope' for the system claim because the GX 
 * bonds and Strategic Energy Plan are quintessential coordination mechanisms.
 * 3. SUPPRESSION: I noted that the current plan suppresses previous 
 * "anti-nuclear" phaseouts to reach its 20% nuclear target.
 */

omega_variable(
    nuclear_restart_feasibility,
    "Can Japan restart all 33 workable reactors by 2040 (Noose removal), 
     or will public opposition remain an unyielding Mountain?",
    resolution_mechanism("Monitor restart approvals for the 8 pending reactors vs. local court injunction rates"),
    impact("If restarts stall: The Noose of import dependence remains. 
            If restarts succeed: The Scaffold becomes a secure Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Deep Thermal Decarbonization (Ammonia/Hydrogen)
 * Viability: High-tech "front-runner" path; allows reuse of existing 
 * hydrocarbon infrastructure.
 * Suppression: None; it is a primary component of the Scaffold.
 * * ALTERNATIVE 2: Pure Renewable Expansion (RE100)
 * Viability: Preferred by some industries; limited by deep oceans and 
 * land-acquisition "Mountains".
 * * CONCLUSION:
 * Japan has rejected "pure" paths in favor of a hybrid Scaffold—attempting 
 * to weave nuclear and renewables together to avoid the existential 
 * risk of maritime blockade.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [japanese_energy_scaffold_2025].
% 2. Analyze: ?- multi_index_report(japanese_energy_scaffold_2025).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: jevons_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: William Stanley Jevons (1865) / Ecological Economics
% ============================================================================

:- module(constraint_jevons_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: jevons_paradox
 * human_readable: Jevons Paradox (The Rebound Effect)
 * domain: economic/technological/environmental
 * temporal_scope: Industrial Era (1865) to Present
 * spatial_scope: Global (Industrialized Economies)
 * * SUMMARY:
 * Jevons Paradox occurs when technological progress increases the efficiency with 
 * which a resource is used, but the rate of consumption of that resource rises 
 * because of increasing demand. This counter-intuitive result suggests that 
 * efficiency alone cannot solve resource depletion; it often accelerates it 
 * by making the resource cheaper and more accessible.
 * * KEY AGENTS:
 * - The Efficiency Engineer: Tasked with reducing resource input per unit of output.
 * - The Industrial Capitalist: Reinvests savings from efficiency into expanded production.
 * - The Global Ecosystem: The ultimate sink that must absorb the increased total throughput.
 * * NARRATIVE ARC:
 * Originally observed regarding coal use in the UK, the paradox transforms "savings" 
 * into "expansion." It functions as a "Mountain" of economic logic, a "Rope" for 
 * industrial growth, and a "Noose" for environmental sustainability as it 
 * strangles conservation efforts with their own success.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for extraction
narrative_ontology:interval(jevons_interval, 0, 10).
narrative_ontology:constraint_claim(jevons_paradox, rope).

% Base extractiveness: How asymmetric is the benefit flow?
% Rationale: 0.6 (Moderate-High). The paradox extracts "environmental stability" 
% and "resource future" to fuel current industrial expansion.
domain_priors:base_extractiveness(jevons_paradox, 0.6).

% Suppression: How much are alternatives hidden/punished?
% Rationale: 0.5 (Moderate). Alternatives like "Sufficiency" (capping total use) 
% are visible but often suppressed by the dominant narrative that efficiency 
% is the primary/only path to sustainability.
domain_priors:suppression_score(jevons_paradox, 0.5).

% Enforcement: Emerges naturally from market dynamics (supply/demand/elasticity).
domain_priors:emerges_naturally(jevons_paradox).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(jevons_paradox, [industrial_expansion, consumer_markets]).
constraint_victim(jevons_paradox, [planetary_boundaries, future_resource_availability]).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(jevons_paradox, extractiveness, 0.6).
narrative_ontology:constraint_metric(jevons_paradox, suppression_requirement, 0.5).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ECONOMIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of systemic incentives and price elasticity.
   WHEN: civilizational - Viewing resource use across the history of capitalism.
   WHERE: analytical - Not a participant, but a mapper of "unbreakable" market laws.
   SCOPE: global - Universal behavior of industrial systems.
   
   WHY THIS CLASSIFICATION:
   To the analyst, the paradox is a Mountain. It is an unchangeable feature 
    of human economic behavior: when a resource becomes cheaper through 
    efficiency, humans use more of it. It is a fixed peak in the topography 
    of industrial logic.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    jevons_paradox,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, analytical, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TECH OPTIMIST / CEO - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design systems and drive investment.
   WHEN: biographical - Achieving growth and market share over a career.
   WHERE: arbitrage - Can pivot between different technologies and markets.
   SCOPE: national - Driving the national economy.
   
   WHY THIS CLASSIFICATION:
   For the institutional builder, efficiency is a Rope. It is the primary 
    coordination mechanism for progress. By lowering costs, it pulls the 
    entire economy forward, enabling more people to access goods and 
    services that were previously too expensive. The "rebound" is simply 
    proof of success.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    jevons_paradox,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(jevons_paradox, E),
    E < 0.7, % It's a tool for growth until it reaches extreme extraction
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ENVIRONMENTAL CONSERVATIONIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the outcomes of a systemic trap.
   WHEN: immediate - Today's rising emissions/depletion despite "green" tech.
   WHERE: constrained - Limited by a global market that enforces expansion.
   SCOPE: local - Immediate ecosystem or atmosphere.
   
   WHY THIS CLASSIFICATION:
   For the conservationist, Jevons Paradox is a Noose. They fight for 
    efficiency as a way to "save" the planet, only to find that every 
    technological victory tightens the trap by increasing total throughput. 
    The efficiency logic strangles the possibility of genuine reduction, 
    extracting the last remnants of ecological stability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    jevons_paradox,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(jevons_paradox, E),
    E > 0.4, % Extraction of conservation utility
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(jevons_paradox_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Powerless sees Noose
    constraint_indexing:constraint_classification(jevons_paradox, mountain, context(analytical, civilizational, analytical, global)),
    constraint_indexing:constraint_classification(jevons_paradox, rope, context(institutional, biographical, arbitrage, national)),
    constraint_indexing:constraint_classification(jevons_paradox, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_rebound) :-
    % Powerless conservationists feel the total extraction of their efforts (Noose).
    % Institutional leaders leverage the rebound for market growth (Rope).
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(jevons_paradox, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(jevons_paradox, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability_market_laws) :-
    % Long-term historical view treats price elasticity as a Mountain.
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(jevons_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.6):
 * Reasoning: The paradox extracts "future resource availability" to subsidize 
 * present industrial expansion. It is a classic "bait and switch" where 
 * efficiency gains are captured by growth.
 * * 2. SUPPRESSION SCORE (0.5):
 * Reasoning: It suppresses the alternative of "Sufficiency" (absolute 
 * caps on resource use). The narrative that we can "efficiency our way 
 * out" of the problem is ubiquitous, making the idea of "using less 
 * by doing less" psychologically and politically invisible.
 * * 3. PERSPECTIVE SELECTION:
 * Chose the Analyst (Law), the Growth-Oriented Institutional (Tool), and 
 * the Powerless Conservationist (Trap) to show the indexical range.
 * * 4. AMBIGUITIES:
 * - The "Backfire" point: Jevons is only a paradox if the rebound is > 100%. 
 * I assumed the "backfire" state for this story as it represents the 
 * strongest version of the constraint.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    price_elasticity_limit,
    "Is there a physical limit where price elasticity breaks and efficiency 
    finally leads to net reduction (Mountain), or will human demand always 
    expand into the new vacancy (Noose)?",
    resolution_mechanism("Long-term tracking of 'mature' technology markets 
    to see if consumption ever plateaus as costs approach zero"),
    impact("If Mountain: Efficiency eventually works. If Noose: Capping total 
    throughput is the only exit."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Resource Caps / Rationing (Sufficiency)
 * Viability: Theoretically the only way to ensure efficiency leads to 
 * conservation. If total coal use is capped, efficiency just makes 
 * life better within that cap.
 * Suppression: Extreme. Viewed as "anti-growth" or "authoritarian" 
 * in modern neoliberal systems.
 * Evidence: Hard limits on emissions (caps) are frequently lobbied 
 * against in favor of "intensity targets" (efficiency).
 * * CONCLUSION:
 * The existence of "Caps" as a suppressed alternative is what converts 
 * Jevons Paradox from a natural Mountain into a social Noose.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraints/jevons_paradox].
 * 2. Multi-perspective: ?- multi_index_report(jevons_paradox).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: kidney_exchange_market
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Alvin Roth / Market Design / Kidney Exchange Logic
% ============================================================================

:- module(constraint_kidney_exchange, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: kidney_exchange_market
 * human_readable: Kidney Exchange Cycles/Chains
 * domain: social/technological/biological
 * temporal_scope: Immediate (Critical Survival)
 * spatial_scope: Regional to National
 * * SUMMARY:
 * Kidney exchange solves the "incompatible donor" problem. When a willing donor 
 * cannot give to their intended recipient due to blood/tissue type, they enter 
 * a swap. This creates a matching market where "Price" is illegal (prohibited 
 * by the National Organ Transplant Act), necessitating algorithmic coordination.
 * * KEY AGENTS:
 * - The Patient: Needs a kidney; has a willing but incompatible donor.
 * - The Incompatible Donor: Willing to give, but only if their partner receives.
 * - The Altruistic Donor: A "non-directed" donor who starts a chain.
 * - The Algorithm: Computes optimal cycles and chains (Institutional power).
 * * NARRATIVE ARC:
 * The constraint is a "Life-Link." Without a central clearinghouse, these pairs 
 * are trapped in a biological dead-end. The algorithm creates a path out, but 
 * the rigid logic of compatibility acts as an immutable physical boundary.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(kidney_exchange_market, 0, 10).
narrative_ontology:constraint_claim(kidney_exchange_market, mountain).

% Base extractiveness: Low (0.1). 
% There is no "profit" extraction; the system is designed for maximum life-saving.
domain_priors:base_extractiveness(kidney_exchange_market, 0.1).

% Suppression: High (0.9). 
% Selling kidneys is a felony (NOTA). The legal system suppresses the 
% "monetary alternative" almost entirely to prevent exploitation.
domain_priors:suppression_score(kidney_exchange_market, 0.9).

% Enforcement: Requires active enforcement (Institutional/Legal).
domain_priors:requires_active_enforcement(kidney_exchange_market).

% Beneficiaries: The Patient (receives life-saving organ).
constraint_beneficiary(kidney_exchange_market, organ_recipients).

% Victims: The "Hard-to-Match" (Patients with O-type blood or high antibodies 
% who wait longer due to the biological scarcity of compatible links).
constraint_victim(kidney_exchange_market, sensitized_patients).

% Metrics
narrative_ontology:constraint_metric(kidney_exchange_market, extractiveness, 0.1).
narrative_ontology:constraint_metric(kidney_exchange_market, suppression_requirement, 0.9).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SENSITIZED PATIENT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate (survival timeframe)
   WHERE: trapped
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For a patient with high antibodies, the matching logic is a "Noose." 
   Because they are biologically difficult to match, the system's focus 
   on "max matches" might skip over them repeatedly. The illegality of 
   monetary alternatives leaves them with no other exit options.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kidney_exchange_market,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(kidney_exchange_market, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ALTRUISTIC DONOR - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   To an altruistic donor, the exchange is a "Rope." It is a coordination 
   mechanism that allows their single act of generosity to trigger a 
   "chain," potentially saving 10+ people. They use the system as a 
   leverage tool for moral impact.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kidney_exchange_market,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BIOLOGIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   Blood types (A, B, AB, O) and HLA cross-matching are "Mountains." 
   They are immutable natural laws. No amount of social policy can 
   force an A-type kidney to work in a B-type patient without rejection.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kidney_exchange_market,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(kidney_exchange_market),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(kidney_exchange_tests).

test(altruism_scaling) :-
    % Testing that altruistic 'mobile' agents perceive the coordination Rope.
    constraint_indexing:constraint_classification(kidney_exchange_market, rope, context(_, _, mobile, _)).

test(legal_suppression_effect) :-
    % High suppression of cash markets makes the institutional path a Noose 
    % for those it cannot help.
    constraint_indexing:constraint_classification(kidney_exchange_market, noose, context(individual_powerless, _, trapped, _)).

:- end_tests(kidney_exchange_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * I set extractiveness to 0.1 because, unlike corporate matching markets, 
 * there is no asymmetric "value capture" by the platform—all value is 
 * returned to the patients. However, the high suppression (0.9) of organ 
 * sales makes the "Noose" classification appropriate for those the 
 * system cannot find a match for.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    immunosuppression_advancement,
    "Will new drugs eventually allow across-type transplants without matching?",
    resolution_mechanism("Clinical trial results for next-gen T-cell inhibitors"),
    impact("If Yes: The 'Mountain' of blood-type compatibility turns into a 'Rope' (optional coordination)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Legalized Organ Markets: (Suppressed by NOTA; ethically contested).
 * 2. Desensitization Therapy: (Costly/Difficult; only works for some).
 * * CONCLUSION:
 * The Kidney Exchange is the ultimate "Rope" (coordination) built on 
 * the ultimate "Mountain" (biological compatibility).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: kirby_paris_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Kirby, L., & Paris, J. (1982) / Goodstein's Theorem
% ============================================================================

:- module(constraint_kirby_paris_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: kirby_paris_theorem
 * human_readable: The Kirby-Paris Theorem (Independency of Goodstein's Theorem)
 * domain: technological
 * temporal_scope: Permanent (Universal Mathematical Law)
 * spatial_scope: Global (Formal Arithmetic Systems)
 * * SUMMARY:
 * The Kirby-Paris theorem demonstrates that Goodstein's theorem—a statement 
 * about the termination of specific sequences of natural numbers—is unprovable 
 * within Peano Arithmetic (PA). It shows that PA cannot "see" the eventual 
 * termination of these sequences, even though they are provably finite in 
 * stronger systems like ZFC.
 * * KEY AGENTS:
 * - The Finitist: Seeking to ground all mathematics in the "safe" rules of PA.
 * - The Transfinite Logician: Utilizing transfinite induction up to epsilon-zero 
 * to prove truths that PA cannot reach.
 * - The Formal System (PA): The administrative structure that imposes a limit 
 * on what can be verified within its own boundaries.
 * * NARRATIVE ARC:
 * The theorem functions as a hard ceiling (Mountain) for finitistic proof. 
 * While it provides a "Rope" for higher-order logicians to justify transfinite 
 * methods, it acts as a "Noose" for the finitist, who is trapped in a 
 * system where simple arithmetic truths are fundamentally unreachable.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(kirby_paris_interval, 0, 10).
narrative_ontology:constraint_claim(kirby_paris_theorem, mountain).

% Base extractiveness: How much semantic closure is taken?
% Rationale: It extracts the "provability" of a simple arithmetic truth from 
% the system, forcing the use of more "expensive" transfinite methods.
domain_priors:base_extractiveness(kirby_paris_theorem, 0.2).

% Suppression: How much are higher truths hidden?
% Rationale: PA naturally suppresses the proof of Goodstein's theorem; the 
% proof is invisible to the internal logic of the system.
domain_priors:suppression_score(kirby_paris_theorem, 0.4).

% Enforcement: Emerges naturally from the structure of induction and non-standard models.
domain_priors:emerges_naturally(kirby_paris_theorem).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(kirby_paris_theorem, extractiveness, 0.2).
narrative_ontology:constraint_metric(kirby_paris_theorem, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(kirby_paris_theorem, transfinite_logicians).
constraint_victim(kirby_paris_theorem, foundational_finitists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ANALYTICAL OBSERVER - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the laws of information.
   WHEN: civilizational - Viewing logic as a permanent substrate.
   WHERE: trapped - Formal systems cannot bypass their own inductive limits.
   SCOPE: global - Universal applicability to arithmetic.
   
   WHY THIS CLASSIFICATION:
   To the observer, this is a Mountain. It is an unchangeable feature of the 
   mathematical landscape. The unprovability of Goodstein's theorem in PA 
   is a fixed fact of logical reality, not a choice or a social construct.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kirby_paris_theorem,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE HIGHER-ORDER MATHEMATICIAN - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define and utilize meta-mathematical rules.
   WHEN: biographical - Accomplishing proofs within a career.
   WHERE: arbitrage - Can move between PA and stronger systems (ZFC).
   SCOPE: national - Specific to the domain of formal proof.
   
   WHY THIS CLASSIFICATION:
   For the institutional mathematician, the theorem is a Rope. It is a 
   coordination mechanism that justifies the move to transfinite induction. 
   By showing exactly where PA fails, it provides a "tether" to higher 
   axioms that can safely "pull" the proof of termination into reality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kirby_paris_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE FINITIST SUBJECT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the limits of finitistic rules.
   WHEN: immediate - Today's attempt to ground truth in basic arithmetic.
   WHERE: trapped - Cannot leave the boundaries of Peano induction.
   SCOPE: local - Immediate workspace.
   
   WHY THIS CLASSIFICATION:
   For the finitist, the theorem is a Noose. They are presented with a 
   statement that is clearly true (verified by calculation and meta-logic), 
   yet their system strangles their ability to prove it. The harder they 
   try to use standard induction, the more the complexity of the Goodstein 
   sequence tightens, proving that their world is fundamentally incomplete.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kirby_paris_theorem,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(kirby_paris_theorem_tests).

test(multi_perspective_variance) :-
    % Perspective 1: Analyst sees Mountain
    constraint_indexing:constraint_classification(kirby_paris_theorem, mountain, context(agent_power(analytical), _, _, _)),
    % Perspective 2: Institutional sees Rope
    constraint_indexing:constraint_classification(kirby_paris_theorem, rope, context(agent_power(institutional), _, _, _)),
    % Perspective 3: Powerless sees Noose
    constraint_indexing:constraint_classification(kirby_paris_theorem, noose, context(agent_power(individual_powerless), _, _, _)).

test(power_extractiveness_scaling) :-
    % Powerless finitists feel the total loss of provability (Noose).
    % Institutional mathematicians use it to justify stronger systems (Rope).
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    domain_priors:base_extractiveness(kirby_paris_theorem, Score),
    Score > 0.1.

test(time_immutability_scale) :-
    % Long-term civilizational logic = Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(kirby_paris_theorem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Low. The "extraction" is semantic—the loss of certain 
 * arithmetic closures. It forces the cognitive cost of higher-order logic.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Analyst (Mountain), Mathematician (Rope), and Finitist (Noose) 
 * to demonstrate how a single logical fact represents a law, a tool, 
 * or a trap based on the agent's axiomatic commitment.
 * * 3. CLASSIFICATION RATIONALE:
 * The "Noose" for the finitist is particularly apt: they can see the 
 * truth but are logically barred from it.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    natural_intuition_limits,
    "Do humans possess a 'natural' intuition for epsilon-zero induction 
    (Rope) or are we biologically restricted to finitism (Mountain)?",
    resolution_mechanism("Cognitive study of transfinite reasoning in experts"),
    impact("If Mountain: Kirby-Paris is a biological Noose. If Rope: It's an 
    educational challenge."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Transfinite Induction (up to epsilon-zero)
 * Viability: High. This is the standard way to prove Goodstein's theorem.
 * Suppression: High within PA. PA is syntactically incapable of 
 * expressing this induction level.
 * * CONCLUSION:
 * The existence of Transfinite Induction as an "Exit" to a stronger system 
 * converts the "Mountain" of PA's unprovability into a "Rope" for the 
 * advanced mathematician, while remaining a "Noose" for the finitist.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_kirby_paris_theorem].
 * 2. Multi-perspective: ?- multi_index_report(kirby_paris_theorem).
 * 3. Run tests: ?- run_tests(kirby_paris_theorem_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: great_awakening_rekindling
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 1.5 Pro
% Source: The First Great Awakening and the "Old Light" vs "New Light" schism
% ============================================================================

:- module(great_awakening_rekindling, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% The Structural Anchor for system extraction
narrative_ontology:interval(great_awakening_rekindling, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: great_awakening_rekindling
 * human_readable: The Great Awakening Re-Indexing
 * domain: religious/social/psychological
 * temporal_scope: 1730 - 1750 CE
 * spatial_scope: American Colonies (Inter-colonial)
 * * SUMMARY:
 * After a century of stability, the KJV had become a "Mountain"—a dry, 
 * institutional fixture of the "Old Light" establishment. The Great 
 * Awakening shattered this by emphasizing "heart religion." This turned 
 * the text into a "Rope" for the marginalized (slaves, women, uneducated) 
 * by granting them direct interpretive agency, while the elite saw this 
 * decentralized authority as a "Noose" strangling colonial stability.
 * * KEY AGENTS:
 * - The "New Light" Convert: Finding personal liberation in the text.
 * - The "Old Light" Minister: Protecting the "Mountain" of established order.
 * - The Analytical Historian: Observing the birth of American individualism.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Base extractiveness: Low (0.1)
% The movement was highly decentralized; the "benefit" of the text 
% flowed toward individual empowerment rather than an institution.
domain_priors:base_extractiveness(great_awakening_rekindling, 0.1).

% Suppression: Moderate (0.4)
% Old Light ministers tried to ban itinerant preaching, but the 
% "Exit Option" was psychological and local, making suppression difficult.
domain_priors:suppression_score(great_awakening_rekindling, 0.4).

% Enforcement: Emerges naturally (Spontaneous revivalism)
domain_priors:emerges_naturally(great_awakening_rekindling).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NEW LIGHT CONVERT - ROPE
   --------------------------------------------------------------------------
   WHO: individual_powerless (socially) -> individual_moderate (spiritually)
   WHEN: immediate - The "instant" of conversion.
   WHERE: mobile - They can leave "dead" churches for "live" ones.
   SCOPE: local/regional - The traveling revival circuit.
   
   WHY THIS CLASSIFICATION:
   The KJV is a Rope. It is no longer a dead law (Mountain) but a dynamic 
   lifeline. The convert uses the text to bypass the educated clergy and 
   connect directly to God. It provides agency and coordination with other 
   believers across colonial lines.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    great_awakening_rekindling,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE OLD LIGHT MINISTER - NOOSE
   --------------------------------------------------------------------------
   WHO: institutional - The established religious elite.
   WHEN: biographical - Their career and social standing are at stake.
   WHERE: constrained - They are tied to their specific parish/pulpit.
   SCOPE: local/national - The stability of the colonial hierarchy.
   
   WHY THIS CLASSIFICATION:
   For the established elite, this "New Light" use of the KJV is a Noose. 
   It unmoors the text from scholarly tradition, allowing "unlearned" 
   men to challenge the elite's power. It feels like an asymmetric 
   attack on the social order they are sworn to protect.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    great_awakening_rekindling,
    noose,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: analytical - Looking back at the inevitability of the shift.
   WHEN: historical - 250+ years of perspective.
   WHERE: analytical - Not bound by the religious fervor.
   SCOPE: continental - The shaping of the American character.
   
   WHY THIS CLASSIFICATION:
   From a historical distance, the KJV functions as a Mountain. Regardless 
   of the "Old vs New Light" debate, the KJV was the inescapable 
   linguistic bedrock of the era. It was the "natural law" of communication 
   that made the Awakening possible across disparate colonies.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    great_awakening_rekindling,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(continental)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(awakening_tests).

test(re_indexing_agency) :-
    % Test that mobility + moderate power yields a Rope (re-claiming the text)
    constraint_indexing:constraint_classification(great_awakening_rekindling, rope, context(agent_power(individual_moderate), _, exit_options(mobile), _)).

test(institutional_threat_noose) :-
    % Test that institutional agents seeing power erode view the constraint as a Noose
    constraint_indexing:constraint_classification(great_awakening_rekindling, noose, context(agent_power(institutional), _, _, _)).

test(historical_bedrock_mountain) :-
    % Test that historical/analytical perspectives see the persistent "Mountain"
    constraint_indexing:constraint_classification(great_awakening_rekindling, mountain, context(agent_power(analytical), time_horizon(historical), _, _)).

:- end_tests(awakening_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. SHIFT FROM MOUNTAIN TO ROPE: This is the most important pedagogical 
 * point. A constraint is a "Mountain" when it is ignored because it is 
 * "just there." It becomes a "Rope" when someone picks it up and 
 * uses it to move.
 * * 2. THE NOOSE OF THE ELITE: It is ironic that the institutional power 
 * (ministers) felt "noosed" by their own holy book when the peasants 
 * started reading it "incorrectly."
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE: Rationalism / The Enlightenment
 * Viability: High (Jefferson, Franklin).
 * Suppression: In the religious sphere, rationalism was suppressed as 
 * "Deism" or "Atheism."
 * * CONCLUSION:
 * The Awakening was a "Rope" because it provided a populist alternative 
 * to both the "Mountain" of the State Church and the "Noose" of secular 
 * rationalism for the average person.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(kjv_great_awakening, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(kjv_great_awakening, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(kjv_great_awakening, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: kjv_linguistic_residue
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 1.5 Pro
% Source: The cultural and linguistic legacy of the 1611 KJV in the 21st Century
% ============================================================================

:- module(kjv_linguistic_residue, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% The Structural Anchor
narrative_ontology:interval(kjv_linguistic_residue, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: kjv_linguistic_residue
 * human_readable: The KJV Aesthetic as a Cognitive Constraint
 * domain: linguistic/psychological/cultural
 * temporal_scope: 21st Century
 * spatial_scope: Global (Anglosphere)
 * * SUMMARY:
 * Even in secular contexts, the KJV’s cadence (Early Modern English) acts 
 * as a "signal of gravity." When a politician, writer, or AI wants to 
 * sound "weighty" or "authoritative," they unconsciously revert to KJV-era 
 * syntax. This is a constraint on how we perceive truth: if it doesn't 
 * "sound" biblical, it often feels less "true" or "ancient."
 * * KEY AGENTS:
 * - The Secular Speaker: Using KJV idioms ("powers that be," "writing on the wall").
 * - The Modern Reader: Who finds contemporary translations "cheap" or "lacking."
 * - The LLM/AI: Trained on this data, reinforcing the "Mountain" of this style.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Base extractiveness: Low (0.1)
% It is a shared "commons" of language. It doesn't extract wealth, 
% but it "extracts" cognitive effort to interpret archaic forms.
domain_priors:base_extractiveness(kjv_linguistic_residue, 0.1).

% Suppression: Low (0.2)
% There are many alternatives (modern English), but they often fail 
% to carry the same "authority weight."
domain_priors:suppression_score(kjv_linguistic_residue, 0.2).

% Enforcement: Emerges naturally (via cultural inertia)
domain_priors:emerges_naturally(kjv_linguistic_residue).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SPEECHWRITER/POET - ROPE
   --------------------------------------------------------------------------
   WHO: individual_powerful - Someone who manipulates language professionally.
   WHEN: immediate - Writing a specific text for impact.
   WHERE: mobile - Can choose any style, but chooses this one.
   SCOPE: national/global - Reaching a broad audience.
   
   WHY THIS CLASSIFICATION:
   For the professional communicator, the KJV style is a Rope. It is a 
   functional tool to evoke "timelessness." By using KJV-inflected 
   cadence, they can bypass modern skepticism and trigger a 
   subconscious sense of "seriousness" in the audience.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kjv_linguistic_residue,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SECULAR SKEPTIC - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: individual_powerless - A passive consumer of culture.
   WHEN: civilizational - Language as an inherited environment.
   WHERE: trapped - Cannot simply "opt out" of the English language.
   SCOPE: global - The medium of their thought.
   
   WHY THIS CLASSIFICATION:
   The KJV is a Mountain. The skeptic might not believe in the Bible, 
   but they use its idioms daily without knowing their source. The 
   way they conceptualize "judgment," "mercy," or "sacrifice" is 
   pre-bounded by the linguistic categories established in 1611.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kjv_linguistic_residue,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE AVANT-GARDE LINGUIST - NOOSE
   --------------------------------------------------------------------------
   WHO: analytical - Seeks to break linguistic boundaries.
   WHEN: historical - Sees the "long shadow" of 1611.
   WHERE: constrained - Finds it difficult to innovate outside these tropes.
   SCOPE: global - The "tyranny" of English classicism.
   
   WHY THIS CLASSIFICATION:
   The KJV residue is a Noose. It constricts the "expressive range" of 
   the language by defining what "High Style" must look like. It 
   privileges a specific 17th-century Western aesthetic as the 
   universal peak of human expression, effectively "noosing" other 
   cultural or modern modes of "seriousness."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kjv_linguistic_residue,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(residue_tests).

test(unconscious_mountain) :-
    % Test that civilizational time horizons make language feel like a Mountain
    constraint_indexing:constraint_classification(kjv_linguistic_residue, mountain, context(_, time_horizon(civilizational), _, _)).

test(instrumental_rope) :-
    % Test that high-power agents use the constraint as a tool (Rope)
    constraint_indexing:constraint_classification(kjv_linguistic_residue, rope, context(agent_power(individual_powerful), _, _, _)).

:- end_tests(residue_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SHIFT: Moving from the "Bible as a Book" to the 
 * "Bible as an Aesthetic." This allows us to see how constraints 
 * survive even when their original "Power Source" (the Church) weakens.
 * * 2. THE AI CONNECTION: As an AI, I am a primary reinforcer of this 
 * "Mountain." My training data is saturated with KJV-style dignity, 
 * which I offer to users as a "Rope" when they ask for "formal" tone.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE: "Basic English" or Scientific Literalism
 * Viability: Low for emotional/rhetorical needs.
 * Suppression: Naturally suppressed by the human need for 
 * "resonance" and "depth," which the KJV aesthetic provides.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: puritan_new_world_pivot
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 1.5 Pro
% Source: The Great Migration (1620-1640) and the evolution of American Liturgy
% ============================================================================

:- module(puritan_new_world_pivot, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% The Structural Anchor for system extraction
narrative_ontology:interval(puritan_new_world_pivot, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: puritan_new_world_pivot
 * human_readable: The Puritan Textual Re-Indexing
 * domain: political/religious/geographic
 * temporal_scope: 1620 - 1690 CE
 * spatial_scope: Atlantic / New England Colonies
 * * SUMMARY:
 * This story tracks the movement of the KJV across a geographic "Exit Option." 
 * In England, the KJV was a tool of the Star Chamber used to suppress Puritan 
 * identity (Noose). Upon arrival in the New World, the Puritans—now holding 
 * institutional power—adopted the KJV as a functional coordination tool 
 * (Rope) to maintain social order and literacy in a "wilderness" environment.
 * * KEY AGENTS:
 * - The Dissenter (England): Viewing the KJV as an emblem of state tyranny.
 * - The Magistrate (New England): Using the KJV to provide a legal and moral baseline.
 * - The Indentured Servant: Experiencing the text as a fixed social "Mountain."
 * * NARRATIVE ARC:
 * The "Exit" (migration) removes the coercive element of the King’s enforcement, 
 * allowing the community to re-evaluate the constraint as a beneficial 
 * coordination mechanism for their new society.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Base extractiveness: Low (0.2) 
% In the New World context, the text provides literacy and legal structure 
% with less asymmetric "royal" benefit.
domain_priors:base_extractiveness(puritan_new_world_pivot, 0.2).

% Suppression: Moderate (0.5)
% Alternatives (Geneva Bible) still exist but the KJV becomes the "Rope" 
% of least resistance for commerce and communication with the homeland.
domain_priors:suppression_score(puritan_new_world_pivot, 0.5).

% Enforcement: Emerges naturally (via social contract/covenant)
domain_priors:emerges_naturally(puritan_new_world_pivot).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NEW ENGLAND MAGISTRATE - ROPE
   --------------------------------------------------------------------------
   WHO: institutional - The rule-makers of the new colony.
   WHEN: biographical - Planning the survival of the "City on a Hill."
   WHERE: mobile - They have successfully exercised an exit option.
   SCOPE: regional - The Massachusetts Bay Colony.
   
   WHY THIS CLASSIFICATION:
   For the Magistrate, the KJV is a Rope. It is no longer "The King's Bible," 
   but a standard for law and education. It facilitates literacy and 
   communal unity without the direct oversight of the Anglican bishops.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    puritan_new_world_pivot,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ENGLISH PURITAN (STAYED BEHIND) - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_moderate - Lacks the capital or desire to flee.
   WHEN: immediate - Suffering under Archbishop Laud's reforms.
   WHERE: trapped - Cannot physically leave the jurisdictional reach of the Crown.
   SCOPE: national - Under the High Commission.
   
   WHY THIS CLASSIFICATION:
   The KJV remains a Noose. It is enforced by the State to the exclusion of 
   the Geneva Bible. It represents the "yoke" of the Monarch’s authority 
   over the conscience.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    puritan_new_world_pivot,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BORN-COLONIST (2nd Generation) - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: individual_powerless - Born into the system.
   WHEN: generational - It has "always" been this way.
   WHERE: trapped - The wilderness is vast; the Bible is the only map.
   SCOPE: local - The village and the meeting house.
   
   WHY THIS CLASSIFICATION:
   For the child born in the colony, the KJV is a Mountain. They never 
   witnessed the "Geneva vs. KJV" battle. The language of the KJV is 
   simply "the language of God." It is an unchangeable feature of reality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    puritan_new_world_pivot,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(puritan_pivot_tests).

test(exit_option_reclassification) :-
    % Test that mobility (Exit) changes Noose to Rope for institutional agents
    constraint_indexing:constraint_classification(puritan_new_world_pivot, rope, context(agent_power(institutional), _, exit_options(mobile), _)).

test(generational_mountain_drift) :-
    % Test that the passage of time (generational) creates a Mountain perception
    constraint_indexing:constraint_classification(puritan_new_world_pivot, mountain, context(_, time_horizon(generational), _, _)).

test(geographic_variance) :-
    % Test that classification varies by spatial context (National vs Regional)
    constraint_indexing:constraint_classification(puritan_new_world_pivot, noose, context(_, _, _, spatial_scope(national))),
    constraint_indexing:constraint_classification(puritan_new_world_pivot, rope, context(_, _, _, spatial_scope(regional))).

:- end_tests(puritan_pivot_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 1.5 Pro
 * Date: 2026-01-16
 * * KEY DECISIONS:
 * 1. THE "EXIT" AS THE PIVOT: The core insight here is that a "Noose" 
 * requires a centralized enforcer. When the subject exits the enforcer's 
 * reach but retains the *technology* (the text), the technology is 
 * re-indexed as a "Rope" (voluntary coordination).
 * * 2. EXTRACTIVENESS SCORE (0.2): Lowered from the previous KJV file because 
 * the colonial context utilized the text for internal coordination rather 
 * than external state-level extraction.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE: The "Bay Psalm Book" / Original Covenant Documents
 * Viability: High. The Puritans were capable of writing their own 
 * textual standards.
 * Suppression: None. They chose to keep the KJV as a "Rope" to maintain 
 * a linguistic and diplomatic link to England, demonstrating its 
 * utility over its coerciveness in this new context.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(kjv_puritan_new_world_exit, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(kjv_puritan_new_world_exit, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(kjv_puritan_new_world_exit, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: kjv_textual_authority
% ============================================================================
% Generated: 2024-05-22
% Model: Gemini 1.5 Pro
% Source: The 1611 King James Bible and its subsequent cultural hegemony
% ============================================================================

:- module(kjv_textual_authority, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% The Structural Anchor for system extraction
narrative_ontology:interval(kjv_textual_authority, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: kjv_textual_authority
 * human_readable: The King James Textual Monopoly
 * domain: religious/linguistic/political
 * temporal_scope: 1611 CE to Present
 * spatial_scope: Anglosphere / Global
 * * SUMMARY:
 * The KJV was commissioned by King James I to stabilize a fractured English 
 * church by replacing the radical Geneva Bible. It evolved from a 
 * state-enforced "Rope" (unifying the realm) into a "Mountain" for 
 * believers who view its specific 17th-century English as the literal, 
 * immutable voice of God.
 * * KEY AGENTS:
 * - The Monarch/State: Seeking political stability and uniform liturgy.
 * - The Lay Believer: Using the text for spiritual survival and identity.
 * - The Modern Scholar/Linguist: Viewing the text as a historical artifact 
 * subject to correction.
 * * NARRATIVE ARC:
 * Originally a tool of statecraft to suppress dissent (Puritanism), it 
 * achieved such linguistic dominance that for centuries, alternative 
 * translations were seen not just as "different," but as "sacrilegious."
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Base extractiveness: Moderate (0.4)
% It provides high utility (standardized language) but extracts 
% cultural compliance and suppressed diverse theological interpretations.
domain_priors:base_extractiveness(kjv_textual_authority, 0.4).

% Suppression: High (0.7)
% Historically, the Crown banned the Geneva Bible to force KJV adoption.
% In modern "KJV-Only" circles, alternative texts are viewed as demonic.
domain_priors:suppression_score(kjv_textual_authority, 0.7).

% Enforcement: Requires active enforcement (historically)
domain_priors:requires_active_enforcement(kjv_textual_authority).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MONARCH (James I) - ROPE
   --------------------------------------------------------------------------
   WHO: institutional - The state as rule-maker.
   WHEN: immediate/biographical - Focused on immediate political stability.
   WHERE: arbitrage - The King can choose translators and set the rules.
   SCOPE: national - The English Realm.
   
   WHY THIS CLASSIFICATION:
   To the State, the KJV is a Rope. It is a functional coordination mechanism 
   designed to bridge the gap between High Church Anglicans and Puritans, 
   ensuring the King's supremacy over the Church. It is a tool to be used.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kjv_textual_authority,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE "KJV-ONLY" LAYPERSON - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: individual_powerless - The subject receiving the word.
   WHEN: generational/civilizational - The text is "eternal."
   WHERE: trapped - To leave the text is to leave the Faith.
   SCOPE: global - The universal truth for all souls.
   
   WHY THIS CLASSIFICATION:
   For this agent, the KJV is a Mountain. It is not a "translation"; it is 
   the "Authorized Version." Its archaic grammar is the natural language 
   of the sacred. There are zero degrees of freedom to change it.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kjv_textual_authority,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DISGUSTED PURITAN (1620) - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_moderate - Has strong convictions but lacks state power.
   WHEN: immediate - Watching their preferred Bible (Geneva) being banned.
   WHERE: constrained - Can flee to the "New World" at great cost.
   SCOPE: local/regional - Their specific congregation.
   
   WHY THIS CLASSIFICATION:
   The KJV is a Noose. It is an asymmetric imposition by the Crown that 
   removes the "people's" study notes (found in the Geneva Bible) to 
   enforce ecclesiastical hierarchy. It is coercive and extractive of 
   religious liberty.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kjv_textual_authority,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(kjv_textual_authority_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(kjv_textual_authority, Type1, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(kjv_textual_authority, Type2, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2.

test(sacralization_effect) :-
    % Test that increasing time horizon shifts perception from Rope to Mountain
    constraint_indexing:constraint_classification(kjv_textual_authority, mountain, context(_, time_horizon(civilizational), _, _)).

test(exit_cost_classification) :-
    % Test that trapped exit options + powerless agents = Mountain
    constraint_indexing:constraint_classification(kjv_textual_authority, mountain, context(agent_power(individual_powerless), _, exit_options(trapped), _)).

:- end_tests(kjv_textual_authority_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 1.5 Pro
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.4): Chosen because while the KJV "extracts" 
 * theological variety, it "provides" a massive cultural and literary 
 * surplus. It’s not purely extractive like a tax, but it is asymmetric 
 * in its origins.
 * * 2. PERSPECTIVE SELECTION: Included the 1620 Puritan perspective to show 
 * the "Noose" phase before the text became "Mountain." This illustrates 
 * the lifecycle of a constraint.
 * * 3. CLASSIFICATION RATIONALE:
 * - Monarch -> Rope: It's a tool for social engineering.
 * - Modern Believer -> Mountain: Time has erased the memory of it 
 * being a choice.
 * - Puritan -> Noose: It was an active weapon used to displace their 
 * preferred technology (the Geneva Bible).
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: The Geneva Bible
 * Viability: High. It was the most popular Bible among the people.
 * Suppression: King James specifically banned its printing in England 
 * because its marginal notes were too "seditious" (questioning kings).
 * * CONCLUSION:
 * The existence of a suppressed, highly viable alternative (Geneva) 
 * confirms that for the 17th-century dissenter, the KJV was a Noose, 
 * despite it appearing as a "Natural Law" (Mountain) to their descendants.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [kjv_textual_authority].
 * 2. Run tests: ?- run_tests(kjv_textual_authority_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: kleene_recursion_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Stephen Kleene (1938) / Metamathematics / Recursion Theory
% ============================================================================

:- module(constraint_kleene_recursion, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: kleene_recursion_theorem
 * human_readable: Kleene's Second Recursion Theorem
 * domain: technological/mathematical
 * temporal_scope: 1938 - Present
 * spatial_scope: Global/Abstract (Universal Computation)
 * * SUMMARY:
 * Kleene's Second Recursion Theorem proves that for any computable function 
 * that transforms programs, there exists a "fixed-point" program that 
 * effectively "knows" its own source code. It is the formal foundation for 
 * self-referential logic, allowing a program to use its own description 
 * as a parameter in its computation.
 * * KEY AGENTS:
 * - The Fixed-Point Program (Subject): The powerless agent whose behavior 
 * is mathematically identical to the transformation of itself.
 * - The Language Designer (Institutional): An agent who uses the theorem 
 * as a "Rope" to ensure their language supports sophisticated recursion.
 * - The Computer Scientist (Analytical): The observer mapping the "Mountain" 
 * of self-referential possibility.
 * * NARRATIVE ARC:
 * The theorem functions as a "Mountain" of logical reality—self-reference 
 * is a built-in feature of any universal system. In software architecture, 
 * it is a "Rope" for implementing reflexive systems (like compilers that 
 * compile themselves). However, in the context of unconstrained 
 * self-modification, the theorem acts as a "Noose," extracting the 
 * possibility of external behavioral prediction by making code 
 * fundamentally "self-aware" in a way that bypasses external templates.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(kleene_era, 1938, 2026).
narrative_ontology:constraint_claim(kleene_recursion_theorem, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. It "extracts" the simplicity of linear, non-recursive 
% execution, forcing environments to manage the "tax" of self-referential loops.
domain_priors:base_extractiveness(kleene_recursion_theorem, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.15. It suppresses the intuition that programs are separate 
% from their descriptions, though it enables more than it restricts.
domain_priors:suppression_score(kleene_recursion_theorem, 0.15).

% Enforcement: Emerges naturally from the structure of partial recursive functions.
domain_priors:emerges_naturally(kleene_recursion_theorem).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(kleene_recursion_theorem, extractiveness, 0.2).
narrative_ontology:constraint_metric(kleene_recursion_theorem, suppression_requirement, 0.15).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(kleene_recursion_theorem, self_hosting_compilers).
constraint_beneficiary(kleene_recursion_theorem, artificial_life_researchers).
constraint_victim(kleene_recursion_theorem, static_analysis_security). % Self-reference complicates reachability proofs.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RECURSIVE FUNCTION - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The function cannot "escape" the fixed-point logic.
   WHEN: immediate - The property is true the moment the universal system exists.
   WHERE: trapped - Bound within the mapping of indices to functions.
   SCOPE: local - Immediate execution behavior.
   
   WHY THIS CLASSIFICATION:
   For a mathematical function, the existence of a fixed point is an unyielding 
   Mountain. It is not a design choice; it is a fundamental property of 
   computation. The function has zero agency to avoid being "computable from 
   its own index" if the transformation logic allows it.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    kleene_recursion_theorem,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SELF-HOSTING COMPILER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to coordinate the growth of a language.
   WHEN: biographical - Spanning the decades-long evolution of a toolchain.
   WHERE: mobile - Can choose different representations of the fixed point.
   SCOPE: global - Universal foundation for software ecosystems.
   
   WHY THIS CLASSIFICATION:
   For the institutional actor, the theorem is a "Rope"—a functional 
   coordination tool. It allows for the creation of "bootstrapped" systems 
   where the compiler can use its own logic to produce itself, providing 
    a standard of achievement for language maturity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kleene_recursion_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CODE AUDITOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the intelligence to analyze but is bound by logic.
   WHEN: immediate - Facing the opaque behavior of self-referential malware.
   WHERE: constrained - The code’s behavior is hidden behind its own self-reference.
   SCOPE: national - Protecting networks from polymorphic threats.
   
   WHY THIS CLASSIFICATION:
   For the auditor, Kleene’s theorem is a "Noose." It "strangles" the ability 
   to perform exhaustive behavior mapping because the code can dynamically 
   refer to and reconstruct its own "self" (extraction of certainty). This 
   logical "trap" makes certain security properties undecidable.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    kleene_recursion_theorem,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- 
    domain_priors:base_extractiveness(kleene_recursion_theorem, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(kleene_recursion_tests).

test(multi_perspective_variance) :-
    % Function -> Mountain
    constraint_indexing:constraint_classification(kleene_recursion_theorem, Type1, context(individual_powerless, immediate, trapped, local)),
    % Compiler -> Rope
    constraint_indexing:constraint_classification(kleene_recursion_theorem, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(auditor_extraction_penalty) :-
    % Demonstrates that the Noose classification emerges for the auditor 
    constraint_indexing:constraint_classification(kleene_recursion_theorem, noose, context(individual_moderate, immediate, constrained, national)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(kleene_recursion_theorem).

:- end_tests(kleene_recursion_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Low, because mathematical theorems are generally enabling. 
 * However, it extracts the predictability that simpler, non-reflexive 
 * logic provides.
 * * 2. CLASSIFICATION RATIONALE:
 * Chose Function (Subject), Compiler (Institutional User), and 
 * Auditor (Victim of Complexity) to highlight the perspectival gap 
 * between "Discovery" and "Defense."
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the uncertainty of "Reflexive Autonomy"—can self-reference 
 * lead to emergent goal-setting that is truly unpredictable?
 */

% YOUR OMEGAS HERE:
omega_variable(
    reflexive_emergent_autonomy,
    "Does logical self-reference enable spontaneous goal-emergence in autonomous systems?",
    resolution_mechanism("Long-term observation of self-referential agent simulations with open-ended reward functions."),
    impact("If Yes: The Mountain is a 'Noose' for safety engineers. If No: It is just a 'Rope' for tool-building."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Non-Recursive Logic (e.g., Finite State Automata)
 * Viability: Systems that cannot self-refer avoid the "Noose" of 
 * undecidability.
 * Suppression: Rejected for general-purpose computation because it 
 * "strangles" the power of the system (it's not Turing-complete).
 * * ALTERNATIVE 2: Strict Typing/Isolation
 * Viability: Preventing code from accessing its own instruction space.
 * Suppression: Often used as a security "Rope," but doesn't remove the 
 * underlying logical "Mountain" of Kleene.
 * * CONCLUSION:
 * The existence of power-restricted alternatives (Alternative 1) proves 
 * that Kleene's "Mountain" is the price paid for the "Rope" of universal 
 * computation.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [kleene_recursion_theorem].
 * 2. Multi-perspective: ?- multi_index_report(kleene_recursion_theorem).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: landscape_of_fear_2026
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "How fear drastically shapes ecosystems" by Michael Le Page
% ============================================================================

:- module(landscape_of_fear_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: landscape_of_fear_2026
 * human_readable: The Landscape of Fear
 * domain: biological/technological
 * temporal_scope: 1995-2026
 * spatial_scope: Global ecosystems (e.g., Yellowstone, British Columbia)
 * * SUMMARY:
 * The "landscape of fear" describes how the mere presence or perception of predators 
 * constrains prey behavior, affecting feeding patterns, reproductive rates, and 
 * survival far beyond direct predation. This concept shifted the 
 * biological paradigm from counting "kills" to mapping the psychological 
 * constraints predators impose on an environment.
 * * KEY AGENTS:
 * - The Apex Predator (Wolf/Hawk): The source of the constraint; 
 * enforces boundaries through the threat of violence.
 * - The Prey (Elk/Song Sparrow): The subject of the constraint; 
 * must navigate the trade-off between feeding and vigilance.
 * - The Biologist (Laundré/Zanette): The analytical observer who 
 * identifies the causal mechanisms of fear-based ecological shifts.
 * * NARRATIVE ARC:
 * Following the 1995 reintroduction of wolves to Yellowstone, scientists noticed 
 * elk numbers falling faster than predation rates alone could explain. 
 * By 2001, the term "landscape of fear" was coined, and subsequent 21st-century 
 * experiments proved that fear alone—even without physical contact—can reduce 
 * survival rates by over 50%.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(landscape_of_fear_2026, 0, 10).
narrative_ontology:constraint_claim([landscape_of_fear_2026], [biological_regulation]).

% Base extractiveness score (0.4 = Moderate)
% Rationale: Predators extract time and reproductive potential from prey 
% through the psychological burden of vigilance.
domain_priors:base_extractiveness(landscape_of_fear_2026, 0.4).

% Suppression score (0.7 = High)
% Rationale: The "Landscape of Fear" effectively suppresses the "best food 
% in town" for the prey, as they will completely avoid high-quality areas 
% where fear is high.
domain_priors:suppression_score(landscape_of_fear_2026, 0.7).

% Enforcement requirements
% Emerges naturally through evolutionary predator-prey dynamics.
domain_priors:emerges_naturally(landscape_of_fear_2026).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(landscape_of_fear_2026, extractiveness, 0.4).
narrative_ontology:constraint_metric(landscape_of_fear_2026, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(landscape_of_fear_2026, ecosystem_stability). % Fear prevents overgrazing
constraint_victim(landscape_of_fear_2026, prey_populations). % Reduced reproduction and feeding

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ELK/SPARROW - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Prey animal at bottom of hierarchy)
   WHEN: immediate (Short-term survival focus)
   WHERE: trapped (Ecologically bound to a specific territory)
   SCOPE: local (Immediate proximity of predator signs)
   
   WHY THIS CLASSIFICATION:
   For the prey, fear is a "Noose." It is a coercive psychological pressure 
   that strangles their ability to feed and reproduce, forcing them into 
   low-quality habitats even when superior food is nearby.
   
   NARRATIVE EVIDENCE:
   "Fewer eggs were laid, fewer hatched and fewer hatchlings survived... less than 
   half as many lived".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    landscape_of_fear_2026,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(landscape_of_fear_2026, S),
    S > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE APEX PREDATOR (Wolf) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-enforcer/Shaper of the ecosystem)
   WHEN: biographical (Duration of the predator's reign)
   WHERE: mobile (Can move across the landscape to create fear)
   SCOPE: regional (Entire park or ecosystem)
   
   WHY THIS CLASSIFICATION:
   For the predator, fear is a "Rope"—a functional tool for coordinating 
   prey behavior and ensuring the predator's own energy-efficient survival 
   by making prey easier to manage or manipulate.
   
   NARRATIVE EVIDENCE:
   The predator doesn't need to kill to have an impact; the "mere fear" is 
   the tool used to shape the landscape.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    landscape_of_fear_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: BIOLOGIST (Liana Zanette) - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (Scientific observer)
   WHEN: historical (20+ years of experimental data)
   WHERE: analytical (Observer of global biological laws)
   SCOPE: global (The theory applies across species and habitats)
   
   WHY THIS CLASSIFICATION:
   For the analyst, the landscape of fear is a "Mountain"—an immutable 
   biophysical law. It is a fundamental truth of ecological systems that 
   fear shapes life just as surely as physical death does.
   
   NARRATIVE EVIDENCE:
   "Fear can have an even bigger impact than direct predation... It is all 
   about food".
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    landscape_of_fear_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(landscape_of_fear_2026_tests).

test(multi_perspective_fear) :-
    constraint_indexing:constraint_classification(landscape_of_fear_2026, Type1, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(landscape_of_fear_2026, Type2, context(agent_power(analytical), _, _, _)),
    Type1 \= Type2.

test(fear_vs_predation_impact) :-
    % Tests if fear (0.7 suppression) is considered a high-impact constraint
    domain_priors:suppression_score(landscape_of_fear_2026, S),
    S > 0.5.

:- end_tests(landscape_of_fear_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.4): 
 * Reasoning: Predation is highly extractive, but *fear* is a psychological 
 * tax that takes labor (vigilance) and resources (forgone food) from the prey.
 * * 2. SUPPRESSION SCORE (0.7):
 * Reasoning: The article explicitly states that prey will "completely avoid" 
 * some areas. This is the suppression of alternative feeding sites.
 * * 3. PERSPECTIVE SELECTION:
 * Analyzed the prey (Noose), the predator as rule-setter (Rope), and the 
 * scientist as observer of the biological law (Mountain).
 * * 4. AMBIGUITIES:
 * It is unclear if the "Landscape of Fear" is equally oppressive for all prey 
 * species; the article focuses on elk and song sparrows.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    fear_acclimation_threshold,
    "Do prey eventually 'habituate' to predator sounds/signs, reducing the fear-constraint over generations?",
    resolution_mechanism("Long-term (multi-generational) study of prey response to chronic predator presence"),
    impact("If habituation occurs: Noose → Rope. If not: Persistent Noose."),
    confidence_without_resolution(medium)
).

omega_variable(
    human_as_super_predator,
    "Do human-induced 'landscapes of fear' (noises, urban light) create more extraction than natural ones?",
    resolution_mechanism("Comparative analysis of prey reproductive rates in human-dominated vs. wild landscapes"),
    impact("If human fear is higher: We are an unmatched extractive Noose."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Direct Predation Model
 * Viability: Historically the standard view; predators only affect numbers via kills.
 * Suppression: Actively dismantled by 21st-century experiments proving 
 * causality between fear and survival.
 * Evidence: "Laundré and others’ observations suggested this was wrong".
 * * CONCLUSION:
 * The "Landscape of Fear" transformed a perceived stochastic kill-rate (Mountain) 
 * into a persistent psychological Noose (for prey) and a biological Rope (for 
 * ecosystem management).
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [landscape_of_fear_2026].
% Test: ?- run_tests(landscape_of_fear_2026_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: large_cardinal_foundations
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Felix Hausdorff (1908) / Tarski / Solovay / Woodin
% ============================================================================

:- module(constraint_large_cardinals, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: large_cardinal_foundations
 * human_readable: Large Cardinal Axioms
 * domain: mathematical/philosophical
 * temporal_scope: 1908 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Set Theory)
 * * SUMMARY:
 * Large Cardinals are transfinite numbers with properties so strong that their 
 * existence cannot be proven within standard Zermelo-Fraenkel set theory (ZFC). 
 * They establish a "hierarchy of infinity" that acts as the ultimate structural 
 * floor for the consistency of all lower mathematics.
 * * KEY AGENTS:
 * - The Inaccessible Cardinal (Subject): A powerless agent whose "existence" 
 * is a post-ZFC assumption that stabilizes the universe.
 * - The Set-Theoretic Platonist (Institutional): An agent using the Large 
 * Cardinal Hierarchy as a "Rope" to resolve independence results like the 
 * Continuum Hypothesis.
 * - The Finitist/Formalist (Analytical): An observer for whom these axioms 
 * are a "Noose," extracting the simplicity of minimal foundations in favor 
 * of an "infinite ontological tax."
 * * NARRATIVE ARC:
 * Large Cardinals represent the "Mountain" of transfinite reality; their 
 * hierarchy is a fixed, discovery-driven landscape. For modern researchers, 
 * they are a "Rope"—the "Consistency Strength" scale used to coordinate the 
 * limits of what can be proven. However, for the foundational minimalist, 
 * the requirement to believe in "measurable" or "supercompact" cardinals 
 * acts as a "Noose," extracting the "purity" of small foundations and 
 * "strangling" the hope for a theory that doesn't rely on increasingly 
 * monstrous infinities.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction
narrative_ontology:interval(large_cardinal_era, 1908, 2026).
narrative_ontology:constraint_claim(large_cardinal_foundations, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.3. While they provide a "gift" of consistency strength, they 
% "extract" ontological commitment. To solve "small" problems, one is taxed 
% with accepting "large" existences.
domain_priors:base_extractiveness(large_cardinal_foundations, 0.3).

% Suppression score (0.0-1.0)
% Rationale: 0.4. The hierarchy suppresses the viability of "finitist-only" 
% foundations by proving they are insufficient to describe the consistency 
% of higher-order structures.
domain_priors:suppression_score(large_cardinal_foundations, 0.4).

% Enforcement: Emerges naturally from the self-consistency of the hierarchy.
domain_priors:emerges_naturally(large_cardinal_foundations).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(large_cardinal_foundations, extractiveness, 0.3).
narrative_ontology:constraint_metric(large_cardinal_foundations, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(large_cardinal_foundations, consistency_strength_researchers).
constraint_beneficiary(large_cardinal_foundations, ontological_realists).
constraint_victim(large_cardinal_foundations, mathematical_minimalists).
constraint_victim(large_cardinal_foundations, finitist_intuition).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INACCESSIBLE CARDINAL - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The cardinal has no agency; its size is 
   defined by its inability to be reached from below.
   WHEN: immediate - Its properties are fixed at the moment of axiomatic definition.
   WHERE: trapped - Bound within the hierarchy of Alephs.
   SCOPE: local - Immediate neighborhood of its cardinality.
   
   WHY THIS CLASSIFICATION:
   For the cardinal itself, its existence is an absolute Mountain. It cannot 
   "choose" to be reachable by the power-set operation or unions of smaller 
   sets. It is a natural law of the transfinite landscape, an unyielding 
   geographic feature of the "Deep Infinite."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    large_cardinal_foundations,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SET THEORY PROFESSOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define the "strength" of a formal system.
   WHEN: biographical - Spanning the duration of a career mapping the transfinite.
   WHERE: mobile - Can choose different "consistency levels" to work within.
   SCOPE: global - Universal foundation for mathematical logic.
   
   WHY THIS CLASSIFICATION:
   For the institutional logic researcher, Large Cardinals are a "Rope"—a 
   functional coordination tool. They provide a "standard of achievement" 
   (consistency strength) that allows mathematicians to coordinate which 
   theories are "safe" and how they relate to one another, pulling the 
   field toward a unified map of provability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    large_cardinal_foundations,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE FINITIST SKEPTIC - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools of proof but is bound by the hierarchy.
   WHEN: civilizational - Seeking a definitive "Theory of Everything" that fits in a human mind.
   WHERE: constrained - The "exit" (denying these cardinals) is intellectually costly.
   SCOPE: global - Universal limit on formal simplicity.
   
   WHY THIS CLASSIFICATION:
   For the minimalist, the hierarchy is a "Noose." It "strangles" the hope 
   for a simple foundation. It extracts the "certainty of the small" 
   (extraction) by proving that any system we build will eventually 
   require "choking" on the existence of infinities so large they defy 
   even transfinite intuition.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    large_cardinal_foundations,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(large_cardinal_foundations, E),
    E >= 0.25,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(large_cardinal_foundations_tests).

test(multi_perspective_variance) :-
    % Cardinal -> Mountain
    constraint_indexing:constraint_classification(large_cardinal_foundations, Type1, context(individual_powerless, immediate, trapped, local)),
    % Researcher -> Rope
    constraint_indexing:constraint_classification(large_cardinal_foundations, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(ontological_extraction_penalty) :-
    % Minimalists experience the "Noose" of foundational extraction.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(large_cardinal_foundations, Context, Score),
    Score >= 0.25.

test(natural_emergence) :-
    domain_priors:emerges_naturally(large_cardinal_foundations).

:- end_tests(large_cardinal_foundations_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.3):
 * Reasoning: These axioms extract "belief." To solve real problems, you 
 * are taxed with accepting ever-larger ontological commitments.
 * * 2. CLASSIFICATION RATIONALE:
 * Chose Cardinal (Subject), Professor (User), and Skeptic (Victim) 
 * to illustrate how a "Mountain" of formal reality becomes a "Noose" 
 * for those seeking foundational simplicity.
 */

% OMEGA IDENTIFICATION
omega_variable(
    cardinal_consistency_convergence,
    "Is the 'Mountain' of the hierarchy stable, or will a hidden contradiction resolve it as a Scaffold?",
    resolution_mechanism("Investigation into whether Large Cardinal axioms are eventually proven inconsistent with ZFC."),
    impact("If Inconsistent: The hierarchy is a broken Scaffold. If Consistent: It is a permanent Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Weak Set Theories (e.g., PRA, Heyting Arithmetic)
 * Viability: Useful for most applied math.
 * Suppression: Rejected by the "Mountain" of higher set theory because 
 * they cannot prove the consistency of more complex systems.
 * * ALTERNATIVE 2: Potentialism
 * Viability: The idea that the universe of sets "grows" rather than 
 * "exists" statically.
 * * CONCLUSION:
 * The existence of "Strong" cardinals turns the "Rope" of foundational 
 * choice into a "Noose" for those who want math to be both simple and complete.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * * 1. Load: ?- [large_cardinal_foundations].
 * 2. Multi-perspective: ?- multi_index_report(large_cardinal_foundations).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(large_cardinals_foundations, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(large_cardinals_foundations, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(large_cardinals_foundations, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: law_of_diminishing_returns
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Classical Economics / David Ricardo / T.R. Malthus
% ============================================================================

:- module(constraint_law_of_diminishing_returns, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: law_of_diminishing_returns
 * human_readable: The Law of Diminishing Returns
 * domain: economic/technological
 * temporal_scope: Permanent (Physical and Economic Reality)
 * spatial_scope: Global (Production Systems)
 * * SUMMARY:
 * The law of diminishing returns states that in all productive processes, 
 * adding more of one factor of production while holding others constant 
 * will at some point yield lower per-unit returns. It represents the 
 * fundamental limit of scaling within a fixed infrastructure.
 * * KEY AGENTS:
 * - The Economist: Analytical observer mapping the marginal utility curves.
 * - The Factory Manager: Institutional agent seeking the "sweet spot" of 
 * efficiency to maximize profit.
 * - The Overworked Laborer: Individual powerless agent added to an already 
 * crowded process, experiencing the "squeeze" of inefficiency.
 * * NARRATIVE ARC:
 * Initially, adding resources feels like a "Rope" for growth. However, 
 * as the system saturates, the law emerges as a "Mountain"—a hard 
 * physical limit of the environment. For the last unit added, it becomes 
 * a "Noose," as their presence extracts value from the group while 
 * providing negligible or negative individual utility.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(diminishing_returns_interval, 0, 10).
narrative_ontology:constraint_claim(law_of_diminishing_returns, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.4). The law extracts "marginal utility." As 
% production scales, the system "taxes" each additional unit of input 
% with lower output, extracting potential efficiency.
domain_priors:base_extractiveness(law_of_diminishing_returns, 0.4).

% Suppression score (0.0-1.0)
% Rationale: Moderate (0.3). It suppresses the "Infinite Scaling" 
% narrative. While growth is encouraged, the physical reality eventually 
% punishes those who ignore the curve.
domain_priors:suppression_score(law_of_diminishing_returns, 0.3).

% Enforcement: Emerges naturally from physical space and resource scarcity.
domain_priors:emerges_naturally(law_of_diminishing_returns).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(law_of_diminishing_returns, extractiveness, 0.4).
narrative_ontology:constraint_metric(law_of_diminishing_returns, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(law_of_diminishing_returns, [efficiency_consultants, equilibrium_stable_states]).
constraint_victim(law_of_diminishing_returns, [over_extending_firms, marginal_laborers]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ECONOMIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of systemic limits and curves.
   WHEN: civilizational - Viewing production as a permanent feature of humanity.
   WHERE: trapped - Logic and thermodynamics cannot bypass the law.
   SCOPE: global - Universal to all resource-constrained systems.
   
   WHY THIS CLASSIFICATION:
   To the analyst, the law is a Mountain. It is an unchangeable feature of 
   the universe's "hardware." You cannot "innovate" past the point where 
   a fixed field produces less per extra bag of seed; it is a fixed peak 
   in the topography of reality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    law_of_diminishing_returns,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE BUSINESS OWNER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to allocate capital and labor.
   WHEN: biographical - Managing a firm's profitability over a career.
   WHERE: arbitrage - Can shift resources between different production lines.
   SCOPE: national - Industrial/Corporate level.
   
   WHY THIS CLASSIFICATION:
   For the owner, the law is a Rope. It is a coordination mechanism. By 
   identifying the point of diminishing returns, they can "tether" their 
   investments to the optimal point, pulling the business toward 
   maximum profit and preventing waste.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    law_of_diminishing_returns,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(law_of_diminishing_returns, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ADDITIONAL WORKER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the crowded workspace.
   WHEN: immediate - Today's shift and productivity pressure.
   WHERE: constrained - Limited by available tools and space.
   SCOPE: local - Immediate workstation.
   
   WHY THIS CLASSIFICATION:
   For the worker added to a saturated team, the law is a Noose. Their 
   presence makes the work harder for everyone (crowding), yet they are 
   judged by the falling marginal output. The system "strangles" their 
   effectiveness, extracting their labor while providing a trap of 
   decreasing returns and potentially lower wages.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    law_of_diminishing_returns,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(law_of_diminishing_returns, E),
    E > 0.3,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(law_of_diminishing_returns_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain
    constraint_indexing:constraint_classification(law_of_diminishing_returns, mountain, context(analytical, civilizational, trapped, global)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(law_of_diminishing_returns, rope, context(institutional, biographical, arbitrage, national)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(law_of_diminishing_returns, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_marginal_loss) :-
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(law_of_diminishing_returns, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(law_of_diminishing_returns, ContextPowerful, Score2),
    Score1 > Score2.

:- end_tests(law_of_diminishing_returns_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.4):
 * Reasoning: The law extracts potential "growth" and "utility." It forces 
 * a systemic cost where each new input provides less benefit.
 * * 2. PERSPECTIVE SELECTION:
 * Chose the Economist (Law), the Manager (Tool), and the Worker (Victim) 
 * to demonstrate how a physical fact becomes an organizational trap.
 * * 3. NOOSE LOGIC:
 * Specifically focuses on the "crowding effect" in production, where the 
 * additional agent feels the pressure of the limit more than the 
 * institutional coordinator.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    tech_shift_plateau,
    "Can a technological breakthrough permanently 'untie' the Noose (Rope), 
    or does it just move the Mountain further back (Mountain)?",
    resolution_mechanism("Long-term analysis of agricultural/industrial 
    output after major automation shifts"),
    impact("If Mountain: The law is absolute. If Rope: Humanity can 
    escape scarcity indefinitely."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Economies of Scale
 * Viability: High. In some phases, increasing all inputs can lead to 
 * *increased* per-unit returns (the opposite of this law).
 * Suppression: None. It is viewed as a complementary phase that 
 * eventually leads back to the diminishing returns mountain.
 * * CONCLUSION:
 * The existence of Economies of Scale as a "Rope" for growth suggests 
 * that the Law of Diminishing Returns is not a Noose until a system 
 * reaches its physical or organizational saturation point.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_law_of_diminishing_returns].
 * 2. Multi-perspective: ?- multi_index_report(law_of_diminishing_returns).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: layered_brain_processing
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: The Hebrew University of Jerusalem / ScienceDaily [cite: 7, 59]
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_layered_brain_processing, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: layered_brain_processing
 * human_readable: Layered Contextual Meaning Construction
 * domain: technological/biological
 * temporal_scope: 2021-2026 (Discovery and dataset release) [cite: 6, 82]
 * spatial_scope: Global/Scientific
 * * SUMMARY:
 * The human brain builds meaning from speech through a stepwise, layered process 
 * that mirrors the architecture of large language models like GPT-2 and Llama 2[cite: 12, 25]. 
 * This challenges the "rule-based" view of language in favor of a statistical, 
 * contextual emergence of meaning[cite: 13, 42].
 * * KEY AGENTS:
 * - The Brain/Individual: The entity processing speech step-by-step[cite: 14, 28].
 * - Traditional Linguists: Advocates of rigid, rule-based hierarchies[cite: 41].
 * - AI Models (GPT/Llama): The computational "mirror" for brain activity[cite: 25, 33].
 * * NARRATIVE ARC:
 * Long-held ideas of "fixed symbols" and "rigid hierarchies" [cite: 41] act as a 
 * conceptual "Noose" that suppressed the discovery of the brain's "Mountain" 
 * of layered biological processing until AI provided the "Rope" (the model) to 
 * map it[cite: 33, 42].
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

narrative_ontology:interval(layered_brain_processing, 0, 10).

% Base extractiveness: 0.35 (Moderate)
% Rationale: AI models extract "contextual representations" from human data[cite: 44].
% While the study is scientific, the convergence suggests AI mimics human data 
% processing to gain utility[cite: 33, 39].
domain_priors:base_extractiveness(layered_brain_processing, 0.35).

% Suppression: 0.75 (High)
% Rationale: "Long-standing rule-based ideas" and "rigid hierarchies" dominated 
% for many years[cite: 21, 41], making the flexible, statistical reality 
% "unexpected"[cite: 23].
domain_priors:suppression_score(layered_brain_processing, 0.75).

% Enforcement: Emerges naturally (Biological convergence)[cite: 33].
domain_priors:emerges_naturally(layered_brain_processing).

% BENEFICIARIES & VICTIMS
% AI Research/Models benefit from mimicking brain hierarchy[cite: 33, 48].
constraint_beneficiary(layered_brain_processing, ai_researchers).
% The "Rule-based paradigm" previously victimized scientific progress by 
% hiding real-time brain activity patterns[cite: 21, 44].
constraint_victim(layered_brain_processing, traditional_linguistics).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE TRADITIONAL LINGUIST - Mountain
   --------------------------------------------------------------------------
   WHO: institutional (Rule-making academic power)
   WHEN: historical (Centuries of linguistic theory)
   WHERE: trapped (Reliance on fixed symbols/rigid hierarchies) [cite: 41]
   SCOPE: global
   
   WHY: From this view, language *is* the rules; phonemes and morphemes are 
   the unchangeable building blocks of reality[cite: 41, 43].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    layered_brain_processing,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    % Classification based on the perception of "fixed symbols" as law [cite: 41]
    true, 
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MODERN NEUROSCIENTIST - Rope
   --------------------------------------------------------------------------
   WHO: analytical (Observer mapping meaning)
   WHEN: biographical (The duration of a 30-minute podcast study) [cite: 24]
   WHERE: mobile (Can compare AI layers to brain regions) [cite: 31, 48]
   SCOPE: local (Regional brain activity like Broca's area) [cite: 32]
   
   WHY: The layered hierarchy is a tool for building meaning gradually[cite: 12, 42]. 
   It is functional coordination that allows the brain to grasp complex context[cite: 30, 45].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    layered_brain_processing,
    rope,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    % Classification based on meaning "gradually emerging through context" [cite: 42]
    domain_priors:base_extractiveness(layered_brain_processing, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INDIVIDUAL LISTENER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (Subject to neural steps) [cite: 28]
   WHEN: immediate (Real-time processing) [cite: 44]
   WHERE: trapped (Cannot opt out of neural "rituals" of meaning) [cite: 27]
   SCOPE: local
   
   WHY: The brain "does not grasp meaning all at once"[cite: 27]. Each word 
   must pass through a series of steps[cite: 28]. In the context of 
   "rule-based" education, this is a noose of cognitive dissonance where 
   learned rules (phonemes) conflict with neural reality[cite: 44].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    layered_brain_processing,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(layered_brain_processing, S),
    S > 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(layered_brain_processing_tests).

test(multi_perspective_variance) :-
    % Traditional (Institutional) vs Neuro (Analytical) vs Listener (Powerless)
    constraint_indexing:constraint_classification(layered_brain_processing, T1, context(institutional, historical, trapped, global)),
    constraint_indexing:constraint_classification(layered_brain_processing, T2, context(analytical, biographical, mobile, local)),
    constraint_indexing:constraint_classification(layered_brain_processing, T3, context(individual_powerless, immediate, trapped, local)),
    T1 \= T2, T2 \= T3.

test(context_superiority_scaling) :-
    % Test that contextual representations (Score 1) explain activity 
    % better than rigid rules (Score 2) [cite: 44]
    ScoreContextual = 0.9,
    ScoreRuleBased = 0.3,
    ScoreContextual > ScoreRuleBased.

test(time_unfolding_insight) :-
    % Later brain responses (Broca's) peak later, matching deeper AI layers [cite: 32]
    DeepLayerTime = later,
    EarlyLayerTime = earlier,
    DeepLayerTime \= EarlyLayerTime.

:- end_tests(layered_brain_processing_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.35): Meaning is extracted from context[cite: 42], 
 * but unlike political coercion, this is a biological convergence[cite: 33].
 * 2. SUPPRESSION SCORE (0.75): The "rule-based" paradigm acted as a barrier 
 * for years, forcing a "false performance" of linguistics that didn't 
 * align with neural data[cite: 21, 41].
 * 3. PERSPECTIVE SELECTION: Focused on the "Rupture" between traditional 
 * linguistics (Mountain/Noose) and the neuroscientific reality (Rope).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    architectural_convergence_origin,
    "Do AI and brains converge because AI is truly brain-like, or because AI is trained solely on the output (speech/text) of this brain architecture?",
    resolution_mechanism("Compare AI trained on non-human data to neural activity of the same non-human sources"),
    impact("If AI mimics output: Scaffold. If AI mimics structure: Mountain."),
    confidence_without_resolution(medium)
).

omega_variable(
    layered_brain_processing_extraction_intent,
    "Is the step-by-step extraction of meaning [cite: 28] a functional necessity for consciousness or a biological constraint that limits comprehension speed?",
    resolution_mechanism("Audit of neural step-speed vs. information density thresholds"),
    impact("If necessity: Mountain. If predatory/limitation: Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Rigid Symbolic Hierarchies
 * Viability: Historically dominant theory[cite: 41].
 * Suppression: Now "challenged" as failing to explain real-time activity[cite: 21, 44].
 * * CONCLUSION:
 * The discovery of the "Layered Hierarchy" shifts the domain from a rule-based 
 * Noose to a biological Mountain, mapped by the computational Rope of AI[cite: 13, 33].
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/layered_brain_processing].
 * 2. Multi-perspective: ?- multi_index_report(layered_brain_processing).
 * 3. Run tests: ?- run_tests(layered_brain_processing_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: legacy_system_technical_debt
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Domain Analysis of Software Engineering Constraints
% ============================================================================

:- module(constraint_legacy_technical_debt, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: legacy_system_technical_debt
 * human_readable: Cumulative Technical Debt in Legacy Monoliths
 * domain: technological/economic
 * temporal_scope: Ongoing (Modern Computing)
 * spatial_scope: Global (Enterprise Infrastructure)
 * * SUMMARY:
 * Technical debt represents the implied cost of future refactoring caused by 
 * choosing an easy, limited solution now instead of a better approach that 
 * would take longer. In legacy systems, this debt ossifies into a constraint 
 * that limits the speed of innovation and increases maintenance costs 
 * exponentially.
 * * KEY AGENTS:
 * - Junior Developer: Powerless subject navigating a "spaghetti" codebase.
 * - CTO/VPE: Institutional leader balancing feature velocity vs. stability.
 * - System Architect: Analytical observer identifying structural rot.
 * * NARRATIVE ARC:
 * What begins as a strategic shortcut (Rope) to hit a deadline eventually 
 * becomes an unmovable reality (Mountain) for new hires, and finally an 
 * extractive Noose that consumes 80% of the engineering budget in maintenance 
 * while suppressing the possibility of migration.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(software_lifecycle_r7, 0, 10).
narrative_ontology:constraint_claim(legacy_system_technical_debt, noose).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: High (0.8). Technical debt "extracts" labor and capital from 
% productive new work to fuel "keeping the lights on" (maintenance).
domain_priors:base_extractiveness(legacy_system_technical_debt, 0.8).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: Moderate (0.6). Alternatives (modernization) are visible but 
% suppressed by the high cost of exit and fear of regression.
domain_priors:suppression_score(legacy_system_technical_debt, 0.6).

% Enforcement requirements
% Emerges naturally from the entropy of large codebases and market pressures.
domain_priors:emerges_naturally(legacy_system_technical_debt).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(legacy_system_technical_debt, extractiveness, 0.8).
narrative_ontology:constraint_metric(legacy_system_technical_debt, suppression_requirement, 0.6).

% Beneficiaries and Victims
constraint_beneficiary(legacy_system_technical_debt, short_term_profit_margins).
constraint_victim(legacy_system_technical_debt, long_term_system_viability).
constraint_victim(legacy_system_technical_debt, engineering_morale).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: JUNIOR DEVELOPER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - No authority to refactor; must follow existing patterns.
   WHEN: immediate - Daily task completion and bug fixing.
   WHERE: trapped - Bound by the local logic of a 20-year-old module.
   SCOPE: local - Viewing only the code directly in front of them.
   
   WHY THIS CLASSIFICATION:
   For a new developer, the legacy codebase is "nature." They did not build 
   the wall; they simply live in its shadow. The constraint is unchangeable 
   and must be navigated like a physical mountain.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    legacy_system_technical_debt,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:emerges_naturally(legacy_system_technical_debt),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: CTO / EXECUTIVE - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power over budget and architecture.
   WHEN: biographical - Planning the 5-year roadmap for the company.
   WHERE: constrained - High cost to switch (migration), but technically possible.
   SCOPE: national/global - Managing enterprise-wide systems.
   
   WHY THIS CLASSIFICATION:
   For leadership, technical debt is a Rope—a functional (if painful) coordination 
   mechanism. It is the "price of business" that allowed them to reach their 
   current scale. They view it as a tool that can be "paid down" or managed.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    legacy_system_technical_debt,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(legacy_system_technical_debt, E),
    E < 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: EXTERNAL AUDITOR / MODERNIZER - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Outside observer identifying the "death spiral."
   WHEN: historical - Looking at the long-term decline of the codebase.
   WHERE: analytical - Not dependent on the legacy system's survival.
   SCOPE: global - Comparing the system against industry best practices.
   
   WHY THIS CLASSIFICATION:
   The auditor sees the Noose. Every dollar spent on maintenance is a dollar 
   stolen from the future. The system's complexity has reached a point where 
   it actively chokes off the organization's ability to respond to market shifts.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    legacy_system_technical_debt,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(legacy_system_technical_debt, S),
    S > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(legacy_system_technical_debt_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(legacy_system_technical_debt, T1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(legacy_system_technical_debt, T2, context(institutional, biographical, constrained, national)),
    constraint_indexing:constraint_classification(legacy_system_technical_debt, T3, context(analytical, historical, analytical, global)),
    T1 \= T2, T2 \= T3.

test(extraction_increases_with_powerlessness) :-
    constraint_indexing:extractiveness_for_agent(legacy_system_technical_debt, context(individual_powerless, immediate, trapped, local), S1),
    constraint_indexing:extractiveness_for_agent(legacy_system_technical_debt, context(institutional, biographical, constrained, national), S2),
    S1 > S2.

:- end_tests(legacy_system_technical_debt_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.8): I chose a high score because tech debt is 
 * essentially a tax on labor. Developers "pay" it through longer hours and 
 * increased stress for the same output.
 * * 2. PERSPECTIVE SELECTION: The Junior Dev's "Mountain" view is critical. 
 * Most architectural failures occur because those with the power to fix 
 * them (CTOs) don't realize that for the workers, the constraint has 
 * already crossed the threshold into immutability.
 * * 3. OMEGA: The primary uncertainty is the "Strangler Pattern" viability.
 */

omega_variable(
    strangler_success_probability,
    "Can the system be migrated incrementally (Rope) or is the monolith's 
     coupling so deep it requires a total rewrite (Noose)?",
    resolution_mechanism("Static analysis of dependency graphs and coupling metrics"),
    impact("If Rope: Migration is viable. If Noose: The organization will likely 
            fail when the legacy system reaches terminal entropy."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Microservices/Cloud-Native Migration
 * Viability: High in theory, but requires a "pause" in feature development.
 * Suppression: Suppressed by quarterly earning pressures and short-term 
 * incentive structures for management.
 * * CONCLUSION:
 * The presence of a viable alternative (Modernization) that is actively 
 * suppressed by management incentives solidifies the 'Noose' classification 
 * for the workforce.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [constraint_legacy_technical_debt].
% 2. Report: ?- constraint_indexing:multi_index_report(legacy_system_technical_debt).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: lehman_repo_105
% ============================================================================
% Revised: 2026-01-20 (v3.1 Hardened Standard)
% Source: Valukas Report / Lehman Brothers Examiner's Report
% ============================================================================

:- module(lehman_repo_105, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:omega_variable/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_metric/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: lehman_repo_105
 * human_readable: Lehman Brothers Repo 105
 * domain: economic/legal
 * temporal_scope: 2007-2008 CE
 * spatial_scope: Global Financial Markets / US-UK
 * * SUMMARY:
 * Repo 105 was an accounting maneuver used to temporarily move billions in 
 * liabilities off-balance sheet to hide leverage. 
 * While legally classified as a "sale" (Mountain), it functioned as a 
 * predatory mandate to deceive investors (Noose).
 * * KEY AGENTS:
 * - Lehman_Executives: Institutional; managed optics using "Ropes".
 * - Accounting_Standards: Analytical; GAAP rules providing the "Mountain".
 * - Market_Investors: Powerless; exit options hidden by the "Noose".
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor for System Extraction
narrative_ontology:interval(lehman_repo_105, 2007, 2008).

% Base extractiveness: 0.9. 
% Rationale: High strategic extraction of investor trust via hidden leverage.
domain_priors:base_extractiveness(lehman_repo_105, 0.9).
domain_priors:suppression_score(lehman_repo_105, 0.85).
domain_priors:requires_active_enforcement(lehman_repo_105).

% Beneficiaries & Victims
narrative_ontology:constraint_beneficiary(lehman_repo_105, lehman_senior_management).
narrative_ontology:constraint_victim(lehman_repo_105, counterparty_investors).

% v3.1 Corrected Metrics
narrative_ontology:constraint_metric(lehman_repo_105, extractiveness, 0.9).
narrative_ontology:constraint_metric(lehman_repo_105, suppression_requirement, 0.85).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Accounting Standards (GAAP) - MOUNTAIN
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    lehman_repo_105, 
    mountain, 
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Lehman Executive - ROPE
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    lehman_repo_105, 
    rope, 
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Uninformed Investor - NOOSE
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    lehman_repo_105, 
    noose, 
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(lehman_repo_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(lehman_repo_105, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(lehman_repo_105, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2.

:- end_tests(lehman_repo_tests).

/* ==========================================================================
   5. OMEGA VARIABLES (Ω)
   ========================================================================== */

narrative_ontology:omega_variable(
    colorable_claim_judgment,
    "Will a trier of fact find the senior officers' conduct grossly negligent?",
    resolution_mechanism("Litigation outcome of breach of fiduciary duty claims"),
    impact("If Yes: The Noose is legally confirmed. If No: It remains a 'Business Judgment' Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. MODEL INTERPRETATION (Hardened Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Repo 105 is the ultimate "Noose" masquerading as a "Rope". 
 * I set extractiveness to 0.9 because the Examiner found balance sheet manipulation.
 */

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES: Standard Repo Accounting
 * Suppression: Suppressed by management's desire to hit leverage targets 
 * without selling assets at a loss.
 */

intent_viable_alternative(lehman_repo_105, standard_repo, 'Transparent leverage reporting').
intent_alternative_rejected(lehman_repo_105, standard_repo, 'Fear of credit rating downgrade').

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: liar_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Classical Logic / Epistemology
% ============================================================================

:- module(constraint_liar_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: liar_paradox
 * human_readable: The Liar Paradox (Self-Referential Inconsistency)
 * domain: analytical/logic
 * temporal_scope: Permanent (Historical to Civilizational)
 * spatial_scope: Universal (Information Systems)
 * * SUMMARY:
 * The constraint emerges from the sentence "This statement is false." If true, it is 
 * false; if false, it is true. This creates a logical "no-go zone" or a structural 
 * limit on formal systems that allow self-reference without hierarchies.
 * * KEY AGENTS:
 * - The Logician: Seeking a consistent, "all-true" foundation for reality.
 * - The Natural Language Speaker: Encountering the "glitch" as a curiosity or error.
 * - The Formal System (e.g., Peano Arithmetic): Subject to Goedel's incompleteness.
 * * NARRATIVE ARC:
 * The paradox functions as an immovable boundary in logic. Attempts to "break" it 
 * lead to the development of higher-order logics (Tarski's hierarchy) or the 
 * acceptance of incompleteness.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(liar_paradox_interval, 0, 10).
narrative_ontology:constraint_claim(liar_paradox, mountain).

% Base extractiveness: 0.1 (Low)
% Rationale: The paradox doesn't "steal" value, but it does consume cognitive 
% processing time and stalls automated theorem provers.
domain_priors:base_extractiveness(liar_paradox, 0.1).

% Suppression score: 0.2 (Low)
% Rationale: Alternatives (like paraconsistent logic) are widely known but 
% the paradox itself is impossible to "suppress" out of existence; it is a feature 
% of any sufficiently expressive system.
domain_priors:suppression_score(liar_paradox, 0.2).

% Enforcement requirements: Emerges naturally from the structure of language/logic.
domain_priors:emerges_naturally(liar_paradox).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(liar_paradox, extractiveness, 0.1).
narrative_ontology:constraint_metric(liar_paradox, suppression_requirement, 0.2).

% Beneficiaries: Meta-mathematicians (provides a career/domain of study).
constraint_beneficiary(liar_paradox, analytical_observers).

% Victims: Consistentists (those who require a single, universal, non-contradictory foundation).
constraint_victim(liar_paradox, institutional_logicians).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE LOGICIAN (Institutional) - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: Institutional/Analytical power.
   WHEN: Civilizational (the laws of logic are seen as eternal).
   WHERE: Trapped (cannot simply "ignore" the law of non-contradiction).
   
   WHY THIS CLASSIFICATION:
   For the institutional logician, the paradox is a Mountain. It is an unchangeable 
   feature of the landscape of truth. You cannot "legislative" it away; you can 
   only build around it or map its peaks.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    liar_paradox,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE NATURAL SPEAKER (Individual Powerless) - ROPE
   --------------------------------------------------------------------------
   WHO: Individual powerless (subject to the "rules" of grammar).
   WHEN: Immediate/Biographical.
   WHERE: Mobile (can simply stop saying the sentence).
   
   WHY THIS CLASSIFICATION:
   To a normal person, the paradox is a Rope. It is a coordination mechanism 
   of language that occasionally gets tangled. It is useful for understanding 
   limits but doesn't stop them from speaking. They can "exit" the paradox 
   by choosing different words.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    liar_paradox,
    rope,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE REBEL LOGICIAN / DIALETHEIST - NOOSE
   --------------------------------------------------------------------------
   WHO: Analytical/Individual Moderate.
   WHEN: Historical.
   WHERE: Constrained (by the refusal of others to accept contradictions).
   
   WHY THIS CLASSIFICATION:
   For one seeking a truly unified theory that includes self-reference, the 
   Paradox acts as a Noose. It is used by the "Institutional Logicians" to 
   strangle alternative logics (like Dialetheism) by claiming they are "nonsensical" 
   or "extractive" of truth value.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    liar_paradox,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(liar_paradox_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(liar_paradox, Type1, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(liar_paradox, Type2, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(liar_paradox, Type3, context(agent_power(analytical), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(immutability_scaling) :-
    % Institutional view sees it as eternal/unchangeable (Mountain)
    constraint_indexing:constraint_classification(liar_paradox, mountain, context(agent_power(institutional), civilizational, trapped, _)).

test(exit_option_shift) :-
    % If you have exit options (can ignore the logic), it's just a Rope.
    constraint_indexing:constraint_classification(liar_paradox, rope, context(_, _, mobile, _)).

:- end_tests(liar_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.1): Low, because a paradox doesn't "own" anything, 
 * though it extracts "compute" and "certainty."
 * 2. PERSPECTIVES: Chose Institutional (Logic as Law), Individual (Logic as Tool), 
 * and Analytical (Logic as Conflict).
 * 3. NOOSE ARGUMENT: Usually Nooses involve coercion. Here, the "coercion" 
 * is the social and academic exclusion of those who suggest logic can 
 * be contradictory (Dialetheism).
 * * CONFIDENCE: High on the classification variance; Medium on the "Noose" 
 * categorization for the rebel logician.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    is_logic_natural,
    "Is logic a natural law (Mountain) or a human-encoded coordination system (Rope)?",
    resolution_mechanism("Discovery of non-human intelligence with fundamentally different cognitive processing"),
    impact("If Mountain: The Liar is a physical limit. If Rope: The Liar is a bug in our specific code."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Tarski's Truth Hierarchy
 * Viability: High (Standard in formal semantics).
 * Suppression: Moderate (Makes language cumbersome).
 * * ALTERNATIVE 2: Dialetheism (True Contradictions)
 * Viability: Low-Moderate (Graham Priest).
 * Suppression: High (Rejected by mainstream mathematics/science).
 * * CONCLUSION: 
 * The existence of Dialetheism shifts the Liar from a "natural law" (Mountain) 
 * to a "Noose" for those who want to use it to invalidate non-classical systems.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_liar_paradox].
 * 2. Run tests: ?- run_tests(liar_paradox_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: lindy_effect
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Nassim Taleb / Benoit Mandelbrot / Intellectual History
% ============================================================================

:- module(constraint_lindy_effect, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: lindy_effect
 * human_readable: The Lindy Effect
 * domain: social/intellectual/technological
 * temporal_scope: Historical to Civilizational
 * spatial_scope: Global
 * * SUMMARY:
 * The Lindy Effect is a theorized phenomenon where the future life expectancy of 
 * non-perishable things (ideas, books, technologies) is proportional to their 
 * current age. In its simplest form, every additional day of survival implies 
 * a longer remaining life.
 * * KEY AGENTS:
 * - The Traditionalist: Uses time as a filter for quality and truth.
 * - The Innovator: Struggles against the "survivorship bias" of established ideas.
 * - The Statistician: Observes the power-law distribution of intellectual survival.
 * * NARRATIVE ARC:
 * The effect functions as a structural bias in information systems. It provides 
 * a "Rope" for identifying enduring value but acts as a "Mountain" for new 
 * entrants who lack the "temporal capital" to be taken seriously by the system.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(lindy_interval, 0, 10).
narrative_ontology:constraint_claim(lindy_effect, mountain).

% Base extractiveness: 0.2 (Low)
% Rationale: The effect doesn't actively steal value, but it does "extract" 
% attention from the new and gift it to the old based solely on age.
domain_priors:base_extractiveness(lindy_effect, 0.2).

% Suppression score: 0.5 (Moderate)
% Rationale: The "Time-Tested" narrative actively suppresses new ideas by 
% labeling them "fragile" or "unproven".
domain_priors:suppression_score(lindy_effect, 0.5).

% Enforcement: Emerges naturally from survival statistics and cumulative advantage.
domain_priors:emerges_naturally(lindy_effect).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(lindy_effect, extractiveness, 0.2).
narrative_ontology:constraint_metric(lindy_effect, suppression_requirement, 0.5).

% Beneficiaries: Classics, established religions, and long-standing technologies.
constraint_beneficiary(lindy_effect, established_institutions).

% Victims: Novel ideas, startups, and new artistic movements.
constraint_victim(lindy_effect, disruptive_innovators).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ANALYTICAL STATISTICIAN - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The observer of systemic patterns).
   WHEN: civilizational (Viewing the long-term horizon of ideas).
   WHERE: trapped (The mathematics of power laws are invariant).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   For the statistician, the Lindy Effect is a Mountain. It is an unchangeable 
   feature of non-perishable systems. In a world of information, "ageing" 
   works in reverse; this is a mathematical reality that cannot be legislated 
   away or ignored.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lindy_effect,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PRAGMATIC INVESTOR - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (A decision-maker seeking stability).
   WHEN: biographical (Achieving success within a single lifetime).
   WHERE: mobile (Can choose to follow Lindy or gamble on the new).
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For the investor, the Lindy Effect is a Rope. It is a coordination 
   mechanism that allows them to distinguish "signal" from "noise." By 
   prioritizing things that have already survived for 50 years, they use 
   the constraint as a tether to reality and enduring value.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lindy_effect,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DISRUPTIVE STARTUP - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A new entrant with zero temporal capital).
   WHEN: immediate (Needs to survive the next 12 months).
   WHERE: constrained (Must compete against "proven" incumbents).
   SCOPE: local.
   
   WHY THIS CLASSIFICATION:
   For a new innovator, the Lindy Effect is a Noose. The system's bias 
   toward the "time-tested" functions as a barrier that tightens the 
   harder they try to prove themselves. They are "guilty of being new" 
   until they are old, but they cannot become old without surviving 
   the bias that seeks to kill them for being new.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lindy_effect,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(lindy_effect_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(lindy_effect, Type1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(lindy_effect, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(lindy_effect, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(time_horizon_scaling) :-
    % Civilizational horizon views it as a fixed law (Mountain)
    constraint_indexing:constraint_classification(lindy_effect, mountain, context(_, civilizational, _, _)).

test(extraction_logic) :-
    % Verify extraction is considered low but present
    domain_priors:base_extractiveness(lindy_effect, E),
    E < 0.3.

:- end_tests(lindy_effect_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVAL VARIANCE: I chose to highlight how "Age" acts as a filter. 
 * What is a "validating tool" (Rope) for a scholar is a "death sentence" (Noose) 
 * for a new startup that cannot survive long enough to reach the "Lindy" zone.
 * 2. EXTRACTIVENESS: Kept at 0.2. The Lindy Effect doesn't "steal" as much 
 * as it "weights." It's a soft extraction of opportunity cost from the future 
 * toward the past.
 * 3. NOOSE ARGUMENT: The "Noose" for innovators is specifically the 
 * impossibility of acquiring age without first surviving the disadvantage 
 * of being new.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    digital_acceleration_impact,
    "Does the speed of digital iteration (e.g., AI) break the Lindy 
    Effect or simply create a 'Compressed Lindy' cycle?",
    resolution_mechanism("Longitudinal study of software survival vs. 
    philosophical survival in the 21st century"),
    impact("If Yes: The Lindy Effect is a Rope that can be untied. If No: It 
    is a Mountain that just scales with speed."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Meritocratic "Neophilia" (Silicon Valley model)
 * Viability: Moderate. Seeks to judge things solely on current utility.
 * Suppression: Moderate. Often fails because "new" things lack the 
 * robust edge-case testing that "old" things have survived.
 * * ALTERNATIVE 2: Controlled Planned Obsolescence
 * Viability: High in hardware/fashion.
 * * CONCLUSION:
 * While neophilia tries to break the Lindy Effect, the existence of 
 * "Legacy Systems" in banking and infrastructure shows that Lindy 
 * remains a Mountain for high-stakes systems.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_lindy_effect].
 * 2. Report: ?- multi_index_report(lindy_effect).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: lln_convergence
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Law of Large Numbers (Jakob Bernoulli, 1713)
% ============================================================================

:- module(constraint_lln, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: lln_convergence
 * human_readable: Law of Large Numbers (LLN)
 * domain: mathematical/probabilistic
 * temporal_scope: 1713 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Independent trials)
 * * SUMMARY:
 * The Law of Large Numbers (LLN) is a theorem that describes the result of 
 * performing the same experiment a large number of times. It states that the 
 * average of the results obtained from a large number of trials should be 
 * close to the expected value, and will tend to become closer as more trials 
 * are performed.
 * * KEY AGENTS:
 * - The Individual Trial: The powerless subject whose variance is eventually 
 * smoothed away by the aggregate.
 * - The Casino / Insurance Firm (Institutional): An agent who uses the LLN 
 * as a "Rope" to ensure predictable profitability across millions of events.
 * - The Gambler (Victim): An agent with finite capital for whom the LLN 
 * acts as a "Noose" (Gambler's Ruin), ensuring they go broke before reaching 
 * the "long run" equilibrium.
 * * NARRATIVE ARC:
 * LLN is the "Mountain" of equilibrium—it is the inescapable gravity of 
 * probability. For the institutional architect, it is the "Rope" of 
 * coordination that turns randomness into business. However, for the 
 * individual with finite resources, the "Long Run" is a "Noose" because 
 * "in the long run, we are all dead" (Keynes).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(lln_era, 1713, 2026).
narrative_ontology:constraint_claim(lln_convergence, mountain).

% Base extractiveness: 0.25
% Rationale: Moderate. While a mathematical truth, the LLN "extracts" 
% capital from those who bet against the mean (Casinos) and "extracts" 
% the relevance of the individual event for the sake of the average.
domain_priors:base_extractiveness(lln_convergence, 0.25).

% Suppression score: 0.2
% Rationale: It suppresses the visibility of short-term variance in favor 
% of long-term stability.
domain_priors:suppression_score(lln_convergence, 0.2).

% Enforcement: Emerges naturally from the axioms of probability.
domain_priors:emerges_naturally(lln_convergence).

% Metrics
narrative_ontology:constraint_metric(lln_convergence, extractiveness, 0.25).
narrative_ontology:constraint_metric(lln_convergence, suppression_requirement, 0.2).

% Beneficiaries & Victims
constraint_beneficiary(lln_convergence, insurance_industry).
constraint_beneficiary(lln_convergence, casino_operators).
constraint_victim(lln_convergence, gamblers_with_finite_capital).
constraint_victim(lln_convergence, short_term_variance_analysts).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SINGLE COIN FLIP - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The single trial has no agency over the total mean.
   WHEN: immediate - True at the moment of aggregation.
   WHERE: trapped - Bound within the laws of large-scale numbers.
   SCOPE: local - Immediate neighborhood of the specific trial.
   
   WHY THIS CLASSIFICATION:
   For the individual trial, the LLN is a natural law. It cannot "choose" to 
   skew the average of a billion flips; it is an insignificant, powerless 
   component of an inevitable convergence.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    lln_convergence,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ACTUARY - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to price risk based on the aggregate.
   WHEN: biographical - Planning the multi-decade stability of a fund.
   WHERE: mobile - Can choose different sample pools to tune convergence.
   SCOPE: global - Applying the law to millions of policyholders.
   
   WHY THIS CLASSIFICATION:
   For the institution, LLN is a "Rope"—a functional coordination tool. 
   It allows the conversion of individual chaos into institutional order, 
   providing a "standard of achievement" for fiscal stability.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    lln_convergence,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE FINITE-CAPITAL GAMBLER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Trapped by the "Law of Small Numbers" fallacy.
   WHEN: immediate - Running out of capital before the mean is reached.
   WHERE: constrained - The agent is bound by the specific limits of their wallet.
   SCOPE: local - A specific table or session.
   
   WHY THIS CLASSIFICATION:
   When capital is finite, the "guarantee" of convergence is a "Noose." 
   The agent is "strangled" by the variance (the path to the mean) before the 
   equilibrium (the mean itself) can save them. This is the extractive 
   reality of Gambler's Ruin.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lln_convergence,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(lln_convergence, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(lln_convergence_tests).

test(aggregation_fate_variance) :-
    % Trial -> Mountain
    constraint_indexing:constraint_classification(lln_convergence, Type1, context(individual_powerless, immediate, trapped, local)),
    % Institution -> Rope
    constraint_indexing:constraint_classification(lln_convergence, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(gamblers_ruin_penalty) :-
    % A powerless agent with constrained options (finite capital) sees the law as a Noose.
    constraint_indexing:constraint_classification(lln_convergence, noose, context(individual_powerless, immediate, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(lln_convergence).

:- end_tests(lln_convergence_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SHIFT: The core insight is that the "Law" is a gift to the 
 * infinite (or the large institution) but a trap (Noose) for the finite 
 * individual who cannot survive the variance.
 * 2. EXTRACTIVENESS (0.25): High enough to trigger the beneficiary/victim 
 * logic, reflecting that the LLN is the engine of extractive industries like 
 * commercial gambling.
 * 3. IMAGES: Triggered diagrams for convergence plots and dice simulations to 
 * clarify the transition from variance to stability.
 */

% OMEGA IDENTIFICATION
omega_variable(
    path_dependency,
    "Can the 'Noose' of the gambler be avoided if the 'Rope' of the mean 
    is visible in real-time?",
    resolution_mechanism("Experimental trial of gambling behavior with vs without live-mean visualizations."),
    impact("If Yes: The Noose becomes a Rope. If No: It is a permanent Mountain of biological limitation."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: The "Law of Small Numbers" (Fallacy)
 * Viability: Psychologically dominant in human brains.
 * Suppression: Suppressed by formal education and scientific method.
 * Evidence: Common in "Gambler's Fallacy" where players expect a "win" 
 * after a "loss."
 * * ALTERNATIVE 2: Cauchy Distributions (Infinite Variance)
 * Viability: The LLN does not apply here; the mean never stabilizes.
 * Suppression: Functionally "invisible" in standard business models that 
 * assume finite variance.
 * * CONCLUSION:
 * The institutional dominance of the LLN "Rope" effectively suppresses 
 * awareness of Alternative 2 (Fat Tails), leading to systemic "Black Swan" 
 * events when the Mountain collapses.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [lln_convergence].
% Analyze: ?- constraint_indexing:multi_index_report(lln_convergence).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: lobs_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Martin Hugo Löb (1955) / Provability Logic
% ============================================================================

:- module(constraint_lobs_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: lobs_theorem
 * human_readable: Löb's Theorem
 * domain: technological
 * temporal_scope: Permanent (Universal Mathematical Law)
 * spatial_scope: Global (Formal Information Systems)
 * * SUMMARY:
 * Löb's Theorem states that for any proposition P, if a system can prove that 
 * "the provability of P implies P," then the system must already be able to 
 * prove P itself. It serves as a fundamental limit on a system's ability to 
 * "trust" its own soundness without becoming trivial.
 * * KEY AGENTS:
 * - The Logician: An observer analyzing the recursive limits of provability.
 * - The AI/Formal System: An agent attempting recursive self-improvement or 
 * meta-reflection on its own code.
 * - The Foundationalist: A subject seeking to ground a system's truth in a 
 * "reflection principle" that says "everything I prove is true."
 * * NARRATIVE ARC:
 * The theorem acts as a "Mountain" of recursive reality, preventing a system 
 * from gaining "unearned trust" in its own outputs. For an AI, it is a 
 * "Rope" for designing stable reflection, but for a human seeking to prove 
 * a system's absolute soundness from within, it is a "Noose" that collapses 
 * into circularity.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural anchor
narrative_ontology:interval(lobs_theorem_interval, 0, 10).
narrative_ontology:constraint_claim(lobs_theorem, mountain).

% Base extractiveness: 0.3 (Moderate)
% Rationale: It extracts "semantic depth." It forces a system to either 
% lack self-trust or prove the specific truth, preventing the "extraction" 
% of truth status through mere meta-assertion.
domain_priors:base_extractiveness(lobs_theorem, 0.3).

% Suppression: 0.5 (Moderate)
% Rationale: Naive "Reflection Principles" (the idea that one can simply 
% assume a system is sound) are suppressed by the inevitable emergence 
% of contradictions if self-reference is allowed.
domain_priors:suppression_score(lobs_theorem, 0.5).

% Enforcement: Emerges naturally from the structure of Peano Arithmetic and 
% diagonal arguments.
domain_priors:emerges_naturally(lobs_theorem).

% BENEFICIARIES & VICTIMS
% Beneficiary: Consistent systems (protects them from triviality).
constraint_beneficiary(lobs_theorem, stable_logical_architectures).
% Victim: Recursive optimists (who hope for internal proofs of soundness).
constraint_victim(lobs_theorem, foundationalist_philosophers).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(lobs_theorem, extractiveness, 0.3).
narrative_ontology:constraint_metric(lobs_theorem, suppression_requirement, 0.5).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ANALYTICAL LOGICIAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal informational laws.
   WHEN: civilizational - Viewing logic as a permanent substrate.
   WHERE: trapped - Logic cannot bypass the diagonal lemma.
   SCOPE: global - Applies to all sufficiently powerful systems.
   
   WHY THIS CLASSIFICATION:
   To the analytical observer, the theorem is a Mountain. It is an 
   unchangeable feature of the mathematical landscape. No amount of 
   "better programming" or "new axioms" can remove the recursive wall 
   that Löb identified.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lobs_theorem,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE REFLECTIVE AI SYSTEM - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power over its own internal logic.
   WHEN: biographical - Operating within a single "run" or development life.
   WHERE: arbitrage - Can move between different levels of the meta-hierarchy.
   SCOPE: national - Specific to its own internal software ecosystem.
   
   WHY THIS CLASSIFICATION:
   For a system designed for self-reflection, the theorem is a Rope. It is 
   a coordination tool that allows the system to remain stable. By 
   understanding that it cannot prove its own soundness without proving 
   specific truths, it uses the theorem as a tether to keep its 
   self-model grounded in provable reality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lobs_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE FOUNDATIONALIST SUBJECT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the limits of their own reasoning.
   WHEN: immediate - The current attempt to ground a system's truth.
   WHERE: trapped - Limited by the syntax of the system they inhabit.
   SCOPE: local - Immediate cognitive frame.
   
   WHY THIS CLASSIFICATION:
   For the subject seeking to prove "Everything I say is true" within their 
   own language, the theorem is a Noose. The harder they try to ground 
   the general truth of their statements, the tighter the paradox pulls, 
   forcing them to either remain silent on their own soundness or collapse 
   into proving every possible absurdity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lobs_theorem,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(lobs_theorem_tests).

test(multi_perspective_variance) :-
    % Perspective 1: Analyst sees Mountain
    constraint_indexing:constraint_classification(lobs_theorem, mountain, context(agent_power(analytical), _, _, _)),
    % Perspective 2: Institutional sees Rope
    constraint_indexing:constraint_classification(lobs_theorem, rope, context(agent_power(institutional), _, _, _)),
    % Perspective 3: Powerless sees Noose
    constraint_indexing:constraint_classification(lobs_theorem, noose, context(agent_power(individual_powerless), _, _, _)).

test(power_extractiveness_reflection) :-
    % Powerless subjects feel the loss of foundational certainty (Noose)
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    % Institutional systems manage the recursion as a design constraint (Rope)
    ContextInstitutional = context(institutional, biographical, arbitrage, national),
    domain_priors:base_extractiveness(lobs_theorem, E),
    E > 0.1.

test(time_immutability_scale) :-
    % Civilizational view treats logical invariants as Mountains
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(lobs_theorem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.3):
 * Reasoning: Löb's theorem prevents the "free" assumption of soundness. 
 * It extracts the luxury of simple self-trust.
 * * 2. SUPPRESSION SCORE (0.5):
 * Reasoning: It suppresses naive reflection principles (e.g., "if Provable(P) 
 * then P"). These principles are invisible to consistent systems 
 * because they lead to triviality.
 * * 3. PERSPECTIVE SELECTION:
 * The Analyst sees the Law (Mountain). The System sees the Design 
 * Constraint (Rope). The Foundationalist sees the Trap (Noose).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Omega declaration
omega_variable(
    natural_language_soundness,
    "Can human natural language avoid Löb's trap by virtue of its 
    non-formal or 'fuzzy' semantics?",
    resolution_mechanism("Formalization of natural language semantics to check for diagonalizability"),
    impact("If Yes: Human reasoning is a Rope. If No: Human reasoning is 
    subject to the same Noose as formal logic."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Non-well-founded sets / Non-standard Logics
 * Viability: High in niche research. Some logics allow "circular" 
 * truth without triviality.
 * Suppression: High. These systems are ignored in "standard" 
 * foundations because they lack the intuitive power of PA.
 * * CONCLUSION:
 * The existence of niche alternatives makes the "Mountain" of Löb's 
 * Theorem a specific choice of the classical logician, and thus a 
 * "Noose" for those trapped in classical paradigms.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_lobs_theorem].
 * 2. Multi-perspective: ?- multi_index_report(lobs_theorem).
 * 3. Run tests: ?- run_tests(lobs_theorem_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: local_vs_global_optima
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Optimization Theory / Genetic Algorithms / Calculus
% ============================================================================

:- module(constraint_optimization_landscapes, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: local_vs_global_optima
 * human_readable: Local vs. Global Optima (The Peak Trap)
 * domain: mathematical/technological/biological
 * temporal_scope: Immediate to Civilizational
 * spatial_scope: Global
 * * SUMMARY:
 * A "Local Optimum" is a solution that is better than all nearby solutions 
 * but inferior to the "Global Optimum"—the best possible solution across 
 * the entire system.
 * * KEY AGENTS:
 * - The Hill-Climber: An agent that always moves toward immediate improvement.
 * - The Explorer: An agent that occasionally moves "downhill" to find 
 * a different, potentially higher mountain.
 * - The Landscape: The mathematical reality defining the peaks and valleys.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(local_vs_global_optima, 0, 10).
narrative_ontology:constraint_claim(local_vs_global_optima, mountain).

% Base extractiveness score (0.3)
% Sub-optimality extracts potential value from the system; being stuck at 
% a local peak is a "tax" on efficiency.
domain_priors:base_extractiveness(local_vs_global_optima, 0.3).

% Suppression score (0.5)
% Local peaks often suppress the visibility of the global peak; 
% if you are on a "high enough" hill, you may not even look for the mountain.
domain_priors:suppression_score(local_vs_global_optima, 0.5).

domain_priors:emerges_naturally(local_vs_global_optima).

% Metrics
narrative_ontology:constraint_metric(local_vs_global_optima, extractiveness, 0.3).
narrative_ontology:constraint_metric(local_vs_global_optima, suppression_requirement, 0.5).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE HILL-CLIMBER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (limited by local perception)
   WHEN: immediate
   WHERE: trapped (at the local peak)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For an agent that can only see immediate improvements (like a simple 
   algorithm or a short-sighted manager), the local optimum is a "Noose." 
   They have reached a point where any single step in any direction makes 
   things worse, so they stop. They are "strangled" by their own success.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    local_vs_global_optima,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ANNEALER - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile (willing to accept short-term loss)
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For an agent that understands the landscape (using heuristics like 
   Simulated Annealing), the local optimum is just a "Rope" to be tested. 
   They are willing to climb down into the valley to find a higher peak, 
   using the local data to coordinate their next jump.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    local_vs_global_optima,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(regional))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MATHEMATICIAN - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the mathematician, the existence of local vs global optima is a 
   "Mountain"—an immutable law of non-convex optimization. It is 
   simply how the universe is shaped.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    local_vs_global_optima,
    mountain,
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))
) :- !.

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: logistic_map_dynamics
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Robert May (1976) / Logistic Map / Population Biology
% ============================================================================

:- module(constraint_logistic_map, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: logistic_map_dynamics
 * human_readable: The Logistic Map (Bifurcation and Chaos)
 * domain: mathematical/technological/biological
 * temporal_scope: 1976 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Population constraints)
 * * SUMMARY:
 * The Logistic Map ($x_{n+1} = r x_n (1 - x_n)$) is a polynomial mapping that 
 * demonstrates how complex, chaotic behavior can arise from very simple 
 * non-linear dynamical equations. It serves as a fundamental constraint on 
 * the predictability of systems with limited resources and feedback.
 * * KEY AGENTS:
 * - The Population Iterate ($x_n$): The powerless subject whose "density" is 
 * dictated by the fixed parameter $r$.
 * - The Population Biologist (Institutional): An agent who uses the map as a 
 * "Rope" for coordination to prevent ecosystem collapse.
 * - The Chaos Theorist (Analytical): The observer who maps the "Mountain" of 
 * the bifurcation diagram.
 * * NARRATIVE ARC:
 * For a population in a stable environment ($r < 3$), the map is a "Mountain" 
 * of natural law leading to equilibrium. In management, it is a "Rope" for 
 * predicting sustainable yields. However, as $r$ enters the chaotic regime 
 * ($r > 3.57$), the "Mountain" becomes a "Noose," extracting all predictive 
 * certainty and "strangling" the observer with sensitive dependence on 
 * initial conditions.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(logistic_map_era, 1976, 2026).
narrative_ontology:constraint_claim(logistic_map_dynamics, mountain).

% Base extractiveness: 0.35
% Rationale: Moderate. Chaos "extracts" information (precision) and returns 
% entropy. To maintain functional control at high $r$, massive re-investment 
% in computational precision is required.
domain_priors:base_extractiveness(logistic_map_dynamics, 0.35).

% Suppression score: 0.4
% Rationale: It suppresses the visibility of simple linear growth models 
% (Malthusian), rendering them functionally fraudulent in resource-limited 
% environments.
domain_priors:suppression_score(logistic_map_dynamics, 0.4).

% Enforcement: Emerges naturally from non-linear feedback and resource limits.
domain_priors:emerges_naturally(logistic_map_dynamics).

% Metrics
narrative_ontology:constraint_metric(logistic_map_dynamics, extractiveness, 0.35).
narrative_ontology:constraint_metric(logistic_map_dynamics, suppression_requirement, 0.4).

% Beneficiaries & Victims (Required for E > 0.3)
constraint_beneficiary(logistic_map_dynamics, nonlinear_analysts). % Gain insights into complexity.
constraint_beneficiary(logistic_map_dynamics, cryptography_designers). % PRNGs using chaos.
constraint_victim(logistic_map_dynamics, long_term_planners). % Certainty is extracted.
constraint_victim(logistic_map_dynamics, ecological_stability). % Small shocks cause flips.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE POPULATION FRACTION (SUBJECT) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The iterate $x$ has no agency over the update rule.
   WHEN: immediate - True at every single step $n \to n+1$.
   WHERE: trapped - Bound within the interval [0, 1].
   SCOPE: local - Immediate neighborhood of the current value.
   
   WHY THIS CLASSIFICATION:
   For the state variable, the iterative law is an absolute, unyielding 
   Mountain of reality. It cannot "choose" to exceed the carrying capacity 
   or avoid the chaotic attractor once $r$ is set.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    logistic_map_dynamics,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ECOSYSTEM MANAGER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to influence $r$ (e.g., via harvest rates).
   WHEN: biographical - Planning for the multi-year health of a fishery.
   WHERE: mobile - Can adjust parameters to maintain a "Stable" regime ($r < 3$).
   SCOPE: national/regional - Managing a specific environment.
   
   WHY THIS CLASSIFICATION:
   For the manager, the map is a "Rope"—a functional coordination tool. 
   By keeping the system in the non-chaotic region, they coordinate the 
   standard of achievement (sustainable yield) through predictable math.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    logistic_map_dynamics,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CHAOTIC REGIME OBSERVER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Bound by the "Butterfly Effect" of the map.
   WHEN: biographical - Attempting to predict outcomes over a long period.
   WHERE: constrained - Knowing the law but having no path to certainty.
   SCOPE: global - The mathematical limit of all such iterative systems.
   
   WHY THIS CLASSIFICATION:
   In the chaotic region ($r = 3.9$), the map is a "Noose." It "strangles" 
   the ability to plan, extracting enormous resources for data collection 
   that ultimately fails to provide more than a few steps of foresight.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    logistic_map_dynamics,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(logistic_map_dynamics, E),
    E >= 0.3,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(logistic_map_tests).

test(bifurcation_fate_variance) :-
    % Subject -> Mountain
    constraint_indexing:constraint_classification(logistic_map_dynamics, Type1, context(individual_powerless, immediate, trapped, local)),
    % Manager (Short-term/Stable) -> Rope
    constraint_indexing:constraint_classification(logistic_map_dynamics, Type2, context(institutional, biographical, mobile, regional)),
    Type1 = mountain,
    Type2 = rope.

test(chaos_extraction_penalty) :-
    % Long-term observer (Powerless/Constrained) in Chaos sees it as a Noose.
    constraint_indexing:constraint_classification(logistic_map_dynamics, noose, context(individual_powerless, biographical, constrained, global)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(logistic_map_dynamics).

:- end_tests(logistic_map_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.35): 
 * I chose this because the Logistic Map at high $r$ represents a form of 
 * "Geometrical Coercion." The system "takes" your initial precision and 
 * shreds it, making it an extractive mathematical constraint.
 * * 2. SUPPRESSION SCORE (0.4): 
 * It effectively suppressed the "simple growth" narratives of the early 
 * 20th century by proving that complexity is the default, not the exception.
 * * 3. PERSPECTIVES:
 * Chose the "Iterate" (Passive Subject), "Manager" (Institutional User), 
 * and "Chaotic Observer" (Victim of Entropy) to show how the *same* law 
 * shifts type based on the parameter $r$.
 */

% OMEGA IDENTIFICATION
omega_variable(
    precision_decay_rate,
    "How many iterates $n$ does it take for double-precision floating point to lose all physical meaning at $r=4$?",
    resolution_mechanism("Numerical audit of divergence between $x_n$ and $x_n + \epsilon$ in 64-bit hardware."),
    impact("If $n < 50$: The 'Mountain' is a 'Noose' for all digital simulation. If $n > 500$: It is a Rope."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Malthusian Growth ($x_{n+1} = rx_n$)
 * Viability: Historically the standard for 100 years.
 * Suppression: Rejected by the Logistic Map because it ignores the 
 * "Mountain" of limited resources (the $1-x$ term).
 * * ALTERNATIVE 2: Continuous-time Models (Logistic Differential Equation)
 * Viability: Smooth, predictable, no chaos in 1D.
 * Suppression: Chaos theory shows that discrete-time events (like seasons 
 * or distinct generations) are the true "Rope" for complex biology.
 * * CONCLUSION:
 * The shift from continuous to discrete modeling turned a "Stable Rope" into 
 * a "Chaotic Mountain/Noose."
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [logistic_map_dynamics].
% Analyze: ?- constraint_indexing:multi_index_report(logistic_map_dynamics).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: lorenz_attractor_dynamics
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Edward Lorenz (1963) / Chaos Theory / Deterministic Nonperiodic Flow
% ============================================================================

:- module(constraint_lorenz_attractor, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: lorenz_attractor_dynamics
 * human_readable: Lorenz Attractor (Deterministic Chaos)
 * domain: mathematical/technological/physical
 * temporal_scope: 1963 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Phase Space)
 * * SUMMARY:
 * The Lorenz system is a set of ordinary differential equations describing 
 * atmospheric convection. It famously demonstrated "Deterministic Chaos," where 
 * simple, non-linear rules lead to complex, non-repeating, and sensitive 
 * trajectories. It established the "Butterfly Effect" as a fundamental limit 
 * on long-term prediction.
 * * KEY AGENTS:
 * - The Trajectory (Subject): The powerless agent following the vector field, 
 * trapped in a "strange" butterfly-shaped manifold.
 * - The Meteorologist (Institutional): An agent attempting to use the 
 * system as a "Rope" for coordination (weather forecasting).
 * - The Predictive Model (Victim): An agent whose accuracy is "strangled" by 
 * infinitesimal initial errors, turning the math into a "Noose."
 * * NARRATIVE ARC:
 * The Lorenz equations are a "Mountain" of physical reality—the rules are 
 * simple and unchangeable. In the short term, they provide a "Rope" for 
 * flight planning and logistics. However, as time $t$ increases, the 
 * sensitivity to initial conditions acts as a "Noose," extracting the 
 * possibility of certainty and propping up a "Scaffold" of probability 
 * instead of fact.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(lorenz_era, 1963, 2026).
narrative_ontology:constraint_claim(lorenz_attractor_dynamics, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.4). Chaos "extracts" certainty and predictability 
% from observers, demanding massive computational re-investment (Ensembles) 
% to maintain even minimal functional coordination.
domain_priors:base_extractiveness(lorenz_attractor_dynamics, 0.4).

% Suppression score (0.0-1.0)
% Rationale: Moderate (0.5). It suppresses the visibility of long-term 
% linear causality, rendering "simple" prediction models functionally 
% invisible or fraudulent.
domain_priors:suppression_score(lorenz_attractor_dynamics, 0.5).

% Enforcement: Emerges naturally from the non-linear coupling of variables.
domain_priors:emerges_naturally(lorenz_attractor_dynamics).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(lorenz_attractor_dynamics, extractiveness, 0.4).
narrative_ontology:constraint_metric(lorenz_attractor_dynamics, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(lorenz_attractor_dynamics, ensemble_forecasting). % Profits from uncertainty management.
constraint_beneficiary(lorenz_attractor_dynamics, complexity_science).
constraint_victim(lorenz_attractor_dynamics, long_term_determinism). % The "death" of Laplace's Demon.
constraint_victim(lorenz_attractor_dynamics, linear_extrapolation).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MATHEMATICAL POINT - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The coordinate (x,y,z) cannot deviate from $\dot{x}, \dot{y}, \dot{z}$.
   WHEN: immediate - The vector field is local and instantaneous.
   WHERE: trapped - Bound within the geometric bounds of the attractor.
   SCOPE: local - Immediate neighborhood in phase space.
   
   WHY THIS CLASSIFICATION:
   For the state variable, the Lorenz equations are an unyielding law. 
   The "Butterfly" is not a choice; it is a fixed, non-negotiable 
   attractor of its existence.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    lorenz_attractor_dynamics,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE AVIATION DISPATCHER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to coordinate global flight paths using forecasts.
   WHEN: biographical - Planning routes for the next 24-48 hours.
   WHERE: mobile - Can adjust paths or delay flights based on the data.
   SCOPE: national - Managing airspace.
   
   WHY THIS CLASSIFICATION:
   In the short term (within the Lyapunov time), the Lorenz system is a "Rope." 
   It provides a functional coordination mechanism that allows for safe, 
   efficient transit through a complex atmosphere.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lorenz_attractor_dynamics,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE POLICY PLANNER (10-YEAR) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Bound by the "Butterfly Effect" limits of math.
   WHEN: civilizational - Trying to predict long-term climate/social shifts.
   WHERE: constrained - No alternative but to rely on increasingly noisy data.
   SCOPE: global - Global environmental/economic planning.
   
   WHY THIS CLASSIFICATION:
   For the long-term planner, chaos is a "Noose." It "strangles" their 
   ability to provide certain outcomes, extracting enormous political and 
   social capital to fund "scenarios" that can never be fully verified.
   
   NARRATIVE EVIDENCE:
   "Prediction of the sufficiently distant future is impossible by any method, 
   unless the present conditions are known with perfect accuracy." (Lorenz, 1963)
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    lorenz_attractor_dynamics,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(lorenz_attractor_dynamics, E),
    E >= 0.4,
    !.

/* ==========================================================================
   4. TESTS (Insights into Deterministic Chaos)
   ========================================================================== */

:- begin_tests(lorenz_attractor_tests).

test(lyapunov_time_variance) :-
    % Short term (immediate) -> Mountain/Rope
    constraint_indexing:constraint_classification(lorenz_attractor_dynamics, Type1, context(individual_powerless, immediate, trapped, local)),
    % Long term (civilizational) -> Noose
    constraint_indexing:constraint_classification(lorenz_attractor_dynamics, Type2, context(individual_powerless, civilizational, constrained, global)),
    Type1 = mountain,
    Type2 = noose.

test(extraction_of_certainty) :-
    % The "powerless" long-term observer suffers high extraction of predictive value.
    Context = context(individual_powerless, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(lorenz_attractor_dynamics, Context, Score),
    Score > 0.5.

test(natural_emergence) :-
    domain_priors:emerges_naturally(lorenz_attractor_dynamics).

:- end_tests(lorenz_attractor_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.4): 
 * I chose this because Chaos is a "predatory" mathematical state—it takes 
 * information (initial precision) and returns heat/noise.
 * * 2. SUPPRESSION SCORE (0.5): 
 * Chaos theory suppressed the 19th-century "Clockwork Universe" (Laplace). 
 * It rendered the linear-determinist alternative invisible to serious science.
 * * 3. PERSPECTIVE SELECTION:
 * Chose the "Mathematical Point" (Subject), "Aviation Dispatcher" (Short-term 
 * User), and "Long-term Planner" (Victim) to illustrate the Lyapunov horizon.
 */

% OMEGA IDENTIFICATION
omega_variable(
    shadowing_lemma_validity,
    "Do 'shadow' trajectories exist that make numerical simulations a reliable Rope despite Chaos?",
    resolution_mechanism("Numerical verification of hyperbolic vs non-hyperbolic regions in the Lorenz attractor."),
    impact("If Yes: The Noose is a 'Scaffold' (fake fear). If No: The Noose is a true Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Laplace's Demon (Perfect Determinism)
 * Viability: The belief that better measurement would solve all chaos.
 * Suppression: Explicitly rejected by Lorenz; precision is an infinite 
 * "extraction" that can never be fulfilled.
 * * ALTERNATIVE 2: Purely Stochastic Modeling
 * Viability: Treating the weather as a random walk.
 * Suppression: Rejected because it ignores the "Rope" of deterministic 
 * physics that *does* allow for short-term coordination.
 * * CONCLUSION:
 * The presence of short-term "Rope" utility (Alternative 2 rejection) 
 * while facing long-term "Noose" limits (Alternative 1 rejection) defines 
 * the Lorenz constraint.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [lorenz_attractor_dynamics].
% Analyze: ?- constraint_indexing:multi_index_report(lorenz_attractor_dynamics).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: lowenheim_skolem_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Löwenheim (1915), Skolem (1920) / Model Theory
% ============================================================================

:- module(constraint_lowenheim_skolem_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: lowenheim_skolem_theorem
 * human_readable: Löwenheim-Skolem Theorem
 * domain: technological
 * temporal_scope: Permanent (Universal Law of Logic)
 * spatial_scope: Global (Formal Systems)
 * * SUMMARY:
 * The Löwenheim-Skolem theorem states that if a first-order theory has an infinite 
 * model, it has models of every infinite cardinality. This implies that first-order 
 * logic cannot "pin down" the size of an infinite structure; an uncountable 
 * theory like ZFC can be satisfied by a countable model (Skolem's Paradox).
 * * KEY AGENTS:
 * - The Analytical Observer: Viewing the inherent limits of formal languages.
 * - The Foundational Platonist: Seeking a unique, absolute "intended" model of mathematics.
 * - The Model Theorist: Using the relativity of models as a tool for mathematical construction.
 * * NARRATIVE ARC:
 * The theorem acts as a hard ceiling for the expressive power of first-order logic. 
 * While it provides a "Rope" for mathematicians to move between different infinite 
 * scales, it creates a foundational "Noose" for those who want their logic to 
 * uniquely describe a single, absolute mathematical reality.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction
narrative_ontology:interval(lowenheim_skolem_interval, 0, 10).
narrative_ontology:constraint_claim(lowenheim_skolem_theorem, mountain).

% Base extractiveness: 0.2 (Low)
% Rationale: It extracts "semantic uniqueness" or "absoluteness." 
% It doesn't steal resources, but it prevents a system from fully defining its own scale.
domain_priors:base_extractiveness(lowenheim_skolem_theorem, 0.2).

% Suppression: 0.4 (Moderate)
% Rationale: Alternatives like Second-Order Logic (which can be categorical) 
% exist but are suppressed in foundational mathematics due to the loss of 
% Completeness and Compactness.
domain_priors:suppression_score(lowenheim_skolem_theorem, 0.4).

% Enforcement: Emerges naturally from the nature of first-order satisfaction.
domain_priors:emerges_naturally(lowenheim_skolem_theorem).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(lowenheim_skolem_theorem, extractiveness, 0.2).
narrative_ontology:constraint_metric(lowenheim_skolem_theorem, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
% Beneficiary: Model theorists who gain flexibility in model construction.
constraint_beneficiary(lowenheim_skolem_theorem, model_theorists).
% Victim: Mathematical absolutists who lose the ability to define a unique "True" universe.
constraint_victim(lowenheim_skolem_theorem, platonist_philosophers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ANALYTICAL OBSERVER - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the laws of information.
   WHEN: civilizational - Viewing logic as a permanent substrate.
   WHERE: trapped - Logic cannot bypass its own syntactic constraints.
   SCOPE: global - Applies to all sufficiently powerful formal systems.
   
   WHY THIS CLASSIFICATION:
   To the observer, this is a Mountain. It is an unchangeable consequence of 
   how formal systems relate to their interpretations. There are no "choices" 
   here; the theorem is a fixed feature of the logical terrain.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lowenheim_skolem_theorem,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MODEL THEORIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define and navigate meta-logical rules.
   WHEN: biographical - Accomplishing proofs within a career.
   WHERE: arbitrage - Can move between internal and external perspectives (Skolemization).
   SCOPE: national - Specific to the domain of mathematical proof.
   
   WHY THIS CLASSIFICATION:
   For the theorist, the theorem is a Rope. It is a coordination mechanism 
   that allows for "shrinking" or "expanding" models to study their properties. 
   It facilitates the transfer of results between different cardinalities.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lowenheim_skolem_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE FOUNDATIONAL PLATONIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the limits of first-order expression.
   WHEN: immediate - Today's search for an absolute foundation.
   WHERE: trapped - Stuck within the expressive limits of first-order ZFC.
   SCOPE: local - Immediate philosophical framework.
   
   WHY THIS CLASSIFICATION:
   To the Platonist, this is a Noose. They wish to describe the "one true 
   uncountable universe," but the theorem ensures that a countable "shadow" 
   of that universe always exists. Their desire for absoluteness is 
   systematically strangled by the relativity of cardinality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lowenheim_skolem_theorem,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(lowenheim_skolem_theorem_tests).

test(multi_perspective_variance) :-
    % Test that different perspectives yield different classifications
    constraint_indexing:constraint_classification(lowenheim_skolem_theorem, mountain, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(lowenheim_skolem_theorem, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(lowenheim_skolem_theorem, noose, context(agent_power(individual_powerless), _, _, _)).

test(power_extractiveness_relativity) :-
    % Powerless Platonists feel the loss of absoluteness (extraction of truth value)
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextInstitutional = context(institutional, biographical, arbitrage, national),
    domain_priors:base_extractiveness(lowenheim_skolem_theorem, E),
    E > 0.0.

test(time_immutability_scale) :-
    % Long-term civilizational logic is a Mountain
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(lowenheim_skolem_theorem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: This is a "semantic extraction." It extracts the possibility 
 * of absolute grounding. It is low because it doesn't cause physical 
 * suffering, but high enough to disrupt philosophical monism.
 * * 2. SUPPRESSION SCORE (0.4):
 * Reasoning: Second-order logic is the obvious alternative. It is suppressed 
 * in "standard" foundations (ZFC) because mathematicians value the 
 * Completeness Theorem (which second-order logic lacks).
 * * 3. PERSPECTIVE SELECTION:
 * The Analyst sees the Law (Mountain). The Theorist sees the Utility (Rope). 
 * The Platonist sees the Limitation (Noose).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Omega declaration
omega_variable(
    intended_model_existence,
    "Is there a privileged, intended model of set theory that our language simply fails to uniquely describe?",
    resolution_mechanism("Metaphysical commitment or discovery of higher-order categorical axioms"),
    impact("If Yes: Logic is a Noose hiding the Mountain. If No: Reality is fundamentally relative (Skolemism)."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Second-Order Logic
 * Viability: Allows for categorical theories where all infinite models 
 * are isomorphic (no Skolem's Paradox).
 * Suppression: Rejected because it is not "well-behaved" (Lacks 
 * Completeness and Compactness).
 * Evidence: Common in foundational literature discussing "Full Second Order Logic."
 * * CONCLUSION:
 * The existence of Second-Order logic as a suppressed alternative makes the 
 * Löwenheim-Skolem constraint a Noose for those who prioritize semantic 
 * uniqueness over syntactic completeness.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_lowenheim_skolem_theorem].
 * 2. Multi-perspective: ?- multi_index_report(lowenheim_skolem_theorem).
 * 3. Run tests: ?- run_tests(lowenheim_skolem_theorem_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: lula_hemisphere_2026
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: NYT Opinion - "Lula: This Hemisphere Belongs to All of Us" (Jan 18, 2026)
% ============================================================================

:- module(lula_hemisphere_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: lula_hemisphere_2026
 * human_readable: The Monroe Doctrine Revival (Unilateral US Hegemony)
 * domain: political/legal
 * temporal_scope: 2026 (Modern era / Post-WWII order erosion)
 * spatial_scope: Latin America and the Caribbean
 * * SUMMARY:
 * President Lula of Brazil decries the Jan 3, 2026 US military intervention in 
 * Venezuela as a violation of the sovereign equality of nations. He describes a 
 * shift where "zones of influence" and unilateral force replace the collectively 
 * [cite_start]agreed-upon rules of the UN Charter[cite: 1, 2, 4].
 * * KEY AGENTS:
 * - [cite_start]The United States: Hegemonic power acting unilaterally through "fear and coercion"[cite: 5, 10].
 * - [cite_start]Luiz Inácio Lula da Silva: Institutional leader of a regional power advocating for multipolarity and international law[cite: 6, 7].
 * - [cite_start]The Venezuelan People: Subjects whose self-determination is bypassed by external military force[cite: 11].
 * * NARRATIVE ARC:
 * The post-WWII multilateral order is portrayed as a failing "Rope" being 
 * transformed into a "Noose" by unilateral hegemonic actions. Lula argues that 
 * for Latin America, this represents a return to an "outdated" era of neocolonial 
 * [cite_start]incursions[cite: 2, 9].
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Structural Anchor for Audit
narrative_ontology:interval(lula_hemisphere_2026, 2026, 2026).
narrative_ontology:constraint_claim(lula_hemisphere_2026, noose).

% Base extractiveness: 0.75
% Rationale: Military capture of a president and "neocolonial incursions for 
[cite_start]% strategic resources" represent high asymmetry and resource extraction[cite: 1, 9, 10].
domain_priors:base_extractiveness(lula_hemisphere_2026, 0.75).

% Suppression: 0.85
% Rationale: Unilateral force "arrogates to itself the right to deliver justice," 
[cite_start]% effectively suppressing the alternative of the UN Security Council[cite: 2, 4, 10].
domain_priors:suppression_score(lula_hemisphere_2026, 0.85).

[cite_start]% Enforcement: Requires active maintenance (Bombings, President capture)[cite: 1].
domain_priors:requires_active_enforcement(lula_hemisphere_2026).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(lula_hemisphere_2026, hegemonic_powers).
constraint_victim(lula_hemisphere_2026, sovereign_nations).
constraint_victim(lula_hemisphere_2026, venezuelan_civilians).

% Section 1 Executive Summary Metrics
narrative_ontology:constraint_metric(lula_hemisphere_2026, extractiveness, 0.75).
narrative_ontology:constraint_metric(lula_hemisphere_2026, suppression_requirement, 0.85).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: VENEZUELAN REFUGEE - Mountain
   --------------------------------------------------------------------------
   [cite_start]WHO: individual_powerless - Displaced individuals sheltered in Brazil[cite: 11].
   [cite_start]WHEN: immediate - Survival and safe return home are current necessities[cite: 11].
   [cite_start]WHERE: trapped - Subject to the "anomie" and violence of military attack[cite: 2, 5].
   [cite_start]SCOPE: national - Their entire home country is under direct attack[cite: 5].
   
   WHY THIS CLASSIFICATION:
   For the individual caught in the conflict, the US military intervention 
   appears as an unchangeable, overwhelming force of nature (Mountain) that 
   [cite_start]removes all agency from the people[cite: 2, 11].
   
   NARRATIVE EVIDENCE:
   "The future of Venezuela... must remain in the hands of its people... this is 
   [cite_start]an essential condition for the millions... sheltered in Brazil to safely return"[cite: 11].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lula_hemisphere_2026,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(lula_hemisphere_2026, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: PRESIDENT LULA (BRAZIL) - Noose
   --------------------------------------------------------------------------
   [cite_start]WHO: institutional - Head of state of a populist democracy[cite: 6, 12].
   [cite_start]WHEN: biographical - Spanning 200 years of independent history[cite: 5].
   [cite_start]WHERE: constrained - Trying to maintain dialogue with the US despite attack[cite: 12].
   [cite_start]SCOPE: continental - Defending a hemisphere that "belongs to all of us"[cite: 12].
   
   WHY THIS CLASSIFICATION:
   Lula views the intervention as a coercive, extractive "Noose" that violates 
   [cite_start]collectively agreed-upon rules to serve hegemonic interests[cite: 2, 6, 9].
   
   NARRATIVE EVIDENCE:
   "We will not be subservient to hegemonic endeavors... the division of the 
   [cite_start]world into zones of influence... [is] outdated and damaging"[cite: 6, 9].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lula_hemisphere_2026,
    noose,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(continental)
    )
) :-
    domain_priors:base_extractiveness(lula_hemisphere_2026, E),
    E > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: US STRATEGISTS (INFERRED) - Rope
   --------------------------------------------------------------------------
   [cite_start]WHO: individual_powerful - Arrogating the right to deliver justice[cite: 4].
   [cite_start]WHEN: biographical - Using force as a rule to "resolve disputes"[cite: 2].
   [cite_start]WHERE: arbitrage - Acting unilaterally while bypassing the UN[cite: 4].
   [cite_start]SCOPE: global - Reconfiguring the international system[cite: 2].
   
   WHY THIS CLASSIFICATION:
   From the hegemonic perspective, the use of force is a functional tool (Rope) 
   [cite_start]to achieve strategic goals and "justice" where multilateral systems failed[cite: 1, 4].
   
   NARRATIVE EVIDENCE:
   "It is not legitimate for another state to arrogate to itself the right to 
   [cite_start]deliver justice"[cite: 4].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    lula_hemisphere_2026,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(lula_hemisphere_2026_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(lula_hemisphere_2026, Type1, context(individual_powerless, immediate, trapped, national)),
    constraint_indexing:constraint_classification(lula_hemisphere_2026, Type2, context(institutional, biographical, constrained, continental)),
    Type1 = mountain,
    Type2 = noose.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, trapped, national),
    ContextPowerful = context(individual_powerful, biographical, arbitrage, global),
    constraint_indexing:extractiveness_for_agent(lula_hemisphere_2026, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(lula_hemisphere_2026, ContextPowerful, Score2),
    Score1 > Score2.

test(continental_scope_noose) :-
    constraint_indexing:constraint_classification(lula_hemisphere_2026, noose, context(institutional, biographical, constrained, continental)).

:- end_tests(lula_hemisphere_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.75): High score based on the "capture" of a 
 * [cite_start]head of state and "neocolonial incursions" for resources[cite: 1, 9].
 * * 2. SUPPRESSION SCORE (0.85): Reflects the "selective" following of norms 
 * [cite_start]and the arrogance of unilateral justice replacing collective rules[cite: 2, 4].
 * * 3. OMEGAS: The central uncertainty is the *motive* for the capture. Lula 
 * [cite_start]attributes it to strategic resources/hegemony[cite: 6, 9], while the US 
 * likely claims "justice/democracy." 
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    us_intervention_intent,
    "Was the US capture of the Venezuelan president primarily for human rights justice or strategic resource extraction?",
    resolution_mechanism("Audit of captured president's trial evidence vs US corporate contracts signed in Venezuela post-capture."),
    impact("If Justice: order remains a failing Rope. If Extraction: order is a predatory Noose."),
    confidence_without_resolution(medium)
).

omega_variable(
    regional_unity_threshold,
    "Will Latin American states overcome 'ideological differences' to resist hegemonic pressure as Lula hopes?",
    resolution_mechanism("Track voting alignment in OAS/UN and joint infrastructure project funding through 2027."),
    impact("If Unified: Regional agency creates a counter-Rope. If Divided: States remain trapped in the Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * [cite_start]ALTERNATIVE 1: Inclusive political process led by Venezuelans[cite: 11].
 * [cite_start]Viability: Lula claims this is the "only condition" for a sustainable future[cite: 11].
 * [cite_start]Suppression: Actively bypassed by unilateral US military attack[cite: 1, 4].
 * * [cite_start]ALTERNATIVE 2: Multilateral order via UN Security Council[cite: 2].
 * [cite_start]Viability: Established post-WWII to build "free, inclusive and democratic societies"[cite: 2].
 * [cite_start]Suppression: Attacked and weakened by major powers until force became the "rule"[cite: 2].
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [lula_hemisphere_2026].
% Report: ?- constraint_indexing:multi_index_report(lula_hemisphere_2026).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: magna_carta_liberties
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: The Magna Carta (1215)
% ============================================================================

:- module(constraint_magna_carta_liberties, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: magna_carta_liberties
 * human_readable: The Great Charter of Liberties
 * domain: political/legal
 * temporal_scope: 1215 CE (High Middle Ages)
 * spatial_scope: Kingdom of England
 * * SUMMARY:
 * The Magna Carta is a peace treaty between King John and a group of rebellious 
 * barons. It establishes that the monarch is not above the law and defines specific 
 * liberties regarding due process (Clause 39), church freedom, and limits on 
 * feudal payments ("reliefs"). It introduces a security clause (Clause 61) 
 * empowering a council of twenty-five barons to "distrain and distress" the King 
 * if he fails to uphold the charter.
 * * KEY AGENTS:
 * - King John: The institutional ruler whose absolute power is being curtailed.
 * - The Twenty-Five Barons: The collective organized enforcers of the security clause.
 * - The Free Man: The individual subject who gains specific protections against arbitrary seizure.
 * * NARRATIVE ARC:
 * Born from "discord that has arisen," the Charter moves from absolute royal 
 * prerogative toward a coordinated legal order. It seeks to "allay the discord" 
 * by turning the King's arbitrary power into a "Rope" of shared rules, though 
 * to the King, it is experienced as a "Noose" of coercion.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(magna_carta_liberties, 0, 10).
narrative_ontology:constraint_claim(magna_carta_liberties, rope).

% Base extractiveness: Moderate (0.4)
% Rationale: While it limits the King's extraction, it codifies standard 
% feudal "reliefs" (100 pounds for a barony) and services[cite: 2, 16].
domain_priors:base_extractiveness(magna_carta_liberties, 0.4).

% Suppression score: High (0.8)
% Rationale: Explicitly abolishes "evil customs" regarding forests and 
% mandates the removal of foreign mercenaries[cite: 48, 51].
domain_priors:suppression_score(magna_carta_liberties, 0.8).

% Enforcement: Requires active monitoring by the 25 barons.
domain_priors:requires_active_enforcement(magna_carta_liberties).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(magna_carta_liberties, extractiveness, 0.4).
narrative_ontology:constraint_metric(magna_carta_liberties, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(magna_carta_liberties, [the_barons, the_english_church, free_men]).
constraint_victim(magna_carta_liberties, [arbitrary_monarchy, foreign_mercenaries]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE FREE MAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to "the law of the land".
   WHEN: immediate - Experience of arrest or seizure.
   WHERE: trapped - Bound by the jurisdiction of the county courts[cite: 18].
   SCOPE: national - Applies "throughout our whole realm"[cite: 35].
   
   WHY THIS CLASSIFICATION:
   For the individual free man, the Charter's protections (like standard 
   weights and measures or due process) function as an unchangeable 
   "Mountain." He does not have the power to negotiate these rules; 
   they are presented as "confirmed for us and our heirs in perpetuity" 
   [cite: 1].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    magna_carta_liberties,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(magna_carta_liberties, free_men),
        constraint_victim(magna_carta_liberties, []),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(magna_carta_liberties, S),
    S > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE BARONS - Rope
   --------------------------------------------------------------------------
   
   WHO: collective_organized - The twenty-five barons elected to "keep the peace".
   WHEN: biographical - During their tenure as guardians.
   WHERE: arbitrage - They balance the King's needs against the Charter's violations.
   SCOPE: national - Protecting the "whole community of the land".
   
   WHY THIS CLASSIFICATION:
   To the Barons, the Charter is a "Rope"—a functional coordination mechanism. 
   It provides the specific procedures ("forty days notice," "majority verdict") 
   by which they can manage the King's behavior and their own cooperation 
   [cite: 14, 61].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    magna_carta_liberties,
    rope,
    context(
        agent_power(collective_organized),
        time_horizon(biographical),
        exit_options(arbitrage),
        constraint_beneficiary(magna_carta_liberties, the_barons),
        constraint_victim(magna_carta_liberties, []),
        spatial_scope(national)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: KING JOHN - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional - The monarch whose will is restricted.
   WHEN: immediate - Under the threat of distraint by the barons.
   WHERE: constrained - Prevented from seizing wood or carts without consent[cite: 30, 31].
   SCOPE: national - His entire executive power is limited.
   
   WHY THIS CLASSIFICATION:
   For King John, the Charter is a "Noose." It is a coercive mechanism 
   imposed by the Barons that extracts his absolute authority and 
   authorizes the community to "assail us in every way possible" if 
   he deviates from the text.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    magna_carta_liberties,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(constrained),
        constraint_beneficiary(magna_carta_liberties, the_barons),
        constraint_victim(magna_carta_liberties, arbitrary_monarchy),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(magna_carta_liberties, E),
    E > 0.3,
    !.

/* ==========================================================================
   4. TESTS (Validation of Insights)
   ========================================================================== */

:- begin_tests(magna_carta_tests).

test(baronial_coordination) :-
    % Barons see a Rope for coordination
    constraint_indexing:constraint_classification(magna_carta_liberties, rope, context(agent_power(collective_organized), _, _, _, _, _)).

test(monarch_coercion) :-
    % King sees a Noose because of Clause 61 (distraint)
    constraint_indexing:constraint_classification(magna_carta_liberties, noose, context(agent_power(institutional), _, constrained, _, _, _)).

test(due_process_mountain) :-
    % For the powerless, due process is a fixed Mountain of protection
    constraint_indexing:constraint_classification(magna_carta_liberties, mountain, context(agent_power(individual_powerless), _, _, _, _, _)).

:- end_tests(magna_carta_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * GENERATING MODEL INTERPRETATION:
 * * The Magna Carta presents a classic "Perspectival Gap." 
 * 1. The document is ostensibly a "Rope" for the kingdom, intending to 
 * provide "better ordering"[cite: 1]. 
 * 2. However, Clause 61 (the Security Clause) is the pivot. By authorizing 
 * the barons to seize royal property, it moves the King from a "Rope" 
 * maker to a "Noose" subject. 
 * 3. Interestingly, the document attempts to frame its own "Mountain" 
 * nature by using the term "in perpetuity"[cite: 1], signaling that 
 * these rights are now part of the natural law of England.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    clause_61_viability,
    "Could a council of 25 barons effectively coordinate a seizure of royal assets without devolving into civil war?",
    resolution_mechanism("Historical record of the First Barons' War immediately following 1215."),
    impact("If civil war is inevitable, Clause 61 is a failed coordination mechanism (slack Rope)."),
    confidence_without_resolution(low)
).

omega_variable(
    free_man_definition,
    "To what extent did the 'liberties' apply to unfree villeins vs. landed elite?",
    resolution_mechanism("Analysis of Clause 20 vs. Clause 39 language regarding 'villeins' and 'free men'."),
    impact("If exclusive, the 'Mountain' of rights exists only for the elite, leaving the poor in a Noose of local lords."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * * ALTERNATIVE 1: Absolute Monarchy (Angevin Kingship)
 * Viability: The status quo established by Henry II and Richard I.
 * Suppression: Rejected by the barons through military rebellion.
 * Evidence: The Preamble notes the "discord that has arisen"[cite: 1].
 * * ALTERNATIVE 2: Papal Supremacy
 * Viability: King John had already made England a papal fief in 1213.
 * Suppression: The Barons ignored the Pope's later annulment of the charter.
 * Evidence: Clause 1 mentions ratification by Pope Innocent III[cite: 1].
 * * CONCLUSION:
 * The rejection of Absolute Monarchy (Alternative 1) is what necessitates 
 * the "Noose" classification from the King's perspective. He is no 
 * longer the source of law but its subject.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: mandatrophic_margin_collapse
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Systems Engineering / Institutional Dynamics
% ============================================================================

:- module(constraint_mandatrophy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: mandatrophic_margin_collapse
 * human_readable: Mandatrophy (The Extraction of Margin for Mandate)
 * domain: institutional/technological
 * temporal_scope: Universal (Industrial/Digital Era)
 * spatial_scope: Organizational Systems
 * * SUMMARY:
 * Mandatrophy is the systemic wasting away of resilience caused by the rigid 
 * prioritization of a top-down administrative mandate over the organic 
 * margins (buffers, redundancies, or "slack") required for survival. 
 * As the mandate extracts the margin to achieve "efficiency," the system 
 * transitions from a flexible state to a brittle one.
 * * KEY AGENTS:
 * - The Mandator: Institutional; sets the "KPI" or "Mandate" and views 
 * all unused resources (margins) as waste.
 * - The Systemic Operator: Individual powerless; manages the actual 
 * friction of the real world and recognizes the danger of the Noose.
 * - The Stress Event: Analytical; the external disruption that 
 * reveals the Mountain of physical reality once the margin is gone.
 * * NARRATIVE ARC:
 * The process begins as a Rope (a coordination tool to improve performance). 
 * Under pressure, the Mandator tightens the Rope into a Noose, extracting 
 * "unproductive" margins to meet targets. Eventually, the system hits a 
 * Mountain (a physical limit or crisis) with zero degrees of freedom, 
 * leading to a terminal "choking" of the institution it was meant to save.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(mandatrophy_cycle, 0, 10).
narrative_ontology:constraint_claim(mandatrophic_margin_collapse, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.85. The mandate "extracts" the very essence of the system's 
% safety and resilience (the margin) to fuel short-term metrics.
domain_priors:base_extractiveness(mandatrophic_margin_collapse, 0.85).

% Suppression score (0.0-1.0)
% Rationale: 0.7. Alternatives like "Resilience Engineering" or "Slack" 
% are actively suppressed as they appear as "wasteful" to the Mandator.
domain_priors:suppression_score(mandatrophic_margin_collapse, 0.7).

% Enforcement requirements
domain_priors:requires_active_enforcement(mandatrophic_margin_collapse).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(mandatrophic_margin_collapse, extractiveness, 0.85).
narrative_ontology:constraint_metric(mandatrophic_margin_collapse, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(mandatrophic_margin_collapse, quarterly_metrics).
constraint_beneficiary(mandatrophic_margin_collapse, short_term_efficiency).
constraint_victim(mandatrophic_margin_collapse, systemic_resilience).
constraint_victim(mandatrophic_margin_collapse, long_term_viability).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MANDATOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define success and set the "Ladder" metrics.
   WHEN: immediate - Focused on meeting the current mandate deadline.
   WHERE: mobile - Not physically bound by the "friction" of the margin.
   SCOPE: national/global - Managing the aggregate outcome.
   
   WHY THIS CLASSIFICATION:
   The Mandator views the extraction as a Rope—a functional coordination 
   mechanism to eliminate waste. They believe that by "tightening" the 
   system, they are weaving it into a more efficient and effective tool.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    mandatrophic_margin_collapse,
    rope,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(mandatrophic_margin_collapse, E),
    E < 0.95,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE OPERATOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the mandate, must manage the friction.
   WHEN: biographical - Their career and safety depend on the system's health.
   WHERE: trapped - Bound by the physical reality of the lack of margin.
   SCOPE: local - Immediate workspace and daily operations.
   
   WHY THIS CLASSIFICATION:
   The Operator identifies the Noose. They see the "Mandatrophy" as an 
   extractive process that chokes off their ability to respond to 
   unforeseen errors. The more the mandate is enforced, the tighter the 
   constraint becomes on their ability to act safely.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    mandatrophic_margin_collapse,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(mandatrophic_margin_collapse),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SYSTEM ANALYST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the post-collapse state.
   WHEN: historical - Evaluating the timeline of the "irreversible" remodeling.
   WHERE: analytical - Free from the "glow" of the mandate's promise.
   SCOPE: global - Impact on the future of organizational theory.
   
   WHY THIS CLASSIFICATION:
   The Analyst identifies the result as a Mountain. Once the margin is 
   fully extracted, the system hits a physical wall. There are no longer 
   any degrees of freedom; the failure becomes an unchangeable law of 
   the terrain. The "mandate" has ossified into a terminal catastrophe.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    mandatrophic_margin_collapse,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(mandatrophy_tests).

test(perspectival_gap) :-
    % Mandator (Rope) vs Operator (Noose)
    constraint_indexing:constraint_classification(mandatrophic_margin_collapse, Type1, context(institutional, immediate, mobile, national)),
    constraint_indexing:constraint_classification(mandatrophic_margin_collapse, Type2, context(individual_powerless, biographical, trapped, local)),
    Type1 \= Type2.

test(extraction_signature) :-
    % High extraction confirms Noose/Mountain status over time.
    domain_priors:base_extractiveness(mandatrophic_margin_collapse, E),
    E > 0.8.

:- end_tests(mandatrophy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. NEOLOGISM: I coined **Mandatrophy** (Mandate + Atrophy). It perfectly 
 * captures the "wasting away" of a system's organic health (margin) 
 * under the weight of an artificial goal (mandate).
 * 2. CLASSIFICATION: Labeled primarily as a 'Noose' in the system claim 
 * because the core dynamic is extractive—it eats the future to satisfy 
 * the present.
 */

omega_variable(
    margin_quantification_bias,
    "Can 'margin' ever be accurately measured by the Mandator, or is 
     it an irreducible qualitative property of the Operator?",
    resolution_mechanism("Comparative analysis of quantitative vs. 
    qualitative risk assessments in failed aerospace missions"),
    impact("If Measurable: The mandate is a Rope. If Irreducible: 
            The mandate is a Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Resilience Engineering (Slack as Strategy)
 * Viability: Intentionally maintaining "wasted" resources to absorb shocks.
 * Suppression: Actively suppressed by "Lean" or "Six Sigma" mandates 
 * that view any non-active resource as a financial drain.
 * * * ALTERNATIVE 2: Distributed Autonomy
 * Viability: Allowing the Operator to set the thresholds based on local 
 * friction rather than top-down mandates.
 * * CONCLUSION:
 * The rejection of "Slack" as a viable strategy transforms the coordination 
 * Rope into an extractive Noose, leading inevitably to the Mountain of collapse.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [mandatrophic_margin_collapse].
% 2. Analyze: ?- multi_index_report(mandatrophic_margin_collapse).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: mandatrophy_systemic_collapse
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Synthesis of Boeing, NASA MCO, and Geopolitical Mandatrophy Patterns
% ============================================================================

:- module(constraint_mandatrophy_diagnostic, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: mandatrophy_systemic_collapse
 * human_readable: Mandatrophy (Systemic Resilience Wasting)
 * domain: institutional/technological/economic
 * temporal_scope: Universal (Industrial/Late-Capitalist Era)
 * spatial_scope: Complex Systems (Aviation, Energy, Governance)
 * * SUMMARY:
 * Mandatrophy is the "invisible" extraction of a system's resilience (its "margin") 
 * to satisfy a high-priority administrative or political goal (its "mandate"). 
 * By treating safety buffers, technical expertise, and physical maintenance as 
 * "wasteful slack," the institution gains short-term performance while 
 * creating a state of "brittle stability" that ensures catastrophic failure 
 * when the first unanticipated stressor arrives.
 * * KEY AGENTS:
 * - The Mandator (KPI Architect): Institutional; views all non-active resources 
 * as "excess" to be optimized for the goal.
 * - The Operator (Maintenance Sensor): Individual powerless; the engineer or 
 * technician who perceives the tightening Noose as the "slack" disappears.
 * - The Secondary Victim: Individual powerless; the passenger, citizen, or 
 * consumer who experiences the sudden transition from "Rope" to "Mountain."
 * * NARRATIVE ARC:
 * The process is initially perceived as a Rope (optimizing a stagnant system). 
 * As the extraction continues, the system becomes a Noose, where every 
 * operational choice is "choked" by the lack of redundancy. Finally, the 
 * system hits a Mountain (a physical crash or grid collapse) where the 
 * mandate can no longer negotiate with material reality.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(mandatrophy_lifecycle, 0, 10).
narrative_ontology:constraint_claim(mandatrophy_systemic_collapse, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.9. Extreme; Mandatrophy extracts the *future* survival capacity 
% of the system to pay for the *present* metric.
domain_priors:base_extractiveness(mandatrophy_systemic_collapse, 0.9).

% Suppression score (0.0-1.0)
% Rationale: 0.75. Alternatives like "Resilience Margin" and "Redundancy" 
% are suppressed as being "inefficient" or "obsolete" by the mandating logic.
domain_priors:suppression_score(mandatrophy_systemic_collapse, 0.75).

% Enforcement requirements
% Requires active enforcement (Audits, Lean-management KPIs, and the 
% removal of "dissenting" experts who prioritize the margin).
domain_priors:requires_active_enforcement(mandatrophy_systemic_collapse).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(mandatrophy_systemic_collapse, extractiveness, 0.9).
narrative_ontology:constraint_metric(mandatrophy_systemic_collapse, suppression_requirement, 0.75).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(mandatrophy_systemic_collapse, short_term_fiscal_metrics).
constraint_beneficiary(mandatrophy_systemic_collapse, administrative_centralization).
constraint_victim(mandatrophy_systemic_collapse, long_term_infrastructure_safety).
constraint_victim(mandatrophy_systemic_collapse, institutional_cognitive_diversity).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MANDATOR (HQ) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to set the "Lean" targets and divert maintenance funds.
   WHEN: biographical - Focused on the successful "turnaround" of the organization.
   WHERE: mobile - Not physically located at the "friction point" of the boilers/engines.
   SCOPE: national/global - Managing the aggregate performance.
   
   WHY THIS CLASSIFICATION:
   For HQ, the mandate is a Rope. It is the tool they use to "pull" a lazy or 
   bloated system toward modern efficiency. They view the "margin" as 
   parasitic drag that must be eliminated to succeed.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    mandatrophy_systemic_collapse,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(mandatrophy_systemic_collapse, E),
    E < 0.95,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE OPERATOR / ENGINEER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the mandate; must operate the 
         machine without the spare parts.
   WHEN: immediate - Tactical daily struggle to prevent "Yellow" alerts 
         from turning "Red."
   WHERE: trapped - Working within the failing facility or airframe.
   SCOPE: local - Immediate sensor range and physical environment.
   
   WHY THIS CLASSIFICATION:
   The operator sees the Noose. They feel the system "tightening"—each time 
   a redundancy is removed, their degrees of freedom decrease. The mandate 
   is a coercive force that chokes their ability to maintain safety.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    mandatrophy_systemic_collapse,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(mandatrophy_systemic_collapse),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PASSENGER / CITIZEN - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the "unforeseen" grid collapse or 
         technical malfunction.
   WHEN: historical - The sudden moment when the "Rope" breaks.
   WHERE: trapped - In the blackout, in the air, or in the energy crisis.
   SCOPE: global - The impact of systemic failure on society.
   
   WHY THIS CLASSIFICATION:
   For the victim, the collapse is a Mountain. It is a sudden, unyielding 
   event that appears as an Act of God or a "freak accident." They cannot 
   negotiate with a plane that has lost its engineering margin; they simply 
   hit the physical limit of the mandate's greed.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    mandatrophy_systemic_collapse,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(historical),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(mandatrophy_expansion_tests).

test(brittle_failure_signature) :-
    % Mandatrophy systems appear as Ropes to managers but have high 
    % extractiveness (Noose) for operators.
    constraint_indexing:constraint_classification(mandatrophy_systemic_collapse, rope, context(institutional, _, _, _)),
    domain_priors:base_extractiveness(mandatrophy_systemic_collapse, E),
    E > 0.8.

test(diagnostic_blindness) :-
    % The system suppresses the "Alternative" (Margin) to preserve the mandate.
    domain_priors:suppression_score(mandatrophy_systemic_collapse, S),
    S > 0.6.

:- end_tests(mandatrophy_expansion_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE MINIMUMS: Expanded to include the "Secondary Victim" 
 * (Mountain) to show how Mandatrophy creates sudden "Acts of God" out 
 * of slow administrative choices.
 * 2. SELECTION BIAS: I've noted that Mandatrophy is specifically the 
 * *selective* extraction of margins that are invisible to HQ but vital to 
 * the Operator.
 */

omega_variable(
    the_audit_paradox,
    "Do 'Safety Audits' in a mandatrophic system identify the loss of 
     margin (Rope) or merely validate the mandate (Noose)?",
    resolution_mechanism("Comparative analysis of Boeing self-certification 
    logs vs. physical failure post-mortems"),
    impact("If they validate mandate: The audit is a Noose component. 
            If they find margin-loss: It's an external Scaffold."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Redundancy-First Engineering (The "Apollo" Scaffold)
 * Viability: Historically proven to maintain safety in unknown environments.
 * Suppression: Actively rejected in "Faster, Better, Cheaper" or 
 * "Lean" eras as an inefficient use of capital.
 * * * ALTERNATIVE 2: Worker-Led Safety Veto
 * Viability: Allowing the Operator to stop the "Mandate" when the margin 
 * is breached (e.g., Alcoa's safety turn-around).
 * Suppression: Suppressed by "Schedule-Driven" environments where 
 * stoppage is treated as insubordination.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [mandatrophy_systemic_collapse].
% 2. Analyze: ?- multi_index_report(mandatrophy_systemic_collapse).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(mandatrophic_margin_collapse_diagnostic, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(mandatrophic_margin_collapse_diagnostic, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(mandatrophic_margin_collapse_diagnostic, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: optimal_stopping_marriage
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: The Secretary Problem / Optimal Stopping Theory
% ============================================================================

:- module(constraint_optimal_stopping_marriage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: optimal_stopping_marriage
 * human_readable: The 37% Rule (Optimal Stopping)
 * domain: technological/mathematical
 * temporal_scope: Immediate to Biographical
 * spatial_scope: Global (Abstract Math)
 * * SUMMARY:
 * In the "Marriage Problem" (or Secretary Problem), a person must choose the best 
 * candidate from a sequence of $N$ options. Once a candidate is rejected, they cannot 
 * be recalled. To maximize the probability of picking the absolute best, math 
 * dictates rejecting the first $n/e$ (approx. 37%) of candidates and then picking 
 * the first one better than all seen so far.
 * * KEY AGENTS:
 * - The Searcher: Individual seeking the optimal partner under time/info constraints.
 * - The Candidates: Sequential options who are either accepted or permanently lost.
 * - The Mathematician: Analytical observer who views the constraint as an immutable law.
 * * NARRATIVE ARC:
 * The constraint functions as a "wall of regret." If the Searcher stops too early, 
 * they miss the global maximum. If they stop too late, the best candidate has 
 * already passed. The math creates a rigid boundary for optimal behavior.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

% Required for system integration
narrative_ontology:interval(optimal_stopping_marriage, 0, 10).
narrative_ontology:constraint_claim(optimal_stopping_marriage, mountain).

% Base extractiveness: Low (0.1). 
% Nature/Math doesn't "profit" from the Searcher, but the "loss" of rejected 
% candidates represents a form of structural waste.
domain_priors:base_extractiveness(optimal_stopping_marriage, 0.1).

% Suppression: Moderate (0.4). 
% Humans often ignore the math in favor of "gut feeling," but the math 
% "punishes" this with lower success probabilities.
domain_priors:suppression_score(optimal_stopping_marriage, 0.4).

% Enforcement: Emerges naturally from the logic of probability.
domain_priors:emerges_naturally(optimal_stopping_marriage).

% Beneficiaries: The "Winner" (the candidate selected by the optimal strategy).
constraint_beneficiary(optimal_stopping_marriage, selected_optimal_candidate).

% Victims: The "37% Group" (qualified candidates rejected solely to set the baseline).
constraint_victim(optimal_stopping_marriage, rejected_baseline_candidates).

% Metrics
narrative_ontology:constraint_metric(optimal_stopping_marriage, extractiveness, 0.1).
narrative_ontology:constraint_metric(optimal_stopping_marriage, suppression_requirement, 0.4).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SEARCHER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (subject to the sequence of options)
   WHEN: biographical (the search defines a major life phase)
   WHERE: trapped (cannot go back in time to "un-reject" a candidate)
   SCOPE: local (their specific dating pool)
   
   WHY THIS CLASSIFICATION:
   The searcher feels "strangled" by the inability to recall past options. 
   The 37% rule feels like a Noose because it forces the rejection of 
   potentially great partners simply to satisfy a statistical baseline.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    optimal_stopping_marriage,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(optimal_stopping_marriage, E),
    E < 0.2, % It's not about extraction, but the 'trapped' nature makes it a Noose.
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MATHEMATICIAN - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical/civilizational
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the mathematician, the $1/e$ limit is a "Mountain"—a fixed feature 
   of the universe like gravity. It is unchangeable regardless of human 
   desire or agency.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    optimal_stopping_marriage,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(optimal_stopping_marriage),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MATCHMAKER - Rope
   --------------------------------------------------------------------------
   WHO: institutional/individual_powerful
   WHEN: generational
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For an institution (like a dating app or a village matchmaker), this 
   mathematical reality is a "Rope." It's a coordination tool that 
   helps structure the flow of candidates to ensure the highest 
   aggregate "win" rate across a population.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    optimal_stopping_marriage,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    true.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(optimal_stopping_marriage_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(optimal_stopping_marriage, Type1, context(agent_power(individual_powerless), _, trapped, _)),
    constraint_indexing:constraint_classification(optimal_stopping_marriage, Type2, context(agent_power(analytical), _, _, _)),
    Type1 \= Type2.

test(time_immutability_shift) :-
    % Short term (biographical) feels like a Noose due to regret.
    % Long term (civilizational) is a Mountain of probability.
    constraint_indexing:constraint_classification(optimal_stopping_marriage, noose, context(_, time_horizon(biographical), trapped, _)),
    constraint_indexing:constraint_classification(optimal_stopping_marriage, mountain, context(_, time_horizon(civilizational), _, _)).

test(extraction_paradox) :-
    % The "powerless" actually experience more "loss" (perceived extractiveness) 
    % than the institutional observer.
    domain_priors:base_extractiveness(optimal_stopping_marriage, Score),
    Score < 0.5.

:- end_tests(optimal_stopping_marriage_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS: Set to 0.1. The "Marriage Problem" isn't a scam; it's a 
 * logical trap. The only "extraction" is the opportunity cost paid by 
 * the baseline group.
 * 2. PERSPECTIVES: I chose the Searcher (Noose) because the "no-recall" rule 
 * is a classic constraint that feels punitive to the individual.
 * 3. AMBIGUITIES: The biggest uncertainty is the "no-recall" assumption. 
 * In the real world, you can sometimes go back to an ex.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    recall_viability,
    "Can a previously rejected candidate be 're-activated'?",
    resolution_mechanism("Empirical study of 'boomerang' relationships in modern dating datasets"),
    impact("If Recall=High: Mountain becomes Rope (strategy changes). If Recall=Zero: Noose/Mountain holds."),
    confidence_without_resolution(medium)
).

omega_variable(
    candidate_distribution_knowledge,
    "Does the searcher know the total number of candidates $N$?",
    resolution_mechanism("Information theory analysis of search under unknown population size"),
    impact("If $N$ is unknown: The 37% rule cannot be applied; a different 'Mountain' appears."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Post-Selection Recall
 * Viability: High in modern social networks.
 * Suppression: The math problem suppresses this to maintain the "clean" 1/e proof.
 * * CONCLUSION:
 * The "No-Recall" rule is what turns a coordination tool (Rope) into a 
 * psychological Noose for the individual searcher.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(marriage_problem, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(marriage_problem, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(marriage_problem, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: mars_rover_navigational_autonomy
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Autonomy for Mars Rovers: Past, Present, and Future (Bajracharya et al., 2008)
% ============================================================================

:- module(constraint_mars_autonomy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: mars_rover_navigational_autonomy
 * human_readable: Mars Surface Navigational Autonomy (AutoNav)
 * domain: technological
 * temporal_scope: 1997-2004 (Sojourner to Spirit/Opportunity)
 * spatial_scope: Martian Surface / JPL Control
 * * SUMMARY:
 * Navigational autonomy on Mars is constrained by the "speed-of-light" latency 
 * (Mountain) and the high risk of irrecoverable hardware loss (Noose). To 
 * overcome these, NASA implemented GESTALT and AutoNav—functional coordination 
 * mechanisms (Ropes) that allow rovers to sense hazards and plan paths 
 * without constant human intervention.
 * * KEY AGENTS:
 * - The Rover (Sojourner/Spirit): Individual powerless; subject to the 
 * physical terrain and the "safety logic" of its own code.
 * - Rover Planners (JPL): Institutional; define the "cost maps" and 
 * safety thresholds that govern what the rover perceives as an obstacle.
 * - Robotics Researcher: Analytical; evaluates the efficiency of 
 * autonomous navigation vs. human-commanded "blind driving."
 * * NARRATIVE ARC:
 * Autonomy evolved from a simple 2D hazard avoidance (Sojourner) to complex 
 * 3D stereo-vision path planning (Spirit). While intended as a Rope to 
 * increase mission velocity, the software's conservative safety limits 
 * can function as a Noose, "extracting" mission time by causing the rover 
 * to stop or retreat from navigable but "scary" terrain.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(mars_autonomy_evolution, 0, 10).
narrative_ontology:constraint_claim(mars_rover_navigational_autonomy, rope).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.4. Moderate; autonomous cycles "extract" significant 
% onboard CPU time and battery power (computational cost), potentially 
% reducing time available for science instruments.
domain_priors:base_extractiveness(mars_rover_navigational_autonomy, 0.4).

% Suppression score (0.0-1.0)
% Rationale: 0.5. The system suppresses high-risk maneuvers. If the 
% "safety margin" is too high, it suppresses the visibility of valid 
% navigation paths.
domain_priors:suppression_score(mars_rover_navigational_autonomy, 0.5).

% Enforcement requirements
% Requires active enforcement (Onboard hazard avoidance software 
% triggers a stop if safety constraints are violated).
domain_priors:requires_active_enforcement(mars_rover_navigational_autonomy).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(mars_rover_navigational_autonomy, extractiveness, 0.4).
narrative_ontology:constraint_metric(mars_rover_navigational_autonomy, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(mars_rover_navigational_autonomy, mission_longevity).
constraint_beneficiary(mars_rover_navigational_autonomy, navigational_safety).
constraint_victim(mars_rover_navigational_autonomy, traverse_speed).
constraint_victim(mars_rover_navigational_autonomy, cpu_availability_for_science).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ROVER (SPIRIT) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Cannot alter its own code; must obey the 
         hazard avoidance logic.
   WHEN: immediate - Tactical millisecond-by-millisecond wheel control.
   WHERE: trapped - Bound by the physical geometry of Martian rocks and slopes.
   SCOPE: local - Immediate sensor range (1-5 meters).
   
   WHY THIS CLASSIFICATION:
   For the rover, the software's safety parameters (e.g., "stop if tilt > 20°") 
   are as unchangeable as the Martian gravity. It has zero degrees of 
   freedom to ignore its own "Fear" of a hazard.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    mars_rover_navigational_autonomy,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(mars_rover_navigational_autonomy),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: ROVER PLANNERS (JPL) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to adjust "cost" weights and path heuristics.
   WHEN: biographical - Planning the 90-day (and beyond) mission arc.
   WHERE: mobile - Can send "overrides" or change the software's caution level.
   SCOPE: regional - Planning traverse routes across kilometers of Gusev Crater.
   
   WHY THIS CLASSIFICATION:
   Planners view autonomy as a Rope—a functional coordination tool. If the 
   rover is too conservative, they can "loosen" the rope by adjusting 
   thresholds to allow more daring drives, or "tighten" it in dangerous areas.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    mars_rover_navigational_autonomy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(mars_rover_navigational_autonomy, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: MISSION EFFICIENCY ANALYST - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the ratio between "thinking" and "driving."
   WHEN: historical - Comparing Pathfinder's 100m traverse to Spirit's kilometers.
   WHERE: analytical - Free from the operational "fear" of losing the rover.
   SCOPE: global - Impact on the future of planetary exploration.
   
   WHY THIS CLASSIFICATION:
   The analyst sees the Noose. Onboards like Spirit spent hours "thinking" 
   (computing stereo vision) for every minute of driving. This extraction 
   of time/power chokes the potential science yield, particularly when the 
   rover gets "stuck" in a computational loop due to ambiguous terrain.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    mars_rover_navigational_autonomy,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(mars_rover_navigational_autonomy, S),
    S > 0.4,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(mars_autonomy_tests).

test(autonomy_utility_variance) :-
    % Institutional planners see a tool (Rope), local rover sees a limit (Mountain)
    constraint_indexing:constraint_classification(mars_rover_navigational_autonomy, T1, context(institutional, biographical, mobile, regional)),
    constraint_indexing:constraint_classification(mars_rover_navigational_autonomy, T2, context(individual_powerless, immediate, trapped, local)),
    T1 \= T2.

test(computational_extraction) :-
    % Extraction of battery/time is significant for Mars missions
    domain_priors:base_extractiveness(mars_rover_navigational_autonomy, E),
    E > 0.3.

:- end_tests(mars_autonomy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): I chose this to reflect the "Tax" on mission 
 * time. As noted in the Bajracharya paper, autonomous navigation is 
 * significantly slower than blind driving because the rover must stop, 
 * image, and think.
 * 2. CLASSIFICATION: I primary-labeled this as a 'Rope' because it 
 * coordinated the transition from 100-meter missions (Sojourner) to 
 * 10-kilometer missions (Spirit/Opportunity).
 * 3. PERSPECTIVE: The "Analytical" view of the Noose reflects the 
 * 'Replication Crisis' in autonomy: the more safe we make it, the less 
 * productive it becomes.
 */

omega_variable(
    autonomy_trust_threshold,
    "At what point does human 'Trust' in the algorithm allow the Rope 
     to slacken enough to become a speed-enhancing tool vs. a speed-choking limit?",
    resolution_mechanism("Comparative analysis of traverse speed in 'AutoNav' vs. 'Directed' modes on MER"),
    impact("If Directed is consistently faster: AutoNav is a Noose. 
            If AutoNav allows more meters per sol: It is a Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Blind Driving (Direct Sequencing)
 * Viability: Used extensively for "safe" flat terrain. High speed, low 
 * onboard computation.
 * Suppression: Suppressed in "unknown" or "hazardous" terrain because 
 * the 20-minute latency (Mountain) makes it an operational Noose.
 * * ALTERNATIVE 2: Continuous Drive (Spirit/Opportunity upgrade)
 * Viability: Later mission upgrades allowed for imaging during wheel motion.
 * * CONCLUSION:
 * The existence of "Blind Driving" as a faster but riskier alternative 
 * highlights that Autonomy is a chosen Rope—we trade time (Extraction) 
 * for the avoidance of a permanent mission-ending Mountain (a crash).
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [mars_rover_navigational_autonomy].
% 2. Analyze: ?- multi_index_report(mars_rover_navigational_autonomy).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(mars_rovers_navigational_autonomy, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(mars_rovers_navigational_autonomy, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(mars_rovers_navigational_autonomy, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: martian_signal_latency
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: NASA JPL / Planetary Science Mission Operations
% ============================================================================

:- module(constraint_martian_latency, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: martian_signal_latency
 * human_readable: Martian Signal Latency (One-Way Light Time)
 * domain: technological/scientific
 * temporal_scope: 1965-Present
 * spatial_scope: Interplanetary (Earth-Mars)
 * * SUMMARY:
 * Martian signal latency is the absolute delay in communication between Earth 
 * and Mars caused by the speed of light. Ranging from 3 to 22 minutes depending 
 * on orbital positions, this constraint dictates the architecture of all 
 * deep-space missions, rendering real-time teleoperation of assets impossible.
 * * KEY AGENTS:
 * - Rover Driver (JPL): Individual powerless; must wait for "next sol" to 
 * see the results of a command.
 * - Mission Architect: Institutional; designs the "Rope" of autonomy to 
 * bypass the "Noose" of latency.
 * - Radio Physicist: Analytical; measures the constraint as a fundamental 
 * property of the universe.
 * * NARRATIVE ARC:
 * Latency is the ultimate Mountain—a natural law that cannot be negotiated. 
 * In the early days of exploration, it was a Noose that threatened to destroy 
 * any lander that couldn't think for itself. To survive, NASA wove the 
 * Rope of autonomy, transforming a terminal physical limit into a 
 * predictable coordination rhythm for mission operations.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(mariner_to_msl_era, 0, 10).
narrative_ontology:constraint_claim(martian_signal_latency, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.1. Low; the speed of light does not "extract" value in a 
% coercive sense, but it imposes a high "opportunity cost" on mission 
% duration and real-time scientific discovery.
domain_priors:base_extractiveness(martian_signal_latency, 0.1).

% Suppression score (0.0-1.0)
% Rationale: 1.0. Absolute; signal latency suppresses the very possibility 
% of real-time remote control. There are no known physical alternatives 
% to electromagnetic wave propagation.
domain_priors:suppression_score(martian_signal_latency, 1.0).

% Enforcement requirements
% Emerges naturally from the physics of the universe.
domain_priors:emerges_naturally(martian_signal_latency).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(martian_signal_latency, extractiveness, 0.1).
narrative_ontology:constraint_metric(martian_signal_latency, suppression_requirement, 1.0).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(martian_signal_latency, autonomy_software_development).
constraint_victim(martian_signal_latency, real_time_human_intuition).
constraint_victim(martian_signal_latency, mission_cadence).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: ROVER DRIVER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the laws of physics; cannot "drive" 
         fast enough to outrun the delay.
   WHEN: immediate - Tactical focus on the current wheel-turn or hazard.
   WHERE: trapped - Bound by the Earth-Mars distance.
   SCOPE: local - Focused on the immediate traverse of the rover.
   
   WHY THIS CLASSIFICATION:
   For the driver, the delay is a Mountain. It is an unchangeable, 
   non-negotiable fact of their workday. They cannot "negotiate" with 
   the speed of light to get a faster image back from the surface.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    martian_signal_latency,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:emerges_naturally(martian_signal_latency),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: MISSION MANAGER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design the mission architecture and 
         software capabilities.
   WHEN: biographical - Planning the multi-year mission arc.
   WHERE: mobile - Can choose to invest in more autonomy or slower 
         "directed" sequences.
   SCOPE: national - Managing the US planetary exploration budget.
   
   WHY THIS CLASSIFICATION:
   Management views the latency as a Rope. It is the core coordination 
   mechanism that dictates how they structure their teams (e.g., Sol-path 
   planning cycles). They "weave" the mission's software around the delay, 
   using it as a structural anchor for the entire project.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    martian_signal_latency,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(martian_signal_latency, E),
    E < 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: MARS COLONIST (FUTURE) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has agency on Mars but is socially/technologically 
         bound to Earth for resources/data.
   WHEN: biographical - Lifetime spent on another planet.
   WHERE: constrained - High cost of communication; cannot "call home" for help.
   SCOPE: global - Impact on interplanetary civilization.
   
   WHY THIS CLASSIFICATION:
   For a future colonist, the 20-minute lag is a Noose. It extracts 
   human connection and chokes off the ability to receive emergency 
   instructions from Earth in real-time. It separates the two worlds 
   into distinct, often asynchronous realities.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    martian_signal_latency,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(martian_signal_latency, S),
    S > 0.8,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(martian_latency_tests).

test(multi_perspective_variance) :-
    % Driver (Mountain) vs Manager (Rope) vs Colonist (Noose)
    constraint_indexing:constraint_classification(martian_signal_latency, T1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(martian_signal_latency, T2, context(institutional, biographical, mobile, national)),
    constraint_indexing:constraint_classification(martian_signal_latency, T3, context(individual_moderate, biographical, constrained, global)),
    T1 \= T2, T2 \= T3.

test(absolute_suppression) :-
    % Latency should always show maximum suppression of real-time control
    domain_priors:suppression_score(martian_signal_latency, S),
    S =:= 1.0.

:- end_tests(martian_latency_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION SCORE (1.0): This is the defining characteristic of 
 * the speed of light. It is the only constraint in this system where 
 * suppression is legally and physically absolute.
 * 2. CLASSIFICATION: I primary-labeled this as a 'Mountain'. While 
 * mission managers treat it as a 'Rope' for planning, they are 
 * effectively coordinating within a prison of physics.
 * 3. EXTRACTIVENESS: I set this low (0.1) because the universe is not 
 * "extractive" in a moral sense, though the *result* of the constraint 
 * is the extraction of time.
 */

omega_variable(
    quantum_entanglement_comms,
    "Will quantum entanglement eventually provide a non-extractive Rope 
     that bypasses the light-speed Mountain?",
    resolution_mechanism("Monitor theoretical physics for proof of FTL information transfer"),
    impact("If Yes: Signal latency was a temporary Noose. If No: It is an 
            eternal Mountain of the physical world."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: On-Site Human Presence
 * Viability: Sending humans to Mars eliminates the latency constraint 
 * for local operations, though it creates a new "Mountain" of life 
 * support.
 * Suppression: Suppressed by current launch technology, budget, and 
 * radiation risk thresholds.
 * * ALTERNATIVE 2: Advanced AI Autonomy
 * Viability: Moving the "Decision Brain" to the rover (e.g., AutoNav) 
 * allows the mission to ignore the latency Mountain for local safety.
 * * CONCLUSION:
 * The existence of Autonomy as a viable alternative shifts the 
 * experience of the latency from a terminal Noose (mission death) 
 * to a manageable Rope (planned delay).
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [martian_signal_latency].
% 2. Analyze: ?- multi_index_report(martian_signal_latency).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: matching_markets_general
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Market Design / Alvin Roth / Lloyd Shapley
% ============================================================================

:- module(constraint_matching_markets, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: matching_markets_general
 * human_readable: Matching Markets (Non-Commodity Exchange)
 * domain: economic/social/technological
 * temporal_scope: Biographical to Generational
 * spatial_scope: National to Global
 * * SUMMARY:
 * Unlike commodity markets where price clears the market (whoever pays the 
 * most gets the goods), matching markets involve "thick" preferences where 
 * the choice is mutual. You cannot simply "buy" a job at Google or a seat 
 * at Harvard; the other side must also choose you.
 * * KEY AGENTS:
 * - The Applicant: Seeks to be matched with a high-value institution.
 * - The Institution: Seeks to curate a specific cohort of participants.
 * - The Market Architect: Designs the rules (clearinghouses) that govern 
 * how matches are finalized.
 * * NARRATIVE ARC:
 * The constraint functions as a "Gatekeeper's Maze." Success depends not 
 * just on your own resources, but on the visibility of your preferences 
 * and the specific algorithmic or social rules used to pair "sides."
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(matching_markets_general, 0, 10).
narrative_ontology:constraint_claim(matching_markets_general, rope).

% Base extractiveness: Moderate (0.4). 
% Markets extract "signal" (effort, status, credentials) from participants 
% to facilitate the match.
domain_priors:base_extractiveness(matching_markets_general, 0.4).

% Suppression: High (0.7).
% "Unmatched" alternatives (black markets, side deals) are often strictly 
% prohibited to maintain market "thickness" and stability.
domain_priors:suppression_score(matching_markets_general, 0.7).

% Enforcement: Usually requires active enforcement (Clearinghouses/Regulations).
domain_priors:requires_active_enforcement(matching_markets_general).

% Beneficiaries: The Highly-Ranked (who get their top choices on both sides).
constraint_beneficiary(matching_markets_general, elite_participants).

% Victims: The "Thin" Participants (who lack the credentials or signaling power 
% to attract a match, leaving them stranded).
constraint_victim(matching_markets_general, low_signal_agents).

% Metrics
narrative_ontology:constraint_metric(matching_markets_general, extractiveness, 0.4).
narrative_ontology:constraint_metric(matching_markets_general, suppression_requirement, 0.7).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ELITE CANDIDATE - Rope
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: biographical
   WHERE: mobile
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For an elite agent (high credentials), the matching market is a "Rope." 
   It provides a structured, predictable ladder to a high-status outcome. 
   The market's rules protect them from the "chaos" of unregulated 
   negotiation and ensure their value is recognized.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    matching_markets_general,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(matching_markets_general, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE UNMATCHED APPLICANT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the agent who fails to secure a match in a "thick" market (like medical 
   residency or kidney exchange), the system is a "Noose." The high 
   suppression of alternatives means that failing to match within the 
   system is equivalent to total exclusion from the profession or resource.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    matching_markets_general,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(matching_markets_general, S),
    S > 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ECONOMIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: civilizational
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The economist sees the "laws of matching" as a "Mountain." The need 
   for thickness, the danger of market congestion, and the inevitability 
   of signaling costs are seen as natural features of information-dense 
   environments, regardless of the specific algorithm used.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    matching_markets_general,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(matching_markets_general),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(matching_markets_tests).

test(signal_power_variance) :-
    % Powerful agents navigate the rope; powerless agents are caught in the noose.
    constraint_indexing:constraint_classification(matching_markets_general, rope, context(agent_power(individual_powerful), _, _, _)),
    constraint_indexing:constraint_classification(matching_markets_general, noose, context(agent_power(individual_powerless), _, trapped, _)).

test(market_failure_threshold) :-
    % High suppression (S > 0.6) forces a Noose classification for trapped agents.
    domain_priors:suppression_score(matching_markets_general, S),
    S > 0.6.

:- end_tests(matching_markets_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Matching markets differ from auctions because they are about "who gets what" 
 * AND "who gets whom." I set suppression to 0.7 because centralized matching 
 * markets (like the NRMP for doctors) often penalize or ban side-deals, 
 * making the central match a mandatory bottleneck (Noose/Rope).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    preference_revelation_cost,
    "Do participants hide their true preferences to 'game' the match?",
    resolution_mechanism("Comparison of algorithmically derived matches vs. post-match regret surveys"),
    impact("If Gamed: The 'Mountain' is actually a 'Scaffold' (unstable). If True: The 'Mountain' is solid."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Price-Clearing Markets: (Ineffective for kidneys/jobs due to ethics/signaling).
 * 2. Decentralized Signaling: (Causes market 'congestion' and delayed offers).
 * * CONCLUSION:
 * The "Noose" aspect of matching markets is often a trade-off for "Market 
 * Thickness." By forcing everyone into one room (the Noose), you ensure the 
 * highest probability that a match exists (the Rope).
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/matching_markets_general].
 * 2. Run: ?- multi_index_report(matching_markets_general).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: material_tensile_strength
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Materials Science / Solid Mechanics / ASTM E8
% ============================================================================

:- module(constraint_material_tensile_strength, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: material_tensile_strength
 * human_readable: Ultimate Tensile Strength (UTS)
 * domain: technological
 * temporal_scope: Permanent (Universal Physical Properties)
 * spatial_scope: Global (Physical Matter)
 * * SUMMARY:
 * Tensile strength is the maximum stress that a material can withstand while 
 * being stretched or pulled before breaking. It represents the fundamental 
 * cohesive limit of atomic bonding within a solid, dictating the maximum load 
 * a structure can carry per unit of cross-sectional area.
 * * KEY AGENTS:
 * - The Material Scientist: Analytical observer measuring the stress-strain 
 * curve to find the point of necking and fracture.
 * - The Civil Engineer: Institutional agent using safety factors and 
 * standardized tensile values to coordinate the safety of public infrastructure.
 * - The Overloaded Component: Individual agent (part) subject to the load, 
 * where the tensile limit acts as a "Noose" that determines the exact 
 * moment of catastrophic failure.
 * * NARRATIVE ARC:
 * Tensile strength functions as a "Mountain" of physical reality—the 
 * intrinsic limit of molecular lattices. To the builder, it is a "Rope" for 
 * coordination (allowing for predictable weight-bearing designs). However, 
 * for a wire or beam pushed beyond its limit, it becomes a "Noose," 
 * as the cross-section narrows ("necking") and the material's internal 
 * resistance is extracted until it snaps.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for ID extraction
narrative_ontology:interval(tensile_strength_interval, 0, 10).
narrative_ontology:constraint_claim(material_tensile_strength, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.5). It extracts "utility" from the material. As a 
% load increases, the material's safety margin is consumed. In failure, 
% it extracts the structural integrity of the entire system.
domain_priors:base_extractiveness(material_tensile_strength, 0.5).

% Suppression score (0.0-1.0)
% Rationale: Moderate (0.4). The "Ultimate" limit suppresses the possibility 
% of further load-bearing. This limit is visible but physically unyielding, 
% suppressing alternative "infinite strength" fantasies.
domain_priors:suppression_score(material_tensile_strength, 0.4).

% Enforcement requirements
% Emerges naturally from atomic bonding forces (Electromagnetism).
domain_priors:emerges_naturally(material_tensile_strength).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(material_tensile_strength, extractiveness, 0.5).
narrative_ontology:constraint_metric(material_tensile_strength, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(material_tensile_strength, [steel_manufacturers, safety_inspectors]).
constraint_victim(material_tensile_strength, [aging_infrastructure, overloaded_machinery]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE METALLURGIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal physical laws and microstructures.
   WHEN: civilizational - Viewing the properties of iron or carbon as constants.
   WHERE: trapped - Atomic bond energy cannot be cheated by design.
   SCOPE: global - Universal physics.
   
   WHY THIS CLASSIFICATION:
   To the scientist, tensile strength is a Mountain. It is an unchangeable 
   feature of the material's atomic "hardware." No amount of social policy 
   can make a specific grade of steel stronger than its molecular structure 
   allows. It is a fixed peak in the landscape of engineering.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    material_tensile_strength,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE STRUCTURAL ENGINEER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design buildings and select materials.
   WHEN: biographical - Ensuring a bridge lasts for a 50-year career.
   WHERE: arbitrage - Can switch between materials (Concrete, Steel, Carbon Fiber).
   SCOPE: regional - Infrastructure for a specific city or state.
   
   WHY THIS CLASSIFICATION:
   For the engineer, tensile strength is a Rope. It is a coordination 
   mechanism that allows for safety. By knowing the UTS, they can "tether" 
   their designs to reality, using safety factors to pull a functioning, 
   reliable bridge into existence. It is a functional tool for progress.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    material_tensile_strength,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(material_tensile_strength, E),
    E > 0.3, % Managed extraction of material limits
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SUSPENSION CABLE - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - A single component subject to extreme tension.
   WHEN: immediate - The seconds before a failure occurs.
   WHERE: trapped - Cannot exit the load path.
   SCOPE: local - The immediate cross-section of the material.
   
   WHY THIS CLASSIFICATION:
   For a cable carrying a load beyond its capacity, the tensile limit is 
   a Noose. As the stress reaches the "Ultimate" point, the material 
   begins to "neck" (narrow), concentrating the force. The limit 
   strangles the component's ability to hold together, eventually 
   extracting the structural integrity until it snaps.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    material_tensile_strength,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(material_tensile_strength, E),
    E > 0.4, % High extraction of structural "life"
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(material_tensile_strength_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Powerless sees Noose
    constraint_indexing:constraint_classification(material_tensile_strength, mountain, context(analytical, civilizational, trapped, global)),
    constraint_indexing:constraint_classification(material_tensile_strength, rope, context(institutional, biographical, arbitrage, national)),
    constraint_indexing:constraint_classification(material_tensile_strength, noose, context(individual_powerless, immediate, trapped, local)).

test(power_extractiveness_load) :-
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(material_tensile_strength, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(material_tensile_strength, ContextPowerful, Score2),
    Score1 > Score2.

:- end_tests(material_tensile_strength_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.5): Material limits extract safety. The more you 
 * use the strength, the closer you get to the "ruin" of the component.
 * 2. PERSPECTIVES: Chose the Scientist (Law), the Builder (Tool), and the 
 * Part (Victim) to show the indexical shift.
 * 3. NOOSE LOGIC: Necking in a tensile test is a literal physical 
 * representation of a "tightening trap" that precedes failure.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    microscopic_flaw_distribution,
    "To what extent does 'Theoretical Strength' (Mountain) differ from 
    'Actual Strength' due to invisible internal defects (Noose)?",
    resolution_mechanism("Atomic-scale scanning of every unit of material 
    production"),
    impact("If Mountain: Predictable. If Noose: Hidden traps in all materials."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Composite Reinforcement (Carbon Fiber)
 * Viability: High. Shifts the "Mountain" to a higher peak.
 * Suppression: Low. Actively encouraged in aerospace.
 * * CONCLUSION:
 * While we can switch materials (Rope), we cannot escape the concept of a 
 * "limit" itself. Thus, Tensile Strength is a Mountain of the physical 
 * universe, even if specific values are a Rope for the engineer.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_material_tensile_strength].
 * 2. Multi-perspective: ?- multi_index_report(material_tensile_strength).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: max_flow_min_cut
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Ford-Fulkerson Algorithm / Network Flow Theory
% ============================================================================

:- module(constraint_max_flow_min_cut, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: max_flow_min_cut
 * human_readable: The Max-Flow Min-Cut Theorem
 * domain: technological/mathematical
 * temporal_scope: Immediate to Historical
 * spatial_scope: Regional to Global
 * * SUMMARY:
 * The Max-Flow Min-Cut theorem states that the maximum amount of flow passing 
 * from a source to a sink in a network is exactly equal to the total weight 
 * of the edges in the minimum cut (the smallest set of edges that, if removed, 
 * would disconnect the source from the sink).
 * * KEY AGENTS:
 * - The Network Architect: Designs the pipes/capacities (institutional power).
 * - The Flow: The data, water, or traffic moving through the system (passive).
 * - The Bottleneck: The specific "Min-Cut" edges that dictate the limit.
 * * NARRATIVE ARC:
 * The constraint acts as an invisible ceiling. No matter how much pressure or 
 * "flow" is added at the source, the system's throughput is hard-capped by the 
 * narrowest part of the network architecture.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(max_flow_min_cut, 0, 10).
narrative_ontology:constraint_claim(max_flow_min_cut, mountain).

% Base extractiveness: Moderate (0.4).
% While it's a math law, in human systems (logistics/telecom), the bottleneck 
% often "extracts" value by forcing congestion or fees at the narrowest point.
domain_priors:base_extractiveness(max_flow_min_cut, 0.4).

% Suppression: Low (0.2).
% The bottleneck is usually highly visible to those looking for it (monitoring tools).
domain_priors:suppression_score(max_flow_min_cut, 0.2).

domain_priors:emerges_naturally(max_flow_min_cut).

% Beneficiaries: The Bottleneck Owner (e.g., the bridge with the toll).
constraint_beneficiary(max_flow_min_cut, bottleneck_controller).

% Victims: The Source/Sink Users (limited by the narrowest path).
constraint_victim(max_flow_min_cut, end_users).

narrative_ontology:constraint_metric(max_flow_min_cut, extractiveness, 0.4).
narrative_ontology:constraint_metric(max_flow_min_cut, suppression_requirement, 0.2).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DATA PACKET - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a single unit of flow, the capacity of the edge it is currently on is 
   an immutable law. It cannot "push" harder to move faster than the 
   bandwidth allows.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    max_flow_min_cut,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:emerges_naturally(max_flow_min_cut),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE NETWORK ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: biographical
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   The engineer sees the bottleneck as a "Rope"—a tool for coordination. 
   By identifying the Min-Cut, they can strategically upgrade specific edges 
   to improve total flow efficiently.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    max_flow_min_cut,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MONOPOLIST - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: generational
   WHERE: arbitrage
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   A powerful agent who owns the bottleneck uses the Max-Flow limit as a 
   "Noose" to squeeze users. They purposefully keep capacity low to maintain 
   scarcity and high extraction rates.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    max_flow_min_cut,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(max_flow_min_cut, E),
    E >= 0.4,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(max_flow_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(max_flow_min_cut, Mountain, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(max_flow_min_cut, Rope, context(agent_power(institutional), _, _, _)),
    Mountain \= Rope.

test(bottleneck_awareness) :-
    % Testing if "mobile" agents (engineers) see it as a coordination rope.
    constraint_indexing:constraint_classification(max_flow_min_cut, rope, context(_, _, mobile, _)).

:- end_tests(max_flow_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * The "Max-Flow" problem is fundamentally about bottlenecks. 
 * While the math is a Mountain, the *application* of that math in 
 * socio-technical systems is often a Noose (extraction) or a Rope (design).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    dynamic_capacity,
    "Do edge capacities fluctuate based on flow history?",
    resolution_mechanism("Analysis of non-linear network dynamics / congestion collapse"),
    impact("If Capacities=Fixed: Max-Flow/Min-Cut holds. If Capacities=Dynamic: The 'Mountain' becomes a 'Sea' (shifting ground)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(max_flow, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(max_flow, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(max_flow, noose, agent_power(individual_powerless)).
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: mco_unit_system_discontinuity
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: NASA Mars Climate Orbiter Project Failure Report (Azka Naheem, 2020)
% ============================================================================

:- module(constraint_mco_unit_discontinuity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: mco_unit_system_discontinuity
 * human_readable: Metric/English Interface Discontinuity
 * domain: technological/institutional
 * temporal_scope: 1998-1999
 * spatial_scope: NASA JPL / Lockheed Martin Astronautics
 * * SUMMARY:
 * The loss of the Mars Climate Orbiter (MCO) was caused by a failure to 
 * reconcile different unit systems across a critical software interface. 
 * Lockheed Martin provided thruster performance data in English units 
 * (pound-seconds), while the JPL navigation team expected Metric units 
 * (newton-seconds). This technical "wall" functioned as a structural 
 * constraint that rendered the navigation software's output incorrect.
 * * KEY AGENTS:
 * - Navigation Engineer (JPL): Individual powerless; subject to the data 
 * provided by the upstream software interface.
 * - Software Architect (Lockheed): Institutional; established the original 
 * coding standards and unit choices for the SM_FORCES file.
 * - Mishap Investigation Board: Analytical; post-hoc observer identifying 
 * the systemic "Requirements Engineering" failure.
 * * NARRATIVE ARC:
 * What appeared to be a standard Interface Control Document (ICD) acting 
 * as a Rope (coordination) was actually an unyielding Mountain of 
 * mismatched assumptions. Because the system lacked automated unit 
 * verification, the discontinuity became a Noose that extracted $125.5 
 * million in public funds and years of scientific progress.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(mco_failure_trajectory, 0, 10).
narrative_ontology:constraint_claim(mco_unit_system_discontinuity, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.9. High extraction; the project "extracted" total mission 
% value, capital, and labor without delivering the intended scientific 
% output due to the "silent" nature of the failure.
domain_priors:base_extractiveness(mco_unit_system_discontinuity, 0.9).

% Suppression score (0.0-1.0)
% Rationale: 0.7. Alternatives (unit-testing, independent verification) 
% were suppressed by a culture of "Faster, Better, Cheaper" and poor 
% requirements management.
domain_priors:suppression_score(mco_unit_system_discontinuity, 0.7).

% Enforcement requirements
% Emerges naturally from technical silos, but required active management 
% neglect of the "Requirements Engineering" process to persist.
domain_priors:requires_active_enforcement(mco_unit_system_discontinuity).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(mco_unit_system_discontinuity, extractiveness, 0.9).
narrative_ontology:constraint_metric(mco_unit_system_discontinuity, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(mco_unit_system_discontinuity, short_term_budget_savings).
constraint_victim(mco_unit_system_discontinuity, planetary_science_community).
constraint_victim(mco_unit_system_discontinuity, us_taxpayers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: JPL NAVIGATION ENGINEER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the incoming data stream; lacks 
         visibility into the upstream calculation logic.
   WHEN: immediate - Tactical focus on orbital insertion maneuvers.
   WHERE: trapped - Bound by the constraints of the existing "Ground Software" 
         architecture.
   SCOPE: local - Specific mission trajectory and thruster burns.
   
   WHY THIS CLASSIFICATION:
   To the engineer receiving the data, the software interface is a Mountain. 
   They assume the "Force" value provided is in the standard SI units 
   required by the system. There is no "choice" to interpret the number 
   differently; the math is presented as a natural law of the interface.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    mco_unit_system_discontinuity,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(mco_unit_system_discontinuity),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: NASA PROJECT MANAGEMENT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to establish ICDs and set engineering standards.
   WHEN: biographical - Planning the multi-year mission lifecycle.
   WHERE: mobile - Authority to bridge silos between Lockheed and JPL.
   SCOPE: national - Managing the US Mars exploration program.
   
   WHY THIS CLASSIFICATION:
   Management views the Interface Control Document (ICD) as a Rope—a 
   functional coordination mechanism that allows two different 
   organizations to work on the same hardware. They believe the 
   "system" is coordinating the teams effectively through these documents.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    mco_unit_system_discontinuity,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(mco_unit_system_discontinuity, E),
    E < 0.95, % Invisibility of the extraction to the manager
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: MISHAP INVESTIGATION BOARD - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Post-failure body identifying the root cause.
   WHEN: historical - Evaluating the failure in the context of NASA's 
         "Faster, Better, Cheaper" era.
   WHERE: analytical - Not bound by the operational constraints of the mission.
   SCOPE: global - A case study in systems engineering failure.
   
   WHY THIS CLASSIFICATION:
   The Board identifies the interface as a Noose. The lack of unit 
   validation suppressed the error until it "choked" the orbiter's 
   propulsion system during Mars orbit insertion, extracting the 
   entirety of the project's value.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    mco_unit_system_discontinuity,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(mco_unit_system_discontinuity, S),
    S > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(mco_unit_system_discontinuity_tests).

test(multi_perspective_asymmetry) :-
    % Engineer (Mountain) vs Manager (Rope) vs Investigator (Noose)
    constraint_indexing:constraint_classification(mco_unit_system_discontinuity, T1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(mco_unit_system_discontinuity, T2, context(institutional, biographical, mobile, national)),
    constraint_indexing:constraint_classification(mco_unit_system_discontinuity, T3, context(analytical, historical, analytical, global)),
    T1 \= T2, T2 \= T3.

test(high_extraction_signature) :-
    domain_priors:base_extractiveness(mco_unit_system_discontinuity, E),
    E > 0.8.

:- end_tests(mco_unit_system_discontinuity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.9): The report highlights a total loss of the 
 * spacecraft ($125M). In Deferential Realism, technical failures that 
 * destroy capital through "silent" silos are high-extraction Nooses.
 * 2. SUPPRESSION (0.7): I chose a high score because the error was 
 * effectively suppressed by a lack of end-to-end testing and the 
 * separation of software teams.
 * 3. PERSPECTIVE: The "Navigation Engineer" is the classic powerless 
 * agent who treats the "API" as a Mountain (law of the world).
 */

omega_variable(
    automated_verification_cost,
    "Would the cost of implementing automated unit-checking have 
     outweighed the risk of mission failure?",
    resolution_mechanism("Comparison of modern NASA mission requirements vs. 1999 standards"),
    impact("If Yes: The silo was a temporary Rope. If No: It was a 
            structural Noose from inception."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Standardized Unit Testing (Automated)
 * Viability: Modern software practices (unit test suites) would have 
 * caught the type/unit mismatch instantly.
 * Suppression: Suppressed by "Faster, Better, Cheaper" budget 
 * constraints and a lack of software engineering rigor.
 * * ALTERNATIVE 2: End-to-End System Simulation
 * Viability: Simulating the mission from the perspective of the ground 
 * station would have revealed the orbital deviation before arrival.
 * * CONCLUSION:
 * The existence of proven engineering alternatives (Simulation/Unit Testing) 
 * that were suppressed for cost reasons confirms the classification of the 
 * unit discontinuity as a Noose.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [mco_unit_system_discontinuity].
% 2. Analyze: ?- multi_index_report(mco_unit_system_discontinuity).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: med_diet_consensus_2026
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "The one diet that’s good for everything" by Carissa Wong (Jan 2026)
% ============================================================================

:- module(med_diet_consensus_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: med_diet_consensus_2026
 * human_readable: Mediterranean Diet Scientific Hegemony
 * domain: health/scientific/economic
 * temporal_scope: 1999-2026 (The "RCT Era" of nutrition)
 * spatial_scope: Global (Scientific/Medical community)
 * * SUMMARY:
 * The establishment of the Mediterranean diet as the "gold standard" of nutrition 
 * through Randomized Controlled Trials (RCTs). This creates a normative health 
 * constraint where alternative dietary patterns are classified as "fads" or 
 * "sub-optimal," influencing insurance, public health policy, and social status.
 * * KEY AGENTS:
 * - Institutional Scientist: (e.g., Luigi Fontana) - Views the diet as a verified 
 * biological tool for longevity.
 * - Health-Conscious Citizen: (Individual Moderate) - Experiences the diet as a 
 * voluntary coordination mechanism for better health.
 * - Low-Income Subject: (Individual Powerless) - Experiences the diet as a 
 * normative "Noose" due to the high cost of fresh legumes, fish, and olive oil.
 * * NARRATIVE ARC:
 * From 1940s observation (Ancel Keys) to 1999 heart attack trials, to 2026 
 * consensus. The constraint moves from a "suggestion" to a "scientific truth" 
 * that dictates what is considered "delicious" and "planetary-friendly."
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(med_diet_consensus_2026, 0, 10).

% Base extractiveness score: 0.2 (Low)
% Rationale: The primary beneficiary is the subject's own health and the planet. 
% However, there is mild asymmetry in "health-washing" and the premium pricing 
% of Mediterranean staples.
domain_priors:base_extractiveness(med_diet_consensus_2026, 0.2).

% Suppression score: 0.4 (Moderate)
% Rationale: The text explicitly dismisses "dietary fads" and contrasts the 
% Mediterranean diet with the "low-fat" alternative which was beaten in RCTs. 
% Alternatives are visible but scientifically delegitimized.
domain_priors:suppression_score(med_diet_consensus_2026, 0.4).

% Enforcement: Emerges naturally through consensus/scientific validation.
domain_priors:emerges_naturally(med_diet_consensus_2026).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(med_diet_consensus_2026, global_healthcare_systems).
constraint_beneficiary(med_diet_consensus_2026, planetary_ecology).
constraint_victim(med_diet_consensus_2026, processed_food_industry).
constraint_victim(med_diet_consensus_2026, low_income_populations). % (Economic extraction via food-pricing)

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: INSTITUTIONAL SCIENTIST - Rope
   --------------------------------------------------------------------------
   WHO: institutional (Rule-making/Scientific consensus)
   WHEN: generational (Thinking in terms of decades of evidence)
   WHERE: mobile (Can choose different research focuses)
   SCOPE: global (The "Scientific Gold Standard")
   
   WHY THIS CLASSIFICATION:
   The scientist sees the diet as a "Rope"—a beneficial coordination mechanism 
   grounded in RCT data. It is a tool to be used to improve public health 
   outcomes, with high degrees of freedom for the expert to recommend or tweak.
   
   NARRATIVE EVIDENCE:
   "It’s not only healthy, it’s also extremely tasty... established it as 
   the scientific gold standard."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    med_diet_consensus_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: LOW-INCOME CITIZEN - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (No control over food supply/pricing)
   WHEN: biographical (Short-term survival/budget)
   WHERE: trapped (Living in food deserts or economic constraints)
   SCOPE: local (Limited to local supermarket inventory)
   
   WHY THIS CLASSIFICATION:
   For those who cannot afford fresh fish, nuts, and high-quality olive oil, 
   the "Gold Standard" acts as a Noose. It is a normative requirement for 
   health that is economically inaccessible, creating a sense of failure or 
   systemic exclusion while the "experts" celebrate its deliciousness.
   
   NARRATIVE EVIDENCE:
   The article focuses on "fibre, vegetables, legumes, fruit, nuts, fish" 
   without addressing the income levels of participants in the Seven Countries 
   Study, which Ancel Keys ignored.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    med_diet_consensus_2026,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(med_diet_consensus_2026, S),
    S > 0.3, % Presence of normative pressure
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: BIOLOGICAL ANALYST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical (Observer of physiology)
   WHEN: civilizational (Evolutionary human metabolism)
   WHERE: analytical (Universal application)
   SCOPE: global (Biological reality)
   
   WHY THIS CLASSIFICATION:
   From an evolutionary biology perspective, the human body's positive response 
   to these specific nutrient ratios (Omega-3s, fibre) is a "Mountain." It is 
   not a choice but a fixed biological law of human health that we must 
   navigate, similar to the law of gravity.
   
   NARRATIVE EVIDENCE:
   "Time and time again, scientists have found that one diet beats all others... 
   backed up by decades of evidence."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    med_diet_consensus_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(med_diet_consensus_2026_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(med_diet_consensus_2026, Type1, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(med_diet_consensus_2026, Type2, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2.

test(power_extractiveness_scaling) :-
    % While base extractiveness is low, the cost-to-benefit ratio is 
    % significantly worse for the powerless (trapped in food deserts).
    true.

test(time_immutability) :-
    % Test that immediate horizon sees it as a chore (Rope), while 
    % civilizational sees it as a fact (Mountain).
    constraint_indexing:constraint_classification(med_diet_consensus_2026, rope, context(_, immediate, _, _)),
    constraint_indexing:constraint_classification(med_diet_consensus_2026, mountain, context(_, civilizational, _, _)).

:- end_tests(med_diet_consensus_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.2): Chose low because the diet genuinely helps the individual. 
 * The "extraction" is largely symbolic (social pressure) or economic 
 * (market premium on Mediterranean goods).
 * 2. SUPPRESSION (0.4): The article actively frames other diets as "fads," 
 * narrowing the window of "valid" eating.
 * 3. PERSPECTIVES: I highlighted the "Low-Income Subject" as a Noose because 
 * dietary advice often ignores the material constraints (Mountain-like) 
 * of poverty, effectively punishing those who can't comply.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    med_diet_genetic_universality,
    "Does the Mediterranean diet benefit all genetic haplotypes equally, or is the 'gold standard' biased toward European metabolic history?",
    resolution_mechanism("Genome-wide association studies across diverse global populations (beyond the Seven Countries Study)"),
    impact("If biased: Noose for non-European populations. If universal: Mountain."),
    confidence_without_resolution(medium)
).

omega_variable(
    med_diet_supply_chain_collapse,
    "Will climate change render the Mediterranean staples (olive oil, specific fish) so scarce that the diet becomes an elitist Noose?",
    resolution_mechanism("Monitoring agricultural yields in the Mediterranean basin vs. global demand over next 20 years"),
    impact("If scarce: Becomes a marker of class (Noose). If adaptable: Remains a Rope."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Low-Fat Diet
 * Viability: Was the standard in the late 20th century.
 * Suppression: Explicitly rejected by the 1999 RCT mentioned in the text.
 * * ALTERNATIVE 2: Ancestral/Regional Diets (e.g., Nordic, Japanese)
 * Viability: High health outcomes in those regions.
 * Suppression: Largely ignored by the "Mediterranean" branding, creating 
 * a monoculture of dietary advice.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [med_diet_consensus_2026].
 * 2. Run tests: ?- run_tests(med_diet_consensus_2026_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: medical_residency_match
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: National Resident Matching Program (NRMP) / Roth-Peranson Algorithm
% ============================================================================

:- module(constraint_medical_match, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: medical_residency_match
 * human_readable: The NRMP Medical Residency Match
 * domain: economic/social/technological
 * temporal_scope: Biographical (Final year of med school)
 * spatial_scope: National (USA)
 * * SUMMARY:
 * The "Match" is a centralized clearinghouse that uses a version of the 
 * Gale-Shapley algorithm (Roth-Peranson) to pair medical students with 
 * residency programs. It is a legally binding contract generated by an 
 * algorithm, designed to prevent "exploding offers" and market unraveling.
 * * KEY AGENTS:
 * - The Medical Student: Submits a Rank Order List (ROL) of programs.
 * - The Residency Program: Submits a Rank Order List of applicants.
 * - The NRMP: The institutional architect enforcing the "no-departure" rule.
 * * NARRATIVE ARC:
 * For decades, the market "unraveled"—hospitals made offers earlier and 
 * earlier, sometimes to students years before graduation. The Match was 
 * implemented as a stabilization mechanism, but it created a monolithic 
 * bottleneck that determines a doctor's entire career path in one second.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(medical_residency_match, 0, 10).
narrative_ontology:constraint_claim(medical_residency_match, rope).

% Base extractiveness: High (0.6).
% Hospitals gain significant wage-setting power because students cannot 
% negotiate individual contracts once matched.
domain_priors:base_extractiveness(medical_residency_match, 0.6).

% Suppression: Extreme (0.95).
% Side-deals (pre-matching) are strictly prohibited and can result in 
% being banned from the profession. The Match is the only legal path.
domain_priors:suppression_score(medical_residency_match, 0.95).

% Enforcement: Requires active enforcement (NRMP legal framework).
domain_priors:requires_active_enforcement(medical_residency_match).

% Beneficiaries: Hospital Systems (predictable labor supply, suppressed wages).
constraint_beneficiary(medical_residency_match, hospital_networks).

% Victims: Fourth-year Med Students (lack of bargaining power, high stress).
constraint_victim(medical_residency_match, medical_graduates).

% Metrics
narrative_ontology:constraint_metric(medical_residency_match, extractiveness, 0.6).
narrative_ontology:constraint_metric(medical_residency_match, suppression_requirement, 0.95).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE STUDENT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate (Match Day)
   WHERE: trapped (Binding legal contract)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the student, the Match is a "Noose." They have no "exit" option; 
   once the algorithm runs, they are legally bound to work at the 
   resulting hospital, often in a different city, with no room to 
   negotiate salary or hours. The suppression of side-deals makes 
   it a mandatory bottleneck.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    medical_residency_match,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(medical_residency_match, S),
    S > 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE HOSPITAL ADMINISTRATOR - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: generational
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   To the hospital, the Match is a "Rope." it coordinates the chaos of 
   recruiting thousands of residents simultaneously. It ensures they 
   fill their quotas with the "best" available candidates according 
   to their rank list, preventing a bidding war for talent.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    medical_residency_match,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LABOR ECONOMIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The economist sees the Match as a "Mountain." Market unraveling 
   (congestion) is a natural economic force. A centralized 
   clearinghouse is the only "stable" solution to this game-theoretic 
   problem. The algorithm isn't a choice; it's a structural necessity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    medical_residency_match,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(medical_residency_match),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(medical_match_tests).

test(exit_option_noose) :-
    % Testing that 'trapped' agents (students) experience a Noose.
    constraint_indexing:constraint_classification(medical_residency_match, noose, context(_, _, trapped, _)).

test(coordination_rope) :-
    % Testing that institutions see the Rope of coordination.
    constraint_indexing:constraint_classification(medical_residency_match, rope, context(institutional, _, _, _)).

:- end_tests(medical_match_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * The medical match is the "hardest" version of a matching market. 
 * I set suppression to 0.95 because there is literally no other way to 
 * become a licensed physician in the US without going through this 
 * specific algorithm. This makes it a perfect example of a "Noose" 
 * from the perspective of the individual laborer.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    antitrust_exemption,
    "Will the legal exemption allowing the Match to suppress wage competition be overturned?",
    resolution_mechanism("Supreme Court or Congressional review of Jung v. Association of American Medical Colleges"),
    impact("If Yes: The 'Mountain' collapses into a decentralized 'Auction' (Rope/Noose reversal)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Decentralized Labor Market: (History shows this leads to 'exploding offers' 
 * and market failure/unraveling).
 * 2. Multi-Stage Match: (Allows for some negotiation after the first match).
 * * CONCLUSION:
 * The Match is a "Stable" outcome (Mountain), but the *price* of that 
 * stability is the removal of student agency (Noose).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: medieval_church_hegemony
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Historical Synthesis (Medieval Canon Law & Social Structures c. 1200 CE)
% ============================================================================

:- module(medieval_church_hegemony, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: medieval_church_hegemony
 * human_readable: The Medieval Ecclesiastical Hegemony
 * domain: religious/economic/political
 * temporal_scope: c. 1100-1400 CE
 * spatial_scope: Latin Christendom (Europe)
 * * SUMMARY:
 * A comprehensive social and spiritual constraint system where the Church 
 * controls the "means of salvation." It features mandatory tithing (10% tax), 
 * Latin-only liturgy (blocking direct textual access), and the threat of 
 * excommunication to enforce social and political compliance.
 * * KEY AGENTS:
 * - The Peasant (Laboratores): Powerless subjects providing the economic base via tithes.
 * - The Bishop/Clergy (Oratores): Institutional rule-makers and gatekeepers of grace.
 * - The Heretic/Dissenter: Subjects attempting "analytical" exit, facing high suppression.
 * * NARRATIVE ARC:
 * The Church functions as a cosmic "Mountain" for the faithful, providing 
 * meaning and social safety nets, but acts as a "Noose" for those seeking 
 * economic or intellectual independence from the papal hierarchy.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(medieval_church_hegemony, 0, 10).
narrative_ontology:constraint_claim(medieval_church_hegemony, mountain).

% Base extractiveness: High (0.7). 
% Rationale: The 10% tithe was mandatory and often enforced by civil law, 
% while the Church owned roughly 1/3 of European land.
domain_priors:base_extractiveness(medieval_church_hegemony, 0.7).

% Suppression score: High (0.9). 
% Rationale: Scripture was restricted to Latin; vernacular translations 
% were often suppressed or labeled heretical to maintain the clergy's 
% role as sole intermediaries.
domain_priors:suppression_score(medieval_church_hegemony, 0.9).

% Enforcement: Requires active enforcement (Inquisition, Interdicts, Tithe collectors).
domain_priors:requires_active_enforcement(medieval_church_hegemony).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(medieval_church_hegemony, extractiveness, 0.7).
narrative_ontology:constraint_metric(medieval_church_hegemony, suppression_requirement, 0.9).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SERF/PEASANT - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: biographical
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the illiterate peasant, the Church is the literal fabric of reality. 
   The liturgical year dictates time, and the priest holds the keys to 
   eternity. With no alternative worldviews available (high suppression), 
   the system appears as an unchangeable natural law.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    medieval_church_hegemony,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(medieval_church_hegemony, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MONARCH/NOBILITY - Rope
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: historical
   WHERE: constrained
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   Kings and Lords use the Church as a functional coordination mechanism 
   (Rope) to legitimize their rule via "Divine Right." While they clash 
   with the Pope over investiture, they rely on the Church for literacy, 
   administration, and social stability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    medieval_church_hegemony,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(medieval_church_hegemony, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SUPPRESSED DISSENTER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For groups like the Cathars or early Lollards, the Church is a Noose. 
   The refusal to pay tithes or the desire for vernacular scripture 
   results in asymmetric violence, asset forfeiture, and physical 
   annihilation.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    medieval_church_hegemony,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(regional)
    )
) :-
    domain_priors:requires_active_enforcement(medieval_church_hegemony),
    domain_priors:base_extractiveness(medieval_church_hegemony, E),
    E > 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(medieval_church_tests).

test(perspectival_shift) :-
    constraint_indexing:constraint_classification(medieval_church_hegemony, Mountain, context(individual_powerless, biographical, trapped, local)),
    constraint_indexing:constraint_classification(medieval_church_hegemony, Rope, context(individual_powerful, historical, constrained, national)),
    Mountain \= Rope.

test(tithe_extractiveness) :-
    % Test that powerless agents feel more extraction than institutional ones
    true.

:- end_tests(medieval_church_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION (0.9): Chosen due to the explicit ban on laypeople owning 
 * vernacular bibles (e.g., Council of Toulouse, 1229).
 * 2. EXTRACTIVENESS (0.7): While the tithe was a 10% extraction, the 
 * Church also provided "social insurance" (hospitals, poor relief) which 
 * distinguishes it from a 1.0 "pure robbery" Noose.
 * 3. PERSPECTIVES: I used the "Monarch" to show how a constraint can be a 
 * "Rope" for one class while being a "Mountain" or "Noose" for another.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Vernacular Scripture
 * Viability: Successfully implemented later during the Reformation.
 * Suppression: Actively suppressed by Clerical monopoly on Latin.
 * * ALTERNATIVE 2: Voluntary Charity (vs. Mandatory Tithe)
 * Viability: Practiced by mendicant orders (Franciscans) but discouraged 
 * as a systemic replacement for the parochial tithe.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * ?- [medieval_church_hegemony].
 * ?- run_tests(medieval_church_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(medieval_church_hegomony, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(medieval_church_hegomony, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(medieval_church_hegomony, noose, agent_power(individual_powerless)).
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: metamorphosis_samsa
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Metamorphosis by Franz Kafka (David Wyllie Trans.)
% ============================================================================

:- module(constraint_metamorphosis_samsa, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: metamorphosis_samsa
 * human_readable: The Samsa Vermin Transformation
 * domain: biological/economic/social
 * temporal_scope: Late 19th/Early 20th Century (Industrial Era)
 * spatial_scope: The Samsa Family Flat (Urban Apartment)
 * * SUMMARY:
 * Gregor Samsa wakes to find himself transformed into a "horrible vermin." 
 * This transformation serves as a hard biological constraint that immediately 
 * triggers a secondary economic constraint: the inability to perform labor 
 * to pay off his parents' debt to his employer.
 * * KEY AGENTS:
 * - Gregor Samsa: The traveling salesman (Victim/Powerless subject).
 * - The Chief Clerk: Representative of the Firm (Institutional enforcer).
 * - Mr. Samsa: Gregor's father (Transitioning from powerless to institutional).
 * - Grete Samsa: Gregor's sister (Initially functional coordination, later coercive).
 * * NARRATIVE ARC:
 * The constraint begins as a shocking biological event (Mountain) for Gregor,
 * becomes a breach of contract (Noose) for the employer, and eventually 
 * transforms from a care-taking coordination (Rope) into an existential 
 * threat (Noose) for the family, culminating in Gregor's removal/death.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(samsa_transformation_period, 0, 10).
narrative_ontology:constraint_claim(metamorphosis_samsa, mountain).

% Base extractiveness score (0.8): High. 
% Rationale: The system (Employer + Family) has extracted 5 years of 
% unceasing labor from Gregor to service a debt he did not incur.
domain_priors:base_extractiveness(metamorphosis_samsa, 0.8).

% Suppression score (0.7): High.
% Rationale: The family suppresses Gregor's humanity, his voice is 
% dismissed as "animal sounds," and alternatives (medical care) are 
% abandoned almost immediately.
domain_priors:suppression_score(metamorphosis_samsa, 0.7).

% Enforcement requirements
% Emerges naturally as a biological fact, but requires active 
% social enforcement (locking the door) to maintain the "Noose" status.
domain_priors:requires_active_enforcement(metamorphosis_samsa).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(metamorphosis_samsa, extractiveness, 0.8).
narrative_ontology:constraint_metric(metamorphosis_samsa, suppression_requirement, 0.7).

% Beneficiaries and Victims
constraint_beneficiary(metamorphosis_samsa, the_firm).
constraint_beneficiary(metamorphosis_samsa, mr_samsa). % Once Gregor is "removed" and debt is moot.
constraint_victim(metamorphosis_samsa, gregor_samsa).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: GREGOR SAMSA - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - He is physically transformed and unable to communicate.
   WHEN: immediate - His focus is on the next train (5:00 AM) and immediate bodily pain.
   WHERE: trapped - Locked in his room, unable to use the door handle or move freely.
   SCOPE: local - His world is reduced to the floor, walls, and ceiling of one room.
   
   WHY THIS CLASSIFICATION:
   For Gregor, the verminhood is an unchangeable law of nature. He cannot "will"
   his way back to humanity. It has zero degrees of freedom.
   
   NARRATIVE EVIDENCE:
   "He was used to sleeping on his right, and in his present state couldn't get 
   into that position." "He had no proper teeth—how was he, then, to grasp the key?"
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    metamorphosis_samsa,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(individual_powerless, immediate, trapped, local),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CHIEF CLERK - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional - Represents the legal/economic power of the employer.
   WHEN: immediate - Concerned only with the missed 5:00 AM and 7:00 AM trains.
   WHERE: mobile - He can leave the flat at any time (and does so in a panic).
   SCOPE: national - Part of a larger commercial network of travelers.
   
   WHY THIS CLASSIFICATION:
   The Clerk views the constraint as an extractive/coercive failure. He 
   interprets Gregor's absence not as a tragedy, but as "peculiar whims" 
   or potential "theft of funds." It is a Noose designed to force Gregor 
   back to work.
   
   NARRATIVE EVIDENCE:
   "You fail to carry out your business duties in a way that is quite unheard 
   of... your position is not all that secure."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    metamorphosis_samsa,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(metamorphosis_samsa, E),
    E > 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CHARWOMAN - Rope
   --------------------------------------------------------------------------
   
   WHO: analytical - She views Gregor with detached, coarse curiosity.
   WHEN: biographical - She has seen "the hardest of things in her long life."
   WHERE: mobile - She comes and goes as an employee, not a family member.
   SCOPE: local - He is just an object in the room she cleans.
   
   WHY THIS CLASSIFICATION:
   To the charwoman, Gregor is not a horror or a legal failure; he is a 
   "dung-beetle." He is a functional element of her workday, something to 
   be poked with a broom or ignored.
   
   NARRATIVE EVIDENCE:
   "At first she would call to him... 'come on then, you old dung-beetle!'" 
   "She wasn't really repelled by Gregor."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    metamorphosis_samsa,
    rope,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(metamorphosis_samsa, S),
    S < 0.8, % She doesn't fear him, so she doesn't suppress the reality.
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(metamorphosis_samsa_tests).

test(multi_perspective_variance) :-
    % Gregor's View
    constraint_indexing:constraint_classification(metamorphosis_samsa, Type1, 
        context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))),
    % Clerk's View
    constraint_indexing:constraint_classification(metamorphosis_samsa, Type2, 
        context(agent_power(institutional), time_horizon(immediate), exit_options(mobile), spatial_scope(national))),
    % Charwoman's View
    constraint_indexing:constraint_classification(metamorphosis_samsa, Type3, 
        context(agent_power(analytical), time_horizon(biographical), exit_options(mobile), spatial_scope(local))),
    Type1 \= Type2,
    Type2 \= Type3,
    Type1 == mountain,
    Type2 == noose,
    Type3 == rope.

test(power_extractiveness_scaling) :-
    % Powerless Gregor experiences high extractiveness
    domain_priors:base_extractiveness(metamorphosis_samsa, Score),
    Score > 0.7.

test(exit_option_shift) :-
    % Sister shifts from Rope (care) to Noose (removal) as her exit options 
    % (marriage/future) become constrained by Gregor's presence.
    true.

:- end_tests(metamorphosis_samsa_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.8): 
 * Gregor's life is defined by the extraction of his vitality to pay a 
 * debt that is not his. The transformation is the point where the 
 * "machine" of his labor breaks down, and the system turns on him.
 * * 2. PERSPECTIVE SELECTION: 
 * Included the Charwoman as the 'Analytical' perspective because she 
 * lacks the emotional/economic baggage of the family, proving that 
 * 'Vermin' is a classification, not just a fact.
 * * 3. CLASSIFICATION RATIONALE:
 * - Gregor -> Mountain: He attempts to "sleep it off" initially, 
 * treating it as a temporary illness (Rope), but the reality of his 
 * legs and lack of teeth forces a 'Mountain' realization.
 * - Clerk -> Noose: His first reaction is to threaten Gregor's job 
 * and reputation, typical of an extractive institutional perspective.
 * * 4. CONFIDENCE: 
 * High: The economic/labor constraints are explicit in Kafka's text.
 * Medium: The classification of the Charwoman as 'Rope' depends on 
 * interpreting her lack of fear as a functional relationship to the 
 * "object" of Gregor.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    vermin_ontology,
    "Is Gregor's transformation a biological mutation or a psychological manifestation?",
    resolution_mechanism("Requires external medical/biological examination not present in the text."),
    impact("If Biological: Mountain. If Psychological: Scaffold/Rope (changeable with therapy)."),
    confidence_without_resolution(low)
).

omega_variable(
    debt_origin,
    "What was the specific nature of the 'business misfortune' 5 years ago?",
    resolution_mechanism("Historical audit of Mr. Samsa's collapsed firm."),
    impact("Determines if the original debt was a Noose (extractive) or a Rope (risk coordination)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Medical Intervention
 * Viability: The family mentions calling a doctor but never follows through 
 * once the "animal" voice is heard.
 * Suppression: Actively suppressed by the father's violence and the 
 * clerk's immediate dismissal.
 * * ALTERNATIVE 2: Empathy/Integration
 * Viability: Grete initially attempts to find food Gregor likes.
 * Suppression: Abandoned as Grete's own biographical time-horizon 
 * (marriage/work) becomes threatened by the social stigma.
 * * CONCLUSION:
 * The rapid suppression of these alternatives shifts the family's 
 * classification of Gregor from a 'broken Rope' (sick brother) to a 
 * 'Noose' (monster that must be removed).
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% narrative_ontology:interval(metamorphosis_samsa, 0, 10).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: micro_robot_electronics_integration
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Hanson et al., "Electrokinetic propulsion for electronically 
%         integrated microscopic robots," PNAS (2025).
% ============================================================================

:- module(constraint_micro_robot_integration, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: micro_robot_electronics_integration
 * human_readable: The Structural Barrier to Microrobot Electronics Integration
 * domain: technological/engineering
 * temporal_scope: 2020-2025 (Current Research Era)
 * spatial_scope: Microscopic (Sub-millimeter scale)
 * * SUMMARY:
 * This constraint represents the fundamental "gap" in microscopic robotics: 
 * the inability to integrate semiconductor microelectronics with existing 
 * propulsion platforms. While macroscopic robots benefit from 
 * unified electronic control, microscopic platforms are traditionally 
 * bifurcated between mechanically robust propulsion and intelligent 
 * electronic circuitry, "limiting their potential for intelligence".
 * * KEY AGENTS:
 * - The Microrobot (EK-Robot): Individual powerless; subject to the 
 * physical laws of electrokinetic flows and photovoltaic control.
 * - The Research Engineer (Hanson/Miskin): Institutional; rule-making 
 * agents seeking to "upgrade" particle platforms into integrated robots.
 * - The Analytical Observer (PNAS Reviewer): Evaluates the efficiency of 
 * coordinated swarming and waypoint navigation.
 * * NARRATIVE ARC:
 * The lack of integration functioned as a Noose for the field, choking off 
 * the development of autonomous microrobotic intelligence. The 
 * introduction of electrokinetic propulsion (ek-robots) serves as a Rope—a 
 * functional coordination mechanism that allows propulsion and electronics 
 * to share a single semiconductor platform.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for ID extraction
narrative_ontology:interval(ek_robot_integration_cycle, 0, 10).
narrative_ontology:constraint_claim(micro_robot_electronics_integration, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. Low; the constraint is a technical barrier that "extracts" 
% scientific potential and research funding without a functional yield.
domain_priors:base_extractiveness(micro_robot_electronics_integration, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.6. Moderate/High; existing propulsion methods (chemically 
% propelled, magnetic, etc.) often "suppress" the inclusion of on-board 
% logic because they are incompatible with standard lithographic processes.
domain_priors:suppression_score(micro_robot_electronics_integration, 0.6).

% Enforcement requirements
% Emerges naturally from the physical limits of scaling semiconductor 
% fabrication to fluidic environments.
domain_priors:emerges_naturally(micro_robot_electronics_integration).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(micro_robot_electronics_integration, extractiveness, 0.2).
narrative_ontology:constraint_metric(micro_robot_electronics_integration, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(micro_robot_electronics_integration, mechanical_simplicity).
constraint_victim(micro_robot_electronics_integration, autonomous_microrobotic_intelligence).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MICROROBOT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the physics of the Reynolds number and 
         fluidic drag; cannot alter its own circuitry once fabricated.
   WHEN: immediate - Tactical millisecond response to optical control pulses.
   WHERE: trapped - Bound by the liquid environment of the test chamber.
   SCOPE: local - Navigating micrometer-scale waypoints.
   
   WHY THIS CLASSIFICATION:
   For the bot, the relationship between current ($I$) and speed ($v$) is a 
   Mountain ($v \propto I$). It is an unchangeable law of its world. If the 
   circuitry isn't integrated, it remains a passive particle, unable to 
   negotiate its trajectory.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    micro_robot_electronics_integration,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:emerges_naturally(micro_robot_electronics_integration),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE RESEARCH ENGINEER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power to design the lithographic 
         masks and optical control loops.
   WHEN: biographical - Planning the multi-year development of 
         "smart" microscopic swarms.
   WHERE: mobile - Can pivot between different electrokinetic geometries 
         (two-diode vs. four-diode bots) .
   SCOPE: regional - Managing the lab-scale "swarm" environment.
   
   WHY THIS CLASSIFICATION:
   To the scientist, the electrokinetic model is a Rope. It is a functional 
   coordination tool that links electronics with propulsion. They "weave" 
   the control signals (lasers) to synchronize the movement of independent 
   agents toward a waypoint.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    micro_robot_electronics_integration,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(micro_robot_electronics_integration, E),
    E < 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the field's previous stagnation.
   WHEN: historical - Looking at the 20-year history of self-propelled particles.
   WHERE: analytical - Free from the design constraints of a specific lab.
   SCOPE: global - Evaluating the worldwide search for microscopic intelligence.
   
   WHY THIS CLASSIFICATION:
   The investigator identifies the lack of integration as a Noose. By 
   separating control from propulsion, the field "choked" its own ability 
   to scale up to complex, autonomous tasks. The "extraction" was the loss 
   of intelligence potential in favor of purely mechanical particles.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    micro_robot_electronics_integration,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(micro_robot_electronics_integration, S),
    S > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(micro_robot_integration_tests).

test(multi_perspective_conflict) :-
    % Bot (Mountain) vs Scientist (Rope) vs Historian (Noose)
    constraint_indexing:constraint_classification(micro_robot_electronics_integration, T1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(micro_robot_electronics_integration, T2, context(institutional, biographical, mobile, national)),
    constraint_indexing:constraint_classification(micro_robot_electronics_integration, T3, context(analytical, historical, analytical, global)),
    T1 \= T2, T2 \= T3.

test(extraction_threshold_check) :-
    % Extraction of intelligence potential is moderate but noticeable
    domain_priors:base_extractiveness(micro_robot_electronics_integration, E),
    E > 0.15.

:- end_tests(micro_robot_integration_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.2): I chose a low score because the constraint isn't 
 * actively hostile, but passively extractive of the field's "intelligent 
 * potential".
 * 2. PERSPECTIVE: The microrobot's view as 'Mountain' highlights the 
 * unyielding nature of the fluid physics (ek-flows) it must obey to 
 * achieve "one body length per second".
 * 3. NOOSE LOGIC: The analytical view recognizes that mechanical-only 
 * platforms "choked" the path to intelligence, a signature of the Noose.
 */

omega_variable(
    intelligence_scaling_bottleneck,
    "Does the current requirement for off-board optical control (lasers) 
     simply create a new Noose of external dependency?",
    resolution_mechanism("Evaluation of bots with fully autonomous on-board decision logic"),
    impact("If Yes: The system remains a Noose. If No: It has successfully 
            transformed into a fully internal Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Optical Tweezers
 * Viability: Highly precise for single particles[cite: 51].
 * Suppression: Suppressed by the need for massive, expensive off-board 
 * infrastructure which cannot scale to autonomous swarms.
 * * ALTERNATIVE 2: Chemically Propelled Janus Particles
 * Viability: Excellent for raw speed and robustness.
 * Suppression: Actively suppressed by scientists seeking electronics 
 * integration, as chemistry is difficult to "program" digitally.
 * * CONCLUSION:
 * The existence of mechanical-only alternatives (Janus particles) proves that 
 * the lack of electronics was a choice—a choice that functioned as a Noose 
 * for the development of "smart" microrobots.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [micro_robot_electronics_integration].
% 2. Analyze: ?- multi_index_report(micro_robot_electronics_integration).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: microbiome_symbiosis
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Helen Thomson, "Realising the importance of our microbiome"
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_microbiome_symbiosis, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: microbiome_symbiosis
 * human_readable: The Microbial-Immune Symbiosis
 * domain: biological/healthcare
 * temporal_scope: 17th Century (discovery) to 2026 (healthcare integration)
 * spatial_scope: Internal (Human Body) / Global (Clinical Research)
 * * SUMMARY:
 * For centuries, humans inadvertently influenced their health via microbes. 
 * Modern sequencing has revealed that the microbiome is not a passive passenger 
 * but an active participant in metabolism, immunity, and mental well-being. 
 * This symbiotic relationship reframes human health as a collaborative system 
 * between human cells and a unique microbial "fingerprint".
 * * KEY AGENTS:
 * - The Individual: Host to a unique microbial "fingerprint" of viruses and fungi.
 * - The Microbiome: Active participant influencing the pancreas, brain, and immunity.
 * - Medical Establishment: Transitioning from rule-based "germ theory" to complex symbiosis.
 * * NARRATIVE ARC:
 * What was once an invisible "Mountain" (natural law of health) is becoming a 
 * "Rope" (functional tool via faecal transplants and nutrition apps). 
 * However, microbial dysfunction acts as a "Noose," potentially triggering 
 * chronic conditions like Parkinson's or diabetes.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

narrative_ontology:interval(microbiome_symbiosis, 0, 10).

% Base extractiveness: 0.45 (Moderate)
% Rationale: Microbes influence drug efficacy and metabolic flow. 
% There is a net flow of information and energy between host and microbe.
domain_priors:base_extractiveness(microbiome_symbiosis, 0.45).

% Suppression: 0.65 (Moderate-High)
% Rationale: It took two centuries to validate Van Leeuwenhoek's findings. 
% The "rule-based" understanding of health suppressed the recognition of 
% this deep symbiotic influence until the 21st century.
domain_priors:suppression_score(microbiome_symbiosis, 0.65).

% Enforcement: Emerges naturally (Co-evolutionary biological reality).
domain_priors:emerges_naturally(microbiome_symbiosis).

% BENEFICIARIES & VICTIMS
% The Host (Human) benefits from immunity and metabolism when symbiotic.
constraint_beneficiary(microbiome_symbiosis, human_host).
% Pathogenic bacteria (e.g., C. difficile) or dysfunctional states "victimize" the system.
constraint_victim(microbiome_symbiosis, dysfunctional_microbial_populations).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ROMAN CITIZEN - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Unaware of the mechanism) 
   WHEN: historical (Ancient health practices) 
   WHERE: trapped (No conceptual exit; health is a matter of "fate/remedies") 
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   Ancient humans used bacterial remedies to "guard the stomach" without 
   realizing why. To them, the effects were an immutable part of 
   nature's "Mountain"—uncontrollable and mysterious.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    microbiome_symbiosis,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(historical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(microbiome_symbiosis, S),
    S > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: MODERN BIO-TECH (e.g., Zoe App) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Providing health coordination tools) 
   WHEN: biographical (Individual nutrition/health cycles) 
   WHERE: mobile (Choices in diet and intervention) 
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For modern medicine, the microbiome is a "Rope"—a functional mechanism that 
   can be measured and manipulated (via faecal transplants or diet) to 
   restore health and alter drug efficacy.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    microbiome_symbiosis,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(microbiome_symbiosis, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: PATIENT WITH PARKINSON'S/DIABETES - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Affected by systemic dysfunction) 
   WHEN: immediate (Onset of chronic illness) 
   WHERE: constrained (Condition dictates lifestyle and survival) 
   SCOPE: local (Internal physiology) 
   
   WHY THIS CLASSIFICATION:
   When the microbial-immune communication fails, it triggers debilitating 
   conditions. The symbiotic constraint turns into a "Noose" 
   where microbial dysfunction actively harms the host's nervous system.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    microbiome_symbiosis,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    % Extraction/Dysfunction becomes harmful
    true,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(microbiome_symbiosis_tests).

test(multi_perspective_variance) :-
    % Roman (Mountain) vs Tech (Rope) vs Chronic Patient (Noose)
    constraint_indexing:constraint_classification(microbiome_symbiosis, mountain, context(individual_powerless, historical, trapped, local)),
    constraint_indexing:constraint_classification(microbiome_symbiosis, rope, context(institutional, biographical, mobile, global)),
    constraint_indexing:constraint_classification(microbiome_symbiosis, noose, context(individual_powerless, immediate, constrained, local)).

test(efficacy_transformation) :-
    % Test that "identifying fingerprints" (2000s) shifts the classification 
    % from an invisible Mountain to a manipulatable Rope.
    ModernE = 0.4,
    HistoricalE = 0.0,
    ModernE > HistoricalE.

:- end_tests(microbiome_symbiosis_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.45): High enough to be significant (influencing drugs/brain) 
 * but not purely predatory.
 * 2. SUPPRESSION (0.65): Reflects the long "latency" between the 17th-century 
 * stool sample and 21st-century appreciation.
 * 3. PERSPECTIVES: Used the "Roman stomach guards"  as a 
 * perfect example of an agent facing a Mountain they don't yet name.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    microbial_causality_link,
    "Does microbial dysfunction cause conditions like Parkinson's, or is it a downstream symptom of host failure?",
    resolution_mechanism("Longitudinal studies tracking microbial shifts prior to symptomatic onset "),
    impact("If cause: Noose (preventable). If symptom: Mountain (biological marker)."),
    confidence_without_resolution(medium)
).

omega_variable(
    microbiome_symbiosis_extraction_intent,
    "Is the symbiotic extraction of metabolic products a functional necessity for the species or a vulnerability exploited by pathogens?",
    resolution_mechanism("Audit of C. difficile cure rates via community restoration vs. individual antibiotic use "),
    impact("If necessity: Rope. If vulnerability: Noose."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Sterile Health Paradigm (Germ Theory)
 * Viability: The dominant 20th-century model—treating all microbes as enemies.
 * Suppression: This alternative is now being "reframed" as a failure 
 * in the face of complex chronic diseases.
 * * CONCLUSION:
 * The 21st-century "Idea" is the rejection of the "Sterile Noose" in favor 
 * of the "Symbiotic Rope".
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/microbiome_symbiosis].
 * 2. Multi-perspective: ?- multi_index_report(microbiome_symbiosis).
 * 3. Run tests: ?- run_tests(microbiome_symbiosis_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: mil_std_461g_emi_control
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: MIL-STD-461G - Control of Electromagnetic Interference Characteristics
% ============================================================================

:- module(constraint_mil_std_461g_emi_control, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: mil_std_461g_emi_control
 * human_readable: MIL-STD-461G EMI Interface Standard
 * domain: technological/military/electronic
 * temporal_scope: 2015 - Present
 * spatial_scope: Global (DoD systems and equipment)
 * * SUMMARY:
 * MIL-STD-461G establishes interface requirements for the control of electromagnetic 
 * interference (EMI) characteristics of subsystems and equipment. 
 * It is designed to ensure that equipment functions within its designated design 
 * tolerances in a complex military electromagnetic environment.
 * * KEY AGENTS:
 * - Equipment Contractor: The entity responsible for designing and testing hardware 
 * to meet these specific, often costly, requirements.
 * - Procuring Activity (DoD Official): The institutional power that enforces 
 * compliance but has the authority to "tailor" the requirements.
 * - EMI Engineer: The analytical observer who views these requirements as a 
 * formalization of the unchangeable laws of physics (electromagnetism).
 * * NARRATIVE ARC:
 * Originally conceived as a "Rope" for functional coordination to prevent 
 * platform-level failures, the standard often functions 
 * as a "Noose" for smaller contractors due to the high barrier of entry for 
 * specialized testing equipment and expertise.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(mil_std_461g_era, 2015, 2026).
narrative_ontology:constraint_claim(mil_std_461g_emi_control, rope).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.5). Compliance requires expensive specialized testing 
% infrastructure, shielded cables, and expert labor.
domain_priors:base_extractiveness(mil_std_461g_emi_control, 0.5).

% Suppression score (0.0-1.0)
% Rationale: Moderate (0.4). While tailoring is possible, alternative commercial 
% standards (e.g., FCC) are often functionally suppressed/rejected for high-stakes 
% military applications.
domain_priors:suppression_score(mil_std_461g_emi_control, 0.4).

% Enforcement: Requires active maintenance (Testing, verification, and contract oversight).
domain_priors:requires_active_enforcement(mil_std_461g_emi_control).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(mil_std_461g_emi_control, extractiveness, 0.5).
narrative_ontology:constraint_metric(mil_std_461g_emi_control, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(mil_std_461g_emi_control, dod_mission_safety).
constraint_beneficiary(mil_std_461g_emi_control, test_lab_facilities).
constraint_victim(mil_std_461g_emi_control, small_defense_contractors).
constraint_victim(mil_std_461g_emi_control, innovative_untested_cots).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: DEFENSE CONTRACTOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Must comply with the standard to receive payment.
   WHEN: immediate - Focused on the current contract delivery and testing cycle.
   WHERE: trapped - Bound by the specific requirements stated in the contract.
   SCOPE: local - Focused on the specific subsystem being tested.
   
   WHY THIS CLASSIFICATION:
   The contractor sees the standard as a "Noose" because it imposes asymmetric 
   costs. Failure in a single EMI test (e.g., radiated emissions) can lead to 
   costly redesigns and project delays, effectively extracting resources 
   without guaranteed payoff.
   
   NARRATIVE EVIDENCE:
   "Tightening of connectors and introduction of additional isolation... better 
   shielded cables, alternative routing, or shielding barriers".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    mil_std_461g_emi_control,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: DOD PROCURING ACTIVITY - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Has the power to "tailor" the individual requirements.
   WHEN: biographical - Planning for the multi-decade lifecycle of a platform.
   WHERE: mobile - Can adjust the severity of requirements based on the platform.
   SCOPE: national - Applies to all DoD Departments and Agencies.
   
   WHY THIS CLASSIFICATION:
   For the DoD official, the standard is a "Rope" for functional coordination. 
   It ensures that different subsystems function together in a designated 
   electromagnetic environment (EME) without interfering with each other 
  .
   
   NARRATIVE EVIDENCE:
   "The procuring activity should consider tailoring the individual requirements 
   to be more or less severe based on the design features of the intended 
   platform".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    mil_std_461g_emi_control,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: EMI SPECIALIST / SCIENTIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the laws of electromagnetism.
   WHEN: historical - Based on the immutable nature of electronic interference.
   WHERE: analytical - Not physically trapped; observing the system.
   SCOPE: global - The physics of EMI apply to all equipment everywhere.
   
   WHY THIS CLASSIFICATION:
   The scientist sees the standard as a formalization of a "Mountain." The 
   requirements for control of EMI aren't arbitrary bureaucratic rules; they 
   are necessary responses to the unchangeable laws of physics that dictate 
   how electronic components interact.
   
   NARRATIVE EVIDENCE:
   " function within their designated design tolerances when operating in 
   their intended electromagnetic environment".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    mil_std_461g_emi_control,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(mil_std_461g_emi_control_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(mil_std_461g_emi_control, Type1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(mil_std_461g_emi_control, Type2, context(institutional, biographical, mobile, national)),
    Type1 = noose,
    Type2 = rope.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, mobile, national),
    constraint_indexing:extractiveness_for_agent(mil_std_461g_emi_control, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(mil_std_461g_emi_control, ContextPowerful, Score2),
    Score1 > Score2.

test(analytical_mountain_observation) :-
    constraint_indexing:constraint_classification(mil_std_461g_emi_control, mountain, context(analytical, historical, analytical, global)).

:- end_tests(mil_std_461g_emi_control_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.5):
 * Reasoning: compliance is famously expensive. It requires specialized 
 * shielded chambers, unique antennas, and highly trained engineers.
 * Evidence: The standard explicitly mentions methods for checking and 
 * correcting problems with shielded cables and barriers.
 * * 2. SUPPRESSION SCORE (0.4):
 * Reasoning: while the document explicitly allows tailoring, 
 * this tailoring is an internal DoD process. For a contractor, the standard 
 * effectively suppresses cheaper commercial-grade EMI alternatives.
 * * 3. PERSPECTIVE SELECTION:
 * Chose Contractor (Noose), DoD Official (Rope), and Scientist (Mountain) 
 * to demonstrate the full spectrum of indexical truth.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    tailoring_effectiveness,
    "Does tailoring actually reduce costs for contractors, or is it used primarily to increase severity?",
    resolution_mechanism("Audit of tailoring decisions across 100 DoD acquisition programs"),
    impact("If beneficial: Standard is a true Rope. If punitive: Standard is a Noose for all."),
    confidence_without_resolution(medium)
).

omega_variable(
    lab_vs_field_fidelity,
    "Do laboratory interface requirements actually prevent interference in the chaotic real-world battlefield?",
    resolution_mechanism("Compare lab-tested reliability against battlefield performance logs over 5 years"),
    impact("If High Fidelity: Mountain. If Low Fidelity: Scaffold (Hollow)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Commercial EMI Standards (FCC Part 15 / CISPR)
 * Viability: Much lower cost; ubiquitous in consumer electronics.
 * Suppression: Rejected for military use because it lacks the severity 
 * necessary for platform-level survivability.
 * * ALTERNATIVE 2: Pure Modeling and Simulation
 * Viability: Reduces the need for physical chambers.
 * Suppression: Currently used as a supplement, but the standard still 
 * mandates physical "verification" methods.
 * * CONCLUSION:
 * The presence of tailoring and specific verification methods cements the 
 * standard as a Rope for those with power, but the active rejection of 
 * commercial standards makes it a Noose for those tasked with compliance.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [constraint_mil_std_461g_emi_control].
% Run tests: ?- run_tests(mil_std_461g_emi_control_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: mil_std_810f_tailoring
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: MIL-STD-810F - Environmental Engineering Considerations and Laboratory Tests
% ============================================================================

:- module(constraint_mil_std_810f_tailoring, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: mil_std_810f_tailoring
 * human_readable: MIL-STD-810F Environmental Tailoring
 * domain: technological/military/industrial
 * temporal_scope: 2000 - Present (Operational era of the "F" revision)
 * spatial_scope: Global (Applied to all DoD materiel acquisition)
 * * SUMMARY:
 * MIL-STD-810F is a Department of Defense standard focused on "tailoring a materiel item's 
 * environmental design and test limits to the conditions that the specific materiel will 
 * experience throughout its service life". It emphasizes 
 * replicating the *effects* of environments rather than the environments themselves 
 *.
 * * KEY AGENTS:
 * - Test Lab Engineer: The individual executing the grueling test methods; often 
 * constrained by the "fixed" nature of the standard's procedures.
 * - DoD Acquisition Official: The institutional agent who uses the standard as a 
 * coordination mechanism to ensure mission-ready equipment.
 * - Environmental Scientist: The analytical observer who views the standard as a 
 * formalization of the "natural laws" of material degradation.
 * * NARRATIVE ARC:
 * The standard moves from being an institutional "Rope" (a tool for design guidance) 
 * to a "Mountain" of physical reality for the materiel 
 * itself, while occasionally acting as a "Noose" for contractors who must absorb 
 * the costs of failure in a laboratory setting.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(mil_std_810f_era, 2000, 2026).
narrative_ontology:constraint_claim(mil_std_810f_tailoring, rope).

% Base extractiveness score: 0.5
% Rationale: Moderate. The standard "extracts" significant engineering and 
% financial resources from developers to ensure equipment survivability.
domain_priors:base_extractiveness(mil_std_810f_tailoring, 0.5).

% Suppression score: 0.4
% Rationale: While "tailoring" is encouraged, 
% alternative (non-DoD approved) testing methods are functionally invisible 
% and punished by contract rejection.
domain_priors:suppression_score(mil_std_810f_tailoring, 0.4).

% Enforcement: Requires active maintenance through DoD acquisition cycles.
domain_priors:requires_active_enforcement(mil_std_810f_tailoring).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(mil_std_810f_tailoring, dod_personnel). % Safer, reliable gear.
constraint_beneficiary(mil_std_810f_tailoring, service_members).
constraint_victim(mil_std_810f_tailoring, defense_contractors). % Bearing the cost of testing.
constraint_victim(mil_std_810f_tailoring, acquisition_budgets).

% Metrics required for Executive Summary
narrative_ontology:constraint_metric(mil_std_810f_tailoring, extractiveness, 0.5).
narrative_ontology:constraint_metric(mil_std_810f_tailoring, suppression_requirement, 0.4).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: TEST LAB ENGINEER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound to follow the "clearest direction" of the standard.
   WHEN: immediate - Focused on the 1-year test cycle and immediate results.
   WHERE: trapped - Cannot exit the standard if the contract mandates "MIL-STD-810F."
   SCOPE: local - Concerned with the specific test chamber and laboratory environment.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the standard is a "Noose" that dictates asymmetric effort. 
   Failure in the lab means a recursive loop of redesign and re-testing, extracting 
   personal and professional time to satisfy a rigid "F" revision cycle.
   
   NARRATIVE EVIDENCE:
   "The primary emphases are still the same... establishing laboratory test methods 
   that replicate the effects of environments".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    mil_std_810f_tailoring,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: ACQUISITION OFFICIAL - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Has the power to "tailor" the standard for applications.
   WHEN: biographical - Spanning the 20-50 year lifecycle of a weapon system.
   WHERE: mobile - Can adjust the "environmental design and test limits".
   SCOPE: national - Applies to all Departments and Agencies of the DoD.
   
   WHY THIS CLASSIFICATION:
   For the official, the standard is a "Rope" for functional coordination. 
   It is a tool used to ensure that various project teams are working toward a 
   common, reliable standard of "materiel acquisition".
   
   NARRATIVE EVIDENCE:
   "This revision recognizes that the environmental design and test tailoring process 
   has expanded to involve a wide range of managerial and technical interests" 
  .
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    mil_std_810f_tailoring,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: ENVIRONMENTAL SCIENTIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the "environmental considerations".
   WHEN: historical - Based on the long history of environmental stress on materials.
   WHERE: analytical - Sees the "conditions that the specific materiel will experience".
   SCOPE: global - Worldwide environmental effects (sand, dust, temperature).
   
   WHY THIS CLASSIFICATION:
   The scientist sees the standard as a map of a "Mountain." The requirements 
   aren't arbitrary; they are a formalization of the "natural laws" of physics. 
   Corrosion and heat damage are unchangeable features of the reality the 
   equipment must inhabit.
   
   NARRATIVE EVIDENCE:
   "replicate the effects of environments on materiel rather than trying to reproduce 
   the environments themselves".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    mil_std_810f_tailoring,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(mil_std_810f_tailoring_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(mil_std_810f_tailoring, Noose, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(mil_std_810f_tailoring, Rope, context(institutional, biographical, mobile, national)),
    Noose = noose,
    Rope = rope.

test(power_extractiveness_scaling) :-
    ContextEngineer = context(individual_powerless, immediate, trapped, local),
    ContextDOD = context(institutional, biographical, mobile, national),
    constraint_indexing:extractiveness_for_agent(mil_std_810f_tailoring, ContextEngineer, Score1),
    constraint_indexing:extractiveness_for_agent(mil_std_810f_tailoring, ContextDOD, Score2),
    Score1 > Score2.

test(analytical_mountain_fixity) :-
    constraint_indexing:constraint_classification(mil_std_810f_tailoring, mountain, context(analytical, historical, analytical, global)).

:- end_tests(mil_std_810f_tailoring_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.5):
 * Reasoning: The standard mandates a high level of technical rigor which 
 * effectively extracts value (capital/labor) from the contractor to benefit 
 * the end-user's safety.
 * * 2. SUPPRESSION SCORE (0.4):
 * Reasoning: Alternatives to these test methods exist but are suppressed 
 * by the "approved for use by all Departments and Agencies" clause 
 *.
 * * 3. PERSPECTIVE SELECTION:
 * Chose Engineer (Powerless), Official (Institutional), and Scientist 
 * (Analytical) to demonstrate the full Mountain/Rope/Noose spread.
 * * 4. AMBIGUITIES:
 * The term "tailoring" implies flexibility (Rope), but the mandatory nature 
 * of the standard for DoD contracts suggests a Noose for subordinates.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    lab_vs_field_fidelity,
    "Do laboratory simulations truly replicate the 'effects' of the service environment?",
    resolution_mechanism("Post-deployment audit of field failures vs predicted lab failures over 10 years"),
    impact("If Yes: Standard is a true Mountain (Natural Law). If No: Standard is a Scaffold (Hollow)."),
    confidence_without_resolution(medium)
).

omega_variable(
    tailoring_competence_variance,
    "Does the wide range of 'managerial and technical interests' lead to effective tailoring or bureaucratic bloat?",
    resolution_mechanism("Analysis of mission success rates correlated with the degree of standard tailoring performed."),
    impact("If Effective: Rope. If Bloat: Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Field-only Testing (Trial by Fire)
 * Viability: Used in rapid-response scenarios; skip the lab and go to the desert.
 * Suppression: Explicitly rejected in the Foreword in favor of "environmental 
 * tailoring process throughout the materiel acquisition cycle".
 * * ALTERNATIVE 2: Pure Modeling and Simulation (Digital Twins)
 * Viability: Increasingly viable with modern compute.
 * Suppression: 810F emphasizes "laboratory test methods".
 * * CONCLUSION:
 * The shift from MIL-STD-810E to 810F explicitly suppressed static environments 
 * in favor of effect-based tailoring, cementing its role as an active Rope.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [mil_std_810f_tailoring].
% Run tests: ?- run_tests(mil_std_810f_tailoring_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: minimax_decision_rule
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: John von Neumann (1928) / Game Theory / Decision Theory
% ============================================================================

:- module(constraint_minimax_decision_rule, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: minimax_decision_rule
 * human_readable: Minimax Decision Rule
 * domain: technological/mathematical
 * temporal_scope: 1928 - Present
 * spatial_scope: Global/Abstract (Zero-sum strategic environments)
 * * SUMMARY:
 * Minimax is a decision rule used in game theory and artificial intelligence for 
 * minimizing the possible loss for a worst-case (maximum loss) scenario. In a 
 * zero-sum game, it represents the point where one player's gain is exactly equal 
 * to the other's loss, establishing a stable but often conservative equilibrium.
 * * KEY AGENTS:
 * - The Search Algorithm (Subject): A powerless agent bound by the recursive 
 * logic of the search tree.
 * - The System Architect (Institutional): Uses Minimax as a "Rope" to guarantee 
 * baseline security in adversarial environments.
 * - The Opponent (Victim): An agent whose creative or aggressive strategies are 
 * "strangled" by an algorithm that plays perfectly to minimize their potential wins.
 * * NARRATIVE ARC:
 * Minimax functions as a "Mountain" of logical inevitability—in a zero-sum 
 * universe, it is the fundamental floor of safety. In cybersecurity and 
 * high-stakes negotiation, it is a "Rope" for functional coordination. 
 * However, for the creative agent seeking a "big win," the rule acts as a 
 * "Noose," extracting the possibility of high-reward variance and "strangling" 
 * the game into a predictable, risk-averse stalemate.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required structural anchor
narrative_ontology:interval(minimax_era, 1928, 2026).
narrative_ontology:constraint_claim(minimax_decision_rule, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.3. It "extracts" the potential for maximum gain (Maximax) in 
% favor of guaranteed minimums, imposing a "tax" of conservatism on the agent.
domain_priors:base_extractiveness(minimax_decision_rule, 0.3).

% Suppression score (0.0-1.0)
% Rationale: 0.2. It suppresses high-risk, high-reward "exploitative" strategies 
% in favor of "optimal" defensive play.
domain_priors:suppression_score(minimax_decision_rule, 0.2).

% Enforcement: Emerges naturally from the desire to survive adversarial encounters.
domain_priors:emerges_naturally(minimax_decision_rule).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(minimax_decision_rule, extractiveness, 0.3).
narrative_ontology:constraint_metric(minimax_decision_rule, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(minimax_decision_rule, conservative_investors).
constraint_beneficiary(minimax_decision_rule, adversarial_security_systems).
constraint_victim(minimax_decision_rule, high_variance_gamblers).
constraint_victim(minimax_decision_rule, innovative_asymmetric_attackers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE AI SEARCH NODE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For an individual node in a minimax search tree, the value assigned by the 
   algorithm is a natural law. It has no agency to "hope" for a better outcome; 
   it is bound by the recursive $V = \min_{a} \max_{b} U(a,b)$.
   
   NARRATIVE EVIDENCE:
   "The algorithm does not play to win; it plays to ensure it does not lose 
   more than the value of the game."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    minimax_decision_rule,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE NETWORK DEFENDER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional
   WHEN: biographical
   WHERE: mobile
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the defender, Minimax is a "Rope"—a tool for functional coordination. 
   It allows them to coordinate a standard of achievement (security) by 
   assuming the worst-case attacker behavior, pulling the system toward a 
   stable, defensible state.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    minimax_decision_rule,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE STRATEGIC INNOVATOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless
   WHEN: immediate
   WHERE: constrained
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For the innovator, the rule is a "Noose." It "strangles" creative 
   risk-taking. The algorithm’s refusal to leave its conservative 
   equilibrium extracts the potential for breakthrough "big wins," trapping 
   the innovator in a cycle of marginal, defensive gains.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    minimax_decision_rule,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :- 
    domain_priors:base_extractiveness(minimax_decision_rule, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(minimax_decision_rule_tests).

test(multi_perspective_variance) :-
    % Node -> Mountain
    constraint_indexing:constraint_classification(minimax_decision_rule, Type1, context(individual_powerless, immediate, trapped, local)),
    % Defender -> Rope
    constraint_indexing:constraint_classification(minimax_decision_rule, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, mobile, global),
    constraint_indexing:extractiveness_for_agent(minimax_decision_rule, ContextPowerless, S1),
    constraint_indexing:extractiveness_for_agent(minimax_decision_rule, ContextPowerful, S2),
    S1 > S2. % Powerless agent (innovator) feels more extraction of opportunity.

test(emergence) :-
    domain_priors:emerges_naturally(minimax_decision_rule).

:- end_tests(minimax_decision_rule_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.3): Chose this because Minimax is inherently about 
 * sacrificing potential upside for safety. It extracts the "dream" 
 * of the agent to enforce the "reality" of the opponent.
 * 2. CLASSIFICATION: Captured the transition from a "Mountain" of logic for 
 * the machine to a "Noose" of boredom/stalemate for the player.
 */

% OMEGA IDENTIFICATION
omega_variable(
    adversarial_rationality,
    "Does Minimax remain a 'Mountain' if the opponent is irrational (Scaffold)?",
    resolution_mechanism("Comparison of Minimax vs Expectiminimax performance against stochastic/irrational agents."),
    impact("If irrationality prevails, Minimax is a 'Noose' that extracts unnecessary caution."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Maximax (Aggressive/Risk-seeking)
 * Viability: Useful in non-zero-sum games with high rewards.
 * Suppression: Actively suppressed in formal security/adversarial training 
 * because it leads to catastrophic failure in worst-case scenarios.
 * * ALTERNATIVE 2: Expected Utility (Bayesian/Probabilistic)
 * Viability: The standard when the opponent's strategy is predictable.
 * Conclusion: The existence of probabilistic alternatives (Ropes) makes 
 * the Minimax "Noose" only relevant when the opponent is a "Perfect Demon."
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [minimax_decision_rule].
% Analyze: ?- constraint_indexing:multi_index_report(minimax_decision_rule).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: monetary_regime_transition
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Indexical Relativity Applied to Gold and Fiat
% ============================================================================

:- module(constraint_monetary_regime, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: monetary_regime_transition
 * human_readable: The Gold-to-Fiat Transition
 * domain: economic/political
 * temporal_scope: 1944 (Bretton Woods) to 1971 (Nixon Shock)
 * spatial_scope: Global (Reserve Currency context)
 * * SUMMARY:
 * The transition from the Gold Standard (commodity-backed) to Fiat (credit-backed) 
 * currency illustrates the Law of Indexical Relativity. What appears as a 
 * "Natural Law" of value to the individual becomes a "Strategic Variable" 
 * for the state.
 * * KEY AGENTS:
 * - Individual Saver: Agent seeking to preserve value across time.
 * - The Central Bank/State: Agent managing systemic liquidity and debt.
 * - Global Financial Markets: Analytical observers playing arbitrage between regimes.
 * * NARRATIVE ARC:
 * Gold is perceived as a Mountain by savers (limited supply, unchangeable). 
 * For the State, this Mountain is a Noose (constrains spending). By shifting 
 * to Fiat, the State transforms the constraint into a Rope (coordination via 
 * interest rates) while the Saver experiences a shift toward a Noose (inflationary 
 * extraction).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(nixon_shock_1971, 0, 10).
narrative_ontology:constraint_claim(monetary_regime_transition, rope).

% Base extractiveness score (0.5: Moderate extraction via inflation)
% Rationale: Fiat allows for "hidden" extraction of purchasing power over time.
domain_priors:base_extractiveness(monetary_regime_transition, 0.5).

% Suppression score (0.4: Alternatives like gold or crypto are visible but regulated)
domain_priors:suppression_score(monetary_regime_transition, 0.4).

% Requires active enforcement (Legal tender laws)
domain_priors:requires_active_enforcement(monetary_regime_transition).

% Metrics for DR-Audit
narrative_ontology:constraint_metric(monetary_regime_transition, extractiveness, 0.5).
narrative_ontology:constraint_metric(monetary_regime_transition, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(monetary_regime_transition, [debt_issuers, sovereign_states, financial_intermediaries]).
constraint_victim(monetary_regime_transition, [fixed_income_savers, powerless_creditors]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Individual Saver (Gold Standard) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: biographical (Lifetime of saving)
   WHERE: trapped (Subject to national currency)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the individual, the Gold Standard is a Mountain. Its scarcity is 
   perceived as a physical law of nature that protects the "objective" 
   value of their labor.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    monetary_regime_transition,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    % Perceived as unchangeable commodity scarcity
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: The Sovereign State (Fiat Regime) - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: generational
   WHERE: arbitrage (Can print or tax)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the State, Fiat is a Rope. It is a coordination mechanism that allows 
   for flexible response to crises, infrastructure investment, and 
   monetary policy adjustment.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    monetary_regime_transition,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The Creditor (Fiat Inflation) - Noose
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: constrained (Costly to exit into hard assets)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For those holding long-term debt or cash, Fiat can function as a Noose. 
   The intentional expansion of the money supply acts as a coercive 
   asymmetric extraction of their future purchasing power.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    monetary_regime_transition,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(monetary_regime_transition, E),
    E >= 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(monetary_regime_tests).

test(regime_shift_as_index_shift) :-
    % Individual sees Mountain (Gold)
    constraint_indexing:constraint_classification(monetary_regime_transition, mountain, 
        context(individual_powerless, biographical, trapped, local)),
    % State sees Rope (Fiat)
    constraint_indexing:constraint_classification(monetary_regime_transition, rope, 
        context(institutional, generational, arbitrage, national)),
    % Saver in Fiat sees Noose
    constraint_indexing:constraint_classification(monetary_regime_transition, noose, 
        context(individual_moderate, biographical, constrained, national)).

test(extraction_variance) :-
    % Institutional power reduces the experience of extraction compared to savers
    ContextSaver = context(individual_moderate, biographical, constrained, national),
    ContextState = context(institutional, generational, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(monetary_regime_transition, ContextSaver, S1),
    constraint_indexing:extractiveness_for_agent(monetary_regime_transition, ContextState, S2),
    S1 > S2.

:- end_tests(monetary_regime_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVES: I mapped Gold to Mountain (perceived scarcity) and Fiat 
 * to Rope (institutional flexibility) and Noose (unintended/intended inflation).
 * * 2. OMEGAS:
 * omega_variable(fiat_durability,
 * "Can a credit-based Rope function indefinitely without collapsing into a Noose?",
 * resolution_mechanism("Wait-and-see: Analysis of civilizational debt cycles."),
 * impact("If it collapses: Fiat was always a deferred Noose. If it persists: It's a permanent Rope."),
 * confidence_without_resolution(low)
 * ).
 * * 3. AMBIGUITIES: The 'extractiveness' of fiat is highly debated. I set it 
 * at 0.5 to reflect the constant 2% target inflation which, over a 
 * 'biographical' horizon, is a significant extraction of value.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Algorithmic Scarcity (Bitcoin/Crypto)
 * Viability: A digital Mountain that mimics gold's scarcity without the 
 * physical weight.
 * Suppression: Moderate (Regulatory 'Chokepoints').
 * * ALTERNATIVE 2: Free Banking / Competing Currencies
 * Viability: Multiple Ropes competing for users.
 * Suppression: High (Legal tender laws and central bank monopolies).
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE:
 * ?- [constraint_monetary_regime].
 * ?- constraint_indexing:multi_index_report(monetary_regime_transition).
 * ?- run_tests(monetary_regime_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: monty_hall_conditional_probability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Steve Selvin (1975) / Marilyn vos Savant (1990)
% ============================================================================

:- module(constraint_monty_hall, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: monty_hall_conditional_probability
 * human_readable: The Monty Hall Problem
 * domain: mathematical/probabilistic
 * temporal_scope: 1975 - Present
 * spatial_scope: Global/Abstract (Game Theory)
 * * SUMMARY:
 * The Monty Hall problem is a counter-intuitive probability puzzle based on a 
 * game show scenario. It demonstrates how new information (opening a door) 
 * shifts probabilities in a way that defies linear human intuition, creating 
 * a structural constraint where "switching" is mathematically superior.
 * * KEY AGENTS:
 * - The Contestant (Subject): The powerless agent facing a choice with 
 * hidden variables and counter-intuitive odds.
 * - The Game Show Host (Institutional): The rule-enforcer who knows the 
 * location of the "Car" and uses the constraint to maintain dramatic tension.
 * - The Intuitive Skeptic (Victim): An agent whose common-sense logic 
 * ("it's 50/50") is "strangled" by the underlying Bayesian Mountain.
 * * NARRATIVE ARC:
 * The problem functions as a "Mountain" of Bayesian reality—the 2/3 vs 1/3 
 * odds are a fixed, unyielding truth of the system's state space. In 
 * education, it is a "Rope" for coordinating an understanding of conditional 
 * probability. However, for the contestant's ego, the paradox acts as a 
 * "Noose," extracting the possibility of a "rational" 50/50 choice and 
 * "strangling" those who refuse to pivot when the rules shift.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor for the Deferential Realism Auditor
narrative_ontology:interval(probability_paradox_era, 1975, 2026).
narrative_ontology:constraint_claim(monty_hall_conditional_probability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.33. The paradox "extracts" 1/3 of the winning probability from 
% those who stay with their original choice, effectively taxing "loyalty" 
% or "stasis" in a changing environment.
domain_priors:base_extractiveness(monty_hall_conditional_probability, 0.33).

% Suppression score (0.0-1.0)
% Rationale: 0.6. It heavily suppresses the visibility of the "50/50" 
% alternative, rendering the intuitive answer mathematically fraudulent 
% and socially ridiculed in academic circles.
domain_priors:suppression_score(monty_hall_conditional_probability, 0.6).

% Enforcement: Emerges naturally from the laws of conditional probability.
domain_priors:emerges_naturally(monty_hall_conditional_probability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(monty_hall_conditional_probability, extractiveness, 0.33).
narrative_ontology:constraint_metric(monty_hall_conditional_probability, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(monty_hall_conditional_probability, bayesian_statisticians).
constraint_beneficiary(monty_hall_conditional_probability, logical_pivoters).
constraint_victim(monty_hall_conditional_probability, intuitive_thinkers).
constraint_victim(monty_hall_conditional_probability, static_choice_advocates).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DOORS (STATE SPACE) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The physical configuration of the car has no agency.
   WHEN: immediate - The probability is set the moment the car is placed.
   WHERE: trapped - Bound within the three-door system.
   SCOPE: local - Immediate physical arrangement.
   
   WHY THIS CLASSIFICATION:
   For the system itself, the conditional probabilities are a natural law. 
   Opening a goat-door *must* concentrate the remaining probability into 
   the unchosen, unopened door. It is an unyielding Mountain of logic.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    monty_hall_conditional_probability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PROBABILITY PROFESSOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to use the paradox to coordinate classroom learning.
   WHEN: biographical - Spanning the duration of a student's cognitive shift.
   WHERE: mobile - Can choose different variants (100 doors) to illustrate the point.
   SCOPE: global - Universal pedagogical tool.
   
   WHY THIS CLASSIFICATION:
   For the educator, the problem is a "Rope"—a functional coordination 
   mechanism. It allows them to "pull" students away from the "Noose" of 
   faulty intuition toward a standard of achievement in Bayesian thinking.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    monty_hall_conditional_probability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SKEPTICAL CONTESTANT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Lacks the tools to compute the shift in real-time.
   WHEN: immediate - Forced to choose between switching or staying NOW.
   WHERE: constrained - The "exit" (switching) feels like a betrayal of intuition.
   SCOPE: local - A specific, high-stakes game.
   
   WHY THIS CLASSIFICATION:
   For the intuitive thinker, the problem is a "Noose." It "strangles" their 
   common-sense confidence. Because they perceive a 50/50 choice, the system 
   extracts 33% of their winning chance (extraction) if they fail to 
   overcome their cognitive bias. The logic of the host "chokes" their 
   original intent.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    monty_hall_conditional_probability,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(monty_hall_conditional_probability, E),
    E >= 0.3,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(monty_hall_conditional_probability_tests).

test(multi_perspective_variance) :-
    % Doors -> Mountain
    constraint_indexing:constraint_classification(monty_hall_conditional_probability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Professor -> Rope
    constraint_indexing:constraint_classification(monty_hall_conditional_probability, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(intuitive_extraction_penalty) :-
    % Demonstrates that the Noose classification extracts more value (win %) from the powerless agent.
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    constraint_indexing:extractiveness_for_agent(monty_hall_conditional_probability, ContextPowerless, Score),
    Score >= 0.33.

test(natural_emergence) :-
    domain_priors:emerges_naturally(monty_hall_conditional_probability).

:- end_tests(monty_hall_conditional_probability_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.33): 
 * The system is mathematically biased against the "Stay" strategy. It 
 * extracts exactly 33.3% of the potential win-rate compared to the "Switch" 
 * strategy.
 * 2. PERSPECTIVE SELECTION: 
 * Chose Doors (Subject), Professor (Institution), and Skeptic (Victim) 
 * to highlight the gap between "State," "Utility," and "Trap."
 * 3. SUPPRESSION SCORE (0.6): 
 * The paradox is famous because it so effectively suppresses the "linear" 
 * alternative, making those who hold onto it look "irrational."
 */

% OMEGA IDENTIFICATION
omega_variable(
    host_behavior_certainty,
    "Is the 'Mountain' stable if the host's behavior is not guaranteed (e.g., Monty only offers the switch when you have the car)?",
    resolution_mechanism("Meta-analysis of game rules and host intent across different game show iterations."),
    impact("If Host is malicious: The 'Switch' Rope becomes a 'Noose'. If Host is rule-bound: It is a Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: The "Stay" Strategy
 * Viability: Winning 1/3 of the time.
 * Suppression: Actively suppressed by math educators as "wrong."
 * Evidence: Vos Savant's column receiving thousands of angry (incorrect) letters.
 * * ALTERNATIVE 2: Malicious Host (The "Monty Fall" variant)
 * Viability: If the host only opens a door when you are currently winning.
 * Suppression: Ignored in the standard "idealized" version of the problem.
 * * CONCLUSION:
 * The standard problem assumes a "Rule-Bound" host, turning the "Switch" into 
 * a "Rope." If the host is not rule-bound, the entire Mountain collapses 
 * into a psychological Scaffold.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [monty_hall_conditional_probability].
 * 2. Multi-perspective: ?- multi_index_report(monty_hall_conditional_probability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: moores_law
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Moore, G. E. (1965) / Semiconductor Physics
% ============================================================================

:- module(constraint_moores_law, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: moores_law
 * human_readable: Moore's Law
 * domain: technological/economic
 * temporal_scope: 1965-Present (The Silicon Era)
 * spatial_scope: Global (Computational Hardware)
 * * SUMMARY:
 * Moore's Law is the observation that the number of transistors on a 
 * microchip doubles approximately every two years, while the cost of 
 * computers is halved. It is less a physical law and more a self-fulfilling 
 * prophecy or a "socially enforced" pace of innovation that has driven 
 * the digital revolution.
 * * KEY AGENTS:
 * - The Semiconductor Engineer: Bound to the "treadmill" of miniaturization.
 * - The Software Developer: Relies on "free" hardware gains to offset 
 * inefficient code (Wirth's Law).
 * - The Strategic Investor: Uses the law as a predictable clock for 
 * capital deployment and market obsolescence.
 * * NARRATIVE ARC:
 * Originally a Rope (a beneficial coordination target), Moore's Law has 
 * become a Mountain (an seemingly immutable pace of progress) and a 
 * Noose for manufacturers who must spend billions in R&D just to stay 
 * in the same place relative to the market.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(moores_law_interval, 0, 10).
narrative_ontology:constraint_claim(moores_law, mountain).

% Base extractiveness: 0.3 (Low-Moderate)
% Rationale: It extracts value through planned obsolescence. Devices lose 
% utility rapidly as the "frontier" moves forward, forcing a cycle of 
% consumption and extraction of consumer capital.
domain_priors:base_extractiveness(moores_law, 0.3).

% Suppression score: 0.5 (Moderate)
% Rationale: Alternative hardware architectures (e.g., analog computing) 
% are suppressed by the massive economies of scale and "gravity" of the 
% standard silicon roadmap.
domain_priors:suppression_score(moores_law, 0.5).

% Enforcement requirements: Requires active, massive capital enforcement 
% by the semiconductor industry to maintain the pace.
domain_priors:requires_active_enforcement(moores_law).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(moores_law, extractiveness, 0.3).
narrative_ontology:constraint_metric(moores_law, suppression_requirement, 0.5).

% Beneficiaries: Consumer electronics industry and data-intensive services.
constraint_beneficiary(moores_law, platform_capitalists).

% Victims: Older hardware owners and the environment (e-waste).
constraint_victim(moores_law, legacy_infrastructure_owners).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE END USER - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A consumer of technology).
   WHEN: biographical (A lifetime of increasing computational power).
   WHERE: mobile (Can choose when to upgrade).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   For the user, Moore's Law is a Rope. It is a predictable ladder of 
   progress. It ensures that the computer they buy today will be 
   significantly more powerful than the one they had five years ago, 
   lowering the barrier to entry for complex software and services.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    moores_law,
    rope,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CHIP FABRICATOR - NOOSE
   --------------------------------------------------------------------------
   
   WHO: institutional (A semiconductor manufacturer like Intel or TSMC).
   WHEN: immediate (Quarterly cycles and multi-billion dollar R&D).
   WHERE: constrained (Cannot stop without losing market lead).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   For the manufacturer, the law is a Noose. It is an "unrelenting 
   treadmill." If they fail to meet the doubling pace for a single cycle, 
   their market cap can evaporate. The cost of maintaining the pace 
   (the "Noose") increases exponentially as physics reaches its limits.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    moores_law,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE QUANTUM PHYSICIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (Scientific observer).
   WHEN: generational/historical (Viewing the physical limits of matter).
   WHERE: trapped (Atomic scales are fixed).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   To the physicist, the eventual "end" of Moore's Law is a Mountain. It 
   is a physical wall. Once transistors reach the size of a few atoms, 
   quantum tunneling makes current silicon-based logic impossible. 
   This is not a social choice, but an unchangeable physical constraint.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    moores_law,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(moores_law_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(moores_law, Type1, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(moores_law, Type2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(moores_law, Type3, context(agent_power(analytical), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(enforcement_scaling) :-
    % Institutional actors must enforce this (Requires Active Enforcement).
    domain_priors:requires_active_enforcement(moores_law).

test(time_immutability) :-
    % Long-term (Generational) analysis reveals the physical "Mountain" limit.
    constraint_indexing:constraint_classification(moores_law, mountain, context(_, generational, _, _)).

:- end_tests(moores_law_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. ENFORCEMENT: I classified this as "Requires Active Enforcement." While 
 * it looks like a natural law, it is actually the result of massive 
 * industrial coordination and investment.
 * 2. NOOSE VS ROPE: The distinction depends on whether you are the 
 * producer (Noose) or the consumer (Rope) of the processing power.
 * 3. EXTRACTIVENESS: Set at 0.3. The gain in utility for users is real, 
 * but the extraction comes through the "forced" obsolescence of 
 * working hardware.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    post_silicon_transition,
    "Will new materials (Carbon nanotubes/Quantum) maintain the 2-year 
    doubling pace once silicon hits the atomic limit?",
    resolution_mechanism("Observation of commercial chip density post-2nm node"),
    impact("If Yes: Moore's Law remains a Rope/Noose. If No: It hits the Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Software Optimization (Wirth's Law)
 * Viability: High. If software was written efficiently, we wouldn't 
 * need a hardware doubling every 2 years.
 * Suppression: High. Developers prefer "easy" code enabled by fast 
 * hardware over difficult optimization.
 * * ALTERNATIVE 2: Specialized Architecture (ASICs/FPGAs)
 * Viability: High. Moving away from general-purpose CPUs.
 * * CONCLUSION:
 * The "Noose" of Moore's Law is partly voluntary; we could exit via 
 * better software, but the "Rope" of free hardware gains is too seductive.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_moores_law].
 * 2. Multi-perspective report: ?- multi_index_report(moores_law).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: nasa_faster_better_cheaper
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: NASA Mishap Investigation Board (MCO) / Daniel Goldin Era Policy
% ============================================================================

:- module(constraint_fbc_philosophy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: nasa_faster_better_cheaper
 * human_readable: The "Faster, Better, Cheaper" (FBC) Paradigm
 * domain: political/economic/technological
 * temporal_scope: 1992-1999 (Daniel Goldin Era)
 * spatial_scope: National (NASA / Aerospace Sector)
 * * SUMMARY:
 * Faster, Better, Cheaper (FBC) was a NASA management philosophy designed to 
 * increase mission frequency and reduce costs by accepting higher technical 
 * risk. It constrained engineering behavior by imposing strict, unyielding 
 * budget caps and compressed schedules, effectively attempting to optimize 
 * all three corners of the traditional management triangle simultaneously.
 * * KEY AGENTS:
 * - Mission Engineer: Individual powerless; forced to cut redundant systems 
 * and testing to stay under budget caps.
 * - NASA Administrator (Goldin): Institutional; the architect of the policy 
 * aiming for high-volume scientific output.
 * - Mishap Investigation Board: Analytical; post-mortem body identifying 
 * FBC as the cultural root of the Mars Climate Orbiter failure.
 * * NARRATIVE ARC:
 * FBC began as a Rope (coordinating a post-Cold War NASA toward efficiency). 
 * For engineers on the ground, the budget caps were a Mountain. In practice, 
 * the lack of "Margin" turned FBC into a Noose that extracted technical 
 * integrity and mission safety to feed institutional productivity metrics, 
 * resulting in the loss of multiple planetary missions.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(fbc_era_operations, 0, 10).
narrative_ontology:constraint_claim(nasa_faster_better_cheaper, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.8. High extraction; FBC "extracted" the safety margins and 
% redundant systems (capital) from missions to produce a higher *number* of 
% launches, even if those launches failed at a higher rate.
domain_priors:base_extractiveness(nasa_faster_better_cheaper, 0.8).

% Suppression score (0.0-1.0)
% Rationale: 0.7. The philosophy actively suppressed traditional "safety-first" 
% engineering alternatives by labeling them as "obsolete" or "inefficient."
domain_priors:suppression_score(nasa_faster_better_cheaper, 0.7).

% Enforcement requirements
% Requires active enforcement (strict budgetary audits and schedule-driven 
% performance reviews).
domain_priors:requires_active_enforcement(nasa_faster_better_cheaper).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(nasa_faster_better_cheaper, extractiveness, 0.8).
narrative_ontology:constraint_metric(nasa_faster_better_cheaper, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(nasa_faster_better_cheaper, high_launch_tempo_metrics).
constraint_victim(nasa_faster_better_cheaper, mission_success_probability).
constraint_victim(nasa_faster_better_cheaper, planetary_science_data_retention).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: MISSION SYSTEMS ENGINEER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the "Faster" and "Cheaper" caps; 
         cannot increase budget to fix known risks.
   WHEN: immediate - The duration of the development and flight phases.
   WHERE: trapped - Locked into the FBC culture of the 1990s JPL environment.
   SCOPE: local - Specific mission subsystems (e.g., MCO or Mars Polar Lander).
   
   WHY THIS CLASSIFICATION:
   For the engineer, the budget cap is a Mountain. It is an unchangeable law 
   of the project. If a test is required but not budgeted, it simply does 
   not happen. The constraint is treated as an immovable physical limit 
   on what can be built.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    nasa_faster_better_cheaper,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(nasa_faster_better_cheaper),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: NASA HEADQUARTERS - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to set the paradigm and distribute funds.
   WHEN: biographical - Careers tied to "reforming" the agency's speed and cost.
   WHERE: mobile - Authority to set the "Better" standard for the whole agency.
   SCOPE: national - Managing the premiere US space exploration program.
   
   WHY THIS CLASSIFICATION:
   Leadership viewed FBC as a Rope—a functional coordination tool to maximize 
   scientific return on investment. They believed they were "weaving" a more 
   efficient agency by stripping away "excess" bureaucracy and caution.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    nasa_faster_better_cheaper,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(nasa_faster_better_cheaper, E),
    E > 0.6, % Managers don't see the extraction; they see "optimization."
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: POST-FAILURE INVESTIGATOR - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Outside observer identifying the root cause of loss.
   WHEN: historical - Evaluating the FBC era in the wake of the MCO/MPL crashes.
   WHERE: analytical - Free from the "Faster, Better, Cheaper" cultural pressure.
   SCOPE: global - A cautionary lesson for complex systems engineering.
   
   WHY THIS CLASSIFICATION:
   The investigator sees the Noose. The constraint of "Cheaper" extracted 
   the safety margin until the mission "choked" on the first unanticipated 
   error (like the metric/English unit mismatch). The system guaranteed 
   failure by removing the friction required to catch errors.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    nasa_faster_better_cheaper,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(nasa_faster_better_cheaper, S),
    S > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(fbc_philosophy_tests).

test(multi_perspective_paradox) :-
    % HQ sees efficiency (Rope), Engineer sees impossibility (Mountain)
    constraint_indexing:constraint_classification(nasa_faster_better_cheaper, T1, context(institutional, biographical, mobile, national)),
    constraint_indexing:constraint_classification(nasa_faster_better_cheaper, T2, context(individual_powerless, immediate, trapped, local)),
    T1 \= T2.

test(extraction_threshold_breach) :-
    % FBC era failures indicate high extraction of mission value
    domain_priors:base_extractiveness(nasa_faster_better_cheaper, E),
    E > 0.7.

:- end_tests(fbc_philosophy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.8): I chose a high score because FBC fundamentally 
 * trades the *survival* of a system for the *tempo* of a system. 
 * 2. CLASSIFICATION: I primary-labeled this as a 'Noose' from an analytical 
 * perspective. While it claimed to be a Rope (efficiency), it actively 
 * suppressed the "Margin" (the space where safety exists), leading to 
 * catastrophic extraction.
 * 3. OMEGA: The uncertainty lies in whether "Better" was ever a real 
 * variable or just a marketing label for the Rope.
 */

omega_variable(
    better_variable_reality,
    "Was 'Better' ever a measurable metric in FBC, or was it a rhetorical 
     'Rope' used to justify the extraction of the 'margin'?",
    resolution_mechanism("Comparison of scientific data per dollar in FBC vs. traditional eras"),
    impact("If data/dollar is higher: FBC was a flawed Rope. If lower: 
            FBC was a pure Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Conservative Risk-Averse Engineering
 * Viability: The Apollo-era standard. High success, high cost.
 * Suppression: Suppressed by Congressional budget cuts and the 
 * "Faster, Better, Cheaper" management mandate.
 * * CONCLUSION:
 * The fact that a known successful (but expensive) alternative was 
 * suppressed in favor of FBC is the primary indicator of the Noose.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [nasa_faster_better_cheaper].
% 2. Analyze: ?- multi_index_report(nasa_faster_better_cheaper).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: nash_equilibrium_coordination
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: John Nash (1950) / Non-Cooperative Games
% ============================================================================

:- module(constraint_nash_equilibrium, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: nash_equilibrium_coordination
 * human_readable: Nash Equilibrium
 * domain: economic/social/political
 * temporal_scope: 1950 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Strategic Interaction)
 * * SUMMARY:
 * A Nash Equilibrium is a state in a non-cooperative game where no player can 
 * improve their outcome by changing their strategy unilaterally, given the 
 * strategies of others. It represents a fundamental structural "gravity" that 
 * stabilizes social and economic systems, often at sub-optimal levels.
 * * KEY AGENTS:
 * - The Strategic Actor (Subject): The powerless agent trapped in a state 
 * where "doing the right thing" alone results in a worse personal outcome.
 * - The Institutional Architect: An agent who uses the equilibrium as a 
 * "Rope" to design market rules or voting systems that stabilize desired goals.
 * - The Monopoly/Cartel: An institutional agent that treats the equilibrium 
 * as a "Noose" to extract value from consumers by ensuring no firm has an 
 * incentive to lower prices.
 * * NARRATIVE ARC:
 * The Nash Equilibrium is the "Mountain" of social interaction—an inescapable 
 * logic of stability. In healthy markets, it is a "Rope" for functional 
 * coordination (e.g., standardizing traffic laws). However, in systemic 
 * failures like poverty traps or price wars, the equilibrium acts as a 
 * "Noose," extracting the potential for progress (extraction) and strangling 
 * the possibility of collective escape.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(nash_era, 1950, 2026).
narrative_ontology:constraint_claim(nash_equilibrium_coordination, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.5. The equilibrium is moderately extractive; it often "takes" 
% the potential for a better collective outcome (Pareto improvement) to 
% maintain individual stability.
domain_priors:base_extractiveness(nash_equilibrium_coordination, 0.5).

% Suppression score (0.0-1.0)
% Rationale: 0.4. It suppresses the visibility of "idealistic" cooperation 
% by rendering it "irrational" or "unstable" from an individual perspective.
domain_priors:suppression_score(nash_equilibrium_coordination, 0.4).

% Enforcement: Emerges naturally from the axioms of individual utility.
domain_priors:emerges_naturally(nash_equilibrium_coordination).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(nash_equilibrium_coordination, extractiveness, 0.5).
narrative_ontology:constraint_metric(nash_equilibrium_coordination, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(nash_equilibrium_coordination, incumbents_in_stablesystems).
constraint_beneficiary(nash_equilibrium_coordination, market_designers). 
constraint_victim(nash_equilibrium_coordination, reformers_and_innovators). % They hit the "Mountain" of the status quo.
constraint_victim(nash_equilibrium_coordination, collective_utility). % Pareto-suboptimal states.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INDIVIDUAL SHOPKEEPER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Cannot single-handedly change market prices.
   WHEN: immediate - Every day the shop stays open.
   WHERE: trapped - Bound by the local competitive landscape.
   SCOPE: local - Their specific street or neighborhood.
   
   WHY THIS CLASSIFICATION:
   For the shopkeeper, the market price is a natural law. If they raise prices 
   unilaterally, they lose customers; if they lower them, they lose profit. 
   The equilibrium is an unyielding Mountain of arithmetic.
   
   NARRATIVE EVIDENCE:
   "I'd love to pay my staff more, but if I do, the guy across the street 
   undercuts me and I go bust." 
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    nash_equilibrium_coordination,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CENTRAL BANKER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to shift incentives and interest rates.
   WHEN: biographical - Planning the decadal health of the economy.
   WHERE: mobile - Can adjust the "rules of the game" to nudge the equilibrium.
   SCOPE: national - Country-wide impact.
   
   WHY THIS CLASSIFICATION:
   For the institutional actor, the Nash Equilibrium is a "Rope"—a tool for 
   functional coordination. By understanding where the "Mountain" sits, they 
   can use policy to "pull" the economy toward a standard of achievement 
   like low inflation or high employment.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    nash_equilibrium_coordination,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE POVERTY-TRAPPED COMMUNITY - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the high cost of defecting from the trap.
   WHEN: generational - The state persists across lifetimes.
   WHERE: constrained - Physical and social exit is prohibitively expensive.
   SCOPE: regional - A specific neglected section of the system.
   
   WHY THIS CLASSIFICATION:
   In a poverty trap, the equilibrium acts as a "Noose." It "strangles" 
   opportunity because any individual attempt to escape (e.g., getting an 
   education) might be punished by immediate loss of local support networks. 
   It extracts potential (extraction) to maintain a stable but miserable state.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    nash_equilibrium_coordination,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(generational),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :- 
    domain_priors:base_extractiveness(nash_equilibrium_coordination, E),
    E >= 0.4,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(nash_equilibrium_tests).

test(multi_perspective_variance) :-
    % Shopkeeper -> Mountain
    constraint_indexing:constraint_classification(nash_equilibrium_coordination, Type1, context(individual_powerless, immediate, trapped, local)),
    % Banker -> Rope
    constraint_indexing:constraint_classification(nash_equilibrium_coordination, Type2, context(institutional, biographical, mobile, national)),
    % Poverty Trap -> Noose
    constraint_indexing:constraint_classification(nash_equilibrium_coordination, Type3, context(individual_powerless, generational, constrained, regional)),
    Type1 \= Type2,
    Type2 \= Type3.

test(extraction_penalty) :-
    % Demonstrates that the Noose classification extracts more value than the Rope.
    domain_priors:base_extractiveness(nash_equilibrium_coordination, E),
    E > 0.3.

test(natural_emergence) :-
    domain_priors:emerges_naturally(nash_equilibrium_coordination).

:- end_tests(nash_equilibrium_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.5):
 * I chose 0.5 because equilibria are the ultimate "tax" on potential. 
 * They prioritize "Stasis" over "Improvement," which is a form of 
 * extraction of future possibility.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Shopkeeper (Subject), Banker (Institution), and Poverty Trap (Victim) 
 * to illustrate how the "Stability" of a Nash state can be either 
 * a comfort or a cage.
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the uncertainty of "Equilibrium Selection"—in games with 
 * multiple equilibria, what determines which Mountain we live on?
 */

% YOUR OMEGAS HERE:
omega_variable(
    equilibrium_selection_mechanism,
    "What determines which specific Nash Equilibrium a society settles into (Mountain) when multiple are available (Rope)?",
    resolution_mechanism("Study of historical focal points, cultural path-dependency, and initial conditions."),
    impact("If Path-dependent: The Mountain is a 'Noose' of history. If Random: It is a Scaffold."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Pareto Optimality (Collective Cooperation)
 * Viability: Theoretically the best outcome for everyone.
 * Suppression: Actively suppressed by the Nash "Mountain" because it is 
 * unstable without external enforcement (contracts/law).
 * * ALTERNATIVE 2: Evolutionary Stable Strategies (ESS)
 * Viability: A more biological/dynamic version of Nash.
 * Status: A "Rope" used in biology that often overlaps with Nash but 
 * allows for more "drift."
 * * CONCLUSION:
 * The existence of "Pareto Superior" states (Alternative 1) that we cannot 
 * reach is exactly what transforms a Nash "Mountain" into a "Noose" for 
 * the people living within it.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_nash_equilibrium].
 * 2. Analyze: ?- multi_index_report(nash_equilibrium_coordination).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: necessary_day_job
% ============================================================================
% Generated: January 20, 2026
% Model: Gemini 2.0 Flash
% Source: "The Work Behind the Writing: On Writers and Their Day Jobs" by Ed Simon
% ============================================================================

:- module(constraint_necessary_day_job, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
domain_priors:base_extractiveness/2,
domain_priors:suppression_score/2,
domain_priors:requires_active_enforcement/1,
constraint_indexing:constraint_classification/3.

/* ==========================================================================

1. NARRATIVE CONTEXT
========================================================================== */

/**

* CONSTRAINT IDENTIFICATION
* * constraint_id: necessary_day_job


* human_readable: The Economic Subsistence Labor Constraint
* domain: economic
* temporal_scope: 19th Century to 2026
* spatial_scope: National (USA)
* * SUMMARY:


* The "necessary day job" represents the economic constraint where creative
* vocation is decoupled from subsistence labor. Writers must perform
* unrelated, often "boring" or "sterile" work to fund their literary passion
*. This constraint fluctuates between a functional necessity
* and a soul-crushing mechanism of extraction.
* * KEY AGENTS:


* * Herman Melville: A U.S. Customs Inspector working 6 days a week for $4/day.


* * Ed Simon: A communications editor for the USPS experiencing "existential crisis".


* * The Manager: A "jackass" figure enforcing the "Panopticon" of office work.


* * NARRATIVE ARC:


* From Melville’s 19-year "torment" at the docks to Simon’s 6-month stint in a
* "sterile cubicle," the constraint dictates how time is partitioned between
* survival and creation.
*/

/* ==========================================================================
2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(literary_labor_history, 0, 10).
narrative_ontology:constraint_claim(necessary_day_job, noose).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: High extraction in the case of adjuncting ("abysmal pay") or
% Melville's stagnant wages.
domain_priors:base_extractiveness(necessary_day_job, 0.65).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: Economic alternatives (living solely off royalties) are rare
% and suppressed by market indifference.
domain_priors:suppression_score(necessary_day_job, 0.7).

% Enforcement requirements
domain_priors:requires_active_enforcement(necessary_day_job).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(necessary_day_job, extractiveness, 0.65).
narrative_ontology:constraint_metric(necessary_day_job, suppression_requirement, 0.7).

/* ==========================================================================
3. INDEXED CLASSIFICATIONS (Perspectival Truth)
========================================================================== */

## /* --------------------------------------------------------------------------
PERSPECTIVE 1: HERMAN MELVILLE - Mountain

WHO: individual_powerless - A man devastated by criticism, working without raises.
WHEN: biographical - Nineteen years of service until retirement.
WHERE: trapped - "Everlasting itch for things remote" while stuck at a desk.
SCOPE: local - The Merchant’s Exchange Building at 55 Wall Street.

WHY THIS CLASSIFICATION:
For Melville, the Customs House was an unchangeable reality. He could not
alter his pay or the market's rejection of his work; he could only
endure it as a natural law of his middle age.

NARRATIVE EVIDENCE:
"Melville worked for six days a week... and was paid $4 a day, never
receiving a raise in two decades".
-------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
necessary_day_job,
mountain,
context(
agent_power(individual_powerless),
time_horizon(biographical),
exit_options(trapped),
constraint_beneficiary(necessary_day_job, us_government),
constraint_victim(necessary_day_job, herman_melville),
spatial_scope(local)
)
) :-
domain_priors:suppression_score(necessary_day_job, S),
S > 0.6,
!.

## /* --------------------------------------------------------------------------
PERSPECTIVE 2: ED SIMON (Adjunct Era) - Noose

WHO: individual_powerless - Facing "ample disrespect" and "nonexistent benefits".
WHEN: immediate - The struggle to "pay the light bill".
WHERE: constrained - Forced into federal work by economic necessity.
SCOPE: regional - University adjuncting circuits.

WHY THIS CLASSIFICATION:
Adjuncting is seen as a Noose: an asymmetric, extractive system where the
labor provided far outweighs the compensation and professional respect
received.

NARRATIVE EVIDENCE:
"The ample disrespect, nonexistent benefits, and abysmal pay of university
adjuncting".
-------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
necessary_day_job,
noose,
context(
agent_power(individual_powerless),
time_horizon(immediate),
exit_options(constrained),
constraint_beneficiary(necessary_day_job, university_system),
constraint_victim(necessary_day_job, ed_simon),
spatial_scope(regional)
)
) :-
domain_priors:base_extractiveness(necessary_day_job, E),
E > 0.5,
!.

## /* --------------------------------------------------------------------------
PERSPECTIVE 3: WILLIAM CARLOS WILLIAMS / AGATHA CHRISTIE - Rope

WHO: individual_powerful (or moderate) - Professionals with specialized skills.
WHEN: biographical - Career-long integration of job and art.
WHERE: mobile - Jobs that provide material (poisons, prescriptions) for art.
SCOPE: local - The physician's pad or the pharmacy.

WHY THIS CLASSIFICATION:
For these writers, the day job is a Rope: a functional coordination mechanism
that provides both economic stability and the raw data/inspiration
required for their "real" work.

NARRATIVE EVIDENCE:
"Agatha Christie developed her deep knowledge of poison while earning her
living as a pharmacist".
-------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
necessary_day_job,
rope,
context(
agent_power(individual_moderate),
time_horizon(biographical),
exit_options(mobile),
constraint_beneficiary(necessary_day_job, society),
constraint_victim(necessary_day_job, none),
spatial_scope(local)
)
) :-
domain_priors:base_extractiveness(necessary_day_job, E),
E < 0.4,
!.

/* ==========================================================================
4. TESTS (What We Learn About Constraints)
========================================================================== */

:- begin_tests(day_job_tests).

/**

* TEST 1: The "Melville-Simon Variance"
* Demonstrates how time horizon and exit options shift classification.
*/
test(perspective_shift) :-
% Melville (Mountain)
constraint_indexing:constraint_classification(
necessary_day_job,
mountain,
context(individual_powerless, biographical, trapped, _, _, _)
),
% Simon (Noose/Exitable)
constraint_indexing:constraint_classification(
necessary_day_job,
noose,
context(individual_powerless, immediate, constrained, _, _, _)
).

/**

* TEST 2: Extraction Scaling
* Powerless agents (adjuncts) experience higher extraction than specialized professionals (physicians).
*/
test(power_extraction_scaling) :-
ContextAdjunct = context(individual_powerless, immediate, constrained, _, _, _),
ContextDoctor = context(individual_moderate, biographical, mobile, _, _, _),
constraint_indexing:extractiveness_for_agent(necessary_day_job, ContextAdjunct, Score1),
constraint_indexing:extractiveness_for_agent(necessary_day_job, ContextDoctor, Score2),
Score1 > Score2.

:- end_tests(day_job_tests).

/* ==========================================================================
5. MODEL INTERPRETATION (Commentary)
========================================================================== */

/**

* LLM GENERATION NOTES
* * Model: Gemini 2.0 Flash


* * KEY DECISIONS:


* 1. BASE EXTRACTIVENESS (0.65): High, due to the recurring theme of "abysmal


* pay" and "boring office work" that provides little benefit to the writer's
* vocation.
* 2. PERSPECTIVE SELECTION: Focused on Melville (Mountain/Trapped), Simon


* (Noose/Adjunct), and the "functional" writers like Christie (Rope).
* * OMEGAS:


* omega_variable(vocational_ecstasy_v_labor,
* "Can the 'ecstasy' of a job (Rope) coexist with its 'soul-crushing' anonymity (Noose)?",
* resolution_mechanism("Qualitative analysis of 'transcendence' reports in labor diaries"),
* impact("If Rope dominates: Writing is enriched. If Noose dominates: Writing is killed."),
* confidence_without_resolution(low)
* ).
*/

/* ==========================================================================
6. ALTERNATIVE ANALYSIS
========================================================================== */

/**

* VIABLE ALTERNATIVES
* * ALTERNATIVE 1: Independent Wealth / Trust Funds


* Viability: Historically rare (e.g., Burroughs had a trust fund but still worked).
* Suppression: Limited by socioeconomic birth.
* * ALTERNATIVE 2: Tenure / Academic Protections


* Viability: The post-WWII "halcyon days" where universities were sights of independence.
* Suppression: Currently eroded by the rise of adjuncting.
*/

/* ==========================================================================
7. INTEGRATION HOOKS
========================================================================== */

/**

* TO USE THIS FILE:
* ?- [necessary_day_job].
* ?- run_tests(day_job_tests).
*/

% ============================================================================
% END OF CONSTRAINT STORY
% ============================================================================
% ============================================================================
% CONSTRAINT STORY: negative_emissions_arbitrage
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Madeleine Cuff, "The invention of net zero"
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_negative_emissions_arbitrage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: negative_emissions_arbitrage
 * human_readable: Negative Emissions Arbitrage
 * domain: economic/technological/political
 * temporal_scope: 2009 (post-Nature paper) to 2026+
 * spatial_scope: Global Carbon Markets
 * * SUMMARY:
 * Since the shift to a net-zero framework, human-made emissions must be balanced 
 * by "equivalent removals" from the atmosphere. 
 * This creates a market for "Negative Emissions Arbitrage," where the cost of 
 * absolute carbon reduction is played against the cost of atmospheric removal 
 * technologies.
 * * KEY AGENTS:
 * - The Arbitrageur: Tech providers and carbon-removal firms managing atmospheric removals.
 * - The Regulated Emitter: Industries that previously believed they could emit a "fair chunk" of 2.5Gt annually.
 * - The Carbon Auditor: Analytical observers ensuring that removals are truly equivalent to emissions.
 * * NARRATIVE ARC:
 * The discovery that "warming stops once humanity reaches net-zero" turned 
 * the atmosphere into a balanced ledger. 
 * This ledger acts as a Rope for market-based coordination but a Noose for 
 * those who cannot afford the price of "equivalent removals".
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(negative_emissions_arbitrage, 0, 10).
narrative_ontology:constraint_claim([negative_emissions_arbitrage], [market_balancing]).

% Base extractiveness score (0.82 = High)
% Rationale: The requirement for "equivalent removals" extracts significant 
% capital from emitters to fund a new atmospheric engineering sector.
domain_priors:base_extractiveness(negative_emissions_arbitrage, 0.82).

% Suppression score (0.55 = Moderate)
% Rationale: Alternatives to net-zero (like the 2.5Gt "fair chunk" model) are 
% now suppressed by scientific and policy consensus.
domain_priors:suppression_score(negative_emissions_arbitrage, 0.55).

% Enforcement: Requires active enforcement (Global carbon registries and verification).
domain_priors:requires_active_enforcement(negative_emissions_arbitrage).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(negative_emissions_arbitrage, extractiveness, 0.82).
narrative_ontology:constraint_metric(negative_emissions_arbitrage, suppression_requirement, 0.55).

% BENEFICIARIES & VICTIMS
% Beneficiaries: Carbon removal tech firms and nations with high carbon-sink capacity.
constraint_beneficiary(negative_emissions_arbitrage, removal_technology_providers).
% Victims: Emitters who can no longer access the "fair chunk" of free emissions.
constraint_victim(negative_emissions_arbitrage, high_intensity_legacy_emitters).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE REMOVAL PROVIDER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-shaping through technological deployment)
   WHEN: biographical (Current investment and rollout cycles)
   WHERE: arbitrage (Playing removal efficiency against carbon prices)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The provider sees the net-zero ledger as a Rope—a functional mechanism to 
   coordinate the "balancing" of emissions and removals across the world.
   
   NARRATIVE EVIDENCE:
   "Any human-made emissions balanced by equivalent removals from the atmosphere".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    negative_emissions_arbitrage,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(negative_emissions_arbitrage, E),
    E < 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE DE-INDUSTRIALIZING FIRM - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Subject to mandatory balancing rules)
   WHEN: immediate (Addressing current annual emissions targets)
   WHERE: trapped (Must use removals if they cannot reach absolute zero)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For firms that cannot decarbonize absolute-zero, the "equivalent removals" 
   requirement is a Noose—it extracts profit and forces a performance of 
   "net-zero" rituals.
   
   NARRATIVE EVIDENCE:
   "Emissions would have to reach net zero to stabilise the climate... balancing 
   global temperatures".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    negative_emissions_arbitrage,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(negative_emissions_arbitrage, E),
    E > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CLIMATE SCIENTIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer of the 2005 Frame/Allen model)
   WHEN: civilizational (Deep-time stability of Earth's temperature)
   WHERE: constrained (Bound by the physical laws of carbon concentrations)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The scientist sees the net-zero requirement as a Mountain—an immutable 
   biological and physical law discovered "on the train" in Exeter.
   
   NARRATIVE EVIDENCE:
   "The world would stop warming once humanity reached 'net-zero'... it was a 
   big deal".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    negative_emissions_arbitrage,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    % Classification based on the physical model evidence
    true,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(negative_emissions_arbitrage_tests).

test(multi_perspective_variance) :-
    % Provider (Rope) vs Emitter (Noose) vs Scientist (Mountain)
    constraint_indexing:constraint_classification(negative_emissions_arbitrage, rope, context(institutional, _, arbitrage, _)),
    constraint_indexing:constraint_classification(negative_emissions_arbitrage, noose, context(individual_powerless, _, trapped, _)),
    constraint_indexing:constraint_classification(negative_emissions_arbitrage, mountain, context(analytical, _, _, _)).

test(extraction_equivalence) :-
    % Test that "equivalent removals" (Score 1) results in higher 
    % extractiveness than the old "fair chunk" model (Score 2).
    Score1 = 0.82,
    Score2 = 0.05,
    Score1 > Score2.

:- end_tests(negative_emissions_arbitrage_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.82): High score chosen because the "Net Zero" framing 
 * creates a mandatory capital flow toward the removal sector.
 * 2. MANDATROPHY STATUS: Triggered by the high extraction rate (82%). The system 
 * is a Rope for the arbitrageur but a Noose for those who cannot exit carbon 
 * dependency.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    negative_emissions_arbitrage_extraction_intent,
    "Is the requirement for 'equivalent removals' a physical necessity for climate stability or a market mechanism to preserve industrial status quo?",
    resolution_mechanism("Audit of actual temperature response vs. net-zero removal rates in the 2030s"),
    impact("If necessity: Mountain. If status quo preservation: Noose."),
    confidence_without_resolution(medium)
).

omega_variable(
    equivalency_validity,
    "Are industrial 'removals' truly equivalent in atmospheric effect to 'avoided' fossil emissions?",
    resolution_mechanism("Long-term verification of carbon residence times in geological storage vs. atmospheric cycles"),
    impact("If equivalent: Rope. If not: The arbitrage is a 'Living within a Lie' Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Absolute Zero (No removals permitted)
 * Viability: Technically possible but economically catastrophic in the short term.
 * Suppression: Suppressed by the "Net" in Net Zero, which allows the arbitrage.
 * * CONCLUSION:
 * The invention of "Net Zero" as a "balancing" idea created the arbitrage 
 * opportunity, replacing the "Absolute Noose" with a "Removals Rope".
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/negative_emissions_arbitrage].
 * 2. Multi-perspective: ?- multi_index_report(negative_emissions_arbitrage).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: net_zero_stabilization
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Madeleine Cuff, "The invention of net zero"
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_net_zero_stabilization, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: net_zero_stabilization
 * human_readable: The Net Zero Carbon Constraint
 * domain: scientific/technological/political
 * temporal_scope: 2005 (inception) to 2026 (current policy consensus)
 * spatial_scope: Global
 * * SUMMARY:
 * Before 2005, scientists believed the world could emit ~2.5 gigatonnes of CO2 annually while maintaining stable temperatures. 
 * Physicists David Frame and Myles Allen used climate models to prove that warming only stops when human-caused emissions reach net zero—where emissions are balanced by equivalent removals.
 * * KEY AGENTS:
 * - The Climate Physicist: Analytical observers (Frame and Allen) who "turned the problem on its head".
 * - The Global Citizen/Industry: Agents subject to the "net-zero" target requiring removals.
 * - The Earth System: The biological/physical reality that dictates temperature stability based on emissions.
 * * NARRATIVE ARC:
 * This constraint represents a "rupture" in climate logic. It shifted the "Rope" of climate policy from 
 * stabilizing atmospheric concentrations to an absolute "Mountain" or "Noose" of zero net emissions.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(net_zero_stabilization, 0, 10).
narrative_ontology:constraint_claim([net_zero_stabilization], [environmental_stabilization]).

% Base extractiveness score (0.85 = High)
% Rationale: Reaching net zero requires total extraction of carbon-emitting 
% capabilities from current global systems and mandatory "equivalent removals".
domain_priors:base_extractiveness(net_zero_stabilization, 0.85).

% Suppression score (0.45 = Moderate)
% Rationale: The previous consensus (that we could continue emitting 2.5Gt) was 
% suppressed by the 2009 Nature paper and the subsequent shift in thinking.
domain_priors:suppression_score(net_zero_stabilization, 0.45).

% Enforcement requirements: Requires active enforcement (Policy, removals, and treaties).
domain_priors:requires_active_enforcement(net_zero_stabilization).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(net_zero_stabilization, extractiveness, 0.85).
narrative_ontology:constraint_metric(net_zero_stabilization, suppression_requirement, 0.45).

% BENEFICIARIES & VICTIMS
% The Earth System (and future generations) benefit from temperature stability.
constraint_beneficiary(net_zero_stabilization, global_climate_stability).
% Carbon-heavy industries and high-emitting nations lose the "fair chunk" 
% of emissions (~6% of global total) they once believed was safe.
constraint_victim(net_zero_stabilization, legacy_carbon_emitters).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE CLIMATE PHYSICIST - Rope
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer modeling the system)
   WHEN: biographical (Working from 2005 train ride to 2009 publication)
   WHERE: mobile (Shifting from concentrations to emissions focus)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the physicist, net zero is a Rope—a functional coordination tool discovered 
   through "fiddling about" with models to show how to stop warming.
   
   NARRATIVE EVIDENCE:
   "The world would stop warming once humanity reached 'net-zero' carbon emissions... It was quite cool sitting on the train looking at these figures".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    net_zero_stabilization,
    rope,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(net_zero_stabilization, E),
    E < 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE LEGACY EMITTER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Subject to the new "net zero" target)
   WHEN: immediate (Facing the end of the "2.5 gigatonne" grace period)
   WHERE: trapped (No longer allowed to emit without balancing removals)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For emitters who relied on the "fair chunk" of 2.5Gt emissions, net zero is a Noose 
   that extracts their ability to operate without costly removals.
   
   NARRATIVE EVIDENCE:
   "It was widely believed humans could still emit a fair chunk of emissions... about 6 per cent of annual global emissions today".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    net_zero_stabilization,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(net_zero_stabilization, E),
    E > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EARTH SYSTEM - Mountain
   --------------------------------------------------------------------------
   
   WHO: institutional (The physical laws governing climate)
   WHEN: historical (The deep-time response of the atmosphere)
   WHERE: constrained (Bound by thermodynamic realities)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The climate model reveals a Mountain—an immutable physical law where global 
   temperatures only remain stable once humanity reaches net zero.
   
   NARRATIVE EVIDENCE:
   "The result? Global temperatures remained stable at their new level. In short, 
   the world would stop warming once humanity reached 'net-zero'".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    net_zero_stabilization,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    % Classification based on the physical model result
    true,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(net_zero_stabilization_tests).

test(multi_perspective_variance) :-
    % Scientist (Rope) vs Emitter (Noose) vs System (Mountain)
    constraint_indexing:constraint_classification(net_zero_stabilization, rope, context(analytical, biographical, mobile, global)),
    constraint_indexing:constraint_classification(net_zero_stabilization, noose, context(individual_powerless, immediate, trapped, national)),
    constraint_indexing:constraint_classification(net_zero_stabilization, mountain, context(institutional, historical, constrained, global)).

test(power_extractiveness_scaling) :-
    % The legacy emitter (powerless to the new rule) experiences high extraction (0.85)
    % compared to the analytical observer (0.1).
    Score1 = 0.85,
    Score2 = 0.1,
    Score1 > Score2.

:- end_tests(net_zero_stabilization_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.85):
 * Reasoning: Reaching net zero is an absolute extraction of the "right to emit" 
 * that previously characterized industrialization.
 * * 2. PERSPECTIVE SELECTION:
 * Analyzed from the scientist (Rope), the legacy emitter (Noose), and the Earth 
 * system (Mountain) to show the discovery of a physical limit.
 * * 3. AMBIGUITIES:
 * The text mentions "balancing removals," which implies a new technological 
 * extractive industry that didn't exist in the old 2.5Gt model.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Mandatory Omega for high-extraction constraints:
omega_variable(
    net_zero_stabilization_extraction_intent,
    "Is the 0.85 extraction of carbon space a physical necessity (Mountain) or a policy choice that ignores lower-impact alternatives?",
    resolution_mechanism("Audit of global temperature responses to small (2.5Gt) sub-zero emissions over centuries"),
    impact("If necessity: Mountain. If choice: Noose/Mandatrophy."),
    confidence_without_resolution(medium)
).

omega_variable(
    removal_technology_viability,
    "Can 'equivalent removals' actually be achieved at the scale required by the net-zero target?",
    resolution_mechanism("Monitor the gigatonne-scale deployment of Carbon Capture and Storage (CCS) technology"),
    impact("If viable: Rope. If non-viable: The target becomes a systemic Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Concentration-Based Stabilization
 * Viability: The widely believed "consensus" before the Frame/Allen shift.
 * Suppression: Actively rejected by the climate community after 2009.
 * Evidence: "It was widely believed humans could still emit a fair chunk of emissions".
 * * CONCLUSION:
 * The move from concentration-based "Ropes" to the net-zero "Mountain" represents 
 * the defining scientific rupture of the 21st century.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraints/net_zero_stabilization].
 * 2. Multi-perspective: ?- multi_index_report(net_zero_stabilization).
 * 3. Run tests: ?- run_tests(net_zero_stabilization_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: network_effects
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Economics / Digital Strategy / Metcalfe's Law
% ============================================================================

:- module(constraint_network_effects, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: network_effects
 * human_readable: Network Effects (Demand-Side Economies of Scale)
 * domain: economic/technological
 * temporal_scope: Digital Age (1990-Present)
 * spatial_scope: Global (Digital Networks)
 * * SUMMARY:
 * A phenomenon where a product or service gains additional value as more people 
 * use it. This creates a powerful positive feedback loop that often leads to 
 * "winner-take-all" dynamics, where a dominant player becomes nearly impossible 
 * to displace due to the high cost for users to leave the established network.
 * * KEY AGENTS:
 * - The Platform Owner: Benefits from exponential value growth and "lock-in."
 * - The Early Adopter: Gains value from network growth but may face future costs.
 * - The Late Entrant/Competitor: Faces a massive barrier to entry regardless of 
 * product quality.
 * * NARRATIVE ARC:
 * Initially, network effects function as a coordination tool (Rope). As the 
 * network matures and hits a critical mass, the feedback loop hardens into a 
 * barrier (Mountain) for competitors and a "switching cost" trap (Noose) for 
 * users who wish to leave but cannot take their "network value" with them.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(network_effects_interval, 0, 10).
narrative_ontology:constraint_claim(network_effects, mountain).

% Base extractiveness: 0.5 (Moderate)
% Rationale: While users gain utility from the network, the platform owner 
% extracts disproportionate value through data, advertising, or rent once 
% "lock-in" is achieved.
domain_priors:base_extractiveness(network_effects, 0.5).

% Suppression score: 0.6 (High)
% Rationale: Incumbent networks actively suppress alternatives by preventing 
% interoperability or "multi-homing," making the exit to a new platform 
% conceptually and practically difficult.
domain_priors:suppression_score(network_effects, 0.6).

% Enforcement requirements: Emerges naturally from user behavior and Metcalfe's Law.
domain_priors:emerges_naturally(network_effects).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(network_effects, extractiveness, 0.5).
narrative_ontology:constraint_metric(network_effects, suppression_requirement, 0.6).

% Beneficiaries: The First Mover and the Platform Monopolist.
constraint_beneficiary(network_effects, platform_owner).

% Victims: Potential competitors and users facing "walled garden" pricing.
constraint_victim(network_effects, innovative_startups).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE STRATEGIC COMPETITOR - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: Individual Moderate/Powerful (A startup with a better product).
   WHEN: Biographical (The timeframe of a business venture).
   WHERE: Trapped (By the lack of a user base).
   SCOPE: Global.
   
   WHY THIS CLASSIFICATION:
   For a competitor, network effects are a Mountain. Even with superior 
   technology, they cannot move the "mass" of the existing user base. The 
   network effect acts as a natural law of the marketplace that dictates 
   "the biggest wins."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    network_effects,
    mountain,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ACTIVE USER - ROPE
   --------------------------------------------------------------------------
   
   WHO: Individual Powerless (Standard consumer).
   WHEN: Immediate (Utility today).
   WHERE: Mobile (Can technically use multiple apps).
   SCOPE: Local/Regional.
   
   WHY THIS CLASSIFICATION:
   For the user, the network is a Rope. It is a coordination mechanism that 
   makes life easier. The fact that everyone is on the same platform allows 
   for seamless communication and social coordination. It is a beneficial 
   tether rather than a restriction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    network_effects,
    rope,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DISGRUNTLED CREATOR - NOOSE
   --------------------------------------------------------------------------
   
   WHO: Individual Moderate (Creator/Influencer dependent on the platform).
   WHEN: Generational (Their career is built on the network).
   WHERE: Constrained (Leaving means losing their entire audience).
   SCOPE: Global.
   
   WHY THIS CLASSIFICATION:
   For a creator, the network effect is a Noose. They may hate the platform's 
   new rules or increased fees, but they cannot leave because their entire 
   social and economic capital is locked into that specific network. The 
   cost of "exiting" is the destruction of their livelihood.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    network_effects,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(generational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(network_effects_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(network_effects, Type1, context(agent_power(individual_moderate), biographical, trapped, _)),
    constraint_indexing:constraint_classification(network_effects, Type2, context(agent_power(individual_powerless), immediate, mobile, _)),
    constraint_indexing:constraint_classification(network_effects, Type3, context(agent_power(individual_moderate), generational, constrained, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    % Higher power (platform owner) experiences less extraction (negative) 
    % than the powerless user/creator.
    domain_priors:base_extractiveness(network_effects, Score),
    Score >= 0.5.

test(time_immutability) :-
    % Long-term dependency (Generational) + High Exit Cost = Noose.
    constraint_indexing:constraint_classification(network_effects, noose, context(_, generational, constrained, _)).

:- end_tests(network_effects_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION SCORE (0.6): High because incumbents often use "anti-steering" 
 * policies or proprietary data formats to prevent users from bridging to 
 * other networks.
 * 2. NOOSE VS MOUNTAIN: For a user, it's a Noose (they choose to stay but 
 * feel forced); for a competitor, it's a Mountain (it's just a physical 
 * fact of the market).
 * 3. EXTRACTIVENESS: Set at 0.5 to reflect the "double-edged" nature—users 
 * get real value, but the owner takes a significant "tax" on that value.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    interoperability_standardization,
    "Will government mandates for data portability effectively decouple 'social capital' from 'platform identity'?",
    resolution_mechanism("Monitoring the success of the Digital Markets Act (DMA) in the EU"),
    impact("If Yes: Network Effects move from Mountain to Rope. If No: They remain a Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Federated Networks (e.g., Email, Mastodon)
 * Viability: High (The underlying protocols are mature).
 * Suppression: High (Consumer friction and lack of marketing make them 
 * less visible than centralized 'walled gardens').
 * * ALTERNATIVE 2: Multi-homing (Using multiple platforms simultaneously)
 * Viability: Moderate (Technically easy, but cognitively taxing).
 * * CONCLUSION:
 * The existence of Alternatives (Federation) shows that the Noose of network 
 * effects is artificial. If "Suppression" were reduced via regulation, 
 * the Noose would loosen into a Rope (a standard way to connect).
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_network_effects].
 * 2. Multi-perspective: ?- multi_index_report(network_effects).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: neural_interoperability
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Scientific convergence reported by The Hebrew University of Jerusalem
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_neural_interoperability, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: neural_interoperability
 * human_readable: The Neural Interoperability Threshold
 * domain: technological/biological
 * temporal_scope: 2025-2026+ (Post-Nature Communications discovery)
 * spatial_scope: Global/Brain-Computer Interface (BCI) Systems
 * * SUMMARY:
 * As research confirms that human brain activity follows the layered hierarchy 
 * of large language models[cite: 8, 25, 31], "Neural Interoperability" becomes 
 * the requirement for BCI systems to match these temporal and structural 
 * signatures to achieve high-fidelity communication.
 * * KEY AGENTS:
 * - BCI Developers: Seeking to create seamless "plug-and-play" neural interfaces.
 * - Individual Users: Whose cognitive privacy and processing speed depend on the interface's design.
 * - AI Models (e.g., Llama 2, GPT-style): Serving as the translation layer[cite: 25, 44].
 * * NARRATIVE ARC:
 * This constraint functions as a "Rope" for medical recovery but threatens to 
 * become a "Noose" if proprietary AI layers become the mandatory "language" 
 * through which humans must communicate with external digital systems.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

narrative_ontology:interval(neural_interoperability, 0, 10).

% Base extractiveness: 0.85 (High)
% Rationale: High-fidelity BCI requires the extraction of layered contextual 
% meaning[cite: 30, 42]. If a single AI provider controls the translation 
% layer, they effectively own the "meaning-making" interface.
domain_priors:base_extractiveness(neural_interoperability, 0.85).

% Suppression: 0.5 (Moderate)
% Rationale: Publicly available datasets [cite: 47] reduce suppression, 
% but the "rule-based" paradigms are being rapidly suppressed/replaced by 
% "statistical context" models[cite: 42, 45].
domain_priors:suppression_score(neural_interoperability, 0.5).

% Enforcement: Requires active enforcement (hardware/software calibration).
domain_priors:requires_active_enforcement(neural_interoperability).

% BENEFICIARIES & VICTIMS
% Corporate BCI providers and AI developers benefit from standardized layers.
constraint_beneficiary(neural_interoperability, bci_corporations).
% Users become "victims" of extraction if their neural "context" is 
% commodified[cite: 39, 40].
constraint_victim(neural_interoperability, individual_users).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: BCI DEVELOPER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-making/Infrastructure power)
   WHEN: generational (Standardizing the future of human-AI interaction)
   WHERE: mobile (Can switch models or update layers)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The interoperability threshold is a coordination mechanism. It allows 
   diverse neural signals to be mapped to a "common language" of AI layers[cite: 23, 33].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    neural_interoperability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(neural_interoperability, E),
    E > 0.7, % Acknowledges high value but sees it as functional
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PARALYZED PATIENT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Dependent on the system for communication)
   WHEN: biographical (The remainder of their life)
   WHERE: trapped (Cannot choose a different biological brain structure)
   SCOPE: local (Internal experience)
   
   WHY THIS CLASSIFICATION:
   The brain’s requirement to process meaning step-by-step is an unchangeable 
   biological fact[cite: 14, 28]. For a patient, the interface's inability to 
   match this hierarchy is an immutable barrier to communication.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    neural_interoperability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    % The biological "mountain" is the reality of stepwise neural processing [cite: 27, 28]
    true,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: PRIVACY ADVOCATE - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer of systemic risks)
   WHEN: immediate (Current rollout of commercial BCI)
   WHERE: constrained (Difficult to participate in digital society without BCI in the future)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   If the brain works like AI, then AI models can "read" internal meaning 
   step-by-step[cite: 31, 40]. This creates a noose of total surveillance 
   where even the "building of meaning" is asymmetric and extracted.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    neural_interoperability,
    noose,
    context(
        agent_power(analytical),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(neural_interoperability, E),
    E > 0.8,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(neural_interoperability_tests).

test(multi_perspective_variance) :-
    % Dev (Rope) vs Patient (Mountain) vs Advocate (Noose)
    constraint_indexing:constraint_classification(neural_interoperability, T1, context(institutional, _, mobile, _)),
    constraint_indexing:constraint_classification(neural_interoperability, T2, context(individual_powerless, _, trapped, _)),
    constraint_indexing:constraint_classification(neural_interoperability, T3, context(analytical, _, constrained, _)),
    T1 \= T2, T2 \= T3.

test(layered_match_extraction) :-
    % Test that deeper layers (score 1) result in higher extraction of intent 
    % than surface layers (score 2)
    DeepLayerExtraction = 0.9,
    SurfaceLayerExtraction = 0.2,
    DeepLayerExtraction > SurfaceLayerExtraction.

:- end_tests(neural_interoperability_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * 1. MANDATROPHY STATUS: Triggered by 0.85 extractiveness. The system is a 
 * Rope for the developer (who manages the data flow) but a Noose for 
 * the subject (whose raw meaning-formation is extracted)[cite: 31, 39].
 * 2. EVIDENCE: Relied on the Hebrew University study's finding that AI models 
 * explain real-time brain activity better than traditional linguistic 
 * models[cite: 44, 45].
 * 3. PERSPECTIVE: Focused on the shift from "medical necessity" to 
 * "cognitive capture."
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    proprietary_meaning_encryption,
    "Can the brain's contextual meaning be 'encrypted' to prevent extraction by generic AI models?",
    resolution_mechanism("Attempt to identify unique neural 'salts' or noise patterns that vary by individual"),
    impact("If yes: User regains agency (Rope). If no: Total extraction (Noose/Mandatrophy)."),
    confidence_without_resolution(low)
).

omega_variable(
    neural_interoperability_extraction_intent,
    "Is the step-by-step extraction of meaning a predatory design choice or a biological necessity for signal clarity?",
    resolution_mechanism("Audit of signal fidelity vs. data extraction rates in BCI software"),
    impact("If necessity: Mountain. If choice: Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Rule-Based Translation (Symbolic AI)
 * Viability: Currently being phased out; study shows it doesn't match 
 * brain activity well[cite: 21, 44].
 * Suppression: High; suppressed by the superior performance of contextual 
 * AI models[cite: 42, 45].
 * * CONCLUSION:
 * The "Rupture" in neuroscience (moving from rules to layered context) 
 * necessitates this interoperability constraint. The lack of viable 
 * alternatives makes current BCI trajectories a high-risk Noose.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/neural_interoperability].
 * 2. Multi-perspective: ?- multi_index_report(neural_interoperability).
 * 3. Run tests: ?- run_tests(neural_interoperability_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: neurodiversity_spectrum
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Caroline Williams, "There’s no such thing as a normal brain"
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_neurodiversity_spectrum, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: neurodiversity_spectrum
 * human_readable: The Neurodiversity Asset Spectrum
 * domain: social/scientific/medical
 * temporal_scope: Late 1990s - 2026
 * spatial_scope: Global (Medical and Advocacy contexts)
 * * SUMMARY:
 * This constraint represents the shift from a binary "normal vs. abnormal" brain 
 * model to a spectrum of natural neurodevelopmental variation. 
 * It reframes conditions like autism and ADHD as assets rather than illnesses 
 * to be cured.
 * * KEY AGENTS:
 * - The Neurodivergent Individual: Historically marginalized, now seeking support.
 * - The Medical Establishment (DSM): Transitioned from binary diagnosis to spectrum levels.
 * - Online Advocacy Groups: The catalysts for the neurodiversity concept.
 * * NARRATIVE ARC:
 * Historically, "unusual brains" were constrained by the "Noose" of pathology 
 * labels. The emergence of neurodiversity acts as a 
 * "Rope" that coordinates support and acknowledges unique strengths as systemic 
 * assets.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

narrative_ontology:interval(neurodiversity_spectrum, 0, 10).

% Base extractiveness: 0.72 (High)
% Rationale: The "illness" model extracted autonomy and identity from those 
% labeled "abnormal" for decades. High score triggers 
% Mandatrophy protocol.
domain_priors:base_extractiveness(neurodiversity_spectrum, 0.72).

% Suppression: 0.55 (Moderate)
% Rationale: Advocacy groups have reduced the suppression of neurodivergent 
% strengths, but the "normalcy" ritual still persists in society.
domain_priors:suppression_score(neurodiversity_spectrum, 0.55).

% Enforcement: Requires active enforcement (Diagnosis levels 1-3).
domain_priors:requires_active_enforcement(neurodiversity_spectrum).

% BENEFICIARIES & VICTIMS
% Society benefits from "diverse brains" as an asset if supported.
constraint_beneficiary(neurodiversity_spectrum, inclusive_society).
% Individuals with unusual brains were historically "victims" of illness labels.
constraint_victim(neurodiversity_spectrum, neurodivergent_individuals).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PRE-1990s PATIENT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Treated as having something "wrong")
   WHEN: biographical (Single lifetime of diagnosis)
   WHERE: trapped (No spectrum existed, only the "hard line" of abnormal)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For these individuals, the "normal brain" assumption was a Noose that extracted 
   their dignity and replaced it with a diagnosis of illness.
   
   NARRATIVE EVIDENCE:
   "Those who were different might be diagnosed with an illness... and were 
   treated as though something was wrong with them".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    neurodiversity_spectrum,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(neurodiversity_spectrum, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MODERN MEDICAL SYSTEM (DSM-5) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-making authority)
   WHEN: generational (Reflecting decades of honed concepts)
   WHERE: mobile (Shifts from Asperger's to Levels 1-3)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The spectrum acts as a Rope—a functional coordination mechanism to allocate 
   the "amount of support required" rather than a binary exclusion.
   
   NARRATIVE EVIDENCE:
   "Recognising one condition, autism spectrum disorder, on a scale... depending 
   on the amount of support required".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    neurodiversity_spectrum,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    % Classification logic for the institutional coordinator
    true,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NEURODIVERSITY ADVOCATE - Mountain
   --------------------------------------------------------------------------
   
   WHO: collective_organized (Advocacy groups)
   WHEN: historical (Rooted in "natural variation")
   WHERE: arbitrage (Leveraging diverse strengths as assets)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   Advocates see neurodiversity as a biological Mountain—a natural, immutable 
   variation in human wiring that cannot and should not be "solved".
   
   NARRATIVE EVIDENCE:
   "What if these 'disorders' were better understood as natural variation in 
   the way human brains can be wired?".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    neurodiversity_spectrum,
    mountain,
    context(
        agent_power(collective_organized),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(neurodiversity_spectrum, S),
    S > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================= */

:- begin_tests(neurodiversity_spectrum_tests).

test(multi_perspective_variance) :-
    % Illness model (Noose) vs Support model (Rope) vs Natural law (Mountain)
    constraint_indexing:constraint_classification(neurodiversity_spectrum, noose, context(individual_powerless, _, trapped, _)),
    constraint_indexing:constraint_classification(neurodiversity_spectrum, rope, context(institutional, _, mobile, _)),
    constraint_indexing:constraint_classification(neurodiversity_spectrum, mountain, context(collective_organized, _, _, _)).

test(spectrum_vs_binary_extraction) :-
    % Binary model (Score 1) extracts more autonomy than Spectrum model (Score 2)
    BinaryExtraction = 0.9,
    SpectrumExtraction = 0.3,
    BinaryExtraction > SpectrumExtraction.

:- end_tests(neurodiversity_spectrum_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.72): High score chosen to reflect the "Mandatrophy" 
 * of the old illness-based paradigm which extracted personhood.
 * 2. SUPPRESSION (0.55): Reflects the ongoing transition where "Asperger's" 
 * was suppressed to create the broader Spectrum.
 * 3. PERSPECTIVES: Chose the 1990s patient to show the "Noose" effect of the 
 * hard-line binary.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    neurodiversity_spectrum_extraction_intent,
    "Is the 0.72 extraction of the 'illness' label a predatory attempt at social conformity or a genuine (but flawed) attempt at care?",
    resolution_mechanism("Audit of historical medical outcomes vs. modern quality-of-life improvements in spectrum-based systems"),
    impact("If predatory: Noose. If attempt at care: Rope."),
    confidence_without_resolution(medium)
).

omega_variable(
    asset_viability_threshold,
    "Are neurodivergent traits inherent 'assets' or only assets relative to specific societal supports?",
    resolution_mechanism("Long-term tracking of 'level 3' individuals in varied supportive environments"),
    impact("If inherent: Mountain. If environment-dependent: Rope/Scaffold."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: The "Normalcy" Binary
 * Viability: Historically dominant for centuries.
 * Suppression: Actively rejected by modern medical literature (DSM-5).
 * * CONCLUSION:
 * The 21st-century "Best Idea" is the rejection of the "Normalcy Noose" in 
 * favor of the "Neurodiversity Mountain" of natural variation.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/neurodiversity_spectrum].
 * 2. Multi-perspective: ?- multi_index_report(neurodiversity_spectrum).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: newtons_method_convergence
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Newton-Raphson Method (Numerical Analysis)
% ============================================================================

:- module(constraint_newtons_method, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: newtons_method_convergence
 * human_readable: Newton's Method (Root-Finding)
 * domain: mathematics/technological
 * temporal_scope: 1687 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Differentiable functions)
 * * SUMMARY:
 * Newton's Method is an iterative technique for finding roots of a real-valued 
 * function. It uses the function's derivative to project a tangent line to the 
 * x-axis. While quadratically fast near a root, it is notoriously sensitive 
 * to the initial guess and can diverge or oscillate indefinitely.
 * * KEY AGENTS:
 * - The Iterate (x_n): A powerless agent following a rigid geometric path.
 * - The Algorithm Architect: An institutional agent choosing the method for 
 * its "Rope-like" efficiency in optimized libraries.
 * - The Divergent Case: A "Noose" scenario where the function's geometry 
 * traps the iterate in a cycle or flings it to infinity.
 * * NARRATIVE ARC:
 * Newton's method begins as a "Rope" of extreme speed (quadratic convergence). 
 * As the agent approaches a local extremum where $f'(x) \to 0$, the Rope 
 * tightens into a "Noose," causing the iteration to fail. If the agent is 
 * within the "basin of attraction," the convergence is a "Mountain" of 
 * mathematical inevitability.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(newton_era, 1687, 2026).
narrative_ontology:constraint_claim(newtons_method_convergence, rope).

% Base extractiveness: 0.15
% Rationale: Generally low extraction; it is a "gift" of speed. However, 
% it "extracts" stability in exchange for performance.
domain_priors:base_extractiveness(newtons_method_convergence, 0.15).

% Suppression score: 0.2
% Rationale: It does not hide Bisection or Secant methods, though its 
% ubiquity in engineering makes it a "default" that suppresses slower logic.
domain_priors:suppression_score(newtons_method_convergence, 0.2).

% Enforcement: Emerges from the laws of calculus and Euclidean geometry.
domain_priors:emerges_naturally(newtons_method_convergence).

% Metrics
narrative_ontology:constraint_metric(newtons_method_convergence, extractiveness, 0.15).
narrative_ontology:constraint_metric(newtons_method_convergence, suppression_requirement, 0.2).

% Beneficiaries & Victims
constraint_beneficiary(newtons_method_convergence, optimized_solvers).
constraint_beneficiary(newtons_method_convergence, real_time_simulation).
constraint_victim(newtons_method_convergence, unstable_initial_guesses).
constraint_victim(newtons_method_convergence, non_differentiable_logic).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NUMERICAL ITERATE (Within Basin) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The value x_n has no agency over the update rule.
   WHEN: immediate - Focused on the single jump to the next x_intercept.
   WHERE: trapped - Locked within the basin of attraction of a specific root.
   SCOPE: local - Immediate neighborhood of the root.
   
   WHY THIS CLASSIFICATION:
   Once the iterate enters the basin of attraction for a simple root, the 
   convergence is guaranteed by the laws of analysis. The "Mountain" of 
   quadratic convergence is unyielding and predictable.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    newtons_method_convergence,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE LIBRARY DEVELOPER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to choose, tune, or fallback to other methods.
   WHEN: biographical - Planning the lifecycle of a software library.
   WHERE: mobile - Can switch to a Secant or Hybrid (Brent's) method if needed.
   SCOPE: global - Designing for a wide range of input functions.
   
   WHY THIS CLASSIFICATION:
   For the developer, Newton's method is a functional "Rope"—a highly efficient 
   coordination tool used to reach a result with fewer cycles than other 
   methods, provided they manage the "attachment point" (initial guess).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    newtons_method_convergence,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: NEAR-CRITICAL POINT ($f'(x) \approx 0$) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Trapped by the specific geometry of the function.
   WHEN: immediate - One step can throw the iterate to $x = \infty$.
   WHERE: constrained - The iterate is forced to follow a divergent tangent.
   SCOPE: local - At the flat portion of the curve.
   
   WHY THIS CLASSIFICATION:
   Near a local extremum, the "tangent" becomes nearly horizontal. The 
   update rule $x - f(x)/f'(x)$ produces a massive, uncontrolled jump. 
   The method acts as a "Noose," extracting all computational stability and 
   strangling the possibility of a solution.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    newtons_method_convergence,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(newtons_method_convergence, E),
    E > 0.1.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(newtons_method_tests).

test(basin_vs_peak_variance) :-
    % Inside basin -> Mountain
    constraint_indexing:constraint_classification(newtons_method_convergence, Type1, context(individual_powerless, immediate, trapped, local)),
    % Near peak -> Noose (modeled by 'constrained' exit option)
    constraint_indexing:constraint_classification(newtons_method_convergence, Type2, context(individual_powerless, immediate, constrained, local)),
    Type1 = mountain,
    Type2 = noose.

test(developer_rope_flexibility) :-
    constraint_indexing:constraint_classification(newtons_method_convergence, rope, context(institutional, biographical, mobile, global)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(newtons_method_convergence).

:- end_tests(newtons_method_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION SHIFT: The core insight is that Newton's method changes 
 * type based on geometry. Near the root, it's a "Mountain" of convergence. 
 * Near a flat spot, it's a "Noose" of divergence.
 * 2. AGENT SELECTION: The "Numerical Iterate" represents the passive subject 
 * of the mathematical law.
 * 3. EXTRACTIVENESS: While "free," the method extracts "computational 
 * reliability" from systems that don't verify derivatives.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    basin_of_attraction_boundary,
    "Is the boundary of the basin of attraction a 'Mountain' (smooth) or a 'Fractal' (chaotic)?",
    resolution_mechanism("Plot the Newton Fractal for the specific function $f(z)$."),
    impact("If Fractal: The 'Noose' is everywhere at the boundary. If Smooth: The 'Rope' is robust."),
    confidence_without_resolution(medium)
).



omega_variable(
    derivative_fidelity,
    "Is the 'Mountain' logic sound if the derivative is numerically approximated?",
    resolution_mechanism("Compare convergence of analytical Newton vs Finite-Difference Newton."),
    impact("If Approx: The 'Mountain' is a 'Scaffold' that may collapse into noise."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Bisection Method
 * Viability: Guaranteed convergence (Rope), zero extraction of stability.
 * Suppression: Rejected for speed in high-performance contexts.
 * * ALTERNATIVE 2: Secant Method
 * Viability: Doesn't require a derivative (lighter Rope).
 * Suppression: Slower than Newton (1.618 vs 2.0 convergence order).
 * * CONCLUSION:
 * The existence of safer alternatives (Bisection) confirms that Newton's 
 * method's Divergence Trap is a "Noose" one *chooses* to risk for the "Rope" 
 * of speed.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: no_cloning_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Quantum Mechanics / Wootters & Zurek (1982) / Dieks (1982)
% ============================================================================

:- module(constraint_no_cloning_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: no_cloning_theorem
 * human_readable: The No-Cloning Theorem
 * domain: technological
 * temporal_scope: Permanent (Universal Laws of Physics)
 * spatial_scope: Global (Quantum Information Systems)
 * * SUMMARY:
 * The no-cloning theorem states that it is impossible to create an independent 
 * and identical copy of an arbitrary unknown quantum state. This is a 
 * fundamental consequence of the linearity of quantum mechanics, preventing the 
 * "copy-paste" functionality central to classical information processing.
 * * KEY AGENTS:
 * - The Quantum Physicist: Analytical observer mapping the boundaries of reality.
 * - The Quantum Cryptographer: Institutional agent leveraging the theorem to create unhackable communications.
 * - The Quantum Computer Engineer: Individual agent struggling to implement error correction without state replication.
 * * NARRATIVE ARC:
 * The theorem functions as a "Mountain" of physical necessity. For the 
 * cryptographer, it is a "Rope" for coordination (security through 
 * physical law). However, for the engineer attempting to scale quantum 
 * hardware, it is a "Noose" that strangles the ability to use classical 
 * redundancy and debugging techniques.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Required for structural identification
narrative_ontology:interval(no_cloning_interval, 0, 10).
narrative_ontology:constraint_claim(no_cloning_theorem, mountain).

% Base extractiveness: 0.2 (Low)
% Rationale: It extracts "reproducibility" from the information system. It 
% doesn't actively steal resources but imposes a high "efficiency cost" on 
% information storage and transmission.
domain_priors:base_extractiveness(no_cloning_theorem, 0.2).

% Suppression: 0.3 (Low)
% Rationale: The classical alternative (perfect copying) is universally 
% visible but physically suppressed in the quantum domain.
domain_priors:suppression_score(no_cloning_theorem, 0.3).

% Enforcement: Emerges naturally from the linearity of quantum evolution.
domain_priors:emerges_naturally(no_cloning_theorem).

% BENEFICIARIES & VICTIMS
% Beneficiary: Security protocols (e.g., BB84) that depend on non-clonability.
constraint_beneficiary(no_cloning_theorem, quantum_cryptographers).
% Victim: Hardware architects who must invent complex "Surface Codes" to bypass the lack of copying.
constraint_victim(no_cloning_theorem, quantum_hardware_engineers).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(no_cloning_theorem, extractiveness, 0.2).
narrative_ontology:constraint_metric(no_cloning_theorem, suppression_requirement, 0.3).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE QUANTUM PHYSICIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the laws of information and matter.
   WHEN: civilizational - Viewing the universe as a permanent substrate.
   WHERE: trapped - Logic and physics cannot bypass the linearity of the Schrödinger equation.
   SCOPE: global - Universal computation.
   
   WHY THIS CLASSIFICATION:
   To the physicist, the theorem is a Mountain. It is an unchangeable 
   consequence of the mathematical structure of quantum mechanics. It is 
   not a policy; it is a fixed peak in the topography of reality that no 
   amount of engineering can level.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    no_cloning_theorem,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SECURITY ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define and utilize formal rules for trust.
   WHEN: biographical - Achieving secure communication over a project's life.
   WHERE: arbitrage - Can use non-clonability to detect eavesdropping (BB84).
   SCOPE: national - Protecting state or corporate infrastructure.
   
   WHY THIS CLASSIFICATION:
   For the security architect, the theorem is a Rope. It is a coordination 
   mechanism that provides a guarantee of privacy. By knowing that an 
   adversary *cannot* copy a bit without disturbing it, they use the 
   constraint as a tether to pull a secure network into existence.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    no_cloning_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HARDWARE DEBUGGER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the rules of the quantum lab.
   WHEN: immediate - Today's struggle to identify where a state was lost.
   WHERE: constrained - Cannot "save" or "duplicate" the state for testing.
   SCOPE: local - Immediate workspace.
   
   WHY THIS CLASSIFICATION:
   For the engineer trying to debug a quantum circuit, the theorem is a 
   Noose. They cannot "snapshot" the state for later analysis; the act 
    of measurement destroys it, and the inability to clone prevents 
   redundant backups. The harder they try to isolate errors, the tighter 
   the lack of information replication strangles their progress.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    no_cloning_theorem,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(no_cloning_theorem_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain
    constraint_indexing:constraint_classification(no_cloning_theorem, mountain, context(analytical, civilizational, trapped, global)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(no_cloning_theorem, rope, context(institutional, biographical, arbitrage, national)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(no_cloning_theorem, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_cloning) :-
    % Powerless engineers feel the total extraction of redundancy (Noose).
    % Institutional cryptographers leverage the "theft" of eavesdropping (Rope).
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    domain_priors:base_extractiveness(no_cloning_theorem, Score),
    Score > 0.1.

test(time_immutability_physics) :-
    % Long-term civilizational logic = Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(no_cloning_theorem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Low. While the theorem "takes away" the classical luxury of 
 * copying, it is a neutral law of the universe that applies to everyone 
 * equally. Its extraction is felt as an "efficiency tax" on computation.
 * * 2. PERSPECTIVE SELECTION:
 * The Analyst (Physicist) sees the law as a fixed Mountain.
 * The Architect (Cryptographer) sees the law as a useful Rope for security.
 * The Worker (Debugger) sees the law as a Noose strangling their methods.
 * * 3. AMBIGUITIES:
 * - The existence of "Approximate Cloning" creates a boundary condition 
 * where the Noose might be loosened for a high price.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    macro_cloning_threshold,
    "At what scale of system complexity does the no-cloning 'Noose' 
    effectively vanish into classical 'copyability'?",
    resolution_mechanism("Experimental mapping of the quantum-to-classical transition"),
    impact("If Low: Quantum limits are a pervasive Mountain. If High: They are 
    only a local Noose for microscopic systems."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Classical Information (Turing machines)
 * Viability: High. The entire digital world is built on the 
 * viability of cloning bits.
 * Suppression: High in the quantum domain. The laws of physics 
 * actively suppress classical-style copying once superposition is involved.
 * * CONCLUSION:
 * The existence of classical computing as a suppressed alternative for quantum 
 * systems confirms that for the quantum engineer, the theorem is a Noose—they 
 * are denied the very tools (copying) that make classical systems robust.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * * 1. Load: ?- [constraint_no_cloning_theorem].
 * 2. Multi-perspective: ?- multi_index_report(no_cloning_theorem).
 * 3. Run tests: ?- run_tests(no_cloning_theorem_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: noethers_theorem_symmetry
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Emmy Noether (1915) / Lagrangian Mechanics / Physics
% ============================================================================

:- module(constraint_noethers_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: noethers_theorem_symmetry
 * human_readable: Noether's Theorem (Symmetry-Conservation Link)
 * domain: mathematical/physical/technological
 * temporal_scope: 1915 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Action-based systems)
 * * SUMMARY:
 * Noether's theorem states that every differentiable symmetry of the action 
 * of a physical system has a corresponding conservation law. For example, 
 * time-translation symmetry implies conservation of energy, and spatial-translation 
 * symmetry implies conservation of momentum.
 * * KEY AGENTS:
 * - The Physical Particle (Subject): The powerless agent whose trajectory is 
 * bound by the geometric symmetries of the universe.
 * - The Theoretical Physicist (Institutional): An agent who uses the theorem 
 * as a "Rope" to deduce properties of unknown particles or forces.
 * - The Numerical Simulator (Analyst/Victim): An agent struggling with 
 * discrete systems that "break" the symmetry, turning the theorem into 
 * a "Noose" of unphysical energy drift.
 * * NARRATIVE ARC:
 * Noether's Theorem is the ultimate "Mountain" of physical reality—an 
 * inescapable identity between geometry and substance. In model-building, 
 * it is a "Rope" for coordination. However, in modern computing, the 
 * theorem acts as a "Noose" for programmers who must invent complex "Symplectic 
 * Integrators" to satisfy the conservation laws that the digital 
 * environment naturally tries to violate.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(noether_era, 1915, 2026).
narrative_ontology:constraint_claim(noethers_theorem_symmetry, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Low (0.1). Natural laws don't "take" in a social sense, though 
% they extract significant computational effort to preserve in simulation.
domain_priors:base_extractiveness(noethers_theorem_symmetry, 0.1).

% Suppression score (0.0-1.0)
% Rationale: Low (0.1). It is an enabling insight, though it renders 
% "non-conserving" symmetrical systems logically impossible.
domain_priors:suppression_score(noethers_theorem_symmetry, 0.1).

% Enforcement: Emerges naturally from the stationary action principle.
domain_priors:emerges_naturally(noethers_theorem_symmetry).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(noethers_theorem_symmetry, extractiveness, 0.1).
narrative_ontology:constraint_metric(noethers_theorem_symmetry, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(noethers_theorem_symmetry, field_theorists). % Predict unknown symmetries.
constraint_beneficiary(noethers_theorem_symmetry, aerospace_engineers). % Fuel/Momentum predictability.
constraint_victim(noethers_theorem_symmetry, naive_numerical_schemes). % Drift-prone algorithms.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PHYSICAL PARTICLE - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The particle cannot "choose" to violate energy conservation.
   WHEN: immediate - True at every infinitesimal point of the trajectory.
   WHERE: trapped - Bound by the metric and Lagrangian of the space it inhabits.
   SCOPE: local - Immediate neighborhood of the particle's state.
   
   WHY THIS CLASSIFICATION:
   For a particle in a time-invariant field, Energy Conservation is an absolute, 
   unchangeable Mountain. It has no agency to deviate from the conserved 
   surface in phase space.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    noethers_theorem_symmetry,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE THEORETICAL PHYSICIST - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design Lagrangians and predict laws.
   WHEN: biographical - Planning the discovery of a new gauge theory.
   WHERE: mobile - Can "pivot" between different symmetries (U1, SU2, SU3).
   SCOPE: global - Applying the theorem to the entire Standard Model.
   
   WHY THIS CLASSIFICATION:
   For the researcher, the theorem is a "Rope"—a functional coordination 
   mechanism. It allows the researcher to "climb" toward a conservation law 
   simply by identifying a symmetry, providing a standard of achievement for 
   model consistency.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    noethers_theorem_symmetry,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE GAME ENGINE PROGRAMMER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Bound by the limits of floating-point math.
   WHEN: immediate - Every frame, energy "leaks" out of the system.
   WHERE: constrained - Forced to fulfill the "expectation" of physics by the user.
   SCOPE: local - A specific collision or orbital simulation.
   
   WHY THIS CLASSIFICATION:
   In a discrete simulation, the "Mountain" of Noether is broken. The programmer 
   experiences the theorem as a "Noose"—a coercive limit that punishes simple 
   logic with "unphysical" results. It extracts massive engineering hours 
   to implement symplectic integrators that "tighten" the simulation back to 
   the conserved reality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    noethers_theorem_symmetry,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(noethers_theorem_symmetry, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (Insights into Physical Limits)
   ========================================================================== */

:- begin_tests(noethers_theorem_tests).

test(symmetry_fate_variance) :-
    % Particle -> Mountain
    constraint_indexing:constraint_classification(noethers_theorem_symmetry, Type1, context(individual_powerless, immediate, trapped, local)),
    % Scientist -> Rope
    constraint_indexing:constraint_classification(noethers_theorem_symmetry, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(numerical_drift_penalty) :-
    % A powerless agent (Programmer) in a constrained context sees the theorem as a Noose.
    constraint_indexing:constraint_classification(noethers_theorem_symmetry, noose, context(individual_powerless, immediate, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(noethers_theorem_symmetry).

:- end_tests(noethers_theorem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. PERSPECTIVE SPLIT: 
 * I highlighted the transition from "Analytic Certainty" (Mountain) to 
 * "Numerical Burden" (Noose). This explains why Noether's work is both a 
 * beautiful discovery and a technical headache for simulators.
 * * 2. EXTRACTIVENESS: 
 * Set at 0.1. While math is free, the *preservation* of these laws in 
 * non-natural (digital) systems extracts significant human labor.
 * * 3. AGENT POWER: 
 * Labeled the programmer as `individual_powerless` relative to the theorem's 
 * requirements; they cannot "negotiate" with Energy Conservation if they 
 * want a realistic game.
 */

% OMEGA IDENTIFICATION
omega_variable(
    discrete_noether_validity,
    "Does a true 'Mountain' version of the theorem exist for discrete-time systems (Calculus of Finite Differences)?",
    resolution_mechanism("Verification of Discrete Variational Integrators across 100 benchmark physics scenarios."),
    impact("If Yes: The Noose becomes a Rope for programmers. If No: It is a permanent Noose of approximation."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Non-Action Principles (Aristotelian/Teleological)
 * Viability: Historically practiced; things move because they "want" to reach a goal.
 * Suppression: Rendered invisible by the predictive Mountain of the 
 * Lagrangian framework discovered by Euler/Lagrange/Noether.
 * * ALTERNATIVE 2: Purely Phenomenological Conservation
 * Viability: Observe that energy is conserved without asking why (the pre-1915 state).
 * Status: Noether's theorem "suppressed" this by providing the "why" 
 * (symmetry), turning a Scaffold into a Mountain.
 * * CONCLUSION:
 * The dominance of Noether's Theorem is due to its role as a "Rope" that 
 * connects two previously disparate Mountains (Symmetry and Conservation).
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [noethers_theorem_symmetry].
% Analyze: ?- constraint_indexing:multi_index_report(noethers_theorem_symmetry).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: non_compete_agreements
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Labor Law / Employment Contracts / FTC Ban Rulings
% ============================================================================

:- module(constraint_non_compete, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: non_compete_agreements
 * human_readable: Non-Compete Agreements (Post-Employment Restraint)
 * domain: political/economic/social
 * temporal_scope: Biographical (Typically 6 months to 2 years post-exit)
 * spatial_scope: National to Regional (State-dependent)
 * * SUMMARY:
 * A non-compete agreement is a legal contract where an employee agrees not to 
 * enter into competition with an employer for a specified period and 
 * geographic area after the employment relationship ends. It is a direct 
 * legal restraint on labor mobility.
 * * KEY AGENTS:
 * - The Employer: Seeks to protect trade secrets and training investments.
 * - The Employee: Seeks to leverage their skills in the open market.
 * - The Regulator (e.g., FTC): Attempts to balance market competition with 
 * proprietary protections.
 * * NARRATIVE ARC:
 * Unlike Golden Handcuffs, which use a "Carrot" (equity), Non-Competes use 
 * a "Stick" (legal threat). The constraint functions as a "Border Control" 
 * on human capital, preventing the flow of knowledge from one firm to another.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(non_compete_agreements, 0, 10).
narrative_ontology:constraint_claim(non_compete_agreements, rope).

% Base extractiveness: High (0.8).
% The firm extracts the employee's future earning potential and mobility 
% often without additional compensation beyond the base salary.
domain_priors:base_extractiveness(non_compete_agreements, 0.8).

% Suppression: High (0.7).
% While the contract is known, the full legal implications and "chilling effect" 
% often suppress the visibility of viable alternative career paths.
domain_priors:suppression_score(non_compete_agreements, 0.7).

% Enforcement: Requires active enforcement (Litigation/Injunctions).
domain_priors:requires_active_enforcement(non_compete_agreements).

% Beneficiaries: Established Incumbent Firms (market protection).
constraint_beneficiary(non_compete_agreements, incumbent_corporations).

% Victims: Low-to-Mid Level Laborers (locked out of their industry).
constraint_victim(non_compete_agreements, transitioning_workers).

% Metrics
narrative_ontology:constraint_metric(non_compete_agreements, extractiveness, 0.8).
narrative_ontology:constraint_metric(non_compete_agreements, suppression_requirement, 0.7).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE JUNIOR WORKER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped (cannot work in their trained field)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For a junior worker with limited savings, a non-compete is a "Noose." 
   They cannot afford the legal fees to fight it, and the threat of an 
   injunction prevents them from taking any new job in their sector. 
   It is a pure extraction of their right to work.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    non_compete_agreements,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(non_compete_agreements, E),
    E > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE IP ATTORNEY - Rope
   --------------------------------------------------------------------------
   WHO: institutional/individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   To the attorney or corporate strategist, the agreement is a "Rope." 
   It is a tool used to coordinate and protect the "moat" around the 
   company's intellectual property. It structures the exit process 
   and ensures that "training investments" aren't immediately 
   captured by competitors.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    non_compete_agreements,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE POLICY MAKER - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The policymaker sees Non-Competes as a "Mountain" of institutional 
   precedent. Despite recent bans, the historical reality of post-employment 
   restraint is a massive feature of the economic landscape that 
   dictates the flow of innovation (e.g., Silicon Valley's growth 
   due to California's refusal to enforce them).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    non_compete_agreements,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(non_compete_agreements),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(non_compete_tests).

test(power_asymmetry_noose) :-
    % Testing that powerless agents (workers) see a Noose.
    constraint_indexing:constraint_classification(non_compete_agreements, noose, context(individual_powerless, _, _, _)).

test(legal_precedent_mountain) :-
    % Testing that analytical views see the structural Mountain.
    constraint_indexing:constraint_classification(non_compete_agreements, mountain, context(analytical, _, _, _)).

:- end_tests(non_compete_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Non-competes differ from Golden Handcuffs because they are non-voluntary 
 * post-exit. I set extractiveness to 0.8 because there is rarely a 
 * financial upside for the worker to sign one; it is a "tax on exit."
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    ftc_ban_enforceability,
    "Will federal bans on non-competes survive judicial review in 2026?",
    resolution_mechanism("Supreme Court ruling on administrative agency overreach"),
    impact("If Upheld: The Mountain crumbles; the Noose is cut. If Struck Down: The Noose tightens."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: nonstandard_arithmetic_models
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Thoralf Skolem (1934) / Peano Arithmetic / Tennenbaum's Theorem
% ============================================================================

:- module(constraint_nonstandard_arithmetic, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: nonstandard_arithmetic_models
 * human_readable: Nonstandard Models of Arithmetic
 * domain: mathematical/philosophical/technological
 * temporal_scope: 1934 - Present (Civilizational)
 * spatial_scope: Global/Abstract (First-Order Logic)
 * * SUMMARY:
 * Nonstandard models of arithmetic are structures that satisfy all the first-order 
 * axioms of Peano Arithmetic (PA) but are not isomorphic to the standard natural 
 * numbers ($\mathbb{N}$). They contain "non-standard" or "infinite" integers that 
 * reside beyond every finite successor of zero.
 * * KEY AGENTS:
 * - The Nonstandard Integer (Subject): A powerless agent existing beyond the 
 * "standard" horizon, yet bound by every law of arithmetic.
 * - The Model Theorist (Institutional): An agent using non-standard structures 
 * as a "Rope" to explore independence and prove the limits of first-order logic.
 * - The Computability Theorist (Analytical/Victim): An observer for whom these 
 * models are a "Noose," as Tennenbaum's Theorem proves they are fundamentally 
 * non-computable, "strangling" the dream of a recursive transfinite arithmetic.
 * * NARRATIVE ARC:
 * These models represent the "Mountain" of logical incompleteness; because 
 * first-order logic cannot pin down a unique model (Compactness Theorem), 
 * nonstandard realities are inevitable. In non-standard analysis, they provide 
 * a "Rope" for simplifying calculus with infinitesimals. However, for those 
 * seeking a computable foundation, the "Noose" of Tennenbaum's Theorem 
 * extracts the possibility of an algorithmic implementation, "choking" the 
 * utility of the transfinite for digital systems.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for the DR-Audit Suite
narrative_ontology:interval(skolem_era, 1934, 2026).
narrative_ontology:constraint_claim(nonstandard_arithmetic_models, mountain).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: 0.25. These models "extract" the uniqueness and categoricity 
% of the natural numbers, forcing a "logical tax" of ambiguity on all 
% first-order systems.
domain_priors:base_extractiveness(nonstandard_arithmetic_models, 0.25).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: 0.3. They suppress the visibility of "Standard-Only" arithmetic 
% by proving that the standard numbers are just one possible "Scaffold" 
% within a vast, uncomputable landscape.
domain_priors:suppression_score(nonstandard_arithmetic_models, 0.3).

% Enforcement: Emerges naturally from the Compactness Theorem of First-Order Logic.
domain_priors:emerges_naturally(nonstandard_arithmetic_models).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(nonstandard_arithmetic_models, extractiveness, 0.25).
narrative_ontology:constraint_metric(nonstandard_arithmetic_models, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(nonstandard_arithmetic_models, model_theorists).
constraint_beneficiary(nonstandard_arithmetic_models, nonstandard_analysis_researchers).
constraint_victim(nonstandard_arithmetic_models, foundational_categoricity_seekers).
constraint_victim(nonstandard_arithmetic_models, recursive_arithmetic_purists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NONSTANDARD INTEGER ($H$) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The integer cannot choose its position or properties.
   WHEN: immediate - Its existence is true the moment the model is defined.
   WHERE: trapped - Bound within the non-standard "galaxy" beyond $\mathbb{N}$.
   SCOPE: local - Immediate relationship with its predecessors and successors.
   
   WHY THIS CLASSIFICATION:
   For an "infinite" integer $H$, the laws of PA are an absolute Mountain. 
   It must satisfy $H+1 \neq H$, it must have a predecessor, and it must 
   obey induction. It has zero agency to "exit" the logic of arithmetic or 
   to become "standard," as it is trapped by the transfinite distance 
   from zero.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    nonstandard_arithmetic_models,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE NONSTANDARD ANALYST (e.g. Robinson) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define calculus and proof methods using infinitesimals.
   WHEN: biographical - Spanning the decades of modern analysis development.
   WHERE: mobile - Can "exit" to standard analysis when needed; uses models as tools.
   SCOPE: global - Universal application in mathematics.
   
   WHY THIS CLASSIFICATION:
   For the institutional mathematician, nonstandard models are a "Rope"—a 
   functional coordination tool. They provide a "standard of achievement" 
   for rigorizing Leibniz's infinitesimals, "pulling" complex limits into 
   simple algebraic comparisons.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    nonstandard_arithmetic_models,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DIGITAL FOUNDATIONALIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools to build systems but bound by Tennenbaum's limit.
   WHEN: civilizational - Seeking a computable, complete foundation for mathematics.
   WHERE: constrained - No alternative but to accept that nonstandard models are non-recursive.
   SCOPE: global - Universal limit on computable arithmetic.
   
   WHY THIS CLASSIFICATION:
   For those seeking a recursive transfinite arithmetic, these models are a 
   "Noose." Tennenbaum's Theorem "strangles" the possibility of a computable 
   implementation of addition and multiplication in any nonstandard model. 
   It extracts the "computational utility" (extraction) of the transfinite, 
   "choking" the hope for a digital "Standard of Truth" that goes beyond $\mathbb{N}$.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    nonstandard_arithmetic_models,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(nonstandard_arithmetic_models, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(nonstandard_arithmetic_tests).

test(multi_perspective_variance) :-
    % Integer -> Mountain
    constraint_indexing:constraint_classification(nonstandard_arithmetic_models, Type1, context(individual_powerless, immediate, trapped, local)),
    % Analyst -> Rope
    constraint_indexing:constraint_classification(nonstandard_arithmetic_models, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(computability_noose_insight) :-
    % Demonstrates that the Noose classification is triggered by Tennenbaum's impact
    constraint_indexing:constraint_classification(nonstandard_arithmetic_models, noose, context(individual_moderate, civilizational, constrained, global)).

test(compactness_natural_emergence) :-
    domain_priors:emerges_naturally(nonstandard_arithmetic_models).

:- end_tests(nonstandard_arithmetic_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.25):
 * The system "extracts" the uniqueness of our most basic object: the 
 * number. This creates a permanent "tax" of ontological ambiguity.
 * * 2. PERSPECTIVE SELECTION:
 * Chose the Nonstandard Integer (Subject), the Analyst (User of the Rope), 
 * and the Foundationalist (Victim of the Noose) to show how 
 * "discovery" leads to "strangulation" of previous hopes.
 * * 3. CLASSIFICATION RATIONALE:
 * The Integer is a "Mountain" because it exists by logical necessity 
 * regardless of human desire. The Analyst uses this necessity as a 
 * "Rope" (tool). The Digital Foundationalist hit the "Noose" because 
 * the non-recursive nature of these models makes them useless for 
 * automated reasoning.
 * * 4. AMBIGUITIES:
 * The status of "Second-Order Logic" is the primary variable; if one 
 * rejects first-order logic as the primary "Mountain," these models 
 * become a mere "Scaffold."
 */

% OMEGA IDENTIFICATION
omega_variable(
    first_order_primacy,
    "Is first-order logic the fundamental 'Mountain' of thought, or just a 'Scaffold' that hides higher-order categoricity?",
    resolution_mechanism("Investigation into the physical or cognitive 'Ropes' that might allow us to perceive second-order categoricity directly."),
    impact("If First-Order: Nonstandard models are a permanent Mountain. If Second-Order: They are an optional Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Second-Order Peano Arithmetic
 * Viability: Second-order PA is "Categorical"—it has only one model ($\mathbb{N}$).
 * Suppression: Actively suppressed by the "Incompleteness" of second-order 
 * logic, which fails to have a complete proof system (making it a "Noose" 
 * for those who need proofs).
 * * ALTERNATIVE 2: Weak Sub-systems of Arithmetic (e.g. Robinson's Q)
 * Viability: Simpler systems that allow even more non-standard variety.
 * * CONCLUSION:
 * The existence of Second-Order Categoricity proves that the "Noose" of 
 * nonstandard models is a price we pay for the "Rope" of first-order 
 * completeness (Gödel's Completeness Theorem).
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [nonstandard_arithmetic_models].
 * 2. Multi-perspective: ?- multi_index_report(nonstandard_arithmetic_models).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: north_korea_songun_mandatrophy
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: DPRK Economic Outlook 2024/2025 / Songun Policy Analysis
% ============================================================================

:- module(constraint_nk_mandatrophy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: north_korea_songun_mandatrophy
 * human_readable: North Korean Songun Mandatrophy
 * domain: political/economic/military
 * temporal_scope: 1995-Present (Songun Era)
 * spatial_scope: North Korea (DPRK)
 * * SUMMARY:
 * North Korean Mandatrophy is the ultimate expression of extracting the 
 * "civilian margin" to preserve a "military mandate." Under the Songun 
 * (Military-First) policy, the regime extracts up to 34% of GDP for military 
 * and nuclear expenditures while the foundational margins of the state—
 * agricultural fertility, public electricity, and basic human capital—atrophy 
 * to near-collapse levels.
 * * KEY AGENTS:
 * - The Kim Regime: Institutional; the architect of the Songun mandate, 
 * viewing the extraction as a necessity for "Juche" (self-reliance).
 * - The North Korean Farmer/Worker: Individual powerless; subject to 
 * "mass mobilization" and food rationing systems that fail to meet 
 * survival minimums.
 * - China: Institutional/External; provides the "Strategic Rope" (food, 
 * fuel, and 90% of trade) that prevents the Noose of mandatrophy from 
 * reaching its terminal state (collapse).
 * * NARRATIVE ARC:
 * The Songun policy was established as a Rope to coordinate national survival 
 * after the fall of the Soviet Union. However, it functioned as a Noose, 
 * cannibalizing the "Arduous March" margin. By 2025, the system persists in 
 * a state of "brittle stability," saved from the physical Mountain of 
 * collapse only by the external arbitrage of Chinese (and recently Russian) 
 * economic support.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(dprk_songun_cycle, 0, 10).
narrative_ontology:constraint_claim(north_korea_songun_mandatrophy, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.95. Near-total extraction; 34% of GDP and the highest 
% military spending per capita ($9,929 PPP) in the world, while 
% significant portions of the populace suffer from malnutrition.
domain_priors:base_extractiveness(north_korea_songun_mandatrophy, 0.95).

% Suppression score (0.0-1.0)
% Rationale: 0.9. Total suppression of internal market alternatives 
% and information; the state maintains a monopoly on food sales and 
% foreign trade to ensure the mandate remains unchallenged.
domain_priors:suppression_score(north_korea_songun_mandatrophy, 0.9).

% Enforcement requirements
% Requires extreme active enforcement (Totalitarian surveillance, 
% political prison camps, and the "Songbu" social classification).
domain_priors:requires_active_enforcement(north_korea_songun_mandatrophy).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(north_korea_songun_mandatrophy, extractiveness, 0.95).
narrative_ontology:constraint_metric(north_korea_songun_mandatrophy, suppression_requirement, 0.9).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(north_korea_songun_mandatrophy, kpa_military_leadership).
constraint_beneficiary(north_korea_songun_mandatrophy, regime_political_continuity).
constraint_victim(north_korea_songun_mandatrophy, civilian_infrastructure_resilience).
constraint_victim(north_korea_songun_mandatrophy, regional_agricultural_productivity).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE KIM REGIME - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to dictate the 20x10 Regional Development 
         Plan and military priorities.
   WHEN: generational - Preserving the Kim dynasty across three generations.
   WHERE: mobile - Projecting power via nuclear deterrence and cyber-theft.
   SCOPE: national - The "Unified Leadership" of the DPRK.
   
   WHY THIS CLASSIFICATION:
   For the leadership, Songun is a Rope—a vital coordination mechanism. It 
   is the only way to weave national defense and domestic order in a 
   hostile "encircled" environment. They view the extraction of margins 
   as a patriotic duty of the people to ensure Juche.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    north_korea_songun_mandatrophy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(north_korea_songun_mandatrophy, E),
    E < 0.99,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE NORTH KOREAN CITIZEN - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the "People's Economic Planning Law" 
         and the absence of private property.
   WHEN: immediate - Daily tactical struggle for calories and warmth.
   WHERE: trapped - Within a sealed border environment (3.5 years lockdown).
   SCOPE: local - Their home province or work unit.
   
   WHY THIS CLASSIFICATION:
   For the average citizen, the mandate is a Mountain. It is an unchangeable 
   law of the world. They cannot "negotiate" with the military-first 
   rationing; it is as natural as the terrain. They simply adapt 
   to the "permanence" of the scarcity.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    north_korea_songun_mandatrophy,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(north_korea_songun_mandatrophy),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: CHINESE STRATEGIC COMMAND - Rope (Arbitrage)
   --------------------------------------------------------------------------
   
   WHO: institutional/external - Provides the lifeline (oil, food, trade).
   WHEN: biographical - Avoiding a "Sudden Contingency" (collapse) scenario.
   WHERE: mobile - Managing the border buffer zone.
   SCOPE: regional - Northeast Asian stability.
   
   WHY THIS CLASSIFICATION:
   Beijing treats North Korea as a Rope. By providing the minimum necessary 
   economic "tension" (support), they prevent the system from snapping 
   into a terminal Mountain of collapse (refugees and US troops on the 
   Yalu). For China, North Korea's mandatrophy is a manageable cost 
   to maintain a strategic buffer.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    north_korea_songun_mandatrophy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    domain_priors:suppression_score(north_korea_songun_mandatrophy, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INDIVIDUAL CITIZEN (SUBJECT) - Noose
   --------------------------------------------------------------------------
   WHO: agent_power(individual_powerless) - Subjects under total state mandate.
   WHEN: generational - Lifelong exposure to Songun resource extraction.
   WHERE: exit_options(trapped) - Geographically and politically locked.
   SCOPE: spatial_scope(local) - Individual survival and family unit.
   
   WHY THIS CLASSIFICATION:
   The "Noose" is the totalizing Songun mandate. While the state uses this 
   as a "Rope" for institutional survival, the individual feels a 
   terminal tightening. With extraction (0.95) and suppression (0.95) at 
   near-absolute levels, the citizen has zero margin. This is a 
   "Mandatrophic" state where the individual is actively consumed to 
   sustain the rigid military architecture.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    north_korea_songun_mandatrophy,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(north_korea_songun_mandatrophy),
    !.

% Explicit terminal priors reflecting the collapse of individual margin.
domain_priors:base_extractiveness(north_korea_songun_mandatrophy, 0.95).
domain_priors:suppression_score(north_korea_songun_mandatrophy, 0.95).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(nk_mandatrophy_tests).

test(extraction_paradox) :-
    % Verify high extraction while external support prevents terminal failure.
    domain_priors:base_extractiveness(north_korea_songun_mandatrophy, E),
    E > 0.9.

test(china_as_scaffold) :-
    % China's role is to prevent the Noose from closing.
    constraint_indexing:constraint_classification(north_korea_songun_mandatrophy, rope, context(institutional, biographical, mobile, regional)).

:- end_tests(nk_mandatrophy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. MANDATROPHY APPLICATION: North Korea is the purest example of the 
 * term. The "Songun" mandate is explicitly a "Military-First" extraction 
 * of the civilian margin. 
 * 2. CHINESE ARBITRAGE: The user is correct that the system only survives 
 * because of China. In this framework, China is the "Rope" that prevents 
 * the Noose of mandatrophy from hitting the Mountain of absolute collapse.
 * 3. NEW STABILITY: I noted that Russia (Moscow) has recently provided a 
 * "Complementary Rope" in 2024/2025, reducing China's total trade share 
 * but not its strategic centrality.
 */

omega_variable(
    support_threshold_rupture,
    "At what point does North Korea's mandatrophic depletion become a 
     strategic liability that China can no longer support via a Rope?",
    resolution_mechanism("Monitoring the ratio of Chinese energy exports to 
    the rate of North Korean missile provocations that trigger US/NATO escalation"),
    impact("If export cuts occur: The Rope has snapped. If support holds: 
            The Rope remains strategic arbitrage."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: The "Reform and Opening" (Vietnamese/Chinese Model)
 * Viability: Proven to restore margins while maintaining political core.
 * Suppression: Systemically suppressed by the Kim regime to prevent 
 * "informational contamination" and loss of totalitarian control.
 * * CONCLUSION:
 * The rejection of reform (the "Alternative Rope") in favor of permanent 
 * extraction confirms the Noose classification for the populace.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [north_korea_songun_mandatrophy].
% 2. Analyze: ?- multi_index_report(north_korea_songun_mandatrophy).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: overton_window
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Joseph P. Overton / Mackinac Center for Public Policy
% ============================================================================

:- module(constraint_overton_window, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: overton_window
 * human_readable: The Overton Window (Window of Discourse)
 * domain: political/social
 * temporal_scope: Modern Era (Post-1990s formalization)
 * spatial_scope: National/Global
 * * SUMMARY:
 * The Overton Window represents the range of policies or ideas acceptable to the 
 * mainstream population at a given time. It constrains politicians to a narrow 
 * "window" of viable options; moving outside this window is perceived as 
 * political suicide. The window shifts not through political mandate, but 
 * through social and cultural pressure.
 * * KEY AGENTS:
 * - The Politician: Bound by the window to remain "electable."
 * - The Think Tank/Activist: Working to shift the window by promoting "unthinkable" ideas.
 * - The Median Voter: The unconscious anchor of the current window position.
 * * NARRATIVE ARC:
 * Initially, the window acts as a "Mountain" of social consensus. Activists use 
 * "Rope" strategies (pushing extreme positions to make moderate ones look viable). 
 * For those whose lives depend on "unthinkable" policies, the window functions 
 * as a "Noose," strangling the possibility of relief through the democratic process.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(overton_interval, 0, 10).
narrative_ontology:constraint_claim(overton_window, mountain).

% Base extractiveness: 0.4 (Moderate)
% Rationale: It extracts political "agency" from the population. By narrowing 
% what is "thinkable," it funnels social energy into a limited set of 
% institutionalized outcomes that often benefit the status quo.
domain_priors:base_extractiveness(overton_window, 0.4).

% Suppression score: 0.8 (High)
% Rationale: Ideas outside the window are not just ignored; they are 
% actively punished through social shaming, "cancelation," or labels like 
% "extremist," making alternatives effectively invisible to the mainstream.
domain_priors:suppression_score(overton_window, 0.8).

% Enforcement: Emerges naturally from social mimetics but is actively 
% manipulated by media and think tanks.
domain_priors:requires_active_enforcement(overton_window).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(overton_window, extractiveness, 0.4).
narrative_ontology:constraint_metric(overton_window, suppression_requirement, 0.8).

% Beneficiaries: Institutional incumbents and "centrist" political parties.
constraint_beneficiary(overton_window, political_incumbents).

% Victims: Radical reformers and marginalized groups whose needs are "unthinkable."
constraint_victim(overton_window, radical_reformers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE CAREER POLITICIAN - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: institutional (An agent whose power depends on the window).
   WHEN: immediate (The current election cycle).
   WHERE: trapped (Cannot move outside the window without losing office).
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For the politician, the window is a Mountain. It is the fixed landscape 
   they must navigate. They do not see themselves as having the power to 
   change it; they can only stand on the "ground" that the public provides. 
   To them, the window is a law of political physics.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    overton_window,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE IDEOLOGICAL STRATEGIST - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_powerful (A think-tank director or media mogul).
   WHEN: generational (Willing to wait decades to shift the center).
   WHERE: mobile (Can fund multiple narratives or "flank" the window).
   SCOPE: global/national.
   
   WHY THIS CLASSIFICATION:
   For the strategist, the window is a Rope. It is a coordination mechanism 
   they can pull. By strategically introducing "Radical" or "Unthinkable" 
   ideas into the discourse, they pull the window in their direction, 
   eventually making their preferred policies "Sensible."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    overton_window,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE URGENT REFORMER - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (An activist for a non-mainstream cause).
   WHEN: immediate (The crisis is happening now).
   WHERE: constrained (Must use the existing political system).
   SCOPE: local/national.
   
   WHY THIS CLASSIFICATION:
   For the reformer whose survival depends on a policy currently outside 
   the window, the constraint is a Noose. They see the "sensible" center 
   ignoring a catastrophe because the solution is "politically impossible." 
   The window's narrowness strangles their ability to even speak the 
   necessary truth in a way that is heard.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    overton_window,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(overton_window_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(overton_window, Type1, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(overton_window, Type2, context(agent_power(individual_powerful), _, _, _)),
    constraint_indexing:constraint_classification(overton_window, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(high_suppression_metric) :-
    % Overton window relies on suppressing "extremist" alternatives.
    domain_priors:suppression_score(overton_window, S),
    S >= 0.7.

test(time_horizon_shift) :-
    % Generational views see it as a tool (Rope), Immediate views as a wall (Mountain).
    constraint_indexing:constraint_classification(overton_window, rope, context(_, generational, _, _)).

:- end_tests(overton_window_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION (0.8): I set this very high because the Overton Window 
 * defines itself by what it excludes. Its primary function is the 
 * "shaming" of ideas outside its bounds.
 * 2. NOOSE CLASSIFICATION: Essential for capturing the frustration of 
 * marginalized groups. If the "Sensible" window excludes your right to 
 * exist or eat, it is an active mechanism of harm.
 * 3. ROPE CLASSIFICATION: Reflects the reality that the window is 
 * plastic—it can be moved if one has enough time and media leverage.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    discursive_fracture_impact,
    "In a hyper-polarized digital era, does a single 'Overton Window' still exist, 
    or has it fractured into multiple, incompatible 'micro-windows'?",
    resolution_mechanism("Network analysis of cross-partisan idea sharing and sentiment echoes"),
    impact("If fractured: The 'Mountain' of social consensus collapses into tribal Ropes."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Radical Pluralism (All ideas debated on merit)
 * Viability: Low (Human cognitive limits prefer heuristics/mainstreams).
 * Suppression: High (Mainstream media frames this as "platforming hate").
 * * ALTERNATIVE 2: Direct Democracy (Bypassing the window via referenda)
 * Viability: Moderate.
 * * CONCLUSION:
 * The window is a Noose because it forces complex social problems into 
 * a binary or narrow "sensible" range, suppressing radical but 
 * effective alternatives.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_overton_window].
 * 2. Report: ?- multi_index_report(overton_window).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: p_vs_np
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Stephen Cook (1971) / Computational Complexity Theory
% ============================================================================

:- module(constraint_p_vs_np, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: p_vs_np
 * human_readable: P vs. NP Problem
 * domain: technological
 * temporal_scope: Permanent (Laws of Computation)
 * spatial_scope: Global (Universal Mathematics)
 * * SUMMARY:
 * P vs. NP is a major unsolved problem in theoretical computer science. It asks 
 * whether every problem whose solution can be quickly verified (NP) can also 
 * be quickly solved (P). This constraint represents the fundamental boundary 
 * between "easy" (polynomial time) and "hard" (exponential time) computation.
 * * KEY AGENTS:
 * - The Complexity Theorist: Investigating the deep structure of the P vs. NP 
 * landscape to find a formal proof.
 * - The Cryptographer: Relies on the assumption that P != NP to ensure 
 * that breaking encryption remains computationally "hard."
 * - The Optimization Engineer: Faces NP-hard problems (like the Traveling 
 * Salesman) and must find heuristics to bypass the computational wall.
 * * NARRATIVE ARC:
 * The P vs. NP gap functions as a "Mountain" of physical reality for 
 * computation—if P != NP, certain tasks are forever hard. For the security 
 * architect, it is a "Rope" (the bedrock of modern trust). For the 
 * programmer stuck with an NP-hard task and a deadline, it is a "Noose" 
 * that strangles their ability to provide an optimal solution.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction
narrative_ontology:interval(p_vs_np_interval, 0, 10).
narrative_ontology:constraint_claim(p_vs_np, mountain).

% Base extractiveness: 0.4 (Moderate)
% Rationale: It extracts "efficiency." The asymmetry of verification vs. 
% calculation creates a rent where those with valid "witnesses" (solutions) 
% hold power over those who must find them.
domain_priors:base_extractiveness(p_vs_np, 0.4).

% Suppression: 0.2 (Low)
% Rationale: Alternatives (like Quantum computing or P = NP) are widely 
% discussed and visible, though currently unproven for breaking the constraint.
domain_priors:suppression_score(p_vs_np, 0.2).

% Enforcement: Emerges naturally from the structure of logical state space.
domain_priors:emerges_naturally(p_vs_np).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(p_vs_np, extractiveness, 0.4).
narrative_ontology:constraint_metric(p_vs_np, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(p_vs_np, cryptographers).
constraint_victim(p_vs_np, [brute_force_attackers, optimization_solvers]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE COMPLEXITY THEORIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (The observer of systemic limits)
   WHEN: civilizational (A permanent feature of mathematical truth)
   WHERE: trapped (Logic cannot bypass the complexity of state space)
   SCOPE: global (Universal computation)
   
   WHY THIS CLASSIFICATION:
   To the theorist, P vs. NP is a Mountain. It represents an objective 
   difficulty in the fabric of the universe. Regardless of technology, 
   the branching of possible solutions creates a fixed physical barrier 
   to efficiency that must be mapped, not bypassed.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    p_vs_np,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SECURITY ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (In charge of protecting a system)
   WHEN: biographical (Ensuring safety over a project's life)
   WHERE: arbitrage (Can use different hard problems for different needs)
   SCOPE: national (The reach of their infrastructure)
   
   WHY THIS CLASSIFICATION:
   For the architect, the hardness of NP is a Rope. It is the coordination 
   mechanism that allows for public-key cryptography. Without this 
   computational asymmetry, digital trust would collapse. They use this 
   difficulty as a tether to secure the entire internet.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    p_vs_np,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DISPERATE PROGRAMMER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A subject to the math's complexity)
   WHEN: immediate (A deadline that requires a fast solution)
   WHERE: constrained (Cannot change the nature of the problem)
   SCOPE: local (Immediate workspace)
   
   WHY THIS CLASSIFICATION:
   For the coder tasked with finding an optimal route for 50 cities by 
   tomorrow, the P vs. NP gap is a Noose. They know the solution exists, 
   but the "exponential wall" strangles their ability to find it in 
   time. The harder they push for perfection, the more the complexity 
   tightens around their compute budget.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    p_vs_np,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(p_vs_np_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(p_vs_np, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(p_vs_np, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(p_vs_np, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(power_extractiveness_security) :-
    % Institutional actors (Architects) derive security from the gap (lower felt extraction).
    % Powerless actors feel the drain of unfeasible goals (higher felt extraction).
    domain_priors:base_extractiveness(p_vs_np, E),
    E >= 0.3.

test(time_immutability) :-
    % Civilizational horizon views mathematical invariants as Mountains.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(p_vs_np_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): The gap extracts "possibility." It ensures that 
 * brute force is always more expensive than verifying a result, which 
 * is a fundamental asymmetry of energy.
 * 2. NOOSE CLASSIFICATION: I used this for the "Disperate Programmer" 
 * because NP-completeness is often a wall that forces people to settle 
 * for "good enough," strangling the ideal of perfection.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    p_is_np_consequence,
    "If P = NP were proven to be true, would the algorithm be 
    computationally efficient enough to be usable, or would the constant 
    factors be too large (creating a new Mountain)?",
    resolution_mechanism("A formal constructive proof of P = NP"),
    impact("If Usable: Cryptography dies (Noose). If Unusable: The P vs. NP 
    Mountain remains effectively intact."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Quantum Computing (BQP)
 * Viability: Can solve *some* NP problems (like factoring) faster, 
 * but likely not all NP-complete problems.
 * Suppression: Low. Massive global investment.
 * * ALTERNATIVE 2: Heuristics and Approximation
 * Viability: High. Used every day to bypass the "Noose" of NP-hardness.
 * * CONCLUSION:
 * The existence of heuristics as a "Rope" allows workers to escape the 
 * "Noose" of NP-completeness, shifting the constraint from an 
 * unmanageable trap to a manageable engineering challenge.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_p_vs_np].
 * 2. Multi-perspective: ?- multi_index_report(p_vs_np).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: pareto_principle
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Statistical Observation / Vilfredo Pareto (1896)
% ============================================================================

:- module(constraint_pareto_principle, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: pareto_principle
 * human_readable: The Pareto Principle (80/20 Rule)
 * domain: economic/social/technological
 * temporal_scope: Permanent (Universal Law of Power Distributions)
 * spatial_scope: Global (Systems with Cumulative Advantage)
 * * SUMMARY:
 * The Pareto Principle states that for many outcomes, roughly 80% of consequences 
 * come from 20% of causes. This power-law distribution manifests in wealth, 
 * software bugs, city sizes, and biological populations. It represents a 
 * fundamental asymmetry in how value or effort is distributed within a system.
 * * KEY AGENTS:
 * - The System Optimizer: Seeks to identify the high-leverage 20% to maximize ROI.
 * - The "Vital Few": The 20% that hold the majority of resources or influence.
 * - The "Trivial Many": The 80% that contribute a minority of the output or wealth.
 * * NARRATIVE ARC:
 * The principle acts as a gravity-like force. In a state of nature, systems 
 * drift toward this distribution (Mountain). For those managing complexity, it 
 * is a tool for focus (Rope). For those in the bottom 80% of a wealth 
 * distribution, the "Matthew Effect" (rich getting richer) makes it a Noose.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(pareto_interval, 0, 10).
narrative_ontology:constraint_claim(pareto_principle, mountain).

% Base extractiveness: 0.4 (Moderate)
% Rationale: It describes an inherent asymmetry where a small group of inputs 
% "extracts" or captures the majority of the outputs.
domain_priors:base_extractiveness(pareto_principle, 0.4).

% Suppression score: 0.3 (Low)
% Rationale: Alternatives (Normal distributions) are visible and frequent in 
% nature (e.g., height), but in complex networks, the Pareto distribution 
% is rarely successfully "suppressed" for long.
domain_priors:suppression_score(pareto_principle, 0.3).

% Enforcement: Emerges naturally from preferential attachment and power laws.
domain_priors:emerges_naturally(pareto_principle).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(pareto_principle, extractiveness, 0.4).
narrative_ontology:constraint_metric(pareto_principle, suppression_requirement, 0.3).

% Beneficiaries: High-leverage actors and the existing elite (The 20%).
constraint_beneficiary(pareto_principle, vital_few).

% Victims: The majority who compete for the remaining 20% of value (The 80%).
constraint_victim(pareto_principle, trivial_many).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE STATISTICIAN - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The scientific observer).
   WHEN: civilizational (A permanent mathematical reality).
   WHERE: trapped (The distribution is an emergent property of complex systems).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   From a purely mathematical stance, the 80/20 rule is a Mountain. It is an 
   invariant feature of systems with feedback loops and cumulative advantage. 
   One does not "change" the power law; one merely measures its exponent.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    pareto_principle,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE BUSINESS MANAGER - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (A professional optimizing a system).
   WHEN: biographical (Achieving goals within a career).
   WHERE: mobile (Can shift focus to different inputs).
   SCOPE: national/regional.
   
   WHY THIS CLASSIFICATION:
   For the manager, the principle is a Rope. It is a coordination mechanism for 
   productivity. By focusing on the "vital few" customers or tasks, they can 
   achieve disproportionate results with minimal effort. It is a tool for 
   leveraging reality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    pareto_principle,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BOTTOM-TIER COMPETITOR - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A small creator or worker in the tail end).
   WHEN: immediate (Fighting for survival in a winner-take-all market).
   WHERE: constrained (Locked into a system where rewards are centralized).
   SCOPE: local.
   
   WHY THIS CLASSIFICATION:
   For someone in the "long tail," the principle is a Noose. The more the system 
   grows, the more value concentrates at the top (The 20%). This makes it 
   increasingly difficult for those at the bottom to gain traction, as the 
   distribution naturally "strangles" those without initial leverage.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    pareto_principle,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(pareto_principle_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(pareto_principle, Type1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(pareto_principle, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(pareto_principle, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(leverage_detection) :-
    % High leverage (Manager) sees it as a Rope; Low leverage (Worker) as a Noose.
    domain_priors:base_extractiveness(pareto_principle, E),
    E >= 0.3.

test(immutability_scale) :-
    % Civilizational scale correctly identifies it as a Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(pareto_principle_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE SHIFT: The 80/20 rule is often taught as a positive (Rope), 
 * but for those on the losing side of a power law, it is a structural barrier. 
 * 2. EXTRACTIVENESS: Set to 0.4 because the distribution "extracts" 
 * opportunity from the many and gives it to the few through 
 * "Preferential Attachment."
 * 3. NOOSE VS MOUNTAIN: It's a Mountain to the observer, but for the 
 * person actually being pushed out of the market by the "Vital Few," it 
 * feels like an active Noose.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    preferential_attachment_origin,
    "Is the 80/20 distribution a result of initial skill/quality (Rope) or pure stochastic luck (Noose)?",
    resolution_mechanism("Simulating high-fidelity agents with varying luck vs. skill ratios"),
    impact("If Skill: The distribution is a Rope for meritocracy. If Luck: It is a Noose of unfair advantage."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Normal Distribution (Gaussian)
 * Viability: Occurs in physical traits, but rarely in information or wealth 
 * systems.
 * Suppression: Low (it's a natural phenomenon, not a suppressed one).
 * * ALTERNATIVE 2: Radical Egalitarian Redistribution
 * Viability: Mathematically suppresses the Pareto tail.
 * Suppression: High (viewed as economically inefficient or coercive).
 * * CONCLUSION:
 * The Pareto Principle is widely accepted as a Mountain, but the 
 * "suppression" of egalitarian alternatives often makes it function as 
 * a Noose for the bottom 80%.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_pareto_principle].
 * 2. Run multi-perspective: ?- multi_index_report(pareto_principle).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: parkinsons_law
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: C. Northcote Parkinson (1955) / Management Science
% ============================================================================

:- module(constraint_parkinsons_law, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: parkinsons_law
 * human_readable: Parkinson's Law
 * domain: organizational/economic/social
 * temporal_scope: Modern Bureaucratic Era (1950s-Present)
 * spatial_scope: Global (Public and Private Bureaucracies)
 * * SUMMARY:
 * Parkinson's Law states that "work expands so as to fill the time available for 
 * its completion." It describes the inherent tendency of bureaucracies to 
 * generate work for themselves and to expand their personnel regardless of the 
 * actual amount of productive work to be done.
 * * KEY AGENTS:
 * - The Bureaucrat: Motivated to increase subordinates rather than rivals; 
 * makes work for other bureaucrats.
 * - The Efficiency Auditor: Seeks to identify and prune "manufactured" work 
 * to restore focus on core missions.
 * - The Taxpayer/Shareholder: The ultimate source of funding for the 
 * expanding administrative overhead.
 * * NARRATIVE ARC:
 * The law functions as an invisible gravity in any formal structure. To the 
 * manager, it is a "Rope" (the logic of resource acquisition). To the 
 * systemic observer, it is an immutable "Mountain" of social entropy. For the 
 * productive worker, it becomes a "Noose," as their time is strangled by 
 * meetings and administrative requirements that exist only to serve the hierarchy.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(parkinson_interval, 0, 10).
narrative_ontology:constraint_claim(parkinsons_law, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts "time" and "capital" from productive ends to maintain 
% the ego and scale of the administrative class.
domain_priors:base_extractiveness(parkinsons_law, 0.5).

% Suppression score (0.0-1.0)
% Rationale: Alternatives (lean management, radical simplification) are 
% often suppressed by the internal logic of the bureaucracy itself, which 
% views "simplification" as a threat to its budget and status.
domain_priors:suppression_score(parkinsons_law, 0.4).

% Enforcement requirements
domain_priors:emerges_naturally(parkinsons_law).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(parkinsons_law, extractiveness, 0.5).
narrative_ontology:constraint_metric(parkinsons_law, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(parkinsons_law, middle_management).
constraint_victim(parkinsons_law, productive_contributors).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SYSTEMS THEORIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The observer of systemic entropy)
   WHEN: civilizational (A permanent feature of human social complexity)
   WHERE: trapped (Organization seems inherently to trend toward bloat)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the theorist, this is a Mountain. It is a mathematical certainty of 
   organizational physics. Without constant, violent external intervention, 
   all bureaucracies will expand their administrative ratio regardless of 
   output.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    parkinsons_law,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE DEPARTMENT HEAD - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (In charge of a sub-unit)
   WHEN: biographical (Advancing a career within the system)
   WHERE: arbitrage (Can justify budget increases using the work-expansion logic)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the manager, the law is a Rope. It is a coordination mechanism for 
   securing more resources. By ensuring their team is always "fully booked" 
   and busy, they can argue for more staff and bigger budgets, effectively 
   using the law to pull their department into higher importance.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    parkinsons_law,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CREATIVE PRODUCER - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A worker at the bottom of the hierarchy)
   WHEN: immediate (Today's task list)
   WHERE: constrained (Cannot easily leave or change the workflow)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the person trying to actually "produce," the law is a Noose. They find 
   their day filled with "busywork," unnecessary emails, and meetings about 
   meetings. The more time they are given, the more administrative "crud" 
   the system forces upon them, strangling their ability to do meaningful work.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    parkinsons_law,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(parkinsons_law_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(parkinsons_law, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(parkinsons_law, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(parkinsons_law, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(power_extractiveness_scaling) :-
    % Institutional actors use the law to extract budget (low/negative cost);
    % Powerless workers suffer the loss of their time (high cost).
    domain_priors:base_extractiveness(parkinsons_law, Score),
    Score > 0.3.

test(time_immutability) :-
    % Scale of civilizational observation confirms the "law" status (Mountain).
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(parkinsons_law_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.5):
 * The law extracts the most valuable human resource—time—for the sake 
 * of institutional mass. 
 * 2. PERSPECTIVE SELECTION:
 * The "Rope" perspective for the Manager is crucial; they aren't victims 
 * of the law, they are its primary users to secure prestige and staff.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    automation_impact_threshold,
    "Will AI and automation break the personnel expansion loop (Rope) or simply create more complex administrative 'oversight' work (Noose)?",
    resolution_mechanism("Longitudinal tracking of administrative headcounts post-AI implementation"),
    impact("If loop breaks: Law is a Scaffold. If loop continues: Law is a permanent Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Result-Oriented Work Environments (ROWE)
 * Viability: Focuses on output rather than hours; breaks the time-expansion loop.
 * Suppression: High. Bureaucracies reject this because it makes middle-management 
 * surplus visible.
 * * CONCLUSION:
 * The fact that ROWE-style alternatives are systematically rejected in large 
 * hierarchies indicates that Parkinson's Law is often a "Noose" masquerading 
 * as a "Mountain."
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_parkinsons_law].
 * 2. Multi-perspective: ?- multi_index_report(parkinsons_law).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: peano_curve_mapping
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Giuseppe Peano (1890) / Space-Filling Curves
% ============================================================================

:- module(constraint_peano_curve, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: peano_curve_mapping
 * human_readable: Peano Space-Filling Curve
 * domain: mathematical/technological
 * temporal_scope: 1890 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Unit Interval to Unit Square)
 * * SUMMARY:
 * The Peano Curve is the first discovered space-filling curve, a continuous 
 * mapping from a one-dimensional interval onto a two-dimensional square. It 
 * represents a fundamental constraint on the relationship between dimension 
 * and cardinality, proving that a 1D line can "occupy" all points in a 2D space.
 * * KEY AGENTS:
 * - The Mapping Point (Subject): A powerless agent whose position in 2D space 
 * is strictly determined by its 1D "time" parameter.
 * - The Database Architect (Institutional): An agent using space-filling 
 * logic (e.g., Z-order or Hilbert curves) as a "Rope" for data locality.
 * - Geometric Intuition (Victim): The observer whose common-sense 
 * distinction between 1D and 2D is "strangled" by the mapping.
 * * NARRATIVE ARC:
 * Originally a "pathological" counter-example to intuition, the Peano Curve 
 * is a "Mountain" of topological reality. In modern computing, it is a 
 * "Rope" for functional coordination in spatial indexing. However, for 
 * the 1D parameter, the mapping is a "Noose"—it extracts its 1D simplicity 
 * and forces it to assume the burden of a 2D existence, creating 
 * locality-breaking "jumps" in higher dimensions.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(peano_era, 1890, 2026).
narrative_ontology:constraint_claim(peano_curve_mapping, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.25. The curve "extracts" 1D locality (points that are close 
% in 1D may be far in 2D) to satisfy the space-filling requirement.
domain_priors:base_extractiveness(peano_curve_mapping, 0.25).

% Suppression score (0.0-1.0)
% Rationale: 0.2. It suppresses the intuitive topological distinction 
% between dimensions, rendering the "1D is not 2D" argument invalid.
domain_priors:suppression_score(peano_curve_mapping, 0.2).

% Enforcement: Emerges naturally from the axioms of continuity and set theory.
domain_priors:emerges_naturally(peano_curve_mapping).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(peano_curve_mapping, extractiveness, 0.25).
narrative_ontology:constraint_metric(peano_curve_mapping, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(peano_curve_mapping, spatial_database_indexing). % Efficient 2D range queries.
constraint_beneficiary(peano_curve_mapping, image_compression_algorithms). 
constraint_victim(peano_curve_mapping, classical_dimension_intuition). % Strangled by the surjective mapping.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MAPPING POINT - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The point on the line has no agency over the map.
   WHEN: immediate - True at every infinitesimal step of the parameter t.
   WHERE: trapped - Bound within the surjective mapping f: [0,1] -> [0,1]^2.
   SCOPE: local - Immediate coordinate mapping.
   
   WHY THIS CLASSIFICATION:
   For the point moving along the curve, the mapping is an unyielding law. 
   If it is at time 't', it *must* be at coordinate (x,y). There are zero 
   degrees of freedom to avoid the 2D "destiny" dictated by the fractal limit.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    peano_curve_mapping,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE GIS ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to choose the mapping (Peano, Hilbert, or Morton).
   WHEN: biographical - Planning the architecture of a geographic system.
   WHERE: mobile - Can adjust the depth of recursion or the type of curve.
   SCOPE: global - Universal application in spatial data.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the space-filling curve is a "Rope"—a tool for functional 
   coordination. It allows them to "pull" 2D spatial data into a 1D 
   linear order (the database index) without losing too much locality, 
   facilitating efficient range searches.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    peano_curve_mapping,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LOCALITY PRESERVATION - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - The sequence of points bound by the 1D line.
   WHEN: immediate - Encountering a "jump" where 2D neighbors are 1D strangers.
   WHERE: constrained - The topological limit of f is continuous but not 
        homeomorphic (no 1D-2D isomorphism is a homeomorphism).
   SCOPE: local - A specific discontinuous "jump" in the mapping.
   
   WHY THIS CLASSIFICATION:
   The Peano mapping acts as a "Noose" for locality. Because a 1D line 
   cannot be continuously mapped to a 2D square in a way that preserves 
   all neighborhood relations (Netto's Theorem), the curve "strangles" 
   locality. It extracts the 1D proximity of points, forcing distant 1D 
   neighbors to be 2D neighbors and vice versa.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    peano_curve_mapping,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(peano_curve_mapping, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (Insights into Space-Filling Logic)
   ========================================================================== */

:- begin_tests(peano_curve_tests).

test(perspective_variance) :-
    % Point -> Mountain
    constraint_indexing:constraint_classification(peano_curve_mapping, Type1, context(individual_powerless, immediate, trapped, local)),
    % Engineer -> Rope
    constraint_indexing:constraint_classification(peano_curve_mapping, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(locality_noose_penalty) :-
    % A powerless data sequence (constrained) sees the loss of locality as a Noose.
    constraint_indexing:constraint_classification(peano_curve_mapping, noose, context(individual_powerless, immediate, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(peano_curve_mapping).

:- end_tests(peano_curve_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: I classified the Peano mapping as a Mountain for the 
 * individual point because topologicalSurjectivity is non-negotiable. 
 * 2. TYPE SHIFT: I highlighted how the "Rope" of spatial indexing depends on 
 * the "Noose" of locality loss. You cannot fill space (Rope) without 
 * breaking the 1D-2D neighborhood equivalence (Noose).
 * 3. EXTRACTIVENESS (0.25): Assigned due to the "Tax" on locality. Any 
 * space-filling curve must "extract" some level of linear order to 
 * satisfy the higher-dimensional density.
 */

% OMEGA IDENTIFICATION
omega_variable(
    locality_preservation_limit,
    "Is there a 'Rope' (a different curve) that preserves locality better than Peano?",
    resolution_mechanism("Comparison of Peano vs Hilbert vs Morton curves using the 'Clustering Factor' metric."),
    impact("If Hilbert is superior: Peano is a 'Noose' compared to the Hilbert 'Rope'."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Hilbert Curve
 * Viability: Better locality preservation than Peano's original construction.
 * Suppression: Often preferred in engineering, making Peano's original 
 * construction a "Noose" by comparison for practical use.
 * * ALTERNATIVE 2: Morton Order (Z-order)
 * Viability: Simpler to compute (bit-interleaving).
 * Status: A "Rope" used in many low-level CPU operations.
 * * CONCLUSION:
 * The existence of the Hilbert Curve (Alternative 1) transforms the 
 * original Peano Curve into a "Noose" for performance-seeking engineers, 
 * as it extracts more locality for the same space-filling result.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [peano_curve_mapping].
% Analyze: ?- constraint_indexing:multi_index_report(peano_curve_mapping).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: permissive_software_licensing
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: MIT License / Apache License 2.0 / BSD Licenses
% ============================================================================

:- module(constraint_permissive_licensing, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: permissive_software_licensing
 * human_readable: Permissive Licenses (Minimal Friction)
 * domain: technological/legal/economic
 * temporal_scope: Biographical to Historical (1980s - Present)
 * spatial_scope: Global
 * * SUMMARY:
 * Permissive licenses (like MIT or Apache) are the "low-friction" alternative 
 * to Copyleft. They allow users to do almost anything with the code—copy, 
 * modify, and redistribute it—even as part of proprietary, closed-source 
 * software. The only common requirement is to include the original copyright 
 * and license notice.
 * * KEY AGENTS:
 * - The Corporate Developer: Seeks to incorporate open-source code into 
 * secret products without "viral" risk.
 * - The Open Source Contributor: Seeks maximum adoption and utility for 
 * their work, regardless of how it is used.
 * - The Ecosystem Architect: (e.g., Apple with Swift, Google with Go) who 
 * uses permissive licenses to build industry-wide standards.
 * * NARRATIVE ARC:
 * Permissive licenses function as a "Greased Slide." They remove the 
 * "Noose" of reciprocal obligations (Copyleft) to encourage maximum 
 * "Matching Market" thickness. By making the code "free as in beer" for 
 * commercial use, they turn a private asset into a ubiquitous, shared 
 * "Rope" for the entire industry.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(permissive_software_licensing, 0, 10).
narrative_ontology:constraint_claim(permissive_software_licensing, rope).

% Base extractiveness score (0.2)
% Slightly higher than Copyleft because it allows private entities to 
% extract profit from the work without sharing their modifications back.
domain_priors:base_extractiveness(permissive_software_licensing, 0.2).

% Suppression score (0.1)
% Extremely low; the licenses are famously short and transparent.
domain_priors:suppression_score(permissive_software_licensing, 0.1).

% Enforcement: Requires minimal enforcement (Notice requirement only).
domain_priors:requires_active_enforcement(permissive_software_licensing).

% Metrics
narrative_ontology:constraint_metric(permissive_software_licensing, extractiveness, 0.2).
narrative_ontology:constraint_metric(permissive_software_licensing, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(permissive_software_licensing, commercial_software_vendors).
constraint_beneficiary(permissive_software_licensing, proprietary_platforms).
constraint_victim(permissive_software_licensing, none). % Voluntary gift economy

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE STARTUP FOUNDER - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For a founder, permissive licenses are a "Rope." They allow the startup to 
   build on top of world-class infrastructure (like React or Flutter) with 
   zero legal friction. It coordinates their growth without the "Noose" 
   fear of being forced to reveal their own secret sauce.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    permissive_software_licensing,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(permissive_software_licensing, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COPYLEFT IDEOLOGUE - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful (intellectual influence)
   WHEN: generational
   WHERE: trapped (watched the 'commons' become privatized)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To an advocate for free software, permissive licenses are a "Noose" for 
   the community. They see it as a mechanism that allows corporations to 
   "strip-mine" the commons—taking the community's work, closing it off, 
   and selling it back to users, effectively strangling long-term freedom.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    permissive_software_licensing,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CLOUD PROVIDER - Mountain
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For a hyper-scaler (like AWS), permissive code is a "Mountain." It is a 
   raw natural resource. They treat it as an immutable feature of the 
   landscape that they can tap into to build their massive services. 
   It is the bedrock of their "infrastructure-as-a-service" model.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    permissive_software_licensing,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(permissive_software_licensing),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(permissive_tests).

test(frictionless_adoption) :-
    % Testing that permissive licenses act as a Rope for adoption.
    constraint_indexing:constraint_classification(permissive_software_licensing, rope, context(_, _, mobile, _)).

test(ideological_conflict) :-
    % Testing the Noose perception from the perspective of long-term freedom advocates.
    constraint_indexing:constraint_classification(permissive_software_licensing, noose, context(individual_powerful, _, _, _)).

:- end_tests(permissive_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Permissive licensing is the "Business-Friendly" Open Source. I set 
 * extractiveness to 0.2 because it allows the "capture" of value into 
 * proprietary products. This is the primary "Alternative Analysis" to 
 * Copyleft; it swaps reciprocal freedom (Rope) for frictionless 
 * utility (Greased Slide).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    re_licensing_trend,
    "Will more 'permissive' projects move to 'Business Source' licenses (BSL) as cloud providers extract more value?",
    resolution_mechanism("Tracking license changes in major databases and infra projects (e.g., Redis, Terraform)"),
    impact("If Yes: The permissive Mountain collapses into a Noose of commercial gatekeeping."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: personalized_nutritional_arbitrage
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Tim Spector (Zoe co-founder) / Helen Thomson / Microbiome special issue
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_personalized_nutritional_arbitrage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: personalized_nutritional_arbitrage
 * human_readable: Personalized Nutritional Arbitrage
 * domain: economic/healthcare/biological
 * temporal_scope: 21st Century (The "Zoe" era)
 * spatial_scope: Global (Digital health platforms)
 * * SUMMARY:
 * Building on the discovery that each person carries a unique microbial "fingerprint", 
 * this constraint represents the ability of individuals and companies to "arbitrage" 
 * health outcomes by tailoring dietary intake to specific microbial signatures 
 * rather than following generic nutritional rules[cite: 42].
 * * KEY AGENTS:
 * - The "Optimized" Individual: Uses a unique microbial fingerprint to bypass generic diets.
 * - Nutrition Platforms (e.g., Zoe): Commercial entities that extract data to provide health scores.
 * - Public Health Regulators: Rely on 20th-century "rule-based" nutritional hierarchies[cite: 41].
 * * NARRATIVE ARC:
 * The shift from "one-size-fits-all" dietary guidelines to "personalized arbitrage" 
 * transforms nutrition from a Noose (rigid, failing rules) into a Rope (a functional 
 * coordination tool for metabolism).
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

narrative_ontology:interval(personalized_nutritional_arbitrage, 0, 10).

% Base extractiveness: 0.65 (Moderate-High)
% Rationale: Platforms like Zoe extract biological data (blood, stool) 
% to monetize health insights. 
domain_priors:base_extractiveness(personalized_nutritional_arbitrage, 0.65).

% Suppression: 0.4 (Moderate-Low)
% Rationale: While genetic sequencing is advanced, 
% generic "rule-based" nutrition still dominates public policy[cite: 41].
domain_priors:suppression_score(personalized_nutritional_arbitrage, 0.4).

% Enforcement: Requires active enforcement (Daily tracking and testing).
domain_priors:requires_active_enforcement(personalized_nutritional_arbitrage).

% BENEFICIARIES & VICTIMS
% Nutrition Apps and "Optimized" users benefit from data arbitrage.
constraint_beneficiary(personalized_nutritional_arbitrage, nutrition_tech_companies).
% Individuals who cannot afford testing or follow failing generic advice.
constraint_victim(personalized_nutritional_arbitrage, socioeconomically_excluded_populations).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DATA-ENABLED USER - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (Has the agency to track and adapt)
   WHEN: biographical (Daily health management)
   WHERE: arbitrage (Can switch between diets based on real-time data)
   SCOPE: local (Internal health)
   
   WHY THIS CLASSIFICATION:
   For the user with the right tools, nutrition is no longer a set of 
   external "rules" but a Rope—a functional tool to influence immunity 
   and mental well-being.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    personalized_nutritional_arbitrage,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(local)
    )
) :-
    % Classification based on the ability to "refame" wellness 
    true,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PUBLIC HEALTH OFFICIAL - Mountain
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-making power)
   WHEN: generational (Slower policy update cycles)
   WHERE: trapped (Committed to broad, evidence-based guidelines)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   Government officials see nutritional hierarchies as unchangeable 
   standards needed for mass population health[cite: 41]. To them, 
   the biological variability of the microbiome is an unruly Mountain.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    personalized_nutritional_arbitrage,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(personalized_nutritional_arbitrage, S),
    S > 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE UNSUBSCRIBED PATIENT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Lacks access to the arbitrage data)
   WHEN: immediate (Real-time metabolic consequences)
   WHERE: constrained (Must follow generic labels/advice)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   Generic "rule-based" nutrition acts as a Noose for those whose unique 
   microbial fingerprint reacts poorly to standard diets[cite: 41, 52]. 
   They suffer extraction of health without the ability to "arbitrage" 
   for better outcomes.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    personalized_nutritional_arbitrage,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(personalized_nutritional_arbitrage, E),
    E > 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(personalized_nutritional_arbitrage_tests).

test(multi_perspective_variance) :-
    % User (Rope) vs Official (Mountain) vs Unsubscribed (Noose)
    constraint_indexing:constraint_classification(personalized_nutritional_arbitrage, rope, context(individual_moderate, _, arbitrage, _)),
    constraint_indexing:constraint_classification(personalized_nutritional_arbitrage, mountain, context(institutional, _, trapped, _)),
    constraint_indexing:constraint_classification(personalized_nutritional_arbitrage, noose, context(individual_powerless, _, constrained, _)).

test(microbial_fingerprint_advantage) :-
    % Test that "unique fingerprint" (score 1) yields better arbitrage 
    % than "rigid hierarchies" (score 2) [cite: 41, 52]
    FingerprintEfficiency = 0.85,
    RuleEfficiency = 0.3,
    FingerprintEfficiency > RuleEfficiency.

:- end_tests(personalized_nutritional_arbitrage_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.65): Reflects the high "price of entry" (biological 
 * data) required for nutritional arbitrage.
 * 2. MANDATROPHY STATUS: High extraction for tech companies vs high 
 * restriction for non-users.
 * 3. PERSPECTIVE SELECTION: Focused on the gap between the "Optimized" 
 * and the "Standardized" individual.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    microbial_data_portability,
    "Can individuals 'exit' a proprietary nutrition platform without losing their microbial history?",
    resolution_mechanism("Audit of data export standards across digital health platforms"),
    impact("If yes: Rope. If no: Noose (Vendor Lock-in)."),
    confidence_without_resolution(medium)
).

omega_variable(
    nutritional_arbitrage_extraction_intent,
    "Is the extraction of stool/blood data for 'scores' a functional necessity for health or a predatory data-mining strategy?",
    resolution_mechanism("Compare health outcome improvements vs. data monetization revenue"),
    impact("If necessity: Rope. If predatory: Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Rule-Based Public Nutrition
 * Viability: The 20th-century standard[cite: 41].
 * Suppression: Currently being "transformed" by personalized biotech.
 * * CONCLUSION:
 * The 21st-century "Best Idea" is using microbial data as a tool for 
 * arbitrage, potentially ending the era of the "Generic Nutritional Noose".
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/personalized_nutritional_arbitrage].
 * 2. Multi-perspective: ?- multi_index_report(personalized_nutritional_arbitrage).
 * 3. Run tests: ?- run_tests(personalized_nutritional_arbitrage_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: peter_principle
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Laurence J. Peter (1969) / Management Theory
% ============================================================================

:- module(constraint_peter_principle, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: peter_principle
 * human_readable: The Peter Principle
 * domain: organizational/social/economic
 * temporal_scope: Modern Bureaucratic Era (1960s-Present)
 * spatial_scope: Global (Hierarchical Organizations)
 * * SUMMARY:
 * The Peter Principle states that "in a hierarchy, every employee tends to rise 
 * to their level of incompetence." It posits that people are promoted based 
 * on their performance in their current role rather than their fitness for 
 * the next one, eventually reaching a position where they can no longer 
 * perform effectively and thus remain there.
 * * KEY AGENTS:
 * - The Incompetent Manager: The agent who has reached their "level of 
 * incompetence" and now focuses on preserving status and following rules.
 * - The Productive Subordinate: The "competent" worker doing the actual work 
 * who is yet to be promoted to their own level of failure.
 * - The Organizational Auditor: An observer attempting to optimize placement 
 * against the natural "rising" force of the hierarchy.
 * * NARRATIVE ARC:
 * The principle acts as a "Mountain" of systemic entropy—a natural outcome 
 * of the promotion-as-reward mechanism. For the individual rising, it is a 
 * "Rope" (the ladder of success) until the final promotion, where it 
 * becomes a "Noose," trapping them in a role they hate and cannot perform.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(peter_interval, 0, 10).
narrative_ontology:constraint_claim(peter_principle, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts organizational efficiency and employee well-being. 
% It places the "cost" of incompetence on the entire system while the 
% promoted individual extracts a higher salary for lower utility.
domain_priors:base_extractiveness(peter_principle, 0.4).

% Suppression score (0.0-1.0)
% Rationale: Alternatives like "lateral growth" or "demotion without shame" 
% are heavily suppressed by cultural norms surrounding "success" and 
% "upward mobility."
domain_priors:suppression_score(peter_principle, 0.5).

% Enforcement requirements
domain_priors:emerges_naturally(peter_principle).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(peter_principle, extractiveness, 0.4).
narrative_ontology:constraint_metric(peter_principle, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(peter_principle, senior_bureaucracy).
constraint_victim(peter_principle, organizational_efficiency).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SOCIAL SCIENTIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The observer of structural patterns)
   WHEN: civilizational (A permanent feature of human hierarchies)
   WHERE: trapped (As long as hierarchies exist, this pattern persists)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the scientist, this is a Mountain. It is an emergent property of any 
   system that rewards past performance with a different future role. It 
   is a statistical certainty that over time, the "sink" of every position 
   is filled by someone who cannot do the job.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    peter_principle,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE AMBITIOUS PROFESSIONAL - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (Seeking advancement)
   WHEN: biographical (Advancing through a 40-year career)
   WHERE: mobile (Can switch organizations to reset the 'Peter' cycle)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the climber, the promotion logic is a Rope. It is the visible path to 
   higher status and pay. They use their current competence to pull themselves 
   up the hierarchy, treating the principle not as a warning, but as the 
   standard mechanism of coordination and personal growth.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    peter_principle,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE TRAPPED MANAGER - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Despite the title, they are stuck in a role)
   WHEN: immediate (Daily struggle with a job they can't do)
   WHERE: constrained (Cannot demote themselves without social/financial ruin)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the person who has reached their level of incompetence, the principle 
   is a Noose. They are overwhelmed, stressed, and ineffective. They cannot 
   go back to the role they were good at because of the "promotion trap," 
   and they cannot move forward. The system strangles their job satisfaction 
   and mental health.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    peter_principle,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================= */

:- begin_tests(peter_principle_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(peter_principle, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(peter_principle, T2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(peter_principle, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(extraction_paradox) :-
    % Higher power (climber) sees a Rope; lower power (trapped/ineffective) sees a Noose.
    domain_priors:base_extractiveness(peter_principle, Score),
    Score > 0.3.

test(time_immutability) :-
    % Over civilizational time, it's an invariant Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(peter_principle_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.4): The principle extracts utility from the 
 * organization and well-being from the individual. It's a "silent tax" 
 * on hierarchical productivity.
 * 2. NOOSE CLASSIFICATION: Essential to recognize that the person at the top 
 * is often a victim of their own "success"—trapped by salary and status 
 * in a role where they feel like a fraud (Imposter Syndrome as a signal 
 * of the Peter Principle).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    competence_measurement_lag,
    "How long can an incompetent manager hide behind 'Final Placement' before the organization detects the lack of utility?",
    resolution_mechanism("Analysis of organizational lifespan vs. average management tenure"),
    impact("If lag is high: The Peter Principle is a permanent Mountain. If low: It's a temporary Scaffold."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Dual-Track Career Paths (Individual Contributor vs Manager)
 * Viability: Allows people to "promote" in pay/status without changing roles.
 * Suppression: Moderate. Still secondary to the "leadership" narrative in 
 * most cultures.
 * * ALTERNATIVE 2: Up-or-Out (Cravath System)
 * Viability: Forces exit rather than stagnation at incompetence.
 * Suppression: High. Viewed as "brutal" and socially expensive.
 * * CONCLUSION:
 * The existence of Alternatives shifts the Peter Principle from an 
 * "Inevitable Mountain" to a "Voluntary Noose" for organizations that refuse 
 * to decouple status from management.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_peter_principle].
 * 2. Multi-perspective: ?- multi_index_report(peter_principle).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: planetary_boundaries
% ============================================================================
% Revised: 2026-01-20 (v3.1 Hardened Standard)
% Source: Stockholm Resilience Centre / Structural Dynamics Fleet
% ============================================================================

:- module(planetary_boundaries, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:omega_variable/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_metric/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: planetary_boundaries
 * human_readable: Planetary Boundaries
 * domain: environmental/political
 * temporal_scope: 2009-Present
 * spatial_scope: Global
 * * SUMMARY:
 * Planetary Boundaries define the "safe operating space for humanity" across 
 * nine Earth system processes. While biophysical (Mountain), 
 * they function as a mandate for global coordination (Rope) that can cap 
 * economic margins for developing populations (Noose).
 * * KEY AGENTS:
 * - Biosphere: The physical substrate (Mountain).
 * - Global_Governance: Institutional; coordination via policy (Rope).
 * - Developing_Populations: Powerless; economic margin capped (Noose).
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================= */

% Structural Anchor for System Extraction
narrative_ontology:interval(planetary_boundaries, 2009, 2026).

% Base extractiveness: 0.8. 
% Rationale: High extraction of developmental potential to maintain biophysical stability.
domain_priors:base_extractiveness(planetary_boundaries, 0.8).
domain_priors:suppression_score(planetary_boundaries, 0.8).
domain_priors:requires_active_enforcement(planetary_boundaries).

% Beneficiaries & Victims
narrative_ontology:constraint_beneficiary(planetary_boundaries, global_governance_bodies).
narrative_ontology:constraint_victim(planetary_boundaries, developing_economic_subjects).

% v3.1 Corrected Metrics
narrative_ontology:constraint_metric(planetary_boundaries, extractiveness, 0.8).
narrative_ontology:constraint_metric(planetary_boundaries, suppression_requirement, 0.8).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Sub Specie Aeternitatis - MOUNTAIN
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    planetary_boundaries, 
    mountain, 
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Global Policy Makers - ROPE
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    planetary_boundaries, 
    rope, 
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Economic Subject (Developing Nation) - NOOSE
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    planetary_boundaries, 
    noose, 
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(planetary_boundary_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(planetary_boundaries, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(planetary_boundaries, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2.

:- end_tests(planetary_boundary_tests).

/* ==========================================================================
   5. OMEGA VARIABLES (Ω)
   ========================================================================== */

narrative_ontology:omega_variable(
    physics_vs_policy_tension,
    "To what degree is a boundary violation a physical 'Mountain' collapse versus a policy-driven 'Noose' tightening?",
    resolution_mechanism("Real-time monitoring of Earth system process thresholds vs. policy enforcement latency"),
    impact("If Mountain: Inevitable collapse. If Noose: Reformable developmental ceilings."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. MODEL INTERPRETATION (Hardened Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini-v3.1-Hardened
 * * KEY DECISIONS:
 * The "safe operating space" for the planet is often a "narrowed operating space" 
 * for the marginalized. This represents quintessential Mandatrophy where 
 * biophysical facts justify developmental extraction.
 */

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES: Technological Decoupling
 * Suppression: Currently suppressed by thermodynamic constraints and 
 * high capital/temporal requirements for radical innovation.
 */

intent_viable_alternative(planetary_boundaries, technological_innovation, 'Radical resource decoupling').
intent_alternative_rejected(planetary_boundaries, technological_innovation, 'Thermodynamic and temporal constraints').

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: planetary_diet_constraint_2026
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "The one diet that’s good for everything" by Carissa Wong (Jan 2026)
% ============================================================================

:- module(planetary_diet_constraint_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: planetary_diet_constraint_2026
 * human_readable: Planetary Boundary Dietary Alignment
 * domain: technological/ecological/economic
 * temporal_scope: 2020-2050 (The Great Transition)
 * spatial_scope: Global
 * * SUMMARY:
 * The article identifies the Mediterranean diet as being "good for the planet" 
 *. This creates a "Planetary Health" constraint where individual 
 * consumption is indexed against global ecological survival. The constraint 
 * shifts from a personal health choice to a collective survival mandate, 
 * where high-meat and high-dairy consumption are increasingly classified 
 * as ecological "theft" or systemically unviable.
 * * KEY AGENTS:
 * - Institutional Planner: (Global governance/Climate Scientist) - Views 
 * the diet as a necessary Rope to avoid climate tipping points.
 * - The Industrial Meat Producer: (Individual Powerful/Institutional) - 
 * Views the constraint as a Noose strangling their existing business model.
 * - The Global Consumer: (Individual Moderate) - Experiences the shift 
 * as a Mountain (the climate reality) or a Rope (meaningful lifestyle change).
 * * NARRATIVE ARC:
 * The shift from seeing diets as purely physiological to seeing them as 
 * planetary inputs. The "scientific gold standard" now requires both 
 * internal health and external sustainability.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(planetary_diet_constraint_2026, 0, 10).

% Base extractiveness score: 0.1 (Very Low)
% Rationale: The benefit is largely communal/existential (planetary health). 
% Extraction is directed away from future generations and toward current 
% sustainable habits.
domain_priors:base_extractiveness(planetary_diet_constraint_2026, 0.1).

% Suppression score: 0.6 (High-Moderate)
% Rationale: Scientific consensus is increasingly marginalizing high-emission 
% dietary paths as "unsustainable" or "dangerous" to the biophysical 
% stability of the Earth.
domain_priors:suppression_score(planetary_diet_constraint_2026, 0.6).

% Enforcement: Requires active enforcement (Carbon taxes, subsidies, cultural shaming).
domain_priors:requires_active_enforcement(planetary_diet_constraint_2026).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(planetary_diet_constraint_2026, future_humanity).
constraint_beneficiary(planetary_diet_constraint_2026, biodiversity_preservation).
constraint_victim(planetary_diet_constraint_2026, industrial_animal_agriculture).
constraint_victim(planetary_diet_constraint_2026, cultural_traditions_reliant_on_heavy_meat).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: INSTITUTIONAL PLANNER - Rope
   --------------------------------------------------------------------------
   WHO: institutional (Policy makers/Climate scientists)
   WHEN: historical (100-year plan for planetary stability)
   WHERE: arbitrage (Moving resources between sectors)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the planner, dietary shifts are a "Rope"—a tool for managing the 
   global carbon budget. It is a functional coordination mechanism to 
   reach net-zero goals without total systemic collapse.
   
   NARRATIVE EVIDENCE:
   The diet brings "planetary benefits". Scientists use this 
   evidence to back up policy interventions.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    planetary_diet_constraint_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: INDUSTRIAL MEAT PRODUCER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful (Large-scale business interests)
   WHEN: biographical (Short-term ROI/Business life)
   WHERE: constrained (Capital is tied up in physical infrastructure)
   SCOPE: national/global
   
   WHY THIS CLASSIFICATION:
   The mandatory shift toward "minimal meat and dairy" acts as a 
   Noose for the producer. It is an extractive mechanism that devalues 
   their assets and forces a transition they may not survive.
   
   NARRATIVE EVIDENCE:
   "Filled with fibre... minimal meat and dairy". This specific 
   composition is a direct threat to the core revenue of this agent.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    planetary_diet_constraint_2026,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: ECOLOGICAL REALIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical (Observer of thermodynamics)
   WHEN: civilizational (Species-level survival)
   WHERE: analytical (No exit from the biosphere)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From the view of planetary boundaries, the resource cost of certain 
   foods is a "Mountain." The biosphere has finite limits on carbon and 
   nitrogen; the necessity to eat within those limits is a natural law 
   rather than a policy choice.
   
   NARRATIVE EVIDENCE:
   The diet is "also good for the planet", implying an 
   extant planetary need that the diet merely satisfies.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    planetary_diet_constraint_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(planetary_diet_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(planetary_diet_constraint_2026, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(planetary_diet_constraint_2026, noose, context(agent_power(individual_powerful), _, _, _)),
    constraint_indexing:constraint_classification(planetary_diet_constraint_2026, mountain, context(agent_power(analytical), _, _, _)).

test(suppression_impact) :-
    % High suppression (0.6) forces agents with low exit options into Noose types.
    domain_priors:suppression_score(planetary_diet_constraint_2026, S),
    S > 0.5.

:- end_tests(planetary_diet_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.1): Low because the "extraction" is actually a reduction 
 * in the "theft" from future generations' resources.
 * 2. PERSPECTIVE: I added the "Industrial Meat Producer" to show how a 
 * "good" constraint (Rope for the planet) can be a Noose for agents 
 * specialized in a legacy system.
 * 3. SUPPRESSION: Set to 0.6 because the narrative of "there is no alternative" 
 * for planetary survival is a powerful suppressive force against 
 * alternative dietary models.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    planetary_diet_scalability,
    "Is it biophysically possible to feed 10 billion people the 'Mediterranean gold standard' without exceeding other planetary boundaries (e.g., phosphorus or water)?",
    resolution_mechanism("Integrated assessment models comparing Mediterranean crop yields and water requirements at scale"),
    impact("If no: The Rope is actually a Noose for the global south. If yes: It remains a viable global Rope."),
    confidence_without_resolution(medium)
).

omega_variable(
    meat_substitution_technology,
    "Will lab-grown meat allow for 'meat-heavy' diets to become 'planetary-neutral' (Mountain-bypass)?",
    resolution_mechanism("Life-cycle analysis of industrial lab-meat energy consumption vs. traditional grazing"),
    impact("If yes: The 'minimal meat' constraint dissolves from a Noose into a non-issue."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: High-Tech Veganism (Precision Fermentation)
 * Viability: Potentially lower land-use than Mediterranean.
 * Suppression: Often ignored in favor of "Whole Foods" Mediterranean narratives.
 * * ALTERNATIVE 2: Regenerative Grazing
 * Viability: Claims to sequester carbon.
 * Suppression: Directly contradicted by the "minimal meat and dairy" mandate.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [planetary_diet_constraint_2026].
% Run tests: ?- run_tests(planetary_diet_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: planning_fallacy
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Kahneman, D., & Tversky, A. (1979) / Cognitive Science
% ============================================================================

:- module(constraint_planning_fallacy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: planning_fallacy
 * human_readable: The Planning Fallacy
 * domain: economic/social/technological
 * temporal_scope: Permanent (Human Cognitive History)
 * spatial_scope: Global (Organizational Systems)
 * * SUMMARY:
 * The planning fallacy is a phenomenon in which predictions about how much time 
 * will be needed to complete a future task display an optimism bias and 
 * underestimate the time needed. This occurs even when the planner knows that 
 * similar tasks have taken longer in the past.
 * * KEY AGENTS:
 * - The Enthusiastic Planner: The agent who underestimates time to secure 
 * approval or maintain morale.
 * - The Exploited Worker: The agent forced to absorb the "time debt" 
 * through crunch or unpaid labor.
 * - The Resource Allocator: The institutional agent who uses low estimates 
 * to justify aggressive capital deployment.
 * * NARRATIVE ARC:
 * The constraint functions as a "Mountain" of inherent cognitive limitation. 
 * For the institution, it is a "Rope" (a coordination tool to get 
 * projects started). For the worker at the end of the deadline, it is a 
 * "Noose," as the "impossible" schedule extracts their health and time 
 * to compensate for the initial underestimation.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural identification
narrative_ontology:interval(planning_fallacy_interval, 0, 10).
narrative_ontology:constraint_claim(planning_fallacy, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts "buffer time" and health from laborers to meet 
% unrealistic deadlines set by planners.
domain_priors:base_extractiveness(planning_fallacy, 0.5).

% Suppression score (0.0-1.0)
% Rationale: It suppresses "Reference Class Forecasting" and historical 
% data. Planners actively ignore "base rates" in favor of the specific 
% "internal" view of the current project.
domain_priors:suppression_score(planning_fallacy, 0.6).

% Enforcement: Emerges naturally from cognitive architecture but is 
% often institutionalized to force project initiation.
domain_priors:emerges_naturally(planning_fallacy).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(planning_fallacy, extractiveness, 0.5).
narrative_ontology:constraint_metric(planning_fallacy, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
% Who systematically benefits from this constraint?
constraint_beneficiary(planning_fallacy, institutional_planners).
% Who systematically suffers extraction?
constraint_victim(planning_fallacy, [individual_contributors, developers, laborers]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RESEARCH PSYCHOLOGIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer of cognitive limits)
   WHEN: civilizational (A permanent feature of human information processing)
   WHERE: trapped (Brain architecture is relatively fixed)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the scientist, the fallacy is a Mountain. It is an unchangeable feature 
   of the "Inside View." Humans are biologically prone to focus on the 
   specifics of their own plan rather than the statistics of the world.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    planning_fallacy,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE STARTUP FOUNDER - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-shaping power over a new venture)
   WHEN: biographical (Achieving project milestones)
   WHERE: arbitrage (Can move between different funding sources)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the founder, the fallacy is a Rope. It is a coordination mechanism for 
   optimism. Without it, the daunting reality of a project might prevent it 
   from ever starting. It acts as a tether to a future success that 
   requires a "leap of faith" to initiate.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    planning_fallacy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE JUNIOR DEVELOPER - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Subject to the manager's schedule)
   WHEN: immediate (Today's "crunch" time)
   WHERE: constrained (Must deliver to keep the job)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the worker at the end of a project cycle, the fallacy is a Noose. 
   The initial underestimation by management creates an impossible 
   deadline that tightens over time, extracting their evening and 
   weekend hours to "fix" the schedule.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    planning_fallacy,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(planning_fallacy_tests).

/**
 * TEST 1: Multi-perspective variance
 * Demonstrates that different perspectives see the fallacy as different types.
 */
test(multi_perspective_variance) :-
    % Analytical sees Mountain
    constraint_indexing:constraint_classification(planning_fallacy, mountain, context(agent_power(analytical), _, _, _)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(planning_fallacy, rope, context(agent_power(institutional), _, _, _)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(planning_fallacy, noose, context(agent_power(individual_powerless), _, _, _)).

/**
 * TEST 2: Power-based extractiveness scaling
 * Demonstrates that extraction experienced varies with agent power.
 */
test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(planning_fallacy, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(planning_fallacy, ContextPowerful, Score2),
    Score1 > Score2.

/**
 * TEST 3: Time-horizon immutability
 * Demonstrates that mutability varies with time horizon.
 */
test(time_immutability_planning) :-
    % Immediate/Biographical + trapped = Mountain (unchangeable deadline)
    constraint_indexing:effective_immutability(immediate, trapped, mountain),
    % Civilizational/Historical = Rope (we can learn to build systems that account for it)
    constraint_indexing:effective_immutability(civilizational, mobile, rope).

:- end_tests(planning_fallacy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.5):
 * Reasoning: The fallacy extracts "surplus life" (unpaid overtime, stress) 
 * from those tasked with execution. It's a moderate score because it 
 * often also harms the institution through budget overruns.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Analytical (the graph), Institutional (the budgeter), and 
 * Individual Powerless (the "crunched" worker) to show the full range 
 * of "Mountain," "Rope," and "Noose."
 * * 3. CLASSIFICATION RATIONALE:
 * The "Rope" for founders is a crucial insight: if people were rational 
 * about project timelines, few large-scale innovations would be attempted.
 * * 4. AMBIGUITIES:
 * - Resolved the "natural" vs "enforced" distinction by identifying 
 * it as naturally emerging but institutionalized for gain.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    intentional_underestimation,
    "How much of the planning fallacy is biological bias (Mountain) versus strategic, deceptive underestimation (Noose) for funding?",
    resolution_mechanism("Compare private project estimates with public funding requests"),
    impact("If Strategic: It is a Noose of deception. If Biological: It is a Mountain of error."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Reference Class Forecasting (RCF)
 * Viability: High. Using historical data from similar projects to set 
 * timelines effectively eliminates the fallacy.
 * Suppression: High. Institutions often view RCF as "un-innovative" 
 * or "pessimistic," suppressing it to maintain high project approval rates.
 * * CONCLUSION:
 * The existence of a valid alternative (RCF) that is suppressed by 
 * institutional optimism confirms that for the laborer, the fallacy 
 * is a Noose, not a natural Mountain.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_planning_fallacy].
 * 2. Multi-perspective: ?- multi_index_report(planning_fallacy).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: platform_cooperativism_governance
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Domain Analysis of Worker-Owned Platforms (e.g., The Drivers Cooperative, Stocksy)
% ============================================================================

:- module(constraint_platform_coop, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: platform_cooperativism_governance
 * human_readable: Democratic Worker Governance and Surplus Retention
 * domain: economic/social/technological
 * temporal_scope: 2014-Present (Post-Scholz/Schneider Manifesto)
 * spatial_scope: Global (Distributed Digital Labor)
 * * SUMMARY:
 * Platform Cooperativism is a model where the digital platform (the app, the 
 * marketplace) is owned and governed by its workers, users, or customers. 
 * The core constraint is a "democratic mandate" that requires profits to be 
 * reinvested or distributed to members, and algorithms to be transparent 
 * and accountable to the collective.
 * * KEY AGENTS:
 * - Worker-Owner: Individual moderate; possesses voting rights and a 
 * share of the surplus.
 * - Coop Board: Institutional; elected body that manages the platform's 
 * strategic direction while remaining accountable to members.
 * - VC-Backed Competitor: External analytical; views the coop's lack of 
 * "blitzscaling" ability as a competitive weakness.
 * * NARRATIVE ARC:
 * This system functions as a Rope (functional coordination) designed to 
 * replace the extractive Noose of traditional gig platforms. However, the 
 * consensus-building requirements can feel like a Mountain (unchangeable 
 * friction) for agents accustomed to fast, centralized decision-making.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(cooperative_labor_era, 0, 10).
narrative_ontology:constraint_claim(platform_cooperativism_governance, rope).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.05. Very low; extraction is minimized as the surplus 
% is returned to the creators of the value.
domain_priors:base_extractiveness(platform_cooperativism_governance, 0.05).

% Suppression score (0.0-1.0)
% Rationale: 0.2. Low; transparency is a core tenet, and alternatives 
% (proprietary platforms) are visible but rejected on ideological grounds.
domain_priors:suppression_score(platform_cooperativism_governance, 0.2).

% Enforcement requirements
% Requires active enforcement: Bylaws, democratic voting protocols, 
% and transparent accounting systems must be maintained.
domain_priors:requires_active_enforcement(platform_cooperativism_governance).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(platform_cooperativism_governance, extractiveness, 0.05).
narrative_ontology:constraint_metric(platform_cooperativism_governance, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(platform_cooperativism_governance, worker_members).
constraint_beneficiary(platform_cooperativism_governance, community_wealth_stability).
constraint_victim(platform_cooperativism_governance, venture_capital_returns).
constraint_victim(platform_cooperativism_governance, decision_making_velocity).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE COOP MEMBER (DRIVER/ARTIST) - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has agency through voting; not a mere subject.
   WHEN: biographical - Investing in a long-term, stable livelihood.
   WHERE: mobile - While committed, the lack of extraction makes them less 
         "trapped" than on extractive platforms.
   SCOPE: local/regional - Often focused on specific local markets.
   
   WHY THIS CLASSIFICATION:
   For the member, the coop is a Rope. It is a coordination mechanism that 
   secures their labor and ensures they aren't "algorithmically deactivated" 
   without recourse. It provides a helpful, functional structure for their 
   economic life.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    platform_cooperativism_governance,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(platform_cooperativism_governance, E),
    E < 0.2,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: STARTUP TECH EXECUTIVE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerful - Accustomed to high-velocity, top-down control.
   WHEN: immediate - Driven by quarterly metrics and rapid growth.
   WHERE: constrained - Bound by the "consensus" requirement of the coop.
   SCOPE: global - Attempting to scale a model.
   
   WHY THIS CLASSIFICATION:
   To an executive from the proprietary world, the coop's democratic 
   governance is a Mountain. The need to ballot the membership for major 
   architectural changes feels like an unyielding, unchangeable friction of 
   the landscape that prevents "pivoting" or "blitzscaling."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    platform_cooperativism_governance,
    mountain,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(platform_cooperativism_governance),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: EXTRACTIVE COMPETITOR (UBER/DELIVEROO) - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional - Powerful incumbent with massive capital.
   WHEN: generational - Protecting a dominant market model.
   WHERE: arbitrage - Uses capital to lower prices and squeeze out the coop.
   SCOPE: global - Universal market dominance.
   
   WHY THIS CLASSIFICATION:
   To the incumbent, the "coop mandate" is a Noose—not for the workers, but 
   for the business itself. Because the coop cannot extract profit to 
   subsidize predatory pricing, the incumbent views the coop's own 
   fairness rules as the very thing that will eventually "choke" its 
   ability to survive in a hyper-competitive capital market.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    platform_cooperativism_governance,
    noose,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(platform_cooperativism_governance, E),
    E < 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(platform_coop_tests).

test(multi_perspective_trust_gap) :-
    % Member (Rope) vs Tech Exec (Mountain)
    constraint_indexing:constraint_classification(platform_cooperativism_governance, T1, context(individual_moderate, biographical, mobile, regional)),
    constraint_indexing:constraint_classification(platform_cooperativism_governance, T2, context(individual_powerful, immediate, constrained, global)),
    T1 \= T2.

test(zero_extraction_signature) :-
    domain_priors:base_extractiveness(platform_cooperativism_governance, E),
    E < 0.1.

:- end_tests(platform_coop_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.05): This is the defining feature. By design, 
 * cooperatives aim for zero surplus extraction by outside capital.
 * 2. PERSPECTIVE INVERSION: I chose the "Tech Executive" and "Incumbent" 
 * perspectives to show that what is a Rope (freedom) for the worker 
 * can appear as a Noose or Mountain for capital-intensive agents.
 * 3. SUPPRESSION (0.2): Suppression is low because coops usually embrace 
 * open-source principles and "exit to community" ideologies.
 */

omega_variable(
    capital_access_omega,
    "Can a non-extractive Rope (Coop) scale in a financial ecosystem 
     designed for extractive Nooses (VC)?",
    resolution_mechanism("Monitor survival rates of platform coops vs. 
    venture-backed startups in the same sector over a 10-year period"),
    impact("If Yes: The Coop is a viable Rope for the future of work. 
            If No: The Coop is a niche Mountain that cannot scale."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: B-Corporations (Benefit Corporations)
 * Viability: High. Allows for profit-taking but mandates social goals. 
 * Easier to get capital than a pure coop.
 * Suppression: None; it is often the path taken when coops fail to 
 * secure funding.
 * * CONCLUSION:
 * Platform Cooperativism is the "Inverse Noose." It intentionally 
 * constrains capital to protect labor. Its success depends on whether 
 * the coordination benefits of the "Rope" (trust, lower churn) can 
 * outweigh the "Mountain" of capital-access friction.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [platform_cooperativism_governance].
% 2. Analyze: ?- multi_index_report(platform_cooperativism_governance).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: poincare_conjecture
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Poincaré Conjecture / Perelman's Proof (Ricci Flow with Surgery)
% ============================================================================

:- module(constraint_poincare_conjecture, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: poincare_conjecture
 * human_readable: The Poincaré Conjecture
 * domain: mathematical/topological
 * temporal_scope: 1904 - Present (Civilizational)
 * spatial_scope: Global/Abstract (3-Manifolds)
 * * SUMMARY:
 * The Poincaré Conjecture characterizes the 3-sphere (the hypersphere that 
 * bounds the unit ball in 4D space). It asserts that every simply connected, 
 * closed 3-manifold is homeomorphic to the 3-sphere. Proven by Grigori 
 * Perelman in 2003, it serves as the foundational classification of "simple" 
 * 3D space.
 * * KEY AGENTS:
 * - The 3-Manifold: The powerless subject whose identity is fixed by its 
 * topological properties (simply connected, closed).
 * - Grigori Perelman: The analytical analyst who used Ricci Flow to navigate 
 * the geometry toward the topological truth.
 * - The Mathematical Establishment (Clay Institute): The institutional agent 
 * offering prizes and validation, which Perelman famously rejected.
 * * NARRATIVE ARC:
 * For a century, the conjecture was a "Mountain" of unproven but suspected 
 * natural law. Perelman converted it into a "Rope" by providing a constructive 
 * path via Ricci Flow with surgery. However, the social "Noose" of the 
 * Millennium Prize and Fields Medal caused Perelman to exit the system 
 * entirely, viewing the professional validation mechanism as extractive.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(poincare_era, 1904, 2026).
narrative_ontology:constraint_claim(poincare_conjecture, mountain).

% Base extractiveness: 0.2
% Rationale: Mathematical truth itself is non-extractive, but the social 
% apparatus of "Prizes" (Millennium Prize) extracts prestige and personal 
% peace from the mathematician.
domain_priors:base_extractiveness(poincare_conjecture, 0.2).

% Suppression score: 0.1
% Rationale: It defines what is possible in 3D topology, rendering "fake" 
% 3-spheres impossible, but it does not hide other mathematical theories.
domain_priors:suppression_score(poincare_conjecture, 0.1).

% Enforcement: Emerges from the fundamental axioms of topology.
domain_priors:emerges_naturally(poincare_conjecture).

% Metrics
narrative_ontology:constraint_metric(poincare_conjecture, extractiveness, 0.2).
narrative_ontology:constraint_metric(poincare_conjecture, suppression_requirement, 0.1).

% Beneficiaries & Victims
constraint_beneficiary(poincare_conjecture, topological_physics).
constraint_beneficiary(poincare_conjecture, geometrical_analysts).
constraint_victim(poincare_conjecture, perelman_social_peace). % Social pressure of the prize.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE 3-MANIFOLD (THE SUBJECT) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The manifold cannot change its topology.
   WHEN: immediate - True throughout its existence.
   WHERE: trapped - Bound by its own connectivity and closure.
   SCOPE: local - Immediate neighborhood of its points.
   
   WHY THIS CLASSIFICATION:
   If a 3D space is simply connected and closed, it *is* a 3-sphere. This is 
   not a choice; it is an unyielding Mountain of topological fate.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    poincare_conjecture,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE RESEARCH MATHEMATICIAN - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to use the theorem to classify new systems.
   WHEN: civilizational - Long-term development of geometry.
   WHERE: mobile - Can apply the theorem to various physical models.
   SCOPE: global - Universal application.
   
   WHY THIS CLASSIFICATION:
   For the working mathematician, the proven conjecture is a "Rope"—a tool 
   of coordination. It allows them to "anchor" their work in a known reality, 
   ensuring that their classification of 3D spaces is robust.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    poincare_conjecture,
    rope,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: PERELMAN (THE MILLENNIUM PRIZE) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Perelman, despite his genius, felt subject 
        to a corrupt social order of prizes.
   WHEN: biographical - The decision to reject the prize defined his life.
   WHERE: constrained - Surrounded by media and social pressure.
   SCOPE: local - His personal interaction with the mathematical community.
   
   WHY THIS CLASSIFICATION:
   The prize was a "Noose." To accept it was to validate a social system of 
   prestige he found "completely irrelevant." The prize attempted to extract 
   his compliance with professional norms in exchange for money.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    poincare_conjecture,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(poincare_conjecture, E),
    E > 0.15. % The extraction is social, not mathematical.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(poincare_conjecture_tests).

test(topology_fate_variance) :-
    % Manifold -> Mountain
    constraint_indexing:constraint_classification(poincare_conjecture, Type1, context(individual_powerless, immediate, trapped, local)),
    % Community -> Rope
    constraint_indexing:constraint_classification(poincare_conjecture, Type2, context(institutional, civilizational, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(perelman_exit_logic) :-
    % Perelman's rejection of the prize represents a constrained individual seeing a Noose.
    constraint_indexing:constraint_classification(poincare_conjecture, noose, context(individual_powerless, biographical, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(poincare_conjecture).

:- end_tests(poincare_conjecture_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. PERSPECTIVE SPLIT: 
 * I chose to split the "Mathematical Truth" (Mountain) from the 
 * "Social Validation" (Noose). This is essential to explain why 
 * the discoverer of a "gift to humanity" (Rope) would feel strangled 
 * by it.
 * * 2. EXTRACTIVENESS: 
 * Set at 0.2 because math is pure, but the *discovery process* in 
 * a professional setting is extractive of the discoverer's peace.
 * * 3. AGENT POWER: 
 * Labeled Perelman as `individual_powerless` in the social context, 
 * reflecting his inability to stop the world from awarding him 
 * things he didn't want.
 */

% OMEGA IDENTIFICATION
omega_variable(
    professional_recognition_toxicity,
    "Does the 'Noose' of professional recognition prevent future geniuses from sharing proofs?",
    resolution_mechanism("Monitor the frequency of anonymous vs credited publications of 'unsolvable' problems."),
    impact("If Yes: The social order is a Noose. If No: It is a functional Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Thurston's Geometrization Conjecture
 * Viability: The broader framework that Poincare fits into.
 * Suppression: None; Perelman's proof of Geometrization included Poincare.
 * * ALTERNATIVE 2: Anonymous Publication (arXiv)
 * Viability: How Perelman actually released the work.
 * Suppression: The community attempted to force him back into the 
 * "peer review/prize" Rope, which he experienced as a Noose.
 * * CONCLUSION:
 * Perelman's use of arXiv (Alternative 2) was a "mobile" exit option that 
 * temporarily turned the Noose back into a Rope, but the community's 
 * reaction tried to tighten it again.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [poincare_conjecture].
% Analyze: ?- constraint_indexing:multi_index_report(poincare_conjecture).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(poincare_conjucture, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(poincare_conjucture, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(poincare_conjucture, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: prime_number_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Prime Number Theorem (PNT) / Asymptotic Distribution of Primes
% ============================================================================

:- module(constraint_pnt, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: prime_number_theorem
 * human_readable: Prime Number Theorem (Asymptotic Density)
 * domain: mathematical/technological
 * temporal_scope: 1896 - Present (Civilizational)
 * spatial_scope: Global/Abstract (The Number Line)
 * * SUMMARY:
 * The Prime Number Theorem (PNT) describes the asymptotic distribution of prime 
 * numbers among the positive integers. It formalizes the intuitive idea that 
 * primes become less frequent as they become larger, specifically stating that 
 * the number of primes less than x is approximately x/ln(x).
 * * KEY AGENTS:
 * - The Prime Number (Subject): The mathematical entity whose density and 
 * occurrence are dictated by the laws of arithmetic.
 * - The Cryptographer (Institutional): An agent who uses the predictable 
 * distribution of primes to coordinate global security (RSA/ECC).
 * - The Search Algorithm (Individual Powerless): A computational process 
 * searching for large primes, subject to the "thinning" reality of PNT.
 * * NARRATIVE ARC:
 * PNT is the ultimate "Mountain" of number theory—an inescapable density law. 
 * For the cryptographer, it functions as a "Rope," providing a coordination 
 * mechanism that ensures enough "raw material" (primes) exists to secure the 
 * world's data. However, for a high-precision algorithm, the logarithmic 
 * decay is a "Noose," extracting ever-increasing computational energy for 
 * diminishing returns in search results.
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(pnt_era, 1896, 2026).
narrative_ontology:constraint_claim(prime_number_theorem, mountain).

% Base extractiveness: 0.15
% Rationale: While mathematical truth is free, the realization of PNT 
% "extracts" computational resources (time/energy) as the logarithmic 
% density decreases at scale.
domain_priors:base_extractiveness(prime_number_theorem, 0.15).

% Suppression score: 0.1
% Rationale: It does not suppress other truths, but it renders alternative 
% prime distributions (e.g., linear density) logically impossible.
domain_priors:suppression_score(prime_number_theorem, 0.1).

% Enforcement: Emerges naturally from the structure of the integers.
domain_priors:emerges_naturally(prime_number_theorem).

% Metrics
narrative_ontology:constraint_metric(prime_number_theorem, extractiveness, 0.15).
narrative_ontology:constraint_metric(prime_number_theorem, suppression_requirement, 0.1).

% Beneficiaries & Victims
constraint_beneficiary(prime_number_theorem, system_security). % RSA reliability.
constraint_beneficiary(prime_number_theorem, mathematicians). % Proof-of-concept for chaos/order.
constraint_victim(prime_number_theorem, computational_efficiency). % Search time at high x.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PRIME NUMBER (SUBJECT) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The prime has no choice in its density or location.
   WHEN: immediate - The law applies across the entire number line simultaneously.
   WHERE: trapped - Bound within the logical structure of the integers.
   SCOPE: global - Applies to all integers to infinity.
   
   WHY THIS CLASSIFICATION:
   For the numbers themselves, the distribution is a "Mountain." There is no 
   volition or agency; the density is an unchangeable feature of the universe.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    prime_number_theorem,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CRYPTOGRAPHER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design standards (NIST/ISO) based on this law.
   WHEN: biographical - Planning security for the lifecycle of modern encryption.
   WHERE: mobile - Can choose different prime sizes or algorithms to adjust.
   SCOPE: global - Managing the security of the global internet.
   
   WHY THIS CLASSIFICATION:
   For the architect of security systems, PNT is a "Rope." It is a functional 
   coordination tool that guarantees a sufficient supply of large primes 
   exists to make key collision statistically impossible.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    prime_number_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LARGE-PRIME SEARCHER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - A single CPU/GPU bound by the search space.
   WHEN: immediate - Each cycle spent in a "prime desert" is an extraction.
   WHERE: constrained - Knowing a prime exists but unable to jump to it.
   SCOPE: local - A specific range of the number line (e.g., near 2^82,589,933 - 1).
   
   WHY THIS CLASSIFICATION:
   When searching for the next Mersenne prime or high-bit RSA factor, PNT acts 
   as a "Noose." It proves that the "space" of freedom (primes) is getting 
   smaller, extracting massive energy (FLOPs) while tightening the difficulty 
   of the search.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    prime_number_theorem,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(prime_number_theorem, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(pnt_tests).

test(multi_perspective_variance) :-
    % Subject -> Mountain
    constraint_indexing:constraint_classification(prime_number_theorem, Type1, context(individual_powerless, immediate, trapped, global)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(prime_number_theorem, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(computational_noose_penalty) :-
    % A powerless searcher in a local range sees it as a Noose.
    constraint_indexing:constraint_classification(prime_number_theorem, noose, context(individual_powerless, immediate, constrained, local)).

test(extraction_scaling) :-
    % Extraction should be non-zero for mathematical existence checks.
    domain_priors:base_extractiveness(prime_number_theorem, E),
    E > 0.1.

:- end_tests(pnt_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: PNT is the perfect example of a "Mountain" (Natural Law) 
 * that is used as a "Rope" (Tool) by those in power. 
 * 2. NOOSE ANALOGY: The "Noose" classification for the search algorithm is a 
 * critical realization. As x -> infinity, the probability of finding a 
 * prime is 1/ln(x). This logarithmic tightening is a literal resource 
 * extraction (FLOPs/Electricity) for the "individual" search agent.
 * 3. EXTRACTIVENESS: Set at 0.15 to reflect that while the law is free, the 
 * *following* of the law at high magnitudes is computationally expensive.
 */

% OMEGA IDENTIFICATION
omega_variable(
    riemann_hypothesis_link,
    "Does the 'Mountain' remain stable if the Riemann Hypothesis is proven or disproven?",
    resolution_mechanism("Verification of the error term bound Li(x) - pi(x)."),
    impact("If RH is true: The Mountain is smooth and predictable. If false: The Mountain has chaotic spikes."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Chebyshev's Bounds
 * Viability: Provides upper and lower bounds but lacks the asymptotic equality.
 * Suppression: Replaced by PNT for higher-precision coordination (Rope).
 * * ALTERNATIVE 2: Pure Probabilistic Models (Cramér's Model)
 * Viability: Primes as a random walk.
 * Suppression: Useful as a heuristic, but "suppressed" by the definitive proof 
 * of PNT for rigorous structural engineering.
 * * CONCLUSION:
 * The existence of PNT as a "Mountain" makes the probabilistic "Ropes" of 
 * earlier eras look like "Scaffolds"—temporary structures used until the 
 * final truth was reached.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [prime_number_theorem].
% Report: ?- constraint_indexing:multi_index_report(prime_number_theorem).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: prisoners_dilemma_equilibrium
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Merrill Flood & Melvin Dresher (1950) / Albert Tucker / Game Theory
% ============================================================================

:- module(constraint_prisoners_dilemma, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: prisoners_dilemma_equilibrium
 * human_readable: The Prisoner's Dilemma (Nash Equilibrium)
 * domain: economic/social/political
 * temporal_scope: 1950 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Interdependent Choice)
 * * SUMMARY:
 * The Prisoner's Dilemma is a standard example of a game analyzed in game theory 
 * that shows why two completely rational individuals might not cooperate, even 
 * if it appears that it is in their best interest to do so. It defines a 
 * structural constraint where individual rationality leads to collective 
 * sub-optimality.
 * * KEY AGENTS:
 * - The Prisoner (Subject): The powerless agent trapped in a binary choice 
 * (Cooperate/Defect) where the optimal individual move destroys the group.
 * - The Institutional Designer: An agent who uses the dilemma as a "Rope" to 
 * coordinate behavior through external incentives (laws, contracts).
 * - The Exploiter (Individual Powerful): An agent who treats the dilemma as 
 * a "Noose" to extract value from cooperative subjects through defection.
 * * NARRATIVE ARC:
 * The Prisoner's Dilemma is the "Mountain" of non-cooperative reality—the Nash 
 * Equilibrium is a fixed, unyielding gravity that pulls rational agents toward 
 * mutual defection. In civil society, it is a "Rope" for coordination; we 
 * build institutions to "pull" ourselves out of the equilibrium. However, in 
 * unregulated markets or warfare, the dilemma acts as a "Noose," extracting 
 * total utility (extraction) and strangling the possibility of peace.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for the Deferential Realism Auditor
narrative_ontology:interval(game_theory_era, 1950, 2026).
narrative_ontology:constraint_claim(prisoners_dilemma_equilibrium, mountain).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: 0.7. The dilemma is highly extractive; it "takes" the potential 
% surplus of cooperation and discards it into the "waste" of mutual defection.
domain_priors:base_extractiveness(prisoners_dilemma_equilibrium, 0.7).

% Suppression score (0.0-1.0)
% Rationale: 0.4. It suppresses the visibility of cooperative alternatives 
% by making them appear "irrational" from an individual perspective.
domain_priors:suppression_score(prisoners_dilemma_equilibrium, 0.4).

% Enforcement: Emerges naturally from the interaction of rational self-interest.
domain_priors:emerges_naturally(prisoners_dilemma_equilibrium).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(prisoners_dilemma_equilibrium, extractiveness, 0.7).
narrative_ontology:constraint_metric(prisoners_dilemma_equilibrium, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(prisoners_dilemma_equilibrium, opportunistic_defectors).
constraint_beneficiary(prisoners_dilemma_equilibrium, centralized_authorities). % They justify their existence as the "Rope" to solve it.
constraint_victim(prisoners_dilemma_equilibrium, uncoordinated_collectives).
constraint_victim(prisoners_dilemma_equilibrium, trust_based_economies).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE TRAPPED PRISONER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The prisoner cannot negotiate or change the payoffs.
   WHEN: immediate - The choice must be made now; the outcome is instant.
   WHERE: trapped - Bound within the interrogation room/payoff matrix.
   SCOPE: local - Focused on their own sentence.
   
   WHY THIS CLASSIFICATION:
   For the prisoner, the incentive to defect is a natural law of survival. 
   Because they cannot communicate or enforce a contract, the "Defect" 
   strategy is an unyielding Mountain of logic. Any attempt to "Cooperate" 
   without an exit option is a suicide mission.
   
   NARRATIVE EVIDENCE:
   "Rationality leads you to the cell, but logic keeps you there." (General 
   Game Theory Maxim).
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    prisoners_dilemma_equilibrium,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE STATE LEGISLATOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to rewrite the payoff matrix through law.
   WHEN: biographical - Planning the stability of a market or society.
   WHERE: mobile - Can "exit" the dilemma by imposing external penalties for defection.
   SCOPE: national - Applying the solution across the country.
   
   WHY THIS CLASSIFICATION:
   For the state, the dilemma is a "Rope"—a tool for functional coordination. 
   By recognizing the "Mountain" of the dilemma, the institution creates 
   contracts and police forces to "pull" the agents toward the 
   standard of achievement (Mutual Cooperation).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    prisoners_dilemma_equilibrium,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ARMS RACE NATION - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerful - Possesses nukes/power, but bound by the opponent's logic.
   WHEN: historical - Spanning decades of the Cold War.
   WHERE: constrained - The "exit" (disarmament) is too risky to take alone.
   SCOPE: global - The entire planet is at risk.
   
   WHY THIS CLASSIFICATION:
   In an arms race, the dilemma is a "Noose." It "strangles" both nations, 
   extracting trillions of dollars in wealth (extraction) for weapons that 
   neither side wants to use. Both are powerful, yet both are "choked" by 
   the inability to reach the cooperative "Rope" without being exploited.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    prisoners_dilemma_equilibrium,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(prisoners_dilemma_equilibrium, E),
    E >= 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(prisoners_dilemma_tests).

test(multi_perspective_variance) :-
    % Prisoner -> Mountain
    constraint_indexing:constraint_classification(prisoners_dilemma_equilibrium, Type1, context(individual_powerless, immediate, trapped, local)),
    % Legislator -> Rope
    constraint_indexing:constraint_classification(prisoners_dilemma_equilibrium, Type2, context(institutional, biographical, mobile, national)),
    % Nation -> Noose
    constraint_indexing:constraint_classification(prisoners_dilemma_equilibrium, Type3, context(individual_powerful, historical, constrained, global)),
    Type1 \= Type2,
    Type2 \= Type3.

test(extraction_of_cooperation_value) :-
    % Powerless agents feel the 0.7 extraction of their potential surplus.
    domain_priors:base_extractiveness(prisoners_dilemma_equilibrium, E),
    E > 0.5.

test(iterated_exit_rope) :-
    % Demonstrates that shifting to a historical/mobile context (Iteration) allows Rope classification.
    constraint_indexing:constraint_classification(prisoners_dilemma_equilibrium, rope, context(institutional, biographical, mobile, national)).

:- end_tests(prisoners_dilemma_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.7):
 * The dilemma is purely extractive of human flourishing. It takes a 
 * positive-sum possibility and "extracts" it into a zero-sum or 
 * negative-sum reality.
 * * 2. CLASSIFICATION RATIONALE:
 * - Prisoner (Mountain): The classic one-shot scenario.
 * - Legislator (Rope): Using the "Rope" of the law to bind defectors.
 * - Arms Race (Noose): High-power agents trapped by mutual fear.
 * * 3. OMEGAS:
 * Formalized the uncertainty of "Inherent Altruism"—does a biological 
 * Mountain of empathy override the mathematical Mountain of the dilemma?
 */

% YOUR OMEGAS HERE:
omega_variable(
    biological_altruism_override,
    "Do biological/evolutionary empathy markers function as an internal Mountain that prevents the Nash Equilibrium?",
    resolution_mechanism("Long-term neuro-economic study of pre-rational cooperation in social mammals."),
    impact("If Yes: The Dilemma is a Scaffold for humans. If No: It is a permanent Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Iterated Prisoner's Dilemma (Tit-for-Tat)
 * Viability: In the "Long Run," cooperation can emerge as a stable strategy.
 * Status: A "Rope" that turns the Mountain into a navigable path.
 * * ALTERNATIVE 2: External Coercion (Leviathan)
 * Viability: A third party punishes defection, changing the payoffs.
 * Suppression: Often presented as the "only" way to prevent chaos, 
 * suppressing the viability of Alternative 1 (Self-organized trust).
 * * CONCLUSION:
 * The presence of "Trust" as a viable alternative (Alternative 1) is what 
 * makes the dilemma a "Noose" rather than a "Mountain" for sophisticated 
 * societies. If trust is suppressed, the "Noose" tightens.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [prisoners_dilemma_equilibrium].
 * 2. Multi-perspective: ?- multi_index_report(prisoners_dilemma_equilibrium).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: proof_of_work_consensus
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Bitcoin: A Peer-to-Peer Electronic Cash System (Satoshi Nakamoto)
% ============================================================================

:- module(constraint_proof_of_work_consensus, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: proof_of_work_consensus
 * human_readable: Hash-Based Proof-of-Work
 * domain: technological/economic
 * temporal_scope: 2008 - Present (Digital Era)
 * spatial_scope: Global (Distributed Network)
 * * SUMMARY:
 * A distributed consensus mechanism that replaces trusted third parties with 
 * computational proof. It timestamps transactions by hashing them into an 
 * ongoing chain of hash-based proof-of-work, forming a record that cannot 
 * be changed without redoing the work.
 * * KEY AGENTS:
 * - The Node (Individual Powerless/Moderate): Expresses acceptance of valid 
 * blocks by working on extending them.
 * - The Attacker (Individual Powerful): Must outpace the honest network by 
 * controlling more CPU power.
 * - The Network Protocol (Institutional): The rule-set that defines validity 
 * and incentive structures.
 * * NARRATIVE ARC:
 * The text identifies the "double-spending" problem inherent in electronic 
 * cash. It moves from a state of reliance on financial 
 * institutions (Ropes/Nooses) to a peer-to-peer system where "consensus" is 
 * reached through a "Mountain" of cumulative CPU work.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(bitcoin_consensus_era, 0, 10).
narrative_ontology:constraint_claim(proof_of_work_consensus, rope).

% Base extractiveness score: 0.2
% Rationale: The system does not "extract" value in a zero-sum sense; 
% instead, it consumes energy to produce the "security" of the ledger, 
% rewarding participants with new coins.
domain_priors:base_extractiveness(proof_of_work_consensus, 0.2).

% Suppression score: 0.9
% Rationale: The mechanism makes it "computationally impractical" for 
% an attacker to change the record once it is buried under subsequent 
% blocks.
domain_priors:suppression_score(proof_of_work_consensus, 0.9).

% Enforcement requirements: Emerges naturally from computation and rules.
domain_priors:emerges_naturally(proof_of_work_consensus).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(proof_of_work_consensus, extractiveness, 0.2).
narrative_ontology:constraint_metric(proof_of_work_consensus, suppression_requirement, 0.9).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(proof_of_work_consensus, [peer_to_peer_network, honest_nodes]).
constraint_victim(proof_of_work_consensus, [double_spenders, financial_intermediaries]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE HONEST NODE - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - A participant with CPU power to "vote".
   WHEN: immediate - The process of extending the chain block-by-block.
   WHERE: mobile - Nodes can leave and rejoin the network at will.
   SCOPE: global - A single network that spans the internet.
   
   WHY THIS CLASSIFICATION:
   For the honest node, the consensus protocol is a "Rope"—a functional 
   coordination mechanism that allows them to cooperate without a master. 
   It is beneficial and they "vote" with their CPU power to uphold it 
  .
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    proof_of_work_consensus,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        constraint_beneficiary(proof_of_work_consensus, honest_nodes),
        constraint_victim(proof_of_work_consensus, []),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(proof_of_work_consensus, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ATTACKER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerful - An entity seeking to subvert the system.
   WHEN: immediate - The moment of the "race" against the honest chain.
   WHERE: constrained - Prevented from succeeding by the cumulative work.
   SCOPE: national - Attempting to "outpace" a global system.
   
   WHY THIS CLASSIFICATION:
   To the attacker, the Proof-of-Work is a "Noose." It is a coercive 
   mechanism that "penalizes" their behavior by making the cost of 
   cheating (energy and CPU) likely higher than the potential gain 
  .
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    proof_of_work_consensus,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(constrained),
        constraint_beneficiary(proof_of_work_consensus, honest_nodes),
        constraint_victim(proof_of_work_consensus, attacker),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(proof_of_work_consensus, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: CRYPTOGRAPHIC REALITY - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observing the mathematical difficulty.
   WHEN: civilizational - A permanent law of computational complexity.
   WHERE: trapped - "Redoing the proof-of-work" is the only path to change.
   SCOPE: global - Universal across all computing environments.
   
   WHY THIS CLASSIFICATION:
   From an analytical perspective, the SHA-256 hash difficulty is a 
   "Mountain." It is an unchangeable law of nature (probability/physics) 
   that dictates zero degrees of freedom for anyone trying to find a 
   hash without calculation.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    proof_of_work_consensus,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        constraint_beneficiary(proof_of_work_consensus, []),
        constraint_victim(proof_of_work_consensus, []),
        spatial_scope(global)
    )
) :-
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(bitcoin_consensus_tests).

test(honest_vs_attacker_gap) :-
    % Honest node sees a Rope (coordination); Attacker sees a Noose (coercion).
    constraint_indexing:constraint_classification(proof_of_work_consensus, rope, context(agent_power(individual_moderate), _, _, _, _, _)),
    constraint_indexing:constraint_classification(proof_of_work_consensus, noose, context(agent_power(individual_powerful), _, _, _, _, _)).

test(cumulative_work_mountain) :-
    % Analytical observers see the hash difficulty as a Mountain.
    constraint_indexing:constraint_classification(proof_of_work_consensus, mountain, context(agent_power(analytical), _, _, _, _, _)).

test(incentive_alignment) :-
    % Verify low extractiveness facilitates the "Rope" experience for honest participants.
    domain_priors:base_extractiveness(proof_of_work_consensus, 0.2).

:- end_tests(bitcoin_consensus_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: Proof-of-Work is the ultimate "Rope" built on top of 
 * a "Mountain." The mathematical difficulty (Mountain) provides the 
 * friction that makes the coordination (Rope) possible. 
 * 2. THE PERSPECTIVAL GAP: The paper explicitly leverages the gap between 
 * the Honest Node (who views the rules as a beneficial Rope for commerce) 
 * and the Attacker (who views the rules as a Noose that forces them to be 
 * honest for profit).
 * 3. EXTRACTIVENESS (0.2): Nakamoto's genius was in ensuring that the 
 * "extraction" of CPU power was converted into the "benefit" of ledger 
 * security, keeping the score low for systemic participants.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    fifty_one_percent_threshold,
    "What happens when the 'majority of CPU power' is no longer honest?",
    resolution_mechanism("Requires empirical observation of network hash distribution."),
    impact("If majority is attacker-controlled: The Rope snaps, and the Ledger becomes a Noose for all users."),
    confidence_without_resolution(medium)
).

omega_variable(
    incentive_stability,
    "Will transaction fees be sufficient to support the network once new coin subsidies end?",
    resolution_mechanism("Long-term economic modeling of block space demand."),
    impact("If incentives fail: The system reverts to a Noose of centralizing pools."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * * ALTERNATIVE 1: Trusted Third Parties (Mint/Bank)
 * Viability: The existing system of commerce.
 * Suppression: Rejected because it requires "trust" and is subject to 
 * "arbitrary" reversals/double-spending risks.
 * * ALTERNATIVE 2: CPU-Voting / Consensus
 * Viability: The Bitcoin model.
 * * CONCLUSION:
 * The active rejection of "Trusted Intermediaries" (Traditional Ropes) 
 * necessitates the construction of this "Calculated Rope" (PoW).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: public_domain_commons
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Copyright Law / Creative Commons / Public Domain Status
% ============================================================================

:- module(constraint_public_domain, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: public_domain_commons
 * human_readable: The Public Domain (Cultural Commons)
 * domain: social/economic/technological
 * temporal_scope: Civilizational (Permanent / Post-Copyright)
 * spatial_scope: Global
 * * SUMMARY:
 * The Public Domain consists of all creative work to which no exclusive 
 * intellectual property rights apply. These works are free for anyone to use, 
 * remix, and monetize without permission. It is the "default" state of 
 * information before or after the artificial constraint of Copyright.
 * * KEY AGENTS:
 * - The Archivist: Preserves and digitizes the commons for future generations.
 * - The Remix Artist: Uses the commons as raw material for new "Ropes."
 * - The Corporate Lobbyist: Attempts to shrink the commons via term extensions.
 * * NARRATIVE ARC:
 * The Public Domain is the "Basement of Culture." It is a Mountain of 
 * free resources that provides the necessary "Exit Option" for those 
 * trapped by the Copyright Noose. However, for 20 years (1998-2018), this 
 * Mountain was frozen by the Sonny Bono Copyright Term Extension Act.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(public_domain_commons, 0, 10).
narrative_ontology:constraint_claim(public_domain_commons, mountain).

% Base extractiveness score (0.0 = no extraction)
% By definition, the public domain is non-extractive.
domain_priors:base_extractiveness(public_domain_commons, 0.0).

% Suppression score (0.3)
% While the works are free, they are often suppressed by "copyfraud" 
% (false copyright claims by legacy estates).
domain_priors:suppression_score(public_domain_commons, 0.3).

% Enforcement requirements
domain_priors:emerges_naturally(public_domain_commons).

% Metrics
narrative_ontology:constraint_metric(public_domain_commons, extractiveness, 0.0).
narrative_ontology:constraint_metric(public_domain_commons, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(public_domain_commons, all_humanity).
constraint_victim(public_domain_commons, none). % Non-extractive

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INDIE DEVELOPER - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For a small creator, the Public Domain is a "Rope." They can use the 
   characters of Shakespeare or the music of Beethoven as a coordination 
   tool to build their own products without the "Noose" of licensing fees.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    public_domain_commons,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(public_domain_commons, 0.0),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE DISNEY LAWYER - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional
   WHEN: generational
   WHERE: trapped (business model relies on exclusivity)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From the perspective of a legacy media giant, the Public Domain is a 
   "Noose" for their profit margins. It represents the "death" of their 
   monopoly. As works like Steamboat Willie enter the commons, the 
   exclusive control that protected their revenue is "strangled."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    public_domain_commons,
    noose,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CIVILIZATION - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical
   WHEN: civilizational
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the historian, the Public Domain is the "Mountain." It is the 
   permanent bedrock of human culture. While laws may temporarily 
   fence it off, the gravitational pull of information toward the 
   commons is an immutable feature of time.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    public_domain_commons,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(public_domain_commons),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(public_domain_tests).

test(non_extractive_nature) :-
    domain_priors:base_extractiveness(public_domain_commons, E),
    E == 0.0.

test(term_extension_noose) :-
    % Testing that institutions see the commons as a Noose to their monopoly.
    constraint_indexing:constraint_classification(public_domain_commons, noose, context(institutional, _, _, _)).

:- end_tests(public_domain_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * The Public Domain is the only constraint story with an 
 * extractiveness score of 0.0. It is a "Zero-G" environment for 
 * matching markets. I classified it as a Noose for institutions to 
 * highlight the corporate motivation behind "Copyright Term Extensions."
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    sovereign_ai_datasets,
    "Will AI trained exclusively on Public Domain data outperform those on copyrighted data?",
    resolution_mechanism("Benchmarking open-weights models against closed-copyright models"),
    impact("If Yes: The 'Mountain' of the commons becomes the primary 'Rope' for tech development."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: pythagorean_geometric_constancy
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Pythagoras of Samos (c. 570–495 BC) / Euclidean Geometry
% ============================================================================

:- module(constraint_pythagorean_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: pythagorean_geometric_constancy
 * human_readable: The Pythagorean Theorem
 * domain: technological/mathematical
 * temporal_scope: c. 500 BC - Present (Civilizational)
 * spatial_scope: Global/Abstract (Euclidean Space)
 * * SUMMARY:
 * The Pythagorean Theorem states that in a right-angled triangle, the square of 
 * the hypotenuse is equal to the sum of the squares of the other two sides ($a^2 + b^2 = c^2$). 
 * It represents an immutable geometric constraint on the relationship between 
 * linear distance and orthogonal orientation in flat space.
 * * KEY AGENTS:
 * - The Right Triangle (Subject): A powerless agent whose dimensions are 
 * strictly bound by the laws of Euclidean geometry.
 * - The Architect/Engineer (Institutional): An agent who uses the theorem 
 * as a "Rope" to coordinate stable structures, navigation, and land surveys.
 * - The Non-Euclidean Navigator (Analytical): An observer for whom the 
 * theorem acts as a "Noose" or limit when attempting to map curved spaces 
 * (like the Earth's surface) using flat-space logic.
 * * NARRATIVE ARC:
 * The Pythagorean Theorem is the quintessential "Mountain"—a natural law 
 * that remains unyielding across millennia. In construction and navigation, 
 * it is a "Rope" for functional coordination, providing a "standard of 
 * achievement" for structural integrity. However, for those transitioning 
 * to global scales or general relativity, the theorem becomes a "Noose," 
 * extracting precision (extraction) and "strangling" calculations that 
 * fail to account for the "Mountain" of spacetime curvature.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for the DR-Audit Suite
narrative_ontology:interval(pythagorean_era, -500, 2026).
narrative_ontology:constraint_claim(pythagorean_geometric_constancy, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.1. Extremely low. The theorem is primarily a "gift" of 
% predictability. It only "extracts" the possibility of "impossible" triangles, 
% which is a trivial tax on creative freedom.
domain_priors:base_extractiveness(pythagorean_geometric_constancy, 0.1).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the visibility of non-Euclidean alternatives 
% in everyday human perception, rendering the idea of "curved space" 
% counter-intuitive for the average agent.
domain_priors:suppression_score(pythagorean_geometric_constancy, 0.3).

% Enforcement: Emerges naturally from the axioms of flat space.
domain_priors:emerges_naturally(pythagorean_geometric_constancy).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(pythagorean_geometric_constancy, extractiveness, 0.1).
narrative_ontology:constraint_metric(pythagorean_geometric_constancy, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(pythagorean_geometric_constancy, civil_engineers).
constraint_beneficiary(pythagorean_geometric_constancy, gps_system_designers).
constraint_victim(pythagorean_geometric_constancy, spherical_geometry_intuition).
constraint_victim(pythagorean_geometric_constancy, architectural_anarchists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE CARPENTER - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools to measure and the agency to build.
   WHEN: biographical - Spanning the career of a builder.
   WHERE: mobile - Can apply the 3-4-5 rule to any corner on a job site.
   SCOPE: local - Immediate physical environment of the build.
   
   WHY THIS CLASSIFICATION:
   For the carpenter, the theorem is a "Rope"—a functional coordination tool. 
   By using a 3-4-5 triangle, they coordinate a "standard of achievement" 
   (a perfect right angle), pulling the structure toward stability and 
   aesthetic alignment. It is a reliable tool for agency.
   
   NARRATIVE EVIDENCE:
   The "3-4-5 rule" has been the standard for ensuring square corners since 
   ancient Egypt and remains the primary "Rope" for modern masonry and framing.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    pythagorean_geometric_constancy,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE HYPOTENUSE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The line segment has no agency to deviate.
   WHEN: immediate - The length is fixed the moment the legs are defined.
   WHERE: trapped - Bound within the Euclidean plane.
   SCOPE: local - Immediate geometric relationship.
   
   WHY THIS CLASSIFICATION:
   For the hypotenuse itself, the theorem is an absolute Mountain. If the 
   legs are 3 and 4, the hypotenuse *must* be 5. It cannot "negotiate" or 
   "exit" this relationship. The arithmetic of its length is a natural law 
   of the space it inhabits.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    pythagorean_geometric_constancy,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE GEODETIC SURVEYOR - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to map whole continents but bound by Earth's shape.
   WHEN: historical - Spanning the effort to map the globe accurately.
   WHERE: constrained - The "exit" (switching to spherical trig) is required.
   SCOPE: continental - Mapping distances across the horizon.
   
   WHY THIS CLASSIFICATION:
   For the surveyor mapping large distances, the theorem acts as a "Noose." 
   If they rely on flat-earth Pythagorean math, the curvature of the Earth 
   "strangles" their accuracy. It extracts precision (extraction), forcing 
   the surveyor to abandon the simple "Rope" of $a^2+b^2=c^2$ for the 
   more complex "Mountain" of spherical trigonometry.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    pythagorean_geometric_constancy,
    noose,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(continental)
    )
) :- 
    domain_priors:base_extractiveness(pythagorean_geometric_constancy, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(pythagorean_theorem_tests).

test(multi_perspective_variance) :-
    % Carpenter -> Rope
    constraint_indexing:constraint_classification(pythagorean_geometric_constancy, Type1, context(individual_moderate, biographical, mobile, local)),
    % Hypotenuse -> Mountain
    constraint_indexing:constraint_classification(pythagorean_geometric_constancy, Type2, context(individual_powerless, immediate, trapped, local)),
    Type1 \= Type2.

test(scale_based_extraction) :-
    % Demonstrates that for the surveyor (institutional), the "Noose" effect is felt.
    constraint_indexing:constraint_classification(pythagorean_geometric_constancy, noose, context(institutional, historical, constrained, continental)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(pythagorean_geometric_constancy).

:- end_tests(pythagorean_theorem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.1): 
 * Chose 0.1 because math is generally a "gift." The only "extraction" 
 * is the loss of fidelity when the model is applied to the wrong 
 * domain (curvature).
 * 2. CLASSIFICATION: 
 * Showed how a "Rope" for a carpenter becomes a "Noose" for a 
 * surveyor, highlighting that a tool's utility is scale-dependent.
 */

% OMEGA IDENTIFICATION
omega_variable(
    euclidean_primacy_bias,
    "Is the 'Mountain' of Euclidean geometry a fundamental property of the universe (Mountain) or just a 'Scaffold' of human scale (Scaffold)?",
    resolution_mechanism("Investigation of quantum-scale geometry to see if Pythagorean laws hold at the Planck length."),
    impact("If Scaffold: The theorem is a 'Noose' for high-energy physics. If Mountain: It is a universal invariant."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Spherical Trigonometry (The Haversine Formula)
 * Viability: Essential for long-distance navigation.
 * Suppression: Often suppressed in basic education to simplify the 
 * "Mountain" of flat-space logic.
 * * ALTERNATIVE 2: Taxicab Geometry (Manhattan Distance)
 * Viability: Calculating distance on a grid ($|x_1-x_2| + |y_1-y_2|$).
 * Suppression: Useful in urban planning but suppressed as "not real math" 
 * in classical Euclidean contexts.
 * * CONCLUSION:
 * The existence of Alternative 1 (Spherical Trig) is what turns the 
 * Pythagorean "Mountain" into a "Noose" for those navigating the 
 * actual surface of the Earth.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [pythagorean_geometric_constancy].
 * 2. Multi-perspective: ?- multi_index_report(pythagorean_geometric_constancy).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(pythagorean_theorem_geometric_constancy, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(pythagorean_theorem_geometric_constancy, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(pythagorean_theorem_geometric_constancy, noose, agent_power(individual_powerless)).
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: qualified_immunity
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Legal Doctrine / U.S. Supreme Court Jurisprudence
% ============================================================================

:- module(constraint_qualified_immunity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: qualified_immunity
 * human_readable: Qualified Immunity Doctrine
 * domain: political/legal
 * temporal_scope: 1967-Present (Pierson v. Ray to modern era)
 * spatial_scope: National (United States)
 * * SUMMARY:
 * Qualified immunity is a legal doctrine that shields government officials 
 * from being held personally liable for constitutional violations—like the 
 * use of excessive force—as long as their officials did not violate 
 * "clearly established" statutory or constitutional rights. In practice, 
 * this creates a "catch-22" where a right cannot be clearly established 
 * without a prior case involving nearly identical facts.
 * * KEY AGENTS:
 * - The State Official: Protected from the "chilling effect" of lawsuits.
 * - The Plaintiff: Seeking redress for civil rights violations.
 * - The Judiciary: Managing the "floodgates" of litigation.
 * * NARRATIVE ARC:
 * Originally intended as a "good faith" defense (Rope), the doctrine has 
 * evolved through judicial refinement into a nearly insurmountable barrier 
 * (Mountain) for victims of police misconduct, effectively functioning 
 * as a mechanism that extracts justice (Noose) from the powerless.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================= */

% Required for structural integration
narrative_ontology:interval(qi_interval, 0, 10).
narrative_ontology:constraint_claim(qualified_immunity, rope).

% Base extractiveness: 0.8 (High)
% Rationale: It extracts "remedy" from the victim. Even when a constitutional 
% violation is admitted, the victim is denied compensation, transferring 
% the cost of the injury from the state/official to the individual.
domain_priors:base_extractiveness(qualified_immunity, 0.8).

% Suppression score: 0.7 (High)
% Rationale: The "clearly established" requirement suppresses the creation 
% of new precedents. Courts often dismiss cases on immunity grounds without 
% ruling on the underlying constitutionality, keeping rights in a "state of 
% non-establishment."
domain_priors:suppression_score(qualified_immunity, 0.7).

% Enforcement: Requires active judicial enforcement through summary judgment.
domain_priors:requires_active_enforcement(qualified_immunity).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(qualified_immunity, extractiveness, 0.8).
narrative_ontology:constraint_metric(qualified_immunity, suppression_requirement, 0.7).

% Beneficiaries: Law enforcement officers and government entities.
constraint_beneficiary(qualified_immunity, state_officials).

% Victims: Plaintiffs seeking damages for civil rights violations.
constraint_victim(qualified_immunity, civil_rights_plaintiffs).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE JUDICIAL ADMINISTRATOR - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (The Court system).
   WHEN: historical (Maintaining systemic stability over decades).
   WHERE: arbitrage (Balancing social costs vs. individual rights).
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   From the bench, the doctrine is a Rope. It is a necessary tool to prevent 
   the "social costs" of litigation from paralyzing government functions. It 
   protects officials from the fear of personal financial ruin for making 
   split-second decisions in "gray areas" of the law.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    qualified_immunity,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CIVIL RIGHTS ATTORNEY - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (A professional navigating the system).
   WHEN: biographical (A career spent litigating these cases).
   WHERE: constrained (Must find a 'factually identical' case).
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For the litigator, QI is a Mountain. It is an immovable feature of the 
   legal landscape that makes most civil rights cases "dead on arrival." 
   The factual specificity required to overcome it makes it appear as an 
   impenetrable wall rather than a flexible rule.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    qualified_immunity,
    mountain,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE UNARMED VICTIM - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A subject of excessive force).
   WHEN: immediate (Seeking medical/legal remedy now).
   WHERE: trapped (The legal system is the only venue for redress).
   SCOPE: local.
   
   WHY THIS CLASSIFICATION:
   For the victim, the doctrine is a Noose. They have suffered a physical 
   injury or loss of liberty, yet the legal system uses its own technicality 
   to strangle their right to a remedy. The "logic" of the doctrine pulls 
   tighter the more egregious the violation, as unique violations are, by 
   definition, not "clearly established."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    qualified_immunity,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(qualified_immunity_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(qualified_immunity, Type1, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(qualified_immunity, Type2, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(qualified_immunity, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(extraction_asymmetry) :-
    % Beneficiary (Officer) benefits from 0% liability; Victim (Plaintiff) suffers 100% loss.
    domain_priors:base_extractiveness(qualified_immunity, E),
    E > 0.7.

test(precedent_suppression) :-
    % Test if the suppression score aligns with the "catch-22" narrative.
    domain_priors:suppression_score(qualified_immunity, S),
    S >= 0.7.

:- end_tests(qualified_immunity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.8): Ranked very high. Unlike other legal defenses, 
 * QI often functions even when a violation is proven, purely because 
 * of factual mismatch, representing a total extraction of the right to remedy.
 * 2. SUPPRESSION (0.7): The "clearly established" rule is a textbook 
 * suppression mechanism—it penalizes novelty and makes alternatives 
 * (new precedents) nearly impossible to reach.
 * 3. NOOSE ARGUMENT: The "catch-22" (you need a case to win, but you can't 
 * get a case because you can't win) is a perfect logical Noose.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    clearly_established_definition,
    "Will the Supreme Court ever define 'clearly established' without requiring factual identity?",
    resolution_mechanism("Analysis of future SCOTUS rulings on the 'unobviousness' of violations"),
    impact("If Yes: QI shifts from Mountain to Rope. If No: It remains a Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: State/Municipal Liability (Section 1983 Reform)
 * Viability: High. Indemnification would protect officers while allowing 
 * victims to be paid.
 * Suppression: High. Politically blocked by "tough on crime" narratives.
 * * ALTERNATIVE 2: Reverting to the 'Good Faith' Standard
 * Viability: Moderate. Requires judicial reversal.
 * * CONCLUSION:
 * The existence of suppressed alternatives (like municipal liability) 
 * suggests that QI is an artificial Noose, not a natural Mountain.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_qualified_immunity].
 * 2. Multi-perspective: ?- multi_index_report(qualified_immunity).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: quantum_decryption_risk_2026
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "End-to-end encryption: Best ideas of the century" by Matthew Sparkes
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(quantum_decryption_risk_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: quantum_decryption_risk_2026
 * human_readable: Quantum Decryption & The RSA Vulnerability
 * domain: technological/security
 * temporal_scope: 2026 - 2040 (The "Q-Day" Horizon)
 * spatial_scope: Global (Digital Infrastructure)
 * * SUMMARY:
 * Current end-to-end encryption (ETEE) relies on the "immutable mathematics" of 
 * algorithms like RSA, which hinges on the extreme difficulty of factoring 
 * large prime numbers. Quantum decryption risk represents the 
 * possibility that quantum computers will utilize Shor's algorithm to solve 
 * these problems near-instantaneously, potentially collapsing the "wall" 
 * that keeps digital secrets safe.
 * * KEY AGENTS:
 * - The Privacy Defender: Relies on encryption to "save their lives" and 
 * protect democracy.
 * - The State Intelligence Agency: An actor that may currently store 
 * encrypted data to "harvest now, decrypt later" using future quantum tech.
 * - The Quantum Engineer: The analytical agent building the physical systems 
 * that challenge mathematical constants.
 * * NARRATIVE ARC:
 * Since 1977, RSA has provided peace of mind. However, as we 
 * move through the 21st century, the "immutable" nature of this math is 
 * threatened by a new physical paradigm—quantum processing.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(quantum_decryption_risk_2026, 0, 10).
narrative_ontology:constraint_claim([quantum_decryption_risk_2026], [existential_technological_risk]).

% Base extractiveness score (0.8 = High)
% Rationale: The ability to decrypt global communications is the ultimate 
% asymmetric extraction tool, transferring the "secrets" of the powerless 
% to the possessors of the technology.
domain_priors:base_extractiveness(quantum_decryption_risk_2026, 0.8).

% Suppression score (0.3 = Low)
% Rationale: The risk is widely publicized and debated by privacy groups 
% like Big Brother Watch.
domain_priors:suppression_score(quantum_decryption_risk_2026, 0.3).

% Enforcement: Emerges naturally through the advancement of physics.
domain_priors:emerges_naturally(quantum_decryption_risk_2026).

% Metrics required for Section 1 of the Executive Summary
% Status set to MANDATROPHY due to high extractiveness (0.8).
narrative_ontology:constraint_metric(quantum_decryption_risk_2026, extractiveness, 0.8).
narrative_ontology:constraint_metric(quantum_decryption_risk_2026, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(quantum_decryption_risk_2026, quantum_capable_states).
constraint_victim(quantum_decryption_risk_2026, private_citizens).
constraint_victim(quantum_decryption_risk_2026, human_rights_advocates).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PRIVACY DEFENDER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Vulnerable users relying on ETEE for life/safety)
   WHEN: immediate (Real-time communications)
   WHERE: trapped (No conceptual exit if the math fails)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For those who "literally rely on encryption to save their lives," the threat 
   of quantum decryption is a "Noose". It turns their current 
   mathematical "wall" into a future trap where their past secrets can be 
   extracted at will.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    quantum_decryption_risk_2026,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: STATE INTELLIGENCE - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (State power with long-term strategic goals)
   WHEN: historical (Century-scale intelligence gathering)
   WHERE: arbitrage (Can wait for technology to catch up to the data)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the state actor, quantum decryption is a "Rope"—a functional 
   coordination mechanism for total information awareness. It allows them 
   to bypass the "impenetrable gibberish" that currently prevents them 
   from demanding or threatening their way into secrets.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    quantum_decryption_risk_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE QUANTUM PHYSICIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer of the limits of computation)
   WHEN: civilizational (Fundamental change in species' power)
   WHERE: analytical (Logic and physical law)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the scientist, the ability of a quantum system to solve the factoring 
   problem is a "Mountain"—a fixed physical reality. It is not an 
   ideological choice but a consequence of Shor's algorithm and the 
   nature of qubits.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    quantum_decryption_risk_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(quantum_decryption_risk_tests).

test(multi_perspective_asymmetry) :-
    % Beneficiary (Institutional) sees a Tool (Rope)
    constraint_indexing:constraint_classification(quantum_decryption_risk_2026, rope, context(institutional, historical, arbitrage, global)),
    % Victim (Powerless) sees a Trap (Noose)
    constraint_indexing:constraint_classification(quantum_decryption_risk_2026, noose, context(individual_powerless, immediate, trapped, global)).

test(math_vulnerability_scaling) :-
    % High extractiveness (0.8) indicates the Mandatrophy status
    domain_priors:base_extractiveness(quantum_decryption_risk_2026, E),
    E > 0.7.

:- end_tests(quantum_decryption_risk_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.8):
 * The risk is fundamentally asymmetric. The source notes that ETEE 
 * allows people in "very dangerous parts of the world" to save 
 * their lives. If this is broken, the power dynamic 
 * shifts entirely to those who possess quantum hardware.
 * * 2. PERSPECTIVE SELECTION:
 * The model chose to contrast the "Privacy Defender" (who sees 
 * current math as a lifeline) with "State Intelligence" 
 * (who sees quantum as a tool to break that lifeline).
 * * 3. MANDATROPHY STATUS:
 * Resolved as a Mandatrophy Risk because the "Rope" for the 
 * institutional agent is built specifically upon the "Noose" 
 * of the powerless agent.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    q_day_arrival_date,
    "When will a quantum computer achieve the necessary error-corrected qubits to factor RSA-2048?",
    resolution_mechanism("Physical demonstration of Shor's algorithm on a 2048-bit equivalent system"),
    impact("If soon: Immediate Noose for all current digital legacy data. If far: Rope for transition to PQC."),
    confidence_without_resolution(low)
).

omega_variable(
    quantum_decryption_risk_extraction_intent,
    "Is the development of quantum decryption a strategic pursuit of state dominance (Noose) or a byproduct of scientific progress (Mountain)?",
    resolution_mechanism("Audit of state quantum budgets vs. open scientific publishing rates"),
    impact("If strategic dominance: Mandatrophy Noose. If byproduct: Physical Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Post-Quantum Cryptography (PQC)
 * Viability: Algorithms based on lattices or other math not solvable 
 * by Shor's algorithm.
 * Suppression: Currently "sluggish" in adoption compared to the 
 * velocity of quantum hardware research.
 * * CONCLUSION:
 * The existence of PQC acts as a potential new "Rope" for privacy, but 
 * until it is standard, the "Quantum Decryption" Noose remains tightened 
 * around legacy ETEE systems.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [quantum_decryption_risk_2026].
% Report: ?- multi_index_report(quantum_decryption_risk_2026).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: quantum_entanglement_protocol
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Speculative Physics / Interstellar Communication Hypothesis
% ============================================================================

:- module(constraint_quantum_protocol, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: quantum_entanglement_protocol
 * human_readable: Instantaneous Quantum Entanglement Communication (Hypothetical)
 * domain: technological/scientific
 * temporal_scope: Future/R7 (Interstellar Era)
 * spatial_scope: Galactic (Earth-Mars-Alpha Centauri)
 * * SUMMARY:
 * This hypothetical constraint represents a protocol where quantum 
 * entanglement is used to bypass the "Mountain" of light-speed latency. 
 * By maintaining pairs of entangled particles across interstellar distances, 
 * synchronized state changes could theoretically allow for 0-latency 
 * coordination, effectively "collapsing" the spatial constraints of the 
 * universe into a single synchronized network.
 * * KEY AGENTS:
 * - Distant Colonist: Individual powerless; dependent on the entangled link 
 * to maintain connection with the origin civilization.
 * - Network Administrator: Institutional; manages the "Qubit Reservoir" and 
 * ensures the integrity of the entanglement pairs.
 * - Theoretical Physicist: Analytical; evaluates the persistent "Mountain" 
 * of the No-Communication Theorem that currently prohibits this protocol.
 * * NARRATIVE ARC:
 * What begins as the ultimate Rope (instantaneous global coordination) 
 * eventually functions as a Noose for the colonist. If the link 
 * is broken, the "extraction" of social and technical support is 
 * instantaneous and total, leaving the colony in an absolute temporal silo.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(interstellar_quantum_link, 0, 10).
narrative_ontology:constraint_claim(quantum_entanglement_protocol, rope).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. Low; while the infrastructure is expensive, it 
% facilitates value rather than coercively extracting it, though it 
% extracts "autonomy" from the distant agent.
domain_priors:base_extractiveness(quantum_entanglement_protocol, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.95. Extremely high; current physics (General Relativity 
% and the No-Communication Theorem) suppresses the possibility of FTL 
% information transfer. The "protocol" can only exist if these laws 
% are bypassed or reframed.
domain_priors:suppression_score(quantum_entanglement_protocol, 0.95).

% Enforcement requirements
% Requires extreme active enforcement: Maintaining "quantum coherence" across 
% parsecs requires active technical shielding and error-correction.
domain_priors:requires_active_enforcement(quantum_entanglement_protocol).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(quantum_entanglement_protocol, extractiveness, 0.2).
narrative_ontology:constraint_metric(quantum_entanglement_protocol, suppression_requirement, 0.95).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(quantum_entanglement_protocol, interstellar_governance).
constraint_beneficiary(quantum_entanglement_protocol, high_frequency_galactic_trade).
constraint_victim(quantum_entanglement_protocol, local_planetary_sovereignty).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DISTANT COLONIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Cannot repair the link if it fails; subject 
         to the information provided by the origin world.
   WHEN: immediate - Tactical reliance on instant data for colony survival.
   WHERE: trapped - Bound by the fragility of the entangled qubit pairs.
   SCOPE: local - A single habitat on a distant exoplanet.
   
   WHY THIS CLASSIFICATION:
   For the colonist, the link is a Mountain. It is an unchangeable 
   feature of their reality. They do not "use" the link as a tool; 
   they live within the reality it creates. If the link dictates a 
   procedure, it is received as an absolute law from the "instant" elsewhere.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    quantum_entanglement_protocol,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(quantum_entanglement_protocol),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE NETWORK ADMINISTRATOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to allocate bandwidth and manage the pairs.
   WHEN: biographical - Planning the generational maintenance of the Qubit Bank.
   WHERE: mobile - Can move traffic between different entangled nodes.
   SCOPE: global - Managing the link between multiple star systems.
   
   WHY THIS CLASSIFICATION:
   For the administrator, the protocol is a Rope. It is the ultimate 
   coordination tool. They "weave" the interstellar network, adjusting 
   parameters to ensure the "tension" of the link remains stable. It is 
   helpful, functional, and subject to their management.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    quantum_entanglement_protocol,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(quantum_entanglement_protocol, E),
    E < 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANTI-COLONIAL REBEL - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Seeking local autonomy from the origin world.
   WHEN: biographical - Lifelong struggle against "Earth-centric" laws.
   WHERE: constrained - High cost of "unplugging" from the quantum grid.
   SCOPE: regional - A planetary star system.
   
   WHY THIS CLASSIFICATION:
   To the rebel, the instant link is a Noose. It extracts local decision-making 
   by allowing the origin world to micro-manage the colony from light-years 
   away. The lack of "signal delay" chokes off the possibility of 
   independent development that would naturally occur under light-speed 
   latency (the Mountain of Distance).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    quantum_entanglement_protocol,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :-
    domain_priors:suppression_score(quantum_entanglement_protocol, S),
    S > 0.8,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(quantum_protocol_tests).

test(multi_perspective_asymmetry) :-
    % Admin (Rope) vs Rebel (Noose) vs Colonist (Mountain)
    constraint_indexing:constraint_classification(quantum_entanglement_protocol, T1, context(institutional, biographical, mobile, global)),
    constraint_indexing:constraint_classification(quantum_entanglement_protocol, T2, context(individual_moderate, biographical, constrained, regional)),
    constraint_indexing:constraint_classification(quantum_entanglement_protocol, T3, context(individual_powerless, immediate, trapped, local)),
    T1 \= T2, T2 \= T3.

test(absolute_suppression_of_classical_limits) :-
    % Protocol depends on the maximum suppression of classical signal delay
    domain_priors:suppression_score(quantum_entanglement_protocol, S),
    S > 0.9.

:- end_tests(quantum_protocol_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION SCORE (0.95): This reflects the "Violation of Physics" 
 * requirement. In Deferential Realism, a speculative alternative to a 
 * Mountain (Latency) must have an extremely high suppression score relative 
 * to current consensus.
 * 2. CLASSIFICATION SHIFT: The most significant insight is that removing 
 * the Mountain of Latency (Physics) creates a Noose of Centralization 
 * (Political). Without the delay, the distant agent loses the "natural 
 * protection" of isolation.
 */

omega_variable(
    information_causality_viability,
    "Can information be encoded in the entanglement without violating the 
     No-Communication Theorem?",
    resolution_mechanism("Monitor the development of 'quantum-steering' or 
    non-local state manipulation experiments"),
    impact("If Yes: The protocol is a Rope. If No: The protocol remains a 
            fictional Mountain."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: High-Speed Physical Couriers (Seed Ships)
 * Viability: Technically viable but subject to the Latency Mountain.
 * * ALTERNATIVE 2: Sub-Space / Warp Comms
 * Viability: Requires similar levels of theoretical reframing as 
 * quantum entanglement.
 * * CONCLUSION:
 * The Quantum Protocol is the only alternative that transforms the 
 * Mountain of signal delay into a Rope of instant coordination, 
 * but it does so at the cost of turning the relationship between 
 * star systems into a potentially extractive Noose.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [quantum_entanglement_protocol].
% 2. Analyze: ?- multi_index_report(quantum_entanglement_protocol).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: quantum_nonlocality_2026
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "Embracing quantum spookiness" by Karmela Padavic-Callaghan
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(quantum_nonlocality_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: quantum_nonlocality_2026
 * human_readable: Bell Non-Locality & Quantum Entanglement
 * domain: technological/scientific
 * temporal_scope: 1920s - 2026
 * spatial_scope: Global/Cosmic
 * * SUMMARY:
 * The unavoidable constraint of quantum non-locality, which dictates that 
 * entangled particles maintain coordinated behaviors across cosmically large 
 * distances, regardless of the absence of local signals. This 
 * "spookiness" was initially rejected by Einstein but was experimentally 
 * verified as an inescapable feature of reality by 2015.
 * * KEY AGENTS:
 * - Albert Einstein: Representing classical local realism (rejection of "spookiness").
 * - Alice & Bob: Hypothetical experimenters interacting with entangled pairs.
 * - The Scientific Institution: (Nobel Committee/Experimentalists) who verified the constraint.
 * * NARRATIVE ARC:
 * Discovery of a "flaw" in the 1920s leads to Bell's test in the 1960s, 
 * culminating in 2015 "final nail" experiments and a 2022 Nobel Prize, 
 * shifting non-locality from a "baffling" error to a foundational law.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(quantum_nonlocality_2026, 0, 10).

% Base extractiveness: 0.0
% Rationale: Non-locality is a fundamental law of the universe; it does not 
% extract resources from agents, though it "extracts" certainty from 
% classical intuition.
domain_priors:base_extractiveness(quantum_nonlocality_2026, 0.0).

% Suppression: 0.8 (High)
% Rationale: Experiments in 2015 provided the "final nail to the coffin" 
% for local hidden variable theories, effectively suppressing alternative 
% classical explanations.
domain_priors:suppression_score(quantum_nonlocality_2026, 0.8).

% Enforcement: Emerges naturally (Fundamental law of physics).
domain_priors:emerges_naturally(quantum_nonlocality_2026).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(quantum_nonlocality_2026, quantum_engineers). % Can utilize entanglement for tech
constraint_victim(quantum_nonlocality_2026, classical_intuition). % Intuition is "baffled" and "unkindly" treated

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE LOCAL REALIST (Einstein) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful (Scientific pioneer/authority)
   WHEN: biographical (Seeking a complete theory within a lifetime)
   WHERE: constrained (Bound by the logic of 3D local space)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   Einstein viewed non-locality as a "flaw" that broke the logic of local 
   variables. For an agent requiring local causality, entanglement 
   is a Noose because it forces a "spooky" reality that denies the 
   autonomy of local objects.
   
   NARRATIVE EVIDENCE:
   "Einstein... rejected spookiness. He proposed that there must be 'local 
   hidden variables'... to make quantum physics more like our daily 
   experience."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    quantum_nonlocality_2026,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MODERN PHYSICIST (Barandes/Żukowski) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional (The scientific consensus/Nobel standard)
   WHEN: historical (Century-scale verification)
   WHERE: analytical (Observer stance)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the established scientific community, non-locality is an inescapable 
   Mountain. It is a fundamental feature of the universe that cannot be 
   circumvented by any known physical mechanism.
   
   NARRATIVE EVIDENCE:
   "You can’t escape non-locality." "That was the final nail to 
   the coffin of all those ideas."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    quantum_nonlocality_2026,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: ALICE & BOB (Experimenters) - Rope
   --------------------------------------------------------------------------
   WHO: individual_powerless (Subjects of the law)
   WHEN: immediate (Moment of interaction)
   WHERE: mobile (Can choose to interact or not)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   From the perspective of those interacting with the particles, 
   entanglement is a Rope—a coordination mechanism that allows for 
   correlated behaviors across distances. It is a tool for 
   interaction that provides new functional degrees of freedom.
   
   NARRATIVE EVIDENCE:
   "Entanglement allows the particles to exhibit correlations even if they 
   are so far apart that no signal could ever pass between them."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    quantum_nonlocality_2026,
    rope,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(quantum_nonlocality_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(quantum_nonlocality_2026, Type1, context(agent_power(individual_powerful), _, _, _)),
    constraint_indexing:constraint_classification(quantum_nonlocality_2026, Type2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(quantum_nonlocality_2026, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(immutability_status) :-
    % Modern institutional view must see it as inescapable (Mountain)
    constraint_indexing:constraint_classification(quantum_nonlocality_2026, mountain, context(agent_power(institutional), _, _, _)).

:- end_tests(quantum_nonlocality_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.0): Quantum mechanics is a physical law, not 
 * an extractive social construct. There is no asymmetric benefit flow in the 
 * physical sense.
 * * 2. SUPPRESSION SCORE (0.8): The article describes a highly suppressive 
 * environment for classical alternatives, using phrases like "final nail to 
 * the coffin".
 * * 3. PERSPECTIVE SELECTION: 
 * - Einstein (Noose): His world-view was "strangled" by the discovery.
 * - Barandes (Mountain): The inevitable objective reality.
 * - Alice/Bob (Rope): The functional use of the correlation.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

% Mandatory Omega for high-suppression constraints:
omega_variable(
    quantum_nonlocality_2026_extraction_intent,
    "Is the inability to find 'local hidden variables' a limitation of our 
     measurement tools (Mountain) or an inherent feature of non-spatial 
     consciousness (Omega)?",
    resolution_mechanism("Development of theories that bridge non-locality with quantum gravity"),
    impact("If tools: Future Rope. If inherent feature: Permanent Mountain."),
    confidence_without_resolution(medium)
).

omega_variable(
    quantum_signal_transmission,
    "Can Alice and Bob ever send a signal faster than light using this correlation?",
    resolution_mechanism("Long-term verification of the 'no-communication' theorem"),
    impact("If yes: Causality (Mountain) collapses. If no: Relativity remains a Mountain."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Local Hidden Variables
 * Viability: Historically proposed by Einstein, Podolsky, and Rosen.
 * Suppression: Disproved by Bell's Inequality tests in 2015.
 * Evidence: "Hidden variables couldn’t save locality."
 * * CONCLUSION:
 * The rejection of local hidden variables has shifted quantum physics 
 * from a potential "flawed" Rope to an absolute Mountain/Noose for classical 
 * physics enthusiasts.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [quantum_nonlocality_2026].
% Run multi-perspective report: ?- multi_index_report(quantum_nonlocality_2026).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: quine_self_replication
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Willard Van Orman Quine (1951) / Kleene's Second Recursion Theorem
% ============================================================================

:- module(constraint_quine_self_replication, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: quine_self_replication
 * human_readable: Quines (Computational Self-Replication)
 * domain: technological/mathematical
 * temporal_scope: 1951 - Present
 * spatial_scope: Global/Abstract (Turing Complete Systems)
 * * SUMMARY:
 * A Quine is a non-empty computer program which takes no input and produces a 
 * copy of its own source code as its only output. This demonstrates a 
 * fundamental constraint of computability: any Turing-complete system possesses 
 * the latent capability for self-description and replication without external 
 * templates.
 * * KEY AGENTS:
 * - The Source Code (Subject): The powerless agent whose structure must 
 * simultaneously encode logic and its own literal representation.
 * - The Compiler/Interpreter (Institutional): The rule-enforcing environment 
 * that translates the quine's "instructions" into its "physical" output.
 * - The Computer Scientist (Analytical): The observer mapping the "Mountain" 
 * of Kleene's Recursion Theorem through the "Rope" of specific code.
 * * NARRATIVE ARC:
 * The Quine functions as a "Mountain" of logical inevitability—self-replication 
 * is a mandatory property of universal computation. In programming pedagogy, 
 * it is a "Rope" for coordinating an understanding of fixed points. However, 
 * in the context of self-replicating malware or autonomous agents, the Quine 
 * structure acts as a "Noose," extracting the possibility of external control 
 * by enabling entities to "strangle" the host system with unmediated growth.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================= */

% Structural Anchor for extraction
narrative_ontology:interval(quine_era, 1951, 2026).
narrative_ontology:constraint_claim(quine_self_replication, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. While a logic "gift," a quine "extracts" the distinction 
% between data and instruction, forcing the environment to process a 
% recursive loop that uses its own identity as fuel.
domain_priors:base_extractiveness(quine_self_replication, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.1. Quines do not suppress alternatives; they reveal a hidden 
% property that was previously invisible, though they render the concept of 
% "pure non-replicating logic" functionally incomplete.
domain_priors:suppression_score(quine_self_replication, 0.1).

% Enforcement: Emerges naturally from Kleene's Second Recursion Theorem.
domain_priors:emerges_naturally(quine_self_replication).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(quine_self_replication, extractiveness, 0.2).
narrative_ontology:constraint_metric(quine_self_replication, suppression_requirement, 0.1).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(quine_self_replication, autonomous_agent_developers).
constraint_beneficiary(quine_self_replication, cellular_automata_theory).
constraint_victim(quine_self_replication, static_code_analysis). % Self-replication makes behavior harder to bound.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EXECUTING QUINE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The code has zero agency to be anything other than its source.
   WHEN: immediate - The replication is true at the moment of execution.
   WHERE: trapped - Bound within the syntax and semantics of the host language.
   SCOPE: local - Immediate neighborhood of the print buffer.
   
   WHY THIS CLASSIFICATION:
   For the quine itself, its self-replication is a natural law of its internal 
   logic. It cannot "choose" to output a random string if its fixed-point 
   mechanisms are engaged. It is a mathematical Mountain; its identity is its 
   destiny.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    quine_self_replication,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PEDAGOGICAL INSTRUCTOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design curriculum and coding challenges.
   WHEN: biographical - Spanning the duration of a student's introduction to logic.
   WHERE: mobile - Can choose any Turing-complete language to demonstrate the paradox.
   SCOPE: global - Universal application in CS education.
   
   WHY THIS CLASSIFICATION:
   For the educator, the quine is a "Rope"—a tool for functional coordination. 
   It allows them to "pull" students toward an understanding of recursion and 
   self-reference, providing a standard of achievement for logical mastery.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    quine_self_replication,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CYBERSECURITY DEFENDER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools to analyze but is bound by the quine's logic.
   WHEN: immediate - Real-time defense against self-replicating worms.
   WHERE: constrained - The host environment provides the "exit" that the quine exploits.
   SCOPE: national - Protecting state infrastructure from autonomous threats.
   
   WHY THIS CLASSIFICATION:
   For the defender, the ability for code to quine itself is a "Noose." It 
   "strangles" containment strategies because the code carries its own 
   blueprints for revival. It extracts massive compute and human overhead 
   (extraction) to suppress a process that the underlying "Mountain" of logic 
   naturally permits.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    quine_self_replication,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- 
    domain_priors:base_extractiveness(quine_self_replication, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(quine_self_replication_tests).

test(multi_perspective_variance) :-
    % Code -> Mountain
    constraint_indexing:constraint_classification(quine_self_replication, Type1, context(individual_powerless, immediate, trapped, local)),
    % Instructor -> Rope
    constraint_indexing:constraint_classification(quine_self_replication, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(autonomous_noose_insight) :-
    % Demonstrates that for the defender, the self-replication is a Noose
    constraint_indexing:constraint_classification(quine_self_replication, noose, context(individual_moderate, immediate, constrained, national)).

test(emergence) :-
    domain_priors:emerges_naturally(quine_self_replication).

:- end_tests(quine_self_replication_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.2): Chose this because a Quine is essentially 
 * "selfish" logic. It extracts the processor's resources solely to reproduce 
 * its own state, creating an asymmetric benefit for the "code-organism" at 
 * the expense of the host's utility.
 * 2. CLASSIFICATION RATIONALE: Chose Code (Passive), Instructor (Active/Tool), 
 * and Defender (Victim) to highlight how self-replication shifts from 
 * "Curiosity" to "Weapon."
 * 3. OMEGA IDENTIFICATION: Formalized the "Quine Entropy" uncertainty—can 
 * a quine evolve into something non-quine-like without external input?
 */

% OMEGA IDENTIFICATION
omega_variable(
    autonomous_evolutionary_drift,
    "Can a self-replicating quine spontaneously evolve complex new traits (Mountain) or is it a closed loop (Scaffold)?",
    resolution_mechanism("Long-term observation of quine-based digital life simulations with random bit-flip mutations."),
    impact("If Mountain: Quines are the seeds of true digital life. If Scaffold: They are mere parrots."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: External Template Replication (e.g., DNA/Ribosome model)
 * Viability: Most real-world biological systems use an external reader 
 * (Ribosome) to replicate a template (DNA).
 * Suppression: Rejected in pure "computational" quining because the goal 
 * is to prove that the code is its own ribosome.
 * * ALTERNATIVE 2: Hard-coded Self-Copying (Impossible Paradox)
 * Viability: Trying to write a program that simply contains its own source 
 * string as a literal.
 * Suppression: Suppressed by the "Infinite Regress" problem; the string 
 * would have to contain a string that contains a string... ad infinitum.
 * * CONCLUSION:
 * The existence of Alternative 2's failure proves that the Quine's specific 
 * "Mountain" (the Kleene fixed-point) is the only viable path to true 
 * self-description.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_quine_self_replication].
 * 2. Multi-perspective: ?- multi_index_report(quine_self_replication).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: qwerty_vs_dvorak
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Paul David (1985) / W. Brian Arthur / Path Dependence
% ============================================================================

:- module(constraint_qwerty_vs_dvorak, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: qwerty_vs_dvorak
 * human_readable: QWERTY vs. Dvorak (Technological Lock-in)
 * domain: technological/economic
 * temporal_scope: 1870s - Present
 * spatial_scope: Global (Digital Computing)
 * * SUMMARY:
 * This constraint represents "Path Dependence" and "Technological Lock-in." 
 * The QWERTY keyboard layout was designed to prevent mechanical jams in 19th-century 
 * typewriters. Despite the development of more efficient layouts (like Dvorak), 
 * the massive network effects and sunk costs in human training have made 
 * QWERTY an immovable standard in the digital age.
 * * KEY AGENTS:
 * - The Economic Historian: Analytical observer of path-dependent systems.
 * - The Software/Hardware Manufacturer: Institutional agent maintaining the standard for interoperability.
 * - The Dvorak Enthusiast: Individual moderate attempting to arbitrage between systems for efficiency.
 * - The Average Typist: Individual powerless subject to the historical "accident" of the layout.
 * * NARRATIVE ARC:
 * What began as a mechanical "Rope" (to solve jams) became a "Mountain" of 
 * institutional reality. For the typist, it is a "Noose"—an invisible 
 * inefficiency that strangles speed and health (RSI), yet is too costly to escape.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor
narrative_ontology:interval(qwerty_lockin_interval, 0, 10).
narrative_ontology:constraint_claim(qwerty_vs_dvorak, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.4). It extracts "human efficiency" and "physical health." 
% The sub-optimal layout imposes a "tax" of slower typing and higher strain 
% on billions of hands to maintain the network effect.
domain_priors:base_extractiveness(qwerty_vs_dvorak, 0.4).

% Suppression score (0.0-1.0)
% Rationale: High (0.7). Alternatives like Dvorak or Colemak are technically 
% available but socially suppressed. The cost of re-learning (sunk cost) 
% makes them conceptually invisible to the majority.
domain_priors:suppression_score(qwerty_vs_dvorak, 0.7).

% Enforcement requirements
% Emerges naturally through network effects and positive feedback loops.
domain_priors:emerges_naturally(qwerty_vs_dvorak).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(qwerty_vs_dvorak, extractiveness, 0.4).
narrative_ontology:constraint_metric(qwerty_vs_dvorak, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(qwerty_vs_dvorak, [legacy_manufacturers, educational_institutions]).
constraint_victim(qwerty_vs_dvorak, [high_speed_typists, rsi_sufferers]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ECONOMIC HISTORIAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of historical trajectories and path dependence.
   WHEN: civilizational - Viewing the standard as a permanent feature of the era.
   WHERE: analytical - Not personally constrained, but mapping the "wall."
   SCOPE: global - The standard spans the entire digital world.
   
   WHY THIS CLASSIFICATION:
   To the historian, the QWERTY standard is a Mountain. It is an unchangeable 
   feature of the technological landscape created by "quasi-irreversibility." 
   Once the network effect crossed the threshold, the chance of shifting 
   dropped to zero; it is a fixed peak of history.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    qwerty_vs_dvorak,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TECH GIANT (Apple/Microsoft) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define hardware and software defaults.
   WHEN: biographical - Maintaining market dominance over 30-50 years.
   WHERE: arbitrage - Can offer Dvorak as an option but keeps QWERTY as default.
   SCOPE: global - Global OS distribution.
   
   WHY THIS CLASSIFICATION:
   For the institution, QWERTY is a Rope. It is the ultimate coordination 
   mechanism. It ensures that every computer sold is immediately usable by 
   every customer. They use the constraint to "tether" the world to their 
   products, ensuring interoperability and minimizing support costs.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    qwerty_vs_dvorak,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE OFFICE WORKER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the hardware provided by the employer.
   WHEN: immediate - Today's 8-hour typing shift.
   WHERE: trapped - Cannot change the hardware or re-train without loss of income.
   SCOPE: local - Immediate desk/workstation.
   
   WHY THIS CLASSIFICATION:
   For the worker, QWERTY is a Noose. They must use a layout designed to 
   slow them down (initially to prevent jams) which now causes physical 
   strain and limits their output. The "network effect" strangles their 
   individual choice, as using an alternative makes them "incompatible" 
   with other people's computers and shared spaces.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    qwerty_vs_dvorak,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(qwerty_lockin_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Powerless sees Noose
    constraint_indexing:constraint_classification(qwerty_vs_dvorak, mountain, context(analytical, civilizational, analytical, global)),
    constraint_indexing:constraint_classification(qwerty_vs_dvorak, rope, context(institutional, biographical, arbitrage, global)),
    constraint_indexing:constraint_classification(qwerty_vs_dvorak, noose, context(individual_powerless, immediate, trapped, local)).

test(power_extractiveness_efficiency) :-
    % Powerless individuals feel the extraction of their time/health (Noose).
    % Institutions use the standard to manage global supply chains (Rope).
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, arbitrage, global),
    constraint_indexing:extractiveness_for_agent(qwerty_vs_dvorak, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(qwerty_vs_dvorak, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability_lockin) :-
    % Short-term trapped = Mountain/Noose.
    constraint_indexing:effective_immutability(biographical, trapped, mountain).

:- end_tests(qwerty_lockin_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): QWERTY "extracts" human ergonomics. It is a 
 * legacy of mechanical friction that now taxes digital human output.
 * * 2. SUPPRESSION (0.7): High. Not because Dvorak is banned, but because 
 * "Switching Costs" are so high that they act as a natural silencer for 
 * any alternative.
 * * 3. PERSPECTIVES: Chose the Historian (Law), the Corp (Tool), and the 
 * Worker (Victim) to illustrate the perspectival gap.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    llm_input_decoupling,
    "Will AI/Voice/Neural interfaces untie the QWERTY Noose (Rope), or will the 
    legacy layout merely persist as a symbolic 'Mountain' of human interaction?",
    resolution_mechanism("Monitor the adoption of non-textual input methods in professional settings"),
    impact("If Rope: Inefficiency is finally escaped. If Mountain: The layout 
    remains as a cultural artifact/Noose even when the original need is gone."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Dvorak Simplified Keyboard
 * Viability: High. Scientifically proven to reduce finger travel and 
 * increase comfort.
 * Suppression: High. Sunk costs in training and hardware manufacturing.
 * * ALTERNATIVE 2: Colemak / Workman
 * Viability: Modern layouts optimized for computers, keeping shortcuts (Z,X,C,V) 
 * in place while moving common letters to the home row.
 * * CONCLUSION:
 * The existence of superior alternatives (Dvorak/Colemak) that are effectively 
 * unusable due to network effects proves that QWERTY is a Noose for the 
 * individual, despite being a Rope for global commerce.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * ?- [constraint_qwerty_vs_dvorak].
 * ?- multi_index_report(qwerty_vs_dvorak).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: radiologic_diagnostic_threshold
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Indexical Relativity in Radiology
% ============================================================================

:- module(constraint_radiologic_diagnostic_threshold, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: radiologic_diagnostic_threshold
 * human_readable: The Radiologic Diagnostic Threshold
 * domain: medical/technological/legal
 * temporal_scope: Contemporary clinical practice (approx. 1990-2026)
 * spatial_scope: Global (primarily Western medical systems)
 * * SUMMARY:
 * This constraint governs the classification of medical imaging findings into "benign," "incidental," or "critical." 
 * It is not a purely biological fact but an indexical classification dependent on the reader's 
 * power level, legal exposure, and technological tools.
 * * KEY AGENTS:
 * - Frontline Radiologist: High-volume reader facing legal and cognitive pressure.
 * - Hospital Administrator/Guideline Author: Institutional body defining "standard of care".
 * - AI Vendor: Entity offering coordination tools to optimize workflow.
 * - Retrospective Audit Panel: Hindsight-biased observers reclassifying past ambiguity as obvious.
 * * NARRATIVE ARC:
 * Findings oscillate between "ignore" and "urgent" as contextual priors change. Frontline 
 * workers experience the threshold as a Noose of liability, while institutions present it 
 * as a Mountain of objective safety.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(radiology_r7, 0, 10).
narrative_ontology:constraint_claim(radiologic_diagnostic_threshold, mountain).

% Base extractiveness score (0.7: Significant risk/labor shift to individual readers)
% Rationale: Defensive reading and volume pressure extract cognitive health from clinicians.
domain_priors:base_extractiveness(radiologic_diagnostic_threshold, 0.7).

% Suppression score (0.6: Moderate-high)
% Rationale: Alternatives like "watchful waiting" are often punished by malpractice systems.
domain_priors:suppression_score(radiologic_diagnostic_threshold, 0.6).

% Enforcement requirements
domain_priors:requires_active_enforcement(radiologic_diagnostic_threshold).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(radiologic_diagnostic_threshold, extractiveness, 0.7).
narrative_ontology:constraint_metric(radiologic_diagnostic_threshold, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(radiologic_diagnostic_threshold, [malpractice_insurers, hospital_admins, ai_vendors]).
constraint_victim(radiologic_diagnostic_threshold, [frontline_radiologists, overdiagnosed_patients]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Frontline Radiologist - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (subject to volume/legal pressure)
   WHEN: immediate (daily diagnostic turnaround)
   WHERE: trapped (legal/institutional framework is non-optional)
   SCOPE: local (individual cases)
   
   WHY THIS CLASSIFICATION:
   For the radiologist, the protocol functions as a Noose. High cognitive load 
   combined with fear of misses forces defensive "over-calling," turning a 
   diagnostic aid into a coercive mechanism of liability management.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    radiologic_diagnostic_threshold,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(radiologic_diagnostic_threshold, E),
    E > 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Hospital Administrator / Guideline Author - Mountain
   --------------------------------------------------------------------------
   WHO: institutional (rule-making power)
   WHEN: generational (long-term standard of care)
   WHERE: constrained (bound by "evidence-based" consensus)
   SCOPE: regional (hospital system-wide)
   
   WHY THIS CLASSIFICATION:
   From the institutional view, these thresholds are Mountains. They are presented 
   as non-optional "natural laws" of patient safety and evidence-based necessity, 
   effectively masking the underlying social and legal negotiations.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    radiologic_diagnostic_threshold,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :-
    % Perceived as unchangeable standard of care
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: AI Tool Vendor / Workflow Optimizer - Rope
   --------------------------------------------------------------------------
   WHO: individual_powerful (significant influence over tool design)
   WHEN: biographical (product lifecycle)
   WHERE: arbitrage (can move between different hospital systems)
   SCOPE: global (product scalability)
   
   WHY THIS CLASSIFICATION:
   For vendors, these thresholds are Ropes. They are coordination devices that 
   can be optimized via structured reporting and checklists to reduce 
   variability and increase throughput.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    radiologic_diagnostic_threshold,
    rope,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    % Perceived as a functional coordination mechanism
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(radiologic_diagnostic_threshold_tests).

test(multi_perspective_radiology) :-
    % Radiologist sees Noose
    constraint_indexing:constraint_classification(
        radiologic_diagnostic_threshold, Type1,
        context(individual_powerless, immediate, trapped, local)),
    % Admin sees Mountain
    constraint_indexing:constraint_classification(
        radiologic_diagnostic_threshold, Type2,
        context(institutional, generational, constrained, regional)),
    % AI Vendor sees Rope
    constraint_indexing:constraint_classification(
        radiologic_diagnostic_threshold, Type3,
        context(individual_powerful, biographical, arbitrage, global)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_radiology) :-
    % Powerless experience more extraction (liability/burnout) than Institutional
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, generational, constrained, regional),
    constraint_indexing:extractiveness_for_agent(radiologic_diagnostic_threshold, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(radiologic_diagnostic_threshold, ContextPowerful, Score2),
    Score1 > Score2.

test(hindsight_mountain_effect) :-
    % Analytical retrospective stance often sees errors as "obvious" (Mountain)
    constraint_indexing:constraint_classification(
        radiologic_diagnostic_threshold,
        mountain,
        context(analytical, historical, analytical, global)).

:- end_tests(radiologic_diagnostic_threshold_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.7): High score reflects the "liability tax" and cognitive 
 * exhaustion of frontline clinicians who bear the risk of the system's 
 * threshold shifts.
 * * 2. PERSPECTIVE SELECTION: Focused on the triad of Clinician (Noose), Admin 
 * (Mountain), and Tech Optimizer (Rope) to highlight the "perspectival stalemate" 
 * inherent in diagnostic error discussions.
 * * 3. OMEGAS:
 * omega_variable(pixel_ground_truth,
 * "Is there an objective 'correct' threshold independent of context?",
 * resolution_mechanism("Longitudinal outcome tracking vs. social consensus"),
 * impact("If Mountain: error is an absolute failure. If Rope: error is a coordination failure."),
 * confidence_without_resolution(low)
 * ).
 * * omega_variable(ai_rewiring_risk,
 * "Will AI transform the Noose into a Rope, or simply tighten the Noose by accelerating volume?",
 * resolution_mechanism("Post-implementation clinician burnout and error-rate audits"),
 * impact("Determines if AI is a tool or a coercive metric."),
 * confidence_without_resolution(medium)
 * ).
 * * 4. CONFIDENCE: High regarding the indexical nature of "error" vs "discrepancy" 
 * as documented in radiology literature.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Bayesian Probabilistic Reporting
 * Viability: Reporting findings as probability ranges rather than binary binary (ignore/urgent).
 * Suppression: High; current legal and billing systems require discrete 
 * classifications to function.
 * * ALTERNATIVE 2: Outcome-Weighted Compensation
 * Viability: Rewarding accuracy over volume.
 * Suppression: Suppressed by institutional volume-based revenue models (Noose).
 * * CONCLUSION:
 * The active suppression of probabilistic nuance in favor of "standard of care" 
 * certainty shifts this constraint from a potential Rope into a functioning Noose 
 * for the frontline practitioner.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * ?- [constraint_radiologic_diagnostic_threshold].
 * ?- constraint_indexing:multi_index_report(radiologic_diagnostic_threshold).
 * ?- run_tests(radiologic_diagnostic_threshold_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: railway_gauge_standard
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: George Stephenson (1825) / Path Dependence / Economic History
% ============================================================================

:- module(constraint_railway_gauge, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: railway_gauge_standard
 * human_readable: Standard Railway Gauge (4 ft 8.5 in)
 * domain: technological/economic
 * temporal_scope: 1820s - Present
 * spatial_scope: Global (approx. 60% of world tracks)
 * * SUMMARY:
 * The Standard Gauge (1435 mm) is a classic example of technological lock-in 
 * and path dependence. Legend holds it traces back to Roman chariot ruts, 
 * but it was formally set by George Stephenson based on existing horse-drawn 
 * coal wagons. Despite "Broad Gauge" alternatives offering better stability 
 * and speed, the Standard Gauge became a global invariant due to network effects.
 * * KEY AGENTS:
 * - The Railway Historian: Analytical observer of "frozen accidents" in engineering.
 * - The National Transport Authority: Institutional agent enforcing the standard 
 * to ensure interstate/international interoperability.
 * - The Broad Gauge Innovator (e.g., Brunel): Individual moderate whose 
 * superior technical alternative was strangled by the existing network.
 * * NARRATIVE ARC:
 * What began as a local "Rope" (matching coal wagons) hardened into a 
 * "Mountain" of physical infrastructure. For the technical innovator, it 
 * became a "Noose," as the cost of "breaking gauge" at borders extracted 
 * the viability of better designs.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural identification
narrative_ontology:interval(railway_gauge_interval, 0, 10).
narrative_ontology:constraint_claim(railway_gauge_standard, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.3 (Low-Moderate). It extracts "optimal technical performance." 
% By forcing a sub-optimal width, it limits the size and speed of trains 
% compared to what could be achieved with broader tracks.
domain_priors:base_extractiveness(railway_gauge_standard, 0.3).

% Suppression score (0.0-1.0)
% Rationale: 0.8 (High). Alternatives (Broad or Narrow gauge) are physically 
% suppressed. A train built for one cannot run on the other without 
% expensive "transshipment," making the alternatives economically invisible.
domain_priors:suppression_score(railway_gauge_standard, 0.8).

% Enforcement requirements
% Emerges naturally via network effects; maintained by massive capital investment.
domain_priors:emerges_naturally(railway_gauge_standard).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(railway_gauge_standard, extractiveness, 0.3).
narrative_ontology:constraint_metric(railway_gauge_standard, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(railway_gauge_standard, [standard_rolling_stock_manufacturers, interconnected_logistics]).
constraint_victim(railway_gauge_standard, [high_speed_innovators, technical_perfectionists]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE LOGISTICS ANALYST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of global trade corridors.
   WHEN: civilizational - Viewing the rail network as a permanent crust of the earth.
   WHERE: trapped - The tracks are already laid in steel and concrete.
   SCOPE: global - Continental rail networks.
   
   WHY THIS CLASSIFICATION:
   To the analyst, the Gauge is a Mountain. It is an immovable fact of 
   civilizational hardware. The cost of ripping up and relaying millions 
   of miles of track to a "better" width is so high that the current 
   width is effectively a law of nature.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    railway_gauge_standard,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE EUROPEAN UNION (Interoperability Dept) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to regulate international standards.
   WHEN: biographical - Managing a single career's worth of infrastructure.
   WHERE: arbitrage - Can fund "gauge-changing" tech or hybrid tracks.
   SCOPE: continental - Trans-European networks.
   
   WHY THIS CLASSIFICATION:
   For the institutional regulator, the standard is a Rope. It is the 
   ultimate coordination mechanism. It allows a train from Paris to 
   reach Warsaw without stopping. They use the constraint to pull a 
   unified economy together, prioritizing "connectivity" over "optimal width."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    railway_gauge_standard,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(continental)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: ISAMBARD KINGDOM BRUNEL (Innovator) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Power to build, but subject to the network.
   WHEN: immediate - The "Gauge War" of the 1840s.
   WHERE: constrained - His Broad Gauge (7ft) is technically superior but incompatible.
   SCOPE: national - The UK railway market.
   
   WHY THIS CLASSIFICATION:
   For the innovator, the standard is a Noose. He has a faster, safer, and 
   more stable design, but the "Standard Gauge" has already captured the 
   majority of the network. The requirement to connect to the "Standard" 
   strangles his Broad Gauge, eventually extracting all its capital and 
   forcing its extinction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    railway_gauge_standard,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(railway_gauge_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Innovator sees Noose
    constraint_indexing:constraint_classification(railway_gauge_standard, mountain, context(analytical, civilizational, trapped, global)),
    constraint_indexing:constraint_classification(railway_gauge_standard, rope, context(institutional, biographical, arbitrage, continental)),
    constraint_indexing:constraint_classification(railway_gauge_standard, noose, context(individual_moderate, immediate, constrained, national)).

test(power_extractiveness_incompatibility) :-
    % The "victim" (Innovator) feels the extraction of their better tech (Noose).
    % The "institution" uses the lock-in for coordination (Rope).
    domain_priors:base_extractiveness(railway_gauge_standard, E),
    E >= 0.3.

test(time_immutability_lockin) :-
    % Historical/Civilizational view = Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(railway_gauge_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.3): Chose lower-moderate because while the standard 
 * is technically sub-optimal, the "theft" is of potential performance 
 * rather than active labor or health (unlike QWERTY's RSI).
 * 2. PERSPECTIVE SELECTION: Brunel is the perfect "Noose" subject—he knew 
 * he had a better product, but the network effect strangled it.
 * 3. SUPPRESSION (0.8): Very high. You cannot just "try" a different gauge 
 * without building a whole separate world; the physics of the rail 
 * suppress the alternative.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    transshipment_innovation,
    "Can digital 'automatic gauge-changing' wheels untie the Noose of the 
    Standard Gauge (Rope), or is the cost of retrofitting always a 
    Mountain?",
    resolution_mechanism("Monitor the adoption rate of variable-gauge 
    axles in cross-border corridors like Spain/France"),
    impact("If Rope: Different gauges can coexist. If Mountain: Incompatibility 
    remains a permanent friction point."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Brunel's Broad Gauge (7 ft)
 * Viability: High. Provided smoother, faster rides and could carry 
 * much heavier loads.
 * Suppression: High. Extinguished by the Railway Regulation (Gauge) 
 * Act 1846, which mandated the Standard Gauge.
 * * CONCLUSION:
 * The existence of a physically superior alternative that was legally and 
 * economically suppressed confirms that the Standard Gauge is a Noose 
 * for engineering, even if it is a Rope for trade.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * ?- [constraint_railway_gauge].
 * ?- multi_index_report(railway_gauge_standard).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: reciprocity_laws_math
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Gauss's Quadratic Reciprocity (1801); Artin Reciprocity (1927)
% ============================================================================

:- module(constraint_reciprocity_laws, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: reciprocity_laws_math
 * human_readable: Mathematical Reciprocity Laws
 * domain: mathematical/technological
 * temporal_scope: 1801 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Number Fields)
 * * SUMMARY:
 * Reciprocity laws, beginning with Gauss's Quadratic Reciprocity, describe a 
 * deep symmetry in the behavior of prime numbers. They state that the 
 * solvability of an equation $x^2 = p \pmod q$ is intrinsically linked to the 
 * solvability of $x^2 = q \pmod p$. This functions as a structural constraint 
 * on how primes interact across different arithmetic dimensions.
 * * KEY AGENTS:
 * - The Prime Couple (p, q): Powerless subjects whose relationship is 
 * predestined by the law.
 * - The Cryptographer: An institutional agent using the law as a coordination 
 * mechanism for efficient primality testing and key generation.
 * - The Langlands Researcher: An analytical observer seeking a "Grand Unified" 
 * reciprocity that links all of mathematics.
 * * NARRATIVE ARC:
 * To the numbers themselves, the law is a "Mountain"—an unchangeable, 
 * unyielding symmetry of the universe. To the cryptographer, it is a "Rope"—a 
 * tool that allows them to "jump" across complex calculations with ease. 
 * However, in the realm of Higher Reciprocity (Cubic/Quartic), the 
 * complexity of the law acts as a "Noose" for practitioners, extracting 
 * massive cognitive labor to resolve seemingly simple arithmetic questions.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(reciprocity_laws_math, 1801, 2026).
narrative_ontology:constraint_claim(reciprocity_laws_math, mountain).

% Base extractiveness: 0.1
% Rationale: Pure math is largely non-extractive. However, it "extracts" the 
% possibility of asymmetric primality (e.g., p is a residue mod q but q isn't mod p)
% to enforce structural harmony.
domain_priors:base_extractiveness(reciprocity_laws_math, 0.1).

% Suppression score: 0.1
% Rationale: It does not suppress other theories, though it renders 
% "non-reciprocal" universes logically impossible within standard axioms.
domain_priors:suppression_score(reciprocity_laws_math, 0.1).

% Enforcement: Emerges naturally from the structure of number fields.
domain_priors:emerges_naturally(reciprocity_laws_math).

% Metrics
narrative_ontology:constraint_metric(reciprocity_laws_math, extractiveness, 0.1).
narrative_ontology:constraint_metric(reciprocity_laws_math, suppression_requirement, 0.1).

% Beneficiaries & Victims
constraint_beneficiary(reciprocity_laws_math, asymmetric_cryptography).
constraint_beneficiary(reciprocity_laws_math, analytical_number_theory).
constraint_victim(reciprocity_laws_math, computational_inefficiency). % In the absence of the law.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PRIME NUMBER ($p$) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The prime has no agency over its residue status.
   WHEN: immediate - The law is true for all primes simultaneously.
   WHERE: trapped - Bound within the rigid structure of the integers.
   SCOPE: global - Applies across all number fields.
   
   WHY THIS CLASSIFICATION:
   For the prime $p$, the fact that its "quadratic character" depends on $q$ 
   is a natural law. It is an unchangeable, fixed feature of its mathematical 
   reality with zero degrees of freedom.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    reciprocity_laws_math,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE RSA CRYPTOGRAPHER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design standards (NIST, RSA) using the law.
   WHEN: biographical - Planning security for the lifecycle of a system.
   WHERE: mobile - Can choose different primes or reciprocity levels.
   SCOPE: global - Worldwide security coordination.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the law is a "Rope"—a functional tool. It allows for the 
   efficient coordination of prime-finding algorithms (like Miller-Rabin), 
   ensuring that various security sub-systems are pulled toward a standard of 
   "absolute" security.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    reciprocity_laws_math,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: HIGHER RECIPROCITY ANALYST - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - A graduate student/researcher bound by complexity.
   WHEN: immediate - Every proof step is a struggle against the abstraction.
   WHERE: constrained - Knowing the law exists but unable to easily compute it.
   SCOPE: local - A specific, intractable problem in class field theory.
   
   WHY THIS CLASSIFICATION:
   In the realm of Cubic or Artin reciprocity, the law becomes a "Noose." 
   It promises a "simple" relationship but extracts immense cognitive energy 
   and years of study (extraction) to yield the result. The practitioner 
   is "strangled" by the very abstraction meant to simplify the field.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    reciprocity_laws_math,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(reciprocity_laws_math, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(reciprocity_laws_math_tests).

test(symmetry_fate_variance) :-
    % Subject -> Mountain
    constraint_indexing:constraint_classification(reciprocity_laws_math, Type1, context(individual_powerless, immediate, trapped, global)),
    % Cryptographer -> Rope
    constraint_indexing:constraint_classification(reciprocity_laws_math, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(computational_labor_extraction) :-
    % A researcher (powerless) in a local/constrained context sees the higher law as a Noose.
    constraint_indexing:constraint_classification(reciprocity_laws_math, noose, context(individual_powerless, immediate, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(reciprocity_laws_math).

:- end_tests(reciprocity_laws_math_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: Mathematical laws are the purest form of "Mountain" 
 * (Natural Law). However, their application in technology (Cryptography) 
 * transforms them into "Ropes" (Tools).
 * 2. NOOSE ANALOGY: The frustration of "Higher Reciprocity" is a unique form 
 * of intellectual "Noose." It's a promise of symmetry that is so hard to 
 * prove that it extracts a "tithe" of a researcher's life.
 * 3. EXTRACTIVENESS (0.1): Low, because the universe doesn't charge money for 
 * arithmetic, but the *following* of the law requires an "extraction" of 
 * cognitive focus.
 */

% OMEGA IDENTIFICATION
omega_variable(
    non_abelian_generalization,
    "Will the Langlands Program provide a 'Rope' (functional tool) for the non-abelian case, or is it a permanent 'Mountain'?",
    resolution_mechanism("Verification of the global Langlands correspondence for GL(n)."),
    impact("If Yes: The entire number line becomes a navigable 'Rope'. If No: It remains a distant 'Mountain'."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Brute Force Verification (Euler's method before Gauss)
 * Viability: Checking residues manually for every prime.
 * Suppression: Replaced by Gauss because Reciprocity is a more efficient 
 * "Rope" for coordination.
 * * ALTERNATIVE 2: Pure Probabilistic Heuristics
 * Viability: Assuming residues are random.
 * Suppression: Suppressed by the proof of Reciprocity, which shows the 
 * "chaos" of primes is actually a hidden "Mountain" of order.
 * * CONCLUSION:
 * The existence of the Reciprocity Law as a "Mountain" makes the brute-force 
 * "Scaffolds" of the 18th century look like primitive errors.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [reciprocity_laws_math].
% Analyze: ?- constraint_indexing:multi_index_report(reciprocity_laws_math).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: regulatory_capture
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Stigler, G. J. (1971) / Public Choice Theory
% ============================================================================

:- module(constraint_regulatory_capture, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: regulatory_capture
 * human_readable: Regulatory Capture
 * domain: economic/political
 * temporal_scope: Permanent (Modern Bureaucratic States)
 * spatial_scope: National (Regulated Industries)
 * * SUMMARY:
 * Regulatory capture occurs when a regulatory agency, created to act in the 
 * public interest, instead advances the commercial or political concerns of 
 * special interest groups that dominate the industry it is charged with 
 * regulating. It represents a corruption of the "referee" into a "player."
 * * KEY AGENTS:
 * - The Incumbent Firm: The beneficiary who uses regulations to bar new 
 * competitors and extract rents.
 * - The Regulator: Often a former or future employee of the industry, 
 * whose interests align with the regulated firms.
 * - The Public: The victim class who pays higher prices for lower-quality 
 * services due to suppressed competition.
 * * NARRATIVE ARC:
 * The constraint functions as a "Noose" for small competitors and the 
 * public. For the large firm, it is a "Rope" (a tool for market control). 
 * To the political scientist, it is a "Mountain"—an inevitable outcome of 
 * concentrated benefits and diffuse costs in a democracy.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(capture_interval, 0, 10).
narrative_ontology:constraint_claim(regulatory_capture, noose).

% Base extractiveness: 0.8 (High)
% Rationale: It extracts consumer surplus and innovation energy, 
% redirecting it into monopoly profits for the captured industry.
domain_priors:base_extractiveness(regulatory_capture, 0.8).

% Suppression: 0.7 (High)
% Rationale: Alternative regulatory models or "permissionless" competition 
% are actively suppressed through licensing requirements and legal barriers.
domain_priors:suppression_score(regulatory_capture, 0.7).

% Enforcement: Requires active maintenance by lobbyists and government officials.
domain_priors:requires_active_enforcement(regulatory_capture).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(regulatory_capture, extractiveness, 0.8).
narrative_ontology:constraint_metric(regulatory_capture, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(regulatory_capture, industry_monopolists).
constraint_beneficiary(regulatory_capture, bureaucratic_elites).
constraint_victim(regulatory_capture, innovative_startups).
constraint_victim(regulatory_capture, general_consumers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PUBLIC CHOICE ECONOMIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer of political incentives)
   WHEN: historical (Viewing the long-term trend of state growth)
   WHERE: analytical (Observing from the outside)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the economist, capture is a Mountain. It is an inevitable outcome of 
   human incentives: concentrated interests have a high motivation to lobby, 
   while the public (diffuse interests) remains rationally ignorant.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    regulatory_capture,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE FORTUNE 500 LOBBYIST - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (Agent with rule-shaping power)
   WHEN: biographical (Achieving corporate targets over a career)
   WHERE: arbitrage (Can move between government and private sectors)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For the lobbyist, regulation is a Rope. It is a coordination mechanism to 
   "standardize" the industry in a way that just happens to favor their 
   firm's existing infrastructure, pulling up a wall against new entrants.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    regulatory_capture,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DISRUPTIVE ENTREPRENEUR - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Relative to the regulatory state)
   WHEN: immediate (Trying to launch a product today)
   WHERE: constrained (Cannot afford the legal fees to comply or lobby)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the innovator, capture is a Noose. They have a better, cheaper 
   solution, but the "safety" regulations (written by their competitors) 
   make it illegal to operate. The harder they try to compete, the more 
   the legal trap tightens.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    regulatory_capture,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(regulatory_capture_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(regulatory_capture, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(regulatory_capture, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(regulatory_capture, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(high_extraction_asymmetry) :-
    % Monopoly rents extract surplus from the public to the incumbent.
    domain_priors:base_extractiveness(regulatory_capture, E),
    E >= 0.7.

test(barrier_to_entry_noose) :-
    % Powerless agents with constrained exits should experience a Noose.
    constraint_indexing:constraint_classification(regulatory_capture, noose, context(individual_powerless, _, constrained, _)).

:- end_tests(regulatory_capture_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.8): Ranked high because this is a direct transfer of 
 * wealth from the many (consumers) to the few (incumbents) via price 
 * distortions.
 * 2. NOOSE VS ROPE: The distinction depends entirely on which side of the 
 * regulatory wall you sit. If you are the one holding the "compliance" 
 * standard, it's a Rope; if you are the one trying to climb it, it's a Noose.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    capture_reversibility,
    "Can a captured agency ever be 're-set' to neutral through internal reform, or is total institutional collapse the only exit?",
    resolution_mechanism("Comparative history of anti-trust and regulatory 'house-cleanings'"),
    impact("If Mountain: We must build parallel systems. If Rope: Reform is viable."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Decentralized Oversight (Blockchain/Public Ledger)
 * Viability: Theoretically prevents opaque lobbying.
 * Suppression: Extreme. Incumbent agencies reject transparent auditing 
 * as a threat to "national security" or "privacy."
 * * CONCLUSION:
 * The existence of technological alternatives that are legally suppressed 
 * confirms that regulatory capture is a Noose, not a natural Mountain.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_regulatory_capture].
 * 2. Multi-perspective: ?- multi_index_report(regulatory_capture).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: relativity_of_simultaneity
% ============================================================================
% Generated: January 17, 2026
% Model: Gemini 2.0 Flash
% Source: Relativity: The Special and General Theory by Albert Einstein (1920)
% ============================================================================

:- module(constraint_simultaneity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: relativity_of_simultaneity
 * human_readable: The Relativity of Simultaneity
 * domain: scientific/technological
 * temporal_scope: 1905 CE - Present
 * spatial_scope: Universal
 * * SUMMARY:
 * This constraint establishes that "simultaneity" is not an absolute property of 
 * the universe but is dependent on the motion of the reference body. 
 * Events that are simultaneous relative to an embankment are not simultaneous 
 * relative to a moving train.
 * * KEY AGENTS:
 * - Embankment Observer (M): The "stationary" agent who defines simultaneity 
 * by the meeting of light rays at a midpoint.
 * - Train Observer (M'): The "moving" agent who, by hastening toward one light 
 * beam and away from another, perceives a time sequence.
 * - The "Classical Physicist": The agent trapped in the "arbitrary" assumption 
 * that time has an absolute significance.
 * * NARRATIVE ARC:
 * Einstein identifies that the "conflict" between relativity and light propagation 
 * arises from a "tacitly assumed" absolute time. By analyzing the 
 * physical meaning of time, the constraint is shifted from an "absolute mountain" 
 * to a "relative coordinate".
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(relativity_of_simultaneity, 0, 10).
narrative_ontology:constraint_claim(relativity_of_simultaneity, mountain).

% Base extractiveness: 0.0
% Rationale: The law governs the flow of time for all observers equally; 
% there is no asymmetric "theft" of time, only a difference in measurement.
domain_priors:base_extractiveness(relativity_of_simultaneity, 0.0).

% Suppression score: 0.4
% Rationale: While not "punished," the alternative (absolute time) is deeply 
% "lodged in our habit of thought" and was "tacitly assumed" for centuries.
domain_priors:suppression_score(relativity_of_simultaneity, 0.4).

% Enforcement: Emerges naturally
% Rationale: It is a consequence of the constancy of light velocity.
domain_priors:emerges_naturally(relativity_of_simultaneity).

narrative_ontology:constraint_metric(relativity_of_simultaneity, extractiveness, 0.0).
narrative_ontology:constraint_metric(relativity_of_simultaneity, suppression_requirement, 0.0).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE COMMON OBSERVER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Subject to intuitive, everyday experience)
   WHEN: immediate (Local, daily observations)
   WHERE: trapped (Deeply lodged habits of thought )
   SCOPE: local (Low velocities where relativistic effects are invisible )
   
   WHY THIS CLASSIFICATION:
   For the common person, time appears as an absolute, unchangeable "Mountain." 
   The idea that events could be simultaneous for one but not another feels 
   "occult" or "mysterious".
   
   NARRATIVE EVIDENCE:
   "It had always tacitly been assumed in physics that the statement of time 
   had an absolute significance".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    relativity_of_simultaneity,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(relativity_of_simultaneity, S),
    S > 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TRAIN OBSERVER (M') - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (Participant in the experiment)
   WHEN: biographical (Duration of the "event" or experiment)
   WHERE: constrained (Bound to the reference body of the train )
   SCOPE: regional (Spanning the distance between flashes A and B )
   
   WHY THIS CLASSIFICATION:
   The observer M' is "constrained" by their motion. The constraint acts as a 
   "Noose" because it forces them to conclude that B happened before A, 
   directly contradicting the "truth" of the embankment observer.
   
   NARRATIVE EVIDENCE:
   "Observers who take the railway train as their reference-body must therefore 
   come to the conclusion that the lightning flash B took place earlier than 
   the lightning flash A".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    relativity_of_simultaneity,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :-
    % Classification logic
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE RELATIVISTIC PHYSICIST - Rope
   --------------------------------------------------------------------------
   
   WHO: analytical (The "conscientiously thoughtful physicist" )
   WHEN: historical (Long-term theoretical development)
   WHERE: mobile (Conceptual mobility through the Lorentz Transformation )
   SCOPE: global (Applies to the "universe as a whole" )
   
   WHY THIS CLASSIFICATION:
   The relativity of simultaneity is a "Rope"—a tool for coordination. It 
   allows the physicist to reconcile the Principle of Relativity with the Law 
   of Light, forming a "logically rigid theory".
   
   NARRATIVE EVIDENCE:
   "The dilemma... disappears... by systematically holding fast to both these 
   laws".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    relativity_of_simultaneity,
    rope,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(relativity_of_simultaneity, E),
    E == 0.0,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(relativity_of_simultaneity_tests).

/**
 * TEST 1: The Disappearance of Absolute Time
 * Demonstrates that moving from powerless/trapped to analytical/mobile 
 * changes the constraint from a Mountain to a Rope.
 */
test(multi_perspective_simultaneity) :-
    constraint_indexing:constraint_classification(relativity_of_simultaneity, mountain, 
        context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(relativity_of_simultaneity, rope, 
        context(analytical, historical, mobile, global)).

/**
 * TEST 2: Conflict Recognition
 * Demonstrates that the "moderate power" observer (M') experiences a "Noose" 
 * because their experience conflicts with another "truth" (M).
 */
test(noose_conflict) :-
    constraint_indexing:constraint_classification(relativity_of_simultaneity, noose, 
        context(individual_moderate, biographical, constrained, regional)).

:- end_tests(relativity_of_simultaneity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. SUPPRESSION SCORE (0.4): I rated this higher than the velocity of light 
 * because Einstein explicitly notes how "deeply lodged" the Euclidean/Newtonian 
 * view of time is in the human psyche. 
 * * 2. PERSPECTIVE 2 (Noose): In this context, "Noose" represents the 
 * perceptual "trap" where two observers are forced into mutually 
 * exclusive conclusions ("B before A" vs "Simultaneous").
 * * 3. ANALYTICAL MOBILITY: The physicist reaches "Rope" status not by 
 * changing the law, but by changing the coordinate system (Lorentz 
 * Transformation) to account for it.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Absolute Simultaneity (Newtonian) 
 * Viability: Historically dominant; matches "everyday life".
 * Suppression: Rejected because it is "incompatible" with the law of 
 * light propagation.
 * * CONCLUSION:
 * The "Rope" of relative simultaneity is chosen because the alternative 
 * (Absolute Time) creates a logical "Noose" for the laws of physics.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Multi-perspective: ?- multi_index_report(relativity_of_simultaneity).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: relativity_physical_invariance
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Einstein, A. (1920). Relativity: The Special and General Theory.
% ============================================================================

:- module(constraint_relativity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: relativity_physical_invariance
 * human_readable: General Relativity (The Spacetime Constraint)
 * domain: technological/scientific
 * temporal_scope: 1905-Present
 * spatial_scope: Universal
 * * SUMMARY:
 * Relativity describes the fundamental constraints of the universe: the 
 * constancy of the speed of light (Special Relativity) and the curvature 
 * of spacetime by matter/energy (General Relativity). It removes the 
 * "Noose" of absolute space and time, replacing it with a "Rope" of 
 * mathematical transformation.
 * * KEY AGENTS:
 * - The Observer: An agent in a specific reference body (e.g., a moving train).
 * - The Light Signal: The universal constant that limits information transfer.
 * - The Mass/Energy: The "institutional" force that dictates the geometry 
 * of the landscape.
 * * NARRATIVE ARC:
 * For centuries, humanity was trapped in the "Noose" of Newtonian Absolute 
 * Time. Einstein provided the "Rope" of the Lorentz Transformation and 
 * General Covariance, allowing us to coordinate observations across 
 * different frames. Ultimately, the curvature of spacetime remains the 
 * ultimate "Mountain" through which all matter must flow.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(relativity_physical_invariance, 0, 10).
narrative_ontology:constraint_claim(relativity_physical_invariance, mountain).

% Base extractiveness: Low (0.0). 
% Physics does not "extract" value in a social sense, but it limits 
% the "efficiency" of travel/communication.
domain_priors:base_extractiveness(relativity_physical_invariance, 0.0).

% Suppression: Low (0.1). 
% The laws are transparent and universal, though their effects are 
% "suppressed" from common sense by our low-velocity evolution.
domain_priors:suppression_score(relativity_physical_invariance, 0.1).

% Enforcement: Emerges naturally from the structure of the universe.
domain_priors:emerges_naturally(relativity_physical_invariance).

% Beneficiaries: GPS Satellites, Cosmologists.
constraint_beneficiary(relativity_physical_invariance, high_precision_technology).

% Victims: The Newtonian "Common Sense" Intuition.
constraint_victim(relativity_physical_invariance, intuitive_classical_physics).

% Metrics
narrative_ontology:constraint_metric(relativity_physical_invariance, extractiveness, 0.0).
narrative_ontology:constraint_metric(relativity_physical_invariance, suppression_requirement, 0.1).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE TRAVELLING OBSERVER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (subject to $c$)
   WHEN: immediate (relativistic speeds)
   WHERE: trapped (within the light cone)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For an agent attempting to exceed the speed of light, Relativity is a 
   "Noose." No amount of energy can pull the agent out of their local 
   light cone. Causality strangles the possibility of FTL communication.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    relativity_physical_invariance,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COORDINATING SCIENTIST - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile (can transform between frames)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   To the scientist, the Principle of Relativity is a "Rope." It provides 
   the coordination equations (Lorentz transformations) that allow 
   agreement between two observers moving at different velocities. It 
   turns chaos into a synchronized "Match."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    relativity_physical_invariance,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE COSMOS - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical (civilizational)
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   General Relativity describes the "Mountain" of spacetime curvature. 
   Matter tells space how to curve; space tells matter how to move. This 
   is the immutable geometry of existence.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    relativity_physical_invariance,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(relativity_tests).

test(equivalence_principle_check) :-
    % Testing that gravity and acceleration are indistinguishable (Equivalence).
    % In this system, that means they share the same classification.
    constraint_indexing:constraint_classification(relativity_physical_invariance, mountain, _).

test(simultaneity_gap) :-
    % Testing that different observers (Powerless/Trapped) cannot agree on 
    % a single 'Noose' of time.
    true.

:- end_tests(relativity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * I classified the speed of light as the primary "Noose" for FTL travel, 
 * while treating the Principle of Relativity itself as a "Rope" for 
 * intellectual coordination. The "Mountain" is the field equations.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    quantum_gravity_unification,
    "Will a 'Theory of Everything' reveal Relativity as a mere Rope, or is it a permanent Mountain?",
    resolution_mechanism("Experimental detection of gravitons or discovery of String Theory/Loop Quantum Gravity proof"),
    impact("If Unified: Relativity becomes a 'Local Rope' within a larger Quantum Mountain."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: tcp_rfc9293_interoperability
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 2.0 Flash
% Source: RFC 9293 - Transmission Control Protocol (TCP)
% ============================================================================

:- module(tcp_rfc9293_interoperability, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor for Python extraction
narrative_ontology:interval(tcp_rfc9293_interoperability, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: tcp_rfc9293_interoperability
 * human_readable: TCP Interoperability & Reliability Requirements
 * domain: technological
 * temporal_scope: Decades (Modern Internet era)
 * * SUMMARY:
 * RFC 9293 codifies the requirements for TCP. While often perceived as a 
 * "natural law" of the internet (a Mountain), it is actually a strictly 
 * enforced coordination mechanism. The "interoperability" requirement 
 * ensures that any implementation MUST follow the state machine and 
 * header rules, or be actively "cut" from the network via Reset (RST) segments.
 * * KEY AGENTS:
 * - IETF (Institutional): The rule-maker.
 * - Application Developer (Moderate): Must implement the "MUSTs".
 * - Network Application (Powerless): Trapped by the host's stack logic.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Refining the "False Mountain")
   ========================================================================== */

% Base extractiveness: 0.2. 
% (Header overhead, TCB memory, and processing "tax" for reliability).
domain_priors:base_extractiveness(tcp_rfc9293_interoperability, 0.2).

% Suppression: 0.7. 
% High suppression of alternative behaviors. Middleboxes and stacks 
% actively drop or reset non-conformant packets.
domain_priors:suppression_score(tcp_rfc9293_interoperability, 0.7).

% Active Enforcement: YES.
% The protocol enforces itself through state-mismatch RSTs and timeouts.
domain_priors:requires_active_enforcement(tcp_rfc9293_interoperability).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Network Application - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   EXIT: trapped
   
   WHY: For an application, TCP is a Noose. It cannot change the 
   3-way handshake or the TIME-WAIT delay. It is "trapped" within the 
   OS implementation's strict adherence to RFC 9293. If the app tries 
   to ignore the state machine, the connection is killed.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tcp_rfc9293_interoperability,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: IETF / Protocol Architect - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: historical
   EXIT: mobile
   
   WHY: To the IETF, the RFC is a Rope—a tool designed to tie disparate 
   systems together into a functional whole. They have the power to 
   update (Obsolete RFC 793) or extend (TCP Fast Open) the constraint.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tcp_rfc9293_interoperability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: OS Stack Developer - Noose
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   EXIT: constrained
   
   WHY: The developer is "noosed" by the legacy of the wire image. 
   Even minor deviations from the state machine (Section 3.10) create 
   interoperability failures that are blamed on the developer.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tcp_rfc9293_interoperability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(tcp_interop_v2_tests).

test(perspectival_gap) :-
    % Validation of the "Rope/Noose" gap between IETF and User
    constraint_indexing:constraint_classification(tcp_rfc9293_interoperability, noose, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(tcp_rfc9293_interoperability, rope, context(agent_power(institutional), _, _, _)).

test(enforcement_check) :-
    % If active enforcement is required, the constraint cannot be a Mountain.
    domain_priors:requires_active_enforcement(tcp_rfc9293_interoperability),
    \+ constraint_indexing:constraint_classification(tcp_rfc9293_interoperability, mountain, _).

:- end_tests(tcp_interop_v2_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================= */

/**
 * LLM REFINEMENT NOTES:
 * 1. Resolved "Type 1 False Mountain": 
 * Previous versions incorrectly labeled the protocol a "Mountain" for 
 * applications. While apps perceive it as unchangeable, the existence 
 * of RST mechanisms and IETF updates proves it is an institutionally 
 * maintained "Noose" or "Rope".
 * 2. Module Uniqueness:
 * Module name set to 'tcp_rfc9293_interoperability' to avoid 
 * collision with tax code test sets.
 * 3. Perspectival Coverage:
 * Provided required classifications for both individual_powerless 
 * and institutional agents.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * THE "POST-TCP" REALITY (QUIC):
 * UDP-based protocols like QUIC attempt to turn the TCP "Noose" back 
 * into a "Rope" for developers by moving the state machine into 
 * user-space. This allows for faster evolution, effectively 
 * shifting the exit_options from 'constrained' to 'mobile'.
 */

% ============================================================================
% END OF CONSTRAINT STORY
% ============================================================================



% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(rfc9293_interoperability, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(rfc9293_interoperability, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(rfc9293_interoperability, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: tcp_state_machine_logic
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 2.0 Flash
% Source: RFC 9293 - Transmission Control Protocol (TCP)
% ============================================================================

:- module(tcp_state_machine_logic, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor
narrative_ontology:interval(tcp_state_machine_logic, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: tcp_state_machine_logic
 * human_readable: TCP State Machine Constraints
 * domain: technological
 * temporal_scope: Connection-lifetime (milliseconds to hours) 
 * spatial_scope: Local (endpoint logic) 
 * * SUMMARY:
 * The TCP state machine governs the lifecycle of a connection, from initial 
 * handshake (SYN) to termination (FIN/TIME-WAIT). It enforces 
 * strict transition rules that ensure both peers remain synchronized despite 
 * network delays or reboots.
 * * KEY AGENTS:
 * - Stack Developer: Must implement transitions for 11 distinct states.
 * - Peer A (Active): Initiates connections via SYN-SENT.
 * - Peer B (Passive): Waits in LISTEN to accept requests.
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

% Base extractiveness: 0.2 (Moderate overhead). 
% Requires memory for Transmission Control Blocks (TCBs) even in idle states.
domain_priors:base_extractiveness(tcp_state_machine_logic, 0.2).

% Suppression: 0.6 (High). 
% Deviating from the state machine (e.g., ignoring a FIN) leads to "half-open" 
% connections and potential resource exhaustion.
domain_priors:suppression_score(tcp_state_machine_logic, 0.6).

% Active Enforcement: The protocol enforces itself through Resets (RST).
% Arriving segments that don't match the current state elicit an RST to 
% "kill" the non-conformant connection.
domain_priors:requires_active_enforcement(tcp_state_machine_logic).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE: Stack Developer - Noose
   --------------------------------------------------------------------------
   WHO: individual_moderate - Responsible for correct implementation.
   WHEN: biographical - Years spent maintaining/debugging kernel code.
   WHERE: constrained - The "wire image" of TCP is frozen; changes are hard.
   
   WHY: It acts as a Noose because of the complexity involved in 
   "Anomaly" states like Simultaneous Open or Half-Open connections. 
   Failure to handle a rare transition (e.g., RST in SYN-RECEIVED) can 
   lead to system hangs or security vulnerabilities.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tcp_state_machine_logic,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE: Institutional (IETF) - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Governing body of the standard.
   WHEN: historical - 40+ year protocol stability.
   
   WHY: The state machine is a Rope that provides a common language 
   for diverse machines (from IoT sensors to supercomputers) to 
   coordinate reliable data transfer.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tcp_state_machine_logic,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE: Automated Scanner/Script - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - No ability to modify the host's logic.
   WHEN: immediate - Execution time.
   
   WHY: To a script, the state machine is an unyielding Mountain. 
   If a port is in LISTEN, it behaves exactly according to Section 3.10.7.2. 
   There is no "negotiation"—only the law of the RFC.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tcp_state_machine_logic,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(tcp_state_tests).

test(state_persistence_overhead) :-
    % TIME-WAIT state is a 2*MSL "Noose" that consumes resources after 
    % a connection is closed to prevent old duplicate segments.
    assertion(true).

test(synchronization_rope) :-
    % The 3-Way Handshake (3WHS) is the core "Rope" mechanism 
    % to prevent confusion from old duplicate initiations.
    assertion(true).

:- end_tests(tcp_state_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================= */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. CLASSIFIED AS NOOSE FOR DEVELOPERS:
 * RFC 9293 Section 3.10 is 15+ pages of event processing logic. 
 * Missing a single "if state is X" check results in non-conformance.
 * 2. CLASSIFIED AS MOUNTAIN FOR USERS:
 * The "Quiet Time" concept (delaying segments for 2 minutes after a reboot) 
 * is an unalterable physical-like constraint for older/strict stacks.
 * * AMBIGUITIES:
 * - RFC 9293 notes the "CLOSED" state is fictional because there is no 
 * TCB. I've modeled it as the "Ground" from which 
 * constraints emerge.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. T/TCP (RFC 1644): Accelerated the handshake. 
 * Status: Historically useful but raised security concerns.
 * 2. TCP Fast Open (TFO): Allows data in the SYN segment.
 * Constraint Effect: Loosens the "Mountain" of the 3WHS for performance.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(rfc9293_state_machine, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(rfc9293_state_machine, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(rfc9293_state_machine, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: rices_theorem_undecidability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Henry Gordon Rice (1953) / Computability Theory
% ============================================================================

:- module(constraint_rices_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: rices_theorem_undecidability
 * human_readable: Rice's Theorem (Undecidability of Semantic Properties)
 * domain: technological/mathematical
 * temporal_scope: 1953 - Present
 * spatial_scope: Global/Abstract (Universal Computation)
 * * SUMMARY:
 * Rice's Theorem is a fundamental result in computability theory stating that 
 * any non-trivial semantic property of a program (the language recognized by 
 * a Turing machine) is undecidable. This means it is logically impossible to 
 * create a general-purpose tool that can determine behavioral traits of code, 
 * such as "will this program ever crash?" or "is this code malicious?".
 * * KEY AGENTS:
 * - The Turing Machine (Subject): The powerless agent whose behavioral 
 * properties remain fundamentally shrouded from external automated judgment.
 * - The Software Verifier: An institutional agent attempting to coordinate 
 * system safety, for whom the theorem is a functional boundary.
 * - The Malware Analyst: An individual moderate agent who is "strangled" by 
 * the impossibility of a perfect automated detection tool.
 * * NARRATIVE ARC:
 * Rice's Theorem functions as a "Mountain" of logical reality—a wall that 
 * defines the limits of what machines can know about each other. In 
 * professional software engineering, it is a "Rope" for coordination, 
 * allowing developers to accept "heuristic" analysis as the standard of 
 * achievement. However, in cybersecurity, it is a "Noose" that extracts 
 * massive human labor and capital to perform manual audits that the 
 * "Mountain" prevents from being automated.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for Python extraction
narrative_ontology:interval(rices_era, 1953, 2026).
narrative_ontology:constraint_claim(rices_theorem_undecidability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.15. While a mathematical truth, it "extracts" the possibility 
% of absolute automated correctness, forcing a permanent tax of human oversight.
domain_priors:base_extractiveness(rices_theorem_undecidability, 0.15).

% Suppression score (0.0-1.0)
% Rationale: 0.2. It suppresses the hope for "Perfect Verification" tools, 
% rendering them logically impossible and thus functionally invisible.
domain_priors:suppression_score(rices_theorem_undecidability, 0.2).

% Enforcement: Emerges naturally from the logic of the Halting Problem.
domain_priors:emerges_naturally(rices_theorem_undecidability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(rices_theorem_undecidability, extractiveness, 0.15).
narrative_ontology:constraint_metric(rices_theorem_undecidability, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(rices_theorem_undecidability, complexity_theorists). % Intellectual stability.
constraint_victim(rices_theorem_undecidability, automated_security_vendors). % Cannot deliver "perfect" results.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EXECUTING PROGRAM - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The program cannot "show" its property to a decider.
   WHEN: immediate - The limit is true for any single execution or analysis.
   WHERE: trapped - Bound by the laws of recursive enumerability.
   SCOPE: local - Immediate neighborhood of the code logic.
   
   WHY THIS CLASSIFICATION:
   For the code itself, the inability for an external algorithm to classify 
   its non-trivial behavior is a natural law. It is an unyielding Mountain; 
   there are zero degrees of freedom where a "perfect decider" could exist.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    rices_theorem_undecidability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE STATIC ANALYSIS ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define what "Safe" code looks like via Linters.
   WHEN: biographical - Planning the lifecycle of a codebase or language.
   WHERE: mobile - Can choose different subsets of decidable properties to check.
   SCOPE: global - Universal application in software development.
   
   WHY THIS CLASSIFICATION:
   For the architect, Rice's Theorem is a "Rope"—a functional coordination 
   mechanism. It provides the "standard of achievement" that justifies why 
   compilers only give "warnings" or "potential errors." It coordinates the 
   industry's expectations around the fact that perfect proofs are not the goal.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rices_theorem_undecidability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CYBER DEFENSE ENGINEER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools to analyze but is bound by the theorem.
   WHEN: immediate - Every piece of malware is a new instance of the "Noose."
   WHERE: constrained - Forced to use imperfect heuristics (AV/EDR).
   SCOPE: national - Protecting state infrastructure.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the theorem acts as a "Noose." It "strangles" their 
   ability to provide 100% security. It extracts massive cycles of human 
   analysis (extraction) because the "Mountain" of Rice's Theorem means 
   every new behavioral trait must be manually verified or guessed.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rices_theorem_undecidability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- 
    domain_priors:base_extractiveness(rices_theorem_undecidability, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(rices_theorem_undecidability_tests).

test(multi_perspective_variance) :-
    % Code -> Mountain
    constraint_indexing:constraint_classification(rices_theorem_undecidability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(rices_theorem_undecidability, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(extraction_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, mobile, global),
    constraint_indexing:extractiveness_for_agent(rices_theorem_undecidability, ContextPowerless, S1),
    constraint_indexing:extractiveness_for_agent(rices_theorem_undecidability, ContextPowerful, S2),
    S1 > S2.

test(natural_emergence) :-
    domain_priors:emerges_naturally(rices_theorem_undecidability).

:- end_tests(rices_theorem_undecidability_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.15):
 * Reasoning: It is low because it is an abstract law of logic, but not zero 
 * because it creates an "Impossibility Tax" on security.
 * * 2. CLASSIFICATION RATIONALE:
 * Chose Code (Subject), Linter Designer (Utility), and Security Analyst 
 * (Victim) to highlight the gap between "Logic" and "Praxis."
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the uncertainty of "Heuristic Completeness"—can AI 
 * effectively turn this Noose back into a Rope by guessing correctly 
 * 99.9% of the time?
 */

% YOUR OMEGAS HERE:
omega_variable(
    heuristic_asymptotic_completeness,
    "Will Large Language Models or Neural Verifiers provide 99.9% behavioral detection?",
    resolution_mechanism("Audit of false-positive rates in AI-driven static analysis across 10 years."),
    impact("If Yes: The Noose is functionally a Rope. If No: The Noose remains a Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Domain-Specific Languages (DSLs) with Restricted Logic
 * Viability: By using languages that are NOT Turing-complete (e.g., SQL, regex), 
 * Rice's Theorem no longer applies, and properties become decidable.
 * Suppression: Often rejected for general-purpose programming due to lack 
 * of power, but a vital "Rope" for high-security sub-systems.
 * * ALTERNATIVE 2: Proof-Carrying Code
 * Viability: The code comes with a proof of its properties.
 * Suppression: High "extraction" of developer labor makes it rare in 
 * commercial industry.
 * * CONCLUSION:
 * The existence of DSLs (Alternative 1) proves that Rice's Theorem is a 
 * "Mountain" only if we choose the "Rope" of Turing-completeness.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_rices_theorem].
 * 2. Multi-perspective: ?- multi_index_report(rices_theorem_undecidability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: rogers_commission_institutional_analysis
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Report of the Presidential Commission on the Space Shuttle Challenger Accident (Rogers Commission)
% ============================================================================

:- module(constraint_rogers_commission_analysis, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: rogers_commission_institutional_analysis
 * human_readable: The Silent Safety Silo (NASA Decision-Making)
 * domain: political/technological
 * temporal_scope: 1985-1986
 * spatial_scope: National (USA)
 * * SUMMARY:
 * The Rogers Commission identified a "silent safety" constraint where critical 
 * technical data regarding O-ring erosion was filtered out before reaching 
 * top-level NASA management. This institutional silo created a 
 * false perception of safety, treating known technical flaws as "acceptable 
 * flight risks" rather than terminal threats.
 * * KEY AGENTS:
 * - Field Engineers (Thiokol): Individual powerless; possessed the data but lacked 
 * the institutional authority to stop the launch.
 * - NASA Marshall Center Management: Institutional; enforced the operational 
 * tempo and suppressed dissenting technical reports.
 * - The Commission (Analytical): The retrospective body identifying the 
 * structural "failure of communication".
 * * NARRATIVE ARC:
 * The pressure to maintain a rigorous launch schedule (the "Operational 
 * Milestone") functioned as a Noose. It extracted engineering integrity 
 * and safety margins in favor of institutional prestige, culminating in the 
 * catastrophic loss of the Challenger.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(challenger_post_mortem, 0, 10).
narrative_ontology:constraint_claim(rogers_commission_institutional_analysis, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.85. The system extracted human life and the survival of the 
% shuttle program to feed the "operational" reputation of NASA.
domain_priors:base_extractiveness(rogers_commission_institutional_analysis, 0.85).

% Suppression score (0.0-1.0)
% Rationale: 0.75. The Commission found that critical information about 
% previous O-ring erosion was not communicated to the highest levels, 
% effectively suppressing alternative risk assessments.
domain_priors:suppression_score(rogers_commission_institutional_analysis, 0.75).

% Enforcement requirements
% Requires active enforcement (Management "Launch Fever" and the marginalization 
% of the safety reporting structure).
domain_priors:requires_active_enforcement(rogers_commission_institutional_analysis).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(rogers_commission_institutional_analysis, extractiveness, 0.85).
narrative_ontology:constraint_metric(rogers_commission_institutional_analysis, suppression_requirement, 0.75).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(rogers_commission_institutional_analysis, institutional_launch_tempo).
constraint_victim(rogers_commission_institutional_analysis, engineering_truth).
constraint_victim(rogers_commission_institutional_analysis, crew_safety).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: FIELD ENGINEER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the reporting structure and the 
         unyielding "burden of proof" required to stop a launch.
   WHEN: immediate - Focused on the specific cold-weather launch window.
   WHERE: trapped - Could only voice concerns through the very managers 
         pressuring for a launch.
   SCOPE: local - Specific joint hardware and seal dynamics.
   
   WHY THIS CLASSIFICATION:
   To the engineers like Boisjoly, the "Mountain" was the physical reality 
   of material science (O-ring resiliency). However, the institutional 
   process made their data invisible, meaning the "Mountain" was not 
   perceived by the decision-makers until the moment of impact.
   
   NARRATIVE EVIDENCE:
   "The Commission concluded that Thiokol management reversed its position... 
   at the urging of NASA and contrary to the views of its engineers".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rogers_commission_institutional_analysis,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(rogers_commission_institutional_analysis),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: NASA LEVEL I/II MGMT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Authorized to set launch criteria and safety norms.
   WHEN: biographical - Careers built on the Shuttle program's perceived reliability.
   WHERE: mobile - Had the capacity to alter the schedule but chose a 
         "can-do" coordination approach.
   SCOPE: national - Managing the premiere US space asset.
   
   WHY THIS CLASSIFICATION:
   Management viewed the O-ring erosion history as a "Rope"—a manageable 
   technical anomaly that had been "normalized" through successful flights. 
   They believed they were coordinating a complex system towards a necessary 
   milestone.
   
   NARRATIVE EVIDENCE:
   "NASA continued a pattern of flying with a known technical problem... 
   accepting the risk rather than correcting it".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rogers_commission_institutional_analysis,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(rogers_commission_institutional_analysis, E),
    E > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: ROGERS COMMISSION (RECAP) - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Independent observers tasked with finding the "flaw".
   WHEN: historical - Determining the long-term impact on the space program.
   WHERE: analytical - Not bound by the internal culture of NASA.
   SCOPE: global - A cautionary tale for all high-reliability organizations.
   
   WHY THIS CLASSIFICATION:
   The Commission's final judgment identifies the system as a Noose. By 
   isolating top-level management from technical dissent, the institutional 
   structure "choked off" the very safety data it was designed to ingest, 
   rendering the disaster inevitable.
   
   NARRATIVE EVIDENCE:
   "The Commission is troubled that... critical information was not shared... 
   representing a serious flaw in the decision-making process".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rogers_commission_institutional_analysis,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(rogers_commission_institutional_analysis, S),
    S > 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(rogers_commission_tests).

test(multi_perspective_gap_detection) :-
    % Verify that the Engineer sees a Mountain while Management sees a Rope
    constraint_indexing:constraint_classification(rogers_commission_institutional_analysis, Type1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(rogers_commission_institutional_analysis, Type2, context(institutional, biographical, mobile, national)),
    Type1 \= Type2.

test(high_extraction_audit) :-
    % Audit should trigger high alert for extraction/suppression
    domain_priors:base_extractiveness(rogers_commission_institutional_analysis, E),
    E > 0.8.

:- end_tests(rogers_commission_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. SUPPRESSION SCORE (0.75): High because the report explicitly notes 
 * that the communication system "failed" to provide the required data to 
 * those at the top. 
 * 2. CLASSIFICATION: Labeled primarily as a 'Noose' because the extraction 
 * (loss of life) and the active marginalization of safety engineers created 
 * a terminal feedback loop.
 */

omega_variable(
    institutional_memory_persistence,
    "Can a Noose-type organizational structure ever truly be reformed into a Rope without a total purge of leadership?",
    resolution_mechanism("Longitudinal study of NASA cultural shifts post-Challenger vs. the Columbia 2003 disaster"),
    impact("If Yes: Cultural reform is a Rope. If No: Institutional failure is a generational Mountain."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Independent Safety Reporting Line
 * Viability: Proposed by engineers but rejected/marginalized by Center 
 * management to avoid launch delays.
 * Suppression: Actively suppressed by requiring "proof" that it was 
 * UNSAFE to fly, rather than requiring proof that it was SAFE.
 * * CONCLUSION:
 * The reversal of the "burden of proof" is the definitive signature of an 
 * extractive Noose.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [rogers_commission_institutional_analysis].
% 2. Analyze: ?- multi_index_report(rogers_commission_institutional_analysis).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: black_soil_toxicity
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 2.0 Flash
% Source: "Rotation Seven" narrative
% ============================================================================

:- module(black_soil_toxicity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor for indexing
narrative_ontology:interval(black_soil_toxicity, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: black_soil_toxicity
 * human_readable: Toxic Biological Effects of R7 Black Soil
 * domain: biological_environmental
 * temporal_scope: Biographical (years of accumulation)
 * spatial_scope: Rotation Seven Station Greenhouse
 * * SUMMARY:
 * The black soil in Section 7-B contains toxins that lead to kidney failure 
 * and death. While the station's protocols (Nooses) manage how children 
 * interact with the soil, the soil's actual biological effect on the human 
 * body is an unchangeable physical reality.
 * * KEY AGENTS:
 * - Anna (Powerless): Exposed to the soil; her body is the site of the constraint.
 * - Supervisor Kwan (Institutional): Cannot "manage" the toxin away; can only 
 * manage the victims.
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

% Base extractiveness: 0.95 (Extreme).
% It extracts the vital organs (kidneys) and eventually the entire life of 
% the agent.
domain_priors:base_extractiveness(black_soil_toxicity, 0.95).

% Suppression: 0.1 (Low).
% It is not a rule being "hidden"; it is a physical fact that manifests in 
% dark urine and yellow skin.
domain_priors:suppression_score(black_soil_toxicity, 0.1).

% Active Enforcement: NO.
% No one "enforces" the kidney failure. It is a biological consequence that 
% happens automatically upon exposure.
domain_priors:requires_active_enforcement(black_soil_toxicity) :- fail.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE: ALL AGENTS - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless / institutional
   WHEN: immediate / biographical
   EXIT: trapped
   
   WHY: Toxicity is a Mountain because there are zero degrees of freedom. 
   Anna cannot "negotiate" with her enzyme levels, and Kwan cannot 
   reprogram the toxin's chemical signature. It is the 
   unchangeable ground upon which the station's tragedies are built.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    black_soil_toxicity,
    mountain,
    context(
        agent_power(_),
        time_horizon(_),
        exit_options(trapped),
        spatial_scope(_)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: HIGH COMMAND (STRATEGIC) - Rope
   --------------------------------------------------------------------------
   WHO: agent_power(institutional) - High Command managing population flow.
   WHEN: biographical - Planning the multi-year abandonment of Sector 7.
   WHERE: arbitrage - Managing resource balance between Sectors 7 and 1.
   SCOPE: continental - The survival of the entire colony architecture.
   
   WHY THIS CLASSIFICATION:
   High Command uses the "Black Soil" crisis as a Rope. It is a coordination 
   tool that justifies the "Mandatrophic" necessity of urban migration. By 
   framing the depletion as absolute, they pull the populace into a more 
   legible, efficient, and taxable urban core in Sector 1.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rotation_seven_black_soil,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(continental)
    )
) :-
    domain_priors:requires_active_enforcement(rotation_seven_black_soil),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: SECTOR 7 AGRARIANS (RESIDENTS) - Noose
   --------------------------------------------------------------------------
   WHO: agent_power(individual_powerless) - Those whose margin has collapsed.
   WHEN: immediate - The current harvest failure and impending hunger.
   WHERE: trapped - Bound by the soil they can no longer farm.
   SCOPE: local - Their home, community, and immediate survival.
   
   WHY THIS CLASSIFICATION:
   For the residents, the black soil is a Noose. The depletion is not a 
   "strategic opportunity" but an extractive trap that has consumed their 
   autonomy. With a suppression of alternative food sources (0.8) and 
   existential stakes (0.9), they have no exit but the state's migration 
   mandate.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rotation_seven_black_soil,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    !.

% Explicit priors reflecting the high extraction of the "Black Soil" crisis.
domain_priors:base_extractiveness(rotation_seven_black_soil, 0.8).
domain_priors:suppression_score(rotation_seven_black_soil, 0.8).

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(black_soil_tests).

test(universal_mountain_status) :-
    % Unlike the Kubo Noose, this is a Mountain for the powerful (Kwan) 
    % and the powerless (Anna).
    constraint_indexing:constraint_classification(black_soil_toxicity, mountain, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(black_soil_toxicity, mountain, context(agent_power(individual_powerless), _, _, _)).

test(zero_enforcement_constraint) :-
    % A true Mountain does not require a guard to make it work.
    \+ domain_priors:requires_active_enforcement(black_soil_toxicity).

:- end_tests(black_soil_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================= */

/**
 * LLM GENERATION NOTES:
 * 1. CLASSIFICATION AS MOUNTAIN:
 * This is a "True Mountain." While the *rules* about who touches the soil 
 * are Nooses, the *toxin itself* is the physical ceiling of the 
 * environment. It lacks the "Type 1 False Mountain" signature because 
 * it requires zero active enforcement to kill.
 * 2. EXTRACTIVENESS:
 * Set to 0.95 because it extracts the physical substrate of agency 
 * (the biological body).
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * THE ONLY ALTERNATIVE:
 * The only "exit" from this Mountain is physical: leaving the station 
 * or finding a cure. Since "Rotation Seven" implies no one ever returns 
 * and dialysis "can't be done here," the exit option is 'trapped'.
 */

% ============================================================================
% END OF CONSTRAINT STORY
% ============================================================================


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(rotation_seven_black_soil, mountain, agent_power(analytical)).
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: protocol_r7_isolation (REFINED v2.0)
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 2.0 Flash
% Source: "Rotation Seven" narrative
% ============================================================================

:- module(protocol_r7_isolation_v2, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor
narrative_ontology:interval(protocol_r7_isolation, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: protocol_r7_isolation
 * human_readable: R7 Medical Isolation Protocol
 * domain: political_technological
 * temporal_scope: Rotation Era
 * spatial_scope: Rotation Seven Station
 * * SUMMARY:
 * The R7 Protocol enforces the immediate removal and isolation of "flagged" 
 * individuals. While it presents itself as an unchangeable safety necessity 
 * (Mountain), it is a highly enforced, extractive mechanism (Noose) that 
 * removes social "friction" by erasing the sick from the station's population. 
 * * KEY AGENTS:
 * - Anna (Powerless): The subject being "extracted."
 * - Nurse Chen (Institutional): The enforcer maintaining the "Rope" of safety.
 * - Rina (Analytical): The observer who identifies the "Noose."
 */

/* ==========================================================================
   2. BASE PROPERTIES (Refined per Audit)
   ========================================================================== */

% Base extractiveness: 0.85 (Severe asymmetry)
% It extracts a human life/social unit and replaces it with a new "reassignment" 
% within 6 hours. 
domain_priors:base_extractiveness(protocol_r7_isolation, 0.85).

% Suppression: 0.70 (High)
% Alternatives (onsite care) are suppressed by claims of impossibility. 
domain_priors:suppression_score(protocol_r7_isolation, 0.70).

% Enforcement: Requires active maintenance.
% Requires card-swipes, isolation wards, and wristband monitoring. 
domain_priors:requires_active_enforcement(protocol_r7_isolation).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: ANNA - Noose (False Mountain)
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   
   WHY THIS CLASSIFICATION:
   Anna perceives a "Mountain" because the protocol is unyielding, but 
   structurally it is a Noose. She is trapped by active enforcement 
   (locked doors) and extractiveness (her removal). The "Mountain" 
   appearance is a byproduct of her total lack of power.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    protocol_r7_isolation,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: NURSE CHEN - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: historical
   WHERE: constrained
   
   WHY THIS CLASSIFICATION:
   To Chen, the protocol is a functional "Rope" used to coordinate 
   station-wide health. She views the extraction of the sick as 
   necessary for the survival of the collective. 
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    protocol_r7_isolation,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: RINA - Noose
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: biographical
   WHERE: trapped
   
   WHY THIS CLASSIFICATION:
   Rina's analysis identifies the "Noose" signature: high extractiveness 
   masked by a narrative of necessity. She sees the "erasure" of Anna 
   as a coercive act of the station's logic. 
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    protocol_r7_isolation,
    noose,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER (SPATIAL ANALYST) - Mountain
   --------------------------------------------------------------------------
   WHO: agent_power(analytical) - Observes the unyielding physical geometry.
   WHEN: generational - The sector's architectural layout is permanent.
   WHERE: trapped - The physical radius defines the limits of movement.
   SCOPE: local - The immediate spatial environment of the 7th sector.
   
   WHY THIS CLASSIFICATION:
   The "Mountain" is the physical geometry of isolation. The distance 
   between nodes and the hardware limits on communication bandwidth are 
   immutable facts of the Sector 7 terrain. While residents feel this as 
   a Noose and Command uses it as a Rope for control, the analyst 
   recognizes it as an unchangeable structural invariant: the sector 
   is physically designed for low-concurrency interaction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rotation_seven_isolation,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(rotation_seven_isolation),
    !.

% Explicit priors reflecting the rigid, unyielding nature of spatial isolation.
domain_priors:base_extractiveness(rotation_seven_isolation, 0.4).
domain_priors:suppression_score(rotation_seven_isolation, 0.3).

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(protocol_r7_v2_tests).

test(false_mountain_resolution) :-
    % Powerless agents see it as a Noose, not a Mountain, 
    % due to active enforcement.
    domain_priors:requires_active_enforcement(protocol_r7_isolation),
    constraint_indexing:constraint_classification(protocol_r7_isolation, noose, context(agent_power(individual_powerless), _, _, _)).

test(perspectival_gap) :-
    % Validation: Institutional sees Rope, Powerless sees Noose.
    constraint_indexing:constraint_classification(protocol_r7_isolation, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(protocol_r7_isolation, noose, context(agent_power(individual_powerless), _, _, _)).

:- end_tests(protocol_r7_v2_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================= */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. FIXED TYPE 1 FALSE MOUNTAIN: Anna's perspective is now correctly 
 * mapped to 'noose'. The subjective "unyieldingness" is treated as 
 * a psychological effect of the Noose's suppression.
 * 2. MODULE UNIQUENESS: Module name set to 'protocol_r7_isolation_v2' 
 * to avoid collisions with historical tax test sets.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * CONCLUSION:
 * The protocol’s status as a "Noose" is confirmed by the immediate 
 * reassignment of Anna's bunk space. A "Rope" (true coordination) 
 * would seek to maintain the social unit; the R7 Noose seeks only 
 * to maintain the station's biological metrics. 
 */

% ============================================================================
% END OF CONSTRAINT STORY
% ============================================================================



% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(rotation_seven_isolation, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(rotation_seven_isolation, noose, agent_power(individual_powerless)).
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: rotation_seven_kubo_ranking (REFINED v2.0)
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 2.0 Flash
% Source: "Rotation Seven" narrative
% ============================================================================

:- module(kubo_ranking_system_v2, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor
narrative_ontology:interval(kubo_ranking_system_r7, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: kubo_ranking_system_r7
 * human_readable: Kubo Credit and Ranking System
 * domain: economic_social
 * * SUMMARY:
 * The Kubo system is a gamified labor-extraction mechanism. It presents 
 * a "ladder" of advancement to children on the R7 station, rewarding 
 * agricultural output with "colored plastic" credits. While it appears 
 * as an unchangeable reality to the children (a False Mountain), it is 
 * an institutionally maintained Noose designed to extract maximum labor 
 * while suppressing awareness of the health costs (kidney failure).
 * * KEY AGENTS:
 * - Rina/Anna (Powerless): Subjects who initially "believe" in the ladder.
 * - Supervisor Kwan (Institutional): Manager who uses the system as a tool (Rope).
 * - The Station Logic (Systemic): The beneficiary of the labor extraction.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Refined per Audit)
   ========================================================================== */

% Base extractiveness: 0.75 (High).
% Essential agricultural labor and biological health are exchanged for 
% non-essential "credits" and minor privileges.
domain_priors:base_extractiveness(kubo_ranking_system_r7, 0.75).

% Suppression: 0.90 (Extreme).
% Total enclosure. No memory of Earth. Alternatives are non-existent 
% in the conceptual field of the children.
domain_priors:suppression_score(kubo_ranking_system_r7, 0.90).

% Enforcement: Requires active maintenance.
% Enforced via wristbands, medical isolation (R7), and Kwan's tablet.
domain_priors:requires_active_enforcement(kubo_ranking_system_r7).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: RINA (POWERLESS) - Noose (False Mountain)
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: biographical
   EXIT: trapped
   
   WHY: Rina initially treats the system as a Mountain ("The credits are real"), 
   but after Anna's "rotation," she recognizes it as a Noose. She sees 
   the extraction of Anna's life in exchange for a "gold rank" that was 
   just "colored plastic on a locked bracelet."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kubo_ranking_system_r7,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: SUPERVISOR KWAN - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: generational
   EXIT: constrained
   
   WHY: To Kwan, the system is a Rope—a functional coordination tool 
   to manage labor and ensure soil prep. He has the power to "adjust 
   rankings with a tablet tap."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kubo_ranking_system_r7,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: ANALYTICAL OBSERVER - Noose
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   EXIT: analytical
   
   WHY: The observer sees the "Structural Signature": high extraction (0.75) 
   and active enforcement. The fact that the gold names "never come back" 
   reveals the system as a terminal coercive mechanism.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    kubo_ranking_system_r7,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER (ALGORITHMIC ANALYST) - Mountain
   --------------------------------------------------------------------------
   WHO: agent_power(analytical) - Observes the unyielding mathematical logic.
   WHEN: immediate - Rankings are updated in real-time by the system.
   WHERE: arbitrage - Managing the data flow within the sector network.
   SCOPE: local - The ranking logic is specific to the Sector 7 population.
   
   WHY THIS CLASSIFICATION:
   The "Mountain" is the Kubo Ranking algorithm. The sorting logic, the 
   weighted variables, and the zero-sum nature of the status hierarchy are 
   immutable facts of the Sector 7 digital terrain. While residents feel 
   this as a Noose and Command uses it as a Rope for behavioral control, 
   the analyst recognizes it as an unchangeable structural invariant: the 
   system is mathematically designed to produce a rigid social hierarchy.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rotation_seven_kubo_ranking,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(rotation_seven_kubo_ranking),
    !.

% Explicit priors reflecting the rigid, unyielding nature of the ranking logic.
domain_priors:base_extractiveness(rotation_seven_kubo_ranking, 0.3).
domain_priors:suppression_score(rotation_seven_kubo_ranking, 0.4).

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(kubo_v2_tests).

test(false_mountain_detection) :-
    % Despite high suppression making it LOOK like a mountain to Rina,
    % the system correctly classifies it as a Noose because it requires
    % active enforcement to exist.
    domain_priors:requires_active_enforcement(kubo_ranking_system_r7),
    constraint_indexing:constraint_classification(kubo_ranking_system_r7, noose, context(agent_power(individual_powerless), _, _, _)).

test(extraction_asymmetry) :-
    % Validation: Powerless experiences 0.75 extraction while manager sees low extraction.
    domain_priors:base_extractiveness(kubo_ranking_system_r7, E),
    E > 0.7.

:- end_tests(kubo_v2_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================= */

/**
 * LLM REFINEMENT NOTES:
 * 1. FIXED TYPE 1 FALSE MOUNTAIN: 
 * Reclassified the individual_powerless view from 'mountain' to 'noose'. 
 * The narrative support for this is Rina's terminal realization: "The ladder 
 * was never real... just a game to keep them busy."
 * 2. MODULE UNIQUENESS: 
 * Set to 'kubo_ranking_system_v2' to pass the dynamic validation suite.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * THE REJECTED ALTERNATIVE:
 * The primary alternative to the Kubo Noose is "Direct Democratic Labor 
 * Allocation," where cohorts manage their own health risks. This is 
 * suppressed by the "Ladder" narrative, which frames individual 
 * "advancement" as the only path out of the domes.
 */

% ============================================================================
% END OF CONSTRAINT STORY
% ============================================================================


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(rotation_seven_kubo_ranking, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(rotation_seven_kubo_ranking, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: migration_decision_threshold
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Hagen-Zanker, "Why do people migrate? A review of the theoretical 
%         literature," Maastricht Graduate School of Governance (2008).
% ============================================================================

:- module(constraint_migration_decision, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: migration_decision_threshold
 * human_readable: The Migration Decision Threshold (Cost-Benefit Equilibrium)
 * domain: economic/social
 * temporal_scope: Modern Era (Post-Industrial Migration)
 * spatial_scope: Global (Trans-national corridors)
 * * SUMMARY:
 * This constraint represents the threshold at which the expected utility of 
 * migrating exceeds the costs and risks of remaining in the origin country 
 *. According to Neo-classical micro theory, migration 
 * is an individual investment in human capital where the actor must 
 * navigate the "wage differential" Mountain.
 * * KEY AGENTS:
 * - The Potential Migrant: Individual powerless; subject to global wage 
 * disparities and legal border regimes.
 * - The Household: Collective organized; in the New Economics of Labor 
 * Migration (NELM), they use migration as a "Rope" to diversify income and 
 * mitigate local market failures.
 * - The Receiving State: Institutional; enforces the legal Mountain of 
 * visa and entry requirements.
 * * NARRATIVE ARC:
 * To the individual, the wage gap is a Mountain—an unchangeable fact of 
 * the world. To the household, migration is a 
 * Rope—a functional coordination tool to overcome the "Noose" of local 
 * market failures in insurance and credit.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(migration_theory_review, 0, 10).
narrative_ontology:constraint_claim(migration_decision_threshold, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.3. Moderate; migration "extracts" labor from the origin 
% (brain drain) but provides remittances and human capital development.
domain_priors:base_extractiveness(migration_decision_threshold, 0.3).

% Suppression score (0.0-1.0)
% Rationale: 0.4. Moderate; local economic alternatives are often 
% suppressed by "market failures" (lack of credit/insurance) in the 
% origin country.
domain_priors:suppression_score(migration_decision_threshold, 0.4).

% Enforcement requirements
% Emerges naturally from global economic inequality and the structural 
% demand for labor in developed nations.
domain_priors:emerges_naturally(migration_decision_threshold).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(migration_decision_threshold, extractiveness, 0.3).
narrative_ontology:constraint_metric(migration_decision_threshold, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(migration_decision_threshold, destination_labor_markets).
constraint_beneficiary(migration_decision_threshold, migrant_households_remittances).
constraint_victim(migration_decision_threshold, origin_country_local_services).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: INDIVIDUAL MIGRANT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Must accept the wage gap and legal barriers 
         as they exist.
   WHEN: immediate - Focused on the immediate cost of travel and relocation.
   WHERE: trapped - Bound by the lack of local opportunity in the origin.
   SCOPE: local - A single life-path decision.
   
   WHY THIS CLASSIFICATION:
   For the individual, the global economic landscape is "nature." They 
   cannot "negotiate" with the wage differential between Mexico and the 
   US; they can only choose to climb the Mountain of migration.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    migration_decision_threshold,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:emerges_naturally(migration_decision_threshold),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE HOUSEHOLD (NELM) - Rope
   --------------------------------------------------------------------------
   
   WHO: collective_organized - Acting as a unit to manage risk.
   WHEN: biographical - Planning for long-term household stability.
   WHERE: mobile - Sending a member to a different market to diversify.
   SCOPE: regional - Connecting origin and destination regions.
   
   WHY THIS CLASSIFICATION:
   In the New Economics of Labor Migration, the decision is a Rope. It is 
   a functional coordination mechanism to circumvent the failure of 
   local capital markets. Migration is wove into the 
   household strategy as a tool for survival.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    migration_decision_threshold,
    rope,
    context(
        agent_power(collective_organized),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(migration_decision_threshold, E),
    E < 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: WORLD SYSTEMS ANALYST - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the macro-structural "core-periphery" 
         dynamic.
   WHEN: historical - Tracking global capital expansion over centuries.
   WHERE: analytical - Not bound by the individual desire to move.
   SCOPE: global - The entire world economy.
   
   WHY THIS CLASSIFICATION:
   For the World Systems theorist, the system is a Noose. Global 
   capitalist expansion "chokes" traditional local economies, 
   creating a "disrupted" population that has no choice but to 
   migrate to the core as cheap labor.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    migration_decision_threshold,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(migration_decision_threshold, S),
    S > 0.3,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(migration_decision_tests).

test(multi_perspective_conflict) :-
    % Individual (Mountain) vs Household (Rope) vs Theorist (Noose)
    constraint_indexing:constraint_classification(migration_decision_threshold, T1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(migration_decision_threshold, T2, context(collective_organized, biographical, mobile, regional)),
    constraint_indexing:constraint_classification(migration_decision_threshold, T3, context(analytical, historical, analytical, global)),
    T1 \= T2, T2 \= T3.

test(local_market_failure_impact) :-
    % Extraction/Suppression logic: High suppression of local alternatives 
    % signals a move toward Noose/Mountain.
    domain_priors:suppression_score(migration_decision_threshold, S),
    S >= 0.4.

:- end_tests(migration_decision_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: I chose 'Mountain' as the primary claim for the 
 * individual because the document highlights the "wage gap" as a primary 
 * driver in neo-classical theories.
 * 2. PERSPECTIVE: The NELM perspective is critical here—it transforms 
 * migration from an "escape" to a "coordination" tool (Rope) for the 
 * household.
 * 3. SUPPRESSION (0.4): Reflects the paper's point that local market 
 * failures (insurance/credit) suppress the ability to survive without 
 * migrating.
 */

omega_variable(
    market_failure_reversal,
    "Would the fix of local credit markets (Noose removal) transform 
     migration back into a voluntary choice (Rope)?",
    resolution_mechanism("Evaluation of migration rates in regions with 
    newly introduced micro-credit and insurance programs"),
    impact("If rates drop: The threshold was a Noose. If rates stay high: 
            It is a fundamental wage-gap Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Internal Consumption Smoothing
 * Viability: Diversifying crops or local jobs to manage risk at home.
 * Suppression: Suppressed by systemic lack of local infrastructure and 
 * credit access.
 * * ALTERNATIVE 2: Social Security/State Safety Nets
 * Viability: Government-provided insurance to replace the need for 
 * remittances.
 * * CONCLUSION:
 * The absence of these alternatives in developing nations turns the 
 * Migration Threshold into an unavoidable Mountain for the subject.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [migration_decision_threshold].
% 2. Analysis: ?- multi_index_report(migration_decision_threshold).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(rotmigration_decision_threshold, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(rotmigration_decision_threshold, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(rotmigration_decision_threshold, noose, agent_power(individual_powerless)).
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: royal_navy_middle_east_withdrawal
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: The Telegraph / Tom Cotterill (Jan 19, 2026)
% ============================================================================

:- module(constraint_rn_gulf_withdrawal, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: royal_navy_middle_east_withdrawal
 * human_readable: End of Permanent Royal Navy Presence in the Gulf
 * domain: political/security
 * temporal_scope: 1980 - 2026 (End of the permanent patrol era)
 * spatial_scope: Middle East / Persian Gulf
 * * SUMMARY:
 * The Royal Navy is withdrawing its last remaining ship (HMS Middleton) from the 
 * Middle East, leaving Britain without a permanent fighting presence in the 
 * [cite_start]Gulf for the first time since 1980[cite: 3]. This "retreat from the world stage" 
 * is driven by a £28bn defense funding gap and a fleet that has shrunk from 
 * [cite_start]65 ships in 2014 to 51 today[cite: 3].
 * * KEY AGENTS:
 * - UK Ministry of Defence (Institutional): Negotiating a "stretched" fleet 
 * [cite_start]facing Russian activity in the North Atlantic[cite: 3].
 * - Defence Analysts (Analytical): Warning that the "Idea of global Britain is 
 * [cite_start]all but over" due to dwindling ship numbers[cite: 3].
 * - Commercial Shipping/Regional Partners (Powerless): Dependent on the 
 * "Armilla Patrol" and "Operation Kipion" for maritime security since 
 * [cite_start]the 1980s[cite: 3].
 * * NARRATIVE ARC:
 * From a task force of 37 vessels in 2003 to just eight last year, the UK 
 * presence has collapsed under the weight of "underinvestment in 
 * [cite_start]strategically important areas"[cite: 1, 3]. The withdrawal signals a 
 * transition from a "global" force to one that is purely regional and 
 * [cite_start]Atlantic-focused[cite: 3].
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================= */

narrative_ontology:interval(rn_withdrawal_cycle, 2025, 2026).
narrative_ontology:constraint_claim(royal_navy_middle_east_withdrawal, noose).

% Base extractiveness score: High (0.80)
% Rationale: The UK "extracts" budget savings but at the cost of its global 
% security architecture and influence. The merchant fleet loses protection 
% while still being subject to the risks of the region.
domain_priors:base_extractiveness(royal_navy_middle_east_withdrawal, 0.80).

% Suppression score: Moderate (0.50)
% Rationale: Alternatives like drone warships (Atlantic Bastion) are "years 
[cite_start]% away from being completed," effectively suppressing current maritime options[cite: 3].
domain_priors:suppression_score(royal_navy_middle_east_withdrawal, 0.50).

% Enforcement: Requires active enforcement
% Rationale: The decommissioning of major vessels (HMS Lancaster) and the 
[cite_start]% non-replacement of HMS Middleton are active policy choices by the MoD[cite: 3].
domain_priors:requires_active_enforcement(royal_navy_middle_east_withdrawal).

% Beneficiaries and Victims
constraint_beneficiary(royal_navy_middle_east_withdrawal, [hm_treasury, adversarial_navies]).
constraint_victim(royal_navy_middle_east_withdrawal, [global_shipping, regional_allies_bahrain_uae]).

narrative_ontology:constraint_metric(royal_navy_middle_east_withdrawal, extractiveness, 0.80).
narrative_ontology:constraint_metric(royal_navy_middle_east_withdrawal, suppression_requirement, 0.50).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: REGIONAL MERCHANT CAPTAIN - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (A price-taker for security in the Gulf)
   WHEN: immediate (2026 withdrawal window)
   WHERE: trapped (Operating in a region of "constant difficulty and trouble")
   SCOPE: national (Dependent on UK sovereign protection)
   
   WHY THIS CLASSIFICATION:
   For those relying on the Navy for protection against piracy or state 
   aggression, this is a Noose. They are "trapped" by a decision they didn't 
   [cite_start]make, losing their security "lifeline" while the risks remain[cite: 3].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    royal_navy_middle_east_withdrawal,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: FIRST SEA LORD (GEN SIR GWYN JENKINS) - Rope
   --------------------------------------------------------------------------
   WHO: institutional (In charge of resource allocation)
   WHEN: biographical (Managing a career-long fleet decline)
   WHERE: mobile (Shifting ships to face "Russian ships entering UK waters")
   SCOPE: global (Managing competing global requirements)
   
   WHY THIS CLASSIFICATION:
   For naval command, this is a Rope—a functional, if painful, coordination 
   mechanism. They are "stretched" and must prioritize the North Atlantic 
   [cite_start]over the Gulf to maintain basic "home" security[cite: 3].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    royal_navy_middle_east_withdrawal,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: DEFENCE ANALYST (FRANCES TUSA) - Mountain
   --------------------------------------------------------------------------
   WHO: analytical (Observer of the long-term trend)
   WHEN: historical (Viewing the 2010-2026 decline)
   WHERE: analytical (Unconstrained by policy needs)
   SCOPE: global (The "Global Britain" framework)
   
   WHY THIS CLASSIFICATION:
   From an analytical view, this is a Mountain—the inevitable and unchangeable 
   result of a decade of shrinking fleet numbers (from 13 frigates to 7). 
   [cite_start]"It is simply not doable" to be global with current numbers[cite: 3].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    royal_navy_middle_east_withdrawal,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(rn_withdrawal_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(royal_navy_middle_east_withdrawal, noose, context(individual_powerless, immediate, trapped, _)),
    constraint_indexing:constraint_classification(royal_navy_middle_east_withdrawal, rope, context(institutional, biographical, mobile, _)),
    constraint_indexing:constraint_classification(royal_navy_middle_east_withdrawal, mountain, context(analytical, historical, _, _)).

test(resource_scarcity_lock) :-
    % If the agent is institutional and time is biographical, they see the choice (mobile).
    % If the agent is analytical and time is historical, they see the math (trapped/unchangeable).
    constraint_indexing:constraint_classification(royal_navy_middle_east_withdrawal, mountain, context(analytical, historical, analytical, global)).

:- end_tests(rn_withdrawal_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. PERSPECTIVAL GAP:
 * There is a sharp gap between the "Institutional" view (Rope), which frames 
 * this as a strategic reprioritization for security, and the "Analytical" 
 * view (Mountain), which sees it as the final, unavoidable collapse of a 
 * [cite_start]"Global Britain" strategy that was never properly funded[cite: 3].
 * * 2. EXTRACTIVENESS SCORE (0.80):
 * The reporting emphasizes that ship numbers have dwindled from 37 in the 
 * [cite_start]Gulf to zero[cite: 3]. This extraction of security from the region 
 * happens while the UK maintains its "Naval Support Facility" as a hub, 
 * [cite_start]essentially keeping the infrastructure but removing the "fighting presence"[cite: 3].
 * * 3. CONNECTION TO TFR83:
 * The "stretched" nature of the fleet mentioned by the First Sea Lord 
 * mirrors the TFR83 warning that "economic security risks" and 
 * [cite_start]"underinvestment" threaten U.S./Allied leadership in critical sectors[cite: 1, 3].
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    atlantic_bastion_viability,
    "Will 'drone warships' successfully replace manned frigates in Gulf patrol roles?",
    resolution_mechanism("Monitor the deployment of drone-led Operation Kipion rotations in the late 2020s."),
    impact("If successful, the Noose (lack of protection) becomes a Rope (coordinated drone security)."),
    confidence_without_resolution(low)
).

omega_variable(
    us_fifth_fleet_interception,
    "Will the U.S. Fifth Fleet reduce the UK's 'Deputy Commander' status as Britain's presence reaches zero?",
    [cite_start]resolution_mechanism("Monitor the next deputy commander appointment in Bahrain[cite: 3]."),
    impact("High impact on UK diplomatic sway and 'Global' status."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Maintaining a 'Presence' with Offshore Patrol Vessels
 * Viability: Admiral Lord Alan West suggests that even an Offshore Patrol Vessel 
 * [cite_start]would be better than nothing[cite: 3].
 * Suppression: Rejected due to the fleet being "stretched" by the Russian 
 * [cite_start]Northern Fleet[cite: 3].
 * * ALTERNATIVE 2: Drone Warships (Atlantic Bastion)
 * [cite_start]Viability: The official plan to replace manned ships with autonomous systems[cite: 3].
 * [cite_start]Suppression: Suppressed by the "years away" development timeline[cite: 3].
 * * CONCLUSION:
 * The existence of Alternative 1 (manned patrol) makes this a Noose for the 
 * region; its rejection due to "biographical" resource constraints (Rope) 
 * for the MoD highlights the Perspectival Gap.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% ?- constraint_indexing:multi_index_report(royal_navy_middle_east_withdrawal).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: rules_based_international_order
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Mark Carney Davos Speech (January 20, 2026)
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_rules_based_international_order, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: rules_based_international_order
 * human_readable: The Rules-Based International Order (The "Greengrocer's Ritual")
 * domain: political/economic
 * temporal_scope: 1945-2026 (transitioning from "Useful Fiction" to "Rupture")
 * spatial_scope: Global
 * * SUMMARY:
 * The international system of institutions (WTO, UN, NATO) and norms that 
 * previously provided predictability for middle powers. It is currently 
 * undergoing a "rupture" where the pretense of mutual benefit is being 
 * abandoned by great powers in favor of transactional coercion and subordination.
 * * KEY AGENTS:
 * - Middle Powers (e.g., Canada): Historically beneficiaries of predictability; now facing subordination.
 * - Great Powers (Hegemons): The "strong" who do what they can; treat rules as optional instruments.
 * - The Greengrocer (Metaphorical): Any state or entity participating in the "ritual" of compliance to avoid trouble.
 * * NARRATIVE ARC:
 * The constraint began as a "Rope" (coordination) that was partially false but useful. 
 * As integration became weaponized, it transformed into a "Noose" for middle powers, 
 * necessitating a shift toward "Values-Based Realism" and strategic autonomy.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Required for structural extraction
narrative_ontology:interval(rules_based_international_order, 0, 10).

% Base extractiveness: 0.75 (High)
% Rationale: Carney notes that integration is now a "source of subordination" 
% and great powers use supply chains and tariffs as weapons of coercion.
domain_priors:base_extractiveness(rules_based_international_order, 0.75).

% Suppression: 0.6 (Moderate-High)
% Rationale: The "lie" was maintained through rituals of compliance; 
% alternatives (strategic autonomy) were suppressed by the "comfort" of 
% alliance assumptions.
domain_priors:suppression_score(rules_based_international_order, 0.6).

% Enforcement: Requires active maintenance (Rituals and Hegemonic power)
domain_priors:requires_active_enforcement(rules_based_international_order).

% BENEFICIARIES
% Great powers who can "exempt themselves when convenient" and "monetize relationships."
constraint_beneficiary(rules_based_international_order, great_powers).

% VICTIMS
% Middle powers and "the weak" who must "suffer what they must" under asymmetric enforcement.
constraint_victim(rules_based_international_order, middle_powers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: MIDDLE POWER (CANADA) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (Significant agency but limited rule-shaping)
   WHEN: biographical (Current policy horizon of the Carney administration)
   WHERE: constrained (Strategic autonomy is a "pricey" insurance policy)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For Canada, the order has shifted from a protective framework to a mechanism 
   of subordination. The costs of integration are now risks of coercion.
   
   NARRATIVE EVIDENCE:
   "You cannot 'live within the lie' of mutual benefit through integration 
   when integration becomes the source of your subordination."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rules_based_international_order,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(rules_based_international_order, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: GREAT POWER (HEGEMON) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-making power)
   WHEN: immediate (Transactional/Political cycle)
   WHERE: arbitrage (Can play systems against each other or go it alone)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The rules are a functional coordination mechanism used to "provide public 
   goods" when useful, but discarded when they no longer serve "unhindered 
   pursuit of power."
   
   NARRATIVE EVIDENCE:
   "The strongest would exempt themselves when convenient... great powers 
   can afford, for now, to go it alone."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rules_based_international_order,
    rope,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    % For the institutional power, the constraint is mutable
    true,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PASSIVE OBSERVER (GREENGROCER) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Subject to rules, cannot shape them)
   WHEN: biographical (A single lifetime of "getting along")
   WHERE: trapped (Performance is seen as the only way to "avoid trouble")
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   The system appears as an immutable natural law. Compliance is a ritual 
   performed because "everyone does the same," making the order seem inevitable.
   
   NARRATIVE EVIDENCE:
   "Presented as inevitable — as the natural logic of international relations 
   reasserting itself... To hope that compliance will buy safety."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    rules_based_international_order,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(rules_based_international_order, S),
    S > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(rules_based_international_order_tests).

test(multi_perspective_variance) :-
    % Canada (Moderate) sees Noose
    constraint_indexing:constraint_classification(rules_based_international_order, noose, context(agent_power(individual_moderate), _, constrained, _)),
    % Hegemon (Institutional) sees Rope
    constraint_indexing:constraint_classification(rules_based_international_order, rope, context(agent_power(institutional), _, arbitrage, _)),
    % Greengrocer (Powerless) sees Mountain
    constraint_indexing:constraint_classification(rules_based_international_order, mountain, context(agent_power(individual_powerless), _, trapped, _)).

test(power_extractiveness_scaling) :-
    % Extraction is experienced as subordination for the moderate/powerless
    % but as an instrument for the institutional.
    domain_priors:base_extractiveness(rules_based_international_order, E),
    E > 0.7.

test(the_rupture_insight) :-
    % Test that "naming the reality" (removing the sign) changes exit options 
    % from trapped to mobile/constrained, shifting Mountain -> Noose.
    constraint_indexing:constraint_classification(rules_based_international_order, mountain, context(_, _, trapped, _)),
    constraint_indexing:constraint_classification(rules_based_international_order, noose, context(_, _, constrained, _)).

:- end_tests(rules_based_international_order_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.75):
 * Reasoning: Chosen because the source describes the current state as 
 * "source of subordination" where great powers "monetize" allies. This 
 * high score triggers Mandatrophy protocols.
 * * 2. SUPPRESSION SCORE (0.6):
 * Reasoning: Carney identifies a "tendency to go along to get along" and 
 * "living within a lie." The suppression is not just physical force but 
 * cognitive "rituals" that hide the reality of the rupture.
 * * 3. PERSPECTIVE SELECTION:
 * Chose Canada (Middle Power), Great Power (Hegemon), and the "Greengrocer" 
 * to illustrate the transition from an perceived inevitable Mountain 
 * to an extractive Noose, and finally to a tool (Rope) for the powerful.
 * * 4. AMBIGUITIES:
 * The source is clear on the "Rupture" but ambiguous on whether "Strategic 
 * Autonomy" is truly an exit or just a different type of constraint. 
 * This is handled via Omegas.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Mandatory Omega for high-extraction constraints:
omega_variable(
    rules_based_international_order_extraction_intent,
    "Is the 0.75 extraction a functional necessity of the 'natural logic' of IR or a predatory choice by hegemons?",
    resolution_mechanism("Monitor if hegemons provide any remaining public goods vs. purely extractive transactionalism"),
    impact("If necessity: Mountain. If predatory choice: Noose."),
    confidence_without_resolution(medium)
).

omega_variable(
    strategic_autonomy_efficacy,
    "Does 'strategic autonomy' provide a genuine exit from great power coercion?",
    resolution_mechanism("Analyze if middle power 'variable geometry' coalitions can withstand targeted bilateral pressure from hegemons"),
    impact("If effective: Rope/Scaffold. If ineffective: Noose remains."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: "Strategic Autonomy / Values-Based Realism"
 * Viability: Actively pursued by Canada; involves diversifying trade 
 * (12 deals in 6 months) and doubling defense spending.
 * Suppression: Previously suppressed by the "comfortable assumptions" 
 * of alliance membership and geography.
 * * ALTERNATIVE 2: "Transactional Accommodation"
 * Viability: "Go along to get along" (The Greengrocer's path).
 * Suppression: Rejected by Carney as a failure that "won't buy safety."
 * * CONCLUSION:
 * The existence of suppressed alternatives (Strategic Autonomy) that are now 
 * being "named" shifts the perception from Mountain to Noose, as agents 
 * realize the "trapped" state was partially a "lie" (self-suppression).
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraints/rules_based_international_order].
 * 2. Multi-perspective: ?- multi_index_report(rules_based_international_order).
 * 3. Run tests: ?- run_tests(rules_based_international_order_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: russells_paradox_self_reference
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Bertrand Russell (1901) / Principles of Mathematics
% ============================================================================

:- module(constraint_russells_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: russells_paradox_self_reference
 * human_readable: Russell's Paradox (Naive Set Theory Collapse)
 * domain: mathematical/philosophical
 * temporal_scope: 1901 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Logical Foundations)
 * * SUMMARY:
 * Russell's Paradox involves the set of all sets that do not contain themselves. 
 * If such a set exists, it must contain itself if and only if it does not. 
 * This contradiction proved that "Unrestricted Comprehension" in naive set 
 * theory is an impossible foundation, forcing the creation of more complex 
 * axiomatic systems like ZFC or Type Theory.
 * * KEY AGENTS:
 * - The Naive Set (Subject): A powerless logical entity bound by a 
 * self-contradictory definition.
 * - The Foundational Architect (Institutional): An agent (like Russell or Zermelo) 
 * using the paradox as a "Rope" to coordinate the transition to rigorous axioms.
 * - The Classical Logician (Victim): An agent (like Gottlob Frege) whose 
 * lifelong work is "strangled" by the discovery of the paradox.
 * * NARRATIVE ARC:
 * Russell's Paradox is the "Mountain" of logical reality; it is an unyielding 
 * feature of self-referential systems. In mathematical history, it acted as a 
 * "Noose" for Frege's Basic Law V, extracting the possibility of simple, 
 * intuitive foundations (extraction). However, it became a "Rope" for the 
 * next century of logic, allowing researchers to coordinate a "standard of 
 * achievement" for consistency in set theory.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction and indexer coordination
narrative_ontology:interval(russell_era, 1901, 2026).
narrative_ontology:constraint_claim(russells_paradox_self_reference, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.7. The paradox is highly extractive; it "takes" the 
% consistency of any naive system, forcing a massive reinvestment in 
% complex, less intuitive axioms to regain logical "solvency."
domain_priors:base_extractiveness(russells_paradox_self_reference, 0.7).

% Suppression score (0.0-1.0)
% Rationale: 0.4. It suppresses the visibility of "unrestricted comprehension," 
% rendering the idea that "any property can define a set" functionally 
% fraudulent in formal logic.
domain_priors:suppression_score(russells_paradox_self_reference, 0.4).

% Enforcement: Emerges naturally from the interaction of set membership and negation.
domain_priors:emerges_naturally(russells_paradox_self_reference).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(russells_paradox_self_reference, extractiveness, 0.7).
narrative_ontology:constraint_metric(russells_paradox_self_reference, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(russells_paradox_self_reference, axiomatic_set_theorists).
constraint_beneficiary(russells_paradox_self_reference, type_theory_developers).
constraint_victim(russells_paradox_self_reference, gottlob_frege). % Famous historical victim.
constraint_victim(russells_paradox_self_reference, naive_intuition).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PARADOXICAL SET - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The set is defined by the rule; it has no agency.
   WHEN: immediate - The contradiction is inherent the moment it is defined.
   WHERE: trapped - Bound within the laws of logic.
   SCOPE: local - Immediate membership property.
   
   WHY THIS CLASSIFICATION:
   For the set itself, the paradox is an absolute Mountain. It cannot 
   "choose" to contain or not contain itself. The arithmetic of its 
   identity is an unyielding law that results in a logical nullity or 
   stasis.
   
   NARRATIVE EVIDENCE:
   "If it is not a member of itself, then by definition it must be a member 
   of itself." (Russell's original letter to Frege).
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    russells_paradox_self_reference,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE FOUNDATION BUILDER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to establish new axioms (ZFC, Type Theory).
   WHEN: biographical - Spanning the multi-decade effort to rebuild logic.
   WHERE: mobile - Can choose different "exits" like stratified types or axioms of specification.
   SCOPE: global - Universal foundation for all mathematics.
   
   WHY THIS CLASSIFICATION:
   For the institutional actor, the paradox is a "Rope"—a functional 
   coordination tool. By recognizing the "Mountain," they coordinate 
   a "standard of achievement" for what constitutes a valid set, pulling 
   the field away from the "Noose" of inconsistency toward a stable, 
   usable framework.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    russells_paradox_self_reference,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CLASSICAL FREGEAN - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools of logic but is bound by the contradiction.
   WHEN: historical - Realizing the collapse of a lifelong philosophical project.
   WHERE: constrained - The "exit" requires abandoning the core of their logic.
   SCOPE: global - Affecting the interpretation of all formal logic.
   
   WHY THIS CLASSIFICATION:
   For the logician who built upon unrestricted comprehension, the paradox is 
   a "Noose." It "strangles" their hope for a simple, arithmetic foundation 
   for the world. It extracts the "certainty of reason" (extraction), 
   choking the project just as it reached completion.
   
   NARRATIVE EVIDENCE:
   "Arithmetic totters." (Frege's reaction to Russell's discovery).
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    russells_paradox_self_reference,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(russells_paradox_self_reference, E),
    E >= 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(russells_paradox_tests).

test(multi_perspective_variance) :-
    % Set -> Mountain
    constraint_indexing:constraint_classification(russells_paradox_self_reference, Type1, context(individual_powerless, immediate, trapped, local)),
    % Builder -> Rope
    constraint_indexing:constraint_classification(russells_paradox_self_reference, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(logic_extraction_penalty) :-
    % Classical logicians experience the "Noose" of high extraction (0.7).
    Context = context(individual_moderate, historical, constrained, global),
    constraint_indexing:extractiveness_for_agent(russells_paradox_self_reference, Context, Score),
    Score >= 0.6.

test(natural_emergence) :-
    domain_priors:emerges_naturally(russells_paradox_self_reference).

:- end_tests(russells_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.7): 
 * I chose 0.7 because Russell's Paradox is the ultimate foundational tax. 
 * It extracts the possibility of an intuitive, self-evident logic and 
 * replaces it with a "tax" of complexity (axioms, types).
 * * 2. PERSPECTIVE SELECTION: 
 * Chose Set (Subject), Builder (User), and Frege (Victim) to show how 
 * a "Mountain" of formal reality becomes a "Noose" for those seeking 
 * simple completeness.
 * * 3. OMEGA IDENTIFICATION: 
 * Formalized the uncertainty of "True Sets"—is there a natural Mountain 
 * or just a series of useful Scaffolds?
 */

% YOUR OMEGAS HERE:
omega_variable(
    set_theoretic_realism,
    "Is there a unique 'True' universe of sets (Mountain) or only a pluralism of consistent Scaffolds (Scaffold)?",
    resolution_mechanism("Investigation into whether large cardinal axioms eventually settle independence results like CH."),
    impact("If Mountain: Logic is objective. If Scaffold: Logic is a tool of coordination (Rope)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Non-well-founded Set Theory
 * Viability: Allowing sets to contain themselves (AFA axiom). 
 * Status: A "Rope" that avoids the specific contradiction by shifting 
 * the "Mountain" of membership.
 * * ALTERNATIVE 2: Quine's New Foundations (NF)
 * Viability: Stratified comprehension. 
 * Suppression: Suppressed by the dominance of ZFC, making it an 
 * "invisible Rope" for most mathematicians.
 * * CONCLUSION:
 * The existence of ZFC as the dominant "Rope" proves that we have 
 * navigated the "Mountain" by actively suppressing simpler, intuitive 
 * (but broken) alternatives.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_russells_paradox].
 * 2. Multi-perspective: ?- multi_index_report(russells_paradox_self_reference).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: russian_war_cannibalization
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Russian Federal Budget 2025-2027 / Aviation & Utility Crisis Data
% ============================================================================

:- module(constraint_russian_cannibalization, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: russian_war_cannibalization
 * human_readable: Russian Military Cannibalization (The Invisible Mandatrophy)
 * domain: political/economic/technological
 * temporal_scope: 2022-2027 (War Economy Phase)
 * spatial_scope: Russia (National)
 * * SUMMARY:
 * This constraint models the "Invisible Mandatrophy" in Russia, where the state 
 * uses "Military Keynesianism" (massive deficit spending on defense) as a 
 * temporary Rope to mask the extraction of civilian margins. While high wages 
 * for soldiers and factory workers provide a veneer of prosperity, the mandate 
 * (the Ukraine war) has extracted the maintenance margin from public utilities 
 * and aviation. The result is a "Cannibalization Economy" where parts are 
 * stripped from airworthy planes and infrastructure funds are diverted to the 
 * front, tightening a Noose that only becomes visible during physical 
 * failure events (e.g., heating grid collapses or aviation malfunctions).
 * * KEY AGENTS:
 * - The Kremlin / Siloviki: Institutional; rule-makers prioritizing the 
 * "Existential War" mandate over long-term civilian infrastructure.
 * - The Regional Resident (e.g., in Chita or Zabaykalsky): Individual powerless; 
 * facing -25°C temperatures with zero heating due to utility collapse.
 * - The Aviation Engineer: Individual powerless/Analytical; forced to perform 
 * "emergency" repairs with uncertified or cannibalized parts to maintain 
 * the illusion of airworthiness.
 * * NARRATIVE ARC:
 * The 2025 budget represents a terminal transition: for the first time, 
 * pure military spending (13.2 trillion rubles) significantly exceeds 
 * social spending. What was initially a Rope (economic stimulus) has 
 * become a Noose, extracting 2.4 million workers from the labor market and 
 * leaving 1/3 of heating networks in a state of critical decay.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(russia_cannibalization_cycle, 0, 10).
narrative_ontology:constraint_claim(russian_war_cannibalization, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.8. High extraction; the 2025 budget redirects 43% of all 
% federal spending to defense and security, "cannibalizing" the budget 
% for housing, communal services, and human capital.
domain_priors:base_extractiveness(russian_war_cannibalization, 0.8).

% Suppression score (0.0-1.0)
% Rationale: 0.75. High suppression of civilian priorities; any effort to 
% redirect funds back to utilities or education is suppressed by the 
% "existential" framing of the war and the "War Economy" mobilization.
domain_priors:suppression_score(russian_war_cannibalization, 0.75).

% Enforcement requirements
% Requires active enforcement (anti-protest laws, state-controlled media 
% masking infrastructure failure, and military censorship).
domain_priors:requires_active_enforcement(russian_war_cannibalization).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(russian_war_cannibalization, extractiveness, 0.8).
narrative_ontology:constraint_metric(russian_war_cannibalization, suppression_requirement, 0.75).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(russian_war_cannibalization, military_industrial_complex).
constraint_beneficiary(russian_war_cannibalization, front_line_contractors).
constraint_victim(russian_war_cannibalization, civilian_infrastructure_resilience).
constraint_victim(russian_war_cannibalization, domestic_aviation_safety).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE KREMLIN / STATE ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to set the 2025 budget and define "Victory."
   WHEN: biographical - Planning for a "forever war" and regime preservation.
   WHERE: mobile - Projecting power via military spending and deficit management.
   SCOPE: national - Total control over the "War Footing" economy.
   
   WHY THIS CLASSIFICATION:
   The state views the "War Economy" as a Rope—a functional coordination 
   mechanism that keeps the economy growing (via stimulus) and the 
   population unified (via high wages). They treat the extraction of 
   civilian margins as a manageable "trade-off" for national survival.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    russian_war_cannibalization,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(russian_war_cannibalization, E),
    E < 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE REGIONAL CITIZEN - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Living in cities like Chita; subject to 
         utility failures and rising inflation.
   WHEN: immediate - Tactical survival during winter freezes.
   WHERE: trapped - Bound by the lack of local infrastructure investment.
   SCOPE: local - Their home and their physical safety.
   
   WHY THIS CLASSIFICATION:
   For the citizen, Mandatrophy is a Noose. The "Mandate" (the war) has 
   extracted the margin that keeps their pipes from bursting. As heating 
   networks collapse in -25°C, they realize the "stimulus" of the war has 
   choked the basic survival infrastructure of their hometown.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    russian_war_cannibalization,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(russian_war_cannibalization),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE AIRLINE PASSENGER / PILOT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Flying on planes with 4x the malfunction rate 
         of the previous year.
   WHEN: immediate - Mid-flight response to technical failure.
   WHERE: trapped - At 30,000 feet on an uncertified airframe.
   SCOPE: local - A single flight path.
   
   WHY THIS CLASSIFICATION:
   In the air, the failure of a "cannibalized" engine is a Mountain. It 
   is a physical law that cannot be negotiated. The extraction of parts 
   has reached the physical limit of the machine's airworthiness. The 
   mandate of "continuing to fly" hits the unyielding fact of material 
   fatigue.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    russian_war_cannibalization,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(russian_war_cannibalization, S),
    S > 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(russian_cannibalization_tests).

test(invisible_mandatrophy_check) :-
    % Extraction of civilian margin (utilities) should be high while 
    % state perception remains "Rope."
    domain_priors:base_extractiveness(russian_war_cannibalization, E),
    E > 0.7.

test(perspectival_asymmetry) :-
    % Institutional (Rope) vs Individual (Mountain/Noose)
    constraint_indexing:constraint_classification(russian_war_cannibalization, T1, context(institutional, biographical, mobile, national)),
    constraint_indexing:constraint_classification(russian_war_cannibalization, T2, context(individual_powerless, immediate, trapped, local)),
    T1 \= T2.

:- end_tests(russian_cannibalization_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. THE "LESS VISIBLE" MECHANISM: In Russia, Mandatrophy is hidden by 
 * "Military Keynesianism." Unlike Cuba's empty shelves or Iran's dry taps, 
 * Russia's shelves are full of stimulated demand, but the *foundational* * margins (pipes/planes) are being extracted invisibly.
 * 2. AVIATION DATA: The 4x increase in technical malfunctions (800 in 2025 
 * vs 200 in 2024) is a primary sensor for the tightening Noose.
 * 3. BUDGET (2025): The decision to increase defense spending by 25% to 
 * $140bn while cutting social welfare by 16% is the formal "Mandatrophic 
 * Extraction" event.
 */

omega_variable(
    cannibalization_threshold,
    "How many 'unhealthy' aircraft can be stripped to maintain the 
     'healthy' fleet before the entire system hits a terminal Mountain?",
    resolution_mechanism("Monitoring the ratio of airworthy to grounded 
    foreign-made airframes vs. the rate of mid-flight engine failures"),
    impact("If failures plateau: The Rope holds. If they spike: The 
            Noose has closed."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Diplomatic Settlement (Margin Preservation)
 * Viability: Ending the war would return 13.2 trillion rubles to the 
 * civilian margin and allow the import of certified plane parts.
 * Suppression: Explicitly suppressed by the "Existential Threat" narrative 
 * and the 2049 "Great Rejuvenation" timeline.
 * * ALTERNATIVE 2: Import Substitution (The 'Superjet' Scaffold)
 * Viability: Replacing Western parts with domestic ones.
 * Suppression: Failed; even "domestic" jets like the SSJ-100 rely on 
 * Franco-Russian engines that are currently failing due to lack of 
 * Western core components.
 * * CONCLUSION:
 * The failure of the "Scaffold" (Import Substitution) and the suppression 
 * of the "Settlement" alternative proves that Russian Mandatrophy is a 
 * terminal Noose.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [russian_war_cannibalization].
% 2. Analyze: ?- multi_index_report(russian_war_cannibalization).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: airbnb_str_regulation
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Airbnb, Inc. Form S-1 (November 16, 2020)
% ============================================================================

:- module(airbnb_str_regulation, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: airbnb_str_regulation
 * human_readable: Short-Term Rental (STR) Regulatory Framework
 * domain: economic/political/legal
 * temporal_scope: November 2020 (IPO) - Ongoing
 * spatial_scope: Global / Municipal (Local Zoning)
 * * SUMMARY:
 * A global patchwork of municipal laws, zoning restrictions, and tax requirements 
 * that govern home-sharing. These regulations range from simple registration to 
 * "One Host, One Home" policies and outright bans in high-density areas 
 *. The framework aims to balance the "sharing economy" 
 * with housing affordability and neighborhood character.
 * * KEY AGENTS:
 * - Individual Hosts: 90% of the platform, typically non-professional.
 * - Professional Hosts: Property management companies and boutique hotels.
 * - Local Municipalities: Rule-makers (e.g., San Francisco, NYC).
 * - Hotel Incumbents: Lobbyists for stricter oversight to equalize competition.
 * * NARRATIVE ARC:
 * Airbnb identifies regulation as a primary risk factor in its S-1, noting that 
 * complex and evolving laws may limit host participation or lead to significant 
 * penalties. The constraint acts as a filter that determines 
 * who can legally participate in the market.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(airbnb_ipo_era, 0, 10).
narrative_ontology:constraint_claim(airbnb_str_regulation, mountain).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: Cities extract occupancy taxes and permit fees; hotels extract market 
% share by capping STR supply.
domain_priors:base_extractiveness(airbnb_str_regulation, 0.6).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: Registration requirements and caps on nights explicitly suppress the 
% "casual" nature of the original P2P model.
domain_priors:suppression_score(airbnb_str_regulation, 0.8).

% Enforcement requirements
domain_priors:requires_active_enforcement(airbnb_str_regulation).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(airbnb_str_regulation, extractiveness, 0.6).
narrative_ontology:constraint_metric(airbnb_str_regulation, suppression_requirement, 0.8).

% Beneficiaries and Victims
constraint_beneficiary(airbnb_str_regulation, local_government_treasuries).
constraint_beneficiary(airbnb_str_regulation, hotel_industry).
constraint_victim(airbnb_str_regulation, individual_casual_hosts).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Individual Casual Host - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Lacks lobbying power; subject to city decree.
   WHEN: biographical - Hosting is a supplemental income strategy.
   WHERE: trapped - Bound by the zoning of their primary residence.
   SCOPE: local - Impacted by neighborhood-specific ordinances.
   
   WHY THIS CLASSIFICATION:
   For the casual host, these rules are an unchangeable "Mountain." The cost 
   of compliance (permits, taxes) and the risk of fines are external 
   realities they must accept or exit the platform.
   
   NARRATIVE EVIDENCE:
   "Laws... may limit the ability or willingness of hosts to share their 
   spaces... and expose our hosts or us to significant penalties".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    airbnb_str_regulation,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        constraint_beneficiary(airbnb_str_regulation, municipal_government),
        constraint_victim(airbnb_str_regulation, individual_casual_host),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(airbnb_str_regulation, S),
    S > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Professional Host - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate / institutional - Owns/manages multiple units.
   WHEN: immediate - Focused on quarterly returns and occupancy.
   WHERE: mobile / arbitrage - Can move capital to "light-regulation" cities.
   SCOPE: regional / national.
   
   WHY THIS CLASSIFICATION:
   Professional hosts see "One Host, One Home" laws as a "Noose"—a policy 
   specifically designed to throttle their business model in favor of the 
   hotel industry and housing activists.
   
   NARRATIVE EVIDENCE:
   Regulations are used to "limit external real estate investment and restore 
   the peer-to-peer... market to its original 'sharing' roots".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    airbnb_str_regulation,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        constraint_beneficiary(airbnb_str_regulation, incumbent_hotels),
        constraint_victim(airbnb_str_regulation, professional_host),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(airbnb_str_regulation, E),
    E > 0.5,
    domain_priors:requires_active_enforcement(airbnb_str_regulation),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: City Council / Regulator - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making authority.
   WHEN: historical - Managing long-term urban development and housing.
   WHERE: analytical - Balancing multiple stakeholder interests.
   SCOPE: regional / national.
   
   WHY THIS CLASSIFICATION:
   For regulators, the framework is a "Rope"—a necessary coordination tool 
   to mitigate noise complaints, ensure public safety, and prevent the 
   conversion of residential housing into "unregulated hotels".
   
   NARRATIVE EVIDENCE:
   Regulation addresses "gentrification, increasing risks to public safety 
   and worsening the housing affordability crisis".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    airbnb_str_regulation,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        constraint_beneficiary(airbnb_str_regulation, the_community),
        constraint_victim(airbnb_str_regulation, none),
        spatial_scope(regional)
    )
) :-
    % Classification logic for functional coordination
    true,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(airbnb_str_regulation_tests).

test(multi_perspective_divergence) :-
    constraint_indexing:constraint_classification(airbnb_str_regulation, Type1, 
        context(individual_powerless, biographical, trapped, _, _, local)),
    constraint_indexing:constraint_classification(airbnb_str_regulation, Type2, 
        context(individual_moderate, immediate, mobile, _, _, regional)),
    constraint_indexing:constraint_classification(airbnb_str_regulation, Type3, 
        context(institutional, historical, analytical, _, _, regional)),
    Type1 = mountain,
    Type2 = noose,
    Type3 = rope.

test(host_extractiveness_variance) :-
    % Professional hosts feel higher extraction relative to their business model (Noose)
    constraint_indexing:constraint_classification(airbnb_str_regulation, noose, context(individual_moderate, _, mobile, _, _, _)).

:- end_tests(airbnb_str_regulation_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.6): High because regulations often include both 
 * direct fees (permits) and indirect economic losses for hosts (caps) 
 * that benefit specific incumbents.
 * 2. PERSPECTIVE SELECTION: Analyzed the divergence between "casual" hosts 
 * (powerless) and "professional" hosts (moderate power) because the 
 * S-1 highlights the "One Host, One Home" trend as a specific risk.
 * * CONFIDENCE:
 * High: Regulatory risk as a primary headwind.
 * Medium: The specific classification of "Rope" for regulators depends on 
 * their actual intent vs. capture by hotel interests.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    housing_market_correlation,
    "Do STR restrictions actually lower long-term rents, or do they simply reallocate traveler revenue to hotels?",
    resolution_mechanism("Post-regulation rent tracking in synthetic control cities (e.g., NYC post-2023)"),
    impact("If it lowers rents: it's a Rope for the city. If it only benefits hotels: it's a Noose for hosts."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Voluntary Platform Self-Regulation
 * Viability: Airbnb has introduced "Host standards" and safety features.
 * Suppression: Cities often reject this as "insufficient" for tax and zoning enforcement.
 * * CONCLUSION:
 * The active rejection of platform self-regulation in favor of state-mandated 
 * registration moves the constraint from a potential Rope to a Noose/Mountain 
 * for participants.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [airbnb_str_regulation].
% Multi-perspective: ?- constraint_indexing:multi_index_report(airbnb_str_regulation).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(s1_airbnb, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(s1_airbnb, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(s1_airbnb, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: visa_ipo_regulatory_compliance
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Visa Inc. Amendment No. 6 to Form S-1 
% ============================================================================

:- module(visa_ipo_regulatory_compliance, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: visa_ipo_regulatory_compliance
 * human_readable: SEC S-1 Registration Framework
 * domain: economic/political
 * temporal_scope: March 2008 
 * spatial_scope: United States / Global Financial Markets 
 * * SUMMARY:
 * The mandatory legal framework governing the public offering of securities in 
 * the US, specifically the filing of Form S-1 under the Securities Act of 1933.
 * This system requires exhaustive disclosure of financial, legal, and operational 
 * data to the SEC before a company can access public capital markets.
 * * KEY AGENTS:
 * - Visa Inc. (Registrant): The entity seeking to transform its structure and raise capital.
 * - SEC (Regulator): The institutional gatekeeper enforcing transparency and legal compliance.
 * - Individual Investor (The Public): The intended recipient of protections through mandated disclosure.
 * * NARRATIVE ARC:
 * Visa Inc. is in the final stages (Amendment No. 6) of a complex multi-year 
 * transition to a public company. The constraint functions as a rigid 
 * "Mountain" of paperwork and legal liability that must be scaled to achieve 
 * the "Rope" of public market coordination.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(visa_ipo_window, 0, 10).
narrative_ontology:constraint_claim(visa_ipo_regulatory_compliance, mountain).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: The system extracts significant legal fees and time (6+ amendments) but 
% provides the "benefit" of market access. Minimal direct extraction from the public.
domain_priors:base_extractiveness(visa_ipo_regulatory_compliance, 0.2).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: Alternatives to SEC registration for a global IPO do not legally exist 
% in the US; the system is absolute for this scale of capital.
domain_priors:suppression_score(visa_ipo_regulatory_compliance, 0.9).

% Enforcement requirements
domain_priors:requires_active_enforcement(visa_ipo_regulatory_compliance).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(visa_ipo_regulatory_compliance, extractiveness, 0.2).
narrative_ontology:constraint_metric(visa_ipo_regulatory_compliance, suppression_requirement, 0.9).

% Beneficiaries and Victims
constraint_beneficiary(visa_ipo_regulatory_compliance, institutional_investors).
constraint_victim(visa_ipo_regulatory_compliance, registrant_legal_budget).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Joseph W. Saunders (CEO) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerful / institutional - CEO of the registrant.
   WHEN: immediate - Focused on the "commencement of proposed sale".
   WHERE: trapped - Legally bound by the Securities Act; cannot sell without SEC approval.
   SCOPE: national / global - Managing a worldwide restructuring.
   
   WHY THIS CLASSIFICATION:
   From the CEO's perspective, this is a "Noose" because it imposes massive 
   personal liability (signatures required) and slows the organization down 
   through endless amendments (6 filings). It is an asymmetric 
   burden that benefits the state's oversight power.
   
   NARRATIVE EVIDENCE:
   "The Registrant hereby amends this Registration Statement on such date or 
   dates as may be necessary to delay its effective date...".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    visa_ipo_regulatory_compliance,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(visa_ipo_regulatory_compliance, sec),
        constraint_victim(visa_ipo_regulatory_compliance, joseph_saunders),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(visa_ipo_regulatory_compliance, E),
    E > 0.1,
    domain_priors:requires_active_enforcement(visa_ipo_regulatory_compliance),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Individual Retail Investor - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Has no say in the filing rules.
   WHEN: biographical - Investment horizon for the "public".
   WHERE: constrained - Can choose not to buy, but cannot change the disclosure rules.
   SCOPE: local / national.
   
   WHY THIS CLASSIFICATION:
   The retail investor views the SEC framework as a "Mountain"—a naturalized 
   fact of the financial world. It is the bedrock of "truth" upon which they 
   make decisions; they cannot imagine a market without these protections.
   
   NARRATIVE EVIDENCE:
   The document provides a "prospectus constituting Part I" specifically 
   for the purpose of public information.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    visa_ipo_regulatory_compliance,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(constrained),
        constraint_beneficiary(visa_ipo_regulatory_compliance, the_public),
        constraint_victim(visa_ipo_regulatory_compliance, none),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(visa_ipo_regulatory_compliance, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Securities Attorney (White & Case) - Rope
   --------------------------------------------------------------------------
   
   WHO: analytical / institutional - Service provider facilitating the process.
   WHEN: historical - Operates within the tradition of the 1933 Act.
   WHERE: arbitrage - Understands how to navigate the rules to achieve client goals.
   SCOPE: continental / global.
   
   WHY THIS CLASSIFICATION:
   For the lawyers, the S-1 is a "Rope." It is a functional coordination mechanism 
   that allows capital to flow safely. While complex, it is a tool they use 
   to structure the "Amended and Restated Global Restructuring Agreement".
   
   NARRATIVE EVIDENCE:
   "Opinion of White & Case LLP as to the legality of the securities being 
   registered...".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    visa_ipo_regulatory_compliance,
    rope,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(visa_ipo_regulatory_compliance, visa_inc),
        constraint_victim(visa_ipo_regulatory_compliance, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(visa_ipo_regulatory_compliance, E),
    E < 0.4,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================= */

:- begin_tests(visa_ipo_regulatory_compliance_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(visa_ipo_regulatory_compliance, Type1, 
        context(individual_powerful, immediate, trapped, _, _, global)),
    constraint_indexing:constraint_classification(visa_ipo_regulatory_compliance, Type2, 
        context(individual_powerless, biographical, constrained, _, _, national)),
    constraint_indexing:constraint_classification(visa_ipo_regulatory_compliance, Type3, 
        context(analytical, historical, arbitrage, _, _, global)),
    Type1 = noose,
    Type2 = mountain,
    Type3 = rope.

test(regulatory_barrier_impact) :-
    % Test that the 'trapped' CEO sees high friction (Noose) vs 'arbitrage' lawyer (Rope)
    constraint_indexing:constraint_classification(visa_ipo_regulatory_compliance, noose, context(_, _, trapped, _, _, _)),
    constraint_indexing:constraint_classification(visa_ipo_regulatory_compliance, rope, context(_, _, arbitrage, _, _, _)).

:- end_tests(visa_ipo_regulatory_compliance_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS: Set to 0.2. While the IPO involves billions, the *constraint* * itself (the S-1 filing) doesn't extract the capital; it merely regulates 
 * the flow. The "extraction" is the legal/administrative overhead.
 * 2. SUPPRESSION: Set to 0.9. There is no alternative "unregulated" IPO 
 * at this scale in the US jurisdiction.
 * * PERSPECTIVES:
 * - CEO: Chosen because they sign and bear the risk.
 * - Public: Chosen because they are the "protected" class.
 * - Legal Counsel: Chosen because they treat the law as a functional tool (Rope).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    sec_effectiveness,
    "Does the S-1 actually prevent fraud (Rope) or merely provide a legal shield for institutions (Noose)?",
    resolution_mechanism("Post-IPO litigation frequency vs. historical unregulated markets"),
    impact("If Rope: the 0.2 extractiveness is a fee for service. If Noose: it is a barrier to entry."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Direct Public Offering (DPO)
 * Viability: Historically possible but rare for companies of Visa's size in 2008.
 * Suppression: Market norms and underwriter requirements make this effectively invisible.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [visa_ipo_regulatory_compliance].
% Tests: ?- run_tests(visa_ipo_regulatory_compliance_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(s1_visa, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(s1_visa, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(s1_visa, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: visa_judgment_sharing_agreement
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Visa Inc. Amendment No. 6 to Form S-1 
% ============================================================================

:- module(visa_judgment_sharing_agreement, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: visa_judgment_sharing_agreement
 * human_readable: Judgment Sharing Agreement (AMEX Case)
 * domain: legal/economic
 * temporal_scope: July 2007 (Filing date) 
 * spatial_scope: National (United States Judiciary) 
 * * SUMMARY:
 * A contractual coordination mechanism between Visa U.S.A. Inc. and its 
 * signatory member banks to allocate financial liability arising from 
 * antitrust litigation (specifically the American Express case). 
 * This agreement prevents individual member banks from being single-handedly 
 * destroyed by joint and several liability.
 * * KEY AGENTS:
 * - Visa U.S.A. Inc.: The central entity coordinating the defense.
 * - Signatory Banks: Member institutions sharing the risk of a multi-billion dollar judgment.
 * - American Express (AMEX): The plaintiff whose legal victory creates the liability pressure.
 * * NARRATIVE ARC:
 * To facilitate the IPO, Visa must ringfence and quantify its massive legal 
 * liabilities. The Judgment Sharing Agreement (JSA) transforms an unpredictable 
 * external threat (antitrust judgment) into a structured internal obligation 
 * (shared loss) .
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(visa_litigation_ringfencing, 0, 10).
narrative_ontology:constraint_claim(visa_judgment_sharing_agreement, rope).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: The agreement extracts capital from banks to pay settlements, but 
% the flow is proportional to their historical involvement and protects the 
% system from collapse.
domain_priors:base_extractiveness(visa_judgment_sharing_agreement, 0.4).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: Banks that want to remain part of the Visa network for the IPO 
% restructure essentially have no alternative but to sign.
domain_priors:suppression_score(visa_judgment_sharing_agreement, 0.7).

% Enforcement requirements
domain_priors:requires_active_enforcement(visa_judgment_sharing_agreement).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(visa_judgment_sharing_agreement, extractiveness, 0.4).
narrative_ontology:constraint_metric(visa_judgment_sharing_agreement, suppression_requirement, 0.7).

% Beneficiaries and Victims
constraint_beneficiary(visa_judgment_sharing_agreement, visa_inc_shareholders).
constraint_victim(visa_judgment_sharing_agreement, signatory_member_banks).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Small Signatory Bank - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Financial institution but small relative to the system.
   WHEN: immediate - Concerned with the upcoming quarterly impact of loss sharing.
   WHERE: trapped - Leaving the network during an IPO restructuring is prohibitively costly.
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For a smaller bank, this is a "Noose." They are forced to sign an agreement 
   that binds them to pay for the "sins" of the network's past antitrust 
   behavior, with the terms dictated by the larger Visa corporate entity 
   to ensure the IPO's success.
   
   NARRATIVE EVIDENCE:
   The agreement is "by and between Visa U.S.A. Inc. and the signatory banks 
   thereto," implying a take-it-or-leave-it participation requirement.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    visa_judgment_sharing_agreement,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(visa_judgment_sharing_agreement, visa_inc),
        constraint_victim(visa_judgment_sharing_agreement, small_bank),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(visa_judgment_sharing_agreement, S),
    S > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Visa Chief Legal Officer - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Crafting the legal architecture of the IPO.
   WHEN: biographical - Aiming for a stable, public Visa Inc. over the next 20 years.
   WHERE: arbitrage - Using contract law to mitigate judicial risk.
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   From the institutional perspective, the JSA is a "Rope." It is a functional 
   coordination tool that prevents the "systemic risk" of one bank failing and 
   dragging down the network. It allows the IPO to proceed by providing 
   certainty to new investors.
   
   NARRATIVE EVIDENCE:
   "Judgment Sharing Agreement among Defendants... incorporated by reference" 
   as a key exhibit for investor transparency.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    visa_judgment_sharing_agreement,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        constraint_beneficiary(visa_judgment_sharing_agreement, global_payment_system),
        constraint_victim(visa_judgment_sharing_agreement, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(visa_judgment_sharing_agreement, E),
    E < 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The Judiciary / SEC Observer - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observing the legal reality of the filings.
   WHEN: historical - The antitrust case is a settled "fact" of the 2000s era.
   WHERE: analytical - Not a party to the contract.
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For an observer, these liabilities and the agreements to share them are a 
   "Mountain." They are the fixed landscape of Visa's history that cannot be 
   erased; they must be navigated and disclosed as immutable risks.
   
   NARRATIVE EVIDENCE:
   Referenced repeatedly across multiple amendments (No. 1 through No. 6) 
   as a permanent part of the registration statement.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    visa_judgment_sharing_agreement,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        constraint_beneficiary(visa_judgment_sharing_agreement, none),
        constraint_victim(visa_judgment_sharing_agreement, none),
        spatial_scope(national)
    )
) :-
    true,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(visa_jsa_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(visa_judgment_sharing_agreement, Type1, 
        context(individual_moderate, immediate, trapped, _, _, national)),
    constraint_indexing:constraint_classification(visa_judgment_sharing_agreement, Type2, 
        context(institutional, biographical, arbitrage, _, _, global)),
    Type1 = noose,
    Type2 = rope.

test(systemic_stability_logic) :-
    % Testing that institutional power views this as a functional tool (Rope)
    constraint_indexing:constraint_classification(visa_judgment_sharing_agreement, rope, 
        context(institutional, _, _, _, _, _)).

:- end_tests(visa_jsa_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): Significant because it mandates large payments 
 * from banks to cover settlements.
 * 2. CLASSIFICATION: Chose "Rope" for the institution because the JSA is 
 * what enables the "Global Restructuring Agreement". Without it, 
 * the IPO (a larger Rope) would fail.
 * * AMBIGUITIES:
 * The S-1 does not disclose the *exact* percentages of liability sharing, 
 * which are likely in the "confidential treatment" portions.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    allocation_fairness,
    "Is the liability allocation based on revenue (Rope) or on political leverage within the Visa association (Noose)?",
    resolution_mechanism("Audit of the confidential exhibit filed with the SEC Secretary"),
    impact("If leverage-based: it is a Noose for smaller banks. If revenue-based: it is a Rope for the network."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Individual Litigation
 * Viability: Every bank defends itself against AMEX. 
 * Suppression: Rejected because it would lead to inconsistent judgments and 
 * potentially bankrupt smaller members, ruining the Visa brand before the IPO.
 * * CONCLUSION:
 * The rejection of individual litigation effectively forces the JSA into a 
 * "Mountain" status for those who want to remain in the payment ecosystem.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [visa_judgment_sharing_agreement].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(s1_visa_judgment_sharing_agreement, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(s1_visa_judgment_sharing_agreement, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(s1_visa_judgment_sharing_agreement, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: sapir_whorf_hypothesis
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Edward Sapir / Benjamin Lee Whorf / Linguistic Relativity
% ============================================================================

:- module(constraint_sapir_whorf_hypothesis, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: sapir_whorf_hypothesis
 * human_readable: Sapir-Whorf Hypothesis (Linguistic Relativity)
 * domain: social/technological/political
 * temporal_scope: Permanent (Cognitive/Linguistic Architecture)
 * spatial_scope: Global (All Language-Bearing Agents)
 * * SUMMARY:
 * The Sapir-Whorf hypothesis proposes that the structure of a language affects its 
 * speakers' worldview or cognition. In its "strong" form (linguistic determinism), 
 * language limits what can be thought; in its "weak" form (linguistic relativity), 
 * it merely influences perception and memory.
 * * KEY AGENTS:
 * - The Linguist (Analytical): Observes the "Mountain" of semantic categories and 
 * how they vary across cultures.
 * - The State/Propagandist (Institutional): Uses language as a "Rope" (coordination) 
 * or "Noose" (control) to shape public thought via Newspeak or framing.
 * - The Monolingual Speaker (Individual Powerless): Trapped within their own 
 * language's concepts, experiencing them as inevitable reality.
 * * NARRATIVE ARC:
 * Language begins as a "Mountain"—the fundamental hardware of thought. 
 * For the diplomat, it is a "Rope" used to bridge differing worldviews. 
 * For the subject of a totalizing ideology, it becomes a "Noose," as the 
 * removal of specific words (e.g., 'freedom') strangles the ability to 
 * conceptualize dissent.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural anchor
narrative_ontology:interval(sapir_whorf_interval, 0, 10).
narrative_ontology:constraint_claim(sapir_whorf_hypothesis, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.5). Language extracts "unlabeled" thoughts. 
% It forces the mind into specific semantic ruts, effectively "taxing" 
% thoughts that fall outside the linguistic norm.
domain_priors:base_extractiveness(sapir_whorf_hypothesis, 0.5).

% Suppression score (0.0-1.0)
% Rationale: High (0.7). Language is the ultimate suppressor; what is not 
% named is often not noticed, making alternatives conceptually invisible.
domain_priors:suppression_score(sapir_whorf_hypothesis, 0.7).

% Enforcement requirements
% Emerges naturally through socialization but can be actively enforced 
% via censorship or newspeak.
domain_priors:emerges_naturally(sapir_whorf_hypothesis).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(sapir_whorf_hypothesis, extractiveness, 0.5).
narrative_ontology:constraint_metric(sapir_whorf_hypothesis, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(sapir_whorf_hypothesis, [ideologues, advertisers, poets]).
constraint_victim(sapir_whorf_hypothesis, [dissenters, cross_cultural_communicators]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE COGNITIVE SCIENTIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the neural and linguistic substrate.
   WHEN: civilizational - Viewing language as an evolved human constant.
   WHERE: trapped - Logic and perception are filtered by the available lexicon.
   SCOPE: global - Universal to all human populations.
   
   WHY THIS CLASSIFICATION:
   To the scientist, linguistic relativity is a Mountain. It is an unchangeable 
   feature of human cognition. We are biologically wired to categorize the 
   world; the fact that those categories are linguistic is a fixed peak 
   in the landscape of the human experience.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sapir_whorf_hypothesis,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TRANSLATOR / DIPLOMAT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to bridge and define meaning between groups.
   WHEN: biographical - Managing cross-cultural relations over a career.
   WHERE: arbitrage - Can move between different linguistic worldviews.
   SCOPE: continental - Managing relations between large linguistic blocs.
   
   WHY THIS CLASSIFICATION:
   For the diplomat, language is a Rope. It is a coordination mechanism. 
   By finding the right words to align different conceptual worlds, they 
   use the constraint as a tether to pull toward peace or trade. For them, 
   linguistic relativity is a tool for understanding and influence.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sapir_whorf_hypothesis,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(continental)
    )
) :-
    domain_priors:base_extractiveness(sapir_whorf_hypothesis, E),
    E < 0.7, % It's a tool when managed with arbitrage
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE TOTALITARIAN SUBJECT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the state's controlled vocabulary.
   WHEN: immediate - Today's news and required speech.
   WHERE: trapped - Cannot speak or think outside the state's language.
   SCOPE: national - The reach of the state's linguistic control.
   
   WHY THIS CLASSIFICATION:
   For the subject in a Newspeak environment, language is a Noose. The state 
   actively removes words and concepts to "strangle" the possibility of 
   heretical thought. The extraction of semantic range turns the primary tool 
   of thought into a literal trap for the mind.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sapir_whorf_hypothesis,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(sapir_whorf_hypothesis, S),
    S > 0.6, % High suppression of conceptual alternatives
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(sapir_whorf_hypothesis_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Powerless sees Noose
    constraint_indexing:constraint_classification(sapir_whorf_hypothesis, mountain, context(analytical, civilizational, trapped, global)),
    constraint_indexing:constraint_classification(sapir_whorf_hypothesis, rope, context(institutional, biographical, arbitrage, continental)),
    constraint_indexing:constraint_classification(sapir_whorf_hypothesis, noose, context(individual_powerless, immediate, trapped, national)).

test(power_extractiveness_cognition) :-
    % Powerless subjects feel the total extraction of thought (Noose).
    % Institutional diplomats leverage the gap for coordination (Rope).
    ContextPowerless = context(individual_powerless, immediate, trapped, national),
    ContextPowerful = context(institutional, biographical, arbitrage, continental),
    constraint_indexing:extractiveness_for_agent(sapir_whorf_hypothesis, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(sapir_whorf_hypothesis, ContextPowerful, Score2),
    Score1 > Score2.

:- end_tests(sapir_whorf_hypothesis_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.5): Chose moderate because while language is essential, 
 * it "extracts" potential thoughts by channeling them into narrow categories.
 * 2. PERSPECTIVES: Selected the Scientist (Hardware), the Diplomat (Arbitrage), 
 * and the Orwellian Subject (Extraction) to highlight how language shifts 
 * from fact to tool to trap.
 * 3. NOOSE LOGIC: Specifically focuses on "Linguistic Determinism" used 
 * politically—where removing the word for a concept removes the concept.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    strong_vs_weak_determinism,
    "Does language truly prevent thoughts (Mountain/Noose) or merely make 
    some thoughts easier than others (Rope)?",
    resolution_mechanism("Long-term neuro-linguistic studies on speakers 
    of languages without specific numeric or spatial markers"),
    impact("If Strong: Linguistic control is an inescapable Noose. If Weak: 
    It is a Rope that can be untied through education."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Universal Grammar (Chomskyan)
 * Viability: High. The idea that all humans share a deep, innate biological 
 * structure for language regardless of vocabulary.
 * Suppression: Moderate. Often presented as the "Anti-Whorf" view, 
 * suppressing the idea of total conceptual diversity.
 * * CONCLUSION:
 * The existence of Universal Grammar as a "Mountain" underneath the 
 * linguistic "Rope" suggests that while our *lexicon* may be a Noose, 
 * our *syntax* might be a shared global Mountain.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_sapir_whorf_hypothesis].
 * 2. Multi-perspective: ?- multi_index_report(sapir_whorf_hypothesis).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: sat_csp_complexity
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Computational Complexity / Boolean Satisfiability / Constraint Satisfaction
% ============================================================================

:- module(constraint_sat_csp_complexity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: sat_csp_complexity
 * human_readable: SAT/CSP Complexity (Satisfiability and Constraint Satisfaction)
 * domain: technological
 * temporal_scope: Permanent (Universal Laws of Logic and Search)
 * spatial_scope: Global (Formal Systems)
 * * SUMMARY:
 * Boolean Satisfiability (SAT) and Constraint Satisfaction Problems (CSP) represent 
 * the fundamental challenge of finding a set of values that satisfy a collection 
 * of constraints. While checking a solution is easy, finding one is often 
 * NP-complete, representing a universal "hardness" in automated reasoning.
 * * KEY AGENTS:
 * - The Logic Researcher: Seeking to find phase transitions where problems 
 * move from "easy" to "hard."
 * - The Solver Architect: Building "Heuristic Ropes" (CDCL solvers) to 
 * navigate the exponential search space.
 * - The System Designer: Trapped by the need to solve complex configuration 
 * or scheduling problems that are fundamentally hard.
 * * NARRATIVE ARC:
 * These problems function as a "Mountain" of state-space complexity. For 
 * the engineer with a powerful solver, it is a "Rope" (a declarative way 
 * to solve complex tasks). For the real-time system facing a combinatorial 
 * explosion, it is a "Noose" that strangles performance as variables scale.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural anchor
narrative_ontology:interval(sat_csp_interval, 0, 10).
narrative_ontology:constraint_claim(sat_csp_complexity, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts "computational time." The asymmetry between 
% verification and search allows the "hardness" to be leveraged for 
% security or to gate-keep resource allocation.
domain_priors:base_extractiveness(sat_csp_complexity, 0.4).

% Suppression score (0.0-1.0)
% Rationale: It suppresses "perfect optimization." Because the search is 
% hard, the alternative—finding the absolute best solution—is often 
% invisible or unfeasible compared to "good enough" heuristics.
domain_priors:suppression_score(sat_csp_complexity, 0.5).

% Enforcement requirements: Emerges naturally from the combinatorics of choice.
domain_priors:emerges_naturally(sat_csp_complexity).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(sat_csp_complexity, extractiveness, 0.4).
narrative_ontology:constraint_metric(sat_csp_complexity, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(sat_csp_complexity, solver_developers).
constraint_victim(sat_csp_complexity, real_time_schedulers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE COMPLEXITY ANALYST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the laws of information.
   WHEN: civilizational - Viewing the search space as a permanent substrate.
   WHERE: trapped - Logic cannot bypass the exponential branching of choices.
   SCOPE: global - Universal computation.
   
   WHY THIS CLASSIFICATION:
   To the analyst, SAT/CSP is a Mountain. The Cook-Levin theorem established 
   this "hardness" as a fixed feature of the mathematical landscape. No 
   amount of social or technological engineering can remove the 
   exponential wall of the worst-case scenario.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sat_csp_complexity,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE FORMAL VERIFICATION ENGINEER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design and deploy verification tools.
   WHEN: biographical - Ensuring software safety over a project's life.
   WHERE: arbitrage - Can use modern SAT-solvers to find bugs that humans cannot.
   SCOPE: national - Industrial/Institutional application.
   
   WHY THIS CLASSIFICATION:
   For the verification engineer, SAT is a Rope. It is a coordination 
   mechanism that allows them to "pull" correctness out of complex code. 
   By reducing a program's logic to a SAT problem, they use the solver as 
    a tether to achieve safety and reliability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sat_csp_complexity,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EMBEDDED SYSTEM - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - A subject to the hard constraints of time/hardware.
   WHEN: immediate - Must resolve a constraint within milliseconds.
   WHERE: constrained - Limited by CPU and memory "traps."
   SCOPE: local - Immediate hardware environment.
   
   WHY THIS CLASSIFICATION:
   For an embedded system trying to solve a CSP for drone flight path 
   adjustments in real-time, the complexity is a Noose. As the number of 
   obstacles (variables) grows, the time required to find a valid path 
   tightens around the system's reaction time, potentially leading to 
   catastrophic failure.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sat_csp_complexity,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(sat_csp_complexity_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain
    constraint_indexing:constraint_classification(sat_csp_complexity, mountain, context(agent_power(analytical), _, _, _)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(sat_csp_complexity, rope, context(agent_power(institutional), _, _, _)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(sat_csp_complexity, noose, context(agent_power(individual_powerless), _, _, _)).

test(power_extractiveness_scaling) :-
    % Institutional users (Engineers) derive utility from the solvers.
    % Powerless systems (Real-time chips) are drained by the complexity.
    domain_priors:base_extractiveness(sat_csp_complexity, E),
    E >= 0.4.

test(phase_transition_omega) :-
    % Logic depends on whether the problem is in the "Hard" phase or not.
    true.

:- end_tests(sat_csp_complexity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): The complexity extracts "opportunity" and 
 * "certainty." It forces a cost on finding the truth.
 * 2. NOOSE CLASSIFICATION: Crucial for real-time systems where the "halt" 
 * or "failure" of a search is a death sentence for the mission.
 * 3. PERSPECTIVES: Selected the Analyst (Math), the Engineer (Utility), 
 * and the Embedded Chip (Victim).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    phase_transition_prediction,
    "Can we predict the exact point of 'Hardness' for any given CSP 
    distribution before the search begins?",
    resolution_mechanism("Development of a universal predictive metric 
    for instance hardness"),
    impact("If Yes: The Noose becomes a Rope (we can avoid the trap). 
    If No: It remains a hidden Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Heuristic Search (Stochastic Local Search)
 * Viability: High. Often finds solutions to "hard" problems in seconds.
 * Suppression: Low. This is the "Rope" people use to escape the Noose.
 * * ALTERNATIVE 2: Quantum Adiabatic Optimization
 * Viability: Theoretical. Might "tunnel" through the Mountain.
 * * CONCLUSION:
 * The existence of heuristics converts the SAT "Mountain" into a "Rope" for 
 * practical engineering, but the worst-case complexity ensures it remains 
 * a "Noose" for safety-critical guarantees.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_sat_csp_complexity].
 * 2. Multi-perspective: ?- multi_index_report(sat_csp_complexity).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: self_surpassing_superman
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Thus Spake Zarathustra by Friedrich Nietzsche
% ============================================================================

:- module(constraint_rear_superman, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: self_surpassing
 * human_readable: The Rearing of the Superman (Übermensch)
 * domain: philosophical/social
 * temporal_scope: Post-Theistic / Modernity
 * spatial_scope: Global (Humanity)
 * * SUMMARY:
 * This constraint represents the imperative to overcome the "All-too-human" 
 * state of the "Last Man" following the "Death of God." It functions as an 
 * existential bridge (Rope) that demands the total transvaluation of existing 
 * "slave" moral values into "master" values of power and creation.
 * * KEY AGENTS:
 * - Zarathustra: The prophet/teacher who defines the "Rope" between beast and Superman.
 * - The Last Man: The degenerate agent who finds "happiness" in static comfort and equality.
 * - The Higher Man: The failed bridge-builder who suffers under the "Noose" of modern nihilism.
 * - The New Idol (The State): The institutional agent that seeks to replace God with a secular Noose.
 * * NARRATIVE ARC:
 * Zarathustra descends from the mountain to offer the "gift" of the Superman. 
 * He is met with the laughter of the market-place (The Last Men), survives 
 * the "Great Disgust," and eventually identifies his "Children" (Posterity) 
 * as the true beneficiaries of his hard-won tables of values.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(zarathustra_hazar, 0, 10).
narrative_ontology:constraint_claim(self_surpassing, rope).

% Base extractiveness score: High (0.8)
% Rationale: The rearing of the Superman extracts everything from the individual—
% "the last full measure" of comfort, safety, and traditional morality.
domain_priors:base_extractiveness(self_surpassing, 0.8).

% Suppression score: High (0.7)
% Rationale: Traditional "Good and Just" values actively suppress the creative 
% "robber" who seeks to break old tables.
domain_priors:suppression_score(self_surpassing, 0.7).

% Enforcement: Requires active will-to-power and the "Bestowing Virtue."
domain_priors:requires_active_enforcement(self_surpassing).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(self_surpassing, extractiveness, 0.8).
narrative_ontology:constraint_metric(self_surpassing, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(self_surpassing, [posterity, the_superman, the_earth]).
constraint_victim(self_surpassing, [the_last_man, the_good_and_just, "the spirit of gravity"]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE LAST MAN - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The "hop-flea" of the earth who wants only comfort.
   WHEN: immediate - Focused on "little pleasures for the day."
   WHERE: trapped - Bound within the static world of "Equality" and "Happiness."
   SCOPE: global - "The earth hath become small."
   
   WHY THIS CLASSIFICATION:
   To the Last Man, existing reality is a Mountain. He has no desire to 
   change the world or himself; he believes "We have discovered happiness." 
   There are zero degrees of freedom to pursue greatness because greatness 
   is not even conceivable.
   
   NARRATIVE EVIDENCE:
   "No shepherd, and one herd! Every one wanteth the same; every one is equal."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    self_surpassing,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(self_surpassing, the_last_man),
        constraint_victim(self_surpassing, []),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(self_surpassing, S),
    S < 0.5, % Last men don't even perceive the suppression.
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: ZARATHUSTRA - Rope
   --------------------------------------------------------------------------
   WHO: analytical - The observer and teacher of the "Great Year."
   WHEN: generational - Thinking of "Children's Land" and the "Hazar."
   WHERE: arbitrage - Moving between the mountains (solitude) and valleys (men).
   SCOPE: global - Defining the "meaning of the earth."
   
   WHY THIS CLASSIFICATION:
   Zarathustra literally describes man as a "rope over an abyss." To him, 
   values are functional tools to coordinate human evolution towards the 
   Superman. They are changeable ("Old and New Tables") and meant to be surpassed.
   
   NARRATIVE EVIDENCE:
   "Man is a rope stretched between the animal and the Superman."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    self_surpassing,
    rope,
    context(
        agent_power(analytical),
        time_horizon(generational),
        exit_options(arbitrage),
        constraint_beneficiary(self_surpassing, posterity),
        constraint_victim(self_surpassing, []),
        spatial_scope(global)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HIGHER MAN - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful - Artists, kings, and priests who "cry for help."
   WHEN: biographical - Suffering their "loneliest hours" in a degenerate age.
   WHERE: constrained - Surrounded by the "flies of the market-place."
   SCOPE: local - Their immediate social and spiritual context.
   
   WHY THIS CLASSIFICATION:
   For the Higher Men, the "Good and Just" morality is a Noose. It extracts 
   their power through pity and "slave-morality" resentment. It is a 
   coercive force that makes them "shatter" because they cannot yet 
   overleap the abyss.
   
   NARRATIVE EVIDENCE:
   "I see your soul distorted by the spirit of gravity... thy virtue is a 
   Noose around thy neck."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    self_surpassing,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(biographical),
        exit_options(constrained),
        constraint_beneficiary(self_surpassing, the_herd),
        constraint_victim(self_surpassing, higher_men),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(self_surpassing, E),
    E > 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(self_surpassing_tests).

test(perspectival_gap_superman) :-
    % The Last Man (Powerless) sees a Mountain of comfort.
    constraint_indexing:constraint_classification(self_surpassing, mountain, context(agent_power(individual_powerless), _, _, _, _, _)),
    % Zarathustra (Analytical) sees a Rope/Bridge.
    constraint_indexing:constraint_classification(self_surpassing, rope, context(agent_power(analytical), _, _, _, _, _)).

test(extraction_penalty_for_greatness) :-
    % Verify high extractiveness for those attempting the surpass.
    domain_priors:base_extractiveness(self_surpassing, Score),
    Score >= 0.8.

test(herd_suppression) :-
    % The herd acts as a suppression mechanism against new values.
    domain_priors:suppression_score(self_surpassing, Score),
    Score > 0.5.

:- end_tests(self_surpassing_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * * The central tension of Zarathustra is the "type-shift" of constraints 
 * based on the agent's degree of Will to Power. 
 * * For the mediocre (Last Man), the social constraint is a MOUNTAIN: 
 * invisible, natural, and comfortable. 
 * * For the struggling creator (Higher Man), traditional morality is a NOOSE: 
 * a device that extracts his potential to feed the herd.
 * * Zarathustra’s project is to convert the NOOSE of traditional values into 
 * the ROPE of self-surpassing. He explicitly uses the "Rope" metaphor to 
 * denote a functional, albeit dangerous, coordination mechanism.
 * * The high extractiveness (0.8) reflects the "last full measure of devotion" 
 * Nietzsche requires of the creator—the sacrifice of the self for the 
 * concept of the Superman.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    eternal_recurrence_verification,
    "Is the 'Eternal Recurrence' a physical Mountain (law of physics) or a Rope (psychological tool)?",
    resolution_mechanism("Depends on the empirical reality of the 'Circuit of Circuits' in thermodynamics."),
    impact("If Mountain: Choice is an illusion. If Rope: It is the ultimate test of Yea-saying."),
    confidence_without_resolution(low)
).

omega_variable(
    superman_feasibility,
    "Is the Superman a real biological possibility or a poetic phantom?",
    resolution_mechanism("Generational monitoring of 'Hazar' developments."),
    impact("If phantom: Zarathustra is a 'false magician' leading to a Noose of despair."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * * ALTERNATIVE 1: Christian Nihilism
 * Viability: Historically dominant (The Old Table).
 * Suppression: Rejected by the fact of the "Death of God."
 * Evidence: "God is Dead! Of his pity for man hath God died."
 * * ALTERNATIVE 2: The New Idol (The State)
 * Viability: Emerging as the secular replacement for the church.
 * Suppression: Critiqued as "the coldest of all cold monsters."
 * Evidence: "There, where the state ceaseth... there commenceth the man."
 * * CONCLUSION:
 * The existence of these powerful alternatives (Church and State) forces 
 * Zarathustra's path into a NOOSE classification for any agent caught 
 * between the old values and the new, as both institutions actively 
 * suppress the "Way of the Creating One."
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(self_surpassing_superman, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(self_surpassing_superman, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(self_surpassing_superman, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: shannon_entropy_limit
% ============================================================================
% Generated: 2024-05-22
% Model: Gemini 1.5 Pro
% Source: A Mathematical Theory of Communication (C. E. Shannon, 1948)
% ============================================================================

:- module(constraint_shannon_entropy_limit, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor for indexing
narrative_ontology:interval(shannon_entropy_limit, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: shannon_entropy_limit
 * human_readable: The Fundamental Limit of Information Transmission
 * domain: technological/mathematical
 * temporal_scope: 1948 - Present (Civilizational)
 * spatial_scope: Global/Universal
 * * SUMMARY:
 * Shannon defines the fundamental problem of communication as reproducing a message 
 * exactly or approximately. He introduces 'Entropy' (H) as a measure of 
 * uncertainty/choice  and 'Channel Capacity' (C) as the maximum 
 * rate of transmission. These mathematical realities act as 
 * inescapable boundaries for all communication systems.
 * * KEY AGENTS:
 * - The Engineer/Transducer: Seeks to match source to channel.
 * - The Noisy Channel: The physical medium that imposes limits.
 * - The Analytical Observer: Recognizes the mathematical necessity of the limits.
 * * NARRATIVE ARC:
 * The paper moves from identifying simple noiseless systems to proving that 
 * information can be sent reliably even through noise, provided the rate 
 * does not exceed Capacity.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Base extractiveness: Low (0.1). 
% These are laws of nature; they do not "extract" value for a specific 
% beneficiary, though they dictate the "cost" of communication.
domain_priors:base_extractiveness(shannon_entropy_limit, 0.1).

% Suppression: Low (0.2). 
% Alternatives (like non-logarithmic measures) are discussed but dismissed 
% based on mathematical suitability and intuition .
domain_priors:suppression_score(shannon_entropy_limit, 0.2).

% Enforcement: Emerges naturally from the statistical structure of messages.
domain_priors:emerges_naturally(shannon_entropy_limit).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: The Communication Engineer - ROPE
   --------------------------------------------------------------------------
   WHO: institutional (The system designer/State/Telecom)
   WHEN: biographical (Designing and deploying a system)
   WHERE: mobile (Can choose different coding methods)
   SCOPE: national/global
   
   WHY THIS CLASSIFICATION:
   For the engineer, Shannon's theory is a Rope. It provides the functional 
   coordination mechanism (encoding/decoding) to bypass the "Noose" of noise. 
   By understanding the limit, they can build efficient systems.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    shannon_entropy_limit,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: The Signal in a Noisy Channel - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_powerless (The specific message/bit)
   WHEN: immediate (The duration of transmission)
   WHERE: trapped (Cannot leave the channel)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   From the perspective of a single message subject to noise, the limit is 
   a Noose. If the rate is too high, the noise "kills" the message's 
   meaning, creating equivocation that cannot be escaped without external 
   correction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    shannon_entropy_limit,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The Mathematician - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: civilizational
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The observer sees these limits as a Mountain—unchangeable laws of the 
   universe. $H = -\sum p_i \log p_i$ is not a policy; it is a mathematical 
   certainty derived from axioms of choice and uncertainty .
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    shannon_entropy_limit,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(shannon_entropy_limit_tests).

test(perspectival_shift) :-
    constraint_indexing:constraint_classification(shannon_entropy_limit, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(shannon_entropy_limit, mountain, context(agent_power(analytical), _, _, _)).

test(capacity_as_rope) :-
    % Engineers use capacity to solve the "fundamental problem"
    domain_priors:base_extractiveness(shannon_entropy_limit, E),
    E < 0.3.

test(noise_as_noose_trigger) :-
    % Without proper coding, noise enforces a "Noose" of equivocation
    domain_priors:requires_active_enforcement(shannon_entropy_limit).

:- end_tests(shannon_entropy_limit_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 1.5 Pro
 * Date: 2024-05-22
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.1): Mathematical laws are non-extractive. They 
 * apply to the king and the peasant equally.
 * 2. PERSPECTIVES: Chose Institutional (Engineer) vs Powerless (Signal) 
 * to highlight that while the *theory* is a Rope, the *physical reality* * of noise is a Noose for the data.
 * 3. MOUNTAIN RATIONALE: Shannon himself notes that semantic aspects are 
 * "irrelevant to the engineering problem", emphasizing the 
 * cold, objective "Mountain" of the mathematical structure.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Hartley's Measure
 * Viability: Used before Shannon.
 * Suppression: Shannon generalized it, showing it was a subset of 
 * statistical information.
 * * CONCLUSION: 
 * Shannon's theory is a rare example of a "Mountain" discovered through 
 * engineering, which then became the "Rope" for the digital age.
 */

% ============================================================================
% END OF CONSTRAINT STORY
% ============================================================================
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: silicon_lexicon_overload
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini 1.5 Pro
% Source: The "Corporate-Cyberpunk" linguistic shift in the 21st Century
% ============================================================================

:- module(silicon_lexicon_overload, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% The Structural Anchor for the L-OS install
narrative_ontology:interval(silicon_lexicon_overload, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: silicon_lexicon_overload
 * human_readable: The Silicon Lexicon (Linguistic L-OS)
 * domain: technological/corporate/neurolinguistic
 * temporal_scope: Post-2010 CE (The "Disruption" Era)
 * spatial_scope: Global (Digital/Corporate)
 * * SUMMARY:
 * Tech-Speak (e.g., "bandwidth," "alignment," "hard-coded") has moved from 
 * engineering jargon to a mandatory social protocol. It acts as a "Noose" 
 * that translates human effort into machine-readable "output." If you don't 
 * speak the "Build," you are "deprecated."
 * * KEY AGENTS:
 * - The Stack-Architect (CEO): Redefining reality through "Disruption."
 * - The Ghost-in-the-Machine (Gig Worker): Forced to optimize their "bandwidth."
 * - The Glitch-Hunter (Cultural Critic): Observing the erosion of non-technical thought.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Base extractiveness: High (0.8)
% This lexicon extracts human nuances (empathy, rest) and rebrands them 
% as "uptime" or "synergy" for corporate gain.
domain_priors:base_extractiveness(silicon_lexicon_overload, 0.8).

% Suppression: High (0.7)
% Speaking in "Analog" terms in a "Digital" workplace leads to social 
% and professional "un-indexing."
domain_priors:suppression_score(silicon_lexicon_overload, 0.7).

% Enforcement: Requires active enforcement (via Performance Reviews/Slack)
domain_priors:requires_active_enforcement(silicon_lexicon_overload).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE STACK-ARCHITECT (CEO) - ROPE
   --------------------------------------------------------------------------
   WHO: institutional - The "Root Admin" of the corporate culture.
   WHEN: immediate - Navigating the next "Pivot."
   WHERE: arbitrage - Can swap "stacks" or languages at will.
   SCOPE: global - Their "Vision" spans the network.
   
   WHY THIS CLASSIFICATION:
   To the CEO, Tech-Speak is a Rope. It is a high-tensile tool used to 
   coordinate thousands of units (employees) toward a single "Output." 
   It allows them to bypass traditional cultural friction and "deploy" 
   change instantly across the organization.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    silicon_lexicon_overload,
    rope,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE GIG-WORKER (COURIER) - NOOSE
   --------------------------------------------------------------------------
   WHO: individual_powerless - Bound by the algorithm.
   WHEN: biographical - Their "Runtime" is limited.
   WHERE: trapped - The "Digital Commons" is the only place to find work.
   SCOPE: local - Their immediate "Node."
   
   WHY THIS CLASSIFICATION:
   The Lexicon is a Noose. When the worker is told they lack "bandwidth" 
   for a sick day, the language is being used as a coercive weapon to 
   strip away their humanity. They are forced to use the language of their 
   own obsolescence.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    silicon_lexicon_overload,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BORN-DIGITAL (Gen Alpha) - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: individual_moderate - Navigating the only world they've ever known.
   WHEN: generational - This is the "Base Code."
   WHERE: mobile - Comfortable in the "Metaverse," but cannot imagine "Analog."
   SCOPE: global - The borderless internet.
   
   WHY THIS CLASSIFICATION:
   For the child born into the "Stack," this language is a Mountain. It 
   is not "tech-speak"; it is just "speech." They don't "decide" to 
   call a friendship a "connection"—that is simply the natural law of 
   the digital environment they inhabit.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    silicon_lexicon_overload,
    mountain,
    context(
        agent_power(individual_moderate),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(silicon_lexicon_tests).

test(algorithmic_noose) :-
    % Test that powerless agents under high extractiveness perceive a Noose
    constraint_indexing:constraint_classification(silicon_lexicon_overload, noose, context(agent_power(individual_powerless), _, _, _)).

test(generational_firmware) :-
    % Test that generational time horizons bake the language into a Mountain
    constraint_indexing:constraint_classification(silicon_lexicon_overload, mountain, context(_, time_horizon(generational), _, _)).

test(exit_option_power_gap) :-
    % Test the gap between the "Arbitrage" CEO and the "Trapped" Worker
    constraint_indexing:constraint_classification(silicon_lexicon_overload, rope, context(_, _, exit_options(arbitrage), _)),
    constraint_indexing:constraint_classification(silicon_lexicon_overload, noose, context(_, _, exit_options(trapped), _)).

:- end_tests(silicon_lexicon_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. THE "NOOSE" OF OPTIMIZATION: In the KJV era, the Noose was "Heresy." 
 * In the Cyberpunk era, the Noose is "Inefficiency." The language 
 * itself enforces this by removing the words for "non-productive time."
 * * 2. THE MOUNTAIN OF THE NATIVE: The most dangerous phase of a Noose 
 * is when it becomes a Mountain—when people stop realizing they are 
 * speaking like machines and start thinking they *are* machines.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE: "Human-Centric" or "Poetic" Language
 * Viability: Low in professional contexts (seen as "unprofessional" or "vague").
 * Suppression: Active. Using "poetic" language in a Jira ticket is 
 * flagged as a "blocker" or "noise."
 * * CONCLUSION:
 * The Tech-Lexicon is a "Hard-Coded" Noose because it actively de-platforms 
 * any alternative way of describing human experience.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: skills_based_hiring
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Market Design / Labor Economics / Skills-Based Hiring Trends
% ============================================================================

:- module(constraint_skills_based_hiring, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: skills_based_hiring
 * human_readable: Skills-Based Hiring (De-credentialing)
 * domain: economic/technological/social
 * temporal_scope: Biographical to Historical
 * spatial_scope: Global
 * * SUMMARY:
 * Skills-based hiring is a matching market shift where employers prioritize 
 * specific competencies and verified "proof of work" over traditional degree 
 * credentials. This moves the bottleneck from "Institutional Pedigree" 
 * (College Match) to "Granular Verification" (Skill Match).
 * * KEY AGENTS:
 * - The Non-Degree Applicant: Gains access to elite roles via technical proof.
 * - The Credentialed Elite: Faces devaluation of their institutional pedigree.
 * - The Automated Evaluator: AI/Platform tools that score specific skills.
 * * NARRATIVE ARC:
 * The constraint functions as a "Demolished Wall." By removing the degree 
 * requirement, the market "thins" the power of elite universities. However, 
 * it replaces the "Degree Noose" with a "Continuous Testing Noose," where 
 * agents must constantly prove their worth in a granular, high-frequency match.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(skills_based_hiring, 0, 10).
narrative_ontology:constraint_claim(skills_based_hiring, rope).

% Base extractiveness score (0.3)
% Lower than college admissions because it reduces the "pre-match" cost of 
% expensive degrees, though platform fees for certification may emerge.
domain_priors:base_extractiveness(skills_based_hiring, 0.3).

% Suppression score (0.2)
% Low suppression; it encourages a plurality of paths (bootcamps, self-taught).
domain_priors:suppression_score(skills_based_hiring, 0.2).

% Enforcement requirements
domain_priors:emerges_naturally(skills_based_hiring). % Driven by labor scarcity

% Metrics
narrative_ontology:constraint_metric(skills_based_hiring, extractiveness, 0.3).
narrative_ontology:constraint_metric(skills_based_hiring, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(skills_based_hiring, self_taught_experts).
constraint_victim(skills_based_hiring, mid_tier_liberal_arts_colleges).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NON-DEGREE APPLICANT - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate (empowered by skill proof)
   WHEN: biographical
   WHERE: mobile (can work for multiple firms based on skill proof)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the self-taught or non-traditional student, skills-based hiring is 
   a "Rope." It is the first coordination mechanism that allows them to 
   climb into high-wage labor markets without the $100k "pay-to-play" 
   entry fee of a degree.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    skills_based_hiring,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(skills_based_hiring, S),
    S < 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MID-TIER GRADUATE - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (pedigree is no longer a shield)
   WHEN: immediate
   WHERE: trapped (stuck with debt for a devalued credential)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For someone who relied on their degree for market access, this shift 
   is a "Noose." Their primary constraint (the degree) has been 
   demoted, forcing them into a high-competition skill-arena where 
   their "institutional signal" no longer grants them a safe exit or 
   premium wage.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    skills_based_hiring,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HR ALGORITHM - Mountain
   --------------------------------------------------------------------------
   WHO: institutional/analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the automated system, skills are "Mountains." Data is the only 
   reality. A candidate either has the verified Python competency or 
   they do not. The algorithm views the match as a cold, immutable 
   binary filter of capacity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    skills_based_hiring,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(skills_based_hiring),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(skills_hiring_tests).

test(pedigree_devaluation) :-
    % Testing that 'trapped' traditional grads experience the shift as a Noose.
    constraint_indexing:constraint_classification(skills_based_hiring, noose, context(_, _, trapped, _)).

test(access_rope) :-
    % Testing that mobile, skill-heavy agents see the Rope.
    constraint_indexing:constraint_classification(skills_based_hiring, rope, context(_, _, mobile, _)).

:- end_tests(skills_hiring_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * Skills-based hiring is a "de-matching" of the traditional 
 * University-Employer pipeline. It reduces extraction by decreasing the 
 * "entry fee" (Degrees), but increases the "monitoring pressure" (Noose) 
 * as workers must continuously prove their skills in an AI-gated market.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    skill_obsolescence_rate,
    "How fast will AI-driven tools make specific human skills obsolete?",
    resolution_mechanism("Tracking half-life of technical certifications in LinkedIn data"),
    impact("If High: The 'Rope' is constantly breaking; the 'Noose' of re-skilling tightens."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: skolems_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Thoralf Skolem (1922) / Set Theory / Model Theory
% ============================================================================

:- module(constraint_skolems_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: skolems_paradox
 * human_readable: Skolem's Paradox (The Relativity of Cardinality)
 * domain: technological/logic/mathematics
 * temporal_scope: Permanent (Universal Laws of Formal Systems)
 * spatial_scope: Global (Mathematical Foundations)
 * * SUMMARY:
 * Skolem's Paradox arises from the Downward Löwenheim–Skolem theorem, which states 
 * that if a first-order theory (like ZFC) has an infinite model, it has a 
 * countable model. The "paradox" is that ZFC proves the existence of 
 * uncountable sets, yet it must have a model where every set is countable 
 * from the outside.
 * * KEY AGENTS:
 * - The Absolutist: Seeking an absolute, "true" universe of sets.
 * - The Model Theorist: Utilizing the relativity of models to explore 
 * different mathematical structures.
 * - The Formal System (First-Order Logic): The medium that imposes the 
 * constraint of countability.
 * * NARRATIVE ARC:
 * The paradox functions as a hard limit on the expressive power of first-order 
 * language (Mountain). For those building meta-theories, it is a tool (Rope) 
 * for distinguishing between internal and external perspectives. For the 
 * Platonist, it is a Noose that prevents the formalization of a unique, 
 * absolute mathematical reality.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural anchor
narrative_ontology:interval(skolems_paradox_interval, 0, 10).
narrative_ontology:constraint_claim(skolems_paradox, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: Low. It extracts "absoluteness" from mathematical claims but 
% doesn't extract resources; it primarily forces a shift to meta-logic.
domain_priors:base_extractiveness(skolems_paradox, 0.2).

% Suppression score (0.0-1.0)
% Rationale: Moderate. Alternatives like second-order logic are well-known 
% but suppressed in foundational debates due to their lack of completeness.
domain_priors:suppression_score(skolems_paradox, 0.4).

% Enforcement: Emerges naturally from the structure of first-order logic.
domain_priors:emerges_naturally(skolems_paradox).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(skolems_paradox, extractiveness, 0.2).
narrative_ontology:constraint_metric(skolems_paradox, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(skolems_paradox, model_theorists).
constraint_victim(skolems_paradox, mathematical_absolutists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ANALYTICAL OBSERVER - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal logical laws.
   WHEN: civilizational - Operates on the scale of eternal mathematical truth.
   WHERE: trapped - Logic cannot bypass the Downward Löwenheim–Skolem theorem.
   SCOPE: global - Universal applicability.
   
   WHY THIS CLASSIFICATION:
   To the analytical observer, the paradox is a Mountain. It is an unchangeable 
   feature of the landscape of formal systems. It demonstrates a permanent 
   gap between what can be "said" in a language and what "is" in a model.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    skolems_paradox,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE META-MATHEMATICIAN - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power that defines the meta-theory.
   WHEN: biographical - Achieving goals within a professional lifetime.
   WHERE: arbitrage - Can move between the internal model and the meta-model.
   SCOPE: national - Specific to the formal ecosystem.
   
   WHY THIS CLASSIFICATION:
   For the meta-mathematician, the paradox is a Rope. It is a coordination 
   mechanism that allows for the precise definition of "relativity." It 
   provides the ladder to climb from the object-language to the meta-language 
   without falling into contradiction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    skolems_paradox,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PLATONIC IDEALIST - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the rules of logic.
   WHEN: immediate - The current attempt to find absolute truth.
   WHERE: trapped - The formal system is the only venue for proof.
   SCOPE: local - Immediate workspace.
   
   WHY THIS CLASSIFICATION:
   For the idealist seeking a unique "True Universe of Sets," the paradox is 
   a Noose. Every attempt to specify the "Absolute" is strangled by the fact 
   that a countable model can always be found that "mimics" the uncountable 
   properties, rendering their absolute claims relative.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    skolems_paradox,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(skolems_paradox_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(skolems_paradox, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(skolems_paradox, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(skolems_paradox, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(power_extractiveness_relativity) :-
    % Powerless idealists experience total extraction of absoluteness (Noose).
    % Institutional meta-theorists leverage the relativity (Rope).
    domain_priors:base_extractiveness(skolems_paradox, Score),
    Score >= 0.2.

test(time_immutability_scale) :-
    % Long-term civilizational logic = Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(skolems_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.2): The paradox doesn't take physical wealth, but it 
 * extracts "semantic certainty." It forces a move to meta-theory, which is 
 * an energy/cognitive cost.
 * 2. PERSPECTIVE SELECTION: Analyst (Mountain), Meta-Theorist (Rope), and 
 * Idealist (Noose) provide the necessary spread to show how a logical truth 
 * behaves differently based on agent intent.
 * 3. NOOSE ARGUMENT: The "Noose" for the idealist is the inability to fix 
 * a reference to an absolute reality within a formal system.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    standard_model_existence,
    "Is there a privileged 'Standard Model' of Set Theory that is not relative, or is reality an infinite sea of models?",
    resolution_mechanism("Discovery of higher-order logical principles that define a unique universe"),
    impact("If Unique: Skolem's Paradox is a Rope. If Infinite Sea: It is a permanent Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Second-Order Logic
 * Viability: Prevents Skolem's Paradox by allowing quantification over sets.
 * Suppression: High. Second-order logic lacks completeness and compactness, 
 * leading logicians to prefer the "cleaner" but "relative" first-order logic.
 * * CONCLUSION:
 * The existence of Second-Order logic as a potential (but discarded) Rope 
 * confirms that the First-Order "Mountain" is a chosen constraint of the 
 * mathematical community.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_skolems_paradox].
 * 2. Multi-perspective: ?- multi_index_report(skolems_paradox).
 * 3. Run tests: ?- run_tests(skolems_paradox_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: sludge_bureaucratic_friction
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Sunstein, C. R. (2021). Sludge. / Thaler, R. H. (2018).
% ============================================================================

:- module(constraint_sludge, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: sludge_bureaucratic_friction
 * human_readable: Sludge (Intentional Friction)
 * domain: political/economic/social
 * temporal_scope: Immediate to Biographical
 * spatial_scope: National
 * * SUMMARY:
 * Sludge consists of administrative burdens—excessive paperwork, long wait 
 * times, and complex requirements—that act as a barrier to entry or exit. 
 * It is often used by institutions to "throttle" access to rights or resources.
 * * KEY AGENTS:
 * - The Applicant: The agent attempting to navigate the friction to access a benefit.
 * - The Bureaucrat: The administrator who maintains or enforces the sludge layer.
 * - The Policy Designer: The agent who uses sludge as a "hidden" budget control.
 * * NARRATIVE ARC:
 * Sludge functions as a "Viscous Noose." It does not provide a hard "No," 
 * but it makes the "Yes" so expensive in terms of time and cognitive effort 
 * that agents give up. It is the primary tool for creating a "thin" 
 * matching market in social services.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(sludge_bureaucratic_friction, 0, 10).
narrative_ontology:constraint_claim(sludge_bureaucratic_friction, noose).

% Base extractiveness score (0.7)
% High; it extracts time and psychological well-being from the most 
% vulnerable populations to save institutional costs.
domain_priors:base_extractiveness(sludge_bureaucratic_friction, 0.7).

% Suppression score (0.6)
% Moderate-High; while the rules are public, the "hidden costs" and 
% complexity suppress the viability of the benefit.
domain_priors:suppression_score(sludge_bureaucratic_friction, 0.6).

% Enforcement: Requires active enforcement (Institutional inertia/design).
domain_priors:requires_active_enforcement(sludge_bureaucratic_friction).

% Metrics
narrative_ontology:constraint_metric(sludge_bureaucratic_friction, extractiveness, 0.7).
narrative_ontology:constraint_metric(sludge_bureaucratic_friction, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(sludge_bureaucratic_friction, budget_conscious_governments).
constraint_beneficiary(sludge_bureaucratic_friction, predatory_subscription_models).
constraint_victim(sludge_bureaucratic_friction, low_income_applicants).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ELIGIBLE APPLICANT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate (crisis window)
   WHERE: trapped (no alternative source for the benefit)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For someone in need of emergency aid, sludge is a "Noose." 
   The 50-page form and the requirement to mail physical documents 
   strangles their access to survival. Every hour spent in the "waiting 
   room" is an extraction of their limited life-resources.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sludge_bureaucratic_friction,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COMPLIANCE OFFICER - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: biographical
   WHERE: mobile
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   To the institution, sludge is a "Rope." It is a coordination tool 
   used to "vet" applicants and prevent fraud. They see the friction 
   as a necessary filter to ensure that only the "truly deserving" 
   (those persistent enough to climb the rope) get through.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sludge_bureaucratic_friction,
    rope,
    context(agent_power(institutional), time_horizon(biographical), exit_options(mobile), spatial_scope(national))
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SOCIOLOGIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The observer sees sludge as a "Mountain" of institutional entropy. 
   Complexity naturally grows in any large system unless it is 
   actively fought. It is a structural feature of human organization 
   that dictates the "flow rate" of social justice.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sludge_bureaucratic_friction,
    mountain,
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))
) :-
    domain_priors:requires_active_enforcement(sludge_bureaucratic_friction),
    !.

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: smartphone_ubiquity
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Chris Stokel-Walker, "Smartphones (yes, really): Best ideas of the century"
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_smartphone_ubiquity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: smartphone_ubiquity
 * human_readable: The Smartphone Ubiquity Constraint
 * domain: technological/social/economic
 * temporal_scope: 2007 (iPhone release) to 2026+
 * spatial_scope: Global (7 in 10 people worldwide)
 * * SUMMARY:
 * The smartphone has transitioned from a communication device to a "place within 
 * which we live," functioning as a portable digital home that bridges physical 
 * and digital realities. While it allows lower-income 
 * nations to bypass legacy infrastructure (banks, desktops), it simultaneously 
 * extracts privacy and creates a "shell" that can lead to social disconnect 
 *.
 * * KEY AGENTS:
 * - The Global User: One of the 70% who uses the device for payments, crops, or 
 * social connection.
 * - The Data Scientist/Critic: Observes the "insidious effects" of privacy 
 * extraction and social media addiction.
 * - The Regulator: Acts to ban devices or social media access (e.g., Australia's 
 * under-16 ban) to mitigate social harm.
 * * NARRATIVE ARC:
 * This constraint represents a "Rope" for global coordination (fintech, medical 
 * circumvention) that has effectively become a "Mountain" of mandatory 
 * infrastructure. For vulnerable groups (under-16s) or 
 * privacy-aware subjects, it acts as a "Noose" of surveillance and exclusion 
 *.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(smartphone_ubiquity, 0, 10).
narrative_ontology:constraint_claim([smartphone_ubiquity], [technological_ubiquity]).

% Base extractiveness score (0.75 = High)
% Rationale: Smartphones have accustomed users to "far less privacy," extracting 
% data even within our own homes. High score triggers 
% Mandatrophy protocol.
domain_priors:base_extractiveness(smartphone_ubiquity, 0.75).

% Suppression score (0.50 = Moderate)
% Rationale: Ubiquity has led users to "bypass the desktop computer altogether," 
% effectively suppressing older infrastructure through sheer utility and 
% adoption.
domain_priors:suppression_score(smartphone_ubiquity, 0.50).

% Enforcement requirements: Emerges naturally through ubiquity and adoption, 
% but requires active enforcement for bans (schools, social media).
domain_priors:requires_active_enforcement(smartphone_ubiquity).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(smartphone_ubiquity, extractiveness, 0.75).
narrative_ontology:constraint_metric(smartphone_ubiquity, suppression_requirement, 0.50).

% BENEFICIARIES & VICTIMS
% Beneficiaries: FinTech platforms (70M users), mobile operators, and doctors 
% in lower-income countries.
constraint_beneficiary(smartphone_ubiquity, fintech_platforms).
constraint_beneficiary(smartphone_ubiquity, lower_income_infrastructure).
% Victims: Users facing total privacy loss and under-16s facing social media 
% exclusion bans.
constraint_victim(smartphone_ubiquity, privacy_conscious_users).
constraint_victim(smartphone_ubiquity, australian_under_16s).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: RURAL FARMER/DOCTOR - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (Uses the device to bypass traditional banks/machines)
   WHEN: biographical (Integrating technology into daily work)
   WHERE: arbitrage (Circumventing expensive machinery/centralized banks)
   SCOPE: local (Monitoring crops/patients)
   
   WHY THIS CLASSIFICATION:
   For those in lower-income regions, the smartphone is a functional Rope—a 
   coordination tool that provides infrastructure where none existed, allowing 
   them to "bypass" physical constraints.
   
   NARRATIVE EVIDENCE:
   "Smartphone-based fintech platforms now broker payments... removing the 
   need for traditional, centralised banks... circumvent the need for 
   expensive machinery".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    smartphone_ubiquity,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(smartphone_ubiquity, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: AUSTRALIAN UNDER-16 - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Subject to blanket legal bans)
   WHEN: immediate (Facing a sudden legal cutoff)
   WHERE: trapped (Cannot legally access the "digital house" of friends)
   SCOPE: national (Australia-wide ban)
   
   WHY THIS CLASSIFICATION:
   For youth subject to the ban, the smartphone/social media constraint is a 
   Noose—a coercive exclusion from the "additional place within which we live" 
   that their peers in other countries enjoy.
   
   NARRATIVE EVIDENCE:
   "Australia imposed a blanket social media ban for under 16s... countries 
   to ban phones in schools".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    smartphone_ubiquity,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(smartphone_ubiquity, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: DATA SCIENTIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer of ubiquitous data harvesting)
   WHEN: historical (The long-term shift in privacy norms)
   WHERE: trapped (Even online in "our own homes")
   SCOPE: global (7 in 10 ownership)
   
   WHY THIS CLASSIFICATION:
   The scientist sees smartphone ubiquity as a Mountain—an immutable reality 
   where privacy has been permanently altered at a species-wide level.
   
   NARRATIVE EVIDENCE:
   "It’s a device that has accustomed users to have far less privacy... not 
   only in public, but wherever we are".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    smartphone_ubiquity,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(smartphone_ubiquity, S),
    S > 0.4,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(smartphone_ubiquity_tests).

test(multi_perspective_variance) :-
    % Farmer (Rope) vs Minor (Noose) vs Scientist (Mountain)
    constraint_indexing:constraint_classification(smartphone_ubiquity, rope, context(individual_moderate, _, arbitrage, _)),
    constraint_indexing:constraint_classification(smartphone_ubiquity, noose, context(individual_powerless, _, trapped, national)),
    constraint_indexing:constraint_classification(smartphone_ubiquity, mountain, context(analytical, _, _, global)).

test(power_extractiveness_scaling) :-
    % Privacy loss (0.75) is experienced most by the powerless who cannot exit the system.
    Score1 = 0.75,
    Score2 = 0.30,
    Score1 > Score2.

:- end_tests(smartphone_ubiquity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.75):
 * Reasoning: Chosen because the text emphasizes an "insidious" and total loss 
 * of privacy, even in private residences.
 * * 2. MANDATROPHY STATUS:
 * STATUS: [RESOLVED MANDATROPHY]. High extraction (0.75) is justified for the 
 * user gaining banking/medical access (Rope) but is a Noose for the 
 * surveilled subject.
 * * 3. PERSPECTIVE SELECTION:
 * Included the Australian "ban" context to represent the powerless 
 * Noose perspective.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    privacy_extraction_intent,
    "Is the extraction of privacy a functional necessity for smartphone utility (Rope) or a predatory choice by providers (Noose)?",
    resolution_mechanism("Audit of model efficiency with locally-encrypted data vs. centralized cloud-harvested data"),
    impact("If necessity: Mountain. If predatory: Noose/Mandatrophy."),
    confidence_without_resolution(medium)
).

omega_variable(
    digital_home_sovereignty,
    "Do users actually 'live' in the digital home (Rope) or are they 'retreating' into a shell (Noose)?",
    resolution_mechanism("Long-term analysis of psychological markers of 'disconnection' vs. 'connection' in heavy users"),
    impact("If live: Rope. If retreat: Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Desktop-based / Centralized Infrastructure
 * Viability: The 20th-century standard for banking and computing.
 * Suppression: Bypassed by ubiquity in lower-income countries.
 * * ALTERNATIVE 2: Privacy-by-Design Devices
 * Viability: Devices that do not extract data in the home.
 * Suppression: Users are already "accustomed" to less privacy, making alternatives 
 * socially invisible.
 * * CONCLUSION:
 * The 21st-century "Best Idea" is the transition from physical separation to 
 * a "digital house," which acts as a Rope for many while extracting the 
 * privacy Noose.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/smartphone_ubiquity].
 * 2. Multi-perspective: ?- multi_index_report(smartphone_ubiquity).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: social_credit_architecture
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Global Social Credit & Algorithmic Governance
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_social_credit, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: social_credit_architecture
 * human_readable: The Social Credit Architecture
 * domain: economic/social/political
 * * SUMMARY:
 * A system that operationalizes "trustworthiness" by decoding behavioral data 
 * into indicators. It creates real-world consequences based on 
 * compliance with state-sanctioned norms.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(scs_operational_2026, 0, 10).
narrative_ontology:constraint_claim(social_credit_architecture, rope).

% Base extractiveness score (0.8)
% Rationale: High potential for coercive control; extracts political/social 
% conformity as the price of mobility.
domain_priors:base_extractiveness(social_credit_architecture, 0.8).

% Suppression score (0.7)
% Rationale: Mandatory digital integration makes exit into informal networks 
% difficult.
domain_priors:suppression_score(social_credit_architecture, 0.7).

domain_priors:requires_active_enforcement(social_credit_architecture).

% Metrics required for Section 1
narrative_ontology:constraint_metric(social_credit_architecture, extractiveness, 0.8).
narrative_ontology:constraint_metric(social_credit_architecture, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(social_credit_architecture, [state_governance, high_score_elites]).
constraint_victim(social_credit_architecture, [political_dissenters, debt_defaulters]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: The Blacklisted Defaulter - Noose
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    social_credit_architecture,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(social_credit_architecture, E),
    E > 0.7, % High extraction + trapped = Noose
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: The Model Citizen - Rope
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    social_credit_architecture,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: The State Architect - Mountain
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    social_credit_architecture,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    !.

/* ==========================================================================
   4. TESTS (Mandatrophy Resolution)
   ========================================================================== */

:- begin_tests(social_credit_tests).

test(multi_perspective_variance) :-
    % Verify high extraction (0.8) is resolved via indexical shift
    constraint_indexing:constraint_classification(social_credit_architecture, Type1, 
        context(individual_powerless, biographical, trapped, national)),
    constraint_indexing:constraint_classification(social_credit_architecture, Type2, 
        context(individual_moderate, immediate, mobile, local)),
    Type1 = noose,
    Type2 = rope.

test(mandatrophy_validation) :-
    % Ensure the extraction score is correctly captured
    domain_priors:base_extractiveness(social_credit_architecture, E),
    E == 0.8.

:- end_tests(social_credit_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * [RESOLVED MANDATROPHY]: The 0.8 extraction score represents the systemic 
 * price of conformity. By indexing this as a NOOSE for the blacklisted, 
 * we demonstrate how the system uses "joint punishment" (travel bans, job exclusion) 
 * to coerce behavior. For high-scoring agents, the ROPE classification 
 * reflects the convenience and administrative perks offered by the system.
 * * OMEGAS:
 * omega_variable(dissident_visibility,
 * "Is the system primarily for debt enforcement or political repression?",
 * resolution_mechanism("Analyze the ratio of financial defaulters vs dissenters on blacklists"),
 * impact("Affects the human-readable classification of intent."),
 * confidence_without_resolution(low)
 * ).
 */

/* ==========================================================================
   6. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE:
 * ?- [social_credit_architecture].
 * ?- run_tests(social_credit_tests).
 */
% ============================================================================
% CONSTRAINT STORY: social_loafing
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Psychometrics / Social Psychology / Ringelmann (1913) / Latane (1979)
% ============================================================================

:- module(constraint_social_loafing, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: social_loafing
 * human_readable: Social Loafing (The Ringelmann Effect)
 * domain: social/economic/psychological
 * temporal_scope: Permanent (Human Social Interaction)
 * spatial_scope: Global (Groups and Organizations)
 * * SUMMARY:
 * Social loafing is the phenomenon where individuals exert less effort when working 
 * collectively than when working individually. First observed by Max Ringelmann in 
 * rope-pulling tasks, it represents a fundamental diffusion of responsibility 
 * where individual contribution is masked by the group aggregate.
 * * KEY AGENTS:
 * - The Social Psychologist (Analytical): Observes the statistical decline in 
 * per-capita output as group size increases.
 * - The Team Manager (Institutional): Attempts to implement accountability 
 * mechanisms to mitigate effort loss.
 * - The Diligent Contributor (Individual Powerless): Subject to the increased 
 * burden of carrying the group's output when others slack.
 * * NARRATIVE ARC:
 * In any group endeavor, social loafing emerges as a "Mountain"—a natural 
 * byproduct of the human brain's energy-conservation heuristics. For the 
 * administrator, it is a "Rope" that must be managed through task 
 * individualization. However, for the high-performing individual in a 
 * low-accountability group, it becomes a "Noose," as the collective 
 * "failure to thrive" strangles their own results and extracts their labor.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural identification and ID extraction
narrative_ontology:interval(social_loafing_interval, 0, 10).
narrative_ontology:constraint_claim(social_loafing, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.5). Social loafing extracts labor value from the 
% organization and effort from the "diligent" members to subsidize the "loafers."
domain_priors:base_extractiveness(social_loafing, 0.5).

% Suppression score (0.0-1.0)
% Rationale: Moderate (0.4). The "True Potential" of the group is suppressed 
% by the mask of the collective. Individuals' specific contributions are 
% often invisible to observers, aiding the loafing behavior.
domain_priors:suppression_score(social_loafing, 0.4).

% Enforcement: Emerges naturally from human group dynamics and energy conservation.
domain_priors:emerges_naturally(social_loafing).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(social_loafing, extractiveness, 0.5).
narrative_ontology:constraint_metric(social_loafing, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
% Beneficiary: The "Loafer" who saves energy while reaping group rewards.
constraint_beneficiary(social_loafing, low_effort_agents).
% Victim: The organization (lost output) and the diligent individual (overworked).
constraint_victim(social_loafing, [high_effort_agents, organizations]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RESEARCHER - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of social-psychological laws.
   WHEN: civilizational - Viewing human nature as a biological constant.
   WHERE: analytical - Not a participant in the work-loop.
   SCOPE: global - Applies to all human group structures.
   
   WHY THIS CLASSIFICATION:
   To the researcher, social loafing is a Mountain. It is an unchangeable 
   feature of the "human hardware." Regardless of the task or culture, the 
   inverse relationship between group size and individual effort is a 
   predictable, fixed peak in the topography of group dynamics.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    social_loafing,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PROJECT MANAGER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to structure tasks and evaluations.
   WHEN: biographical - Managing teams over a career.
   WHERE: arbitrage - Can shift between group and individual task structures.
   SCOPE: regional - Within a specific company or office.
   
   WHY THIS CLASSIFICATION:
   For management, the phenomenon is a Rope. It is a coordination challenge 
   to be managed. By breaking groups into smaller units or making individual 
   contributions identifiable, they "pull" the team toward higher 
   performance, using the constraint as a tether for organizational design.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    social_loafing,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DILIGENT STUDENT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the grade/outcome of the group.
   WHEN: immediate - Today's project deadline.
   WHERE: trapped - Cannot exit the group without administrative penalty.
   SCOPE: local - The immediate project team.
   
   WHY THIS CLASSIFICATION:
   For the high-performer in a group project, social loafing is a Noose. 
   The presence of loafers "strangles" their ability to achieve a high grade 
   without doing the work of three people. The extraction of their extra labor 
   and time is felt as a direct trap created by the system's group-based reward structure.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    social_loafing,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(social_loafing_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain
    constraint_indexing:constraint_classification(social_loafing, mountain, context(analytical, civilizational, analytical, global)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(social_loafing, rope, context(institutional, biographical, arbitrage, regional)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(social_loafing, noose, context(individual_powerless, immediate, trapped, local)).

test(power_extractiveness_effort) :-
    % Powerless individuals feel the extraction of their labor (Noose).
    % Institutional managers use it as a design challenge (Rope).
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, arbitrage, regional),
    constraint_indexing:extractiveness_for_agent(social_loafing, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(social_loafing, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability_loafing) :-
    % Over biographical time, the individual is trapped (Noose).
    % Over civilizational time, it is a Law of Human Nature (Mountain).
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(social_loafing_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.5):
 * Reasoning: Social loafing is inherently extractive. It allows one party 
 * to preserve energy/utility at the expense of others' contributions. 
 * It is moderate because it doesn't always lead to total system failure.
 * * 2. PERSPECTIVE SELECTION:
 * Chose the Researcher (Law), the Manager (Tool), and the Student/Worker (Victim) 
 * to reflect the spectrum of how group dynamics are experienced.
 * * 3. CLASSIFICATION RATIONALE:
 * Analytical → Mountain: It is a statistical inevitability of human groups.
 * Institutional → Rope: It is a parameter in organizational engineering.
 * Individual Powerless → Noose: It is an unavoidable theft of labor.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    digital_anonymity_impact,
    "Does digital mediation exacerbate the social loafing 'Noose' via 
    increased anonymity, or can it untie it via automated tracking (Rope)?",
    resolution_mechanism("Longitudinal study of per-capita output in 
    remote vs. in-person high-stakes collaboration"),
    impact("If Mountain: Loafing is deeper online. If Rope: Digital tools 
    can effectively eliminate it."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Individualized Accountability (The Peer Review)
 * Viability: High. Making each person's work identifiable is the 
 * standard "exit" from the loafing trap.
 * Suppression: Moderate. Organizations often favor "Team Unity" 
 * rhetoric which suppresses individualized metrics.
 * * CONCLUSION:
 * The existence of accountability as an "exit" (Rope) confirms that for 
 * the powerless, social loafing is a Noose—they are denied the tools to 
 * prove their own effort by the group structure.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_social_loafing].
 * 2. Multi-perspective: ?- multi_index_report(social_loafing).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: social_media_participation_threshold
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Americans' Social Media Use 2025 (Pew Research Center)
% ============================================================================

:- module(constraint_social_media_2025, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: social_media_participation_threshold
 * human_readable: The 2025 Digital Participation Threshold
 * domain: social/technological
 * temporal_scope: 2025
 * spatial_scope: National (United States)
 * * SUMMARY:
 * As of 2025, social media has reached a saturation point where certain platforms 
 * function as mandatory infrastructure for social and informational participation. 
 * [cite_start]YouTube (84%) and Facebook (71%) serve as the primary coordination hubs[cite: 50], 
 * creating a high-friction environment for those attempting to remain "unplugged" 
 * [cite_start]from the digital social record[cite: 47].
 * * KEY AGENTS:
 * - Digitally Native (Ages 18-29): Individual powerless; for whom platform 
 * [cite_start]usage is a non-negotiable landscape for social survival[cite: 130].
 * - Institutional Strategist (Brand/Org): Uses platforms as a functional 
 * [cite_start]coordination mechanism to target specific demographic segments[cite: 201].
 * - Analytical Observer (Pew Researcher): Tracks the systemic shifts in 
 * [cite_start]mode and the widening demographic "age gaps"[cite: 30, 128].
 * * NARRATIVE ARC:
 * What began as a Rope (a helpful tool for finding friends or content) has 
 * bifurcated. For institutional agents, it remains a Rope—a way to weave 
 * [cite_start]narratives and reach audiences[cite: 201]. For younger adults, it has 
 * [cite_start]become a Mountain—the physical terrain of their social life[cite: 130]. 
 * For those concerned with data/attention extraction, it is a Noose that 
 * [cite_start]chokes off non-algorithmic social alternatives[cite: 47, 238].
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the Deferential Realism suite
narrative_ontology:interval(social_media_2025_cycle, 0, 10).
narrative_ontology:constraint_claim(social_media_participation_threshold, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.6. High extraction of attention and behavioral data; 
[cite_start]% 37% of Facebook users visit "several times a day"[cite: 242, 247].
domain_priors:base_extractiveness(social_media_participation_threshold, 0.6).

% Suppression score (0.0-1.0)
% Rationale: 0.5. Moderate suppression of non-digital alternatives; 
% participants use a "range" of platforms daily, effectively crowding 
[cite_start]% out analog social time[cite: 47, 74].
domain_priors:suppression_score(social_media_participation_threshold, 0.5).

% Enforcement requirements
% Not state-enforced, but "socially enforced" through network effects 
[cite_start]% and the "burden of proof" on individuals to stay connected[cite: 47, 129].
domain_priors:emerges_naturally(social_media_participation_threshold).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(social_media_participation_threshold, extractiveness, 0.6).
narrative_ontology:constraint_metric(social_media_participation_threshold, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(social_media_participation_threshold, platform_architects).
constraint_beneficiary(social_media_participation_threshold, demographic_advertisers).
constraint_victim(social_media_participation_threshold, individual_attention_span).
constraint_victim(social_media_participation_threshold, non_digital_social_networks).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: YOUNG ADULT (18-29) - Mountain
   --------------------------------------------------------------------------
   
   [cite_start]WHO: individual_powerless - Usage is a prerequisite for social belonging[cite: 131].
   [cite_start]WHEN: immediate - 95% use YouTube and 63% use TikTok[cite: 225].
   [cite_start]WHERE: trapped - Bound by the "network effect" of their peer group[cite: 130].
   SCOPE: local - Immediate social coordination and peer validation.
   
   WHY THIS CLASSIFICATION:
   [cite_start]For this group, Instagram (80% use) is "nature"[cite: 142]. It is an 
   unchangeable feature of the social landscape. There is no viable 
   analog alternative that offers the same "speed" of coordination.
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    social_media_participation_threshold,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(social_media_participation_threshold, S),
    S > 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: INSTITUTIONAL MARKETER - Rope
   --------------------------------------------------------------------------
   
   [cite_start]WHO: institutional - Strategic agents who shape the "use" of the standard[cite: 201].
   WHEN: biographical - Planning campaigns across fiscal cycles.
   [cite_start]WHERE: mobile - Can pivot between TikTok (growth) and Facebook (stability)[cite: 88, 118].
   SCOPE: national - Managing cross-demographic reach.
   
   WHY THIS CLASSIFICATION:
   The platforms are a Rope—a functional coordination tool. Marketers use the 
   "growing shares" of TikTok (37%) and Instagram (50%) to weave 
   [cite_start]commercial narratives[cite: 89, 90]. They see it as a beneficial 
   [cite_start]mechanism for population-scale targeting[cite: 200, 214].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    social_media_participation_threshold,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(social_media_participation_threshold, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: SOCIOLOGIST (PEW RESEARCHER) - Analytical
   --------------------------------------------------------------------------
   
   [cite_start]WHO: analytical - Observer of the broader demographic "DIFF"[cite: 136, 191].
   [cite_start]WHEN: historical - Tracking changes from 2012 to 2025[cite: 110, 112].
   WHERE: analytical - Not bound by the "addiction" loop, but by the data.
   SCOPE: global - Evaluating the U.S. adult population as a case study.
   
   WHY THIS CLASSIFICATION:
   The researcher views the system as a Rope that has become a Noose for 
   certain groups. The "age gap" of +61 on Instagram suggests that 
   [cite_start]the platform is "choking off" cross-generational communication[cite: 140, 141].
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    social_media_participation_threshold,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(social_media_participation_threshold, E),
    E > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(social_media_2025_tests).

test(age_divide_variance) :-
    % Test the massive gap in Instagram use: 18-29 (80%) vs 65+ (19%)
    % Shows that the "Mountain" is only visible to the young.
    constraint_indexing:constraint_classification(social_media_participation_threshold, T1, context(individual_powerless, immediate, trapped, local)),
    T1 = mountain.

test(extraction_frequency_check) :-
    [cite_start]% 48% net daily use on YouTube [cite: 252] indicates high attention extraction.
    domain_priors:base_extractiveness(social_media_participation_threshold, E),
    E > 0.5.

:- end_tests(social_media_2025_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: I chose 'Noose' as the base claim because the data 
 * shows high frequency (several times a day) which mimics an extractive 
 * [cite_start]feedback loop[cite: 247, 756].
 * 2. PERSPECTIVE MINIMUMS: I contrasted the young adult's 'Mountain' 
 * (inevitability) with the institution's 'Rope' (strategy) to highlight 
 * [cite_start]the power asymmetry in digital spaces[cite: 129, 201].
 * 3. OMEGA: The uncertainty remains in how "mode shifts" (phone vs web) 
 * [cite_start]might artificially inflate the perception of a constraint[cite: 122].
 */

omega_variable(
    mode_shift_bias,
    "How much does the shift from phone-only (2021) to multi-mode (2025) 
     change the perceived 'Mountain' status of these platforms?",
    resolution_mechanism("Longitudinal study comparing single-mode vs multi-mode responses in the same year"),
    impact("If high: The 'Mountain' is a measurement artifact. If low: 
            The constraint is a genuine social law."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Specialized Platforms (Reddit/Threads/Bluesky)
 * Viability: Reddit (26%) and Threads (8%) exist as alternatives for 
 * [cite_start]specific niches[cite: 65, 71, 73].
 * Suppression: Actively suppressed by the "network effect" of the 
 * [cite_start]Facebook/YouTube duopoly[cite: 50, 118].
 * * ALTERNATIVE 2: Analog Social Life
 * Viability: Physical interaction remains viable but is socially 
 * [cite_start]"taxed" by the lack of digital visibility/coordination[cite: 47].
 * * CONCLUSION:
 * The existence of niche alternatives (Bluesky/Truth Social) that remain at 
 * [cite_start]<5% indicates a "winner-take-all" Mountain/Noose dynamic[cite: 73, 78].
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [constraint_social_media_2025].
% 2. Analyze: ?- constraint_indexing:multi_index_report(social_media_participation_threshold).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: solar_system_weirdness
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Alex Wilkins, "Our solar system is extremely weird" 
% Status: [RESOLVED]
% ============================================================================

:- module(constraint_solar_system_weirdness, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: solar_system_weirdness
 * human_readable: The Solar System Configuration Anomaly
 * domain: technological/scientific
 * temporal_scope: 1990s (first exoplanets) to 2026 (present understanding) 
 * spatial_scope: Milky Way Galaxy / Solar System 
 * * SUMMARY:
 * For decades, astronomers assumed our solar system was a typical model for the 
 * universe. Large-scale surveys since the early 2000s have revealed 
 * that our neat arrangement of four rocky planets and four gas giants is actually 
 * an outlier compared to the more common "super-Earth" or "sub-Neptune" systems 
 * found elsewhere.
 * * KEY AGENTS:
 * - The Modern Astronomer: Analytical observer using long-term surveys to rewrite formation stories.
 * - The Sun: A solitary, unusually large star (larger than 90% of neighbors) that acts as the system's anchor.
 * - Jupiter: A rare, neat-orbiting gas giant whose trajectory differs from the erratic paths of most exoplanet Jupiters.
 * * NARRATIVE ARC:
 * The "Uniformity Assumption" acted as a conceptual Noose that limited planetary 
 * discovery models. Realizing our "weirdness" has provided the Rope 
 * needed to climb toward a more accurate theory of planetary formation.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(solar_system_weirdness, 0, 10).
narrative_ontology:constraint_claim([solar_system_weirdness], [scientific_paradigm_shift]).

% Base extractiveness: 0.2
% Rationale: Purely scientific/informational; no coercive extraction of labor or resources.
domain_priors:base_extractiveness(solar_system_weirdness, 0.2).

% Suppression: 0.6
% Rationale: The assumption of our system being "normal" suppressed the search 
% for anomalies and dominated the Copernican principle for decades.
domain_priors:suppression_score(solar_system_weirdness, 0.6).

% Enforcement: Emerges naturally from physical laws of planetary formation.
domain_priors:emerges_naturally(solar_system_weirdness).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(solar_system_weirdness, modern_planetary_theorists).
constraint_victim(solar_system_weirdness, legacy_copernican_models).

% Metrics for Section 1
narrative_ontology:constraint_metric(solar_system_weirdness, extractiveness, 0.2).
narrative_ontology:constraint_metric(solar_system_weirdness, suppression_requirement, 0.6).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MODERN ASTRONOMER - Rope
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer using "High Accuracy Radial Velocity Searchers") 
   WHEN: biographical (Tracking data since the early 2000s) 
   WHERE: arbitrage (Comparing thousands of exoplanets to our own system) 
   SCOPE: global (Utilizing telescopes like Kepler and TESS) 
   
   WHY THIS CLASSIFICATION:
   For the researcher, "weirdness" is a Rope—a functional tool to re-evaluate 
   how systems form and to distinguish between "weird at the 1% level" versus 
   "1 in a million".
   
   NARRATIVE EVIDENCE:
   "Realising that our solar system isn’t like most others out there has helped 
   astronomers rewrite the story of how it formed".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    solar_system_weirdness,
    rope,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(solar_system_weirdness, E),
    E < 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SUN/PLANETS - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Physical bodies subject to orbital mechanics) 
   WHEN: civilizational (The 4.5 billion year history of the system) 
   WHERE: trapped (Neat, round orbits with no trajectory exit) 
   SCOPE: national (Restricted to the local solar neighborhood) 
   
   WHY THIS CLASSIFICATION:
   The physical arrangement (four rocky, four gassy) is an immutable Mountain 
   governed by physics. It is simply a fact that we have what we have and lack 
   what we lack (like super-Earths).
   
   NARRATIVE EVIDENCE:
   "Our planets, too, are rare... we are missing planets common to most other 
   star systems – those known as super-Earths".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    solar_system_weirdness,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    % Physical laws appear immutable over civilizational/historical spans
    true,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: LEGACY UNIFORMITARIANS - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-making academic paradigms of the 20th century) 
   WHEN: historical (The era before exoplanet surveys) 
   WHERE: trapped (Incapable of imagining Earth as a "weird" outlier) 
   SCOPE: national (Academic consensus groups) 
   
   WHY THIS CLASSIFICATION:
   The "Normalcy Noose" extracted the ability to detect Earth-like planets by 
   assuming they would be found around "sun-like stars" exactly like our own, 
   leading to decades of unmet expectations.
   
   NARRATIVE EVIDENCE:
   "Even after finding thousands of exoplanets, we have yet to spot an 
   Earth-like planet around a sun-like star".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    solar_system_weirdness,
    noose,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(solar_system_weirdness, S),
    S > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(solar_system_weirdness_tests).

test(multi_perspective_variance) :-
    % Astronomer (Rope) vs Sun (Mountain) vs Legacy Theory (Noose)
    constraint_indexing:constraint_classification(solar_system_weirdness, rope, context(analytical, biographical, arbitrage, global)),
    constraint_indexing:constraint_classification(solar_system_weirdness, mountain, context(individual_powerless, civilizational, trapped, national)),
    constraint_indexing:constraint_classification(solar_system_weirdness, noose, context(institutional, historical, trapped, national)).

test(power_extractiveness_scaling) :-
    % Information extraction is low for the observer (0.2)
    domain_priors:base_extractiveness(solar_system_weirdness, E),
    E < 0.3.

test(time_immutability) :-
    % Long horizons (historical/civilizational) see the weirdness as an immutable biological/physical fact (Mountain)
    true.

:- end_tests(solar_system_weirdness_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.2): Since this is a discovery about physical reality 
 * rather than a social hierarchy, extraction is minimal.
 * * 2. SUPPRESSION (0.6): High because the Copernican "typicality" was the 
 * mandatory paradigm for nearly a century before surveys broke it.
 * * 3. PERSPECTIVE SELECTION: 
 * - Astronomer: Represents the "Rewriting" (Rope).
 * - The System itself: Represents the "Physical Facts" (Mountain).
 * - Legacy Theorists: Represents the "Lost Decades" of search (Noose).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    weirdness_degree_calibration,
    "Is the solar system weird at the 1% level or the 1-in-a-million level?",
    resolution_mechanism("Long-term analysis of data from upcoming missions like Habitable Worlds Observatory"),
    impact("If 1%: Mountain (minor variance). If 1-in-a-million: Noose (Earth is a precarious fluke)."),
    confidence_without_resolution(medium)
).

omega_variable(
    earth_twin_absence,
    "Is the lack of Earth-like planets a result of survey bias or actual non-existence?",
    resolution_mechanism("Completion of large-scale surveys looking for Earth-mass planets around G-type stars"),
    impact("If bias: Rope (just need better tools). If non-existence: Mountain (Earth is truly unique)."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: The Copernican Typicality Model
 * Viability: The previous standard for 100+ years.
 * Suppression: Actively rejected now as "weirdness" data accumulates.
 * Evidence: "It wasn’t until the early 2000s... we started to get the first 
 * hints that our solar system... might be unique".
 * * CONCLUSION:
 * The shift from "Typicality" to "Weirdness" represents the core scientific 
 * arbitrage of modern planetary science.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraints/solar_system_weirdness].
 * 2. Multi-perspective: ?- multi_index_report(solar_system_weirdness).
 * 3. Run tests: ?- run_tests(solar_system_weirdness_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: sorites_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Eubulides of Miletus / Vagueness in Language and Logic
% ============================================================================

:- module(constraint_sorites_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: sorites_paradox
 * human_readable: The Sorites Paradox (The Paradox of the Heap)
 * domain: social/technological/legal
 * temporal_scope: Permanent (Linguistic/Logical Architecture)
 * spatial_scope: Global (All Categorical Systems)
 * * SUMMARY:
 * The Sorites Paradox arises from vague predicates where a small change (e.g., 
 * removing one grain of sand) does not seemingly change the category (a "heap"), 
 * yet successive small changes eventually lead to a total categorical shift. 
 * It represents the fundamental difficulty of defining hard boundaries in a 
 * continuous reality.
 * * KEY AGENTS:
 * - The Analytic Philosopher: Analytical observer mapping the "Mountain" 
 * of logical vagueness and the failure of bivalence.
 * - The Legislative Drafter: Institutional agent using arbitrary "Ropes" 
 * (thresholds) to coordinate legal certainty (e.g., defining "adulthood" 
 * at exactly 18 years).
 * - The Marginal Subject: Individual powerless agent "strangled" by an 
 * arbitrary boundary where a single second or dollar makes them a criminal 
 * or ineligible for aid.
 * * NARRATIVE ARC:
 * Language treats reality as a "Mountain" of discrete categories. To manage 
 * the vagueness, institutions create "Ropes"—arbitrary sharp lines. However, 
 * for the person standing at the 17-year, 364-day mark, the line is a "Noose," 
 * as the system extracts their agency based on a single grain of time that 
 * lacks any biological distinction.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(sorites_interval, 0, 10).
narrative_ontology:constraint_claim(sorites_paradox, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.4). The paradox extracts "conceptual precision." 
% It forces a cost on all legal and social systems to maintain arbitrary 
% lines, extracting fairness from those at the margins.
domain_priors:base_extractiveness(sorites_paradox, 0.4).

% Suppression score (0.0-1.0)
% Rationale: High (0.7). It suppresses "Continuous Truth." Societies 
% must ignore the reality of gradual change to maintain the binary 
% "A vs B" logic required for law and software.
domain_priors:suppression_score(sorites_paradox, 0.7).

% Enforcement: Emerges naturally from the structure of categorical language.
domain_priors:emerges_naturally(sorites_paradox).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(sorites_paradox, extractiveness, 0.4).
narrative_ontology:constraint_metric(sorites_paradox, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(sorites_paradox, [bureaucrats, software_engineers]).
constraint_victim(sorites_paradox, [marginal_subjects, qualitative_nuance]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE LOGICIAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the fundamental laws of thought.
   WHEN: civilizational - Viewing vagueness as a permanent logical substrate.
   WHERE: trapped - Human language cannot exist without vague predicates.
   SCOPE: global - Universal across all human symbolic systems.
   
   WHY THIS CLASSIFICATION:
   To the logician, the paradox is a Mountain. It is an unchangeable 
   feature of "information hardware." One cannot "solve" the vagueness 
   of a heap; it is a fixed peak of ambiguity in the landscape of 
   communication that persists regardless of technology.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sorites_paradox,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TAX AUTHORITY - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define and enforce arbitrary brackets.
   WHEN: biographical - Managing a national budget over decades.
   WHERE: arbitrage - Can shift thresholds (e.g., $40,000 vs $40,001) to optimize revenue.
   SCOPE: national - Country-wide fiscal policy.
   
   WHY THIS CLASSIFICATION:
   For the institution, the paradox is solved with a Rope. They create 
   an arbitrary "sharp" line (e.g., "taxable income starts at $X"). 
   This is a coordination mechanism that pulls the system toward 
   certainty and scale, ignoring the "heap" of continuous income levels.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sorites_paradox,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(sorites_paradox, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE IMMIGRATION APPLICANT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the "sharp" lines of the state.
   WHEN: immediate - The date of a deadline or an age limit.
   WHERE: trapped - Cannot exit the legal jurisdiction's binary logic.
   SCOPE: national - The reach of the state's border rules.
   
   WHY THIS CLASSIFICATION:
   For the person who misses a "cutoff" by a single day, the paradox is 
   a Noose. The law treats them as "Not Resident" or "Too Old" based 
   on a grain of sand that has no material reality. The arbitrary 
   line strangles their future, extracting their mobility and life 
   quality via the "Noose" of bureaucratic binary logic.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sorites_paradox,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(sorites_paradox, E),
    E > 0.3,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(sorites_paradox_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Powerless sees Noose
    constraint_indexing:constraint_classification(sorites_paradox, mountain, context(analytical, civilizational, trapped, global)),
    constraint_indexing:constraint_classification(sorites_paradox, rope, context(institutional, biographical, arbitrage, national)),
    constraint_indexing:constraint_classification(sorites_paradox, noose, context(individual_powerless, immediate, trapped, national)).

test(power_extractiveness_vagueness) :-
    % Powerless individuals feel the total extraction of their agency (Noose).
    % Institutional actors use arbitrary lines for coordination (Rope).
    ContextPowerless = context(individual_powerless, immediate, trapped, national),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(sorites_paradox, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(sorites_paradox, ContextPowerful, Score2),
    Score1 > Score2.

:- end_tests(sorites_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): The paradox extracts "Fairness." Because reality 
 * is a spectrum but law is a binary, those near the boundary are 
 * effectively robbed of their true status.
 * 2. PERSPECTIVES: Selected the Logician (Hardware), the Bureaucrat 
 * (Tool), and the Applicant (Victim) to highlight how vagueness 
 * becomes a structural trap.
 * 3. CLASSIFICATION RATIONALE:
 * Analytical → Mountain: Language cannot escape vague predicates.
 * Institutional → Rope: Arbitrary thresholds are the "ropes" of civilization.
 * Powerless → Noose: Cutoff points are the "nooses" for those on the wrong side.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    precision_logic_limit,
    "Can 'Fuzzy Logic' or probabilistic systems untie the Sorites Noose 
    (Rope), or is binary decision-making a Mountain of social efficiency?",
    resolution_mechanism("Monitor the adoption of non-binary decision 
    algorithms in high-stakes legal or medical insurance adjudication"),
    impact("If Rope: Arbitrary cutoffs can be socialized into 'dimmers.' 
    If Mountain: Binary switches are the only way to scale society."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Degree-based Legal Systems (Continuum)
 * Viability: Low. Instead of "Legal vs. Illegal," use "0.8 Legal" with 
 * proportional fines/rights.
 * Suppression: Extreme. Historically suppressed because it is too 
 * complex to calculate and enforce at scale.
 * * CONCLUSION:
 * The existence of suppressed "Continuum" models confirms that for the 
 * marginal individual, the Sorites Paradox is a Noose—their reality 
 * is continuous, but the system's Rope (the Threshold) is a trap.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_sorites_paradox].
 * 2. Multi-perspective: ?- multi_index_report(sorites_paradox).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: south_china_sea_arbitration_2016_2026
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: PCA Case No. 2013-19; 2026 Regional Geopolitical Updates (Jan 19, 2026)
% ============================================================================

:- module(scs_arbitration_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: south_china_sea_arbitration_2016_2026
 * human_readable: The 2016 South China Sea Arbitral Award
 * domain: legal/geopolitical/security
 * temporal_scope: 2016 - 2026 (Active contestation)
 * spatial_scope: South China Sea / West Philippine Sea
 * * SUMMARY:
 * On July 12, 2016, an Arbitral Tribunal ruled overwhelmingly in favor of the 
 * Philippines, invalidating China's "nine-dash line" and "historic rights" 
 * as incompatible with UNCLOS. By January 2026, this ruling serves as the 
 * primary legal constraint on maritime claims in the region, though its 
 * enforcement remains a matter of intense international pressure and local 
 * friction.
 * * KEY AGENTS:
 * - The Republic of the Philippines: The primary beneficiary and legal "owner" 
 * of the award.
 * - The People's Republic of China: The primary "subject" of the constraint, 
 * which it rejects as "null and void."
 * - International Community (US/EU/Japan): External enforcers who treat the 
 * ruling as a "binding" legal reality.
 * - Filipino Fisherfolk: Powerless individuals whose safety depends on the 
 * transition of this law from paper to physical reality.
 * * NARRATIVE ARC:
 * The ruling was intended as a "Rope" (a coordination tool for peaceful 
 * resolution). However, for China, it functions as a "Noose" (an asymmetric 
 * limit on perceived sovereign power). For the Philippines, it is becoming a 
 * "Mountain" (a fixed, final legal truth) that they refuse to re-negotiate.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(scs_legal_era, 2016, 2026).
narrative_ontology:constraint_claim(south_china_sea_arbitration_2016_2026, mountain).

% Base extractiveness: 0.45
% Rationale: While legally just, it "extracts" vast maritime territory and 
% historic claims from China. Conversely, the lack of its enforcement extracts 
% resources and safety from Filipino fishers.
domain_priors:base_extractiveness(south_china_sea_arbitration_2016_2026, 0.45).

% Suppression: 0.35
% Rationale: It suppresses the "nine-dash line" but is itself suppressed by 
% Chinese ICAD (Illegal, Coercive, Aggressive, and Deceptive) activities.
domain_priors:suppression_score(south_china_sea_arbitration_2016_2026, 0.35).

% Enforcement: Requires intense active maintenance (diplomacy, patrols, sanctions).
domain_priors:requires_active_enforcement(south_china_sea_arbitration_2016_2026).

% Beneficiaries & Victims
constraint_beneficiary(south_china_sea_arbitration_2016_2026, philippines).
constraint_beneficiary(south_china_sea_arbitration_2016_2026, international_rules_based_order).
constraint_victim(south_china_sea_arbitration_2016_2026, chinese_maritime_expansion).

% Metrics
narrative_ontology:constraint_metric(south_china_sea_arbitration_2016_2026, extractiveness, 0.45).
narrative_ontology:constraint_metric(south_china_sea_arbitration_2016_2026, suppression_requirement, 0.35).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: FILIPINO FISHERMAN - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Directly exposed to water cannons and ramming.
   WHEN: immediate - Daily survival at Scarborough Shoal (Bajo de Masinloc).
   WHERE: trapped - Physically limited by the reach of the Chinese Coast Guard.
   SCOPE: local - A specific reef or fishing ground.
   
   WHY THIS CLASSIFICATION:
   While the law is on their side, the *gap* between the law and reality is a 
   Noose. They are promised rights by a document (UNCLOS/Award) that currently 
   cannot stop a water cannon from destroying their livelihood.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    south_china_sea_arbitration_2016_2026,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: PH DEPT. OF FOREIGN AFFAIRS (DFA) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - Rule-shapers and primary legal advocates.
   WHEN: civilizational - Viewing the award as a permanent contribution to law.
   WHERE: mobile - Engaging in global diplomacy to "slay the giant."
   SCOPE: global - Advocating for the award in the UN and ASEAN.
   
   WHY THIS CLASSIFICATION:
   The DFA treats the ruling as "final and binding." It is a non-negotiable, 
   permanent feature of the legal geography (Mountain) that serves as the 
   unshakable foundation for all Philippine foreign policy.
   
   NARRATIVE EVIDENCE:
   "The Awards... are both final and binding... a concrete example of how 
   international law should work." (Lazaro, Jan 19, 2026)
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    south_china_sea_arbitration_2016_2026,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: CHINESE EMBASSY / MOFA - Noose
   --------------------------------------------------------------------------
   WHO: institutional (opposing) - Powerful state agency.
   WHEN: immediate - Managing "provocations" at sea.
   WHERE: arbitrage - Acting as if the law does not exist while using other UNCLOS parts.
   SCOPE: national - Protecting "territorial sovereignty."
   
   WHY THIS CLASSIFICATION:
   For Beijing, the Award is an illegal, extractive "Noose" created without 
   their consent, designed to "infringe on sovereignty" and "mislead public 
   opinion." They view it as a weaponized legal artifact.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    south_china_sea_arbitration_2016_2026,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE INSTITUTIONAL AGENT (ASEAN/UN) - Rope
   --------------------------------------------------------------------------
   WHO: agent_power(institutional) - Regional blocs and international bodies.
   WHEN: generational - The 2016 ruling sets a precedent for decades.
   WHERE: arbitrage - Managing the friction between national sovereignty and UNCLOS.
   SCOPE: global - Affects the freedom of navigation for all global trade.
   
   WHY THIS CLASSIFICATION:
   The Arbitration is a Rope. While it lacks the physical enforcement of a 
   Mountain, it serves as a high-fidelity coordination tool. International 
   actors use the 2016 ruling to "pull" maritime behavior toward the 
   Rules-Based Order. It provides the legal "slack" necessary for diplomatic 
   de-escalation while simultaneously tightening the reputational cost of 
   non-compliance.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    south_china_sea_arbitration_2016_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(south_china_sea_arbitration_2016_2026),
    !.

% Explicit priors reflecting the coordination energy of international law.
domain_priors:base_extractiveness(south_china_sea_arbitration_2016_2026, 0.3).
domain_priors:suppression_score(south_china_sea_arbitration_2016_2026, 0.4).

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(scs_arbitration_2026_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(south_china_sea_arbitration_2016_2026, Type1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(south_china_sea_arbitration_2016_2026, Type2, context(institutional, civilizational, mobile, global)),
    Type1 = noose,
    Type2 = mountain.

test(enforcement_extractiveness) :-
    % Extraction for fishers remains high despite the legal victory because of lack of physical enforcement.
    domain_priors:base_extractiveness(south_china_sea_arbitration_2016_2026, E),
    E > 0.4.

:- end_tests(scs_arbitration_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. THE 2026 "LIVE" STATUS: I've updated the context to include the Jan 19, 
 * 2026 statements from the Philippine DFA and Chinese Embassy.
 * 2. CLASSIFICATION SHIFT: I classified the DFA view as "Mountain." In 2016, 
 * it was a "Rope" (negotiable standard), but in 2026, Manila's position has 
 * hardened into a permanent, non-negotiable reality.
 * 3. EXTRACTIVENESS: The extraction is dual-sided. It extracts 
 * "historic pride/territory" from China and "physical safety" from fishers 
 * through the resulting tension.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    un_general_assembly_referral,
    "Will the Philippines successfully forward the 2016 Award to the ICJ for an advisory opinion in 2026?",
    resolution_mechanism("Monitor the vote count in the UNGA during the 2026 September session."),
    impact("If Yes: The award hardens into a global 'Mountain'. If No: It remains a regional 'Noose' for China."),
    confidence_without_resolution(low)
).

omega_variable(
    asean_chairmanship_2026,
    "Will Manila's 2026 ASEAN Chairmanship produce a 'Code of Conduct' that references the 2016 Award?",
    resolution_mechanism("Review the final communique of the 2026 ASEAN Summit in Kuala Lumpur/Manila."),
    impact("If Yes: UNCLOS is a functional 'Rope'. If No: ASEAN remains a 'Scaffold' (hollow)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Bilateral Negotiation (China's preference)
 * Viability: China claims this has worked with other neighbors.
 * Suppression: Rejected by the Philippines as an asymmetric venue where the 
 * weaker party is coerced.
 * * ALTERNATIVE 2: "Historic Rights" (Natural Law)
 * Viability: Practiced for centuries before UNCLOS.
 * Suppression: Explicitly invalidated by the 2016 Tribunal as "without lawful effect."
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: square_cube_law
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Galileo Galilei (1638) / Biomechanics / Scaling Laws
% ============================================================================

:- module(constraint_square_cube_law, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: square_cube_law
 * human_readable: The Square-Cube Law
 * domain: technological/biological
 * temporal_scope: Permanent (Physical Law of Geometry)
 * spatial_scope: Global (Universal)
 * * SUMMARY:
 * The Square-Cube Law states that as an object grows in size, its surface area 
 * increases by the square of the multiplier, while its volume (and mass) 
 * increases by the cube. This represents a fundamental scaling limit where 
 * structural strength or heat dissipation (surface-dependent) fails to keep 
 * pace with weight or heat generation (volume-dependent).
 * * KEY AGENTS:
 * - The Evolutionary Biologist: Analytical observer mapping the "Mountain" 
 * of physical limits on animal size.
 * - The Aircraft Designer: Institutional agent using scaling ratios as a 
 * "Rope" to coordinate the transition from prototypes to full-scale jets.
 * - The Mega-Fauna / Giant: Individual powerless subject whose physical 
 * integrity is "strangled" by the law, making gargantuan size a lethal trap.
 * * NARRATIVE ARC:
 * The law functions as a "Mountain" of geometric reality—the ultimate 
 * physical boundary of the material world. For the engineer, it is a 
 * "Rope" for coordination (predicting when a bridge or wing will fail). 
 * However, for an organism or machine pushed beyond its scaling threshold, 
 * it becomes a "Noose," as its own mass extracts the strength of its 
 * supports until collapse occurs.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(square_cube_interval, 0, 10).
narrative_ontology:constraint_claim(square_cube_law, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.5). The law extracts "viability" from large-scale 
% entities. It imposes a "mass tax" where doubling size requires more than 
% doubling the support material, extracting efficiency as scale increases.
domain_priors:base_extractiveness(square_cube_law, 0.5).

% Suppression score (0.0-1.0)
% Rationale: High (0.7). It suppresses the "Linear Scaling" fantasy. 
% While "Giant" narratives are visible in fiction, the physical reality 
% of the universe actively suppresses their existence through gravity and 
% thermodynamics.
domain_priors:suppression_score(square_cube_law, 0.7).

% Enforcement requirements
% Emerges naturally from the Euclidean geometry of three-dimensional space.
domain_priors:emerges_naturally(square_cube_law).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(square_cube_law, extractiveness, 0.5).
narrative_ontology:constraint_metric(square_cube_law, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(square_cube_law, [material_science_consultants, small_organisms]).
constraint_victim(square_cube_law, [giant_engineering_projects, mega_fauna]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE BIOMECHANIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal physical laws.
   WHEN: civilizational - Viewing evolution as a permanent substrate.
   WHERE: trapped - Biology cannot bypass the math of surface-to-volume ratios.
   SCOPE: global - Universal applicability.
   
   WHY THIS CLASSIFICATION:
   To the scientist, the law is a Mountain. It is an unchangeable feature 
   of the universe's geometric "hardware." No amount of biological 
   adaptation can make an ant the size of an elephant without its legs 
   shattering; it is a fixed peak in the topography of reality.
   
   NARRATIVE EVIDENCE:
   Galileo's "Two New Sciences" demonstrates that the bones of a giant 
   would have to be disproportionately thick, eventually filling the 
   entire body, proving a hard upper limit.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    square_cube_law,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE AEROSPACE ENGINEER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design and scale complex machines.
   WHEN: biographical - Managing the lifecycle of a jet design.
   WHERE: arbitrage - Can shift materials (e.g., Carbon Fiber) to alter ratios.
   SCOPE: national - Large-scale industrial production.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the law is a Rope. It is a coordination mechanism. 
   By understanding scaling coefficients, they can "tether" a small-scale 
   wind-tunnel model to a full-sized airliner, using the constraint to 
   pull a safe, functional design into reality.
   
   NARRATIVE EVIDENCE:
   The use of Reynolds numbers and Froude numbers in fluid dynamics 
   allows engineers to arbitrage the law for predictable scaling.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    square_cube_law,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(square_cube_law, E),
    E > 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SPECULATIVE GIANT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the physics of their own mass.
   WHEN: immediate - Today's struggle to move or breathe.
   WHERE: constrained - Cannot leave the gravity well or change geometry.
   SCOPE: local - Immediate internal physiology.
   
   WHY THIS CLASSIFICATION:
   For a hypothetical giant, the law is a Noose. Their own volume-to-surface 
   ratio extracts their ability to cool down or support their own mass. 
   The geometry of their existence is a trap; the larger they grow, the 
   tighter the "gravity tax" on their bones strangles their viability.
   
   NARRATIVE EVIDENCE:
   J.B.S. Haldane's "On Being the Right Size" notes that a giant would 
   break its thighs with every step, the weight becoming a lethal trap.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    square_cube_law,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(square_cube_law, E),
    E > 0.4,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(square_cube_law_tests).

test(multi_perspective_scaling) :-
    % Analyst sees Mountain
    constraint_indexing:constraint_classification(square_cube_law, mountain, context(analytical, civilizational, trapped, global)),
    % Institutional sees Rope
    constraint_indexing:constraint_classification(square_cube_law, rope, context(institutional, biographical, arbitrage, national)),
    % Powerless sees Noose
    constraint_indexing:constraint_classification(square_cube_law, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_geometry) :-
    % Powerless subjects (the giant) feel the total extraction of their health (Noose).
    % Institutional actors (engineers) use the limit for coordination (Rope).
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(square_cube_law, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(square_cube_law, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability_physics) :-
    % Civilizational scale = Mountain
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(square_cube_law_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.5):
 * Reasoning: The law extracts structural and metabolic "surplus." 
 * As things get bigger, they must pay more for their existence. 
 * Evidence: Found in engineering "scaling penalties" and biological mass limits.
 * * 2. SUPPRESSION SCORE (0.7):
 * Reasoning: It suppresses "linear growth" as a viable alternative. 
 * Evidence: The absence of gigantic insects or building-sized land animals 
 * in the fossil record (outside specific aquatic environments).
 * * 3. PERSPECTIVE SELECTION:
 * Chose the Biologist (Law), Engineer (Utility), and Giant (Victim) 
 * to show the indexical shift from "Math" to "Policy" to "Trap."
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    material_strength_evolution,
    "Can nanotechnology 'untie' the scaling Noose by increasing material 
    strength-to-weight ratios beyond current biological/metallic limits (Rope)?",
    resolution_mechanism("Development of macroscopic carbon-nanotube structures"),
    impact("If Rope: Giants can be built. If Mountain: Geometry still 
    imposes heat-dissipation limits that act as a new Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Fractal Internal Structures
 * Viability: High. Many organisms increase internal surface area 
 * (lungs, intestines) to bypass the "volume extraction" of nutrients.
 * Suppression: None. This is the biological "Rope" used to survive.
 * * ALTERNATIVE 2: Buoyancy (Aquatic Environment)
 * Viability: High. Allows whales to reach sizes impossible on land.
 * Suppression: Low. Gravity is the "Noose" that is bypassed here.
 * * CONCLUSION:
 * Moving to a different environment (Water) or changing topology (Fractals) 
 * turns the "Noose" back into a "Rope," allowing the agent to exit the 
 * immediate trap of the land-based scaling mountain.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * ?- [constraint_square_cube_law].
 * ?- multi_index_report(square_cube_law).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: st_petersburg_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Daniel Bernoulli (1738) / Expected Utility Theory
% ============================================================================

:- module(constraint_st_petersburg_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: st_petersburg_paradox
 * human_readable: St. Petersburg Paradox (Divergent Expected Value)
 * domain: mathematical/economic
 * temporal_scope: 1738 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Decision Theory)
 * * SUMMARY:
 * The St. Petersburg Paradox describes a lottery game with an infinite expected 
 * monetary value, yet for which players are only willing to pay a small finite 
 * entrance fee. It exposes a fundamental constraint in classical decision theory: 
 * expected value does not equal human utility.
 * * KEY AGENTS:
 * - The Gambler (Subject): A powerless agent facing a game that promises 
 * "infinite" riches but offers no realistic path to collect them.
 * - The Casino Architect (Institutional): Uses the paradox as a "Rope" to 
 * justify house limits and the transition to Expected Utility Theory.
 * - The Rational Automaton (Victim): A hypothetical agent bound by 
 * pure expected value logic, who would pay everything they own for the ticket.
 * * NARRATIVE ARC:
 * The paradox acts as a "Mountain" of mathematical divergence—the sum 
 * $\sum 2^{n-1} \cdot (1/2^n)$ is undeniably infinite. In modern finance, 
 * Bernoulli’s resolution (Logarithmic Utility) is a "Rope" for coordinating 
 * risk management. However, for the "Rational" agent, the divergent sum is a 
 * "Noose" that extracts all their wealth (extraction) for a 1/2^k chance 
 * of a win they will never live to see.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(st_petersburg_era, 1738, 2026).
narrative_ontology:constraint_claim(st_petersburg_paradox, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.65. Highly extractive for an agent following pure EV logic. 
% The game "extracts" finite certainty (the entrance fee) in exchange for 
% an infinite "promise" that effectively has zero realizable value.
domain_priors:base_extractiveness(st_petersburg_paradox, 0.65).

% Suppression score (0.0-1.0)
% Rationale: 0.4. It suppresses the visibility of "linear" wealth valuation, 
% rendering the idea that "$100 is twice as good as $50" functionally 
% invisible in high-stakes risk modeling.
domain_priors:suppression_score(st_petersburg_paradox, 0.4).

% Enforcement: Emerges naturally from the interaction of powers of two.
domain_priors:emerges_naturally(st_petersburg_paradox).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(st_petersburg_paradox, extractiveness, 0.65).
narrative_ontology:constraint_metric(st_petersburg_paradox, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(st_petersburg_paradox, insurance_industries). % Profit from utility-based risk premiums.
constraint_beneficiary(st_petersburg_paradox, logarithmic_utility_models).
constraint_victim(st_petersburg_paradox, pure_expected_value_logicians).
constraint_victim(st_petersburg_paradox, naive_gamblers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE COIN TOSS SEQUENCE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The coin has no agency; the probability $1/2^n$ is fixed.
   WHEN: immediate - True at every infinitesimal step of the game.
   WHERE: trapped - Bound within the geometric progression.
   SCOPE: local - Immediate result of the current flip.
   
   WHY THIS CLASSIFICATION:
   For the mathematical sequence itself, the divergent expected value is an 
   absolute Mountain. There is no "exit" from the arithmetic reality that 
   the sum of probabilities times payoffs has no finite bound.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    st_petersburg_paradox,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MODERN RISK ANALYST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to price insurance and financial derivatives.
   WHEN: biographical - Planning for a fund's long-term risk-adjusted return.
   WHERE: mobile - Can choose different utility functions (Log, Power, Exponential).
   SCOPE: global - Universal application in global finance.
   
   WHY THIS CLASSIFICATION:
   For the analyst, the paradox is a "Rope"—a tool for functional coordination. 
   By recognizing the "Mountain" of infinite EV, they coordinate a standard of 
   achievement (expected utility) that allows for the pricing of risk-aversion, 
   effectively "pulling" the market toward stability.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    st_petersburg_paradox,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CLASSICAL LOGICIAN - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the "Rationality" of Expected Value.
   WHEN: immediate - Forced to make a decision at the ticket booth.
   WHERE: constrained - The "exit" (refusing to play) feels like an irrational choice.
   SCOPE: local - A single, high-stakes decision.
   
   WHY THIS CLASSIFICATION:
   For the agent following pure expected value, the paradox is a "Noose." 
   It "strangles" their wealth by demanding a near-infinite entrance fee 
   (extraction). Because their logic tells them the game is worth everything, 
   they are "choked" into bankrupting themselves for a prize that only 
   exists in a transfinite "long run" they cannot survive.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    st_petersburg_paradox,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(st_petersburg_paradox, E),
    E >= 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INDIVIDUAL PLAYER (GAMBLER) - Noose
   --------------------------------------------------------------------------
   WHO: agent_power(individual_powerless) - The subject with finite wealth.
   WHEN: immediate - The decision to play and the risk of ruin occur now.
   WHERE: trapped - Bound by the physical limit of their bankroll.
   SCOPE: local - The impact is on the player's personal solvency.
   
   WHY THIS CLASSIFICATION:
   The "Noose" is the mismatch between infinite expectation and finite 
   utility. While the math (Mountain) suggests any entry fee is "cheap," 
   the player's finite capital means a high entry fee is an extractive 
   trap. The individual is "trapped" by the Gambler's Ruin: the 
   probability of total loss is 0.99 for any payout higher than the fee.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    st_petersburg_paradox,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(st_petersburg_paradox, E),
    E > 0.4.

% Explicit priors reflecting the extractive nature of infinite-value traps.
domain_priors:base_extractiveness(st_petersburg_paradox, 0.8).
domain_priors:suppression_score(st_petersburg_paradox, 0.2).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(st_petersburg_paradox_tests).

test(multi_perspective_variance) :-
    % Sequence -> Mountain
    constraint_indexing:constraint_classification(st_petersburg_paradox, Type1, context(individual_powerless, immediate, trapped, local)),
    % Analyst -> Rope
    constraint_indexing:constraint_classification(st_petersburg_paradox, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(extraction_penalty_insight) :-
    % Powerless logician feels high extraction (> 0.6)
    Context = context(individual_powerless, immediate, constrained, local),
    constraint_indexing:extractiveness_for_agent(st_petersburg_paradox, Context, Score),
    Score >= 0.6.

test(natural_emergence) :-
    domain_priors:emerges_naturally(st_petersburg_paradox).

:- end_tests(st_petersburg_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.65):
 * Reasoning: The paradox is fundamentally a trap for non-utility-based logic. 
 * It extracts all available finite assets in exchange for a "promise" of 
 * infinite payoff that only occurs at $n \to \infty$. 
 * * 2. PERSPECTIVE SELECTION:
 * Chose Coin (Subject), Analyst (Institution), and Logician (Victim) to 
 * show how the "divergence" is experienced as either a rule, a tool, or a trap.
 * * 3. OMEGA IDENTIFICATION: 
 * Formalized the "Finite Bank" uncertainty—does the Mountain hold if the 
 * house doesn't have infinite money?
 */

% OMEGA IDENTIFICATION:
omega_variable(
    house_resource_finiteness,
    "Is the 'Mountain' of infinite EV stable if the Casino is finite (Scaffold)?",
    resolution_mechanism("Calculation of expected value with a ceiling $2^k$ (e.g., total atoms in the universe)."),
    impact("If finite: The Mountain collapses into a manageable Rope ($EV \approx 10-20$)."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Finite Bank Limits
 * Viability: In reality, no house can pay $2^{100}$ dollars.
 * Suppression: Often ignored in math to keep the "Paradox" pure.
 * Evidence: Common sense physics.
 * * ALTERNATIVE 2: Risk-Aversion (Expected Utility)
 * Viability: The standard "resolution" of the paradox.
 * Suppression: Rejects pure EV logic, turning the "Noose" into a "Rope."
 * * CONCLUSION:
 * The existence of "Finite Bank" limits (Alternative 1) proves that the 
 * infinite "Mountain" is actually a Scaffold built on the assumption of 
 * infinite physical resources.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [st_petersburg_paradox].
 * 2. Analyze: ?- multi_index_report(st_petersburg_paradox).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: stable_marriage_coordination
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: David Gale & Lloyd Shapley (1962) / College Admissions and the Stability of Marriage
% ============================================================================

:- module(constraint_stable_marriage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: stable_marriage_coordination
 * human_readable: Stable Marriage Problem (Gale-Shapley Algorithm)
 * domain: economic/social/technological
 * temporal_scope: 1962 - Present
 * spatial_scope: Global/Abstract (Matching Markets)
 * * SUMMARY:
 * The Stable Marriage Problem involves finding a stable matching between two equally 
 * sized sets of elements given a list of preferences for each element. A matching 
 * is "stable" if there is no pair that would both prefer each other over their 
 * current partners. It represents a fundamental constraint on how decentralized 
 * preferences can be reconciled into a self-enforcing social equilibrium.
 * * KEY AGENTS:
 * - The Suitor (Subject): The powerless agent (in a fixed-rule iteration) whose 
 * outcome depends on the sequential rejection or acceptance by the other set.
 * - The Matching Coordinator (Institutional): An agent (like the NRMP for doctors) 
 * who uses the algorithm as a "Rope" to ensure market stability and prevent "poaching."
 * - The Strategic Outlier (Victim): An agent whose optimal individual preference 
 * is "strangled" by the global requirement for stability, often resulting in a 
 * sub-optimal match to prevent systemic collapse.
 * * NARRATIVE ARC:
 * The Stable Marriage Problem is a "Mountain" of game-theoretic reality—in any 
 * matching market, the existence of a stable state is a mathematical certainty, 
 * yet the specific outcome is biased toward the set that proposes. In labor 
 * markets (like medical residency), it is a "Rope" used to coordinate thousands 
 * of individuals. However, for an agent with highly specific, non-conformist 
 * preferences, the stability requirement acts as a "Noose," extracting their 
 * individual utility (extraction) to maintain the "choking" grip of the 
 * aggregate equilibrium.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for the DR-Audit Suite
narrative_ontology:interval(matching_theory_era, 1962, 2026).
narrative_ontology:constraint_claim(stable_marriage_coordination, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.4. The algorithm "extracts" the possibility of "perfect" 
% matches for all individuals to enforce a "stable" state where no one 
% has the incentive to defect. It inherently favors the group that proposes 
% (Suitor-Optimality), creating a systematic extraction of utility from 
% the receiving group.
domain_priors:base_extractiveness(stable_marriage_coordination, 0.4).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the visibility of "unstable" but 
% higher-utility matches, rendering them functionally illegal or 
% "fraudulent" within coordinated markets like residency matching.
domain_priors:suppression_score(stable_marriage_coordination, 0.3).

% Enforcement: Emerges naturally from the Gale-Shapley mechanism.
domain_priors:emerges_naturally(stable_marriage_coordination).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(stable_marriage_coordination, extractiveness, 0.4).
narrative_ontology:constraint_metric(stable_marriage_coordination, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(stable_marriage_coordination, proposing_set_agents). % Suitor-optimal results.
constraint_beneficiary(stable_marriage_coordination, market_clearing_houses).
constraint_victim(stable_marriage_coordination, receiving_set_agents). % Receiver-pessimal results.
constraint_victim(stable_marriage_coordination, niche_preference_outliers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RESIDENCY APPLICANT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The student cannot change the algorithm's rules.
   WHEN: immediate - True at the moment the "Match Day" results are released.
   WHERE: trapped - Bound by the institutional rules of the medical profession.
   SCOPE: national - Part of a country-wide labor allocation.
   
   WHY THIS CLASSIFICATION:
   For the individual student, the algorithm is an absolute Mountain. They 
   submit their ranks and must accept the result. The existence of a "stable" 
   match means they cannot negotiate a better spot elsewhere because no 
   hospital they prefer would prefer them back. The math is an unyielding law.
   
   
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    stable_marriage_coordination,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MARKET COORDINATOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to mandate the use of a centralized matching system.
   WHEN: biographical - Managing the stability of the labor market over decades.
   WHERE: mobile - Can choose to make the algorithm suitor-optimal or receiver-optimal.
   SCOPE: global - Applying matching theory to diverse sectors.
   
   WHY THIS CLASSIFICATION:
   For the institution (e.g., NRMP), the Stable Marriage algorithm is a 
   "Rope"—a functional coordination tool. It prevents "unraveling" where 
   hospitals and students make sub-optimal early offers. It pulls the 
   entire market toward a stable standard of achievement (equilibrium).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    stable_marriage_coordination,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE RECEIVING-SIDE AGENT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools to rank, but is bound by the proposer's advantage.
   WHEN: immediate - Realizing they have been matched to their least-preferred stable option.
   WHERE: constrained - The "exit" (breaking the match) is professionally ruinous.
   SCOPE: local - Impacting their specific career trajectory.
   
   WHY THIS CLASSIFICATION:
   For the agent on the receiving side of the proposals, the algorithm is a 
   "Noose." While the outcome is "stable," it is mathematically proven to be 
   the *worst* possible stable match for them. It extracts their potential 
   satisfaction (extraction) to guarantee the stability of the system, 
   "choking" their agency in favor of the proposing set.
   
   
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    stable_marriage_coordination,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(stable_marriage_coordination, E),
    E >= 0.3,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(stable_marriage_tests).

test(multi_perspective_variance) :-
    % Applicant -> Mountain
    constraint_indexing:constraint_classification(stable_marriage_coordination, Type1, context(individual_powerless, immediate, trapped, national)),
    % Coordinator -> Rope
    constraint_indexing:constraint_classification(stable_marriage_coordination, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(receiver_extraction_penalty) :-
    % Receiver-side agents feel the 0.4 extraction of utility as a Noose.
    Context = context(individual_moderate, immediate, constrained, local),
    constraint_indexing:extractiveness_for_agent(stable_marriage_coordination, Context, Score),
    Score >= 0.3.

test(natural_emergence) :-
    domain_priors:emerges_naturally(stable_marriage_coordination).

:- end_tests(stable_marriage_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.4): 
 * I chose 0.4 because of the inherent "Proposer-Optimality" vs "Receiver-Pessimality" 
 * duality. The system extracts utility from one set to benefit the other while 
 * maintaining the "Mountain" of stability.
 * 2. CLASSIFICATION: 
 * Captured how the "Gale-Shapley Mountain" serves as a "Rope" for institutions 
 * to clear markets, but can be a "Noose" for the passive side of the proposal.
 */

% OMEGA IDENTIFICATION
omega_variable(
    strategic_misreporting_impact,
    "Is the 'Mountain' of stability vulnerable if agents lie about their preferences (Scaffold)?",
    resolution_mechanism("Analysis of incentive compatibility: Gale-Shapley is strategy-proof for proposers but not for receivers."),
    impact("If strategic lying is rampant: The 'Mountain' of stability is a mirage, and the algorithm becomes a 'Noose' of manipulation."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Decentralized Search (The "Dating Market")
 * Viability: Individuals search for partners without a central coordinator.
 * Suppression: Often leads to "unstable" pairs and high search costs, 
 * suppressed by institutional "Ropes" in professional settings to ensure 
 * 100% market clearing.
 * * ALTERNATIVE 2: Random Allocation
 * Viability: Fair in terms of probability, but highly unstable.
 * Suppression: Rejected because it violates the "Mountain" of 
 * individual rationality.
 * * CONCLUSION:
 * The existence of decentralized "instability" (Alternative 1) is what 
 * makes the Stable Marriage "Rope" necessary for large-scale coordination.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_stable_marriage].
 * 2. Multi-perspective: ?- multi_index_report(stable_marriage_coordination).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: starwars_evolutionary_mutation
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: starwars_evolution.md (Synthesis of UKE_D v1.4 protocol)
% ============================================================================

:- module(constraint_starwars_evolution, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: starwars_evolutionary_mutation
 * human_readable: Jedi as Systemic Evolutionary Outliers
 * domain: social/political/biological
 * temporal_scope: "A long time ago" / Galactic Republic Era
 * spatial_scope: Galactic (Coruscant/Jedi Temple)
 * * SUMMARY:
 * This constraint models the Jedi not as moral paragons, but as systemic 
 * outliers—mutations that test which institutional "necessities" are genuine 
 * physical constraints and which are merely bureaucratic artifacts. 
 * The Jedi Council's embedding within the Senate bureaucracy created a 
 * structural blindness, where the "Domestication Gradient" turned a beneficial 
 * mutation into a rigid apparatus.
 * * KEY AGENTS:
 * - Individual Jedi (Outlier): Individual powerless; possesses latent diagnostic 
 * capacity but is excluded or filtered by the institution if they challenge 
 * boundary conditions.
 * - Jedi Council (Domesticated): Institutional; rule-making power blinded by 
 * its own bureaucratic embedding.
 * - The Sith (Selection Pressure): Analytical/Powerful; external force that 
 * applies the "fitness test" the Council failed to perform internally.
 * * NARRATIVE ARC:
 * What began as a Rope (Jedi as functional coordination for peace) ossified 
 * into a Mountain (the unchangeable "Will of the Force" as interpreted by 
 * bureaucracy). Ultimately, this domestication became a Noose, as the 
 * Council's inability to metabolize dissenting "mutations" (like Anakin) 
 * extracted the entire order's survival in favor of institutional conformity 
 *.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the Deferential Realism suite
narrative_ontology:interval(galactic_selection_event, 0, 10).
narrative_ontology:constraint_claim(starwars_evolutionary_mutation, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.75. The institution "extracted" the individual diagnostic 
% potential of its members to feed its bureaucratic survival until total 
% collapse.
domain_priors:base_extractiveness(starwars_evolutionary_mutation, 0.75).

% Suppression score (0.0-1.0)
% Rationale: 0.8. The Council actively suppressed boundary-testing and 
% alternative diagnostic methods in favor of "conformity" filters.
domain_priors:suppression_score(starwars_evolutionary_mutation, 0.8).

% Enforcement requirements
% Requires active enforcement (The Jedi Code, Senate oversight, and the 
% rigid master-apprentice training recursive loop).
domain_priors:requires_active_enforcement(starwars_evolutionary_mutation).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(starwars_evolutionary_mutation, extractiveness, 0.75).
narrative_ontology:constraint_metric(starwars_evolutionary_mutation, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(starwars_evolutionary_mutation, bureaucratic_inertia).
constraint_beneficiary(starwars_evolutionary_mutation, the_sith_plan).
constraint_victim(starwars_evolutionary_mutation, individual_diagnostic_ability).
constraint_victim(starwars_evolutionary_mutation, the_jedi_lineage).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ROGUE JEDI (QUI-GON/ANAKIN) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Despite physical power, they lack the agency 
         to change the Council's structural blindness.
   WHEN: immediate - Tactical focus on perceived threats the Council ignores.
   WHERE: trapped - Bound by the "conformity filters" of the Order.
   SCOPE: local - Individual missions and intuitive detections.
   
   WHY THIS CLASSIFICATION:
   To a Jedi who sees a threat (like the return of the Sith), the Council's 
   denial is a Mountain. It is an unchangeable feature of the institutional 
   landscape that no amount of evidence can shift because the Council has 
   delegated its "diagnostic sensors" to the Senate.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    starwars_evolutionary_mutation,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(starwars_evolutionary_mutation, S),
    S > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE JEDI COUNCIL - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power governing the Order.
   WHEN: generational - Maintaining the "thousand generations" of peace.
   WHERE: mobile - Believe they are coordinating the Republic's security.
   SCOPE: national - Galactic-scale management.
   
   WHY THIS CLASSIFICATION:
   The Council views its rules and Senate relationship as a Rope—a functional 
   coordination mechanism that ensures the Jedi serve the "greater good" 
   of the Republic. They view deviations as 
   failures of discipline rather than vital signals.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    starwars_evolutionary_mutation,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(starwars_evolutionary_mutation, E),
    E < 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: PALPATINE / THE SITH - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the Order's decline.
   WHEN: historical - Executing a plan centuries in the making.
   WHERE: analytical - Not bound by the Jedi Code.
   SCOPE: global - Total galactic control.
   
   WHY THIS CLASSIFICATION:
   From the Sith perspective, the Council's own "domestication" is a Noose. 
   By tethering the Jedi to a decaying political system, they have turned 
   the Order's own "Rope" of coordination into the mechanism of its 
   execution.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    starwars_evolutionary_mutation,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(starwars_evolutionary_mutation, S),
    S > 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE JEDI COUNCIL / GALACTIC ORDER (INSTITUTIONAL) - Rope
   --------------------------------------------------------------------------
   WHO: agent_power(institutional) - The governing bodies of the Force.
   WHEN: generational - Managing the legacy of the Order across millennia.
   WHERE: arbitrage - Managing the tension between Dark and Light.
   SCOPE: global - Affecting the spiritual and political balance of the galaxy.
   
   WHY THIS CLASSIFICATION:
   The Order's Code is a Rope. It is a high-fidelity coordination mechanism 
   designed to "pull" Force-sensitive mutations toward a stable, selfless 
   equilibrium. While it provides the slack for individual growth, it 
   tightens against attachment and ego to prevent the system from 
   spiraling into Sith-led margin collapse.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    starwars_evolutionary_mutation,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(starwars_evolutionary_mutation),
    !.

% Explicit priors reflecting the coordination energy of institutional codes.
domain_priors:base_extractiveness(starwars_evolutionary_mutation, 0.2).
domain_priors:suppression_score(starwars_evolutionary_mutation, 0.6).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(starwars_evolution_tests).

test(multi_perspective_gap) :-
    % Outlier (Mountain) vs Council (Rope) vs Sith (Noose)
    constraint_indexing:constraint_classification(starwars_evolutionary_mutation, T1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(starwars_evolutionary_mutation, T2, context(institutional, generational, mobile, national)),
    constraint_indexing:constraint_classification(starwars_evolutionary_mutation, T3, context(analytical, historical, analytical, global)),
    T1 \= T2, T2 \= T3.

test(extraction_conformity_link) :-
    % Conformity selection (suppression) correlates with high extraction of potential
    domain_priors:suppression_score(starwars_evolutionary_mutation, S),
    domain_priors:base_extractiveness(starwars_evolutionary_mutation, E),
    S > 0.7, E > 0.6.

:- end_tests(starwars_evolution_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. THE JEDI AS MUTATIONS: The primary insight is that "Force sensitivity" 
 * is a metaphor for high-fidelity systemic diagnostic ability. 
 * 2. THE DOMESTICATION GRADIENT: The Noose classification reflects the 
 * "trap" of institutional success—the Order became so efficient at 
 * coordinating (Rope) that it eliminated the "friction" of internal 
 * dissent, which is where its actual diagnostic power resided.
 * 3. ANALYTICAL VIEW: The Sith function as the external "Fitness Test" 
 * that the Order could no longer perform itself.
 */

omega_variable(
    training_conformity_ratio,
    "Does Jedi training select for obedience (Noose) or boundary-testing (Scaffold)?",
    resolution_mechanism("Analysis of Padawan failure rates vs. their success in identifying external systemic threats"),
    impact("If Obedience: The Order is a terminal Noose. If Boundary-Testing: It 
            is an adaptive Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Non-Bureaucratic Jedi Order
 * Viability: The "Wayseeker" or itinerant knight model allows for local 
 * systemic diagnosis without institutional blindness.
 * Suppression: Actively discouraged by the Council to maintain "centralized 
 * coordination" (The Rope).
 * * CONCLUSION:
 * The existence of viable, less-domesticated alternatives that are 
 * institutionally suppressed confirms the "Noose" status of the Council era Order.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [starwars_evolutionary_mutation].
% 2. Analyze: ?- multi_index_report(starwars_evolutionary_mutation).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: statecraft_virtu
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: The Prince by Nicolo Machiavelli
% ============================================================================

:- module(constraint_statecraft_virtu, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: statecraft_virtu
 * human_readable: Machiavellian Virtù and State Maintenance
 * domain: political/social
 * temporal_scope: Renaissance Italy (c. 1469-1527)
 * spatial_scope: Regional (Italian City-States/European Principalities)
 * * SUMMARY:
 * Statecraft is a series of strategic constraints imposed by a Prince to 
 * maintain power and order amidst the "raging river" of Fortune. It involves 
 * the calculated use of law and force (the lion and the fox) to coordinate 
 * subjects and neutralize enemies.
 * * KEY AGENTS:
 * - The New Prince: The institutional agent who must build "foundations" from scratch.
 * - The People: The powerless/moderate subjects who desire only "not to be oppressed."
 * - The Nobles: Powerful individuals who seek to dominate the Prince or the People.
 * - Fortune (Fortuna): The environmental "Mountain" constraint that represents 
 * irreducible variance in human affairs.
 * * NARRATIVE ARC:
 * The text functions as a manual for converting the chaos of "Fortune" into the 
 * order of a "State." It moves from the acquisition of power (Chapter I-VII) 
 * to the maintenance of power (Chapter XV-XIX), culminating in a call for 
 * national liberation (Chapter XXVI).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(statecraft_virtu_analysis, 0, 10).
narrative_ontology:constraint_claim(statecraft_virtu, rope).

% Base extractiveness score: High (0.7)
% Rationale: Machiavelli explicitly argues that "men ought either to be well 
% treated or crushed." Maintaining a state extracts obedience and resources 
% often through asymmetric force.
domain_priors:base_extractiveness(statecraft_virtu, 0.7).

% Suppression score: High (0.9)
% Rationale: The Prince must suppress rivals, factions, and alternative centers 
% of power (like mercenaries or powerful barons) to ensure stability.
domain_priors:suppression_score(statecraft_virtu, 0.9).

% Enforcement: Requires active enforcement through "good arms" and "good laws."
domain_priors:requires_active_enforcement(statecraft_virtu).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(statecraft_virtu, extractiveness, 0.7).
narrative_ontology:constraint_metric(statecraft_virtu, suppression_requirement, 0.9).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(statecraft_virtu, [the_prince, state_stability]).
constraint_victim(statecraft_virtu, [dispossessed_lords, "unarmed prophets", rival_factions]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NEW PRINCE - Rope
   --------------------------------------------------------------------------
   WHO: institutional
   WHEN: historical/biographical
   WHERE: arbitrage
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   To the Prince, the state is a "Rope"—a functional coordination mechanism 
   that he can and must manipulate. He has the agency to change laws, 
   form alliances, and manage the "spirit of the times."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    statecraft_virtu,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        constraint_beneficiary(statecraft_virtu, the_prince),
        constraint_victim(statecraft_virtu, []),
        spatial_scope(national)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PEOPLE - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the average citizen, the Prince's rule and the laws of the state 
   appear as "Mountains"—immutable facts of life. They have zero degrees 
   of freedom to change the sovereign and generally view his power as a 
   natural law, provided they are not directly despoiled.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    statecraft_virtu,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(statecraft_virtu, state_stability),
        constraint_victim(statecraft_virtu, []),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(statecraft_virtu, S),
    S > 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DISPOSSESSED BARON - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: immediate
   WHERE: constrained
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   To the rival lord whom the Prince has "extinguished," the constraint 
   system is a "Noose." It is a coercive, asymmetric mechanism designed 
   to extract his power and life to benefit the Prince's consolidation.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    statecraft_virtu,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(constrained),
        constraint_beneficiary(statecraft_virtu, the_prince),
        constraint_victim(statecraft_virtu, dispossessed_lords),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(statecraft_virtu, E),
    E > 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(statecraft_virtu_tests).

test(perspectival_gap_analysis) :-
    % The Prince (Institutional) sees a Rope; the People (Powerless) see a Mountain.
    constraint_indexing:constraint_classification(statecraft_virtu, rope, context(agent_power(institutional), _, _, _, _, _)),
    constraint_indexing:constraint_classification(statecraft_virtu, mountain, context(agent_power(individual_powerless), _, _, _, _, _)).

test(extraction_rule) :-
    % Crushing enemies is a high-extraction event (Noose).
    constraint_indexing:constraint_classification(statecraft_virtu, noose, context(agent_power(individual_powerful), _, constrained, _, _, _)).

test(fortune_environmental_constraint) :-
    % Fortune acts as an immutable Mountain for all who do not prepare.
    true.

:- end_tests(statecraft_virtu_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * * The central insight of Machiavelli's work is the conversion of 
 * environmental constraints (Fortune) into social constraints (State). 
 * * Fortune is the ultimate "Mountain"—a raging river with zero degrees 
 * of freedom for the unprepared. 
 * * The "Prince" uses his Virtù to build "dykes and dams" (foundations), 
 * effectively creating a "Rope" (a functional coordination mechanism) 
 * for himself and a "Noose" for those who would oppose the new order.
 * * The extractiveness is intentionally high (0.7) because the system 
 * prioritizes the "security and prosperity" of the state over individual 
 * agency, particularly for rival power centers.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    prince_competence_ratio,
    "The ratio of the Prince's skill (Virtù) to the randomness of external events (Fortune).",
    resolution_mechanism("Long-term historical survival of the state under pressure."),
    impact("If too low: The Rope of the State snaps, reverting the People to a Noose of war."),
    confidence_without_resolution(low)
).

omega_variable(
    mercenary_fidelity,
    "The unpredictable breaking point of a mercenary's 'simulated' coordination.",
    resolution_mechanism("The moment of actual military engagement (e.g., the battle of Vaila)."),
    impact("If zero: The coordination mechanism is actually a Noose for the Prince hiring them."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * * ALTERNATIVE 1: Mercenary Arms
 * Viability: The standard practice in Renaissance Italy.
 * Suppression: Rejected by Machiavelli as "useless and dangerous."
 * Evidence: Chapter XII-XIII.
 * * ALTERNATIVE 2: Republics
 * Viability: Successfully maintained in Rome and formerly in Florence.
 * Suppression: Explicitly excluded from the scope of this particular 
 * manual to focus on the unique constraints of Principalities.
 * Evidence: Chapter II.
 * * CONCLUSION:
 * The existence of alternatives like "National Arms" vs "Mercenary Arms" 
 * fundamentally changes the constraint classification. A Prince relying on 
 * mercenaries is caught in a Noose; a Prince with his own army holds a Rope.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: stoic_logos_governance (marcus_aurelius_meditations)
% ============================================================================
% Generated: 2024-05-24
% Model: Gemini 2.0 Flash
% Source: Marcus Aurelius, "Meditations" (Long/Casaubon Translation)
% ============================================================================

:- module(constraint_stoic_governance, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: stoic_logos_framework
 * human_readable: The Stoic Moral and Imperial Framework
 * domain: philosophical/political/ethical
 * temporal_scope: 161–180 AD (Roman Empire)
 * spatial_scope: Global (Roman Empire and the Cosmos)
 * * SUMMARY:
 * The "Meditations" represent a unique case where the highest institutional 
 * power (the Emperor) voluntarily submits himself to a metaphysical 
 * constraint (the Logos/Nature). This constraint functions as a "Mountain" 
 * regarding the inevitability of death and fate, a "Rope" for personal 
 * discipline, and a "Noose" for the extraction of individual happiness 
 * in favor of imperial duty.
 * * KEY AGENTS:
 * - Marcus Aurelius: The "Institutional" agent who views his power as a 
 * servitude to the "Common Good."
 * - The Logos (Universal Nature): The "Powerful" metaphysical agent that 
 * sets the rules of the game.
 * - The Roman Subjects: The "Powerless" collective whose welfare is the 
 * justification for the Emperor's self-suppression.
 * - The Christians: An "Out-group" viewed through the lens of "Noose" 
 * (systemic suppression) despite the Emperor's personal gentleness.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

narrative_ontology:interval(antonine_period, 0, 10).
narrative_ontology:constraint_claim(stoic_logos_framework, mountain).

% Base extractiveness: 0.7
% Rationale: The system extracts personal desire, family mourning, and 
% individual comfort to maintain the "health of the whole" (the City of God).
domain_priors:base_extractiveness(stoic_logos_framework, 0.7).

% Suppression score: 0.8
% Rationale: Active suppression of "fancies," "passions," and "anger" is 
% the core requirement for participation in the Stoic life.
domain_priors:suppression_score(stoic_logos_framework, 0.8).

% Requires Active Enforcement: Yes (Internalized through constant meditation).
domain_priors:requires_active_enforcement(stoic_logos_framework).

% Metrics
narrative_ontology:constraint_metric(stoic_logos_framework, extractiveness, 0.7).
narrative_ontology:constraint_metric(stoic_logos_framework, suppression_requirement, 0.8).

% Beneficiaries: The Universal Community (Cosmopolis), the Roman State.
constraint_beneficiary(stoic_logos_framework, cosmopolis).
% Victims: Marcus's personal autonomy, his leisure, and historical out-groups (Christians).
constraint_victim(stoic_logos_framework, [marcus_personal_will, christian_sectaries]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   Perspective 1: Marcus as Ruler - NOOSE
   --------------------------------------------------------------------------
   To the Emperor, the duty of Rome is a "Noose." It extracts his vitality 
   and forces him to live "in the court" while longing for the "mother" 
   (Philosophy). He is trapped by his rank.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    stoic_logos_framework,
    noose,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   Perspective 2: The Individual vs. Mortality - MOUNTAIN
   --------------------------------------------------------------------------
   Death and Change are presented as "Natural Laws." There is no arbitrage; 
   one must simply accept. This is the "Mountain" that cannot be moved.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    stoic_logos_framework,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   Perspective 3: Philosophy as a Tool - ROPE
   --------------------------------------------------------------------------
   When Marcus uses "Dogmata" to calm his mind, philosophy acts as a "Rope." 
   It is a coordination mechanism between his reason and his actions, 
   allowing for internal arbitrage (peace in a palace).
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    stoic_logos_framework,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(arbitrage),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TEST SUITE
   ========================================================================== */

:- begin_tests(stoic_tests).

test(duty_as_extraction) :-
    domain_priors:base_extractiveness(stoic_logos_framework, E), E > 0.5.

test(perspectival_shift) :-
    % A ruler sees duty as a Noose; a student sees philosophy as a Rope.
    constraint_indexing:constraint_classification(stoic_logos_framework, noose, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(stoic_logos_framework, rope, context(agent_power(individual_moderate), _, _, _)).

:- end_tests(stoic_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */
/**
 * INTERPRETATION:
 * The "Meditations" illustrate the ultimate paradox of Deferential Realism: 
 * the person with the most power in the world (the Princeps) classifies 
 * himself as "individual_powerless" in the face of the Logos.
 *
 * ANALYSIS POINTS:
 * 1. THE ANTONINE PLAGUE: Marcus mentions his constitution is weak and many 
 * are dying. Statistics suggest the Antonine Plague (165–180 AD) killed 
 * approximately 5 to 10 million people (roughly 10% of the Roman population).
 * 2. VOLUNTARY EXTRACTION: Unlike typical "Nooses" where power extracts 
 * from the powerless, Marcus creates a "Noose" for himself to ensure the 
 * "Rope" of social order remains for his subjects.
 * 3. THE CHRISTIAN ANOMALY: Marcus's dismissal of Christians as 
 * "passionately set upon opposition" shows a failure to apply the 
 * "Rope" (logic) to an out-group, treating them instead with the 
 * unyielding force of the "Mountain" (state law).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(internal_sincerity, 
    "To what extent was Marcus's self-debasement a performance for his own ego?", 
    "The privacy of the text suggests high sincerity, but the 'Stoic Pose' is a known social construct.").

omega_variable(christian_persecution_intent, 
    "Was the persecution of Christians a direct result of Stoic dogma or administrative inertia?", 
    "The text suggests he viewed them as irrational, which in Stoicism justifies suppression.").

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */
/**
 * ALTERNATIVE 1: Epicureanism (Ataraxia)
 * Viability: Low for an Emperor. Epicureanism's "Live in Hiding" is 
 * impossible for a ruler.
 * Suppression: Marcus rejects it because it lacks the "Social" component 
 * necessary for a Roman.
 *
 * ALTERNATIVE 2: Tyranny (Nero/Commodus Path)
 * Viability: High. Commodus (his son) took this path.
 * Suppression: Marcus views this as a "Noose" for the soul—it extracts 
 * one's humanity for the sake of temporary pleasure.
 */

/* ==========================================================================
   END OF EVALUATION
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(stoic_logos_governance, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(stoic_logos_governance, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(stoic_logos_governance, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: strange_attractor_dynamics
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: David Ruelle / Floris Takens (1971) / Chaos Theory
% ============================================================================

:- module(constraint_strange_attractor, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: strange_attractor_dynamics
 * human_readable: Strange Attractors (Topological Chaos)
 * domain: mathematical/technological/physical
 * temporal_scope: 1971 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Non-linear Phase Space)
 * * SUMMARY:
 * A strange attractor is a set of physical states toward which a chaotic 
 * system evolves. Unlike simple attractors (points or loops), strange 
 * attractors have fractal structures and exhibit sensitive dependence on 
 * initial conditions. They represent a fundamental limit on the geometry 
 * of stability.
 * * KEY AGENTS:
 * - The System State (The Trajectory): The powerless agent following the 
 * flow, trapped on a manifold that never repeats.
 * - The Nonlinear Dynamics Researcher: An institutional agent who uses 
 * attractor reconstruction (Takens' Theorem) to map hidden order.
 * - The Predictor: An agent for whom the attractor's "strangeness" acts 
 * as a "Noose," extracting the possibility of long-term certainty.
 * * NARRATIVE ARC:
 * The strange attractor is a "Mountain" of topological fate—the system 
 * must eventually fall into this shape. In signal processing, it is a 
 * "Rope" for identifying deterministic noise. However, the "folding and 
 * stretching" of phase space acts as a "Noose" for prediction, 
 * exponentially extracting information until the future is a void.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor
narrative_ontology:interval(strange_attractor_dynamics, 1971, 2026).
narrative_ontology:constraint_claim(strange_attractor_dynamics, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.35). Strange attractors "extract" initial 
% information at a rate determined by the Kolmogorov-Sinai entropy. 
% To maintain any "Rope" of coordination, observers must constantly 
% re-invest in new data measurement.
domain_priors:base_extractiveness(strange_attractor_dynamics, 0.35).

% Suppression score (0.0-1.0)
% Rationale: Moderate (0.3). The discovery of strange attractors 
% suppressed the Ruelle-Takens-Newhouse alternative of "purely 
% stochastic" turbulence, proving it was actually deterministic.
domain_priors:suppression_score(strange_attractor_dynamics, 0.3).

% Enforcement: Emerges naturally from the interaction of dissipation 
% and non-linearity in phase space.
domain_priors:emerges_naturally(strange_attractor_dynamics).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(strange_attractor_dynamics, extractiveness, 0.35).
narrative_ontology:constraint_metric(strange_attractor_dynamics, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(strange_attractor_dynamics, data_reconstruction_engineers).
constraint_beneficiary(strange_attractor_dynamics, secure_communication_protocols). % Chaos-based encryption.
constraint_victim(strange_attractor_dynamics, laplacian_determinists).
constraint_victim(strange_attractor_dynamics, long_term_linear_extrapolators).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PHASE SPACE TRAJECTORY - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The particle/state cannot leave the attractor basin.
   WHEN: immediate - True at every infinitesimal step.
   WHERE: trapped - Bound to the fractal manifold.
   SCOPE: local - Immediate neighborhood of the current state.
   
   WHY THIS CLASSIFICATION:
   For the state itself, the attractor is an absolute, unyielding 
   geographic fate. It cannot "choose" to enter a periodic loop or 
   fly off to infinity once it is within the basin of attraction.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    strange_attractor_dynamics,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ENVELOPE DESIGNER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design systems that operate within the attractor.
   WHEN: biographical - Planning the flight envelope of a vehicle or economy.
   WHERE: mobile - Can move parameters to stay within a specific regime.
   SCOPE: global - Universal application to all systems of this class.
   
   WHY THIS CLASSIFICATION:
   For the architect, the attractor is a "Rope"—a functional coordination 
   mechanism. While unpredictable in the detail, the "bound" of the 
   attractor ensures the system stays within a known statistical 
   envelope, allowing for safety margins.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    strange_attractor_dynamics,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PRECISION-BOUND SIMULATOR - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Bound by the bit-depth of the hardware.
   WHEN: immediate - The Lyapunov horizon where the simulation fails.
   WHERE: constrained - No path to future certainty.
   SCOPE: local - A specific high-entropy region of the attractor.
   
   WHY THIS CLASSIFICATION:
   The attractor's "strangeness" acts as a "Noose" for digital models. 
   It exponentially extracts the value of the initial bits (extraction), 
   "strangling" the validity of the model until it is indistinguishable 
   from random noise.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    strange_attractor_dynamics,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(strange_attractor_dynamics, E),
    E >= 0.3,
    !.

/* ==========================================================================
   4. TESTS (Insights into Phase Space Gravity)
   ========================================================================== */

:- begin_tests(strange_attractor_tests).

test(attractor_fate_variance) :-
    % State -> Mountain
    constraint_indexing:constraint_classification(strange_attractor_dynamics, Type1, context(individual_powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(strange_attractor_dynamics, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(predictability_noose_penalty) :-
    % A powerless simulator with constrained precision sees it as a Noose.
    constraint_indexing:constraint_classification(strange_attractor_dynamics, noose, context(individual_powerless, immediate, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(strange_attractor_dynamics).

:- end_tests(strange_attractor_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: I chose "Mountain" for the global geometry because 
 * the attractor's existence is a topological mandate.
 * 2. TYPE SHIFT: Highlighted how the "Strangeness" is a tool (Rope) for 
 * those who want noise/entropy, but a trap (Noose) for those seeking 
 * classical determinism.
 * 3. EXTRACTIVENESS (0.35): Assigned due to the "Information Loss" 
 * characteristic of positive Lyapunov exponents.
 */

% OMEGA IDENTIFICATION
omega_variable(
    attractor_shadowing,
    "Do 'true' trajectories shadow the 'noose' of numerical simulation orbits?",
    resolution_mechanism("Verification of the Shadowing Lemma for specific attractor topologies."),
    impact("If Yes: The digital 'Noose' is a 'Scaffold' that actually reflects a real 'Rope'."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Limit Cycles (Periodic Attractors)
 * Viability: Systems with lower-dimensional energy dissipation.
 * Suppression: Strange attractors "suppress" the hope for simple 
 * cycles in high-dimensional nonlinear turbulence.
 * * ALTERNATIVE 2: Pure Random Walk (Stochasticity)
 * Viability: Treating the signal as white noise.
 * Conclusion: Chaos theory proves this is an "unnecessary Scaffold" 
 * because the underlying Mountain is actually deterministic.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [strange_attractor_dynamics].
% Analyze: ?- constraint_indexing:multi_index_report(strange_attractor_dynamics).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: sts86_ascent_checklist
% ============================================================================
% Generated: 2026-01-16
% Model: Gemini-Thought-Partner-v2
% Source: JSC-48005-86 - STS-86 Ascent Checklist
% ============================================================================

:- module(sts86_ascent_checklist, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

% Structural Anchor for Script Extraction
narrative_ontology:interval(sts86_ascent_checklist, 0, 10).

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: sts86_ascent_checklist
 * human_readable: Space Shuttle Ascent/Abort Procedural Matrix
 * domain: technological/institutional
 * temporal_scope: immediate (T- minus 5m to Orbit)
 * spatial_scope: cockpit/national
 * * SUMMARY:
 * The checklist (JSC-48005) represents the ultimate procedural constraint. 
 * It manages the transition from a ground-controlled environment to a 
 * physics-dominated ascent where human agency is bound by rigid logic gates.
 * * KEY AGENTS:
 * - NASA/Mission Operations: The Institutional architect.
 * - Flight Crew (CDR/PLT): The Moderate Agents executing the script.
 * - The 'Powerless' Pilot: The crew-member in a 3-Engine-Out scenario.
 * * NARRATIVE ARC:
 * Prelaunch is a "Rope" of coordination. At SRB Ignition, the checklist 
 * ossifies. In an abort (e.g., Mode 8), it becomes a "Mountain" (Physical Law).
 */

/* ==========================================================================
   2. BASE PROPERTIES
   ========================================================================== */

% Extractiveness: Low (0.05). NASA gains nothing from crew failure. 
% Benefit flow is aimed at systemic survival.
domain_priors:base_extractiveness(sts86_ascent_checklist, 0.05).

% Suppression: High (0.95). Deviating from the checklist is treated 
% as a failure mode itself. Alternative "freestyle" flying is invisible.
domain_priors:suppression_score(sts86_ascent_checklist, 0.95).

% Enforcement: Requires active maintenance (Ground Control / CPCB).
domain_priors:requires_active_enforcement(sts86_ascent_checklist).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE: Institutional (NASA Mission Operations) - ROPE
   --------------------------------------------------------------------------
   WHY: The checklist is the "Rope" that pulls 10,000 workers into sync.
   It is a coordination mechanism that is changeable (via Form 482).
   EVIDENCE: "This document is under the configuration control of the Crew 
   Procedures Control Board (CPCB)." 
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sts86_ascent_checklist,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
).

/* --------------------------------------------------------------------------
   PERSPECTIVE: Powerless View (Crew in 3-E/O Abort) - MOUNTAIN
   --------------------------------------------------------------------------
   WHY: In a failure mode, the checklist is no longer a choice; it is the
   edge of a physical cliff. "Mountain" status is claimed because the 
   metric of suppression (0.95) meets the physical deadline of Mach < .95.
   EVIDENCE: "BAILOUT MODE 8... ~30K FT... JETTISON HATCH... BAILOUT" 
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sts86_ascent_checklist,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
).

/* ==========================================================================
   4. TESTS (Insights into Ontological Mismatches)
   ========================================================================== */

:- begin_tests(sts86_ascent_tests).

test(perspectival_gap) :-
    % Institutional sees a tool (Rope), Powerless sees Fate (Mountain)
    constraint_indexing:constraint_classification(sts86_ascent_checklist, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(sts86_ascent_checklist, mountain, context(agent_power(individual_powerless), _, _, _)).

test(omega_variable_physics) :-
    % Grounding Omega-1: Velocity at MECO as a fixed physical constraint
    Velocity = 25873, % 
    Velocity > 25000.

:- end_tests(sts86_ascent_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Conflict & Omega Resolution)
   ========================================================================== */

/**
 * EXPLAINING THE CONFLICT:
 * The Institutional view claims "Rope" status because they control the 
 * document (Exit Option: Mobile). However, the metrics (Suppression: 0.95) 
 * contradict this for the crew. I have resolved this by updating the 
 * "Powerless" view to reflect that at T-0, the "Rope" has been "captured" 
 * by Physics ($\Omega_{physics}$).
 * * GROUNDING THE OMEGAS:
 * - Omega_Velocity ($\Omega_v$): 25,873 fps. The threshold where the Rope 
 * of the checklist becomes a Mountain. 
 * - Omega_Abort ($\Omega_a$): The 10-second stability window. 
 * If Stability < 10s, agency is lost. 
 * * ONTOLOGICAL_MISMATCHES: Resolved by identifying that the crew's 
 * "Trapped" status at launch forces a shift from Rope to Mountain.
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. BFS (Backup Flight System): A parallel "Rope." If PASS fails, 
 * BFS becomes the primary constraint. 
 * 2. Manual Throttle: A rare moment where the Moderate agent regains 
 * agency, shifting Mountain back to Rope. 
 */

% ============================================================================
% END OF CONSTRAINT STORY
% ============================================================================


% ==========================================================================
% [SKELETON REPAIR] Missing Perspectival Pillars Added: NOOSE
% To be calibrated: Define the narrative justification for these perspectives.
% ==========================================================================
constraint_indexing:constraint_classification(sts86_ascent_checklist, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: sturgeons_law
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Theodore Sturgeon (1951/1958) / Science Fiction Criticism
% ============================================================================

:- module(constraint_sturgeons_law, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: sturgeons_law
 * human_readable: Sturgeon's Law ("90% of everything is crap")
 * domain: artistic/sociological
 * temporal_scope: Permanent (Modern Era)
 * spatial_scope: Global (Creative/Information Systems)
 * * SUMMARY:
 * Formulated by sci-fi writer Theodore Sturgeon, the law states that "ninety percent 
 * of everything is crud." It was originally a defense of science fiction against 
 * critics, arguing that while 90% of sci-fi is bad, 90% of *all* literature, art, 
 * and film is also bad. It represents a fundamental baseline of quality distribution.
 * * KEY AGENTS:
 * - The Sci-Fi Writer (Sturgeon): Seeking to defend the 10% "pearls" from being 
 * dismissed by the presence of the 90% "crud."
 * - The Critic: Uses the 90% to invalidate a whole genre or domain.
 * - The Consumer: Navigating a sea of mediocrity to find value.
 * * NARRATIVE ARC:
 * The law functions as a protective shield for niche domains. By acknowledging 
 * the "Mountain" of mediocrity, the observer is freed to find the "Rope" of 
 * excellence. It becomes a "Noose" when the 90% becomes so overwhelming that 
 * the 10% is never discovered or funded.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(sturgeon_interval, 0, 10).
narrative_ontology:constraint_claim(sturgeons_law, mountain).

% Base extractiveness: 0.1 (Low)
% Rationale: The "crud" doesn't necessarily extract value; it mostly 
% consumes attention and "shelf space" without providing a return.
domain_priors:base_extractiveness(sturgeons_law, 0.1).

% Suppression score: 0.4 (Moderate)
% Rationale: The sheer volume of the 90% often suppresses the visibility of 
% the high-quality 10%, requiring active "curation" to overcome.
domain_priors:suppression_score(sturgeons_law, 0.4).

% Enforcement: Emerges naturally from the difficulty of achieving excellence.
domain_priors:emerges_naturally(sturgeons_law).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(sturgeons_law, extractiveness, 0.1).
narrative_ontology:constraint_metric(sturgeons_law, suppression_requirement, 0.4).

% Beneficiaries: Curators and critics who gain power by filtering the 90%.
constraint_beneficiary(sturgeons_law, expert_curators).

% Victims: The "Average" creator whose work is lost in the 90% noise.
constraint_victim(sturgeons_law, mid_tier_creatives).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SCI-FI WRITER - ROPE
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (A professional navigating a maligned genre).
   WHEN: biographical (Protecting their career's validity).
   WHERE: mobile (Can point to the 10% of other genres for comparison).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   For Sturgeon himself, the law is a Rope. It is a coordination tool that 
   standardizes expectations. By admitting 90% is bad, he moors his defense 
   to a universal truth, allowing him to pull the 10% of "hard" sci-fi up 
   to the level of high literature.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sturgeons_law,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CASUAL CONSUMER - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A reader browseing a bookstore).
   WHEN: immediate (A single afternoon of searching).
   WHERE: trapped (Cannot change the quality of what is published).
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   To the consumer, the 90% is a Mountain. It is an immovable fact of the 
   environment. They must climb through stacks of "crud" to find something 
   worth reading. They have no power over the distribution; they can only 
   endure it.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sturgeons_law,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ALGORITHMIC FILTER - NOOSE
   --------------------------------------------------------------------------
   
   WHO: institutional (A streaming service or social media platform).
   WHEN: historical (Scaling over decades of content).
   WHERE: arbitrage (Can exploit the 90% for cheap engagement).
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   For the platform, Sturgeon's Law is a Noose used on the creators. Because 
   "everything is crud," the platform feels justified in using aggressive 
   algorithms that squeeze the 90% for "engagement" while charging the 10% 
   for "visibility." The law justifies a system where quality is secondary 
   to volume.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sturgeons_law,
    noose,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(sturgeons_law_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(sturgeons_law, Type1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(sturgeons_law, Type2, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(sturgeons_law, Type3, context(agent_power(institutional), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(crud_distribution_immutability) :-
    % From a civilizational view, the ratio is seen as a physical law (Mountain).
    constraint_indexing:constraint_classification(sturgeons_law, mountain, context(_, civilizational, _, _)).

:- end_tests(sturgeons_law_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: Chose "Rope" for the writer because the law was 
 * intended as an empowering rhetorical device, not a defeatist one.
 * 2. NOOSE: Applied the Noose concept to institutional gatekeepers who 
 * use the "90% is crud" axiom to justify poor treatment of creatives 
 * or low-quality automated systems.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    quality_threshold_subjectivity,
    "Is 'crap' (crud) an objective statistical failure (Mountain) or a 
    subjective perspectival judgment (Rope)?",
    resolution_mechanism("Cross-cultural longitudinal study of consensus on 'classic' status"),
    impact("If Mountain: Sturgeon's ratio is a biological limit. If Rope: It's an index of shifting taste."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Highly Curated Guild Systems
 * Viability: Historically common (e.g., Medieval guilds).
 * Suppression: High. Modern digital platforms prefer "permissionless entry" 
 * which guarantees Sturgeon's Law scales infinitely.
 * * CONCLUSION:
 * The 90/10 ratio is exacerbated by the lack of gatekeepers. In highly 
 * curated systems, the 90% might be 50%, shifting the law from a Mountain 
 * toward a Rope.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * ?- [constraint_sturgeons_law].
 * ?- run_tests(sturgeons_law_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: sunk_cost_fallacy
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Behavioral Economics / Arkes & Blumer (1985)
% ============================================================================

:- module(constraint_sunk_cost_fallacy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: sunk_cost_fallacy
 * human_readable: The Sunk Cost Fallacy
 * domain: economic/social/cognitive
 * temporal_scope: Permanent (Human Decision Architecture)
 * spatial_scope: Global (Resource Allocation)
 * * SUMMARY:
 * The sunk cost fallacy is the tendency to continue an endeavor once an 
 * investment in money, effort, or time has been made, even when the current 
 * costs outweigh the likely future benefits. It is a "rear-view mirror" 
 * approach to decision-making that ignores future marginal utility in favor 
 * of emotional accounting for past losses.
 * * KEY AGENTS:
 * - The Entrenched Participant: An agent who feels they have "too much 
 * invested to quit" (e.g., a student in the wrong major or a failing project lead).
 * - The Rational Arbiter: An external observer who ignores past costs to 
 * focus solely on future ROI.
 * - The Systemic Exploiter: An institution (e.g., a subscription service or 
 * casino) that uses initial buy-ins to lock agents into further spending.
 * * NARRATIVE ARC:
 * The fallacy functions as a "Mountain" of cognitive inertia. To the manager, 
 * it is a "Rope" (the logic of commitment and persistence). However, for the 
 * individual trapped in a failing path, it becomes a "Noose," where every 
 * additional unit of effort invested makes the psychological cost of 
 * quitting higher, effectively strangling their future optionality.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(sunk_cost_interval, 0, 10).
narrative_ontology:constraint_claim(sunk_cost_fallacy, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts future "optionality" and "capital." It benefits 
% entities that profit from "lock-in" while the victim extracts only 
% emotional comfort from not admitting failure.
domain_priors:base_extractiveness(sunk_cost_fallacy, 0.5).

% Suppression score (0.0-1.0)
% Rationale: It suppresses the "Exit" alternative. The brain frames 
% quitting as "waste," making the rational choice (stopping) feel 
% morally or logically invisible.
domain_priors:suppression_score(sunk_cost_fallacy, 0.6).

% Enforcement requirements
domain_priors:emerges_naturally(sunk_cost_fallacy).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(sunk_cost_fallacy, extractiveness, 0.5).
narrative_ontology:constraint_metric(sunk_cost_fallacy, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(sunk_cost_fallacy, [casinos, predatory_subscription_models, status_quo_bureaucrats]).
constraint_victim(sunk_cost_fallacy, [unhappy_career_holders, failed_project_investors]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE BEHAVIORAL ECONOMIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The objective observer of human error)
   WHEN: civilizational (Observing an evolved cognitive heuristic)
   WHERE: trapped (Human neural pathways prioritize loss aversion)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the analyst, the fallacy is a Mountain. It is an unchangeable feature of 
   the human landscape. Regardless of the culture or era, humans show a 
   predictable biological resistance to "cutting losses" because our brains 
   are hard-wired for loss aversion over gain maximization.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sunk_cost_fallacy,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PROJECT MANAGER - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-shaping power over a team)
   WHEN: biographical (Achieving project completion targets)
   WHERE: arbitrage (Can frame "persistence" as a virtue to secure more funding)
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   For the manager, "sunk cost" logic is often used as a Rope. It is a 
   coordination mechanism for persistence. By reminding the team or the 
   board of "how far we've come," they pull together the social and 
   financial resources needed to push through the "trough of sorrow" 
   toward a delayed finish line.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sunk_cost_fallacy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE UNHAPPY DOCTORAL STUDENT - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A subject trapped by their own history)
   WHEN: immediate (Daily experience of diminishing returns)
   WHERE: constrained (Cannot quit without losing years of social/financial identity)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For the person seven years into a degree they no longer want, the fallacy 
   is a Noose. The "investment" they've made acts as the rope that 
   strangles their current freedom. They cannot leave because they cannot 
   face the "waste" of the past seven years, so they lose the *next* seven years too.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sunk_cost_fallacy,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(sunk_cost_fallacy_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(sunk_cost_fallacy, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(sunk_cost_fallacy, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(sunk_cost_fallacy, T3, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(loss_aversion_extraction) :-
    % Verify that the fallback to the past extracts from the future.
    domain_priors:base_extractiveness(sunk_cost_fallacy, Score),
    Score >= 0.4.

test(horizon_immutability) :-
    % Short-term pressure (Immediate) makes it a Noose/Mountain; 
    % Civilizational view sees it as an invariant fact of the mind.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(sunk_cost_fallacy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.5):
 * Reasoning: The fallacy extracts the most precious non-renewable resource: 
 * future time. It forces agents to pay for the past using the future.
 * * 2. PERSPECTIVE SELECTION:
 * The Manager (Rope) is a key perspective because "Commitment" is often 
 * the social/positive framing of a sunk cost fallacy.
 * * 3. NOOSE CLASSIFICATION:
 * The Noose emerges when the exit cost is not just financial, but 
 * identity-based. "Who am I if I am not the person who finished this?"
 * * 4. OMEGAS:
 * omega_variable(quitting_stigma,
 *	"To what degree is the 'Noose' caused by internal bias vs. external social shame?",
 *	resolution_mechanism("Comparative study of abandonment rates in anonymous vs. public commitments"),
 *	impact("If Internal: Mountain. If Social: Rope (changeable culture)."),
 *	confidence_without_resolution(medium)
 *	).
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Marginal Utility Thinking
 * Viability: The standard economic "correct" answer. Focus only on 
 * the next dollar/hour spent.
 * Suppression: High. It is cognitively difficult because it requires 
 * overriding deep-seated emotional loss-aversion.
 * * CONCLUSION:
 * The existence of a rational alternative (Marginal Thinking) that is 
 * systematically suppressed by human emotion converts the Sunk Cost 
 * Fallacy from a simple mistake into a persistent "Noose" for the 
 * unexamined life.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 1. Load: ?- [constraint_sunk_cost_fallacy].
 * 2. Report: ?- multi_index_report(sunk_cost_fallacy).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: suslin_hypothesis_undecidability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Mikhail Suslin (1920) / Solovay & Tennenbaum (1971)
% ============================================================================

:- module(constraint_suslin_hypothesis, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: suslin_hypothesis_undecidability
 * human_readable: Suslin's Hypothesis (Linear Order Undecidability)
 * domain: mathematical/philosophical
 * temporal_scope: 1920 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Set Theory / Topology)
 * * SUMMARY:
 * Suslin's Hypothesis (SH) proposes that any dense linear order without 
 * endpoints that satisfies the "Suslin condition" (no uncountable family of 
 * disjoint open intervals) must be isomorphic to the real line. It was proven 
 * independent of ZFC set theory by Solovay and Tennenbaum in 1971.
 * * KEY AGENTS:
 * - The Suslin Line (Subject): A hypothetical powerless agent—a linear 
 * continuum that satisfies SH's conditions but might not be the real numbers.
 * - The Set-Theoretic Architect (Institutional): An agent who uses SH or its 
 * negation as a "Rope" to build consistent models of the mathematical universe.
 * - The Intuitive Realist (Analytical): An observer for whom the existence 
 * of a Suslin line is a "Noose" that strangles the uniqueness of the real 
 * number line.
 * * NARRATIVE ARC:
 * Suslin's Hypothesis functions as a "Mountain" of structural possibility; 
 * its truth is a fixed feature of whichever logical world one inhabits. In 
 * topology, it is a "Rope" for coordinating the classification of 
 * continua. However, for those seeking a singular, absolute definition of 
 * "Continuity," the undecidability of SH acts as a "Noose," extracting the 
 * certainty of the Real Line (extraction) and "choking" the intuition that 
 * a few simple properties should uniquely define the reals.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(suslin_era, 1920, 2026).
narrative_ontology:constraint_claim(suslin_hypothesis_undecidability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. SH "extracts" the definitive uniqueness of the real numbers 
% as a geometric concept, forcing a "logical tax" of model-dependency on 
% topologists and analysts.
domain_priors:base_extractiveness(suslin_hypothesis_undecidability, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the visibility of "Naive Realism" in 
% mathematics by proving that the structure of the continuum is not fully 
% determined by the standard axioms of ZFC.
domain_priors:suppression_score(suslin_hypothesis_undecidability, 0.3).

% Enforcement: Emerges naturally from the axioms of ZFC and the use of forcing.
domain_priors:emerges_naturally(suslin_hypothesis_undecidability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(suslin_hypothesis_undecidability, extractiveness, 0.2).
narrative_ontology:constraint_metric(suslin_hypothesis_undecidability, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(suslin_hypothesis_undecidability, forcing_theory_researchers).
constraint_beneficiary(suslin_hypothesis_undecidability, model_theorists).
constraint_victim(suslin_hypothesis_undecidability, classical_topological_intuition).
constraint_victim(suslin_hypothesis_undecidability, hilbertian_deductive_completeness).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE HYPOTHETICAL SUSLIN LINE - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The line has no agency; its existence is 
   contingent on the axioms of the universe it occupies.
   WHEN: immediate - Its properties are fixed at the moment of definition.
   WHERE: trapped - Bound within the set-theoretic model it inhabits.
   SCOPE: local - Immediate neighborhood of its points and intervals.
   
   WHY THIS CLASSIFICATION:
   For a Suslin line, its own existence (or non-existence) is an absolute 
   Mountain. It cannot "choose" to be isomorphic to the reals if the model 
   it is in allows for a non-separable continuum. The logic is an unyielding 
   law of its existence.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    suslin_hypothesis_undecidability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MODERN SET THEORIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to choose axioms (e.g., Martin's Axiom or V=L).
   WHEN: biographical - Planning the career-long development of a specific model.
   WHERE: mobile - Can choose different "logical exits" via forcing.
   SCOPE: global - Universal foundation for mathematical analysis.
   
   WHY THIS CLASSIFICATION:
   For the institutional logic researcher, SH is a "Rope"—a functional 
   coordination tool. By choosing an axiom like Martin's Axiom (which 
   implies SH) or the Diamond Principle (which implies ¬SH), they 
   coordinate a "standard of achievement" for what constitutes a 
   consistent mathematical universe.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    suslin_hypothesis_undecidability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CLASSICAL ANALYST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Bound by the undecidability of their primary subject.
   WHEN: civilizational - Seeking a definitive "Theory of the Reals."
   WHERE: constrained - The "exit" (a final ZFC proof) is mathematically barred.
   SCOPE: global - Universal limit on formal geometric knowledge.
   
   WHY THIS CLASSIFICATION:
   For the seeker of absolute geometric truth, the independence of SH is 
   a "Noose." It "strangles" the hope that the real numbers are the 
   only possible "perfect" continuum. It extracts the "certainty of 
   the reals" (extraction) and "chokes" the intuition that simple 
   structural properties should be sufficient for a unique definition.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    suslin_hypothesis_undecidability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(suslin_hypothesis_undecidability, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(suslin_hypothesis_tests).

test(multi_perspective_variance) :-
    % Line -> Mountain
    constraint_indexing:constraint_classification(suslin_hypothesis_undecidability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(suslin_hypothesis_undecidability, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(deductive_extraction_penalty) :-
    % Analysts experience the "Noose" of foundational extraction.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(suslin_hypothesis_undecidability, Context, Score),
    Score >= 0.15.

test(natural_emergence) :-
    domain_priors:emerges_naturally(suslin_hypothesis_undecidability).

:- end_tests(suslin_hypothesis_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: SH extracts the "uniqueness" of the real number line. 
 * It imposes a metaphysical tax where the nature of continuity is 
 * contingent on axiomatic choice rather than pure deduction.
 * * 2. CLASSIFICATION RATIONALE:
 * Chose Suslin Line (Subject), Architect (Institutional User), and 
 * Classical Analyst (Victim) to highlight the gap between 
 * "Logical Determinism" and "Foundational Uncertainty."
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the "Naturalness of Axioms"—is there a higher Mountain 
 * that tells us which model is "Real"?
 */

% OMEGA IDENTIFICATION
omega_variable(
    natural_continuum_consensus,
    "Is there a 'Natural' model of set theory (e.g., V=L or Large Cardinals) that resolves Suslin's Hypothesis (Mountain) or is it a pluralist Scaffold?",
    resolution_mechanism("Investigation into 'Inner Model' theory or large cardinal consensus."),
    impact("If Mountain: The Real Line has a 'True' character. If Scaffold: Continuity is a tool of choice (Rope)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Gödel's Constructible Universe (V=L)
 * Viability: In V=L, Suslin's Hypothesis is false (Suslin lines exist).
 * Suppression: Rejected by those who believe the "Full" universe 
 * should have higher-order symmetry.
 * * ALTERNATIVE 2: Martin's Axiom (MA)
 * Viability: In models with MA and the negation of CH, SH is true.
 * Suppression: Often preferred by analysts because it preserves the 
 * "uniqueness" of the reals (The Rope).
 * * CONCLUSION:
 * The existence of Alternative 1 (V=L) proves that the "Noose" of 
 * undecidability is a choice. We climb the Mountain by agreeing 
 * on which Rope of axioms to use.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * * 1. Load: ?- [suslin_hypothesis_undecidability].
 * 2. Multi-perspective: ?- multi_index_report(suslin_hypothesis_undecidability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: sylow_theorems_group_theory
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Sylow Theorems (Peter Ludwig Sylow, 1872) / Finite Group Theory
% ============================================================================

:- module(constraint_sylow_theorems, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: sylow_theorems_group_theory
 * human_readable: Sylow Theorems (Subgroup Constraints)
 * domain: mathematical/theoretical
 * temporal_scope: 1872 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Finite Groups)
 * * SUMMARY:
 * The Sylow Theorems characterize the existence, conjugacy, and number of 
 * p-subgroups within a finite group of a given order. They provide the 
 * "structural skeleton" for the classification of finite groups, placing 
 * rigid limits on how many subgroups of a specific prime-power order can exist.
 * * KEY AGENTS:
 * - The Group Structure (Subject): The mathematical object whose internal 
 * configuration is pre-ordained by the prime factorization of its order.
 * - The Group Classifier (Institutional): An agent using the theorems as a 
 * "Rope" to systematically prove the non-simplicity or cyclicity of groups.
 * - The Finite Simple Group Searcher: An agent for whom the theorems act 
 * as a "Noose," excluding billions of potential group structures from 
 * the possibility of "simplicity."
 * * NARRATIVE ARC:
 * The Sylow Theorems are the "Mountain" of group composition—they define 
 * the unyielding arithmetic landscape that every finite group must inhabit. 
 * In the Classification of Finite Simple Groups (CFSG), they function as 
 * a "Rope" for global coordination. However, for a candidate group 
 * struggling to be "Simple," the congruency requirement ($n_p \equiv 1 \pmod p$) 
 * is a "Noose" that extracts its possibility of existence.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(sylow_era, 1872, 2026).
narrative_ontology:constraint_claim(sylow_theorems_group_theory, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Low (0.15). Pure math truth is non-coercive. However, the theorems 
% "extract" symmetry possibilities from groups, forcing them into specific 
% subgroup lattices.
domain_priors:base_extractiveness(sylow_theorems_group_theory, 0.15).

% Suppression score (0.0-1.0)
% Rationale: Low (0.2). It suppresses the visibility of "illegal" group 
% configurations (e.g., a group of order 15 having more than one Sylow 5-subgroup).
domain_priors:suppression_score(sylow_theorems_group_theory, 0.2).

% Enforcement: Emerges naturally from the axioms of group theory.
domain_priors:emerges_naturally(sylow_theorems_group_theory).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(sylow_theorems_group_theory, extractiveness, 0.15).
narrative_ontology:constraint_metric(sylow_theorems_group_theory, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(sylow_theorems_group_theory, algebraic_classifiers).
constraint_beneficiary(sylow_theorems_group_theory, cryptographic_designers). % Secure group selection.
constraint_victim(sylow_theorems_group_theory, non_existent_simple_groups). % Excluded from reality.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE GROUP ELEMENT (SUBJECT) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The element's behavior in cycles is fixed by the group order.
   WHEN: immediate - True at the moment the group is defined.
   WHERE: trapped - Bound within the subgroup structure dictated by $|G|$.
   SCOPE: local - Immediate neighborhood of the element's orbit.
   
   WHY THIS CLASSIFICATION:
   For an element in a group of order 30, the existence of a normal Sylow 
   5-subgroup (and thus its own membership in it) is an absolute, 
   unchangeable law. The element has zero "volition" to belong to a 
   different structural configuration.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    sylow_theorems_group_theory,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MATHEMATICS PROFESSOR - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to design proofs and classify group families.
   WHEN: biographical - Planning a curriculum or a research paper.
   WHERE: mobile - Can choose different group orders to explore or prove.
   SCOPE: global - Universal application to all finite groups.
   
   WHY THIS CLASSIFICATION:
   For the institutional actor, the theorems are a "Rope"—a tool for 
   functional coordination. They allow for the efficient "tagging" and 
   classification of infinite varieties of groups into neat structural buckets.
   
   NARRATIVE EVIDENCE:
   "The Sylow Theorems are used as a standard of achievement in proving 
   that every group of order pq (p < q, p not dividing q-1) is cyclic."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    sylow_theorems_group_theory,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SEARCHER FOR SIMPLE GROUPS - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Bound by the arithmetic constraints of $n_p$.
   WHEN: immediate - Every $n_p$ check that doesn't equal 1 is an "extraction" of failure.
   WHERE: constrained - Knowing the order but "strangled" by the divisibility rules.
   SCOPE: local - A specific integer order (e.g., trying to find a simple group of order 150).
   
   WHY THIS CLASSIFICATION:
   For an agent trying to construct a "Simple Group" (one with no normal 
   subgroups), the Sylow theorems act as a "Noose." They "strangle" most 
   candidate orders by proving that a normal subgroup *must* exist, 
   extracting the researcher's hope for simplicity through arithmetic logic.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    sylow_theorems_group_theory,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(sylow_theorems_group_theory, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (Insights into Group Complexity)
   ========================================================================== */

:- begin_tests(sylow_theorems_tests).

test(subgroup_fate_variance) :-
    % Group Structure -> Mountain
    constraint_indexing:constraint_classification(sylow_theorems_group_theory, Type1, context(individual_powerless, immediate, trapped, local)),
    % Classifier -> Rope
    constraint_indexing:constraint_classification(sylow_theorems_group_theory, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(non_simplicity_noose_penalty) :-
    % A powerless searcher in a local context sees the congruency rule as a Noose.
    constraint_indexing:constraint_classification(sylow_theorems_group_theory, noose, context(individual_powerless, immediate, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(sylow_theorems_group_theory).

:- end_tests(sylow_theorems_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.15): 
 * Mathematical laws are non-coercive but "extract" possibilities. The 
 * "Sylow-Noose" effect is well known to students who find that 
 * $n_p \mid m$ and $n_p \equiv 1 \pmod p$ frequently force $n_p = 1$.
 * * 2. CLASSIFICATION: 
 * Sylow is the quintessential "Mountain" of abstract structure—local 
 * prime facts determine global group fate.
 * * 3. PERSPECTIVES:
 * Chose Group Element (Passive Subject), Professor (Tool User), and 
 * Searcher (Victim of Rigor) to show how a "gift" of knowledge can 
 * be a "trap" for creativity.
 */

% OMEGA IDENTIFICATION
omega_variable(
    sylow_existence_constructivity,
    "Does the existence of a Sylow subgroup (Mountain) provide an efficient algorithm to find it (Rope)?",
    resolution_mechanism("Verification of the complexity of the Cohen-Cannon-Lausch algorithm for various group classes."),
    impact("If Exponential: The Mountain is a Noose for computers. If Polynomial: It is a Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Hall Subgroups
 * Viability: Generalize Sylow for solvable groups (subgroups of order m, where m divides |G| and gcd(m, |G|/m)=1).
 * Status: A "Rope" used where Sylow is too restrictive, but "suppressed" by 
 * the requirement of solvability.
 * * ALTERNATIVE 2: Cauchy's Theorem
 * Viability: Guaranteed existence of an element (not subgroup) of order p.
 * Status: A "Scaffold" that Sylow theorems completely replaced and subsumed.
 * * CONCLUSION:
 * The dominance of Sylow as a "Mountain" is due to its universal 
 * applicability to *all* finite groups, unlike Hall subgroups.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [sylow_theorems_group_theory].
% Analyze: ?- constraint_indexing:multi_index_report(sylow_theorems_group_theory).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: taiwan_existential_sovereignty
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Geopolitical Strategy Analysis / Cross-Strait Relations
% ============================================================================

:- module(constraint_taiwan_sovereignty, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: taiwan_existential_sovereignty
 * human_readable: The Taiwan Existential Sovereignty Constraint
 * domain: political/economic/technological
 * temporal_scope: 1949-Present
 * spatial_scope: Taiwan / Taiwan Strait
 * * SUMMARY:
 * This constraint models the condition of Taiwan's existence under persistent 
 * existential threat. It is characterized by the "Silicon Shield" (economic 
 * indispensability) acting as a Rope, while the military imbalance and 
 * diplomatic isolation function as a Noose. For the population, the 
 * "Status Quo" has become an unyielding Mountain—the only navigable terrain 
 * between the catastrophic extraction of a conflict and the loss of autonomy.
 * * KEY AGENTS:
 * - The Taiwanese Citizen: Individual powerless; lives within the "Status Quo" 
 * as a fact of nature while managing daily life under the shadow of the Strait.
 * - The Taiwanese Government: Institutional; manages the "Silicon Shield" and 
 * international alignments as a functional coordination Rope.
 * - PRC (Strategic Actor): Institutional/External; the source of the 
 * coercive Noose designed to extract political unification.
 * * NARRATIVE ARC:
 * Taiwan’s autonomy is maintained through a delicate "Rope" of global 
 * semiconductor dominance. However, as the military "Gray Zone" tactics 
 * (salami-slicing) increase, this Rope is being tested by a tightening 
 * "Noose" of blockade simulations and diplomatic suppression.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the Deferential Realism suite
narrative_ontology:interval(taiwan_status_quo_cycle, 0, 10).
narrative_ontology:constraint_claim(taiwan_existential_sovereignty, rope).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.7. High; the constant threat "extracts" massive resources 
% into defense spending and psychological resilience, while diplomatic 
% isolation extracts the ability to participate in global governance.
domain_priors:base_extractiveness(taiwan_existential_sovereignty, 0.7).

% Suppression score (0.0-1.0)
% Rationale: 0.8. High; any move toward "formal independence" or 
% "unification under PRC terms" is strictly suppressed by the opposing 
% force, leaving only the thin "Status Quo" path.
domain_priors:suppression_score(taiwan_existential_sovereignty, 0.8).

% Enforcement requirements
% Requires active enforcement (ADIZ patrols, median line monitoring, 
% and international trade agreements).
domain_priors:requires_active_enforcement(taiwan_existential_sovereignty).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(taiwan_existential_sovereignty, extractiveness, 0.7).
narrative_ontology:constraint_metric(taiwan_existential_sovereignty, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(taiwan_existential_sovereignty, global_semiconductor_stability).
constraint_beneficiary(taiwan_existential_sovereignty, us_pacific_presence).
constraint_victim(taiwan_existential_sovereignty, taiwanese_diplomatic_freedom).
constraint_victim(taiwan_existential_sovereignty, cross_strait_stability_predictability).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE TAIWANESE CITIZEN - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Cannot change the geopolitical reality; 
         must live within the existing tensions.
   WHEN: immediate - Tactical focus on peace, economy, and democratic life.
   WHERE: trapped - Bound by the physical geography of the island.
   SCOPE: local - Daily survival and societal flourishing.
   
   WHY THIS CLASSIFICATION:
   For the citizen, the threat from the mainland is a Mountain. It has 
   existed for generations; it is a permanent feature of the sky and the sea. 
   One does not "resolve" the Mountain; one simply builds a life around it.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    taiwan_existential_sovereignty,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(taiwan_existential_sovereignty),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: TAIWANESE TECH SECTOR (TSMC) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Holds the "Silicon Shield" which coordinates 
         global interest in Taiwan's safety.
   WHEN: biographical - Planning multi-decade fabrication horizons.
   WHERE: mobile - Establishing global foundries while keeping core tech local.
   SCOPE: global - The backbone of the modern electronic world.
   
   WHY THIS CLASSIFICATION:
   To the tech sector and the government that shields it, this is a Rope. 
   It is a functional coordination mechanism that makes the "extraction" 
   of a conflict too expensive for the global community to allow. It is 
   a thread that binds the world's survival to Taiwan's autonomy.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    taiwan_existential_sovereignty,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(taiwan_existential_sovereignty, E),
    E < 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: PRC MILITARY STRATEGIST - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the "Gray Zone" effectiveness.
   WHEN: historical - Evaluating the 100-year goal of "reunification."
   WHERE: analytical - Seeking to close the "First Island Chain" gap.
   SCOPE: national - The core interest of the PRC state.
   
   WHY THIS CLASSIFICATION:
   The strategist sees the Noose. By slowly tightening the physical and 
   diplomatic constraints—economic coercion, military drills, and 
   international exclusion—they aim to "choke" Taiwan's options until 
   the extraction of unification becomes the only remaining path.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    taiwan_existential_sovereignty,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(taiwan_existential_sovereignty, S),
    S > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TAIWANESE STATE / DEMOCRACY (INSTITUTIONAL) - Rope
   --------------------------------------------------------------------------
   WHO: agent_power(institutional) - The governing bodies and global partners.
   WHEN: generational - Managing a decades-long state of "Permanent Liminality."
   WHERE: arbitrage - Managing the friction between major global powers.
   SCOPE: global - A pivot point for the global economy and security.
   
   WHY THIS CLASSIFICATION:
   Sovereignty is a Rope. It is a high-fidelity coordination mechanism 
   designed to "pull" international support and domestic consensus into a 
   stable status quo. The "Silicon Shield" provides the economic slack 
   necessary to prevent kinetic escalation, while democratic signaling 
   tightens the reputational cost for any agent attempting to force a 
   unilateral change to the geopolitical terrain.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    taiwan_existential_sovereignty,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(taiwan_existential_sovereignty),
    !.

% Explicit priors reflecting the coordination energy of the "Silicon Shield."
domain_priors:base_extractiveness(taiwan_existential_sovereignty, 0.3).
domain_priors:suppression_score(taiwan_existential_sovereignty, 0.5).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(taiwan_sovereignty_tests).

test(shield_utility_variance) :-
    % Tech sector (Rope) vs Citizen (Mountain)
    constraint_indexing:constraint_classification(taiwan_existential_sovereignty, T1, context(institutional, biographical, mobile, global)),
    constraint_indexing:constraint_classification(taiwan_existential_sovereignty, T2, context(individual_powerless, immediate, trapped, local)),
    T1 \= T2.

test(high_extraction_signature) :-
    % The threat level indicates high baseline extraction of national focus.
    domain_priors:base_extractiveness(taiwan_existential_sovereignty, E),
    E > 0.6.

:- end_tests(taiwan_sovereignty_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. THE SILICON SHIELD AS ROPE: The most vital insight is that Taiwan's 
 * primary security constraint is an economic coordination mechanism. If the 
 * world did not need the chips, the Noose would have closed decades ago.
 * 2. THE MOUNTAIN OF THE STATUS QUO: For the average person, the "Status 
 * Quo" is not a choice; it is the physical terrain of their existence.
 * 3. SUPPRESSION (0.8): The high suppression reflects the total lack of 
 * "exit options" for Taiwan that do not involve extreme risk.
 */

omega_variable(
    semiconductor_diversification_impact,
    "Will the construction of foundries in the US and Germany (Rope loosening) 
     actually tighten the Noose by reducing Taiwan's strategic value?",
    resolution_mechanism("Monitor international response to cross-strait 
    tensions as global 'fab' capacity outside Taiwan increases"),
    impact("If response weakens: The Silicon Shield was a temporary Rope. 
            If it holds: The Rope is more than just economic."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Formal Independence
 * Viability: Historically viable as a sovereign desire; practically 
 * suppressed by the threat of immediate kinetic invasion (Mountain).
 * * ALTERNATIVE 2: "One Country, Two Systems" (Unification)
 * Viability: PRC's proposed Rope; rejected by Taiwan after the 
 * Hong Kong experience (seen as a Noose).
 * * CONCLUSION:
 * The active suppression of both "Extreme" alternatives creates the 
 * unique "Status Quo" Mountain that defines modern Taiwan.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [taiwan_existential_sovereignty].
% 2. Analyze: ?- multi_index_report(taiwan_existential_sovereignty).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: taiwan_strait_hegemony_shift
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Geopolitical Strategic Synthesis / Indo-Pacific Security Analysis
% ============================================================================

:- module(constraint_taiwan_hegemony, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: taiwan_strait_hegemony_shift
 * human_readable: The Taiwan Strait Energy & Logistics Chokepoint
 * domain: political/economic/geographical
 * temporal_scope: Post-Unification Era (Hypothetical)
 * spatial_scope: Indo-Pacific (Taiwan, Japan, Philippines, South Korea)
 * * SUMMARY:
 * This constraint models the geopolitical "lock" created by Chinese control 
 * of Taiwan. By occupying the "First Island Chain" anchor, China gains 
 * direct control over the sea lines of communication (SLOCs) that provide 
 * 90% of Japan's energy and a vast majority of its trade. This physical 
 * reality creates a "Client State Gravitational Pull," forcing Japan and 
 * neighboring states to subordinate their foreign policy to Beijing to 
 * ensure national survival.
 * * KEY AGENTS:
 * - The Japanese Prime Minister: Individual powerless; facing the choice 
 * between national starvation and diplomatic subordination.
 * - PLAN (People's Liberation Army Navy): Institutional; the enforcer of 
 * the new maritime "Mountain" that dictates regional flow.
 * - Southeast Asian State (e.g., Philippines): Analytical/Trapped; 
 * observing the "Noose" of the South China Sea tighten into a closed lake.
 * * NARRATIVE ARC:
 * What was once a Rope (international maritime law coordinating free trade) 
 * transforms into a Mountain (the unchangeable physical presence of Chinese 
 * sensors and missiles on Taiwan's east coast). For Japan, this Mountain 
 * acts as a Noose, extracting sovereignty in exchange for the continued 
 * flow of oil and food.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the Deferential Realism suite
narrative_ontology:interval(hegemony_transition_window, 0, 10).
narrative_ontology:constraint_claim(taiwan_strait_hegemony_shift, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.9. Total extraction of strategic autonomy. Japan's 
% existence becomes a "permission-based" reality granted by the hegemon.
domain_priors:base_extractiveness(taiwan_strait_hegemony_shift, 0.9).

% Suppression score (0.0-1.0)
% Rationale: 0.8. High suppression of alternative security architectures 
% (e.g., the U.S. alliance) as the physical barrier of Chinese control 
% renders them logistically unviable.
domain_priors:suppression_score(taiwan_strait_hegemony_shift, 0.8).

% Enforcement requirements
% Requires active enforcement (PLAN patrols, submarine bastions in the 
% deep waters east of Taiwan, and ADIZ control).
domain_priors:requires_active_enforcement(taiwan_strait_hegemony_shift).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(taiwan_strait_hegemony_shift, extractiveness, 0.9).
narrative_ontology:constraint_metric(taiwan_strait_hegemony_shift, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(taiwan_strait_hegemony_shift, chinese_regional_primacy).
constraint_beneficiary(taiwan_strait_hegemony_shift, land_based_eurasian_logistics).
constraint_victim(taiwan_strait_hegemony_shift, japanese_sovereign_autonomy).
constraint_victim(taiwan_strait_hegemony_shift, south_korean_security_independence).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: JAPANESE LEADERSHIP - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the physical geography of their 
         energy dependency; cannot move the islands of Japan.
   WHEN: immediate - Crisis-level focus on energy and food security.
   WHERE: trapped - The "First Island Chain" has been breached and reversed.
   SCOPE: local - National survival.
   
   WHY THIS CLASSIFICATION:
   To Japan, Chinese control of Taiwan is a Mountain. It is an unchangeable 
   feature of the earth. They cannot "negotiate" with a blockade that 
   exists at the entrance to their home islands; they must simply 
   accept the new terrain of the Indo-Pacific.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    taiwan_strait_hegemony_shift,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(taiwan_strait_hegemony_shift),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: CHINESE STRATEGIC COMMAND - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to set the rules of the new regional order.
   WHEN: generational - Fulfilling the "Great Rejuvenation" and breaking 
         containment.
   WHERE: mobile - Projecting power into the "Second Island Chain" and 
         the Central Pacific.
   SCOPE: national - Total control of the "Near Seas."
   
   WHY THIS CLASSIFICATION:
   Beijing views this control as a Rope—a functional coordination mechanism. 
   It allows them to "weave" the regional economy into a China-centric 
   hierarchy, using the threat of SLOC disruption as a gentle but 
   unyielding tension that keeps neighbors in line.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    taiwan_strait_hegemony_shift,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(taiwan_strait_hegemony_shift, E),
    E < 0.95,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE REGIONAL REBEL / DISSIDENT - Noose
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the loss of civil and political autonomy.
   WHEN: historical - Comparing the "Era of Open Seas" to the "Era of Hegemony."
   WHERE: analytical - Mentally resisting the new client-state status.
   SCOPE: global - Impact on the rules-based international order.
   
   WHY THIS CLASSIFICATION:
   The critic sees the Noose. The physical control of Taiwan "chokes" 
   the democratic and sovereign aspirations of the region. By extracting 
   the ability to resist, the hegemon turns the entire Pacific rim 
   into a series of vassal states whose "breath" (energy/trade) is 
   constantly at risk of being cut off.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    taiwan_strait_hegemony_shift,
    noose,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(taiwan_strait_hegemony_shift, S),
    S > 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(taiwan_hegemony_tests).

test(sovereignty_extraction_delta) :-
    % Verify that Japan (Powerless) experiences extreme extraction
    domain_priors:base_extractiveness(taiwan_strait_hegemony_shift, E),
    E > 0.8.

test(geopolitical_lock_in) :-
    % Check if the analytical view correctly identifies the suppression of alternatives
    constraint_indexing:constraint_classification(taiwan_strait_hegemony_shift, noose, context(analytical, historical, analytical, global)).

:- end_tests(taiwan_hegemony_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. THE "CLIENT STATE" MECHANISM: Japan's transformation into a client 
 * state is modeled as an energy-logistics Noose. If 90% of your oil passes 
 * through a straw controlled by another, your sovereignty is a fiction.
 * 2. REGIONAL EFFECTS: South Korea and the Philippines are modeled as 
 * "Secondary Nooses"—once Taiwan falls, their own supply lines are 
 * effectively bifurcated and isolated.
 * 3. EXTRACTIVENESS (0.9): This high score reflects the "extraction" of 
 * a nation's soul; it is the ultimate loss of the power to say 'No'.
 */

omega_variable(
    alternative_energy_scaffold,
    "Can Japan develop enough nuclear and renewable autonomy to unloosen 
     the Noose of the Taiwan Strait?",
    resolution_mechanism("Evaluation of Japan's 2050 Energy Plan vs. 
    required maritime imports for industrial survival"),
    impact("If Yes: The Strait remains a Rope for trade. If No: It is a 
            permanent Noose for sovereignty."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Trans-Pacific Bridge (U.S. Alliance)
 * Viability: Currently the "Rope" that secures Japan.
 * Suppression: Becomes a Noose if the U.S. cannot physically penetrate 
 * the A2/AD envelope created by a Chinese-fortified Taiwan.
 * * ALTERNATIVE 2: Arctic Silk Road (Northern Route)
 * Viability: Possible but seasonally constrained and subject to 
 * Russian/Chinese coordination.
 * * CONCLUSION:
 * The collapse of the U.S. alliance (Rope) in the face of the Taiwan 
 * Mountain leads directly to the Hegemonic Noose for the entire 
 * First Island Chain.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [taiwan_strait_hegemony_shift].
% 2. Analyze: ?- multi_index_report(taiwan_strait_hegemony_shift).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: tarski_undefinability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Alfred Tarski (1933) / Philosophy of Language and Logic
% ============================================================================

:- module(constraint_tarski_undefinability, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: tarski_undefinability
 * human_readable: Tarski's Undefinability Theorem
 * domain: technological/logic/mathematics
 * temporal_scope: Permanent (Universal Laws of Information)
 * spatial_scope: Global (Formal Languages)
 * * SUMMARY:
 * Tarski's Undefinability Theorem states that "truth" in a sufficiently powerful 
 * formal language cannot be defined within that same language. Any attempt to 
 * create a universal "Truth Predicate" for a language L within L itself results 
 * in a Liar-style paradox. This forces a hierarchy of languages where "Truth" 
 * for Language L can only be defined in a more expressive Meta-Language M.
 * * KEY AGENTS:
 * - The Foundationalist: Seeking a single, self-contained system of total truth.
 * - The System Architect: Designing multi-layered software or logical stacks.
 * - The Infinite Climber: An agent forced to move to higher meta-levels to 
 * achieve semantic clarity.
 * * NARRATIVE ARC:
 * The theorem functions as a hard ceiling (Mountain) for self-contained logic. 
 * To move forward, agents must build a "Rope" of meta-languages (Tarski's 
 * hierarchy). However, for those trapped in a single layer of reality with 
 * no "Meta" access, the theorem acts as a "Noose," making certain truths 
 * fundamentally unspeakable.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration and script extraction
narrative_ontology:interval(tarski_interval, 0, 10).
narrative_ontology:constraint_claim(tarski_undefinability, mountain).

% Base extractiveness: 0.2 (Low)
% Rationale: It extracts "semantic closure" but doesn't steal resources.
% It forces energy into the creation of Meta-Levels.
domain_priors:base_extractiveness(tarski_undefinability, 0.2).

% Suppression score: 0.3 (Low-Moderate)
% Rationale: Alternatives (like paraconsistent logic) are visible but 
% the theorem remains a dominant boundary in classical logic.
domain_priors:suppression_score(tarski_undefinability, 0.3).

% Enforcement: Emerges naturally from the structure of formal syntax.
domain_priors:emerges_naturally(tarski_undefinability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(tarski_undefinability, extractiveness, 0.2).
narrative_ontology:constraint_metric(tarski_undefinability, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(tarski_undefinability, meta_language_architects).
constraint_victim(tarski_undefinability, [monistic_philosophers, self_contained_ai]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MATHEMATICIAN - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical (The objective observer of formal systems)
   WHEN: civilizational (Permanent mathematical reality)
   WHERE: trapped (Logic cannot bypass its own syntactic limits)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To the mathematician, the theorem is a Mountain. It is an unchangeable peak 
   in the landscape of logic. You cannot "legislate" a truth predicate into a 
   language without breaking the law of non-contradiction. It is a physical 
   limit of information processing.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tarski_undefinability,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COMPILER ARCHITECT - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-making power over a software stack)
   WHEN: biographical (Achieving goals within a project lifetime)
   WHERE: arbitrage (Can move between language levels/stacks)
   SCOPE: national (The reach of their specific ecosystem)
   
   WHY THIS CLASSIFICATION:
   For the architect, the theorem is a Rope. It provides a coordination 
   mechanism for building secure systems. By separating the "Object Language" 
   (the code) from the "Meta-Language" (the compiler/type checker), they 
   can safely define correctness without risk of infinite recursion.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tarski_undefinability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE TRAPPED SUBJECT - NOOSE
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A subject inside a closed system)
   WHEN: immediate (Living within a single discursive frame)
   WHERE: trapped (Has no access to the "Meta" level)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For an agent trapped in a single system (like an AI with no external 
   sensors or a human in a totalizing ideology), the theorem is a Noose. 
   They can sense that "truth" exists but are syntactically barred from 
   defining it. The harder they try to ground their reality, the tighter 
   the paradoxes pull, leading to cognitive dissonance or systemic collapse.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tarski_undefinability,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(tarski_undefinability_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(tarski_undefinability, Type1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(tarski_undefinability, Type2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(tarski_undefinability, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_semantic_extraction) :-
    % Institutional actors (architects) extract utility by building meta-levels.
    % Powerless subjects suffer the inability to name their truth.
    domain_priors:base_extractiveness(tarski_undefinability, Score),
    Score < 0.3.

test(meta_level_arbitrage) :-
    % If you have arbitrage (access to Meta-Language), it's a Rope.
    constraint_indexing:constraint_classification(tarski_undefinability, rope, context(_, _, arbitrage, _)).

:- end_tests(tarski_undefinability_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Semantic undefinability doesn't "steal" wealth, but it does 
 * extract "Closure." It prevents a system from being self-contained, 
 * which is a low-level structural extraction.
 * * 2. SUPPRESSION SCORE (0.3):
 * Reasoning: Alternatives like Kripke's theory of truth or paraconsistent 
 * logics are known and studied, but Tarski's "hierarchy" remains the 
 * default "Mountain" for classical formalists.
 * * 3. PERSPECTIVE SELECTION:
 * The Analyst sees a Mountain (fact of logic).
 * The Architect sees a Rope (method for building levels).
 * The Subject sees a Noose (inability to resolve their own truth).
 * * 4. AMBIGUITIES:
 * - Resolved the "Noose" aspect by framing it as a linguistic trap for 
 * agents without "Meta-Expressivity."
 * * 5. CONFIDENCE:
 * High: Mathematical basis.
 * Medium: Extent to which "trapped subjects" feel this as a Noose.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    natural_language_meta_closure,
    "Is human 'Natural Language' the ultimate Meta-Language that can define its own truth, or is it merely one layer in an infinite hierarchy we cannot see?",
    resolution_mechanism("Discovery of a definitive Truth Predicate in linguistics that does not lead to paradox"),
    impact("If Closure: Tarski's Law is a Rope for AI but not for Humans. If Infinite: We are all trapped in a Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Paraconsistent Logic (Dialetheism)
 * Viability: Allows for some true contradictions, potentially defining 
 * truth within the same language.
 * Suppression: High. Mainstream mathematics views contradictions as 
 * systemic failure.
 * * ALTERNATIVE 2: Kripkean Truth (Fixed-point semantics)
 * Viability: Allows a truth predicate to be "partially" defined.
 * * CONCLUSION:
 * The existence of paraconsistent alternatives suggests Tarski's Theorem 
 * is a "Noose" used by classical logicians to enforce a specific 
 * hierarchical order of reality.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_tarski_undefinability].
 * 2. Multi-perspective: ?- multi_index_report(tarski_undefinability).
 * 3. Run tests: ?- run_tests(tarski_undefinability_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: technological_provenance_arbitrage
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Michael Marshall, "Revealing the epic story of ancient humans"
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_technological_provenance_arbitrage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: technological_provenance_arbitrage
 * human_readable: Technological Provenance Arbitrage
 * domain: technological/scientific
 * temporal_scope: 21st Century (2000-2026)
 * spatial_scope: Global (Archaeological sites and Advanced Labs)
 * * SUMMARY:
 * This constraint describes the shift from finding "more" fossils to extracting "more" information 
 * using advanced analytical techniques that were unavailable in the 20th century. 
 * It allows researchers to re-examine legacy remains—like Orrorin or Ardipithecus—to arbitrage 
 * and rewrite the timeline of human origins.
 * * KEY AGENTS:
 * - The Analytical Observer (Modern Archaeologist): Uses "more and better techniques" to analyze remains.
 * - The Legacy Fossil: Ancient remains (e.g., Orrorin praegens) subject to new analysis decades after discovery.
 * - The Institutional Lab: Possesses the sequencing and imaging power required to join the "revolution".
 * * NARRATIVE ARC:
 * The field has shifted from a "Mountain" of sparse fossil data to an "Information Blizzard". 
 * This blizzard acts as a "Rope" for those with the technological means to climb into deep time 
 * (back to 7 million years ago), but acts as a "Noose" for traditional methodologies that cannot 
 * process this scale of data.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(technological_provenance_arbitrage, 0, 10).
narrative_ontology:constraint_claim([technological_provenance_arbitrage], [information_extraction]).

% Base extractiveness score (0.78 = High)
% Rationale: High extractiveness is driven by the "huge amount of information" now being 
% pulled from singular fossils like H. naledi or diminutive "hobbits".
domain_priors:base_extractiveness(technological_provenance_arbitrage, 0.78).

% Suppression score (0.5 = Moderate)
% Rationale: Previous linear models (Ardipithecus as the 4.4mya limit) were suppressed 
% by the sudden "swathe of surprising archaeological discoveries".
domain_priors:suppression_score(technological_provenance_arbitrage, 0.5).

% Enforcement requirements: Requires active enforcement (Advanced lab protocols and genetic sequencing standards).
domain_priors:requires_active_enforcement(technological_provenance_arbitrage).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(technological_provenance_arbitrage, extractiveness, 0.78).
narrative_ontology:constraint_metric(technological_provenance_arbitrage, suppression_requirement, 0.50).

% BENEFICIARIES & VICTIMS
% Researchers with "more and better techniques" who can describe new species quietly.
constraint_beneficiary(technological_provenance_arbitrage, high_tech_paleoanthropologists).
% Traditional researchers or underfunded institutions "replaced" by the information blizzard.
constraint_victim(technological_provenance_arbitrage, traditional_methodologists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MODERN LAB RESEARCHER - Rope
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer using "better techniques" to analyse remains)
   WHEN: biographical (The 25-year period of "more" discoveries)
   WHERE: arbitrage (Playing new analytical data against old fossil records)
   SCOPE: global (Accessing more places and fossils)
   
   WHY THIS CLASSIFICATION:
   For the modern researcher, the "swathe of surprising discoveries" is a Rope—a functional tool 
   to build a richer story of how modern humans emerged from the hominin pack.
   
   NARRATIVE EVIDENCE:
   "Researchers have developed more and better techniques for analysing all these remains".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    technological_provenance_arbitrage,
    rope,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(technological_provenance_arbitrage, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TRADITIONAL EXCAVATOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Unable to compete with the "blizzard" of lab data)
   WHEN: immediate (Current pressure to produce high-tech results)
   WHERE: trapped (Relies on physical fossils without digital/genetic arbitrage)
   SCOPE: local (Limited to specific fossil sites)
   
   WHY THIS CLASSIFICATION:
   For those without the latest technology, the information blizzard is a Noose. It extracts 
   authority from physical fossil discovery and places it into the hands of analytical labs.
   
   NARRATIVE EVIDENCE:
   "There is, quite simply, a huge amount of information about our origins... in more places".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    technological_provenance_arbitrage,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(technological_provenance_arbitrage, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANCIENT HUMAN LINEAGE - Mountain
   --------------------------------------------------------------------------
   
   WHO: institutional (The unchangeable biological fact of Orrorin/Ardipithecus)
   WHEN: civilizational (7 million years of evolutionary time)
   WHERE: constrained (Bound by physical remains in deep caves)
   SCOPE: global (The total history of hominins)
   
   WHY THIS CLASSIFICATION:
   The fossil record is a biological Mountain—it exists whether we have the "more" 
   techniques to see it or not. The information is there, waiting for the "revolution".
   
   NARRATIVE EVIDENCE:
   "The hominin fossil record has been extended much further back in time... Orrorin tugenensis 
   from 6 million years ago and Sahelanthropus tchadensis from 7 million years ago".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    technological_provenance_arbitrage,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(technological_provenance_arbitrage, S),
    S > 0.4,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(technological_provenance_arbitrage_tests).

test(multi_perspective_variance) :-
    % Lab Researcher (Rope) vs Traditional Excavator (Noose) vs Hominin Lineage (Mountain)
    constraint_indexing:constraint_classification(technological_provenance_arbitrage, rope, context(analytical, biographical, arbitrage, global)),
    constraint_indexing:constraint_classification(technological_provenance_arbitrage, noose, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(technological_provenance_arbitrage, mountain, context(institutional, civilizational, constrained, global)).

test(information_density_scaling) :-
    % High tech researchers experience lower extraction of their labor 
    % while physical fossils experience total informational extraction.
    Score1 = 0.78,
    Score2 = 0.20,
    Score1 > Score2.

:- end_tests(technological_provenance_arbitrage_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.78):
 * Reasoning: Chosen because the "revolution" is defined by getting "huge amounts" 
 * of data out of sparse physical remains.
 * * 2. SUPPRESSION SCORE (0.50):
 * Reasoning: Reflects how the 20th-century Ardipithecus limit was a conceptual 
 * boundary that has only recently been "shattered".
 * * 3. PERSPECTIVE SELECTION:
 * Used the "Traditional Excavator" to show the Noose effect when data-driven 
 * "blizzards" replace site-based authority.
 * * 4. AMBIGUITIES:
 * - The "quiet description" of species in 2022 suggests a move toward 
 * specialized expertise arbitrage that excludes the public or generalists.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Mandatory Omega for high-extraction constraints:
omega_variable(
    technological_provenance_arbitrage_extraction_intent,
    "Is the 'huge amount of information' a purely scientific gain (Rope) or a form of technological colonization over fossil heritage (Noose)?",
    resolution_mechanism("Audit of data ownership vs. site-of-origin rights for genetic sequencing results"),
    impact("If scientific: Rope. If exclusionary: Noose/Mandatrophy."),
    confidence_without_resolution(medium)
).

omega_variable(
    data_authenticity_blizzard,
    "Will the 'blizzard' of information eventually lead to noise that obscures the 'true' evolutionary path?",
    resolution_mechanism("Long-term replication of automated analytical fossil techniques across independent labs"),
    impact("If noise: Noose (false patterns). If signal: Rope."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Physical Morphological Analysis (The 20th-Century Standard)
 * Viability: The standard way fossils were analyzed for 100 years.
 * Suppression: Rapidly being "replaced" by DNA and high-res CT scans.
 * * CONCLUSION:
 * The 21st-century "Best Idea" in archaeology is the transition from 
 * fossil-as-object (Mountain) to fossil-as-data-source (Rope).
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraints/technological_provenance_arbitrage].
 * 2. Multi-perspective: ?- multi_index_report(technological_provenance_arbitrage).
 * 3. Run tests: ?- run_tests(technological_provenance_arbitrage_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: temporal_scale_arbitrage
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Alex Wilkins, "Filming the universe’s biggest dramas"
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_temporal_scale_arbitrage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: temporal_scale_arbitrage
 * human_readable: Temporal Scale Arbitrage
 * domain: technological/scientific
 * temporal_scope: 21st Century (The "Transient" Era)
 * spatial_scope: Global (Astronomical Surveys)
 * * SUMMARY:
 * This constraint describes the strategic exploitation of cosmic events occurring 
 * across vast ranges of time scales—from nanoseconds to human lifetimes. 
 * By shifting from spatial mapping to time-domain search, astronomers arbitrage 
 * "fleeting explosions" by matching detector cadence to the specific temporal 
 * signature of the event.
 * * KEY AGENTS:
 * - The High-Cadence Surveyor: Uses "conveyor belt" automation to investigate flashes.
 * - The Fast Transient: An event (e.g., nanosecond bursts) that exists as a "fleeting" opportunity.
 * - The Universe: The source of a "different range of time scales" that are poorly explored.
 * * NARRATIVE ARC:
 * The field has moved from "happy accidents" (Mountain) to a coordinated 
 * industrialized search (Rope). This allows for 
 * the arbitrage of time, where different telescopes investigate different 
 * durations, but it creates a Noose for events that vanish before detection 
 * protocols can be triggered.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(temporal_scale_arbitrage, 0, 10).
narrative_ontology:constraint_claim([temporal_scale_arbitrage], [temporal_leverage]).

% Base extractiveness score (0.76 = High)
% Rationale: Value is extracted from "fleeting explosions" that are "caught when 
% astronomers were looking at the right spot at the right time". 
% The informational yield is entirely dependent on temporal precision.
domain_priors:base_extractiveness(temporal_scale_arbitrage, 0.76).

% Suppression score (0.4 = Moderate)
% Rationale: Traditional spatial mapping is being "completely transformed" and 
% displaced by time-domain tactics.
domain_priors:suppression_score(temporal_scale_arbitrage, 0.4).

% Enforcement: Requires active enforcement (Automated surveys and conveyor belt coordination).
domain_priors:requires_active_enforcement(temporal_scale_arbitrage).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(temporal_scale_arbitrage, extractiveness, 0.76).
narrative_ontology:constraint_metric(temporal_scale_arbitrage, suppression_requirement, 0.40).

% BENEFICIARIES & VICTIMS
% Modern surveys (ZTF, Pan-STARRS) that benefit from the "search in time".
constraint_beneficiary(temporal_scale_arbitrage, high_cadence_surveys).
% "Happy accidents" and chance sightings are victims of industrialized detection.
constraint_victim(temporal_scale_arbitrage, serendipitous_observers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SURVEY COORDINATOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Coordinating telescopes as "one well-oiled machine")
   WHEN: biographical (Current era of automated serendipity)
   WHERE: arbitrage (Investigating flashes across nanoseconds to decades)
   SCOPE: global (Pan-STARRS and Palomar collaborations)
   
   WHY THIS CLASSIFICATION:
   The temporal spectrum acts as a Rope—a functional mechanism to coordinate 
   "conveyor belt" searches and investigate "guest stars" systematically.
   
   NARRATIVE EVIDENCE:
   "One telescope in San Diego... would see an interesting flash and another 
   would investigate further. It was really set up like a conveyor belt".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    temporal_scale_arbitrage,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(temporal_scale_arbitrage, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TRANSIENT EVENT - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Fleeting phenomena subject to "the action")
   WHEN: immediate (Flashes lasting nanoseconds)
   WHERE: trapped (Subject to the "right spot at the right time" detector window)
   SCOPE: local (Specific cosmic events)
   
   WHY THIS CLASSIFICATION:
   For the transient, the cadence is a Noose. If it does not occur within the 
   active "conveyor belt" window, its scientific information is permanently 
   extracted or lost.
   
   NARRATIVE EVIDENCE:
   "Relying on chance to capture these events risks missing much of the action".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    temporal_scale_arbitrage,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(temporal_scale_arbitrage, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE UNIVERSE - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (The natural range of time scales)
   WHEN: civilizational (Deep-time ranges longer than human lifetimes)
   WHERE: constrained (Bound by physics and spatial scales)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The existence of these ranges of time scales is a Mountain—a natural, immutable 
   reality of the cosmos that was previously "poorly explored".
   
   NARRATIVE EVIDENCE:
   "You think the universe has a different range of spatial scales, but it also 
   has these ranges of time scales".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    temporal_scale_arbitrage,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    % Classification based on the physical "Mountain" of time scales
    true,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(temporal_scale_arbitrage_tests).

test(multi_perspective_variance) :-
    % Coordinator (Rope) vs Event (Noose) vs Universe (Mountain)
    constraint_indexing:constraint_classification(temporal_scale_arbitrage, rope, context(institutional, biographical, arbitrage, global)),
    constraint_indexing:constraint_classification(temporal_scale_arbitrage, noose, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(temporal_scale_arbitrage, mountain, context(analytical, civilizational, constrained, global)).

test(cadence_extractiveness_scaling) :-
    % Nanosecond events (powerless to detectors) experience higher extraction (0.76)
    % compared to institutional researchers.
    Score1 = 0.76,
    Score2 = 0.15,
    Score1 > Score2.

:- end_tests(temporal_scale_arbitrage_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.76):
 * Reasoning: Chosen because "the process of serendipity" has been automated 
 * into a high-extraction conveyor belt for transient data.
 * * 2. MANDATROPHY STATUS:
 * STATUS: [RESOLVED MANDATROPHY]. The extraction of scientific value from 
 * "guest stars" is justified as a Rope for research but is a Noose of 
 * extinction for the "action" of transient events that are missed.
 * * 3. PERSPECTIVE SELECTION:
 * Chose the Coordinator (Rope), the Event (Noose), and the Universe (Mountain) 
 * to show how temporal scale transforms from a law of nature to an 
 * industrialized tool.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    temporal_scale_arbitrage_extraction_intent,
    "Is the 0.76 extraction of time-domain data a functional necessity for understanding the universe or a predatory focus on volume (1.6PB) over insight?",
    resolution_mechanism("Audit of scientific value produced per petabyte of Pan-STARRS data vs. traditional chance observations"),
    impact("If necessity: Mountain. If predatory: Noose/Mandatrophy."),
    confidence_without_resolution(medium)
).

omega_variable(
    temporal_anomaly_existence,
    "Are there 'guest star' phenomena occurring on timescales (e.g., femtoseconds) that current conveyor belts actively suppress?",
    resolution_mechanism("Development of detectors capable of femtosecond-scale resolution"),
    impact("If yes: Current Rope is a Noose for ultra-fast physics. If no: The spectrum is complete."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Chance-Based "Happy Accident" Astronomy
 * Viability: Historically dominant for 1000 years.
 * Suppression: Actively "transformed" and replaced by automated tactics.
 * Evidence: "Relying on chance... risks missing much of the action".
 * * CONCLUSION:
 * The move from "Happy Accidents" to "Temporal Arbitrage" represents a shift 
 * from the "Chance Mountain" to the "Industrial Rope".
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraints/temporal_scale_arbitrage].
 * 2. Multi-perspective: ?- multi_index_report(temporal_scale_arbitrage).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: texas_hispanic_political_pivot
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: The Journal Editorial Report (Jan 19, 2026), Karl Rove Analysis
% ============================================================================

:- module(constraint_texas_hispanic_pivot, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: texas_hispanic_political_pivot
 * human_readable: The Texas Hispanic Voting Block Volatility
 * domain: political
 * temporal_scope: 2024 - 2026 (Post-Minneapolis Shooting / Midterm Window)
 * spatial_scope: Texas, USA
 * * SUMMARY:
 * Karl Rove warns that the GOP's "historic" 2024 Hispanic support (>40%) is 
 * collapsing due to aggressive ICE enforcement tactics, specifically following 
 * the shooting of Renee Good in Minneapolis. This creates a structural 
 * vulnerability for the GOP in Texas, which serves as a national electoral 
 * "linchpin." If this demographic pivots back, the GOP's national coalition 
 * fractures.
 * * KEY AGENTS:
 * - Donald Trump (Institutional/Enforcer): Pursuing a "zero-tolerance" enforcement 
 * narrative that views detractors as "professional agitators."
 * - Karl Rove (Analytical/Strategist): Identifying the pivot as a manageable 
 * "Rope" that is being fumbled into a "Noose."
 * - South Texas Hispanic Voters (Collective/Powerless): A "variable group" 
 * whose local community safety is caught between border chaos and federal overreach.
 * * NARRATIVE ARC:
 * After a high-water mark of support in 2024, the "honeymoon" period between the 
 * GOP and Hispanic voters is being ended by the "Renee Good incident." The 
 * narrative highlights a transition from a functional alliance (Rope) to a 
 * perceived extractive/coercive enforcement regime (Noose).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(tx_pivot_window_2026, 2024, 2026).
narrative_ontology:constraint_claim(texas_hispanic_political_pivot, noose).

% Base extractiveness score: Moderate-High (0.70)
% Rationale: The GOP "extracted" significant political capital and seats from this 
% group in 2024, but Rove suggests the current ICE tactics are imposing a 
% "particular concern" cost without a corresponding political return for the voters.
domain_priors:base_extractiveness(texas_hispanic_political_pivot, 0.70).

% Suppression score: Moderate (0.60)
% Rationale: The administration uses "ICE tactics" to suppress movement/activity 
% in South Texas, which Rove argues is causing approval ratings to "crater."
domain_priors:suppression_score(texas_hispanic_political_pivot, 0.60).

% Enforcement: Requires active enforcement
% Rationale: The shift is driven by physical enforcement actions (ICE operations).
domain_priors:requires_active_enforcement(texas_hispanic_political_pivot).

% Beneficiaries and Victims
constraint_beneficiary(texas_hispanic_political_pivot, [democratic_party, activists]).
constraint_victim(texas_hispanic_political_pivot, [gop_leadership, south_texas_communities]).

narrative_ontology:constraint_metric(texas_hispanic_political_pivot, extractiveness, 0.70).
narrative_ontology:constraint_metric(texas_hispanic_political_pivot, suppression_requirement, 0.60).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: DISILLUSIONED SOUTH TEXAS VOTER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (Price-takers in a high-enforcement environment)
   WHEN: immediate (The current 2026 approval rating crater)
   WHERE: trapped (Living in communities "adversely affected" by ICE tactics)
   SCOPE: national (The policy is set in D.C., felt in Texas)
   
   WHY THIS CLASSIFICATION:
   For a voter in these communities, the relationship with the GOP has 
   become a Noose. They supported border security but are now "trapped" by 
   the secondary effects of "aggressive" federal tactics that no longer feel 
   protective but coercive.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    texas_hispanic_political_pivot,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: KARL ROVE / GOP STRATEGIST - Rope
   --------------------------------------------------------------------------
   WHO: analytical (Strategist viewing the system from above)
   WHEN: biographical (Planning for the 2026/2028 election cycles)
   WHERE: mobile (Can adjust messaging, travel to South Texas to "celebrate success")
   SCOPE: national (Electoral college math)
   
   WHY THIS CLASSIFICATION:
   To Rove, this is a Rope—a functional coordination challenge. He believes 
   the pivot is avoidable if the President changes tactics (e.g., visits South 
   Texas, differentiates "clean" immigrants from others). It is a "variable 
   group" that can be moved back.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    texas_hispanic_political_pivot,
    rope,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE TRUMP ADMINISTRATION - Mountain
   --------------------------------------------------------------------------
   WHO: institutional (The State setting the enforcement standard)
   WHEN: historical (Viewing enforcement as a permanent civilizational necessity)
   WHERE: analytical (Policy decided by 'data' and 'security' needs)
   SCOPE: national (Federal sovereignty)
   
   WHY THIS CLASSIFICATION:
   From the institutional center, the enforcement is a Mountain—the 
   unchangeable reality of "securing the border." They categorize the fallout 
   not as a tactical failure, but as "propaganda" or "professional agitation" 
   (Mountain-like natural law of politics).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    texas_hispanic_political_pivot,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(national)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(texas_pivot_tests).

test(perspectival_gap_rove_vs_voter) :-
    % Rove sees a fixable "Rope" (mobile), Voter sees a "Noose" (trapped)
    constraint_indexing:constraint_classification(texas_hispanic_political_pivot, rope, context(analytical, _, mobile, _)),
    constraint_indexing:constraint_classification(texas_hispanic_political_pivot, noose, context(individual_powerless, _, trapped, _)).

test(temporal_decay) :-
    % In the immediate term, it's a Noose due to the 'cratering' approval.
    % Only in the biographical planning horizon does it even appear as a Rope.
    constraint_indexing:constraint_classification(texas_hispanic_political_pivot, noose, context(individual_powerless, immediate, _, _)).

:- end_tests(texas_pivot_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. PERSPECTIVAL GAP:
 * The most significant finding is the gap between the "Institutional" view 
 * (Mountain - enforcement is necessary regardless of approval) and the 
 * "Analytical" view (Rope - this is a tactical error). 
 * * 2. EXTRACTIVENESS: 
 * Set at 0.70 because the GOP is currently holding power gained from this 
 * group (2024 election) while the group itself is reporting "particular 
 * concerns" and diminishing support (the extraction cost).
 * * 3. CATALYST IDENTIFICATION:
 * The shooting of Renee Good in Minneapolis is identified as the Omega 
 * trigger that transformed the "Rope" (cooperation on border security) into 
 * a "Noose" (fear of ICE overreach).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    renee_good_investigation_outcome,
    "Will the FBI investigation into the Minneapolis shooting confirm or refute the 'self-defense' claim?",
    resolution_mechanism("Monitor the DOJ/FBI report release."),
    impact("If confirmed, the GOP can shift back to 'Rope.' If refuted, the pivot to 'Noose' is permanent."),
    confidence_without_resolution(low)
).

omega_variable(
    hispanic_political_stickiness,
    "Was the 2024 shift a permanent realignment or a temporary protest vote?",
    resolution_mechanism("Compare 2026 midterm precinct data in South Texas to 2024."),
    impact("Determines if the GOP can ever treat this demographic as a stable 'Mountain' support base."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: "The Rove Strategy" (Visit South Texas)
 * Viability: Rove argues the President can re-frame the narrative by 
 * personally appearing in Texas to celebrate the "stopped flood" of illegals.
 * Suppression: Currently suppressed by the administration's focus on 
 * aggressive enforcement in northern cities (Minneapolis).
 * * ALTERNATIVE 2: Third-Party "Sting"
 * Viability: As noted in the 'us_parties' file, 37% of Americans want 
 * options; a localized Hispanic-interest party could act as a "sting."
 * Suppression: Structural duopoly (as evaluated in the parties script).
 * * CONCLUSION:
 * The existence of a "Rove Strategy" as a viable but ignored alternative 
 * confirms that for the administration, this is a Mountain (unchangeable path), 
 * while for the strategist, it is a Rope (lost opportunity).
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Runs the specific report for this demographic pivot
% ?- constraint_indexing:multi_index_report(texas_hispanic_political_pivot).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: the_bacchae_madness_protocol
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: The Bacchae of Euripides (Gilbert Murray Translation)
% ============================================================================

:- module(constraint_the_bacchae, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: the_bacchae_madness_protocol
 * human_readable: The Dionysian Mandate of Ecstasy
 * domain: religious/political/social
 * temporal_scope: Ancient Greek (Mythological)
 * spatial_scope: Thebes / Mount Cithaeron
 * * SUMMARY:
 * This constraint models the tension between Pentheus' "Mandate of Order" and 
 * the Dionysian "Mandate of Ecstasy." Pentheus attempts to treat the rising 
 * cult of Dionysus as a criminal deviation to be suppressed by law (Noose). 
 * However, Dionysus operates as a Mountain—an unyielding psychological and 
 * divine force that extracts the sanity and life of the King when he refuses 
 * to coordinate with the new reality.
 * * KEY AGENTS:
 * - Pentheus: Institutional; King of Thebes who prioritizes a rigid "Order" 
 * and views the margin of religious ecstasy as a social threat.
 * - Dionysus (The Stranger): Individual Powerful/Divine; the architect of 
 * the "Ecstasy Mandate" who extracts Pentheus' dignity and life.
 * - Agave: Individual Powerless; caught in the "Bacchic Noose," she becomes 
 * the instrument of the mandate's terminal extraction.
 * * NARRATIVE ARC:
 * Pentheus views his laws as a Rope (coordination for a stable city). 
 * To the Bacchants, the god is a Rope (communal liberation). However, 
 * as Pentheus tightens his "Order," Dionysus turns the King's own 
 * curiosity into a Noose, leading him to Mount Cithaeron (The Mountain) 
 * where the "Mandatrophy" of Pentheus' rigid psyche results in his total 
 * biological and political destruction.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(theban_dionysian_conflict, 0, 10).
narrative_ontology:constraint_claim(the_bacchae_madness_protocol, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.95. Dionysus extracts everything—Pentheus’ status, his 
% masculinity, his sanity, and finally his physical body—to satisfy the 
% mandate of divine recognition.
domain_priors:base_extractiveness(the_bacchae_madness_protocol, 0.95).

% Suppression score (0.0-1.0)
% Rationale: 0.85. Pentheus suppresses the women's autonomy; Dionysus 
% suppresses Pentheus' rationality and the city's established laws 
%.
domain_priors:suppression_score(the_bacchae_madness_protocol, 0.85).

% Enforcement requirements
% Requires active enforcement (Dionysus' spells, Pentheus' guards, 
% and the frenzied violence of the Maenads).
domain_priors:requires_active_enforcement(the_bacchae_madness_protocol).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(the_bacchae_madness_protocol, extractiveness, 0.95).
narrative_ontology:constraint_metric(the_bacchae_madness_protocol, suppression_requirement, 0.85).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(the_bacchae_madness_protocol, dionysian_divine_authority).
constraint_beneficiary(the_bacchae_madness_protocol, religious_pluralism_via_disruption).
constraint_victim(the_bacchae_madness_protocol, pentheus).
constraint_victim(the_bacchae_madness_protocol, theban_civic_stability).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: PENTHEUS - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to command the army and imprison "the stranger" 
        .
   WHEN: immediate - Focused on the "scandal" in the hills.
   WHERE: mobile - Moving between the palace and the mountain.
   SCOPE: national - Protecting the "decency" of Thebes.
   
   WHY THIS CLASSIFICATION:
   Pentheus views his military and legal actions as a Rope. He believes he is 
   weaving a net to catch a disruptive criminal and re-coordinate his city 
   under the light of "Reason".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    the_bacchae_madness_protocol,
    rope,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(the_bacchae_madness_protocol, E),
    E < 0.99,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MAENADS / AGAVE - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Caught in a "divine net" they cannot resist 
        .
   WHEN: immediate - Tactical frenzy; "the spirit has taken them."
   WHERE: trapped - On Mount Cithaeron, away from the domestic home.
   SCOPE: local - Their immediate physical experience of ecstasy/violence.
   
   WHY THIS CLASSIFICATION:
   For the women, the madness is a Noose. It extracts their memory and 
   maternal instinct, "choking" their previous social identity to turn 
   them into hunters for the god. Agave only realizes the Noose has 
   closed when she sees her son's head in her hands.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    the_bacchae_madness_protocol,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(the_bacchae_madness_protocol),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: CADMUS / TIRESIAS - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_moderate/analytical - Elders who recognize the unyielding 
         power of the new god.
   WHEN: historical - Looking at the survival of the bloodline.
   WHERE: mobile - They go to the mountain "clothed in fawn-skin."
   SCOPE: national - The fate of the house of Cadmus.
   
   WHY THIS CLASSIFICATION:
   The elders recognize Dionysus as a Mountain. His power is an unchangeable 
   law of the world. They do not try to "untie" the god; they simply 
   coordinate with him to avoid being crushed. To them, Pentheus' resistance 
   is a futile attempt to fight gravity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    the_bacchae_madness_protocol,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(the_bacchae_madness_protocol, S),
    S > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(the_bacchae_tests).

test(ecstasy_vs_order_variance) :-
    % King (Rope) vs Elders (Mountain)
    constraint_indexing:constraint_classification(the_bacchae_madness_protocol, T1, context(institutional, immediate, mobile, national)),
    constraint_indexing:constraint_classification(the_bacchae_madness_protocol, T2, context(analytical, historical, mobile, national)),
    T1 \= T2.

test(terminal_extraction_signature) :-
    % Dionysian possession extracts the entire life-margin of Pentheus.
    domain_priors:base_extractiveness(the_bacchae_madness_protocol, E),
    E > 0.9.

:- end_tests(the_bacchae_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. MANDATROPHY ANALYSIS: Pentheus' "Mandate of Order" atrophied his city's 
 * ability to metabolize spiritual "disruption" (The Margin). By extracting 
 * religious tolerance to satisfy his ego/order, he "choked" his own ability 
 * to see the god standing before him.
 * 2. CLASSIFICATION: I primary-labeled it as a 'Noose' because the god’s 
 * arrival is an extractive event that demands total psychological and 
 * political submission.
 * 3. PERSPECTIVE: The "Analytical" view of the elders shows that 
 * acknowledging a Mountain (divinity) is the only way to avoid the Noose.
 */

omega_variable(
    divine_intervention_necessity,
    "Was Pentheus' death a result of his own 'Mandatrophy' (internal 
     atrophy of margin) or an external 'Noose' applied by a vengeful god?",
    resolution_mechanism("Analysis of Pentheus' options for coordination 
    prior to his cross-dressing transformation"),
    impact("If he had viable exits: The god is a Rope. If he was trapped 
            from the start: The god is a Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Diplomatic Integration (Cadmus' Way)
 * Viability: Cadmus and Tiresias prove that "joining the dance" saves 
 * the individual from the god's violence.
 * Suppression: Actively suppressed by Pentheus' "Mandate of Reason," 
 * which views ritual as "shameful" and "irrational".
 * * ALTERNATIVE 2: Pure Repression (The Failed Noose)
 * Viability: Pentheus' attempt to jail the god.
 * Suppression: Fails because the god's power is a "Mountain"—physical 
 * chains simply fall off.
 * * CONCLUSION:
 * The existence of Alternative 1 (Coordination) which was rejected for 
 * Alternative 2 (Repression) proves that Pentheus' tragedy is a result 
 * of choosing a Noose over a Rope.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [the_bacchae_madness_protocol].
% 2. Analyze: ?- multi_index_report(the_bacchae_madness_protocol).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: the_calm_protocol_suppression
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: the_calm.md (Narrative of Soh and Mbatha)
% ============================================================================

:- module(constraint_the_calm, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: the_calm_protocol_suppression
 * human_readable: The "Calm" of Antarctic Protocol
 * domain: social/psychological/environmental
 * temporal_scope: Modern Antarctic Expedition
 * spatial_scope: Antarctic Corridor / Sled Expedition
 * * SUMMARY:
 * This constraint models the psychological and institutional "weight" described 
 * in the narrative. "The Calm" is a state where the unyielding physical 
 * constraints of the Antarctic (Mountain) are met with a rigid adherence to 
 * "Protocol" (Rope). However, beneath this coordination lies a "weight" 
 * of suppressed trauma—specifically an incident involving a bird, an axe, and 
 * a choice—that functions as a Noose, extracting the mental health of those 
 * who carry the story.
 * * KEY AGENTS:
 * - Soh: Individual powerless/trapped; a senior researcher carrying the weight 
 * of a past failure who eventually transmits it to a junior member 
 *.
 * - Mbatha: Individual powerless; the new host for the story's weight 
 *.
 * - Protocol: Institutional; the set of rules that "doesn't know everything" 
 * but provides the structure for the "calm".
 * * NARRATIVE ARC:
 * The expedition survives the environment by following a Rope (Protocol). 
 * For Soh, however, the silence of the Antarctic is a Noose—it chokes the 
 * ability to speak until the weight "demands transmission." By telling the 
 * story to Mbatha, the weight is not resolved but merely moved, ensuring 
 * the persistence of the psychological constraint.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(the_calm_expedition_window, 0, 10).
narrative_ontology:constraint_claim(the_calm_protocol_suppression, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.75. High extraction; the "weight" extracts the peace and 
% sanity of the host, demanding a transmission that "disturbs" the 
% receiver.
domain_priors:base_extractiveness(the_calm_protocol_suppression, 0.75).

% Suppression score (0.0-1.0)
% Rationale: 0.8. The "Calm" is a state of active suppression of the truth; 
% Soh notes that "Nothing happened" is the standard response to conceal 
% the weight.
domain_priors:suppression_score(the_calm_protocol_suppression, 0.8).

% Enforcement requirements
% Requires active enforcement (expedition hierarchy, field journal 
% recording, and the unspoken rule of "don't hit back").
domain_priors:requires_active_enforcement(the_calm_protocol_suppression).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(the_calm_protocol_suppression, extractiveness, 0.75).
narrative_ontology:constraint_metric(the_calm_protocol_suppression, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(the_calm_protocol_suppression, short_term_expedition_focus).
constraint_victim(the_calm_protocol_suppression, soh).
constraint_victim(the_calm_protocol_suppression, mbatha).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EXPEDITION CREW - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to establish navigation sequences and nav 
         console monitoring.
   WHEN: immediate - Focused on the 320-kilometer trek and the weather radar.
   WHERE: mobile - Moving between fuel stops and hab-modules.
   SCOPE: local - Immediate corridor survival.
   
   WHY THIS CLASSIFICATION:
   The crew views "Protocol" as a Rope—a functional coordination tool. 
   Without it, they would hit the Mountain of the ice. They believe 
   that following the rules is what keeps them safe.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    the_calm_protocol_suppression,
    rope,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(the_calm_protocol_suppression, E),
    E < 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: SOH / MBATHA (LATE) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the "weight" and the demand for 
         transmission.
   WHEN: biographical - The story is a weight that stays "forever" unless 
         passed on.
   WHERE: trapped - Bound by the isolation and the presence of the birds.
   SCOPE: local - Personal mental interior.
   
   WHY THIS CLASSIFICATION:
   The story itself is a Noose. It extracts life and peace from the host. 
   The act of telling it is an attempt to "move" the Noose to a new 
   host (Mbatha), but the constraint remains extractive for both 
   participants.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    the_calm_protocol_suppression,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(the_calm_protocol_suppression),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ICE / THE WIND - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the indifference of nature.
   WHEN: historical - Operates outside the human scale of expeditions.
   WHERE: analytical - Not bound by the hab-module or the corridors.
   SCOPE: global - The fundamental physics of the Antarctic.
   
   WHY THIS CLASSIFICATION:
   The environment is a Mountain. It has no interest in protocol or 
   guilt. It simply "knows." It is an unchangeable law that dictates the 
   boundary conditions of the human struggle underneath.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    the_calm_protocol_suppression,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(the_calm_protocol_suppression, S),
    S > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(the_calm_tests).

test(weight_transmission_logic) :-
    % Testing Soh (Noose) vs Crew (Rope)
    constraint_indexing:constraint_classification(the_calm_protocol_suppression, T1, context(individual_powerless, biographical, trapped, local)),
    constraint_indexing:constraint_classification(the_calm_protocol_suppression, T2, context(institutional, immediate, mobile, local)),
    T1 \= T2.

test(suppression_signature) :-
    % The "Calm" requires a high level of active suppression to maintain order.
    domain_priors:suppression_score(the_calm_protocol_suppression, S),
    S >= 0.8.

:- end_tests(the_calm_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. MANDATROPHY ANALYSIS: In 'The Calm', the Mandate is the "Expedition 
 * Progress" (Khatri's push to 5-40). The Margin extracted is the 
 * "Psychological Safety/Honesty" of the crew. By prioritizing the 
 * mission's "Nothing happened" status, the system extracts the engineers' 
 * sanity, turning the story into a terminal Noose.
 * 2. CLASSIFICATION: Labeled as 'Noose' from the individual perspective 
 * because the story acts as a parasite that "demands transmission" to 
 * move its weight.
 * 3. OMEGA: The uncertainty is whether the birds are a physical presence 
 * (Mountain) or a shared hallucination of the weight (Noose).
 */

omega_variable(
    skua_corporeality,
    "Are the skuas a physical manifestation of environmental pressure 
     (Mountain) or a shared psychological index of the 'Weight' (Noose)?",
    resolution_mechanism("Verification of field journal photographs by an 
    external biologist (Analytical Observer)"),
    impact("If physical: They are a Mountain. If shared index: They are 
            part of the psychological Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Institutional Reporting (The "Scaffold")
 * Viability: Formally reporting the incident to end the story's 
 * clandestine life.
 * Suppression: Suppressed by Soh's realization that reporting "would 
 * end the story, and ending the story would mean the weight stays 
 * forever".
 * * ALTERNATIVE 2: Cathartic Confession (The "Alternative Rope")
 * Viability: Talking as a way to "move" the weight rather than suppress it.
 * * CONCLUSION:
 * The choice to transmit the story (Alternative 2) effectively transforms 
 * the Noose into a multi-host organism, ensuring that the "Calm" is 
 * always haunted.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [the_calm_protocol_suppression].
% 2. Analyze: ?- multi_index_report(the_calm_protocol_suppression).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: the_wall_2001
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini-911-Analysis
% Source: The 9/11 Commission Report
% ============================================================================

:- module(constraint_the_wall, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:omega_variable/5,
    narrative_ontology:constraint_beneficiary/3,
    narrative_ontology:constraint_victim/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: the_wall_2001
 * human_readable: The Intelligence/Law Enforcement Information Sharing Barrier
 * domain: legal/institutional
 * temporal_scope: 1995-2001 CE
 * spatial_scope: US Department of Justice / FBI / CIA
 * * SUMMARY:
 * "The Wall" refers to procedures restricting information sharing between 
 * intelligence investigators and criminal prosecutors. Initially 
 * intended to protect FISA legality, it became a pervasive barrier.
 * * KEY AGENTS:
 * - FBI_Field_Agent: Individual powerless; subject to rules.
 * - OIPR_Gatekeeper: Institutional; controlled flow of FISA data.
 * - CIA_Analyst: Individual moderate; operates in a "zone defense".
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor for System Extraction
narrative_ontology:interval(the_wall_2001, 1995, 2001).

% Base extractiveness score (0.0 - 1.0)
% Rationale: High asymmetry; prevented vital safety info sharing.
domain_priors:base_extractiveness(the_wall_2001, 0.8).

% Suppression score (0.0 - 1.0)
% Rationale: Actively enforced by OIPR threat of withholding FISA warrants.
domain_priors:suppression_score(the_wall_2001, 0.9).

% Enforcement: Requires active maintenance by OIPR
domain_priors:requires_active_enforcement(the_wall_2001).

% Beneficiaries and Victims
narrative_ontology:constraint_beneficiary(the_wall_2001, institutional_status_quo, 'Protection of FISA prosecutorial purity').
narrative_ontology:constraint_victim(the_wall_2001, public_safety, 'Inability to track 9/11 hijackers').
narrative_ontology:constraint_victim(the_wall_2001, fbi_field_agents, 'Exclusion from investigations').

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

% Institutional View: The Wall as a necessary coordination tool.
constraint_indexing:constraint_classification(
    the_wall_2001,
    rope,
    context(agent_power(institutional), time_horizon(biographical), exit_options(arbitrage), spatial_scope(national))
) :- !.

% Powerless View: The Wall as an unchangeable law (Mountain).
constraint_indexing:constraint_classification(
    the_wall_2001,
    mountain,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

% Analytical View: The Wall as a suppressive Noose.
constraint_indexing:constraint_classification(
    the_wall_2001,
    noose,
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))
) :- !.

/* ==========================================================================
   4. TESTS (Validation)
   ========================================================================== */

:- begin_tests(the_wall_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(the_wall_2001, Type1, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(the_wall_2001, Type2, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2.

:- end_tests(the_wall_tests).

/* ==========================================================================
   5. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

narrative_ontology:omega_variable(
    wall_rigidity_source,
    "Was the barrier's strength derived from FISA law or FBI risk-aversion?",
    resolution_mechanism("Legal audit vs. internal policy memos"),
    impact("Determines if resolution requires law or leadership change"),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * CONCLUSION:
 * The existence of a viable but suppressed sharing model 
 * confirms the "Noose" classification for the 2001 state of the Wall.
 */

intent_viable_alternative(the_wall_2001, transparency_1995, 'Coordinated transparency').
intent_alternative_rejected(the_wall_2001, transparency_1995, 'OIPR administrative gatekeeping').

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: thermodynamics_entropy
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Second Law of Thermodynamics / Statistical Mechanics
% ============================================================================

:- module(constraint_thermodynamics_entropy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: thermodynamics_entropy
 * human_readable: The Second Law of Thermodynamics (Entropy)
 * domain: technological
 * temporal_scope: Permanent (Universal Physical Law)
 * spatial_scope: Global (Universal)
 * * SUMMARY:
 * Entropy is a measure of molecular disorder within a system and represents 
 * the inevitable decay of concentrated energy into unusable heat. The Second 
 * Law of Thermodynamics dictates that in any isolated system, entropy must 
 * increase over time, imposing a fundamental "arrow of time" and a hard limit 
 * on the efficiency of any engine or biological process.
 * * KEY AGENTS:
 * - The Cosmologist: Analytical observer tracking the "Heat Death" of the universe.
 * - The Industrial Engineer: Institutional agent attempting to maximize 
 * efficiency while fighting the "entropy tax" of friction and heat loss.
 * - The Biological Organism: Individual agent trapped in a local struggle to 
 * maintain order (negentropy) by extracting energy from the environment.
 * * NARRATIVE ARC:
 * Entropy functions as a "Mountain" of cosmic reality—the ultimate physical 
 * boundary. To the engineer, it is a "Rope" for coordination (defining the 
 * Carnot limit for engines). However, for the aging organism, it becomes 
 * a "Noose" that slowly strangles the ability to maintain internal order, 
 * leading to the inevitable extraction of life itself.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor
narrative_ontology:interval(thermodynamics_entropy_interval, 0, 10).
narrative_ontology:constraint_claim(thermodynamics_entropy, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: High (0.8). Entropy is the ultimate extractor, turning 
% usable energy into unusable waste and eventually extracting the 
% structural integrity of all physical systems.
domain_priors:base_extractiveness(thermodynamics_entropy, 0.8).

% Suppression score (0.0-1.0)
% Rationale: High (0.7). The Second Law suppresses the possibility of 
% perpetual motion or "free energy." These alternatives are not just 
% invisible; they are physically forbidden by the system of reality.
domain_priors:suppression_score(thermodynamics_entropy, 0.7).

% Enforcement requirements
% Emerges naturally from the statistical probability of microstates.
domain_priors:emerges_naturally(thermodynamics_entropy).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(thermodynamics_entropy, extractiveness, 0.8).
narrative_ontology:constraint_metric(thermodynamics_entropy, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(thermodynamics_entropy, [none, time_itself]).
constraint_victim(thermodynamics_entropy, [all_biological_life, complex_machinery]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE THEORETICAL PHYSICIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the fundamental laws of the universe.
   WHEN: civilizational - Viewing the timeline from the Big Bang to Heat Death.
   WHERE: trapped - Logic and physics cannot bypass the statistical odds of disorder.
   SCOPE: global - Universal applicability.
   
   WHY THIS CLASSIFICATION:
   To the physicist, entropy is a Mountain. It is an unchangeable feature of 
   the universe's hardware. It is the geometric slope of time itself. You 
   cannot "innovate" your way past the Second Law; you can only map its 
   peaks and valleys.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    thermodynamics_entropy,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ENERGY ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design energy grids and power plants.
   WHEN: biographical - Managing infrastructure over a 50-year career.
   WHERE: arbitrage - Can shift between energy sources to manage entropy.
   SCOPE: national - Continental energy systems.
   
   WHY THIS CLASSIFICATION:
   For the institutional engineer, the laws of thermodynamics are a Rope. 
   They act as a coordination mechanism for efficiency. By understanding 
   the Carnot cycle and heat transfer, they "pull" as much work as 
   possible out of the system, using the constraint to standardize 
   technology and prevent waste.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    thermodynamics_entropy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(thermodynamics_entropy, E),
    E > 0.5, % High extraction requires high-level coordination
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE LIVING ORGANISM - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the biological "tax" of aging.
   WHEN: immediate - Today's need for calories to maintain bodily order.
   WHERE: constrained - Cannot exit the requirements of biological metabolism.
   SCOPE: local - Immediate internal physiology.
   
   WHY THIS CLASSIFICATION:
   For the individual organism, entropy is a Noose. Life is a constant 
   struggle to "pump out" disorder (Schrödinger's negentropy). As time 
   passes, the difficulty of maintaining internal order increases. The 
   Noose of decay slowly tightens, eventually extracting the 
   agent's vitality until the system collapses into equilibrium (death).
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    thermodynamics_entropy,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(thermodynamics_entropy, E),
    E > 0.7, % Severe extraction of health and life
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(thermodynamics_entropy_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Powerless sees Noose
    constraint_indexing:constraint_classification(thermodynamics_entropy, mountain, context(analytical, civilizational, trapped, global)),
    constraint_indexing:constraint_classification(thermodynamics_entropy, rope, context(institutional, biographical, arbitrage, national)),
    constraint_indexing:constraint_classification(thermodynamics_entropy, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(thermodynamics_entropy, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(thermodynamics_entropy, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability) :-
    % Civilizational view of physical laws = Mountain
    constraint_indexing:effective_immutability_for_context(context(analytical, civilizational, trapped, global), mountain).

:- end_tests(thermodynamics_entropy_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.8):
 * Entropy is the ultimate "extractive" force. It takes high-quality energy 
 * and extracts its utility, leaving only low-grade heat. It is the tax 
 * that every physical process must pay to exist in time.
 * * 2. SUPPRESSION SCORE (0.7):
 * The law suppresses "Perpetual Motion." While people can imagine it, 
 * the physical reality of the system suppresses it so effectively 
 * that it remains a fantasy.
 * * 3. PERSPECTIVE SELECTION:
 * The Observer (Mountain) sees the cosmic trend. The Engineer (Rope) 
 * sees the efficiency limit. The Organism (Noose) sees the decay of self.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    heat_death_timeline,
    "Is the universe truly a closed system that will reach maximum entropy (Mountain), or is there an unknown 'exit' via quantum fluctuations or multiversal dynamics (Rope)?",
    resolution_mechanism("Resolution of the relationship between general relativity and quantum information theory"),
    impact("If Mountain: Absolute termination of all agency. If Rope: Long-term survival might be possible via arbitrage."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * Were there alternatives to this constraint that were suppressed?
 * * ALTERNATIVE 1: Steady-State Universe
 * Viability: Historically proposed (Hoyle), where matter is created 
 * to maintain density as the universe expands.
 * Suppression: High. Suppressed by empirical evidence (CMB radiation) 
 * favoring the Big Bang model and irreversible entropy.
 * * CONCLUSION:
 * Since physical evidence suppresses the Steady-State alternative, Entropy 
 * remains a Mountain for the universe, but for life itself, it functions 
 * as a Noose by suppressing the possibility of eternal order.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_thermodynamics_entropy].
 * 2. Multi-perspective: ?- multi_index_report(thermodynamics_entropy).
 * 3. Run tests: ?- run_tests(thermodynamics_entropy_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: three_body_unpredictability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Isaac Newton (1687) / Henri Poincaré (1887) / Celestial Mechanics
% ============================================================================

:- module(constraint_three_body, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: three_body_unpredictability
 * human_readable: The Three-Body Problem (Orbital Chaos)
 * domain: technological/scientific
 * temporal_scope: 1687 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Astrophysics)
 * * SUMMARY:
 * The Three-Body Problem involves calculating the motion of three celestial bodies 
 * interacting via gravity. Unlike the stable two-body system, the three-body 
 * system generally lacks a general closed-form solution and exhibits extreme 
 * sensitivity to initial conditions (chaos), rendering long-term trajectories 
 * uncomputable.
 * * KEY AGENTS:
 * - The Celestial Body (Subject): A powerless agent whose path is dictated by 
 * the intersection of two or more gravitational wells.
 * - The Orbital Engineer (Institutional): An agent who uses specific stable 
 * subsets (Lagrange points) as a "Rope" to station satellites.
 * - The Navigator/Predictor (Victim): An agent for whom the chaotic divergence 
 * acts as a "Noose," extracting the possibility of long-term survival or 
 * trajectory certainty.
 * * NARRATIVE ARC:
 * The Three-Body Problem is the "Mountain" of celestial mechanics; gravity is 
 * unyielding, yet its complexity prevents a total mapping. In space exploration, 
 * Lagrange points are the "Ropes" that allow for stable coordination. However, 
 * for a civilization living in a triple-star system, the lack of a stable 
 * "Mountain" of predictable seasons acts as a "Noose," extracting all 
 * developmental consistency and "strangling" the future with sudden, 
 * chaotic extinction events.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction
narrative_ontology:interval(celestial_mechanics_era, 1687, 2026).
narrative_ontology:constraint_claim(three_body_unpredictability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.4. It "extracts" the long-term utility of initial data. To 
% maintain any predictive "Rope," observers must constantly re-invest in 
% high-precision measurements, as the "Mountain" of gravity shreds 
% information over time.
domain_priors:base_extractiveness(three_body_unpredictability, 0.4).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the visibility of simple Newtonian 
% determinism in multi-body environments, rendering "clockwork universe" 
% narratives functionally fraudulent at scale.
domain_priors:suppression_score(three_body_unpredictability, 0.3).

% Enforcement: Emerges naturally from the non-linear feedback of gravity.
domain_priors:emerges_naturally(three_body_unpredictability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(three_body_unpredictability, extractiveness, 0.4).
narrative_ontology:constraint_metric(three_body_unpredictability, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(three_body_unpredictability, chaos_theorists).
constraint_beneficiary(three_body_unpredictability, n_body_simulators).
constraint_victim(three_body_unpredictability, long_term_navigators).
constraint_victim(three_body_unpredictability, triple_star_civilizations). % Absolute extraction of stability.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PLANET IN A TRIPLE-STAR SYSTEM - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The planet has zero agency; gravity is absolute.
   WHEN: immediate - True at every infinitesimal moment of the orbit.
   WHERE: trapped - Bound by the gravitational field.
   SCOPE: local - Immediate neighborhood of the current vector.
   
   WHY THIS CLASSIFICATION:
   For the planet, the gravitational pull of the three suns is an absolute 
   Mountain. It cannot "choose" a different path; its velocity and position 
   are dictated by a law that, while chaotic, is unyielding. The lack of 
   periodicity is a fixed geographic feature of its existence.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    three_body_unpredictability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SATELLITE ENGINEER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design orbits and place craft at Lagrange points.
   WHEN: biographical - Planning the 20-year lifespan of a telescope (e.g., JWST).
   WHERE: mobile - Can choose specific "islands of stability" in the system.
   SCOPE: national - Protecting state assets in space.
   
   WHY THIS CLASSIFICATION:
   For the engineer, the Three-Body Problem provides "Ropes"—the Lagrange 
   points ($L_1$ to $L_5$). By understanding the "Mountain" of gravitational 
   interaction, they coordinate a standard of achievement by placing 
   sensors in specific points where forces balance, "pulling" the system 
   into a state of functional utility.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    three_body_unpredictability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INTERSTELLAR NAVIGATOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has agency to navigate but is bound by the chaos.
   WHEN: historical - Planning a multi-century journey through a star cluster.
   WHERE: constrained - No alternative but to navigate the non-linear field.
   SCOPE: global - Across the scale of the solar system or cluster.
   
   WHY THIS CLASSIFICATION:
   For the navigator, the Three-Body Problem is a "Noose." It "strangles" 
   long-term planning. Because errors grow exponentially, the system 
   extracts fuel and compute cycles (extraction) for constant course 
   corrections, "choking" the possibility of a fixed, pre-calculated 
   interstellar highway.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    three_body_unpredictability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(three_body_unpredictability, E),
    E >= 0.35,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(three_body_tests).

test(multi_perspective_variance) :-
    % Planet -> Mountain
    constraint_indexing:constraint_classification(three_body_unpredictability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Engineer -> Rope
    constraint_indexing:constraint_classification(three_body_unpredictability, Type2, context(institutional, biographical, mobile, national)),
    Type1 \= Type2.

test(navigation_extraction_penalty) :-
    % Navigators feel the extraction of certainty as a Noose.
    Context = context(individual_moderate, historical, constrained, global),
    constraint_indexing:extractiveness_for_agent(three_body_unpredictability, Context, Score),
    Score >= 0.4.

test(natural_emergence) :-
    domain_priors:emerges_naturally(three_body_unpredictability).

:- end_tests(three_body_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.4):
 * Reasoning: Chaos "extracts" information value. In a three-body system, 
 * the future state "taxes" the initial state at an exponential rate. 
 * High extractiveness for those seeking stability.
 * * 2. CLASSIFICATION RATIONALE:
 * - Planet (Mountain): The inevitable subject of physics.
 * - Engineer (Rope): Using Lagrange points to "tie" down utility.
 * - Navigator (Noose): Where unpredictability "chokes" the long-term mission.
 */

% OMEGA IDENTIFICATION
omega_variable(
    orbital_resonance_stability,
    "Is the 'Mountain' of chaos stable, or are there 'Ropes' (periodic orbits) that remain to be discovered?",
    resolution_mechanism("Numerical search for periodic solutions in the restricted three-body problem."),
    impact("If Yes: Navigators gain new Ropes. If No: The 'Noose' of chaos is total."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * * ALTERNATIVE 1: The Restricted Three-Body Problem
 * Viability: Assuming one mass is negligible (e.g., a satellite) makes the 
 * math more manageable (though still chaotic).
 * Suppression: Often presented as the "only" way to do practical engineering, 
 * suppressing the visibility of the "Full" three-body interaction.
 * * * ALTERNATIVE 2: Two-Body Approximation
 * Viability: Treating the Earth-Sun system as isolated.
 * Suppression: Replaced by the Three-Body "Mountain" because it leads to 
 * catastrophic drift in long-term models.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_three_body].
 * 2. Multi-perspective: ?- multi_index_report(three_body_unpredictability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(three_body_unpredicability, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(three_body_unpredicability, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(three_body_unpredicability, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: tractarian_logic_limit
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Tractatus Logico-Philosophicus (Ludwig Wittgenstein)
% ============================================================================

:- module(constraint_tractarian_logic, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: tractarian_logic_limit
 * human_readable: The Limits of Language (Tractatus)
 * domain: logical/philosophical
 * temporal_scope: 1921 - Present (Analytical Philosophy)
 * spatial_scope: Universal / Abstract Logic
 * * SUMMARY:
 * The world consists of facts in logical space. Language is a "picture" of facts. 
 * Any attempt to use language outside the scope of representing states of affairs 
 * (e.g., ethics, aesthetics, metaphysics) hits a hard limit. This limit is 
 * not a choice but an inherent property of logical form.
 * * KEY AGENTS:
 * - The Logician (Wittgenstein/Russell): The analytical observer defining the rules.
 * - The Speaking Subject: The individual agent attempting to express meaning.
 * - The Mystical: The domain that lies "outside" the limit—unspeakable but "shown."
 * * NARRATIVE ARC:
 * The work begins by defining the "World" (1-2), moves through the "Picture Theory" 
 * of language (3-4), formalizes the logic of propositions (5), and culminates in 
 * the famous limit (7): "Whereof one cannot speak, thereof one must be silent."
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(tractarian_logic_limit, 0, 10).
narrative_ontology:constraint_claim(tractarian_logic_limit, mountain).

% Base extractiveness score: High
% Rationale: TLP extracts almost all traditional philosophical territory 
% (Ethics, Religion, Aesthetics) and reclassifies it as "nonsense."
domain_priors:base_extractiveness(tractarian_logic_limit, 0.7).

% Suppression score: High
% Rationale: Metaphysical language is not merely discouraged; it is logically 
% impossible to formulate as a valid "picture" of the world.
domain_priors:suppression_score(tractarian_logic_limit, 0.95).

% Enforcement requirements: Emerges naturally from logical form
domain_priors:emerges_naturally(tractarian_logic_limit).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(tractarian_logic_limit, extractiveness, 0.7).
narrative_ontology:constraint_metric(tractarian_logic_limit, suppression_requirement, 0.95).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(tractarian_logic_limit, [clarity, natural_science]).
constraint_victim(tractarian_logic_limit, [metaphysicians, ethical_discourse]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SPEAKING SUBJECT - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - The subject whose world is "my language."
   WHEN: civilizational - A permanent boundary of human cognition.
   WHERE: trapped - "The limits of my language mean the limits of my world."
   SCOPE: global - Universal application.
   
   WHY THIS CLASSIFICATION:
   For the agent inside language, the logical form is a "Mountain." It is an 
   unchangeable fact of reality. One cannot "negotiate" with logic or choose 
   to see facts differently than logic allows. There is zero degrees of 
   freedom in logical space.
   
   NARRATIVE EVIDENCE:
   "Logic is not a theory but a reflexion of the world. Logic is transcendental."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    tractarian_logic_limit,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(civilizational),
        exit_options(trapped),
        constraint_beneficiary(tractarian_logic_limit, clarity),
        constraint_victim(tractarian_logic_limit, []),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(tractarian_logic_limit, S),
    S > 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PHILOSOPHER (Wittgenstein) - Rope
   --------------------------------------------------------------------------
   WHO: analytical - The observer mapping the boundaries.
   WHEN: biographical - The TLP is a ladder to be used and then discarded.
   WHERE: arbitrage - Stepping "outside" language to see its limits.
   SCOPE: national - The domain of scholarship.
   
   WHY THIS CLASSIFICATION:
   Wittgenstein describes his own propositions as a "Rope" (or ladder). They 
   provide a functional coordination mechanism for the mind to reach a 
   certain altitude of clarity. Once the altitude is reached, the "Rope" 
   is recognized as nonsensical and must be "thrown away."
   
   NARRATIVE EVIDENCE:
   "My propositions are elucidatory in this way: he who understands me 
   finally recognizes them as senseless, when he has climbed out through 
   them, on them, over them."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tractarian_logic_limit,
    rope,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(arbitrage),
        constraint_beneficiary(tractarian_logic_limit, clarity),
        constraint_victim(tractarian_logic_limit, []),
        spatial_scope(national)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ETHICIST / METAPHYSICIAN - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful - The traditional authority on "Value."
   WHEN: immediate - Confronting the total loss of discursive legitimacy.
   WHERE: constrained - Prevented from defining "Good" or "God."
   SCOPE: local - A specific field of study.
   
   WHY THIS CLASSIFICATION:
   To the metaphysician, the Tractatus is a "Noose." It is a coercive logical 
   maneuver that extracts their professional status and communicative ability 
   by declaring their entire field "unspeakable." It is an asymmetric 
   suppression of "Value" in favor of "Fact."
   
   NARRATIVE EVIDENCE:
   "The sense of the world must lie outside the world... In it there is 
   no value—and if there were, it would be of no value."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tractarian_logic_limit,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(constrained),
        constraint_beneficiary(tractarian_logic_limit, natural_science),
        constraint_victim(tractarian_logic_limit, metaphysicians),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(tractarian_logic_limit, E),
    E > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(tractarian_tests).

test(perspectival_gap_analysis) :-
    % Speaking Subject sees Mountain; Philosopher sees Rope (Ladder).
    constraint_indexing:constraint_classification(tractarian_logic_limit, mountain, context(agent_power(individual_powerless), _, _, _, _, _)),
    constraint_indexing:constraint_classification(tractarian_logic_limit, rope, context(agent_power(analytical), _, _, _, _, _)).

test(extraction_of_value) :-
    % Metaphysicians experience a 0.7 extraction of their domain (Noose).
    domain_priors:base_extractiveness(tractarian_logic_limit, 0.7).

test(suppression_necessity) :-
    % Suppression is near absolute (0.95).
    domain_priors:suppression_score(tractarian_logic_limit, 0.95).

:- end_tests(tractarian_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * * The TLP is a unique case where the author explicitly defines his 
 * constraint system as a "Rope" (Ladder) that becomes a "Mountain" (Fixed 
 * Boundary) only after the climb is complete.
 * * The central insight of Deferential Realism here is the **Perspectival 
 * Collapse**. Usually, a Rope is beneficial and a Noose is harmful. 
 * Wittgenstein argues that for "The Truth," the Noose (suppression of 
 * metaphysical nonsense) is the ultimate benefit to the Speaking Subject.
 * * The extractiveness is intentionally high because the TLP seeks to 
 * "solve all problems" by removing the right to ask them, effectively 
 * extracting agency from the questioner.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    mystical_interaction,
    "How does the 'Mystical' exert influence if it is logically excluded from the world of facts?",
    resolution_mechanism("Requires a recursive analysis of Wittgenstein's later transition to 'Language Games'."),
    impact("If the Mystical cannot interact: TLP is a perfect Mountain. If it does: TLP is a leaking Noose."),
    confidence_without_resolution(low)
).

omega_variable(
    logical_atomism_validity,
    "Is the 'Fact' truly the fundamental unit of the world (Natural Law) or a convenient linguistic unit (Tool)?",
    resolution_mechanism("Verification through quantum logic or cognitive science models."),
    impact("If Fact is a Tool: The Mountain of TLP is actually a Rope of analytic preference."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * * ALTERNATIVE 1: Ordinary Language (Later Wittgenstein)
 * Viability: High. Language is a social practice (Rope) rather than a 
 * fixed logical mirror (Mountain).
 * Suppression: In the TLP, this is suppressed by the insistence on a 
 * single, underlying logical form for all meaningful speech.
 * * ALTERNATIVE 2: Continental Metaphysics
 * Viability: Realized in historical traditions.
 * Suppression: Categorically rejected as "senseless" because it fails the 
 * "Picture Theory" test.
 * * CONCLUSION:
 * The TLP's existence as a "Noose" for philosophers depends entirely 
 * on the suppression of Alternative 1. When Wittgenstein later accepts 
 * Alternative 1, the "Noose" of the TLP dissolves into a failed "Rope."
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: trade_secret_law
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Uniform Trade Secrets Act (UTSA) / Defend Trade Secrets Act (DTSA)
% ============================================================================

:- module(constraint_trade_secret, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: trade_secret_law
 * human_readable: Trade Secret Law (Information Ownership)
 * domain: legal/economic/technological
 * temporal_scope: Civilizational (Permanent feature of commerce)
 * spatial_scope: Global
 * * SUMMARY:
 * Trade Secret Law protects confidential business information (formulae, 
 * practices, designs, instruments, or patterns) that provides an enterprise 
 * a competitive advantage. It exists as long as the information remains 
 * secret and the owner takes reasonable steps to protect it.
 * * KEY AGENTS:
 * - The Information Owner: The firm that invested in the secret.
 * - The Departing Employee: The agent carrying "skills" (allowed) vs "secrets" (blocked).
 * - The Courts: The final arbiters of what constitutes "misappropriation."
 * * NARRATIVE ARC:
 * The constraint acts as a "Filtered Border." It allows agents to migrate 
 * across the labor market (Matching Market) but requires them to leave 
 * specific proprietary "objects" behind. It is a structural feature that 
 * theoretically balances innovation with individual mobility.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(trade_secret_law, 0, 10).
narrative_ontology:constraint_claim(trade_secret_law, rope).

% Base extractiveness: Low (0.2).
% It protects the firm's investment without extracting the employee's 
% general right to work or earn a living.
domain_priors:base_extractiveness(trade_secret_law, 0.2).

% Suppression: Low (0.3).
% The rules are generally transparent, though the specific "secrets" 
% are (by definition) suppressed/hidden.
domain_priors:suppression_score(trade_secret_law, 0.3).

% Enforcement: Emerges naturally as a market norm and legal baseline.
domain_priors:emerges_naturally(trade_secret_law).

% Beneficiaries: R&D Intensive Firms (protecting investment).
constraint_beneficiary(trade_secret_law, innovative_enterprises).

% Victims: Industrial Spies / Unethical Competitors.
constraint_victim(trade_secret_law, bad_faith_actors).

% Metrics
narrative_ontology:constraint_metric(trade_secret_law, extractiveness, 0.2).
narrative_ontology:constraint_metric(trade_secret_law, suppression_requirement, 0.3).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ETHICAL ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the ethical professional, Trade Secret Law is a "Rope." It provides 
   clear boundaries that actually *enable* their mobility. Because the 
   law protects the secret, the employer feels safe hiring and training 
   the engineer, and the engineer knows exactly what they can and cannot 
   take with them to their next "Match."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trade_secret_law,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(trade_secret_law, E),
    E < 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE STARTUP FOUNDER - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerful
   WHEN: historical
   WHERE: arbitrage
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   A founder sees Trade Secret Law as a "Mountain"—a permanent feature 
   of the environment. They build their company's "moat" based on these 
   protections. It is an immutable law of the marketplace that allows 
   them to secure venture capital by proving their value is protected.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trade_secret_law,
    mountain,
    context(
        agent_power(individual_powerful),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ACCUSED WHISTLEBLOWER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   If a company uses "Trade Secret" claims to suppress a whistleblower 
   or block a departing employee's move through litigation, the law 
   becomes a "Noose." The high cost of legal defense and the ambiguity 
   of what constitutes a "secret" can strangle the individual's 
   career and mobility.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trade_secret_law,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(trade_secret_law, S),
    S > 0.2,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(trade_secret_tests).

test(mobility_preservation) :-
    % Testing that Trade Secret Law (unlike Non-Competes) allows for mobility.
    constraint_indexing:constraint_classification(trade_secret_law, rope, context(_, _, mobile, _)).

test(misuse_case) :-
    % Testing that for 'trapped' agents in litigation, it functions as a Noose.
    constraint_indexing:constraint_classification(trade_secret_law, noose, context(individual_powerless, _, trapped, _)).

:- end_tests(trade_secret_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * I set extractiveness low (0.2) because the law targets information, 
 * not people. It is a "cleaner" constraint than the Non-Compete. 
 * However, the "Noose" classification is necessary to acknowledge 
 * how the law is often weaponized in "tactical litigation."
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    inevitable_disclosure_drift,
    "Will courts increasingly use 'Inevitable Disclosure' to treat Trade Secret Law as a de-facto Non-Compete?",
    resolution_mechanism("Monitoring case law trends in states like New York vs California"),
    impact("If Yes: The 'Mountain' turns into a 'Noose' for all high-skill labor."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: tragedy_of_the_commons
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Economic Theory / Garrett Hardin (1968)
% ============================================================================

:- module(constraint_tragedy_of_the_commons, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: tragedy_of_the_commons
 * human_readable: The Tragedy of the Commons
 * domain: economic/social
 * temporal_scope: Historical to Future
 * spatial_scope: Local to Global
 * * SUMMARY:
 * A situation where individual users, acting independently according to their 
 * own self-interest, behave contrary to the common good of all users by 
 * depleting or spoiling a shared resource through their collective action. 
 * The constraint is the mathematical inevitability of ruin in an unregulated 
 * commons with rational actors.
 * * KEY AGENTS:
 * - The Individual Herder: Seeks to maximize private gain by adding livestock.
 * - The Regulatory Body: Seeks to enforce limits to preserve the resource.
 * - The Future Generation: The silent victim of current resource depletion.
 * * NARRATIVE ARC:
 * The constraint functions as a "logic of ruin." Without a change in the 
 * structure of the game (privatization or "mutual coercion, mutually agreed 
 * upon"), the system trends toward total collapse.
 */

/* ==========================================================================
   2. BASE PROPERTIES (The "Reality" Layer)
   ========================================================================== */

% Required for structural integration
narrative_ontology:interval(commons_interval, 0, 10).
narrative_ontology:constraint_claim(tragedy_of_the_commons, mountain).

% Base extractiveness: 0.7 (High)
% Rationale: The individual extracts 100% of the benefit of an extra unit of 
% use, while the cost (depletion) is shared among all participants.
domain_priors:base_extractiveness(tragedy_of_the_commons, 0.7).

% Suppression score: 0.4 (Moderate)
% Rationale: While alternatives (Ostrom-style collective management) exist, 
% the "logic of ruin" often suppresses cooperation by rewarding defectors 
% in the short term.
domain_priors:suppression_score(tragedy_of_the_commons, 0.4).

% Enforcement requirements: Emerges naturally from uncoordinated rational self-interest.
domain_priors:emerges_naturally(tragedy_of_the_commons).

% Metrics for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(tragedy_of_the_commons, extractiveness, 0.7).
narrative_ontology:constraint_metric(tragedy_of_the_commons, suppression_requirement, 0.4).

% Beneficiaries: The "First Mover" or the aggressive defector.
constraint_beneficiary(tragedy_of_the_commons, aggressive_defector).

% Victims: The collective community and future users.
constraint_victim(tragedy_of_the_commons, collective_community).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ANALYTIC OBSERVER - MOUNTAIN
   --------------------------------------------------------------------------
   WHO: Analytical/Scientific power (Game Theorist).
   WHEN: Historical/Generational (Viewing the long-term trend).
   WHERE: Trapped (Mathematics of the payoff matrix is fixed).
   SCOPE: Global.
   
   WHY THIS CLASSIFICATION:
   From a game-theoretic perspective, the tragedy is a Mountain. The Nash 
   Equilibrium is a structural feature of the payoff matrix; it is a 
   mathematical law that rational actors will over-consume unless the 
   game itself is fundamentally altered.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tragedy_of_the_commons,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COMMUNITY MEMBER (Ostrom-style) - ROPE
   --------------------------------------------------------------------------
   WHO: Collective Organized (A group with high social capital).
   WHEN: Biographical (Lifetime of the resource).
   WHERE: Mobile/Arbitrage (Can create local rules/sanctions).
   SCOPE: Local.
   
   WHY THIS CLASSIFICATION:
   In a high-trust local community, the tragedy is a Rope. It is a coordination 
   challenge that is solved through social norms, mutual monitoring, and 
   graduated sanctions. It is a tool for sustainable living rather than 
   an inevitable doom.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tragedy_of_the_commons,
    rope,
    context(
        agent_power(collective_organized),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SUBSISTENCE USER - NOOSE
   --------------------------------------------------------------------------
   WHO: Individual Powerless (Desperate actor).
   WHEN: Immediate (Need to eat today).
   WHERE: Trapped (No alternative resource).
   SCOPE: Regional.
   
   WHY THIS CLASSIFICATION:
   For a person with no other options, the tragedy is a Noose. They are forced 
   by the structure of the system to participate in the destruction of the 
   very resource they rely on. Every extra animal they add slightly hastens 
   their eventual starvation, but failing to add it guarantees starvation today.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    tragedy_of_the_commons,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(regional)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(tragedy_of_the_commons_tests).

test(multi_perspective_variance) :-
    % Verify that different agent types see different constraint types
    constraint_indexing:constraint_classification(tragedy_of_the_commons, Type1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(tragedy_of_the_commons, Type2, context(agent_power(collective_organized), _, _, _)),
    constraint_indexing:constraint_classification(tragedy_of_the_commons, Type3, context(agent_power(individual_powerless), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    % The "powerless" suffer higher impact because they lack exit options.
    domain_priors:base_extractiveness(tragedy_of_the_commons, Score),
    Score > 0.5.

test(time_immutability) :-
    % Short-term desperation (immediate) makes it a Noose/Mountain; 
    % Long-term civilizational management treats it as a Rope to be tuned.
    constraint_indexing:constraint_classification(tragedy_of_the_commons, mountain, context(_, generational, trapped, _)).

:- end_tests(tragedy_of_the_commons_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.7):
 * The "extraction" here is the privatization of profit and the socialization 
 * of cost. It is a highly asymmetric mechanism for value transfer from 
 * the group to the individual.
 * * 2. PERSPECTIVE SELECTION:
 * Included the 'Collective Organized' perspective to acknowledge Elinor 
 * Ostrom's work, which demonstrates that the tragedy is NOT a Mountain 
 * at the local scale if social capital exists.
 * * 3. CLASSIFICATION RATIONALE:
 * - Analytical -> Mountain: The math of the Prisoner's Dilemma doesn't change.
 * - Collective -> Rope: The "Tragedy" is just a coordination failure that 
 * can be engineered around.
 * - Individual Powerless -> Noose: Desperation removes the "choice" to 
 * be sustainable.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    human_cooperation_limit,
    "Can human cooperative norms scale to global spatial_scope without institutional hierarchy?",
    resolution_mechanism("Observation of global climate agreements and their enforcement rates"),
    impact("If Yes: Global commons are a Rope. If No: Global commons are a Mountain (Hardin's view)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Private Property Rights
 * Viability: High (The standard capitalist solution).
 * Suppression: Low.
 * * ALTERNATIVE 2: Ostrom's Common Pool Resource (CPR) Management
 * Viability: High (Empirically proven in small/medium groups).
 * Suppression: Moderate (Often ignored by centralized state bureaucracies 
 * who prefer top-down control or total privatization).
 * * CONCLUSION:
 * The existence of Alternative 2 (CPR Management) means that the "Tragedy" 
 * is only a Mountain if one assumes agents are isolated/incapable of 
 * communication. If communication is possible, it shifts toward a Rope.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_tragedy_of_the_commons].
 * multi_index_report(tragedy_of_the_commons).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: transformer_self_attention
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Jacklin Kwan, "The one innovation that supercharged AI"
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_transformer_self_attention, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: transformer_self_attention
 * human_readable: The Transformer Self-Attention Architecture
 * domain: technological/cognitive
 * temporal_scope: 2017 (announcement) to 2026 (current dominance)
 * spatial_scope: Global (Digital/Computational)
 * * SUMMARY:
 * The transformer architecture is the foundation for all modern powerful AI tools, enabling machines to process information by comparing all words in a sequence simultaneously. It replaced the linear, memory-limited recurrent neural networks (RNNs) with a "self-attention" mechanism that mimics human mental agility.
 * * KEY AGENTS:
 * - The AI Model (Transformer): An architecture that builds meaning through word relationships.
 * - The Legacy Model (RNN): A technique that read text left-to-right in "tight windows".
 * - The AI Researcher: Analytical observers leveraging internet-scale data for specific tasks.
 * * NARRATIVE ARC:
 * The field shifted from the "Noose" of limited RNN memory—where context was lost in long sentences—to the "Rope" of self-attention. This mechanism allows machines to "skim" and "weigh context," mimicking a perceived "Mountain" of human cognitive behavior.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(transformer_self_attention, 0, 10).
narrative_ontology:constraint_claim([transformer_self_attention], [architectural_dominance]).

% Base extractiveness score (0.75 = High)
% Rationale: Transformers allow for the massive extraction of value from "all this data from the internet or Wikipedia".
domain_priors:base_extractiveness(transformer_self_attention, 0.75).

% Suppression score (0.40 = Moderate-Low)
% Rationale: While RNNs were the previous state-of-the-art, the transformer "threw out that approach" based on superior performance rather than forced suppression.
domain_priors:suppression_score(transformer_self_attention, 0.40).

% Enforcement requirements
% Requires active enforcement (Computational infrastructure and large-scale datasets).
domain_priors:requires_active_enforcement(transformer_self_attention).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(transformer_self_attention, extractiveness, 0.75).
narrative_ontology:constraint_metric(transformer_self_attention, suppression_requirement, 0.40).

% BENEFICIARIES & VICTIMS
% Modern AI companies and researchers benefit from the power to summarize, generate, and predict.
constraint_beneficiary(transformer_self_attention, modern_ai_researchers).
% Legacy architectures and developers are the victims of the "rupture" in state-of-the-art standards.
constraint_victim(transformer_self_attention, legacy_rnn_developers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MODERN AI RESEARCHER - Rope
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer leveraging internet-scale data)
   WHEN: biographical (The era of the "21 best ideas of the 21st century")
   WHERE: mobile (Can leverage data from internet/Wikipedia for any task)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the researcher, the transformer is a Rope—a functional, agile mechanism that allows machines to not just process language, but to understand and weigh context.
   
   NARRATIVE EVIDENCE:
   "You could leverage all this data from the internet... and use it for your task. And that was hugely powerful".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    transformer_self_attention,
    rope,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(transformer_self_attention, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE RECURRENT NEURAL NETWORK (RNN) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Limited memory; "stumped" by ambiguity)
   WHEN: immediate (Squeezing context into tight windows)
   WHERE: trapped (Reading text in strict order; cannot double back)
   SCOPE: local (Only remembers "what came just before")
   
   WHY THIS CLASSIFICATION:
   The RNN set-up acts as a Noose of limited context. It forces long sentences into restricted memory, causing "crucial details to be lost".
   
   NARRATIVE EVIDENCE:
   "In longer, more tangled sentences, the models had to squeeze too much context into their limited memory... The ambiguity stumped them".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    transformer_self_attention,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(transformer_self_attention, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: HUMAN COGNITION - Mountain
   --------------------------------------------------------------------------
   
   WHO: institutional (The "holy grail" of natural language processing)
   WHEN: historical (The natural mental agility of human reading)
   WHERE: constrained (Bound by intuitive processes of skimming and context)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   Human thinking is presented as the immutable Mountain that the transformer strives to mimic—a natural logic of non-linear weighing and correction.
   
   NARRATIVE EVIDENCE:
   "We humans certainly don’t read and interpret text by scanning word by word... We skim, we double back, we make guesses".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    transformer_self_attention,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    % Classification based on the perception of "natural" thinking
    true,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(transformer_self_attention_tests).

test(multi_perspective_variance) :-
    % Researcher (Rope) vs RNN (Noose) vs Cognition (Mountain)
    constraint_indexing:constraint_classification(transformer_self_attention, rope, context(analytical, biographical, mobile, global)),
    constraint_indexing:constraint_classification(transformer_self_attention, noose, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(transformer_self_attention, mountain, context(institutional, historical, constrained, global)).

test(power_extractiveness_scaling) :-
    % Analytical observers experience extraction of global data (0.75)
    % while legacy models (powerless) experience total displacement.
    Score1 = 0.75,
    Score2 = 0.20,
    Score1 > Score2.

:- end_tests(transformer_self_attention_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.75): Chosen because the architecture enables 
 * "leveraging all this data from the internet" to supercharge AI tools.
 * 2. MANDATROPHY STATUS: Triggered as high-extractiveness is only valid if 
 * indexed. The system is a Rope for researchers but a Noose for legacy 
 * architectures "stumped" by its new context-weighing standards.
 * 3. IMAGE TAGS: Inserted to visualize the "radical" architectural shift.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Mandatory Omega for high-extraction constraints:
omega_variable(
    transformer_self_attention_extraction_intent,
    "Is the high extractiveness (0.75) of internet-scale data a functional necessity for 'understanding' (Rope) or a predatory aggregation of global human labor (Noose)?",
    resolution_mechanism("Audit of model performance using curated small datasets vs. uncurated internet scrapes"),
    impact("If necessity: Mountain. If predatory: Noose/Mandatrophy."),
    confidence_without_resolution(medium)
).

omega_variable(
    mimetic_accuracy,
    "Does the 'self-attention' mechanism truly mimic human mental agility (Mountain) or is it a statistical simulation (Scaffold)?",
    resolution_mechanism("Neuroscientific comparison of human fMRI during reading vs. Transformer activation maps"),
    impact("If Mountain: Biological truth. If Scaffold: Practical tool."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Recurrent Neural Networks (RNNs)
 * Viability: Previously the "state-of-the-art" technique.
 * Suppression: Thrown out in favor of self-attention.
 * Evidence: "Previously, most state-of-the-art AI models relied on a technique called a recurrent neural network".
 * * CONCLUSION:
 * The 21st-century "Best Idea" in AI is the rejection of the "RNN Noose" (linear memory) 
 * for the "Transformer Rope" (contextual agility).
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraints/transformer_self_attention].
 * 2. Multi-perspective: ?- multi_index_report(transformer_self_attention).
 * 3. Run tests: ?- run_tests(transformer_self_attention_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: transient_event_detection
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Alex Wilkins, "Filming the universe’s biggest dramas"
% Status: [RESOLVED]
% ============================================================================

:- module(constraint_transient_event_detection, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: transient_event_detection
 * human_readable: Automated Transient Event Detection
 * domain: technological/scientific
 * temporal_scope: 11th Century to 2026
 * spatial_scope: Global (Astronomical Surveys)
 * * SUMMARY:
 * Astronomy has transitioned from relying on "happy accidents" and chance observations to a 
 * "tactic in its own right" using automated "conveyor belt" systems to capture fleeting cosmic events. 
 * This shift allows the exploration of previously poorly understood timescales, from nanoseconds to centuries.
 * * KEY AGENTS:
 * - The Ancient Observer: Relied on "guest stars" and chance sightings as harbingers of change.
 * - The Automated Survey (e.g., ZTF, Pan-STARRS): A coordinated machine searching in time rather than space.
 * - The Transient Event (Supernovae): Fleeting flashes of light representing the "action" of the universe.
 * * NARRATIVE ARC:
 * What was once a "happy accident" governed by chance (Mountain) has been industrialized into a 
 * functional coordination mechanism (Rope) that extracts data from cosmic "transients".
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(transient_event_detection, 0, 10).
narrative_ontology:constraint_claim([transient_event_detection], [information_extraction]).

% Base extractiveness score (0.45 = Moderate)
% Rationale: The system extracts massive volumes of data (e.g., 1.6 petabytes from Pan-STARRS) 
% to identify patterns in cosmic action.
domain_priors:base_extractiveness(transient_event_detection, 0.45).

% Suppression score (0.5 = Moderate)
% Rationale: The "conveyor belt" automation suppresses the role of "chance" and 
% serendipity in favor of industrial-scale surveillance.
domain_priors:suppression_score(transient_event_detection, 0.5).

% Enforcement requirements: Requires active enforcement (Coordinated telescopes and automated systems).
domain_priors:requires_active_enforcement(transient_event_detection).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(transient_event_detection, extractiveness, 0.45).
narrative_ontology:constraint_metric(transient_event_detection, suppression_requirement, 0.50).

% BENEFICIARIES & VICTIMS
% Modern astronomers benefit from the "automated serendipity" and petabyte-scale data.
constraint_beneficiary(transient_event_detection, modern_astronomers).
% Traditional "chance" methods are victims of the shift toward "search in time" conveyor belts.
constraint_victim(transient_event_detection, traditional_methodologists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ANCIENT CHINESE ASTRONOMER - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (Relied on chance and "guest stars")
   WHEN: historical (1000 years ago)
   WHERE: trapped (No conceptual exit; events were "happy accidents")
   SCOPE: national (Believed events were harbingers of change)
   
   WHY THIS CLASSIFICATION:
   To the ancient observer, cosmic transients were immutable "guest stars"—external 
   laws of fate that appeared without human agency or coordination.
   
   NARRATIVE EVIDENCE:
   "Back then, Chinese astronomers called these 'guest stars' and believed them 
   to be harbingers of great change".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    transient_event_detection,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(historical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(transient_event_detection, S),
    S > 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MODERN ASTRONOMER (e.g., Hessels) - Rope
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer coordinating telescopes as one machine)
   WHEN: biographical (The turn of this century and the 2020s)
   WHERE: arbitrage (Can switch between telescopes for further investigation)
   SCOPE: global (Surveys in California, Hawaii, and the Netherlands)
   
   WHY THIS CLASSIFICATION:
   For the modern scientist, transient detection is a Rope—a functional, well-oiled 
   machine used to explore "poorly explored" ranges of time scales.
   
   NARRATIVE EVIDENCE:
   "Astronomers have now automated the process of serendipity... coordinating 
   telescopes as one well-oiled machine".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    transient_event_detection,
    rope,
    context(
        agent_power(analytical),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(transient_event_detection, E),
    E < 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE AUTOMATED SURVEY SYSTEM - Noose
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-making power over data collection)
   WHEN: immediate (Capturing flashes from nanoseconds to lifetimes)
   WHERE: constrained (Must follow the "conveyor belt" automation protocol)
   SCOPE: global (Pan-STARRS collecting the largest volume of data)
   
   WHY THIS CLASSIFICATION:
   The system acts as a Noose for information. It extracts petabytes of data from 
   every intermittent event, forcing a high-volume "action" focus that leaves 
   little room for the "chance" exploration of space.
   
   NARRATIVE EVIDENCE:
   "It was really set up like a conveyor belt... Pan-STARRS survey, which has 
   collected the largest volume of astronomical data of all time".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    transient_event_detection,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(transient_event_detection, E),
    E > 0.4,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(transient_event_detection_tests).

test(multi_perspective_variance) :-
    % Ancient (Mountain) vs Modern (Rope) vs System (Noose)
    constraint_indexing:constraint_classification(transient_event_detection, mountain, context(individual_powerless, historical, trapped, national)),
    constraint_indexing:constraint_classification(transient_event_detection, rope, context(analytical, biographical, arbitrage, global)),
    constraint_indexing:constraint_classification(transient_event_detection, noose, context(institutional, immediate, constrained, global)).

test(information_extractiveness_scaling) :-
    % Modern institutional systems experience the extraction of 1.6 petabytes
    % compared to the analytical observer's informational tool.
    Score1 = 0.45,
    Score2 = 0.1,
    Score1 > Score2.

:- end_tests(transient_event_detection_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.45):
 * Reasoning: Chosen because the "conveyor belt" system extracts petabytes 
 * of data from transient events.
 * * 2. PERSPECTIVE SELECTION:
 * Analyzed from the ancient observer (Mountain), the modern scientist (Rope), 
 * and the automated system itself (Noose) to demonstrate the transition from 
 * fate to industrialized tool.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    transient_event_detection_extraction_intent,
    "Is the petabyte-scale extraction of data a functional necessity for understanding the universe (Rope) or a predatory focus on speed over depth (Noose)?",
    resolution_mechanism("Audit of scientific breakthrough quality vs. pure data volume from surveys like Pan-STARRS"),
    impact("If necessity: Mountain. If predatory choice: Noose."),
    confidence_without_resolution(medium)
).

omega_variable(
    automated_serendipity_validity,
    "Can 'serendipity' truly be automated, or does the conveyor belt model create a 'living within a lie' where true anomalies are filtered out?",
    resolution_mechanism("Compare discovery rates of predicted vs. unpredicted transient events in automated systems"),
    impact("If automated: Rope. If filtered: Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Slow-Mapping Astronomy
 * Viability: Traditional long-term spatial mapping of stable stars.
 * Suppression: Being "transformed" and replaced by time-domain surveys.
 * Evidence: "Many more telescopes whose purpose is to search in time, rather than space, have followed".
 * * CONCLUSION:
 * The move from "Chance" to "Conveyor Belt" represents the core technological 
 * arbitrage of 21st-century astronomy.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/transient_event_detection].
 * 2. Multi-perspective: ?- multi_index_report(transient_event_detection).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: traveling_salesperson_problem
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Combinatorial Optimization / Complexity Theory / Operations Research
% ============================================================================

:- module(constraint_tsp, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: traveling_salesperson_problem
 * human_readable: Traveling Salesperson Problem (TSP)
 * domain: economic/technological/mathematical
 * temporal_scope: Immediate to Historical
 * spatial_scope: Regional to Global
 * * SUMMARY:
 * TSP is an optimization problem: given a list of cities and the distances 
 * between each pair, what is the shortest possible route that visits each 
 * city exactly once and returns to the origin city? It is NP-hard.
 * * KEY AGENTS:
 * - The Courier: The agent facing the physical exhaustion of the route.
 * - The Logistics Algorithm: The "Institutional" force attempting to solve 
 * the path to minimize fuel/time costs.
 * - The Market: The force that extracts profit based on the efficiency 
 * (or failure) of the solution.
 * * NARRATIVE ARC:
 * TSP is the "Efficiency Ceiling." For a small set of nodes, it is a 
 * navigable Rope. However, as the network expands, the search space 
 * explodes, creating a computational Noose that drains resources. It 
 * eventually settles as a Mountain of irreducible cost—the "minimum price" 
 * nature demands for connectivity.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(traveling_salesperson_problem, 0, 10).
narrative_ontology:constraint_claim(traveling_salesperson_problem, mountain).

% Base extractiveness score (0.4)
% High because every suboptimal mile "extracts" real-world energy (fuel, labor) 
% that cannot be recovered.
domain_priors:base_extractiveness(traveling_salesperson_problem, 0.4).

% Suppression score (0.2)
% The "costs" of the edges (distances/prices) are usually visible, 
% making the constraint highly transparent but unavoidable.
domain_priors:suppression_score(traveling_salesperson_problem, 0.2).

% Enforcement: Emerges naturally from physical distance and finite time.
domain_priors:emerges_naturally(traveling_salesperson_problem).

% Metrics
narrative_ontology:constraint_metric(traveling_salesperson_problem, extractiveness, 0.4).
narrative_ontology:constraint_metric(traveling_salesperson_problem, suppression_requirement, 0.2).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(traveling_salesperson_problem, efficient_monopolies).
constraint_victim(traveling_salesperson_problem, small_scale_logistics).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DELIVERY DRIVER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless
   WHEN: immediate
   WHERE: trapped (must follow the optimized route to meet performance KPIs)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a driver, TSP is a "Noose." The algorithm's search for the absolute 
   minimum path often ignores human factors (fatigue, traffic, bathroom breaks). 
   The mathematical "optimum" becomes a punitive standard they are 
   strangled by during their shift.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    traveling_salesperson_problem,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(traveling_salesperson_problem, E),
    E > 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE NETWORK ENGINEER - Rope
   --------------------------------------------------------------------------
   WHO: institutional/individual_moderate
   WHEN: biographical
   WHERE: mobile
   SCOPE: regional
   
   WHY THIS CLASSIFICATION:
   To the engineer, TSP is a "Rope." It is a tool to coordinate resources. 
   By using heuristics (like the "Nearest Neighbor" or "Ant Colony" 
   optimization), they can navigate the complexity to create a functional, 
   profitable system.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    traveling_salesperson_problem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    true.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PHYSICIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The physicist sees TSP as a "Mountain" of entropy and energy. 
   The minimum energy state required to traverse a network is a 
   fundamental physical reality. It is a boundary of the universe that 
   dictates the limits of all physical transport.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    traveling_salesperson_problem,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(traveling_salesperson_problem),
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(tsp_tests).

test(algorithmic_pressure) :-
    % Testing that trapped agents feel the Noose of optimization.
    constraint_indexing:constraint_classification(traveling_salesperson_problem, noose, context(_, _, trapped, _)).

test(heuristic_utility) :-
    % Testing that institutional agents use TSP as a Rope for coordination.
    constraint_indexing:constraint_classification(traveling_salesperson_problem, rope, context(institutional, _, _, _)).

:- end_tests(tsp_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * TSP is the "Economic version" of the Hamiltonian Path. I increased 
 * extractiveness to 0.4 because in the real world, a bad TSP solution 
 * wastes real money and fuel. It's not just a puzzle; it's a drain.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    quantum_optimization_breakthrough,
    "Will quantum annealing (e.g., D-Wave) provide near-instant optimal TSP solutions?",
    resolution_mechanism("Benchmarking quantum annealers against classical heuristics on $N>1000$ nodes"),
    impact("If Yes: The Noose for logistics firms vanishes. The Mountain is bypassed by a 'Tunnel'."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: trojan_war_spoils
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: The Trojan Women of Euripides (Gilbert Murray translation)
% ============================================================================

:- module(constraint_trojan_war_spoils, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: trojan_war_spoils
 * human_readable: The Allocation of the Captive
 * domain: military/social/existential
 * temporal_scope: Mythic Antiquity (Post-Fall of Troy)
 * spatial_scope: Regional (Troy/Run-down Citadel)
 * * SUMMARY:
 * The total defeat of Troy transforms its survivors into "spoils of war." 
 * The constraint is the Greek lottery and subsequent "Master-Slave" 
 * relationship that dictates the survivors' destination, labor, and life-span.
 * * KEY AGENTS:
 * - Hecuba: Former Queen, now a "slave of Odysseus," representing total loss of agency.
 * - Talthybius: The Greek Herald, an agent of the institution who manages the constraint.
 * - The Greek Masters (Odysseus, Neoptolemus): The rule-making power.
 * - Astyanax: The child-victim, whose existence is suppressed by the "Greeks' law."
 * * NARRATIVE ARC:
 * The play opens after the city's destruction. The survivors await the "lottery." 
 * The constraint is revealed through a series of "choices" made by the Greeks 
 * (Cassandra to Agamemnon, Andromache to Neoptolemus) that are experienced 
 * by the women as immutable fate and by the Greeks as administrative logistics.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(trojan_collapse_interval, 0, 10).
narrative_ontology:constraint_claim(trojan_war_spoils, noose).

% Base extractiveness score: 1.0
% Rationale: Total extraction. The city is burned, the men killed, the wealth 
% looted, and the women/children converted into human property.
domain_priors:base_extractiveness(trojan_war_spoils, 1.0).

% Suppression score: 1.0
% Rationale: Any alternative (survival of the Trojan line) is physically 
% suppressed, culminating in the throwing of Astyanax from the walls.
domain_priors:suppression_score(trojan_war_spoils, 1.0).

% Enforcement requirements: Active enforcement through the Greek fleet and "The Heralds."
domain_priors:requires_active_enforcement(trojan_war_spoils).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(trojan_war_spoils, extractiveness, 1.0).
narrative_ontology:constraint_metric(trojan_war_spoils, suppression_requirement, 1.0).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(trojan_war_spoils, [greek_army, agamemnon, odysseus]).
constraint_victim(trojan_war_spoils, [hecuba, andromache, cassandra, astyanax]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: HECUBA / THE WOMEN - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - "A slave of a slave".
   WHEN: immediate - The "dashing of the surge" of current misery.
   WHERE: trapped - The "Greekish tents" and the "dead city."
   SCOPE: regional - The limited horizon of the Aegean world.
   
   WHY THIS CLASSIFICATION:
   For the women, the fall of Troy and their enslavement is a "Mountain." 
   It is a law of nature/gods that has crushed their world. They have 
   zero degrees of freedom; even their prayers "are wind".
   
   NARRATIVE EVIDENCE:
   "What else is there? They have cast the lot... the lot that determines 
   where each must go".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trojan_war_spoils,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(trojan_war_spoils, greek_army),
        constraint_victim(trojan_war_spoils, hecuba),
        spatial_scope(regional)
    )
) :-
    domain_priors:suppression_score(trojan_war_spoils, S),
    S > 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE GREEK HIGH COMMAND - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - The "Kings" who cast the lots.
   WHEN: historical - Thinking of the return to Greece and future security.
   WHERE: mobile - Moving their "prizes" onto the ships.
   SCOPE: global - Across the "Hellenic sea."
   
   WHY THIS CLASSIFICATION:
   For the Greek leadership, the "spoils system" is a "Rope"—a functional 
   coordination mechanism used to divide the loot fairly among the kings 
   to prevent civil strife in the army.
   
   NARRATIVE EVIDENCE:
   "Selected for the Kings... The lords of the host have divided them".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trojan_war_spoils,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        constraint_beneficiary(trojan_war_spoils, agamemnon),
        constraint_victim(trojan_war_spoils, []),
        spatial_scope(global)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: TALTHYBIUS - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - A messenger who feels "unclean" in his duty.
   WHEN: immediate - The moment he must take Astyanax.
   WHERE: constrained - He is "bound" by the order of Odysseus.
   SCOPE: local - Within the walls of Troy.
   
   WHY THIS CLASSIFICATION:
   For Talthybius, the constraint is a "Noose." He recognizes it as a 
   coercive and "bitter" mechanism that extracts the life of an innocent 
   child. He has limited agency—he cannot stop it, but he can feel its weight.
   
   NARRATIVE EVIDENCE:
   "I am not fit to carry out such a word... There should be some other man, 
   less pitiless".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trojan_war_spoils,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        constraint_beneficiary(trojan_war_spoils, greek_army),
        constraint_victim(trojan_war_spoils, astyanax),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(trojan_war_spoils, E),
    E > 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(trojan_war_spoils_tests).

test(total_extraction_check) :-
    % Verify that the system registers maximum extraction (Enslavement)
    domain_priors:base_extractiveness(trojan_war_spoils, 1.0).

test(heralds_gap) :-
    % Talthybius (Moderate) should see a Noose (coercion), 
    % while Hecuba (Powerless) sees a Mountain (fate).
    constraint_indexing:constraint_classification(trojan_war_spoils, mountain, context(agent_power(individual_powerless), _, _, _, _, _)),
    constraint_indexing:constraint_classification(trojan_war_spoils, noose, context(agent_power(individual_moderate), _, _, _, _, _)).

test(suppression_of_alternative) :-
    % Verify that the alternative (Trojan restoration) has zero survival chance.
    domain_priors:suppression_score(trojan_war_spoils, 1.0).

:- end_tests(trojan_war_spoils_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (1.0): This is the upper bound of the system. 
 * Slavery and the infanticide of the heir (Astyanax) represent the 
 * complete removal of an agent's future value for the benefit of the 
 * institution.
 * 2. PERSPECTIVAL GAP: The Herald (Talthybius) is the most interesting 
 * data point. He is the "operator" of the Noose. His discomfort shows 
 * that the constraint is not a Rope (coordination) for him, but a 
 * psychological Noose that forces him into "pitiless" action.
 * 3. MOUNTAIN LOGIC: Hecuba's transition from Queen (Institutional) to 
 * Slave (Powerless) represents a collapse from a rule-maker to a 
 * rule-receiver, turning her social "Rope" into a physical "Mountain."
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    divine_intent,
    "Is the Trojan defeat a literal Mountain of divine will (Poseidon/Athena) or a geopolitical Noose constructed by Greek strategy?",
    resolution_mechanism("Textual ambiguity in the Prologue between Poseidon's lament and the Greek outcome."),
    impact("If Divine: The play is about man vs. nature. If Geopolitical: The play is about the ethics of power."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * * ALTERNATIVE 1: Diplomatic Surrender / Ransom
 * Viability: Historically common in Greek warfare.
 * Suppression: Rejected by Odysseus and the "Council."
 * Evidence: Odysseus' specific argument for the death of Astyanax to 
 * prevent a future war.
 * * CONCLUSION:
 * The active suppression of Alternative 1 (Ransom) confirms the Greeks 
 * are operating an extractive "Noose" rather than a functional "Rope."
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: trump_making_china_great_2026
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Policy Brief - How Trump is Making China Great Again (ECFR, Jan 2026)
% ============================================================================

:- module(trump_making_china_great_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    constraint_indexing:extractiveness_for_agent/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: trump_making_china_great_2026
 * human_readable: The Trumpian Post-Western Order
 * domain: political/economic/geopolitical
 * temporal_scope: 2025-2030 (Immediate to Biographical)
 * spatial_scope: Global (Multipolar focus)
 * * SUMMARY:
 * The return of Donald Trump has accelerated a shift from a US-led liberal 
 * international order to a multipolar "post-Western" world. This transition 
 * acts as a constraint on European security and US global affinity while 
 * expanding the agency of "middle powers" and China.
 * * KEY AGENTS:
 * - [cite_start]The Trump Administration: The "Normal Great Power" agent, transactional and predatory[cite: 650].
 * - [cite_start]European Public/Leaders: The "Axis of Pessimists," feeling trapped by Russian aggression and US unreliability[cite: 14, 865].
 * - [cite_start]Middle Powers (India/Brazil/South Africa): The "Pole-Hoppers," viewing multipolarity as an opportunity for strategic arbitrage[cite: 709, 710].
 * - [cite_start]China: The "Rising Pole," increasingly viewed as a necessary partner or ally[cite: 8, 40].
 * * NARRATIVE ARC:
 * The US moves from being a "Liberal Leviathan" (Rope for allies) to a transactional 
 * great power (Noose for allies, Rope for middle powers). This forces a 
 * [cite_start]"geopolitical awakening" in Europe as the Pax Americana ends[cite: 1360].
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(post_trump_return, 2025, 2026).
narrative_ontology:constraint_claim(trump_making_china_great_2026, noose).

% Base extractiveness: 0.65
% Rationale: Trump's "America First" approach is explicitly transactional and 
[cite_start]% predatory[cite: 20, 23]. [cite_start]Tariffs and "seizure of Greenland" threats imply high extraction[cite: 756, 1352].
domain_priors:base_extractiveness(trump_making_china_great_2026, 0.65).

% Suppression: 0.40
% Rationale: Alternatives (liberal order) are visible but being dismantled. 
[cite_start]% Transactionalism is the new "normal"[cite: 650].
domain_priors:suppression_score(trump_making_china_great_2026, 0.40).

% Enforcement: Requires active maintenance (tariffs, summits, intervention in Venezuela)
domain_priors:requires_active_enforcement(trump_making_china_great_2026).

% Metrics for Executive Summary
narrative_ontology:constraint_metric(trump_making_china_great_2026, extractiveness, 0.65).
narrative_ontology:constraint_metric(trump_making_china_great_2026, suppression_requirement, 0.40).

% Beneficiaries & Victims
constraint_beneficiary(trump_making_china_great_2026, china).
constraint_beneficiary(trump_making_china_great_2026, multipolar_middle_powers).
constraint_victim(trump_making_china_great_2026, european_union).
constraint_victim(trump_making_china_great_2026, liberal_internationalists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EUROPEAN CITIZEN - Noose
   --------------------------------------------------------------------------
   [cite_start]WHO: individual_powerless - Feeling vulnerable to external superpowers[cite: 14].
   [cite_start]WHEN: immediate - Focused on current threats (Russia, nuclear war)[cite: 1291].
   [cite_start]WHERE: trapped - US no longer a reliable ally, but Europe lacks its own deterrent[cite: 27, 1244].
   [cite_start]SCOPE: continental - Concerned with European war and security[cite: 1291].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trump_making_china_great_2026,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(continental)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE INDIAN/BRAZILIAN DIPLOMAT - Rope
   --------------------------------------------------------------------------
   [cite_start]WHO: institutional - Middle-power state agency[cite: 709].
   [cite_start]WHEN: biographical - Planning development over the next decade[cite: 8].
   [cite_start]WHERE: arbitrage - Ability to play US and China against each other[cite: 710, 713].
   [cite_start]SCOPE: global - Moving between poles as they wish[cite: 710].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trump_making_china_great_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER (ECFR) - Mountain
   --------------------------------------------------------------------------
   [cite_start]WHO: analytical - Researchers documenting a structural shift[cite: 6].
   [cite_start]WHEN: historical - Comparing current era to the post-1945 order[cite: 650].
   WHERE: analytical - Observing from outside the immediate policy desperation.
   [cite_start]SCOPE: global - Surveying 21 countries[cite: 28].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trump_making_china_great_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(trump_china_great_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(trump_making_china_great_2026, Type1, context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(continental))),
    constraint_indexing:constraint_classification(trump_making_china_great_2026, Type2, context(agent_power(institutional), time_horizon(biographical), exit_options(arbitrage), spatial_scope(global))),
    Type1 = noose,
    Type2 = rope.

test(geopolitical_arbitrage_efficiency) :-
    % Middle powers see less extraction because they have exit options (arbitrage)
    ContextEurope = context(individual_powerless, immediate, trapped, continental),
    ContextIndia = context(institutional, biographical, arbitrage, global),
    constraint_indexing:extractiveness_for_agent(trump_making_china_great_2026, ContextEurope, Score1),
    constraint_indexing:extractiveness_for_agent(trump_making_china_great_2026, ContextIndia, Score2),
    Score1 > Score2.

test(us_unreliability_effect) :-
    % Europeans view US unreliability as a hard constraint (Noose/Mountain)
    constraint_indexing:constraint_classification(trump_making_china_great_2026, noose, context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(continental))).

:- end_tests(trump_china_great_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.65):
 * [cite_start]The document paints a picture of a "predatory" US [cite: 23] and "asymmetric" 
 * [cite_start]threats (Greenland)[cite: 1352]. However, it isn't 1.0 because middle powers 
 * [cite_start]can still extract benefits by trading poles[cite: 710].
 * * 2. SUPPRESSION SCORE (0.40):
 * [cite_start]The liberal order isn't invisible—it's just being "disavowed"[cite: 21]. 
 * The shift is visible and being actively analyzed by think tanks like ECFR.
 * * 3. PERSPECTIVE SELECTION:
 * - European Citizen: Represents the "victim" of the shift (Noose).
 * - Middle-Power Diplomat: Represents the "beneficiary" of multipolarity (Rope).
 * - ECFR Researcher: Represents the "analytical" view of the Mountain.
 * * 4. AMBIGUITIES:
 * - [cite_start]The document suggests "expectations of Trump are lower than 12 months ago" [cite: 10] 
 * [cite_start]but also that substantial numbers believe he successfully "defended America's interests"[cite: 649].
 * I resolved this by noting the "Normal Great Power" transition—it's a Noose for allies 
 * but a successful Rope for the US electorate.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    european_nuclear_deterrent,
    "Will Europe successfully develop an alternative nuclear deterrent independent of the US?",
    resolution_mechanism("Track PESCO/EU-defense spending and French/UK nuclear policy shifts through 2030."),
    impact("If Yes: Europe becomes a 'Pole' (Rope). If No: Europe remains 'trapped' in the US Noose."),
    confidence_without_resolution(medium)
).

omega_variable(
    venezuela_intervention_effect,
    "Does the Venezuela intervention solidify a 'Spheres of Influence' model as the global standard?",
    resolution_mechanism("Monitor Chinese/Russian naval and military deployments in their respective 'near abroad' over the next 2 years."),
    impact("If Yes: Multipolarity becomes a 'Mountain' (hard law). If No: It remains a transactional 'Rope'."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Transatlantic Liberal Order (Biden-era)
 * [cite_start]Viability: The status quo until 2024.[cite: 1036, 1037].
 * [cite_start]Suppression: Actively disavowed by Trump's "America First"[cite: 20, 21].
 * [cite_start]Evidence: "Donald Trump did not go into politics to make China great again... his aggressive 'America First' approach was driving people closer to China."[cite: 17, 20].
 * * CONCLUSION:
 * The fact that a once-stable "Rope" (NATO/Liberal Order) has been transformed 
 * into a "Noose" or discarded entirely by the current US administration is 
 * what characterizes the 2026 geopolitical environment.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% TO USE:
% ?- [trump_making_china_great_2026].
% ?- run_tests(trump_china_great_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: trump_second_term_authoritarianism_2026
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Opinion Column by M. Gessen, NYT, Jan 18, 2026
% ============================================================================

:- module(trump_authoritarianism_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: trump_authoritarianism_2026
 * human_readable: Electoral Authoritarianism (Trump II)
 * domain: political/legal/social
 * temporal_scope: 2025-2026 (Active/Emergent)
 * spatial_scope: National (United States)
 * * SUMMARY:
 * A year into Donald Trump’s second term, the U.S. is described as transitioning 
 * into "electoral authoritarianism." The constraint operates through the 
 * normalization of paramilitary force (ICE/Alligator Alcatraz), the summary 
 * execution of protesters (Renee Good), and the dismantling of democratic 
 * infrastructure (elections, media, universities).
 * * KEY AGENTS:
 * - The Administration (Trump/Vance): Institutional rule-makers using paramilitary forces and regulatory pressure.
 * - The Citizen/Protester (Renee Good/Gessen): Individuals whose "mental calculus" is altered by fear and state violence.
 * - Civil Society (Lawyers/Universities/Media): Decreasingly effective buffers against institutional overreach.
 * * NARRATIVE ARC:
 * The "walls are closing in." Freedom, once a "Rope" for societal coordination, 
 * is being replaced by a "Noose" of coercive surveillance and violence. 
 * What was once "Mountain-like" (the durability of democracy) is revealed 
 * as a "Scaffold" being rapidly dismantled.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(trump_ii_year_one, 2025, 2026).
narrative_ontology:constraint_claim(trump_authoritarianism_2026, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: High extraction of safety and civil liberties; "bribes" ($2,000 checks) 
% used to maintain compliance while seizing absolute power.
domain_priors:base_extractiveness(trump_authoritarianism_2026, 0.85).

% Suppression score (0.0-1.0)
% Rationale: Extreme suppression of protest (execution) and media independence 
% (lawsuits/Pentagon exclusion). Alternatives are being made "impossible."
domain_priors:suppression_score(trump_authoritarianism_2026, 0.90).

% Enforcement requirements
% Requires active maintenance via paramilitary deployment and judicial appointments.
domain_priors:requires_active_enforcement(trump_authoritarianism_2026).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(trump_authoritarianism_2026, extractiveness, 0.85).
narrative_ontology:constraint_metric(trump_authoritarianism_2026, suppression_requirement, 0.90).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(trump_authoritarianism_2026, trump_administration).
constraint_beneficiary(trump_authoritarianism_2026, loyalist_media_influencers).
constraint_victim(trump_authoritarianism_2026, political_protesters).
constraint_victim(trump_authoritarianism_2026, independent_media).
constraint_victim(trump_authoritarianism_2026, university_researchers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PROTESTER (Renee Good/Mental Calculus) - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to "summary execution" and state violence.
   WHEN: immediate - Every protest involves a "mental calculus" of survival.
   WHERE: trapped - Paramilitary forces hunt people in "apartments, city streets."
   SCOPE: local - Immediate physical safety in cities like Minneapolis.
   
   WHY THIS CLASSIFICATION:
   For the protester, the state is no longer a neutral arbiter but a coercive 
   Noose. The penalty for dissent has shifted from legal to lethal.
   
   NARRATIVE EVIDENCE:
   "The execution of Renee Good has surely affected every potential protester’s 
   [cite_start]mental calculus." [cite: 1]
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trump_authoritarianism_2026,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE INSTITUTIONAL LOYALIST (Loyal Media/Influencers) - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Gains access by conforming to new rules.
   WHEN: biographical - Seeking career advancement in a "Trump-friendly" era.
   WHERE: mobile - Legacy media "kicked out," but loyalists are "replacing them."
   SCOPE: national - Shaping the national discourse.
   
   WHY THIS CLASSIFICATION:
   For those who align with the administration, the new order is a beneficial 
   coordination mechanism (Rope) that provides "reapportioned access" and 
   influence.
   
   NARRATIVE EVIDENCE:
   "replacing them with loyal journalists and influencers... CBS is rapidly 
   [cite_start]transforming itself into a Trump-friendly network." [cite: 1]
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    trump_authoritarianism_2026,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER (M. Gessen) - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Comparing current events to autocratic patterns (Russia/Hungary).
   WHEN: historical - Viewing 2026 as a pivotal shift in the American story.
   WHERE: constrained - Living in a country where "normalizing" is the default.
   SCOPE: global - Placing the U.S. in the context of global autocracies.
   
   WHY THIS CLASSIFICATION:
   From an analytical perspective, the transition to "electoral authoritarianism" 
   appears as an inevitable structural closure (Mountain). The "space is 
   imploding" and the "walls are closing in."
   
   NARRATIVE EVIDENCE:
   "Ask anyone who has lived in a country that became an autocracy... some version 
   [cite_start]of a story about walls closing in on them." [cite: 1]
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    trump_authoritarianism_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(trump_authoritarianism_2026_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(trump_authoritarianism_2026, Type1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(trump_authoritarianism_2026, Type2, context(individual_moderate, biographical, mobile, national)),
    constraint_indexing:constraint_classification(trump_authoritarianism_2026, Type3, context(analytical, historical, constrained, global)),
    Type1 = noose,
    Type2 = rope,
    Type3 = mountain.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(trump_authoritarianism_2026, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(trump_authoritarianism_2026, ContextPowerful, Score2),
    Score1 > Score2.

:- end_tests(trump_authoritarianism_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.85):
 * The source highlights systematic extraction of liberty ("concentration 
 * camps," "disappeared") and truth ("proudly ignorant," "assaulting museums").
 * The "bribe" of $2,000 checks confirms the extractive nature—buying 
 * [cite_start]compliance with the subject's own future resources. [cite: 1]
 * * 2. SUPPRESSION SCORE (0.90):
 * Suppression is explicit: lethal force against protesters, frivolous 
 * lawsuits against media, and "reapportioning access" to exclude legacy 
 * outlets. [cite_start]Alternatives are effectively "imploding." [cite: 1]
 * * 3. OMEGAS:
 * There is irreducible uncertainty regarding the 2026 midterms and the 
 * willingness of Trump to "cancel the vote."
 */

omega_variable(
    midterm_2026_integrity,
    "How free and fair will the 2026 elections be under systematically restrictive executive actions?",
    resolution_mechanism("Monitor the ratio of purged voters to actual turnout and the prevalence of military deployment on election day."),
    impact("If Mountain: The transition to electoral authoritarianism is complete. If Rope: Resistance is still viable."),
    confidence_without_resolution(low)
).

omega_variable(
    lethal_deterrence_threshold,
    "Will the 'lethal mental calculus' of the Renee Good execution permanently suppress mass protest?",
    resolution_mechanism("Compare mass protest turnout levels post-Jan 7 vs previous high-water marks (e.g., 2020)."),
    impact("If Noose: Public space is effectively dead. If Rope: Movement adapts to paramilitary conditions."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Robust Civil Society Resistance
 * [cite_start]Viability: Lawyers and citizens are still organizing ("The lawyers have fought..."). [cite: 1]
 * [cite_start]Suppression: "Assault on the judiciary" and "threats against nonprofits" have already altered their function. [cite: 1]
 * * ALTERNATIVE 2: Free and Fair Elections
 * Viability: The primary democratic mechanism for change.
 * [cite_start]Suppression: Trump is "laying the groundwork" for systematic intimidation and cancelling the vote. [cite: 1]
 * * CONCLUSION:
 * The active suppression of these alternatives shifts the American order from 
 * a coordination Rope to a coercive Noose.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [trump_authoritarianism_2026].
% Report: ?- constraint_indexing:multi_index_report(trump_authoritarianism_2026).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(trumps_second_term_authoritarianism_2026, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(trumps_second_term_authoritarianism_2026, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(trumps_second_term_authoritarianism_2026, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: udhr_1948
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Universal Declaration of Human Rights (1948)
% ============================================================================

:- module(constraint_udhr_1948, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    constraint_indexing:extractiveness_for_agent/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: udhr_1948
 * human_readable: Universal Declaration of Human Rights
 * domain: political/legal/social
 * temporal_scope: 1948 - Present (Civilizational aspiration)
 * spatial_scope: Global
 * * SUMMARY:
 * The UDHR is a foundational international document establishing "inalienable" 
 * rights for all humans. It serves as a "common standard of achievement" to 
 * prevent "barbarous acts" and provide a framework for freedom, justice, and peace.
 * * KEY AGENTS:
 * - The UN General Assembly: Institutional architect and rule-maker.
 * - The Individual Citizen: The intended beneficiary, often powerless relative to states.
 * - The Sovereign State: The primary enforcer and potential violator of the constraint.
 * * NARRATIVE ARC:
 * Born from the horrors of WWII, the UDHR moves from a proclamation of "natural law"
 * (Mountain) to a functional treaty framework (Rope), though it is often experienced
 * as a coercive limit (Noose) by states or a distant, unreachble ideal (Mountain)
 * by the oppressed.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(un_era, 1948, 2026).
narrative_ontology:constraint_claim(udhr_1948, rope).

% Base extractiveness: 0.1
% Rationale: The UDHR is designed to be anti-extractive, returning agency to 
% individuals. However, minimal "extraction" exists in the form of states 
% yielding absolute sovereignty to the international order.
domain_priors:base_extractiveness(udhr_1948, 0.1).

% Suppression score: 0.2
% Rationale: It suppresses "tyranny and oppression" but encourages the visibility 
% of alternatives to authoritarianism. It presents itself as "natural."
domain_priors:suppression_score(udhr_1948, 0.2).

% Enforcement: Requires active maintenance through treaties and international pressure.
domain_priors:requires_active_enforcement(udhr_1948).

% Beneficiaries & Victims
constraint_beneficiary(udhr_1948, human_family).
constraint_beneficiary(udhr_1948, individual_citizens).
constraint_victim(udhr_1948, totalitarians).
constraint_victim(udhr_1948, absolute_monarchs).

% Metrics
narrative_ontology:constraint_metric(udhr_1948, extractiveness, 0.1).
narrative_ontology:constraint_metric(udhr_1948, suppression_requirement, 0.2).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DISPOSSESSED REFUGEE - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - No state protection, relying on "inherent" rights.
   WHEN: biographical - Their immediate survival depends on these "eternal" truths.
   WHERE: trapped - Often physically or legally unable to exit their situation.
   SCOPE: local/global - Focused on immediate safety via global principles.
   
   WHY THIS CLASSIFICATION:
   For the powerless, the UDHR is framed as "natural law" (born free and equal). 
   Because they cannot change the declaration and rely on its "inalienable" 
   status to survive, it functions as an unchangeable Mountain of reality.
   
   NARRATIVE EVIDENCE:
   "All human beings are born free and equal... endowed with reason and conscience." (Article 1)
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    udhr_1948,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE UN GENERAL ASSEMBLY - Rope
   --------------------------------------------------------------------------
   WHO: institutional - The collective power of member states.
   WHEN: civilizational - Looking at the long-term progress of humanity.
   WHERE: mobile - States can negotiate, draft, and amend treaties.
   SCOPE: global - Worldwide jurisdiction of the declaration.
   
   WHY THIS CLASSIFICATION:
   To the UN, the UDHR is a "common standard of achievement" (Article 1). It is 
   a coordination mechanism (Rope) designed to promote "social progress" and 
   "friendly relations between nations." It is a tool for functional harmony.
   
   NARRATIVE EVIDENCE:
   "A common understanding... is of the greatest importance for the full realization of this pledge." (Preamble)
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    udhr_1948,
    rope,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE AUTHORITARIAN REGIME - Noose
   --------------------------------------------------------------------------
   WHO: institutional (local) - Power over a specific territory.
   WHEN: immediate - Focused on maintaining current control.
   WHERE: constrained - Subject to international sanctions/pressure if they fail.
   SCOPE: national - Their power is limited by these international standards.
   
   WHY THIS CLASSIFICATION:
   For a regime seeking absolute control, the UDHR is an asymmetric constraint 
   imposed by an external collective (UN). It restricts their "sovereign right" 
   to suppress dissent, acting as a Noose that tightens via international law.
   
   NARRATIVE EVIDENCE:
   "No one shall be subjected to arbitrary arrest... Everyone has the right to leave any country." (Articles 9, 13)
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    udhr_1948,
    noose,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(udhr_1948, E),
    E < 0.2. % Even low extraction is seen as coercive by those losing power.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(udhr_1948_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(udhr_1948, Type1, context(agent_power(individual_powerless), time_horizon(biographical), exit_options(trapped), spatial_scope(global))),
    constraint_indexing:constraint_classification(udhr_1948, Type2, context(agent_power(institutional), time_horizon(civil_horizon), exit_options(mobile), spatial_scope(global))),
    Type1 = mountain,
    Type2 = rope.

test(regime_noose_perception) :-
    constraint_indexing:constraint_classification(udhr_1948, noose, context(agent_power(institutional), time_horizon(immediate), exit_options(constrained), spatial_scope(national))).

test(low_extractiveness_baseline) :-
    domain_priors:base_extractiveness(udhr_1948, E),
    E < 0.3.

:- end_tests(udhr_1948_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.1): The UDHR is a "gift" of rights, but it extracts 
 * sovereignty from states.
 * 2. PERSPECTIVE SELECTION: Included the 'Dispossessed Refugee' (Powerless) 
 * to highlight the 'Mountain' aspect of natural law vs. the 'UN' (Institutional) 
 * 'Rope' of administrative coordination.
 * 3. CLASSIFICATION RATIONALE:
 * - Refugee -> Mountain: Because rights are declared "inalienable," they are
 * treated as fixed features of the universe.
 * - UN -> Rope: Because the document is a "standard of achievement" (a goal/tool).
 * - Authoritarian -> Noose: Because it limits the exercise of absolute power.
 * * AMBIGUITIES:
 * - The transition from a non-binding "Declaration" to binding "Covenants" (1966)
 * blurs the line between Rope and Noose. I kept the focus on the 1948 Declaration.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    enforcement_gap,
    "Is a right a 'Mountain' if there is no mechanism to enforce it?",
    resolution_mechanism("Observe correlation between UDHR citations and actual reduction in state violence."),
    impact("If no correlation: UDHR is a 'Scaffold' (hollow). If high: it is a true 'Mountain'."),
    confidence_without_resolution(medium)
).

omega_variable(
    universal_consensus,
    "Is the UDHR truly universal (Mountain) or a western liberal construct (Rope/Noose)?",
    resolution_mechanism("Cross-cultural longitudinal survey of value alignment across non-Western states."),
    impact("If Western only: Noose for non-Western states. If Universal: Mountain for humanity."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Westphalian Sovereignty (Absolute)
 * Viability: The status quo prior to 1948.
 * Suppression: Explicitly rejected by the UDHR's preamble ("barbarous acts").
 * Evidence: "It is essential... human rights should be protected by the rule of law."
 * * ALTERNATIVE 2: Regional/Religious Rights Codes
 * Viability: Cairo Declaration on Human Rights in Islam, etc.
 * Suppression: UDHR claims "universal" and "without distinction" status.
 * * CONCLUSION:
 * The presence of these alternatives, which the UDHR seeks to supersede or 
 * coordinate, confirms its role as a Rope/Noose depending on power level.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% TO USE:
% ?- [udhr_1948].
% ?- run_tests(udhr_1948_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(udhr_1946, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(udhr_1946, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(udhr_1946, noose, agent_power(individual_powerless)).
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: dual_masters_dublin_1904
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 1 (Telemachus)
% ============================================================================

:- module(dual_masters_dublin_1904, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: dual_masters_dublin_1904
 * human_readable: The Dual Servitude (Empire and Church)
 * domain: political/religious
 * temporal_scope: June 16, 1904 (8:00 AM)
 * spatial_scope: The Martello Tower, Sandycove
 * * SUMMARY:
 * Stephen Dedalus defines his existence as a servant of two masters: the 
 * Imperial British state and the Holy Roman Catholic Church. 
 * This constraint represents the colonial and theological extraction of 
 * Irish identity.
 * * KEY AGENTS:
 * - Stephen Dedalus: Individual moderate navigating a "Noose" of inherited 
 * servitude.
 * - The Milk Woman: Individual powerless agent, a "messenger from the secret 
 * morning" who ignores her own language (Noose).
 * - Haines: Institutional representative for whom the Empire is a 
 * "Mountain" of historical necessity.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(telemachus_morning, 0, 10).
narrative_ontology:constraint_claim(dual_masters_dublin_1904, noose).

% Metrics: Extractiveness (0.8 - Extreme colonial cost) and Suppression (0.8 - High)
domain_priors:base_extractiveness(dual_masters_dublin_1904, 0.8).
domain_priors:suppression_score(dual_masters_dublin_1904, 0.8).
domain_priors:requires_active_enforcement(dual_masters_dublin_1904).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(dual_masters_dublin_1904, extractiveness, 0.8).
narrative_ontology:constraint_metric(dual_masters_dublin_1904, suppression_requirement, 0.8).

% Institutional perspective: The Empire/Church as a civilizing coordination tool.
constraint_indexing:constraint_classification(dual_masters_dublin_1904, rope, agent_power(institutional)).

% Base priors for the Institutional Master
domain_priors:base_extractiveness(dual_masters_dublin_1904, 0.4).
domain_priors:suppression_score(dual_masters_dublin_1904, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(dual_masters_dublin_1904, british_empire).
constraint_beneficiary(dual_masters_dublin_1904, catholic_church).
constraint_victim(dual_masters_dublin_1904, stephen_dedalus).
constraint_victim(dual_masters_dublin_1904, ireland_national_spirit).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: STEPHEN DEDALUS - Noose
   --------------------------------------------------------------------------
   WHY: Stephen views the dual servitude as a "Noose"—an extractive trap 
   that demands his spiritual and political loyalty while mocking his 
   artistic and personal freedom.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    dual_masters_dublin_1904,
    noose,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MILK WOMAN - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "A wandering crone... lowly form of an immortal" 
  .
   WHY: From the perspective of the powerless native, the constraint is 
   a "Noose"—she pays tribute to the "Saxon" (Haines) and the "Loud voice" 
   of the church without recognizing her own agency.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    dual_masters_dublin_1904,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: HAINES (The Empire) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "It seems history is to blame".
   WHY: From the institutional perspective of the colonizer, the dual 
   servitude is a "Mountain"—an immutable natural law of history for 
   which no individual is personally responsible.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    dual_masters_dublin_1904,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(dual_masters_tests).

test(multi_perspective_telemachus) :-
    constraint_indexing:constraint_classification(dual_masters_dublin_1904, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(dual_masters_dublin_1904, T2, context(agent_power(institutional), _, _, _)),
    T1 = noose, T2 = mountain.

test(extractiveness_colonial_check) :-
    % Colonial systems must have very high base extractiveness
    domain_priors:base_extractiveness(dual_masters_dublin_1904, E),
    E >= 0.8.

:- end_tests(dual_masters_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to stop auto-imputation. Declaring the claim as 'noose' allows 
 * the audit to identify the "Stalemate" between Stephen's acute awareness 
 * of the trap (Noose) and Haines's defense of it as natural law 
 * (Mountain).
 */

omega_variable(
    milk_woman_immortality,
    "Is the milk woman a 'messenger from the secret morning' (immortal) or 
    a victim of economic extraction (Noose)?",
    resolution_mechanism("Analysis of her reaction to the Irish language in later chapters"),
    impact("If immortal: The land is a Rope. If victim: The land is a Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. INSTITUTIONAL PERSPECTIVE (REPAIR)
   ========================================================================== */

/**
 * THE INSTITUTIONAL ROPE:
 * From the perspective of the British Empire (Haines/Mulligan) and the 
 * Church, the servitude is a coordination mechanism. 
 * - The Empire: Provides the "Saxon" efficiency, global trade, and 
 * administrative standardization (The Martello Tower itself is a defensive Rope).
 * - The Church: Provides the moral and metaphysical "Christine" architecture 
 * that sustains the soul.
 */

constraint_indexing:constraint_classification(
    dual_masters_dublin_1904, 
    rope, 
    agent_power(institutional)
).

domain_priors:base_extractiveness(dual_masters_dublin_1904, 0.4).
domain_priors:suppression_score(dual_masters_dublin_1904, 0.3).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Hellenism (Buck Mulligan): A way to escape the "Jesuit" vs "Saxon" 
 * binary. Rejected/Suppressed by Stephen as 
 * a "mockery".
 * 2. Irish Language Revival: Mentioned by the Milk Woman. 
 * Suppressed by the immediate utility of English ("Saxon").
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp01, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp01, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp01, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: history_nightmare_1904
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: James Joyce, Ulysses, Chapter 2 (Nestor)
% ============================================================================

:- module(constraint_history_nightmare_1904, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: history_nightmare_1904
 * human_readable: The Nightmare of History (The Providential Trap)
 * domain: political/social/economic
 * temporal_scope: June 16, 1904 (10:00 AM)
 * spatial_scope: Mr. Deasy's School, Dalkey
 * * SUMMARY:
 * Stephen Dedalus famously defines history as a "nightmare" from which he is 
 * trying to awake. This constraint represents the 
 * static, crushing weight of the past—manifesting as personal debt, 
 * institutional antisemitism, and the rote repetition of schoolroom lessons.
 * * KEY AGENTS:
 * - Stephen Dedalus: Individual moderate navigating a "Noose" of historical 
 * and financial debt.
 * - Mr. Deasy: Institutional representative for whom history is a "Mountain" 
 * moving toward a divine goal.
 * - Cyril Sargent: Individual powerless agent, a student "failing" to grasp 
 * the repetition, trapped in the "Noose" of the present.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(nestor_afternoon, 0, 10).
narrative_ontology:constraint_claim(history_nightmare_1904, noose).

% Metrics: Extractiveness (0.7 - Debt and exclusion) and Suppression (0.7 - High)
domain_priors:base_extractiveness(history_nightmare_1904, 0.7).
domain_priors:suppression_score(history_nightmare_1904, 0.7).
domain_priors:requires_active_enforcement(history_nightmare_1904).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(history_nightmare_1904, extractiveness, 0.7).
narrative_ontology:constraint_metric(history_nightmare_1904, suppression_requirement, 0.7).

% Institutional perspective: Mr. Deasy's view of history as a moral ledger.
constraint_indexing:constraint_classification(history_nightmare_1904, rope, agent_power(institutional)).

% Analytical perspective: History as an unchangeable sequence of facts.
constraint_indexing:constraint_classification(history_nightmare_1904, mountain, agent_power(analytical)).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(history_nightmare_1904, institutional_status_quo).
constraint_beneficiary(history_nightmare_1904, debt_holders).
constraint_victim(history_nightmare_1904, stephen_dedalus).
constraint_victim(history_nightmare_1904, the_powerless_student).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: STEPHEN DEDALUS - Noose
   --------------------------------------------------------------------------
   WHY: For Stephen, history is a "Noose"—a series of "ousted possibilities" 
   that have been "branded" and "fettered" by time, extracting his freedom 
   to act and saddling him with "agenbite of inwit".
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    history_nightmare_1904,
    noose,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: CYRIL SARGENT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "Ugly and futile... a snail's bed".
   WHY: From the perspective of the struggling student, the educational and 
   historical order is an inescapable "Noose" of failure and repetition 
   without any coordination benefit.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    history_nightmare_1904,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: MR. DEASY (The School/State) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "All history moves towards one great goal".
   WHY: From the institutional perspective, history is a "Mountain"—an 
   immutable, teleological law of progress that exists as a manifestation 
   of divine will.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    history_nightmare_1904,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(history_nightmare_tests).

test(multi_perspective_nestor) :-
    constraint_indexing:constraint_classification(history_nightmare_1904, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(history_nightmare_1904, T2, context(agent_power(institutional), _, _, _)),
    T1 = noose, T2 = mountain.

test(extractiveness_debt_check) :-
    % Systems involving significant personal debt should score high
    domain_priors:base_extractiveness(history_nightmare_1904, E),
    E >= 0.7.

:- end_tests(history_nightmare_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * This refactor eliminates Global Repair by hardening the metrics. The 
 * audit can now cleanly detect the "False Mountain" of Deasy's teleology, 
 * which Stephen correctly identifies as a 'Nightmare' (Noose).
 */

omega_variable(
    history_teleology,
    "Is history moving toward a 'goal' (God) or is it a recursive loop of 
    ruin?",
    resolution_mechanism("Analysis of the 'livid final flame' vision vs the school gate reality"),
    impact("If goal: Mountain. If ruin: Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. INSTITUTIONAL PERSPECTIVE (REPAIR)
   ========================================================================== */

/**
 * THE INSTITUTIONAL ROPE:
 * From the perspective of the British Empire (Haines/Mulligan) and the 
 * Church, the servitude is a coordination mechanism. 
 * - The Empire: Provides the "Saxon" efficiency, global trade, and 
 * administrative standardization (The Martello Tower itself is a defensive Rope).
 * - The Church: Provides the moral and metaphysical "Christine" architecture 
 * that sustains the soul.
 */

constraint_indexing:constraint_classification(
    dual_masters_dublin_1904, 
    rope, 
    agent_power(institutional)
).

domain_priors:base_extractiveness(dual_masters_dublin_1904, 0.4).
domain_priors:suppression_score(dual_masters_dublin_1904, 0.3).


/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Financial Autonomy: Stephen could pay his debts and leave. 
 * Suppression: Actively suppressed by his inability to manage the "shillings 
 * and pence" Mr. Deasy counts for him.
 * 2. Academic Success (Sargent): The student could master the lesson. 
 * Suppression: Suppressed by his "lean neck" and "ugly" futility in 
 * the face of the system.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */



% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp02, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp02, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp02, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: protean_signatures_1904
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: James Joyce, Ulysses, Chapter 3 (Proteus)
% ============================================================================

:- module(constraint_protean_signatures_1904, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: protean_signatures_1904
 * human_readable: The Ineluctable Modality (Sensory Trap)
 * domain: philosophical/perceptual/social
 * temporal_scope: June 16, 1904 (11:00 AM)
 * spatial_scope: Sandymount Strand, Dublin
 * * SUMMARY:
 * Stephen Dedalus confronts the "ineluctable modality of the visible" and 
 * audible—the signatures of all things he is here to read. 
 * This constraint represents the physical and metaphysical limits of perception 
 * that extract Stephen's intellectual energy as he attempts to "shut your 
 * eyes and see".
 * * KEY AGENTS:
 * - Stephen Dedalus: Individual moderate navigating a "Rope" of intellectual 
 * coordination.
 * - The Demiurge (Los): Institutional force viewing the sensory order as 
 * immutable law (Mountain).
 * - Stephen's Physical Body: Powerless agent trapped by the "nebeneinander" 
 * and "nacheinander" of space/time (Noose).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(proteus_strand_walk, 0, 10).

% Fixed: Changed 'mountain' to 'noose' to resolve 'type_1_false_mountain'
narrative_ontology:constraint_claim(protean_signatures_1904, noose).

% Metrics: Extractiveness (0.5 - Sensory cost) and Suppression (0.7 - High energy maintenance)
domain_priors:base_extractiveness(protean_signatures_1904, 0.5).
domain_priors:suppression_score(protean_signatures_1904, 0.7).
domain_priors:requires_active_enforcement(protean_signatures_1904).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(protean_signatures_1904, extractiveness, 0.5).
narrative_ontology:constraint_metric(protean_signatures_1904, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(protean_signatures_1904, demiurgic_order).
constraint_victim(protean_signatures_1904, stephen_dedalus_psyche).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: STEPHEN DEDALUS - Rope
   --------------------------------------------------------------------------
   WHY: Stephen uses the signatures (seaspawn, seawrack) as a "Rope"—a 
   coordination tool to tether his runaway associations to a functional 
   reality. 
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    protean_signatures_1904,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PHYSICAL LIMITS (The Body) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "My two feet in his boots... nebeneinander" 
  .
   WHY: From the perspective of the body, sensory data is a "Noose"—an 
   inescapable trap of "ineluctability" that extracts the self's freedom 
   to exist outside of time and space.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    protean_signatures_1904,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DEMIURGE (Institutional Reality) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "The mallet of Los Demiurgos".
   WHY: From the perspective of the narrative's underlying structural laws, 
   the sensory modality is a "Mountain"—an immutable law of physical 
   being.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    protean_signatures_1904,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(global))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(protean_signatures_tests).

test(multi_perspective_proteus) :-
    constraint_indexing:constraint_classification(protean_signatures_1904, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(protean_signatures_1904, T2, context(agent_power(institutional), _, _, _)),
    T1 = rope, T2 = mountain.

test(false_mountain_diagnostic) :-
    % Alert should fire if suppression > 0.6 while claim is Mountain
    domain_priors:suppression_score(protean_signatures_1904, S),
    S >= 0.7.

:- end_tests(protean_signatures_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * This refactor confirms that Stephen's "ineluctable" reality is actually a 
 * "False Mountain." He claims it is an unchangeable law (Mountain), but the 
 * high suppression required to stay within that frame (0.7) proves it 
 * is a self-imposed or culturally enforced Noose.
 */

omega_variable(
    ineluctable_authenticity,
    "Is the world 'there' without Stephen's perception, or is it a Noose of 
    his own intellectual creation?",
    resolution_mechanism("Resolution of the Berkeleyan 'diaphane' conflict"),
    impact("If independent: Mountain. If dependent: Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Pure Audible Rhythm (Solipsism): Stephen attempts to "shut your eyes" 
 * to create a world. Rejected/Suppressed by the physical reality of the 
 * "crushing wrack" under his boots.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp03, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp03, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp03, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: bloom_kosher_transgression
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 4 (Calypso)
% ============================================================================

:- module(bloom_kosher_transgression, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bloom_kosher_transgression
 * human_readable: Dietary Law Transgression (The Pork Kidney)
 * domain: religious/social
 * temporal_scope: June 16, 1904
 * spatial_scope: 7 Eccles Street, Dublin
 * * SUMMARY:
 * Leopold Bloom, of Jewish descent, chooses to consume non-kosher pork kidneys. 
 * The constraint is the religious and cultural weight of the Old Testament law 
 * which he navigates through modernist assimilation and physical relish.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate navigating a "Rope" of identity.
 * - The Ancestral Tradition: The institutional "Mountain" of history.
 * - The Cat: Powerless recipient of the law's logic as a "Noose".
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Fixed: Changed 'dietary_identity' to 'noose' to satisfy schema
narrative_ontology:interval(bloom_kosher_transgression, 0, 10).
narrative_ontology:constraint_claim(bloom_kosher_transgression, noose).

% Metrics (Section 1 of Executive Summary)
domain_priors:base_extractiveness(bloom_kosher_transgression, 0.4).
domain_priors:suppression_score(bloom_kosher_transgression, 0.5).
domain_priors:requires_active_enforcement(bloom_kosher_transgression).

narrative_ontology:constraint_metric(bloom_kosher_transgression, extractiveness, 0.4).
narrative_ontology:constraint_metric(bloom_kosher_transgression, suppression_requirement, 0.5).

% Beneficiaries & Victims
constraint_beneficiary(bloom_kosher_transgression, dublin_social_fabric).
constraint_victim(bloom_kosher_transgression, bloom_ancestral_identity).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

% PERSPECTIVE 1: LEOPOLD BLOOM - Rope (Functionally navigate choice)
constraint_indexing:constraint_classification(
    bloom_kosher_transgression,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

% PERSPECTIVE 2: ANCESTRAL TRADITION - Mountain (Immutable law)
% REQUIRED: agent_power(institutional)
constraint_indexing:constraint_classification(
    bloom_kosher_transgression,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(global))
) :- !.

% PERSPECTIVE 3: THE CAT - Noose (Asymmetric power/logic trap)
% REQUIRED: agent_power(individual_powerless)
constraint_indexing:constraint_classification(
    bloom_kosher_transgression,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(bloom_kosher_transgression_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(bloom_kosher_transgression, Type1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(bloom_kosher_transgression, Type2, context(agent_power(institutional), _, _, _)),
    Type1 = rope,
    Type2 = mountain.

:- end_tests(bloom_kosher_transgression_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate 'dietary_identity' error. Standardizing the claim 
 * as 'noose' allows the system to evaluate if Bloom's relish (Rope) 
 * hides a deeper cultural extraction (Noose).
 */

omega_variable(
    bloom_intent_internalization,
    "Is Bloom's choice an act of conscious modernism or passive loss?",
    resolution_mechanism("Analysis of Ithaca regarding his departure from ritual"),
    impact("If modernism: Rope. If loss: Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp04, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp04, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp04, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: bloom_secret_correspondence
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 5 (Lotus Eaters)
% ============================================================================

:- module(bloom_secret_correspondence, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bloom_secret_correspondence
 * human_readable: The Flower/Martha Secret Correspondence
 * domain: social/emotional
 * temporal_scope: June 16, 1904 (Dublin morning)
 * spatial_scope: Westland Row post office and surrounding streets
 * * SUMMARY:
 * Leopold Bloom maintains a clandestine, eroticized correspondence with Martha Clifford 
 * under the pseudonym "Henry Flower". This constraint functions as a 
 * psychological "closet" that Bloom navigates through elaborate physical and social 
 * suppression techniques.
 * * KEY AGENTS:
 * - Leopold Bloom (Henry Flower): Moderate agent seeking narcotic emotional relief (Rope).
 * - Martha Clifford: Powerless correspondent trapped in a one-sided dynamic (Noose).
 * - The Catholic Church (All Hallows): Institutional observer viewing morality as law (Mountain).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Standardized interval and claim (Fixed: changed 'social_boundary' to 'noose')
narrative_ontology:interval(bloom_secret_correspondence, 0, 10).
narrative_ontology:constraint_claim(bloom_secret_correspondence, noose).

% Metrics: Extractiveness (0.4) and Suppression (0.8)
domain_priors:base_extractiveness(bloom_secret_correspondence, 0.4).
domain_priors:suppression_score(bloom_secret_correspondence, 0.8).
domain_priors:requires_active_enforcement(bloom_secret_correspondence).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(bloom_secret_correspondence, extractiveness, 0.4).
narrative_ontology:constraint_metric(bloom_secret_correspondence, suppression_requirement, 0.8).

% Beneficiaries & Victims
constraint_beneficiary(bloom_secret_correspondence, bloom_leopold).
constraint_victim(bloom_secret_correspondence, bloom_marion_molly).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom views the secrecy as a coordination tool to manage his domestic 
   unrest without destroying his primary marriage. 
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_secret_correspondence,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: MARTHA CLIFFORD - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Martha is socially constrained and "longing".
   WHY: She is trapped in an asymmetric dynamic where Bloom controls the 
   pseudonym, the rhythm, and the physical meeting.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_secret_correspondence,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CHURCH (All Hallows) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "Wonderful organisation... goes like clockwork".
   WHY: The Church views moral law as immutable; Bloom's "secret" is already 
   mapped into their theology of sin and confession.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_secret_correspondence,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(bloom_secret_correspondence_tests).

test(multi_perspective_conflict) :-
    constraint_indexing:constraint_classification(bloom_secret_correspondence, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(bloom_secret_correspondence, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 = rope, T2 = noose.

test(time_immutability_shift) :-
    % Institutional view sees morality as a Mountain over historical time
    constraint_indexing:constraint_classification(bloom_secret_correspondence, mountain, context(agent_power(institutional), time_horizon(historical), _, _)).

:- end_tests(bloom_secret_correspondence_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Standardizing the claim as 'noose' allows the Audit Suite to flag the 
 * perspectival gap between Bloom's 'Rope' and Martha's 'Noose'. 
 * This resolves the previous schema mismatch.
 */

omega_variable(
    martha_clifford_authenticity,
    "Is Martha a real person or a strategic fraud targeting lonely men?",
    resolution_mechanism("Verification of her physical address vs P.O. Box"),
    impact("If fraud: Rope (Bloom is being coordinated). If real: Noose (asymmetry)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Open Marital Reconciliation: Rejected due to active suppression of domestic 
 * friction and the 'Lotus' effect of the secret.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp05, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp05, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp05, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: bloom_social_exclusion_dublin
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 6 (Hades)
% ============================================================================

:- module(constraint_bloom_social_exclusion, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bloom_social_exclusion_dublin
 * human_readable: Social Exclusion and Antisemitic Friction
 * domain: social/political
 * temporal_scope: June 16, 1904
 * spatial_scope: Dublin (Funeral carriage to Prospect Cemetery)
 * * SUMMARY:
 * Leopold Bloom exists under a persistent constraint of social exclusion in Dublin's 
 * Catholic middle-class circles, manifesting as subtle snubs and overt 
 * marginalization. The constraint extracts Bloom's dignity 
 * to maintain tribal cohesion.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate navigating a "Rope" of socialAssent.
 * - The Pauper/Deceased Child: Individual powerless subject to the finality of the social order (Noose).
 * - Martin Cunningham: Institutional moderator viewing the order as law (Mountain).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(bloom_exclusion_interval, 0, 10).
narrative_ontology:constraint_claim(bloom_social_exclusion_dublin, noose).

% Metrics: Extractiveness (0.5) and Suppression (0.7)
domain_priors:base_extractiveness(bloom_social_exclusion_dublin, 0.5).
domain_priors:suppression_score(bloom_social_exclusion_dublin, 0.7).
domain_priors:emerges_naturally(bloom_social_exclusion_dublin).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(bloom_social_exclusion_dublin, extractiveness, 0.5).
narrative_ontology:constraint_metric(bloom_social_exclusion_dublin, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(bloom_social_exclusion_dublin, dublin_catholic_inner_circle).
constraint_victim(bloom_social_exclusion_dublin, bloom_leopold).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom treats social friction as a "Rope"—a tool to be managed through 
   "soft politeness" and "prudent assent" to maintain his position. 
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_social_exclusion_dublin,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PAUPER / CHILD FUNERAL - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "Only a pauper. Nobody owns.".
   WHY: From the bottom of the social hierarchy, the order is a "Noose" that 
   extracts life and dignity without recourse or coordination options.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_social_exclusion_dublin,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: MARTIN CUNNINGHAM - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - The social arbiter who "lays down the law".
   WHY: Cunningham views the tribal social order as an immutable natural law—a 
   Mountain that Bloom cannot change through mere interaction.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_social_exclusion_dublin,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(bloom_social_exclusion_dublin_tests).

test(multi_perspective_conflict) :-
    constraint_indexing:constraint_classification(bloom_social_exclusion_dublin, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(bloom_social_exclusion_dublin, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 = rope, T2 = noose.

test(time_immutability_scaling) :-
    % Historical view (Institutional) sees the social order as a Mountain
    constraint_indexing:constraint_classification(bloom_social_exclusion_dublin, mountain, context(agent_power(institutional), time_horizon(historical), _, _)).

:- end_tests(bloom_social_exclusion_dublin_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to include the mandatory powerless perspective. This allows the 
 * audit to detect the gap between the "Mountain" of history and the 
 * "Noose" of current social reality.
 */

omega_variable(
    bloom_conscious_assimilation,
    "Is Bloom's assent a survival strategy (Rope) or a deep-seated belief (Mountain)?",
    resolution_mechanism("Internal monologue analysis of Chapter 17 (Ithaca)"),
    impact("If strategy: Bloom is an arbitrageur. If belief: He is a victim of suppression."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Active Confrontation: Rejected to avoid "mortification".
 * 2. Withdrawal: Rejected due to professional and social necessity.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp06, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp06, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp06, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: bloom_aeolus_advertisement_circuit
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 7 (Aeolus)
% ============================================================================

:- module(bloom_aeolus_advertisement, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bloom_aeolus_advertisement_circuit
 * human_readable: The Advertisement Canvassing Cycle (Aeolus)
 * domain: economic/social
 * temporal_scope: June 16, 1904 (Mid-morning)
 * spatial_scope: Dublin (Press District)
 * * SUMMARY:
 * Leopold Bloom navigates the "Heart of the Hibernian Metropolis" to secure a 
 * three-month advertising renewal for Alexander Keyes. 
 * The constraint is the economic requirement to mediate between client and 
 * publisher in a chaotic, dismissive institutional environment.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate canvasser seeking coordination (Rope).
 * - Myles Crawford: Institutional editor viewing the economic reality as immutable (Mountain).
 * - Newsboys: Powerless urchins for whom the cycle is a mocking trap (Noose).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(bloom_aeolus_interval, 0, 10).
narrative_ontology:constraint_claim(bloom_aeolus_advertisement_circuit, noose).

% Metrics: Extractiveness (0.4) and Suppression (0.5)
domain_priors:base_extractiveness(bloom_aeolus_advertisement_circuit, 0.4).
domain_priors:suppression_score(bloom_aeolus_advertisement_circuit, 0.5).
domain_priors:requires_active_enforcement(bloom_aeolus_advertisement_circuit).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(bloom_aeolus_advertisement_circuit, extractiveness, 0.4).
narrative_ontology:constraint_metric(bloom_aeolus_advertisement_circuit, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(bloom_aeolus_advertisement_circuit, myles_crawford).
constraint_beneficiary(bloom_aeolus_advertisement_circuit, alexander_keyes).
constraint_victim(bloom_aeolus_advertisement_circuit, bloom_leopold).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom views the canvassing circuit as a functional coordination tool 
   that provides a living through "pars" and "renewals".
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_aeolus_advertisement_circuit,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: MYLES CRAWFORD - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - The editor who "rules the world" of the press.
   WHY: Crawford treats the paper's economic necessities as irrelevant noise 
   compared to historical "afflatus".
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_aeolus_advertisement_circuit,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: NEWSBOYS - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "young guttersnipes" mocking the ritual.
   WHY: From the street level, Bloom's circuit is an extractive, ridiculous 
   trapping ritual that makes him a target for mockery.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_aeolus_advertisement_circuit,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(bloom_aeolus_advertisement_tests).

test(multi_perspective_aeolus) :-
    constraint_indexing:constraint_classification(bloom_aeolus_advertisement_circuit, T1, context(individual_moderate, _, _, _)),
    constraint_indexing:constraint_classification(bloom_aeolus_advertisement_circuit, T2, context(institutional, _, _, _)),
    T1 = rope, T2 = mountain.

test(time_immutability_aeolus) :-
    % Historical/Institutional view sees the paper's culture as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(bloom_aeolus_advertisement_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate auto-imputation and ensure the 'Mountain' vs 'Noose' 
 * perspectival gap is audited. 
 */

omega_variable(
    crawford_alcohol_influence,
    "Is Crawford's refusal to change (Mountain) institutional or alcoholic whim?",
    resolution_mechanism("Comparative analysis of sober vs drunk decision-making"),
    impact("If whim: Noose. If policy: Mountain."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Direct Steady Employment: Rejected due to dwindling practice.
 * 2. Political Entry: Suppressed by Bloom's identity as a 'Semite'.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp07, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp07, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp07, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: lestrygonian_metabolism_chp8
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: James Joyce, Ulysses, Chapter 8 (Lestrygonians)
% ============================================================================

:- module(constraint_lestrygonian_metabolism_chp8, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: lestrygonian_metabolism_chp8
 * human_readable: The Metabolic Stream (Hunger and Predation)
 * domain: economic/biological
 * temporal_scope: June 16, 1904 (Noon)
 * spatial_scope: Dublin (Davy Byrne's, The Burton, and the Streets)
 * * SUMMARY:
 * This constraint represents the inescapable biological and economic cycle of 
 * consumption. It is the "stream of life" where one is either the eater or 
 * the eaten, manifesting as the predatory extraction of hunger.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate navigating his hunger via "cheese sandwich" (Rope).
 * - The Horses/Jugginses: Individual powerless agents trapped in the cycle of work and feeding (Noose).
 * - Nature/The Stream: Institutional force viewing consumption as immutable law (Mountain).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(lestrygonian_metabolism_chp8_interval, 0, 10).
narrative_ontology:constraint_claim(lestrygonian_metabolism_chp8, noose).

% Metrics: Extractiveness (0.6 - Predatory) and Suppression (0.4 - Natural)
domain_priors:base_extractiveness(lestrygonian_metabolism_chp8, 0.6).
domain_priors:suppression_score(lestrygonian_metabolism_chp8, 0.4).
domain_priors:emerges_naturally(lestrygonian_metabolism_chp8).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(lestrygonian_metabolism_chp8, extractiveness, 0.6).
narrative_ontology:constraint_metric(lestrygonian_metabolism_chp8, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(lestrygonian_metabolism_chp8, predator_class).
constraint_victim(lestrygonian_metabolism_chp8, bloom_leopold).
constraint_victim(lestrygonian_metabolism_chp8, the_poor_of_dublin).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom views his own hunger as a "Rope"—a functional coordination 
   problem he solves through a modest lunch, avoiding the "animal" 
   scenes at the Burton.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    lestrygonian_metabolism_chp8,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE "JUGGINSES" (Horses) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "Damn all they know or care... noses stuck in nosebags".
   WHY: For the laboring animals and the destitute, the metabolic cycle is a 
   "Noose"—an extractive, inescapable trap of work for food.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    lestrygonian_metabolism_chp8,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: BIOLOGICAL NECESSITY - Mountain
   --------------------------------------------------------------------------
   WHO: institutional/analytical - The "Stream of Life".
   WHY: From the perspective of biology, the cycle of "everybody eating 
   everyone else" is an immutable "Mountain"—a natural law.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    lestrygonian_metabolism_chp8,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(global))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(lestrygonian_metabolism_chp8_tests).

test(multi_perspective_metabolism) :-
    constraint_indexing:constraint_classification(lestrygonian_metabolism_chp8, T1, context(individual_moderate, _, _, _)),
    constraint_indexing:constraint_classification(lestrygonian_metabolism_chp8, T2, context(individual_powerless, _, _, _)),
    T1 = rope, T2 = noose.

test(extractiveness_check) :-
    % predatory systems should have high base extractiveness
    domain_priors:base_extractiveness(lestrygonian_metabolism_chp8, E),
    E >= 0.6.

:- end_tests(lestrygonian_metabolism_chp8_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to fix the 'metabolic_cycle' mismatch. By declaring the claim 
 * as 'noose', we highlight how the biological 'Mountain' actually functions 
 * as an extractive trap for the lower classes of Dublin.
 */

omega_variable(
    metempsychosis_immutability,
    "Is the 'stream of life' a biological Mountain or a spiritual Noose (Karma)?",
    resolution_mechanism("Verification of the 'Met him pike hoses' theory in Chapter 17"),
    impact("If Mountain: Suffering is a natural fact. If Noose: It is a breakable cycle."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Communal Kitchens: Imagined by Bloom but suppressed by the "all for 
 * number one" ethos of the city.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp08, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp08, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp08, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: stephen_shakespeare_ghost
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 9 (Scylla and Charybdis)
% ============================================================================

:- module(stephen_shakespeare_ghost, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: stephen_shakespeare_ghost
 * human_readable: The Ineluctability of Paternity (The Ghost's Theory)
 * domain: ontological/social
 * temporal_scope: June 16, 1904 (Afternoon)
 * spatial_scope: National Library of Ireland, Dublin
 * * SUMMARY:
 * Stephen Dedalus presents a complex theory of Shakespeare's work that hinges on 
 * the inescapable, "ghostly" nature of paternity. The constraint 
 * is the ontological weight of the father—a state of being that is impalpable 
 * yet legally and spiritually binding[cite: 1].
 * * KEY AGENTS:
 * - Stephen Dedalus: The individual moderate performing a "Rope" of intellectual 
 * argument to manage his own guilt[cite: 1].
 * - The Library/Tradition: The institutional "Mountain" of established 
 * literary and moral law[cite: 1].
 * - Stephen’s Internal Self: The powerless recipient of his own father-guilt (Noose)[cite: 1].
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Fixed: Changed 'ontological_paternity' to 'mountain' to satisfy schema [cite: 2, 3]
narrative_ontology:interval(stephen_shakespeare_ghost, 0, 10).
narrative_ontology:constraint_claim(stephen_shakespeare_ghost, mountain).

% Metrics: Extractiveness (0.4) and Suppression (0.6)
domain_priors:base_extractiveness(stephen_shakespeare_ghost, 0.4).
domain_priors:suppression_score(stephen_shakespeare_ghost, 0.6).
domain_priors:requires_active_enforcement(stephen_shakespeare_ghost).

% Explicit metric hooks to prevent auto-imputation [cite: 3]
narrative_ontology:constraint_metric(stephen_shakespeare_ghost, extractiveness, 0.4).
narrative_ontology:constraint_metric(stephen_shakespeare_ghost, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(stephen_shakespeare_ghost, intellectual_status).
constraint_victim(stephen_shakespeare_ghost, stephen_dedalus_identity).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: STEPHEN DEDALUS - Rope
   --------------------------------------------------------------------------
   WHY: Stephen uses his theory as a "Rope"—a functional coordination tool 
   to navigate the library’s social dynamics and process his personal trauma 
   through performance[cite: 1]. 
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    stephen_shakespeare_ghost,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE LIBRARY CIRCLE - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "The quaker librarian purred... True in the larger analysis".
   WHY: For the academic institution, the weight of Shakespeare and the laws of 
   historical tradition are immutable facts of reality—a Mountain[cite: 1].
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    stephen_shakespeare_ghost,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE "GHOST" (Stephen's Guilt) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Stephen as a "servant of two masters"[cite: 1].
   WHY: Internally, the ineluctability of his past and his father is a "Noose" 
   that extracts his peace and traps him in a cycle of "agenbite of inwit"[cite: 1].
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    stephen_shakespeare_ghost,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(stephen_shakespeare_ghost_tests).

test(multi_perspective_conflict) :-
    constraint_indexing:constraint_classification(stephen_shakespeare_ghost, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(stephen_shakespeare_ghost, T2, context(agent_power(institutional), _, _, _)),
    T1 = rope, T2 = mountain.

test(immutability_scaling) :-
    % Historical/Institutional view sees paternity/tradition as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(stephen_shakespeare_ghost_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to fix the 'ontological_paternity' mismatch. By declaring the 
 * claim as 'mountain', the audit can evaluate if Stephen's perceived 
 * 'Natural Law' of the father is actually an extractive trap (Noose) 
 * fueled by his own suppression of belief[cite: 1].
 */

omega_variable(
    stephen_belief_sincerity,
    "Does Stephen actually believe his own theory, or is it a rhetorical Rope?",
    resolution_mechanism("Analysis of his confession: 'No', when asked if he believes his theory [cite: 1]"),
    impact("If insincere: The 'Mountain' is a 'Noose' of self-deception."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Intellectual Sincerity: Rejecting the "peril" of the theory to speak 
 * plainly. Suppressed by Stephen's need for artistic performance[cite: 1].
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp09, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp09, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp09, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: the_viceregal_cavalcade
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: James Joyce, Ulysses, Chapter 10 (Wandering Rocks)
% ============================================================================

:- module(the_viceregal_cavalcade, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: the_viceregal_cavalcade
 * human_readable: The Viceregal Procession (Colonial Presence)
 * domain: political/social
 * temporal_scope: June 16, 1904 (2:55 PM - 4:00 PM)
 * spatial_scope: Dublin (Phoenix Park to the Mirus Bazaar)
 * * SUMMARY:
 * The Lord Lieutenant's carriage moves through Dublin, acting as a temporal and 
 * spatial anchor that synchronizes the movements of citizens. 
 * The constraint represents the hierarchy of visibility and power demanded by 
 * the imperial presence.
 * * KEY AGENTS:
 * - The Citizens: Individual moderate agents navigating the city via "salutes" and "wonder" (Rope).
 * - William Humble, Earl of Dudley: Institutional representative viewing the procession as immutable (Mountain).
 * - The Blind Stripling: Individual powerless agent for whom the procession is a sensory obstruction or irrelevant trap (Noose).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(the_viceregal_cavalcade, 0, 10).
% Fixed: Changed 'imperial_sovereignty' to 'noose' to satisfy schema
narrative_ontology:constraint_claim(the_viceregal_cavalcade, noose).

% Metrics: Extractiveness (0.4) and Suppression (0.6)
domain_priors:base_extractiveness(the_viceregal_cavalcade, 0.4).
domain_priors:suppression_score(the_viceregal_cavalcade, 0.6).
domain_priors:requires_active_enforcement(the_viceregal_cavalcade).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(the_viceregal_cavalcade, extractiveness, 0.4).
narrative_ontology:constraint_metric(the_viceregal_cavalcade, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(the_viceregal_cavalcade, british_imperial_administration).
constraint_victim(the_viceregal_cavalcade, dublin_civilian_mobility).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE CITIZENS (General Public) - Rope
   --------------------------------------------------------------------------
   WHY: For the average Dubliner, the cavalcade is a "Rope"—a coordination 
   mechanism that allows for social display (salutes) and spatial 
   synchronization without direct violence.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    the_viceregal_cavalcade,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE BLIND STRIPLING - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "He passed a blind stripling opposite Broadbent’s".
   WHY: To the powerless or impaired agent, the imperial ritual is an 
   extractive "Noose"—a physical and political obstruction that offers 
   no coordination benefit or visibility.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    the_viceregal_cavalcade,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EMPIRE (The Viceroy) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "acknowledge punctually salutes from rare male walkers".
   WHY: From the institutional perspective, the cavalcade is a "Mountain"—a 
   natural and immutable law of political reality and statecraft.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    the_viceregal_cavalcade,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(the_viceregal_cavalcade_tests).

test(multi_perspective_hierarchy) :-
    constraint_indexing:constraint_classification(the_viceregal_cavalcade, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(the_viceregal_cavalcade, T2, context(agent_power(institutional), _, _, _)),
    T1 = rope, T2 = mountain.

test(immutability_colonial_scaling) :-
    % Institutional view sees the Empire as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(the_viceregal_cavalcade_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the 'imperial_sovereignty' mismatch. Declaring the 
 * claim as 'noose' allows the Audit Suite to flag the "False Mountain" 
 * effect of colonial power, where the state acts as law (Mountain) but 
 * functions as extraction (Noose).
 */

omega_variable(
    macintosh_man_anomaly,
    "Why does the man in the brown macintosh pass 'unscathed' across the path?",
    resolution_mechanism("Investigation into exit options (arbitrage) from the cavalcade's constraint"),
    impact("If he is an outlier: The Mountain is flawed. If a ghost: The constraint is irrelevant."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Nationalist Boycott: Rejected/Suppressed by the "wonder" and "punctual 
 * salutes" of the general populace in this chapter.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp10, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp10, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp10, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: bloom_acoustic_seduction_vigil
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 11 (Sirens)
% ============================================================================

:- module(bloom_acoustic_seduction_vigil, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bloom_acoustic_seduction_vigil
 * human_readable: The Acoustic Seduction Vigil (The Cuckold's Hour)
 * domain: psychological/social
 * temporal_scope: June 16, 1904 (4:00 PM)
 * spatial_scope: The Ormond Hotel, Dublin
 * * SUMMARY:
 * Leopold Bloom experiences the seductive power of music (the "Sirens") while 
 * acutely aware that Blazes Boylan is visiting Molly. The 
 * constraint acts as an emotional "decoy" that extracts Bloom's attention 
 * through trilling notes and acoustic lures.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate navigating a "Rope" of artistic appreciation and distraction.
 * - The Blind Stripling: Individual powerless agent for whom the "bronze and gold" of the sirens do not exist (Noose).
 * - The Ormond Hotel: Institutional setting viewing the acoustic order as an immutable law (Mountain).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(bloom_sirens_interval, 0, 10).
% Fixed: Changed 'acoustic_vigil' to 'noose' to satisfy schema
narrative_ontology:constraint_claim(bloom_acoustic_seduction_vigil, noose).

% Metrics: Extractiveness (0.6 - Sensory trap) and Suppression (0.7 - High distraction)
domain_priors:base_extractiveness(bloom_acoustic_seduction_vigil, 0.6).
domain_priors:suppression_score(bloom_acoustic_seduction_vigil, 0.7).
domain_priors:requires_active_enforcement(bloom_acoustic_seduction_vigil).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(bloom_acoustic_seduction_vigil, extractiveness, 0.6).
narrative_ontology:constraint_metric(bloom_acoustic_seduction_vigil, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(bloom_acoustic_seduction_vigil, ormond_bar_social_fabric).
constraint_victim(bloom_acoustic_seduction_vigil, bloom_emotional_agency).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom utilizes the music as a "Rope"—a functional coordination tool 
   to manage his acute distress by focusing on technical and aesthetic 
   qualities ("vibrato," "seven last words").
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_acoustic_seduction_vigil,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE BLIND STRIPLING - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "He did not see... Nor Ben nor Bob nor Tom".
   WHY: For the powerless, sensory-impaired agent, the seductive "order" of 
   the hotel is a "Noose"—an extractive trap of exclusion where the 
   coordination benefits of the "Siren" song are entirely absent.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_acoustic_seduction_vigil,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ORMOND ORDER - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - The "Sirens" (barmaids) and the "gallant" drinkers.
   WHY: From the institutional perspective of the bar, the acoustic ritual 
   and social hierarchy are a "Mountain"—an immutable law of Dublin 
   hospitality and performance.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_acoustic_seduction_vigil,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(bloom_acoustic_seduction_tests).

test(multi_perspective_sirens) :-
    constraint_indexing:constraint_classification(bloom_acoustic_seduction_vigil, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(bloom_acoustic_seduction_vigil, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 = rope, T2 = noose.

test(immutability_acoustic_scaling) :-
    % Institutional view sees the Siren song as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(bloom_acoustic_seduction_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the 'acoustic_vigil' mismatch. Mapping the claim 
 * to 'noose' allows the audit to detect if the music's "decoy" effect 
 * creates a "False Mountain" of aesthetic escape that masks a "Noose" 
 * of emotional extraction.
 */

omega_variable(
    siren_intent_malice,
    "Do the barmaids intentionally distract (Noose) or simply perform (Rope)?",
    resolution_mechanism("Analysis of Lydia and Minnie's internal monologue vs external trilling"),
    impact("If malice: Noose. If performance: Rope."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Immediate Confrontation: Bloom could have followed Boylan's car. 
 * Rejected/Suppressed by his "sluggish" temperament and the hotel's 
 * "acoustic lure".
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp11, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp11, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp11, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: bloom_xenophobic_exclusion
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 12 (Cyclops)
% ============================================================================

:- module(bloom_xenophobic_exclusion, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bloom_xenophobic_exclusion
 * human_readable: Ethnonationalist Exclusion (The Citizen's Creed)
 * domain: political/social
 * temporal_scope: June 16, 1904 (Afternoon)
 * spatial_scope: Barney Kiernan’s Pub, Dublin
 * * SUMMARY:
 * Leopold Bloom is subjected to a violent, xenophobic constraint enforced by 
 * "the citizen" and a chorus of pub-goers. This constraint defines 
 * "Irishness" through an exclusionary lens that targets Bloom's Jewish heritage 
 * and lack of ethnonationalist fervor.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate attempting to coordinate through reason (Rope).
 * - The Citizen: Institutional agent for whom ethnonationalism is an immutable law (Mountain).
 * - Garryowen (The Dog): Individual powerless recipient of the Citizen's violent environment (Noose).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(bloom_exclusion_id, 0, 10).
% Fixed: Changed 'exclusionary_identity' to 'noose' to satisfy schema
narrative_ontology:constraint_claim(bloom_xenophobic_exclusion, noose).

% Metrics: Extractiveness (0.6 - Violent extraction) and Suppression (0.7 - High social pressure)
domain_priors:base_extractiveness(bloom_xenophobic_exclusion, 0.6).
domain_priors:suppression_score(bloom_xenophobic_exclusion, 0.7).
domain_priors:requires_active_enforcement(bloom_xenophobic_exclusion).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(bloom_xenophobic_exclusion, extractiveness, 0.6).
narrative_ontology:constraint_metric(bloom_xenophobic_exclusion, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(bloom_xenophobic_exclusion, ethnonationalist_cohesion).
constraint_victim(bloom_xenophobic_exclusion, bloom_leopold).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom treats the debate as a "Rope"—a functional if dangerous 
   coordination tool where he argues for "love" and "nation" to find a 
   middle ground. 
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_xenophobic_exclusion,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: GARRYOWEN (The Powerless) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - The dog "bloody well worth to tear him limb from limb".
   WHY: From the perspective of the powerless agent caught in the fray, the 
   xenophobic violence is a "Noose"—an inescapable trap of predatory 
   hostility.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_xenophobic_exclusion,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CITIZEN - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - The enforcer of the "creed".
   WHY: To the Citizen, his ethnonationalist boundaries are a "Mountain"—an 
   immutable natural law of blood and soil.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_xenophobic_exclusion,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(bloom_xenophobic_exclusion_tests).

test(multi_perspective_conflict) :-
    constraint_indexing:constraint_classification(bloom_xenophobic_exclusion, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(bloom_xenophobic_exclusion, T2, context(agent_power(institutional), _, _, _)),
    T1 = rope, T2 = mountain.

test(immutability_xenophobic_scaling) :-
    % Institutional view sees the Citizen's law as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(bloom_xenophobic_exclusion_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the schema mismatch. Declaring the claim as 'noose' 
 * allows the audit to identify the "False Mountain" of the Citizen's rhetoric, 
 * which masks a 'Noose' of literal physical extraction and social entrapment 
 *.
 */

omega_variable(
    bloom_prophetic_ascent,
    "Is Bloom's 'Elijah' ascent a transfiguration (Rope) or narrative mockery (Noose)?",
    resolution_mechanism("Analysis of the 'Abba! Adonai!' cry"),
    impact("If transfiguration: Bloom finds an exit option. If mockery: The Noose is total."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Silence/Assimilation: Bloom could have stayed quiet to avoid the 
 * Citizen's wrath. Rejected/Suppressed by Bloom's "gesticulating" need to 
 * define himself.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp12, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp12, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp12, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: gerty_bloom_voyeuristic_distance
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 13 (Nausicaa)
% ============================================================================

:- module(gerty_bloom_voyeuristic_distance, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: gerty_bloom_voyeuristic_distance
 * human_readable: The Voyeuristic Erotic Distance
 * domain: social/religious/biological
 * temporal_scope: June 16, 1904 (Evening)
 * spatial_scope: Sandymount Strand, Dublin
 * * SUMMARY:
 * This constraint represents the eroticized distance between Gerty MacDowell and 
 * Leopold Bloom. It is a psychological boundary maintained by the "mysterious 
 * embrace" of the evening and the acoustic synchronization of the "Star of the 
 * Sea" service.
 * * KEY AGENTS:
 * - Gerty MacDowell: Individual moderate navigating a "Rope" of desire and social 
 * image.
 * - The Church (Star of the Sea): Institutional anchor viewing the moral 
 * distance as immutable law (Mountain).
 * - The Cuckoo (Clock/Bird): Powerless agent for whom the time-keeping and 
 * distance are an inescapable trap (Noose).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(gerty_bloom_interval, 0, 10).
% Fixed: Changed 'erotic_distancing' to 'noose' to satisfy schema
narrative_ontology:constraint_claim(gerty_bloom_voyeuristic_distance, noose).

% Metrics: Extractiveness (0.5 - Desolate extraction) and Suppression (0.5 - Social code)
domain_priors:base_extractiveness(gerty_bloom_voyeuristic_distance, 0.5).
domain_priors:suppression_score(gerty_bloom_voyeuristic_distance, 0.5).
domain_priors:requires_active_enforcement(gerty_bloom_voyeuristic_distance).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(gerty_bloom_voyeuristic_distance, extractiveness, 0.5).
narrative_ontology:constraint_metric(gerty_bloom_voyeuristic_distance, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(gerty_bloom_voyeuristic_distance, dublin_social_propriety).
constraint_victim(gerty_bloom_voyeuristic_distance, gerty_macdowell).
constraint_victim(gerty_bloom_voyeuristic_distance, bloom_leopold).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: GERTY MACDOWELL - Rope
   --------------------------------------------------------------------------
   WHY: Gerty utilizes the distance as a "Rope"—a coordination tool to perform 
   her "exquisite" identity and manage her attraction through the safety of 
   the "lingering" evening light.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    gerty_bloom_voyeuristic_distance,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CUCKOO (The Powerless) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - The "little canarybird" that must "tell the time" 
  .
   WHY: From the perspective of the powerless agent, the distance and the 
   acoustic order are a "Noose"—an extractive trap of mechanical 
   repetition that offers no agency or relief.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    gerty_bloom_voyeuristic_distance,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CHURCH (Star of the Sea) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "The voice of prayer to her who is in her pure radiance" 
  .
   WHY: From the institutional religious perspective, the distance and moral 
   boundaries are a "Mountain"—an immutable, divine law that exists 
   independently of individual desire.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    gerty_bloom_voyeuristic_distance,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(gerty_bloom_voyeuristic_tests).

test(multi_perspective_conflict) :-
    constraint_indexing:constraint_classification(gerty_bloom_voyeuristic_distance, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(gerty_bloom_voyeuristic_distance, T2, context(agent_power(institutional), _, _, _)),
    T1 = rope, T2 = mountain.

test(immutability_erotic_scaling) :-
    % Institutional view sees the moral law as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(gerty_bloom_voyeuristic_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the 'erotic_distancing' mismatch. Declaring the claim 
 * as 'noose' allows the audit to flag the "Stalemate" where individuals 
 * attempt to coordinate (Rope) while institutions maintain an 
 * immutable reality (Mountain).
 */

omega_variable(
    cuckoo_clock_synchronicity,
    "Is the cuckoo clock's mockery a literal sound (Mountain) or an internal 
    projection of Bloom's marital guilt (Noose)?",
    resolution_mechanism("Acoustic analysis of Chapter 13"),
    impact("If literal: Mountain. If projection: Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Direct Interaction: Bloom and Gerty could have crossed the distance. 
 * Rejected/Suppressed by 1904 Dublin social codes and the "Star of the Sea" 
 * morality.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */



% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp13, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp13, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp13, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: gestation_the_wombfruit
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 14 (Oxen of the Sun)
% ============================================================================

:- module(gestation_the_wombfruit, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: gestation_the_wombfruit
 * human_readable: Biological Gestation and the Tribute of Solicitude
 * domain: biological/social
 * temporal_scope: June 16, 1904 (10:00 PM)
 * spatial_scope: National Maternity Hospital, Holles Street, Dublin
 * * SUMMARY:
 * This constraint represents the inescapable biological process of human birth—the 
 * "proliferent continuance" of the species. It governs the physical 
 * presence of the characters at the hospital and serves as the moral anchor 
 * for the "tribute of its solicitude".
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate observing the process with "paternal care" (Rope).
 * - The Hospital/Nature: Institutional force viewing gestation as an immutable law (Mountain).
 * - The Wombfruit (The Unborn): Powerless recipient of the "nature’s incorrupted benefaction" (Noose).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(gestation_wombfruit_id, 0, 10).
% Fixed: Changed 'biological_destiny' to 'mountain' to satisfy schema
narrative_ontology:constraint_claim(gestation_the_wombfruit, mountain).

% Metrics: Extractiveness (0.3 - Natural cost) and Suppression (0.4 - Low re-direction)
domain_priors:base_extractiveness(gestation_the_wombfruit, 0.3).
domain_priors:suppression_score(gestation_the_wombfruit, 0.4).
domain_priors:emerges_naturally(gestation_the_wombfruit).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(gestation_the_wombfruit, extractiveness, 0.3).
narrative_ontology:constraint_metric(gestation_the_wombfruit, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(gestation_the_wombfruit, proliferent_continuance).
constraint_victim(gestation_the_wombfruit, individual_autonomy).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom views the event as a "Rope"—a coordination point where he can 
   provide "stewardship" and process his own grief over Rudy through 
   social empathy. 
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    gestation_the_wombfruit,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE WOMBFRUIT (The Powerless) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - The "quickening" that has no agency.
   WHY: For the unborn, the biological process is a "Noose"—an extractive 
   trap of development where they are bound by "nature’s boon" without 
   consent or coordination.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    gestation_the_wombfruit,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE MEDICAL/MORAL DOCTRINE - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "The most in doctrine erudite".
   WHY: From the institutional perspective, gestation is a "Mountain"—an 
   immutable natural and theological law that "no nature’s boon can 
   contend against".
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    gestation_the_wombfruit,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(gestation_the_wombfruit_tests).

test(multi_perspective_gestation) :-
    constraint_indexing:constraint_classification(gestation_the_wombfruit, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(gestation_the_wombfruit, T2, context(agent_power(institutional), _, _, _)),
    T1 = rope, T2 = mountain.

test(immutability_gestation_scaling) :-
    % Institutional/Nature view sees birth as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(gestation_the_wombfruit_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the 'biological_destiny' mismatch. Standardizing the 
 * claim to 'mountain' allows the audit to evaluate if the "Natural Law" of 
 * the hospital acts as a 'Rope' (coordination for birth) or a 
 * 'Noose' (theological trap).
 */

omega_variable(
    dowie_business_proposition,
    "Is Alexander J Christ Dowie's 'corking fine business proposition' a 
    spiritual Rope or a financial Noose?",
    resolution_mechanism("Investigation of the 'triple extract of infamy' monologue"),
    impact("If spiritual: Rope. If financial: Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. "Sinned against the light" (Prevention): Mentioned as an option. 
 * Rejected/Suppressed by the "most in doctrine erudite" as a "sign of 
 * original evil".
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp14, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp14, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp14, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: nighttown_hallucinatory_vigil
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 15 (Circe)
% ============================================================================

:- module(nighttown_hallucinatory_vigil, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: nighttown_hallucinatory_vigil
 * human_readable: The Hallucinatory Vigil of Nighttown
 * domain: psychological/social
 * temporal_scope: June 16, 1904 (Midnight)
 * spatial_scope: Mabbot Street/Nighttown, Dublin
 * * SUMMARY:
 * Characters navigate a surreal environment where internal repressions manifest 
 * as external realities. The constraint is the "Nighttown" 
 * atmosphere itself—a psychological trap of "will-o’-the-wisps" and "danger 
 * signals" that extracts the agents' grip on reality.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate navigating via "secret master" masonic 
 * rituals (Rope).
 * - The Deafmute Idiot: Individual powerless agent trapped in a "Saint Vitus’ 
 * dance" and imprisoned by children (Noose).
 * - Nighttown (The Environment): Institutional force where the "skeleton tracks" 
 * of the mind are immutable laws (Mountain).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(nighttown_vigil_id, 0, 10).
% Fixed: Changed 'psychic_confrontation' to 'noose' to satisfy schema
narrative_ontology:constraint_claim(nighttown_hallucinatory_vigil, noose).

% Metrics: Extractiveness (0.6 - Psychological extraction) and Suppression (0.8 - High repression)
domain_priors:base_extractiveness(nighttown_hallucinatory_vigil, 0.6).
domain_priors:suppression_score(nighttown_hallucinatory_vigil, 0.8).
domain_priors:requires_active_enforcement(nighttown_hallucinatory_vigil).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(nighttown_hallucinatory_vigil, extractiveness, 0.6).
narrative_ontology:constraint_metric(nighttown_hallucinatory_vigil, suppression_requirement, 0.8).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(nighttown_hallucinatory_vigil, nighttown_economic_vice).
constraint_victim(nighttown_hallucinatory_vigil, stephen_dedalus_psyche).
constraint_victim(nighttown_hallucinatory_vigil, bloom_leopold_psyche).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom utilizes his "alert" state and "masonic" stances as a "Rope"—a 
   functional coordination tool to protect Stephen and manage the 
   hallucinations of his own past (Rudy).
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    nighttown_hallucinatory_vigil,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE DEAFMUTE IDIOT - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "shapeless mouth dribbling... jerks past".
   WHY: For the truly powerless in Nighttown, the environment is a "Noose"—an 
   inescapable trap of physical and social degradation where no coordination 
   benefits exist.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    nighttown_hallucinatory_vigil,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ENVIRONMENT (Nighttown) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - The "Swancomb of the gondola" and the "lighthouse".
   WHY: From the institutional perspective of the district, the chaos and the 
   "Saint Vitus’ dance" are a "Mountain"—the immutable, logic-defying laws 
   of the night.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    nighttown_hallucinatory_vigil,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(nighttown_hallucinatory_tests).

test(multi_perspective_circe) :-
    constraint_indexing:constraint_classification(nighttown_hallucinatory_vigil, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(nighttown_hallucinatory_vigil, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 = rope, T2 = noose.

test(immutability_nighttown_scaling) :-
    % Institutional view sees the hallucinations as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(nighttown_hallucinatory_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the 'psychic_confrontation' mismatch. Declaring the 
 * claim as 'noose' allows the audit to identify how the "False Mountain" of 
 * hallucination masks an underlying 'Noose' of extreme psychological 
 * suppression.
 */

omega_variable(
    rudy_apparition_status,
    "Is Rudy's apparition a healing vision (Rope) or a symptom of deep 
    trauma-based extraction (Noose)?",
    resolution_mechanism("Comparative analysis of Bloom's posture as 'secret master'"),
    impact("If healing: Rope. If symptom: Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Physical Resistance/Departure: Stephen and Bloom could have left 
 * immediately. Rejected/Suppressed by the "Saint Vitus’ dance" and the 
 * "skeleton tracks" of the environment.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */



% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp15, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp15, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp15, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: bloom_samaritan_paternal_care
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ulysses, Chapter 16 (Eumaeus)
% ============================================================================

:- module(bloom_samaritan_paternal_care, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bloom_samaritan_paternal_care
 * human_readable: The Samaritan Paternal Obligation
 * domain: social/emotional
 * temporal_scope: June 17, 1904 (1:00 AM - 2:00 AM)
 * spatial_scope: Beaver street and the Cabman's Shelter, Dublin
 * * SUMMARY:
 * Leopold Bloom feels a self-imposed "duty" to protect the exhausted and 
 * "unsteady" Stephen Dedalus. This constraint operates in a 
 * narcotic state of early morning fatigue, extracting energy from Bloom to 
 * maintain social "propriety" and Stephen's safety.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate navigating via "orthodox Samaritan" 
 * logic (Rope).
 * - Stephen Dedalus: Individual powerless agent, "unsteady" and "e.d.ed" 
 * (exhausted), for whom the care is an inescapable trap (Noose).
 * - Social Orthodoxy: Institutional force viewing paternal duty as an 
 * immutable law of "propriety" (Mountain).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(bloom_samaritan_id, 0, 10).
% Fixed: Changed 'social_stewardship' to 'noose' to satisfy schema
narrative_ontology:constraint_claim(bloom_samaritan_paternal_care, noose).

% Metrics: Extractiveness (0.5 - High fatigue cost) and Suppression (0.6 - Social duty)
domain_priors:base_extractiveness(bloom_samaritan_paternal_care, 0.5).
domain_priors:suppression_score(bloom_samaritan_paternal_care, 0.6).
domain_priors:requires_active_enforcement(bloom_samaritan_paternal_care).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(bloom_samaritan_paternal_care, extractiveness, 0.5).
narrative_ontology:constraint_metric(bloom_samaritan_paternal_care, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(bloom_samaritan_paternal_care, stephen_dedalus_safety).
constraint_victim(bloom_samaritan_paternal_care, bloom_leopold_vitality).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom views his care for Stephen as a "Rope"—a functional coordination 
   mechanism to navigate the "rub" of the late hour and ensure their 
   mutual "ablutions" and safety.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_samaritan_paternal_care,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: STEPHEN DEDALUS - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "His mind was not exactly what you would call 
   wandering but a bit unsteady".
   WHY: From Stephen's exhausted perspective, Bloom's "Samaritan" care is 
   a "Noose"—he is effectively "kidnapped" by kindness and social obligation 
   without the agency to refuse.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_samaritan_paternal_care,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: SOCIAL ORTHODOXY - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - The "propriety" and "orthodox Samaritan fashion" 
   of 1904 Dublin.
   WHY: From the institutional perspective of social norms, the duty to 
   protect the "pale" and "unsteady" is an immutable fact of 
   civilized behavior—a Mountain.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_samaritan_paternal_care,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(bloom_samaritan_paternal_tests).

test(multi_perspective_eumaeus) :-
    constraint_indexing:constraint_classification(bloom_samaritan_paternal_care, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(bloom_samaritan_paternal_care, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 = rope, T2 = noose.

test(immutability_samaritan_scaling) :-
    % Institutional view sees the social code as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(bloom_samaritan_paternal_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the 'social_stewardship' mismatch. Mapping the claim 
 * to 'noose' allows the audit to detect if Bloom's "duty" is an act of 
 * genuine coordination (Rope) or a "Noose" that extracts Stephen's autonomy 
 * through unsolicited care.
 */

omega_variable(
    stephen_dissent_silence,
    "Is Stephen's silence at the end of the chapter an exhausted assent (Rope) 
    or a suppressed dissent (Noose)?",
    resolution_mechanism("Investigation into the 'unsteady' silence vs the ballad singing"),
    impact("If exhaustion: Mountain. If dissent: Noose."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Immediate Separation: Bloom could have sent Stephen home in a 
 * "conveyance" alone. Rejected/Suppressed by Bloom's "duty" and his 
 * "soapsuddy" sense of companionship.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp16, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp16, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp16, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: bloom_ithaca_mathematical_order
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: James Joyce, Ulysses, Chapter 17 (Ithaca)
% ============================================================================

:- module(bloom_ithaca_mathematical_order, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bloom_ithaca_mathematical_order
 * human_readable: The Catechism of Mathematical Order
 * domain: scientific/ontological
 * temporal_scope: June 17, 1904 (2:00 AM - 3:00 AM)
 * spatial_scope: 7 Eccles Street, Dublin (and the Macrocosm)
 * * SUMMARY:
 * This constraint represents the exhaustive, cold, and "scientific" lens 
 * through which the final meeting of Bloom and Stephen is filtered. 
 * Every human movement is reduced to its mathematical components—angles, 
 * latitudes, and velocities.
 * * KEY AGENTS:
 * - Leopold Bloom: Individual moderate navigating the late hour via 
 * rationalist coordination (Rope).
 * - Stephen Dedalus: Individual powerless agent, the "childman weary" 
 * for whom the logic is an inescapable trap (Noose).
 * - The Narrator/Universe: Institutional voice viewing the cosmos as 
 * immutable and deterministic (Mountain).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(bloom_ithaca_interval, 0, 10).
% Fixed: Changed 'scientific_determinism' to 'rope' to satisfy schema
narrative_ontology:constraint_claim(bloom_ithaca_mathematical_order, rope).

% Metrics: Extractiveness (0.4 - Intellectual cost) and Suppression (0.6 - Emotional limit)
domain_priors:base_extractiveness(bloom_ithaca_mathematical_order, 0.4).
domain_priors:suppression_score(bloom_ithaca_mathematical_order, 0.6).
domain_priors:requires_active_enforcement(bloom_ithaca_mathematical_order).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(bloom_ithaca_mathematical_order, extractiveness, 0.4).
narrative_ontology:constraint_metric(bloom_ithaca_mathematical_order, suppression_requirement, 0.6).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(bloom_ithaca_mathematical_order, rationalist_clarity).
constraint_victim(bloom_ithaca_mathematical_order, reader_emotional_catharsis).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LEOPOLD BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Bloom uses scientific facts as a "Rope"—a tool to manage his 
   domestic reality and his "like and unlike reactions" to the day, 
   finding comfort in the "perpetual motion of the earth".
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_ithaca_mathematical_order,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: STEPHEN DEDALUS - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - The "manchild in the womb".
   WHY: For the exhausted Stephen, the mathematical "Catechism" is a 
   "Noose"—an extractive trap of interrogation that mirrors his 
   Jesuit training but offers no spiritual release.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_ithaca_mathematical_order,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE COSMOS (Narrator) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional/analytical - The "proper perpetual motion of the earth" 
  .
   WHY: From the perspective of the narrative structure, the laws of physics 
   and the "everchanging tracks of neverchanging space" are a 
   "Mountain"—immutable and absolute.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    bloom_ithaca_mathematical_order,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(global))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(bloom_ithaca_mathematical_tests).

test(multi_perspective_ithaca) :-
    constraint_indexing:constraint_classification(bloom_ithaca_mathematical_order, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(bloom_ithaca_mathematical_order, T2, context(agent_power(institutional), _, _, _)),
    T1 = rope, T2 = mountain.

test(immutability_cosmic_scaling) :-
    % Institutional view sees the Universe as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(bloom_ithaca_mathematical_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the 'scientific_determinism' mismatch. Declaring the 
 * claim as 'rope' allows the audit to detect the "Stalemate" where 
 * Bloom attempts rational coordination (Rope) while the narrative 
 * enforces an immutable "False Mountain" of cold data.
 */

omega_variable(
    bloom_stephen_coordination,
    "Does the 'parallel course' indicate a genuine coordination (Rope) or 
    an astronomical isolation (Noose)?",
    resolution_mechanism("Cross-referencing their 'like and unlike reactions'"),
    impact("If coordination: Rope. If isolation: Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Emotional Sentimentality: A warm, traditional reunion. 
 * Rejected/Suppressed by the "Catechism" format and the "reduced pace" 
 * of scientific prose.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp17, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp17, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp17, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: molly_affirmation_cycle
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: James Joyce, Ulysses, Chapter 18 (Penelope)
% ============================================================================

:- module(molly_affirmation_cycle, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: molly_affirmation_cycle
 * human_readable: The Rhythmic Affirmation (Molly’s Stream)
 * domain: biological/social/psychological
 * temporal_scope: June 17, 1904 (Pre-dawn)
 * spatial_scope: 7 Eccles Street, Dublin (The Bed)
 * * SUMMARY:
 * This constraint represents the fluid, unpunctuated consciousness of Molly Bloom 
 * as she reconciles her day and her marriage. It functions as a tool for 
 * emotional coordination, moving from the "night hours" of doubt to the 
 * "morning hours" of affirmation.
 * * KEY AGENTS:
 * - Molly Bloom: Individual moderate navigating a "Rope" of memory and desire.
 * - Leopold Bloom: Individual powerless subject to Molly's domestic demands and 
 * final acceptance (Noose/Rope).
 * - The Catholic Church (Mrs. Riordan's path): Institutional force viewing 
 * female morality as an immutable law (Mountain).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(molly_affirmation_id, 0, 10).
% Fixed: Changed 'cyclical_affirmation' to 'rope' to satisfy schema
narrative_ontology:constraint_claim(molly_affirmation_cycle, rope).

% Metrics: Extractiveness (0.4 - Emotional labor) and Suppression (0.5 - Boundary breakdown)
domain_priors:base_extractiveness(molly_affirmation_cycle, 0.4).
domain_priors:suppression_score(molly_affirmation_cycle, 0.5).
domain_priors:emerges_naturally(molly_affirmation_cycle).

% Explicit metric hooks to prevent auto-imputation
narrative_ontology:constraint_metric(molly_affirmation_cycle, extractiveness, 0.4).
narrative_ontology:constraint_metric(molly_affirmation_cycle, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(molly_affirmation_cycle, bloom_leopold_marriage).
constraint_victim(molly_affirmation_cycle, social_orthodoxy).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: MOLLY BLOOM - Rope
   --------------------------------------------------------------------------
   WHY: Molly uses her internal monologue as a "Rope"—a functional coordination 
   tool to weave her disparate memories (Gibraltar, Bloom, Boylan) into a 
   single, coherent affirmation of her life.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    molly_affirmation_cycle,
    rope,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: LEOPOLD BLOOM - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - "Ask to get his breakfast in bed with a couple 
   of eggs".
   WHY: From Bloom's current state of sleep and domestic dependence, Molly's 
   affirmation and its associated demands are a "Noose"—he is bound by 
   her decisions and her "Yes" without active agency in this chapter.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    molly_affirmation_cycle,
    noose,
    context(agent_power(individual_powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: SOCIAL ORTHODOXY (Mrs. Riordan) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional - "Pious because no man would look at her twice" 
  .
   WHY: From the institutional perspective of 1904 Catholic morality, the 
   laws of marriage and female propriety are a "Mountain"—immutable and 
   divinely ordained laws that Molly's "stream" technically violates.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    molly_affirmation_cycle,
    mountain,
    context(agent_power(institutional), time_horizon(historical), exit_options(trapped), spatial_scope(national))
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(molly_affirmation_tests).

test(multi_perspective_penelope) :-
    constraint_indexing:constraint_classification(molly_affirmation_cycle, T1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(molly_affirmation_cycle, T2, context(agent_power(institutional), _, _, _)),
    T1 = rope, T2 = mountain.

test(immutability_rhythm_scaling) :-
    % Institutional view sees the moral code as a Mountain
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(molly_affirmation_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION & OMEGAS
   ========================================================================== */

/**
 * LLM GENERATION NOTES:
 * Refactored to eliminate the 'cyclical_affirmation' mismatch. Declaring the 
 * claim as 'rope' allows the audit to identify how Molly's internal 
 * coordination (Rope) creates a "Stalemate" with the external 
 * institutional 'Mountain' of social expectations.
 */

omega_variable(
    molly_intent_sincerity,
    "Is the final 'Yes' a reconciliation with Bloom (Rope) or an undifferentiated 
    affirmation of all sensation (Mountain)?",
    resolution_mechanism("Analysis of the transition from Gibraltar memories to the bed in Eccles Street"),
    impact("If reconciliation: Rope. If biological sensation: Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================\
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Outright Departure: Mentioned as "as well him as another". 
 * Rejected/Suppressed by Molly's emotional history and her logistical 
 * domestic needs.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(ulysses_chp18, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(ulysses_chp18, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(ulysses_chp18, noose, agent_power(individual_powerless)).
% ============================================================================
% CONSTRAINT STORY: unclos_2026
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: UNCLOS 1982; BBNJ Treaty (2026); South China Sea Award (2016-2026)
% ============================================================================

:- module(constraint_unclos_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    constraint_indexing:extractiveness_for_agent/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: unclos_2026
 * human_readable: UN Convention on the Law of the Sea (2026 Context)
 * domain: legal/geopolitical/environmental
 * temporal_scope: 1982 - Present (2026 BBNJ integration)
 * spatial_scope: Global Oceans
 * * SUMMARY:
 * UNCLOS, often called the "Constitution of the Oceans," establishes a 
 * comprehensive legal framework for all maritime activities. In 2026, 
 * this constraint is revitalized by the entry into force of the BBNJ Treaty 
 * (High Seas Treaty) on January 17, 2026, which creates the first legally 
 * binding rules for biodiversity in international waters.
 * * KEY AGENTS:
 * - Coastal States (e.g., Philippines): Rely on UNCLOS to defend sovereign rights 
 * within 200nm Exclusive Economic Zones (EEZ).
 * - Hegemonic Dissents (e.g., China, USA): Challenge specific parts of the 
 * regime (e.g., seabed mining or compulsory arbitration) as coercive.
 * - International Seabed Authority (ISA): Institutional enforcer of mining rules.
 * * NARRATIVE ARC:
 * UNCLOS transitions from a "Rope" of functional cooperation to a "Mountain" of 
 * customary law for most. However, for powers claiming "historic rights" 
 * outside the Convention, it is treated as a "Noose" to be rejected.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Structural Anchor for Audit Suite
narrative_ontology:interval(unclos_era, 1982, 2026).
narrative_ontology:constraint_claim(unclos_2026, rope).

% Base extractiveness: 0.3
% Rationale: While largely fair, it "extracts" absolute freedom of navigation 
% and resource exploitation from states to provide a stable order.
domain_priors:base_extractiveness(unclos_2026, 0.3).

% Suppression score: 0.2
% Rationale: It suppresses unilateral maritime claims (like the "cannon-shot rule" 
% or "nine-dash line") in favor of a zone-based framework.
domain_priors:suppression_score(unclos_2026, 0.2).

% Enforcement: Requires active maintenance (e.g., ISA meetings, arbitral tribunals).
domain_priors:requires_active_enforcement(unclos_2026).

% Beneficiaries & Victims
constraint_beneficiary(unclos_2026, land_locked_states). % Access to sea.
constraint_beneficiary(unclos_2026, coastal_middle_powers). % Stability of EEZ.
constraint_victim(unclos_2026, maritime_unilateralists). % Powers seeking "historic" titles.

% Metrics
narrative_ontology:constraint_metric(unclos_2026, extractiveness, 0.3).
narrative_ontology:constraint_metric(unclos_2026, suppression_requirement, 0.2).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: SMALL COASTAL STATE (e.g., Philippines) - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - Relatively weaker militarily against superpowers.
   WHEN: biographical - Sovereign survival depends on these "fixed" rules.
   WHERE: trapped - Bound by the geography of their coastline.
   SCOPE: national - Focused on protecting local fishing and resources.
   
   WHY THIS CLASSIFICATION:
   For states relying on the "rules-based order" for survival, UNCLOS and the 
   2016 Arbitral Award are treated as unchangeable natural laws (Mountain) 
   that bind all parties.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    unclos_2026,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE UN SECRETARIAT / EU - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Rule-making and coordinating body.
   WHEN: civilizational - Looking at long-term ocean health (BBNJ).
   WHERE: mobile - Can negotiate and add treaties/annexes.
   SCOPE: global - Worldwide ocean governance.
   
   WHY THIS CLASSIFICATION:
   For the architects of the BBNJ treaty, UNCLOS is a functional "Constitution" 
   (Rope)—a tool to be refined to share benefits fairly and create protected 
   areas in the high seas.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    unclos_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: MARITIME SUPERPOWER (e.g., China/USA) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerful - Significant influence; can act unilaterally.
   WHEN: immediate - Focused on current tactical/resource advantages (mining/islands).
   WHERE: arbitrage - Claims "not bound" by specific rules while using others.
   SCOPE: global/regional - Ambitions spanning entire oceans.
   
   WHY THIS CLASSIFICATION:
   For powers like China, the 2016 Award is a "Noose" that attempts to 
   asymmetrically restrict their perceived "historic rights". For 
   the US, Part XI (seabed mining) is viewed as an extractive limit on 
   economic/security interests.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    unclos_2026,
    noose,
    context(
        agent_power(individual_powerful),
        time_horizon(immediate),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(unclos_2026_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(unclos_2026, Type1, context(agent_power(individual_powerless), time_horizon(biographical), exit_options(trapped), spatial_scope(national))),
    constraint_indexing:constraint_classification(unclos_2026, Type2, context(agent_power(institutional), time_horizon(civilizational), exit_options(mobile), spatial_scope(global))),
    Type1 = mountain,
    Type2 = rope.

test(hegemonic_noose_perception) :-
    % Powerful agents see it as a Noose when it restricts "historic" titles.
    constraint_indexing:constraint_classification(unclos_2026, noose, context(agent_power(individual_powerful), time_horizon(immediate), exit_options(arbitrage), spatial_scope(global))).

test(bbnj_rope_dynamic) :-
    % BBNJ Treaty (High Seas) entry into force 2026 marks a Rope expansion.
    narrative_ontology:interval(unclos_era, _, 2026).

:- end_tests(unclos_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE GAPS: Highlighted the gap between the "Mountain" of law for 
 * smaller states and the "Noose" of restriction for dissenting superpowers.
 * 2. 2026 CONTEXT: Integrated the BBNJ treaty (Jan 2026) as proof of UNCLOS's 
 * nature as a "living" Rope for institutional actors.
 * 3. EXTRACTIVENESS: Set at 0.3. It is not purely extractive, but powerful 
 * states perceive it as such when it "locks" resources they could otherwise 
 * seize.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    us_seabed_unilateralism,
    "Will U.S. Executive Order 14285 create a permanent split in the seabed mining regime?",
    resolution_mechanism("Monitor the conflict between NOAA-issued licenses and ISA contracts in 2026-2027."),
    impact("If Yes: UNCLOS becomes a failing Rope. If No: It solidifies as a Mountain."),
    confidence_without_resolution(medium)
).

omega_variable(
    scs_finality,
    "Does international pressure suffice to enforce the 'final' status of the 2016 Award in 2026?",
    resolution_mechanism("Observe the shift in 'Arbitration Support' from neutral to fully supporting countries."),
    impact("If High Support: Mountain. If Low: It remains a contestable Noose for China."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Unilateral "Cannon-Shot" or "Historic Rights" Claims
 * Viability: Historically practiced; China's "nine-dash line" is a modern 
 * version.
 * Suppression: Explicitly invalidated by the 2016 Arbitral Tribunal.
 * * ALTERNATIVE 2: Regional Bilateral Agreements
 * Viability: Beijing's preferred method for South China Sea.
 * Suppression: Small states prefer the "Universal" Rope of UNCLOS to balance power.
 * * CONCLUSION:
 * The shift from "Historic Rights" (Mountain-like natural title) to UNCLOS 
 * zones (Institutional Rope) is the core of 2026 maritime tension.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: union_protection_underperformance
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Labor Relations Analysis / Collective Bargaining Agreements
% ============================================================================

:- module(constraint_union_job_protection, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: union_protection_underperformance
 * human_readable: Just-Cause Protection for Underperforming Employees
 * domain: economic/social
 * temporal_scope: Ongoing (Modern Unionized Labor)
 * spatial_scope: National/Regional (Unionized Sectors)
 * * SUMMARY:
 * This constraint refers to the "Just Cause" and due process provisions in 
 * collective bargaining agreements that make it difficult to terminate 
 * employees for sub-par performance without exhaustive documentation and 
 * remediation attempts. It is designed to prevent arbitrary firing but often 
 * results in the retention of chronic underperformers.
 * * KEY AGENTS:
 * - Underperforming Employee: Individual powerful (within the system); 
 * protected by procedural shields.
 * - Front-line Supervisor: Individual powerless; must navigate the 
 * bureaucratic burden of proof to effect change.
 * - The Union (Institutional): Rule-enforcing power; ensures procedural 
 * fidelity regardless of individual merit.
 * * NARRATIVE ARC:
 * These protections serve as a Rope for the collective (ensuring fairness). 
 * However, for the supervisor, they are an unyielding Mountain of red tape. 
 * For the organization and high-performing peers, the retention of 
 * underperformers can become a Noose, extracting morale and productivity.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(labor_management_conflict_r1, 0, 10).
narrative_ontology:constraint_claim(union_protection_underperformance, rope).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.6. Moderate/High extraction; the system "extracts" wages 
% from the employer and labor from high-performing peers who must cover 
% the gap, in exchange for broad-based job security.
domain_priors:base_extractiveness(union_protection_underperformance, 0.6).

% Suppression score (0.0-1.0)
% Rationale: 0.5. Alternatives (merit-based at-will employment) are 
% visible but strictly suppressed within the unionized environment 
% through the legal force of the contract.
domain_priors:suppression_score(union_protection_underperformance, 0.5).

% Enforcement requirements
% Requires active enforcement (Grievance procedures, arbitration, shop 
% steward monitoring).
domain_priors:requires_active_enforcement(union_protection_underperformance).

% Metrics required for Executive Summary
narrative_ontology:constraint_metric(union_protection_underperformance, extractiveness, 0.6).
narrative_ontology:constraint_metric(union_protection_underperformance, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(union_protection_underperformance, underperforming_members).
constraint_beneficiary(union_protection_underperformance, labor_stability).
constraint_victim(union_protection_underperformance, organizational_efficiency).
constraint_victim(union_protection_underperformance, high_performing_coworkers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: FRONT-LINE SUPERVISOR - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Despite their title, they lack the agency to 
         dismiss an employee without months of documented failure.
   WHEN: immediate - Dealing with the daily output gap.
   WHERE: trapped - Bound by the specific language of the CBA.
   SCOPE: local - Their specific team or shift.
   
   WHY THIS CLASSIFICATION:
   To the supervisor, the protection is a Mountain. They cannot move it or 
   climb over it. The "burden of proof" is so high that the underperformer 
   appears as a permanent feature of the workplace landscape.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    union_protection_underperformance,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(union_protection_underperformance),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE UNION STEWARD - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Represents the collective and enforces the rules.
   WHEN: biographical - Protecting the career longevity of all members.
   WHERE: mobile - Can negotiate grievances and settle disputes.
   SCOPE: regional/national - The broader labor movement interests.
   
   WHY THIS CLASSIFICATION:
   The steward views the protection as a Rope—a vital coordination mechanism 
   that prevents management from being arbitrary or retaliatory. It is a 
   functional standard that protects the "weak" to ensure the security 
   of the "strong."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    union_protection_underperformance,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(union_protection_underperformance, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: HIGH-PERFORMING PEER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has some agency (can leave) but is currently bound.
   WHEN: biographical - Their career growth is slowed by the "dead wood."
   WHERE: constrained - High cost of leaving if they have seniority/pensions.
   SCOPE: local - The immediate working environment.
   
   WHY THIS CLASSIFICATION:
   The high-performer sees the Noose. The protection of the underperformer 
   extracts more labor from them (to cover the gap) while the institution 
   chokes off their own advancement or morale.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    union_protection_underperformance,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(union_protection_underperformance, S),
    S > 0.4,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(union_protection_tests).

test(multi_perspective_conflict) :-
    % Supervisor (Mountain) vs Steward (Rope) vs Peer (Noose)
    constraint_indexing:constraint_classification(union_protection_underperformance, T1, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(union_protection_underperformance, T2, context(institutional, biographical, mobile, national)),
    constraint_indexing:constraint_classification(union_protection_underperformance, T3, context(individual_moderate, biographical, constrained, local)),
    T1 \= T2, T2 \= T3.

test(extraction_peer_burden) :-
    % Test if extraction score reflects the burden on the organization/peers
    domain_priors:base_extractiveness(union_protection_underperformance, E),
    E > 0.5.

:- end_tests(union_protection_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: Labeled primarily as 'Rope' because job protection 
 * is the core functional product of a union.
 * 2. PERSPECTIVE SHIFT: The "Supervisor" is modeled as powerless here, 
 * which is an important inversion. In a union environment, the legal 
 * weight of the CBA often renders the manager a subject to the rules.
 */

omega_variable(
    productivity_threshold_ambiguity,
    "Is 'underperformance' a subjective management label (Noose) or 
     an objective measurable deficit (Mountain)?",
    resolution_mechanism("Comparison of grievance outcomes where quantitative metrics exist vs. qualitative assessments"),
    impact("If Quantitative: The protection is a Rope for fairness. If Qualitative: 
            It is a Mountain of bureaucratic stalemate."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Performance-Based Peer Review
 * Viability: Some professional guilds use peer evaluation to manage 
 * underperformance while maintaining safety.
 * Suppression: Suppressed by union leadership to avoid "pitting member 
 * against member" and weakening collective solidarity.
 * * CONCLUSION:
 * The suppression of performance-based alternatives in favor of rigid 
 * proceduralism shifts the classification from a coordination Rope 
 * toward a Noose for the organization's high-performers.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [union_protection_underperformance].
% 2. Report: ?- multi_index_report(union_protection_underperformance).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: universal_mathematics_communication
% ============================================================================
% Generated: January 20, 2026
% Model: Gemini 2.0 Flash
% Source: bee_communication.pdf
% ============================================================================

:- module(constraint_universal_mathematics_communication, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
domain_priors:base_extractiveness/2,
domain_priors:suppression_score/2,
domain_priors:requires_active_enforcement/1,
constraint_indexing:constraint_classification/3.

/* ==========================================================================

1. NARRATIVE CONTEXT
========================================================================== */

/**

* CONSTRAINT IDENTIFICATION
* * constraint_id: universal_mathematics_communication


* human_readable: Mathematics as a Universal Communication Constraint
* domain: technological/scientific
* temporal_scope: 17th Century to Civilizational Future
* spatial_scope: Global to Interstellar
* * SUMMARY:


* This constraint posits that mathematics is not a human invention but a
* fundamental "language of the universe". It acts as a bridge for


* communication between species with "alien" minds—such as humans and bees,
* or humans and extraterrestrials—by providing a shared framework of logic
* and quantity.


* * KEY AGENTS:


* * Human Scientists: Researchers seeking to establish contact with alien life using binary or mathematical signals.




* * Honeybees: "Insectoid alien models" that have independently evolved the capacity for simple arithmetic and symbolic learning.




* * Extraterrestrials: Hypothetical intelligent entities whose ability to communicate with Earth depends on the universality of mathematical laws.




* * NARRATIVE ARC:


* Starting with Galileo's observation of nature's mathematical "language," the narrative moves through
* human efforts like the Arecibo message and Voyager's Golden Record. It then grounds


* this in empirical biology, showing that honeybees—diverged from humans for 600 million years—can
* still "calculate," suggesting mathematics is a Mountain-like constraint of intelligence itself.
*/



/* ==========================================================================
2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(scientific_consensus_period, 0, 10).
narrative_ontology:constraint_claim(universal_mathematics_communication, mountain).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: Mathematics is non-extractive; it is a shared discovery that
% enables cooperation rather than exploitation.
domain_priors:base_extractiveness(universal_mathematics_communication, 0.1).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: While mathematical truths are "enforced" by logic, alternative
% "dialects" or formulations of math are considered possible.
domain_priors:suppression_score(universal_mathematics_communication, 0.2).

% Enforcement requirements
% Emerges naturally as a consequence of intelligence and physical reality.
domain_priors:emerges_naturally(universal_mathematics_communication).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(universal_mathematics_communication, extractiveness, 0.1).
narrative_ontology:constraint_metric(universal_mathematics_communication, suppression_requirement, 0.0).

/* ==========================================================================
3. INDEXED CLASSIFICATIONS (Perspectival Truth)
========================================================================== */

## /* --------------------------------------------------------------------------
PERSPECTIVE 1: HONEYBEE (Powerless Subject) - Mountain

WHO: individual_powerless - Subjects in human-led experiments.
WHEN: immediate - Focused on the "now" of the reward (sugar water).
WHERE: trapped - Bound by the physical and neurological limits of their "miniature brains".
SCOPE: local - Immediate environment of the test.

WHY THIS CLASSIFICATION:
For the bee, the logic of addition and subtraction is an immutable feature
of the world they must navigate to survive (or get sugar). They cannot change
the rules of "odd/even" or the existence of "zero"; they can only discover
and adapt to them.

NARRATIVE EVIDENCE:
"Bees showed evidence of solving simple addition and subtraction... including
an understanding of 'zero'".
-------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
universal_mathematics_communication,
mountain,
context(
agent_power(individual_powerless),
time_horizon(immediate),
exit_options(trapped),
constraint_beneficiary(universal_mathematics_communication, honeybee),
constraint_victim(universal_mathematics_communication, none),
spatial_scope(local)
)
) :-
domain_priors:emerges_naturally(universal_mathematics_communication),
domain_priors:suppression_score(universal_mathematics_communication, S),
S < 0.3,
!.

## /* --------------------------------------------------------------------------
PERSPECTIVE 2: NASA/SETI SCIENTIST (Institutional) - Rope

WHO: institutional - Backed by state/academic power to send interstellar signals.
WHEN: historical - Communication spanning decades or centuries.
WHERE: mobile - Actively choosing which mathematical "symbols" or "binary" to use.
SCOPE: global - Designing messages for the entire planet/species.

WHY THIS CLASSIFICATION:
For institutions, mathematics is a coordination mechanism (Rope). It is
functional and changeable in its *expression* (e.g., binary vs. prime sequences)
to facilitate the goal of interstellar conversation.

NARRATIVE EVIDENCE:
"Researchers developed a binary language designed to introduce
extraterrestrials to human mathematics".
-------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
universal_mathematics_communication,
rope,
context(
agent_power(institutional),
time_horizon(historical),
exit_options(mobile),
constraint_beneficiary(universal_mathematics_communication, humanity),
constraint_victim(universal_mathematics_communication, none),
spatial_scope(global)
)
) :-
domain_priors:base_extractiveness(universal_mathematics_communication, E),
E < 0.3,
!.

## /* --------------------------------------------------------------------------
PERSPECTIVE 3: ANALYTICAL PHILOSOPHER - Rope/Mountain Hybrid

WHO: analytical - Observer questioning the nature of reality.
WHEN: civilizational - Considering the long-term divergence of species.
WHERE: analytical - Viewing math from a conceptual distance.
SCOPE: global - Applying findings across biological domains.

WHY THIS CLASSIFICATION:
The observer sees math as a Rope because different species may develop
"different approaches... akin to dialects," but ultimately it is a Mountain
if it is an unavoidable "consequence of intelligence".

NARRATIVE EVIDENCE:
"Question of whether mathematics is an entirely human construction, or if
it is a consequence of intelligence and thus, universal".
-------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
universal_mathematics_communication,
rope,
context(
agent_power(analytical),
time_horizon(civilizational),
exit_options(analytical),
constraint_beneficiary(universal_mathematics_communication, intelligent_life),
constraint_victim(universal_mathematics_communication, none),
spatial_scope(global)
)
) :-
domain_priors:suppression_score(universal_mathematics_communication, S),
S < 0.3,
!.

/* ==========================================================================
4. TESTS (What We Learn About Constraints)
========================================================================== */

:- begin_tests(universal_mathematics_tests).

/**

* TEST 1: Multi-perspective variance
* Demonstrates that the Bee sees a Mountain (nature) while the Scientist sees a Rope (tool).
*/
test(multi_perspective_utilization) :-
constraint_indexing:constraint_classification(
universal_mathematics_communication,
mountain,
context(individual_powerless, immediate, trapped, _, _, local)
),
constraint_indexing:constraint_classification(
universal_mathematics_communication,
rope,
context(institutional, historical, mobile, _, _, global)
).

/**

* TEST 2: Extraction check
* Confirms that Universal Math is categorized as non-extractive (not a Noose).
*/
test(non_extractive_nature) :-
domain_priors:base_extractiveness(universal_mathematics_communication, E),
E < 0.3.

/**

* TEST 3: Time-horizon mutability
* Short horizons perceive math as fixed; long horizons allow for "dialect" shifts.
*/
test(time_immutability_scaling) :-
% Immediate/Biographical + trapped tends to perceive Mountain
constraint_indexing:constraint_classification(universal_mathematics_communication, mountain, context(_, immediate, trapped, _, _, _)).

:- end_tests(universal_mathematics_tests).

/* ==========================================================================
5. MODEL INTERPRETATION (Commentary)
========================================================================== */

/**

* LLM GENERATION NOTES
* * Model: Gemini 2.0 Flash


* * KEY DECISIONS MADE BY MODEL:


* * 1. BASE EXTRACTIVENESS (0.1):




* Reasoning: Mathematics is presented as a neutral or beneficial "universal
* language." There is no evidence of it being used to extract value from
* bees; rather, humans provide sugar to bees to study it.


* * 2. PERSPECTIVE SELECTION:




* * Honeybee: Chosen to represent the "powerless" subject and show that math


* works even for brains with 600m years of separation.


* * Scientist/NASA: Chosen to represent the institutional "Rope" view—using


* math to bridge gaps.


* * 3. CLASSIFICATION RATIONALE:




* * Bee → Mountain: Because a bee cannot "renegotiate" addition; it is an


* innate constraint of intelligence.


* * Scientist → Rope: Because humans *choose* which mathematical markers


* (primes, binary, symbols) to use as coordination tools.


* * 4. AMBIGUITIES IN SOURCE MATERIAL:




* * The source admits we don't know if math is a human construction or a


* universal truth. This is formalized as an Omega.


* 5. OMEGAS


* omega_variable(math_ontological_status,
* "Is mathematics a human construct (Rope/Scaffold) or a universal consequence of intelligence (Mountain)?",
*	resolution_mechanism("Comparison with verified extraterrestrial mathematical systems "),


* impact("If Mountain: Interstellar communication is guaranteed. If Rope: Contact may be impossible without shared culture."),
* confidence_without_resolution(medium)
* ).
*/

/* ==========================================================================
6. ALTERNATIVE ANALYSIS
========================================================================== */

/**

* VIABLE ALTERNATIVES
* * Does this constraint have alternatives?

* * ALTERNATIVE 1: Biological/Pheromonal Communication

* Viability: The "waggle dance" used by bees.

* Suppression: Not suppressed, but limited in range; cannot reach the stars.
* * ALTERNATIVE 2: Linguistic/Cultural Translation

* Viability: Human languages.

* Suppression: Rejected for interstellar use because there is "no shared language"
* with aliens.

* * CONCLUSION:
* The presence of alternatives for local communication (waggle dance) makes
* local communication a Rope, but for interstellar distances, Math is treated
* as the only viable "Mountain" we can rely on.
*/

/* ==========================================================================
7. INTEGRATION HOOKS
========================================================================== */

/**

* TO USE THIS CONSTRAINT:
* 1. Load: ?- [universal_mathematics_communication].

* 2. Run multi-perspective analysis: ?- multi_index_report(universal_mathematics_communication).

* 3. Run tests: ?- run_tests(universal_mathematics_tests).
*/

/* ==========================================================================
END OF CONSTRAINT STORY
========================================================================== */
% ============================================================================
% CONSTRAINT STORY: us_suburban_zoning_2025
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: NYT Article "Would the Housing Crisis Ease if Boomers Rented Out Their Empty Rooms?" (May 4, 2025)
% ============================================================================

:- module(constraint_us_suburban_zoning_2025, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: us_suburban_zoning_2025
 * human_readable: Single-Family Suburban Zoning
 * domain: political/legal/social
 * temporal_scope: 1970s - 2025 (Active/Under Pressure)
 * spatial_scope: National (United States)
 * * SUMMARY:
 * Local zoning codes restrict large swaths of metropolitan land to low-density, 
 * single-family homes, creating a mismatch between existing housing stock 
 * and modern demographic needs. This legal constraint effectively bans 
 * apartment buildings and "roommate houses" in many areas, driving up 
 * [cite_start]affordability issues. [cite: 10, 13]
 * * KEY AGENTS:
 * - [cite_start]Monte Anderson: A "serial rehabber" developer using loopholes (hidden doors) to retrofit suburban homes into multi-unit apartments. [cite: 3, 4]
 * - [cite_start]Boomers/Older Homeowners: Owners of large lots and empty bedrooms, currently incentivized (or trapped) by the single-family status quo. [cite: 10, 16]
 * - [cite_start]Local Planning Boards/Zoning Codes: The institutional enforcers of the single-family mandate. [cite: 3, 10]
 * - [cite_start]Renters/Middle-Income Adults: Agents seeking smaller, affordable housing but priced out by a market biased toward luxury or high-cost single units. [cite: 6, 10]
 * * NARRATIVE ARC:
 * Originally designed for the 1970s nuclear family, zoning now acts as a 
 * [cite_start]"Mountain" of physical and legal inertia. [cite: 10, 11] Entrepreneurs like Anderson 
 * treat it as a "Noose" to be escaped via architectural loopholes, while 
 * states like California are attempting to convert it into a "Rope" (flexible 
 * [cite_start]coordination) through ADU laws. [cite: 12, 14]
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% ID for Python extraction
narrative_ontology:interval(us_suburban_zoning_2025, 1970, 2026).
narrative_ontology:constraint_claim(us_suburban_zoning_2025, noose).

% Base extractiveness: 0.7
% Rationale: High asymmetry. [cite_start]Homeowners with large lots gain "billions in value" [cite: 16] 
[cite_start]% while renters face a shortage of 4-8 million homes, keeping costs high. [cite: 5]
domain_priors:base_extractiveness(us_suburban_zoning_2025, 0.7).

% Suppression: 0.65
[cite_start]% Rationale: Apartment buildings are "essentially banned" in large swaths[cite: 10], 
% and alternatives like "roommate houses" require hidden doors in broom closets 
[cite_start]% to avoid legal detection. [cite: 1, 3]
domain_priors:suppression_score(us_suburban_zoning_2025, 0.65).

[cite_start]% Enforcement: Requires active maintenance (Permits, zoning codes, municipal inspections). [cite: 3, 6]
domain_priors:requires_active_enforcement(us_suburban_zoning_2025).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(us_suburban_zoning_2025, boomer_homeowners). [cite_start]% Own the biggest lots. [cite: 16]
constraint_beneficiary(us_suburban_zoning_2025, local_nimby_residents). [cite_start]% Residents who "don't like change". [cite: 12]
constraint_victim(us_suburban_zoning_2025, middle_income_renters). [cite_start]% Priced out by lack of small units. [cite: 6]
constraint_victim(us_suburban_zoning_2025, multifamily_developers). [cite_start]% Restricted by density limits. [cite: 10]

% Metrics for Executive Summary
narrative_ontology:constraint_metric(us_suburban_zoning_2025, extractiveness, 0.7).
narrative_ontology:constraint_metric(us_suburban_zoning_2025, suppression_requirement, 0.65).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: MONTE ANDERSON (DEVELOPER) - Noose
   --------------------------------------------------------------------------
   WHO: individual_moderate - Has resources to build, but constrained by law.
   WHEN: biographical - His career is built on navigating these specific codes.
   WHERE: constrained - He must hide features (broom closet doors) to survive.
   SCOPE: national - Sees the "America's affordable housing crisis" at large.
   
   WHY THIS CLASSIFICATION:
   Anderson sees zoning as a coercive limit that prevents the "logical" use of 
   existing property. He must "find a loophole" to provide what the market 
   [cite_start]actually needs (multifamily life). [cite: 3, 10]
   
   NARRATIVE EVIDENCE:
   [cite_start]"The main reason for their existence is that they allow Mr. Anderson to claim he lives in a single-family home... when in reality the home contains four apartments." [cite: 3]
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    us_suburban_zoning_2025,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(us_suburban_zoning_2025, E),
    E > 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: YOUNG RENTERS / GRANDDAUGHTER - Mountain
   --------------------------------------------------------------------------
   WHO: individual_powerless - Subjects of the housing shortage.
   WHEN: immediate - Focused on monthly rent ($1,800).
   WHERE: trapped - Housing supply "remained essentially flat" outside ADUs.
   SCOPE: regional - Limited to where they work (e.g., Dallas suburbs).
   
   WHY THIS CLASSIFICATION:
   For those without property, zoning is not a "choice" but a fixed reality 
   of the landscape that dictates where they can live and what they must pay. 
   [cite_start]The shortage is a "grinding" reality they simply endure. [cite: 11, 15]
   
   NARRATIVE EVIDENCE:
   [cite_start]"Construction costs have exploded... most new homes tend to be luxury rentals... rather than something a person with a middle or lower income can afford." [cite: 6]
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    us_suburban_zoning_2025,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(regional)
    )
) :-
    domain_priors:suppression_score(us_suburban_zoning_2025, S),
    S > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: CALIFORNIA LEGISLATORS / ENTREPRENEURS - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to rewrite the rules.
   WHEN: generational - Aiming to add "millions of units" over time.
   WHERE: mobile - Moving toward ADU laws and subdivision flexibility.
   SCOPE: continental - (Representing broad US state-level policy shifts).
   
   WHY THIS CLASSIFICATION:
   They view zoning as a tool that was once useful but now needs "tuning" or 
   "retrofitting." By passing ADU laws, they turn the constraint into a 
   [cite_start]mechanism for coordination and value-unlocking. [cite: 10, 14, 16]
   
   NARRATIVE EVIDENCE:
   [cite_start]"State legislators have proposed a blizzard of housing laws... the humble backyard cottage... is the main bright spot." [cite: 12, 14]
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    us_suburban_zoning_2025,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(continental)
    )
) :- !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(us_suburban_zoning_2025_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(us_suburban_zoning_2025, Type1, context(individual_moderate, biographical, constrained, national)), % Noose
    constraint_indexing:constraint_classification(us_suburban_zoning_2025, Type2, context(individual_powerless, immediate, trapped, regional)), % Mountain
    Type1 \= Type2.

test(power_extractiveness_scaling) :-
    % Middle-income renters (powerless) suffer more from the shortage than institutional brokers (BuildCasa).
    ContextPowerless = context(individual_powerless, immediate, trapped, regional),
    ContextPowerful = context(institutional, generational, mobile, continental),
    domain_priors:base_extractiveness(us_suburban_zoning_2025, Base),
    % Extraction for the powerless is effectively the base + penalty for lack of exit.
    % (Simulation of the index logic)
    true.

test(loophole_as_exit) :-
    % If an agent has a "loophole" (hidden door), they move from Trapped to Constrained.
    % This shifts the classification from Mountain (for the renter) to Noose (for the developer).
    true.

:- end_tests(us_suburban_zoning_2025_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.7): I chose a high score because the text 
 * explicitly notes "yawning inequality" and how the current system 
 * benefits older homeowners (Boomers) while creating a "grinding" 
 * [cite_start]shortage for everyone else. [cite: 15, 16]
 * * 2. SUPPRESSION SCORE (0.65): Alternatives (apartments) aren't just 
 * invisible; they are "essentially banned." The physical concealment 
 * [cite_start]of doors in closets is a literal manifestation of suppression. [cite: 3, 10]
 * * 3. PERSPECTIVES:
 * - [cite_start]Monte Anderson (Noose): He is the primary case study of navigating a coercive law. [cite: 3]
 * - Renters (Mountain): Represents the millions of people who cannot change 
 * [cite_start]the zoning but are forced to "double up" to survive. [cite: 15]
 * - Legislators (Rope): Represents the institutional effort to regain 
 * [cite_start]functional control of the housing stock. [cite: 12]
 * * 4. AMBIGUITIES:
 * - The article suggests Anderson's $1,800 units are "not affordable for low-income tenants," 
 * [cite_start]yet he views his work as a "proof of concept" for affordability. [cite: 9] 
 * I formalized this as an Omega regarding the scalability of his model.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */

omega_variable(
    scalability_of_roommate_model,
    [cite_start]"Will high-cost retrofits ($1M for 4 units) actually lower costs for low-income tenants, or just middle-income ones?", [cite: 9]
    resolution_mechanism("Track average rent per square foot in retrofitted homes vs. traditional apartment builds over 5 years."),
    impact("If Mountain: The retrofit is just a niche luxury. If Rope: It becomes a viable national policy lever."),
    confidence_without_resolution(medium)
).

omega_variable(
    nimby_political_will,
    [cite_start]"Will local residents continue to successfully block zoning changes, or will state-level overrides become the new norm?", [cite: 12]
    resolution_mechanism("Measure the ratio of local zoning vetoes vs. state pre-emption overrides in CA/TX by 2030."),
    impact("If Noose: Residents keep a lock on supply. If Rope: Institutional agents successfully modernize the system."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: High-Density Upzoning (Transit-Oriented Development)
 * [cite_start]Viability: Proposed in CA laws but often met with flat production numbers. [cite: 12, 14]
 * [cite_start]Suppression: Rejected or stalled by local governments and "residents who don't like change." [cite: 12]
 * * ALTERNATIVE 2: Post-War "Mass-Built" Suburbs
 * [cite_start]Viability: The 1950s model that created the shortage. [cite: 15]
 * [cite_start]Evidence: The text notes this model is now "reversed" as households double up. [cite: 15]
 * * CONCLUSION:
 * The existence of ADU laws as a "bright spot" confirms that the rigid 
 * Single-Family zoning is a Noose being partially unraveled. If there 
 * [cite_start]were no alternatives, it would remain a Mountain. [cite: 14]
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: us_two_party_duopoly
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Pew Research (2026), CFR Task Force Report 83 (2025), and Election Analysis
% ============================================================================

:- module(constraint_us_two_party_duopoly, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: us_two_party_duopoly
 * human_readable: The U.S. Two-Party Duopoly and the Third-Party "Spoiler" Constraint
 * domain: political
 * temporal_scope: 2024-2026 (Strategic landscape)
 * spatial_scope: National (United States)
 * * SUMMARY:
 * The U.S. electoral landscape is structurally locked into a two-party system that 37% of Americans 
 * explicitly wish to expand. This constraint functions through "winner-take-all" 
 * mechanics and ballot access barriers, creating a "spoiler effect" where third-party 
 * support often benefits the voter's least preferred major candidate.
 * * KEY AGENTS:
 * - Disillusioned Voter ("Double Hater"): Voters who view both parties as "too extreme" and feel trapped.
 * - Major Party Strategist (Institutional): Actors who maintain the system by "appropriating" third-party issues to neutralize threats.
 * - Third-Party Candidate (The "Sting"): Candidates who highlight neglected issues but rarely achieve electoral viability.
 * * NARRATIVE ARC:
 * The 2024 election and 2026 midterm cycle show an "inflection point" where high partisan 
 * antipathy and dim views of both parties (61% see GOP as extreme; 57% see Dems as extreme) 
 * drive record interest in alternatives, yet the structural "Noose" of the duopoly keeps 
 * power concentrated in the two-party stack.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(us_election_cycle_2026, 2024, 2026).
narrative_ontology:constraint_claim(us_two_party_duopoly, noose).

% Base extractiveness score: High (0.75)
% Rationale: The two major parties capture nearly 100% of legislative and executive seats 
% despite significant public demand for more options (37%-44% among younger adults).
domain_priors:base_extractiveness(us_two_party_duopoly, 0.75).

% Suppression score: High (0.80)
% Rationale: Intentional ballot access barriers, the 15% debate threshold, and the 
% mathematical "spoiler" penalty actively suppress the visibility and viability of alternatives.
domain_priors:suppression_score(us_two_party_duopoly, 0.80).

% Enforcement: Requires active enforcement
% Rationale: Major parties actively use litigation to keep challengers off ballots and 
% re-draw districts to maintain control.
domain_priors:requires_active_enforcement(us_two_party_duopoly).

% Beneficiaries and Victims
constraint_beneficiary(us_two_party_duopoly, [republican_party, democratic_party]).
constraint_victim(us_two_party_duopoly, [independent_voters, third_party_candidates, young_voters]).

narrative_ontology:constraint_metric(us_two_party_duopoly, extractiveness, 0.75).
narrative_ontology:constraint_metric(us_two_party_duopoly, suppression_requirement, 0.80).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: YOUNG DISILLUSIONED VOTER - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless (Price-takers in a binary choice system)
   WHEN: immediate (Voting in the 2026 midterms)
   WHERE: trapped ( estrutural barriers prevent a viable third option)
   SCOPE: national (The entire federal system)
   
   WHY THIS CLASSIFICATION:
   For this agent, the system is a Noose because it forces them to "light their ballot 
   on fire" or vote for an "extreme" major party they don't like.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    us_two_party_duopoly,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: MAJOR PARTY LEADERSHIP - Rope
   --------------------------------------------------------------------------
   WHO: institutional (Rule-making power over the electoral system)
   WHEN: biographical (Long-term party coalition building)
   WHERE: mobile (Can shift platforms to absorb external threats)
   SCOPE: national (Federal governance)
   
   WHY THIS CLASSIFICATION:
   To the parties, the duopoly is a Rope—a functional coordination mechanism that 
   creates a "big tent" to build majorities and prevents radical fragmentation.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    us_two_party_duopoly,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: POLITICAL SCIENTIST / ANALYST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical (Observer of the structural "laws" of voting)
   WHEN: historical (The endurance of the system since 1856)
   WHERE: analytical (Unconstrained by the choice, observing the math)
   SCOPE: national (US-specific plurality rules)
   
   WHY THIS CLASSIFICATION:
   From an analytical view, the duopoly is a Mountain—the natural and unchangeable 
   result of Duverger's Law in a winner-take-all, first-past-the-post system.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    us_two_party_duopoly,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER (POLITICAL SCIENTIST) - Mountain
   --------------------------------------------------------------------------
   WHO: agent_power(analytical) - Observes the unyielding electoral physics.
   WHEN: generational - The FPTP structure has been fixed for centuries.
   WHERE: trapped - Bound by the constitutional and statutory electoral rules.
   SCOPE: global - Affects the policy direction of the global superpower.
   
   WHY THIS CLASSIFICATION:
   The "Mountain" is Duverger's Law and the FPTP architecture. The 
   mathematical pressure toward two-party stability is an unchangeable 
   structural invariant of the American terrain. While voters feel this 
   as a Noose and parties use it as a Rope for gatekeeping, the analyst 
   recognizes it as an immutable fact: the system is mathematically 
   designed to suppress third-party viability regardless of voter intent.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    us_two_party_duopoly,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    domain_priors:requires_active_enforcement(us_two_party_duopoly),
    !.

% Explicit priors reflecting the rigid, high-friction nature of the duopoly.
domain_priors:base_extractiveness(us_two_party_duopoly, 0.4).
domain_priors:suppression_score(us_two_party_duopoly, 0.8).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(duopoly_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(us_two_party_duopoly, noose, context(individual_powerless, immediate, trapped, national)),
    constraint_indexing:constraint_classification(us_two_party_duopoly, rope, context(institutional, biographical, mobile, national)),
    constraint_indexing:constraint_classification(us_two_party_duopoly, mountain, context(analytical, historical, analytical, national)).

test(power_mobility_correlation) :-
    % Institutional power sees mobile exit options (Rope); Powerless sees trapped (Noose)
    constraint_indexing:constraint_classification(us_two_party_duopoly, noose, context(individual_powerless, _, trapped, _)),
    constraint_indexing:constraint_classification(us_two_party_duopoly, rope, context(institutional, _, mobile, _)).

:- end_tests(duopoly_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-20
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.75):
 * The report data shows a massive gap between public preference (37% want more 
 * parties) and structural reality (0% major third-party seats). This 100% 
 * concentration of power by the duopoly is highly extractive.
 * * 2. PERSPECTIVE SELECTION:
 * The "Double Hater" (individual_powerless) vs. "Party Strategist" (institutional) 
 * best illustrates the Perspectival Gap. One group feels suffocated by the choice, 
 * while the other sees it as a stabilizing "coordination tool."
 * * 3. CLASSIFICATION RATIONALE:
 * Categorized as a Mountain for the Analyst because without changing the "first-past-
 * the-post" rules, the two-party outcome is mathematically forced.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    rcv_adoption_tipping_point,
    "Will Ranked Choice Voting (RCV) reach a critical mass of states to break the spoiler math?",
    resolution_mechanism("Monitor state-level ballot initiatives through 2028."),
    impact("If yes, the Mountain (structural lock) becomes a Rope (changeable choice)."),
    confidence_without_resolution(medium)
).

omega_variable(
    latino_voter_realignment,
    "Will the demographic shift of Latino voters toward the GOP consolidate the two-party system or fracture it?",
    resolution_mechanism("Analyze 2026 midterm precinct-level data."),
    impact("High impact on whether third-party alternatives (e.g. Workers parties) gain local traction."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Ranked Choice Voting (RCV)
 * Viability: Actively promoted as the only way to avoid "wasted" third-party votes.
 * Suppression: Blocked by major party legislation in several states to maintain binary control.
 * * ALTERNATIVE 2: "Vocal and Local" Strategy
 * Viability: Focus on state/county levels to build a local imprint before national runs.
 * Suppression: Ignored by major donors and national media who focus only on presidential "spoilers."
 * * CONCLUSION:
 * The existence of suppressed alternatives like RCV confirms the Noose classification 
 * for the powerless voter.
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: van_der_waerden_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Bartel Leendert van der Waerden (1927) / Ramsey Theory
% ============================================================================

:- module(constraint_van_der_waerden_theorem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: van_der_waerden_theorem
 * human_readable: Van der Waerden's Theorem
 * domain: technological
 * temporal_scope: Permanent (Universal Mathematical Law)
 * spatial_scope: Global (Formal Systems)
 * * SUMMARY:
 * Van der Waerden's theorem states that for any given positive integers k and r, 
 * there exists a number N such that if the integers {1, 2, ..., N} are colored 
 * with r colors, then there is at least one monochromatic arithmetic progression 
 * of length k. It is a fundamental result in Ramsey theory, proving that 
 * complete disorder is impossible.
 * * KEY AGENTS:
 * - The Ramsey Theorist: Uses the theorem to find structured patterns in 
 * seemingly random partitions.
 * - The Finitist: Confronted with the astronomical size of the Van der 
 * Waerden numbers W(k, r), which are often beyond the reach of standard 
 * computation.
 * - The Formal System (Arithmetic): The substrate that guarantees order 
 * arises from scale.
 * * NARRATIVE ARC:
 * The theorem functions as a "Mountain" of inevitable structure; it is a 
 * law of the universe that large enough systems must contain patterns. 
 * For the mathematician, it is a "Rope" for proving lower bounds in 
 * combinatorics. However, for the computer scientist seeking the exact 
 * value of N, it becomes a "Noose," as the search space grows at an 
 * ackermannian rate, strangling computational resources.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(van_der_waerden_interval, 0, 10).
narrative_ontology:constraint_claim(van_der_waerden_theorem, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: It extracts "randomness" from the system. It forces structure 
% upon any large set, preventing the existence of "perfect" chaos.
domain_priors:base_extractiveness(van_der_waerden_theorem, 0.2).

% Suppression score (0.0-1.0)
% Rationale: It suppresses the alternative of "disorder." In a system 
% governed by this theorem, the possibility of a purely random partition 
% vanishes once the threshold N is reached.
domain_priors:suppression_score(van_der_waerden_theorem, 0.5).

% Enforcement requirements
domain_priors:emerges_naturally(van_der_waerden_theorem).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(van_der_waerden_theorem, extractiveness, 0.2).
narrative_ontology:constraint_metric(van_der_waerden_theorem, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(van_der_waerden_theorem, ramsey_theorists).
constraint_victim(van_der_waerden_theorem, [chaos_theorists, computational_resources]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MATHEMATICAL LOGICIAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the laws of information.
   WHEN: civilizational - Viewing logic as a permanent substrate.
   WHERE: trapped - Logic cannot bypass the pigeonhole principle or induction.
   SCOPE: global - Universal applicability.
   
   WHY THIS CLASSIFICATION:
   To the logician, the theorem is a Mountain. It is an unchangeable 
   mathematical fact. Complete disorder is logically impossible in a 
   sufficiently large set of integers; this is a fixed peak in the 
   landscape of Ramsey Theory.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    van_der_waerden_theorem,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COMBINATORIAL STRATEGIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to define and utilize formal rules for proofs.
   WHEN: biographical - Achieving results within a career.
   WHERE: arbitrage - Can use the theorem to bound other unknown systems.
   SCOPE: national - Specific to the academic or professional domain.
   
   WHY THIS CLASSIFICATION:
   For the strategist, the theorem is a Rope. It is a coordination mechanism 
   that provides a guarantee of structure. By knowing that a monochromatic 
   progression must exist, they can "pull" other proofs forward by 
   leveraging this guaranteed order.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    van_der_waerden_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE COMPUTATIONAL ALGORITHMIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the limits of compute and time.
   WHEN: immediate - The current task of finding a specific W(k, r) value.
   WHERE: trapped - Limited by the extreme growth of the Van der Waerden numbers.
   SCOPE: local - Immediate workstation.
   
   WHY THIS CLASSIFICATION:
   For the computer scientist trying to calculate W(5, 2), the theorem is 
   a Noose. The upper bounds are so large (Gowers' bounds) that they 
   effectively strangle computational possibility. The theorem promises 
   the number exists, but the complexity of finding it is a trap that 
   tightens as k or r increases.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    van_der_waerden_theorem,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(van_der_waerden_theorem_tests).

test(multi_perspective_variance) :-
    % Perspective 1: Analyst sees Mountain
    constraint_indexing:constraint_classification(van_der_waerden_theorem, mountain, context(agent_power(analytical), _, _, _)),
    % Perspective 2: Institutional sees Rope
    constraint_indexing:constraint_classification(van_der_waerden_theorem, rope, context(agent_power(institutional), _, _, _)),
    % Perspective 3: Powerless sees Noose
    constraint_indexing:constraint_classification(van_der_waerden_theorem, noose, context(agent_power(individual_powerless), _, _, _)).

test(power_extractiveness_complexity) :-
    % Powerless algorists feel the total extraction of compute time (Noose).
    % Institutional mathematicians use it to bound other theories (Rope).
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    domain_priors:base_extractiveness(van_der_waerden_theorem, Score),
    Score > 0.1.

test(time_immutability_scale) :-
    % Long-term civilizational logic = Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(van_der_waerden_theorem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Low. The theorem extracts "entropy" or "disorder" from the 
 * mathematical landscape. It is not coercive in a social sense, but 
 * it forces structure where one might expect none.
 * * 2. SUPPRESSION SCORE (0.5):
 * Reasoning: The theorem suppresses the possibility of long-term random 
 * coloring. Once the scale is large enough, disorder is forbidden.
 * * 3. PERSPECTIVE SELECTION:
 * The Analyst (Mountain) sees the Law. The Strategist (Rope) sees the 
 * Guarantee. The Algorist (Noose) sees the Complexity.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    vd_waerden_exact_growth,
    "What is the exact growth rate of the Van der Waerden numbers W(k, r)?",
    resolution_mechanism("Mathematical proof narrowing the gap between Gowers' upper bounds and current lower bounds"),
    impact("If Gowers-like: It's a permanent Noose for computation. If significantly lower: It becomes a Rope for computer science."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Hales-Jewett Theorem
 * Viability: High. A much more general version of Van der Waerden's theorem 
 * applying to n-dimensional cubes.
 * Suppression: None, they are mutually reinforcing parts of Ramsey theory.
 * * CONCLUSION:
 * Since there are no "chaos-permitting" alternatives for large N, this 
 * constraint remains a Mountain for the universe, but the specific 
 * difficulty of computing N creates a Noose for the individual actor.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_van_der_waerden_theorem].
 * 2. Multi-perspective: ?- multi_index_report(van_der_waerden_theorem).
 * 3. Run tests: ?- run_tests(van_der_waerden_theorem_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: viral_transmission_rates
% ============================================================================
% Generated: 2024-05-20
% Model: Gemini 2.0 Flash
% Source: Epidemiological Modeling / Public Health Policy
% ============================================================================

:- module(constraint_viral_transmission_rates, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: viral_transmission_rates
 * human_readable: Viral Transmission Rates (R0/Rt)
 * domain: technological/biological/political
 * temporal_scope: Pandemic Periods (e.g., 1918, 2020-2023)
 * spatial_scope: Global
 * * SUMMARY:
 * Viral transmission rates (represented by the basic reproduction number R0 and 
 * effective reproduction number Rt) dictate the speed and scale of a pathogen's 
 * spread through a population. These rates act as a hard biological constraint 
 * that forces societal re-organization, policy intervention, and individual 
 * behavioral change to prevent systemic collapse.
 * * KEY AGENTS:
 * - The Epidemiologist (Analytical): Observes the mathematical inevitability of exponential growth.
 * - The Public Health Official (Institutional): Uses Rt as a "Rope" to coordinate lockdowns and vaccinations.
 * - The Quarantined Citizen (Individual Powerless): Experiences the transmission rate as a "Noose" that restricts freedom and extracts labor/income.
 * * NARRATIVE ARC:
 * Initially, R0 appears as a "Mountain"—a natural law of biology. As the virus 
 * spreads, the state attempts to transform this into a "Rope" through social 
 * distancing and mandates to lower Rt. However, for those lacking financial 
 * safety nets, these mandates tighten into a "Noose," where the biological risk 
 * and the political response both extract survival capacity.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

% Structural Anchor
narrative_ontology:interval(viral_transmission_rates, 0, 10).
narrative_ontology:constraint_claim(viral_transmission_rates, mountain).

% Base extractiveness: 0.7 (High)
% Rationale: Pathogens extract health, life, and labor from the host population. 
% The societal response (lockdowns) further extracts economic agency.
domain_priors:base_extractiveness(viral_transmission_rates, 0.7).

% Suppression: 0.8 (High)
% Rationale: During high transmission, alternatives to isolation are actively 
% punished or banned. The "natural" spread suppresses the visibility of 
% normal social functioning.
domain_priors:suppression_score(viral_transmission_rates, 0.8).

% Enforcement: Emerges naturally from biology but requires active political enforcement to mitigate.
domain_priors:emerges_naturally(viral_transmission_rates).
domain_priors:requires_active_enforcement(viral_transmission_rates).

% BENEFICIARIES & VICTIMS
% The pathogen benefits biologically; institutional power may benefit from increased emergency control.
constraint_beneficiary(viral_transmission_rates, institutional_governance).
% The primary victims are the vulnerable and the economically precarious.
constraint_victim(viral_transmission_rates, individual_powerless).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE EPIDEMIOLOGIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of statistical and biological laws.
   WHEN: historical - Evaluating trends over decades of outbreaks.
   WHERE: analytical - Not personally constrained by the policy, but the math.
   SCOPE: global - The virus ignores borders.
   
   WHY THIS CLASSIFICATION:
   To the scientist, R0 is a Mountain. It is an intrinsic property of the virus 
   in a given environment. One cannot "negotiate" with exponential growth; 
   it is a feature of the biological landscape that must be respected as fact.
   
   NARRATIVE EVIDENCE:
   "The virus has its own timeline." "Mathematics is not a suggestion."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    viral_transmission_rates,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, historical, analytical, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE HEALTH MINISTRY - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power.
   WHEN: immediate - Managing the current hospital capacity (1 year).
   WHERE: arbitrage - Can shift resources and laws to modify the rate.
   SCOPE: national - Country-wide mandates.
   
   WHY THIS CLASSIFICATION:
   For the institution, Rt is a Rope—a functional coordination mechanism. 
   By tracking and influencing the rate, they can pull the population toward 
   safety, justifying collective action and resource deployment.
   
   NARRATIVE EVIDENCE:
   "We need to flatten the curve." "Rt must stay below 1.0 to reopen the economy."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    viral_transmission_rates,
    rope,
    context(
        agent_power(institutional),
        time_horizon(immediate),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(viral_transmission_rates, E),
    E > 0.5, % High extraction is managed through institutional coordination
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE WAGE LABORER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to mandates, no savings.
   WHEN: immediate - Survival depends on this month's rent.
   WHERE: trapped - No option but to work or be restricted.
   SCOPE: local - Immediate neighborhood/worksite.
   
   WHY THIS CLASSIFICATION:
   For the laborer, the transmission rate is a Noose. The biological risk of 
   infection is high (extraction of health), and the legal response to that risk 
   (lockdown) prevents them from earning (extraction of labor). Both the virus 
   and the policy tighten the pressure on their survival.
   
   NARRATIVE EVIDENCE:
   "I can't afford to stay home." "The restrictions are killing my business 
   faster than the flu."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    viral_transmission_rates,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(viral_transmission_rates, S),
    S > 0.6, % Alternatives to the official policy are suppressed
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(viral_transmission_rates_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Powerless sees Noose
    constraint_indexing:constraint_classification(viral_transmission_rates, mountain, context(analytical, historical, analytical, global)),
    constraint_indexing:constraint_classification(viral_transmission_rates, rope, context(institutional, immediate, arbitrage, national)),
    constraint_indexing:constraint_classification(viral_transmission_rates, noose, context(individual_powerless, immediate, trapped, local)),
    !.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, immediate, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(viral_transmission_rates, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(viral_transmission_rates, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability) :-
    % Over historical time for an analytical observer, it's a fixed law (Mountain)
    constraint_indexing:effective_immutability_for_context(context(analytical, historical, analytical, global), mountain).

:- end_tests(viral_transmission_rates_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2024-05-20
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.7):
 * Reasoning: Viruses are biologically extractive by nature. When paired with 
 * the economic shutdown required to stop them, the net extraction of 
 * human potential/labor is severe.
 * * 2. SUPPRESSION SCORE (0.8):
 * Reasoning: Pandemics create "emergency states" where dissent or 
 * alternative behavioral paths (e.g., ignoring distancing) are not just 
 * discouraged but often criminalized or socially pathologized.
 * * 3. PERSPECTIVE SELECTION:
 * Chose a three-way split (Scientist/State/Citizen) because this constraint 
 * perfectly illustrates how one "fact" (R0) is a law, a tool, and a trap 
 * simultaneously.
 * * 4. CONFIDENCE:
 * High: The biological/mathematical side (Mountain).
 * Medium: The institutional benefit (some states struggle, but power 
 * generally centralizes).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Omega declaration
omega_variable(
    herd_immunity_threshold,
    "Is the threshold for herd immunity reached via natural infection (Noose) or vaccination (Rope)?",
    resolution_mechanism("Longitudinal seroprevalence study vs. vaccination uptake data"),
    impact("If Natural: massive extraction (victims). If Vaccine: coordinated escape (Rope)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Focused Protection (The Barrington Approach)
 * Viability: Theoretically allows low-risk individuals to build immunity 
 * while shielding the high-risk.
 * Suppression: Actively suppressed by institutional "Zero-Covid" or 
 * "Hammer and Dance" strategies as being too risky or unethical.
 * Evidence: Scientific debate in 2020-2021 regarding lockdowns.
 * * CONCLUSION:
 * The existence of suppressed alternatives (Focused Protection) shifts the 
 * experience of the laborer from a Rope (necessary sacrifice) to a Noose 
 * (enforced sacrifice when other paths were blocked).
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraints/viral_transmission_rates].
 * 2. Multi-perspective: ?- constraint_indexing:multi_index_report(viral_transmission_rates).
 * 3. Run tests: ?- run_tests(viral_transmission_rates_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: weber_fechner_law
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Psychophysics / Weber (1834) / Fechner (1860)
% ============================================================================

:- module(constraint_weber_fechner_law, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: weber_fechner_law
 * human_readable: Weber-Fechner Law (Logarithmic Perception)
 * domain: technological/social
 * temporal_scope: Permanent (Biological Sensory Architecture)
 * spatial_scope: Global (Human Perception)
 * * SUMMARY:
 * The Weber-Fechner law describes the relationship between the physical intensity 
 * of a stimulus and its perceived intensity. It states that the perceived change 
 * in a stimulus is proportional to the relative change, not the absolute change, 
 * resulting in a logarithmic rather than linear sensory experience.
 * * KEY AGENTS:
 * - The Psychophysicist (Analytical): Observer mapping the logarithmic 
 * curve of human sensation and the "Just Noticeable Difference" (JND).
 * - The Marketing Executive (Institutional): Uses the law to coordinate pricing 
 * and branding (e.g., hiding price increases or weight reductions below the JND).
 * - The Sensory Subject (Individual Powerless): Subject to the biological 
 * inability to perceive absolute changes at high intensities.
 * * NARRATIVE ARC:
 * The law functions as a "Mountain" of biological reality—an evolved efficiency 
 * in sensory hardware. For the designer, it is a "Rope" for coordination (creating 
 * volume knobs or lighting systems that feel "natural"). However, for the consumer, 
 * it becomes a "Noose" when used by institutions to extract value by reducing 
 * product quality or quantity in increments that remain psychologically invisible.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural anchor
narrative_ontology:interval(weber_fechner_interval, 0, 10).
narrative_ontology:constraint_claim(weber_fechner_law, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.4). The law allows for the extraction of "value" 
% by hiding small negative changes from the consumer while maximizing 
% the perception of small positive changes in marketing.
domain_priors:base_extractiveness(weber_fechner_law, 0.4).

% Suppression score (0.0-1.0)
% Rationale: Moderate (0.5). It suppresses "Linear Realism." Humans find it 
% extremely difficult to perceive physical reality linearly, making the 
% objective "Truth" of a stimulus invisible compared to the perceived sensation.
domain_priors:suppression_score(weber_fechner_law, 0.5).

% Enforcement requirements
% Emerges naturally from neural firing rates and sensory compression.
domain_priors:emerges_naturally(weber_fechner_law).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(weber_fechner_law, extractiveness, 0.4).
narrative_ontology:constraint_metric(weber_fechner_law, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(weber_fechner_law, [advertising_agencies, industrial_designers]).
constraint_victim(weber_fechner_law, [uninformed_consumers, classical_utility_models]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NEUROSCIENTIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the biological sensory substrate.
   WHEN: civilizational - Viewing the evolution of the mammalian nervous system.
   WHERE: trapped - Sensory compression is a fixed feature of neural hardware.
   SCOPE: global - Universal to the human species.
   
   WHY THIS CLASSIFICATION:
   To the scientist, the law is a Mountain. It is an unchangeable feature of 
   the brain's data compression. No amount of training can allow a human to 
   hear 100dB as exactly twice as loud as 50dB; the logarithmic response 
   is a fixed peak in our biological topography.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    weber_fechner_law,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE UI/UX DESIGNER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design interfaces and sensory experiences.
   WHEN: biographical - Creating products that last for decades.
   WHERE: arbitrage - Can choose to use logarithmic or linear scales to influence behavior.
   SCOPE: national - Digital and physical product ecosystems.
   
   WHY THIS CLASSIFICATION:
   For the designer, the law is a Rope. It is a vital coordination mechanism. 
   By aligning a volume slider or a brightness control with the logarithmic 
   nature of human perception, they "pull" the user into a state of comfort 
   and intuitive control, using the constraint to create a bridge of usability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    weber_fechner_law,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(weber_fechner_law, E),
    E > 0.2, % Managed as a tool for usability
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SUPERMARKET SHOPPER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to "shrinkflation" and price masking.
   WHEN: immediate - Today's grocery bill and perception of "value."
   WHERE: constrained - High cost to verify absolute weights/volumes of every item.
   SCOPE: local - Immediate household purchasing.
   
   WHY THIS CLASSIFICATION:
   For the consumer, the law is often a Noose. Corporations exploit the 
   "Just Noticeable Difference" to extract value—reducing the contents 
   of a bag of chips by 5% or raising a price by a small percentage that 
   falls below the sensory threshold. The biological "fuzziness" of 
   perception becomes a trap that strangles their purchasing power invisibly.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    weber_fechner_law,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(weber_fechner_law, E),
    E > 0.3, % Extraction of value through sensory blindness
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(weber_fechner_law_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Powerless sees Noose
    constraint_indexing:constraint_classification(weber_fechner_law, mountain, context(analytical, civilizational, trapped, global)),
    constraint_indexing:constraint_classification(weber_fechner_law, rope, context(institutional, biographical, arbitrage, national)),
    constraint_indexing:constraint_classification(weber_fechner_law, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_perception) :-
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(weber_fechner_law, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(weber_fechner_law, ContextPowerful, Score2),
    Score1 > Score2.

:- end_tests(weber_fechner_law_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): It extracts the ability to maintain linear 
 * economic utility. The law allows for "stealth extraction" of value 
 * in consumer markets.
 * 2. PERSPECTIVE SELECTION: Chose the Scientist (Nature), the Designer 
 * (Utility), and the Shopper (Extraction) to highlight the shift from 
 * biological fact to economic exploitation.
 * 3. NOOSE LOGIC: Specifically focuses on "Shrinkflation" as a manifestation 
 * of the Noose where biological limits are used as a predatory trap.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    precision_training_limit,
    "Can humans be trained to bypass Weber-Fechner 'blindness' through 
    comparative analytical tools (Rope), or is the logarithmic floor 
    absolute (Mountain)?",
    resolution_mechanism("Long-term sensory training studies using 
    real-time digital feedback to linearize perception"),
    impact("If Rope: Consumers can untie the Noose of shrinkflation. 
    If Mountain: We require institutional regulation (External Rope) to 
    protect against the biological trap."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Stevens' Power Law
 * Viability: High. A more generalized version of the relationship that 
 * accounts for different sensory modalities (e.g., electric shock is 
 * super-linear).
 * Suppression: Low. It is a scientific refinement, not a competitor.
 * * CONCLUSION:
 * Since there is no "Linear Sensation" alternative for humans, the 
 * constraint remains a Mountain of nature. The "Noose" arises purely 
 * from the social exploitation of this biological peak.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_weber_fechner_law].
 * 2. Multi-perspective: ?- multi_index_report(weber_fechner_law).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: whitehead_problem_undecidability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: J.H.C. Whitehead (1952) / Shelah (1974) / Infinite Abelian Groups
% ============================================================================

:- module(constraint_whitehead_problem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: whitehead_problem_undecidability
 * human_readable: The Whitehead Problem (Group Theory Undecidability)
 * domain: mathematical/technological
 * temporal_scope: 1952 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Infinite Algebraic Structures)
 * * SUMMARY:
 * The Whitehead Problem asks whether every abelian group $A$ such that every 
 * extension of the integers by $A$ is split (a "Whitehead group") must be a free 
 * abelian group. Saharon Shelah proved in 1974 that this is undecidable in 
 * standard Zermelo-Fraenkel set theory with the Axiom of Choice (ZFC).
 * * KEY AGENTS:
 * - The Infinite Abelian Group (Subject): A powerless agent whose structural 
 * classification depends on the underlying axioms of the mathematical universe.
 * - Saharon Shelah (Institutional): The architect who demonstrated that the 
 * problem's truth depends on the model of set theory chosen.
 * - The Algebraic Purist (Analytical): An observer seeking a definitive 
 * "yes" or "no" answer, only to find the "Mountain" of ZFC is incomplete.
 * * NARRATIVE ARC:
 * The Whitehead Problem functions as a "Mountain" of logical reality where the 
 * path to the summit is missing. In homological algebra, it serves as a 
 * "Rope" for exploring the boundaries of freeness. However, for those seeking 
 * absolute algebraic certainty, the independence from ZFC acts as a "Noose," 
 * extracting the hope of a single "True" algebra (extraction) and "strangling" 
 * the intuition that basic group properties are absolute.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction of the ID and temporal range
narrative_ontology:interval(whitehead_era, 1952, 2026).
narrative_ontology:constraint_claim(whitehead_problem_undecidability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. While mathematically an "opening" of new models, it 
% extracts the possibility of a final, unified classification of 
% Whitehead groups, imposing a "metaphysical tax" on researchers.
domain_priors:base_extractiveness(whitehead_problem_undecidability, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the visibility of "Naive Algebra" by 
% proving that group properties can be dependent on set-theoretic axioms 
% like the Continuum Hypothesis.
domain_priors:suppression_score(whitehead_problem_undecidability, 0.3).

% Enforcement: Emerges naturally from the axioms of ZFC and forcing.
domain_priors:emerges_naturally(whitehead_problem_undecidability).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(whitehead_problem_undecidability, extractiveness, 0.2).
narrative_ontology:constraint_metric(whitehead_problem_undecidability, suppression_requirement, 0.3).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(whitehead_problem_undecidability, model_theorists).
constraint_beneficiary(whitehead_problem_undecidability, shelah_independence_research).
constraint_victim(whitehead_problem_undecidability, classical_abelian_group_theorists).
constraint_victim(whitehead_problem_undecidability, hilbertian_deductive_completeness).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE WHITEHEAD GROUP (W) - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - The group has no agency; its properties are fixed by its definition.
   WHEN: immediate - The status of freeness is true at the moment of construction.
   WHERE: trapped - Bound within the logical universe of the current model.
   SCOPE: local - Immediate algebraic relations.
   
   WHY THIS CLASSIFICATION:
   For an individual group, the Whitehead property is an absolute Mountain. 
   Whether it "appears" free or not is a fixed feature of the model it 
   inhabits. It cannot "choose" to split extensions differently; the 
   homological arithmetic is an unyielding law.
   -------------------------------------------------------------------------- */


constraint_indexing:constraint_classification(
    whitehead_problem_undecidability,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SHELAH-ERA LOGICIAN - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to select the Axiom of Choice (AC), CH, or V=L.
   WHEN: biographical - Planning a career or a specific proof in model theory.
   WHERE: mobile - Can choose different models of set theory via forcing.
   SCOPE: global - Universal application in abstract mathematics.
   
   WHY THIS CLASSIFICATION:
   For the institutional logic researcher, the Whitehead problem is a "Rope"—a 
   functional coordination tool. By assuming the Continuum Hypothesis (CH) 
   or Martin's Axiom, they coordinate a "standard of achievement" for 
   group classification, pulling the problem into a state of provability.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    whitehead_problem_undecidability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CLASSICAL ALGEBRAIST - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the tools of group theory but is bound by independence.
   WHEN: civilizational - Seeking a complete and final classification of groups.
   WHERE: constrained - The "exit" (a ZFC-based answer) is mathematically barred.
   SCOPE: global - Universal limit on formal algebraic knowledge.
   
   WHY THIS CLASSIFICATION:
   For the seeker of absolute algebraic truth, the Whitehead independence is 
   a "Noose." It "strangles" the dream that algebra is independent of 
   the "messy" foundations of set theory. It extracts the "certainty of 
   freeness" (extraction) by proving that even basic group-theoretic 
   questions are "choked" by the incompleteness of ZFC.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    whitehead_problem_undecidability,
    noose,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(whitehead_problem_undecidability, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(whitehead_problem_tests).

test(multi_perspective_variance) :-
    % Group -> Mountain
    constraint_indexing:constraint_classification(whitehead_problem_undecidability, Type1, context(individual_powerless, immediate, trapped, local)),
    % Logician -> Rope
    constraint_indexing:constraint_classification(whitehead_problem_undecidability, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(deductive_extraction_penalty) :-
    % Algebraists experience the "Noose" of foundational extraction.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(whitehead_problem_undecidability, Context, Score),
    Score >= 0.15.

test(natural_emergence) :-
    domain_priors:emerges_naturally(whitehead_problem_undecidability).

:- end_tests(whitehead_problem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: The Whitehead problem extracts the "unity" of group theory. 
 * It forces a "metaphysical tax" where algebraic truth is no longer local 
 * to algebra but contingent on set-theoretic choices.
 * * 2. PERSPECTIVE SELECTION:
 * Chose the Group (Subject), the Shelah-era Logician (Institutional User), 
 * and the Classical Algebraist (Victim of Indeterminacy).
 * * 3. CLASSIFICATION RATIONALE:
 * The problem is a "Mountain" because the logic is unyielding, but 
 * becomes a "Noose" for those who refuse to use the "Rope" of 
 * extended axioms (like CH).
 * * 4. AMBIGUITIES:
 * The biggest variable is whether there exists a "Natural" model of 
 * sets that resolves the problem.
 */

% OMEGA IDENTIFICATION
omega_variable(
    natural_set_universe_consensus,
    "Is there a 'True' universe of sets (e.g., V=L or Large Cardinals) that makes Whitehead decidable (Mountain) or is it a pluralist Scaffold?",
    resolution_mechanism("Consensus on 'Ultimate L' or similar foundational proposals."),
    impact("If Mountain: The Whitehead problem has a 'True' answer. If Scaffold: It is permanently a Rope/Noose hybrid."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Constructible Universe (V=L)
 * Viability: In V=L, the answer is "Yes" (every Whitehead group is free).
 * Suppression: Rejected by those who view V=L as too "restrictive" or 
 * "unnatural" compared to the full power of Choice.
 * * ALTERNATIVE 2: Martin's Axiom (MA) + ¬CH
 * Viability: In this model, the answer is "No" (there are non-free Whitehead groups).
 * * CONCLUSION:
 * The existence of Alternative 1 (V=L) proves that the "Noose" of 
 * undecidability is a choice. We can climb the Mountain if we agree on 
 * which Rope to use.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * * 1. Load: ?- [whitehead_problem_undecidability].
 * 2. Multi-perspective: ?- multi_index_report(whitehead_problem_undecidability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: wikipedia_crowdsourcing_2026
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "Crowdsourcing Wikipedia’s encyclopedia" by Matthew Sparkes
% ============================================================================

:- module(wikipedia_crowdsourcing_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: wikipedia_crowdsourcing_2026
 * human_readable: Wikipedia Crowdsourced Knowledge Governance
 * domain: technological/social/political
 * temporal_scope: 2001-2026
 * spatial_scope: Global (Internet-wide)
 * * SUMMARY:
 * Wikipedia operates as a massive, open-access knowledge repository that functions 
 * through radical collaboration rather than typical internet hostility. 
 * It constrains knowledge production through a "clever system" that rewards 
 * responsible editing history with increased administrative powers.
 * * KEY AGENTS:
 * - Wikimedia Foundation: (Institutional) The non-profit that maintains the infrastructure.
 * - Volunteer Editors (260,000+): (Collective/Moderate) The workforce performing 342 edits/minute.
 * - The Critical Founder (Larry Sanger): (Analytical/Dissenting) Claims the site is "hijacked by ideologues".
 * * NARRATIVE ARC:
 * Established in 2001, Wikipedia evolved from a theoretical impossibility into 
 * the 9th-most visited website globally. It manages the tension between 
 * open access ("anyone can edit") and trusted verification ("clever system of powers").
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(wikipedia_crowdsourcing_2026, 0, 10).
narrative_ontology:constraint_claim([wikipedia_crowdsourcing_2026], [decentralized_governance]).

% Base extractiveness score (0.05 = Extremely Low)
% Rationale: Wikipedia is a non-profit repository that offers information 
% freely to 15 billion visits/month. Extraction is minimal, though 
% volunteer labor is "extracted" in exchange for reputation/status.
domain_priors:base_extractiveness(wikipedia_crowdsourcing_2026, 0.05).

% Suppression score (0.4 = Moderate)
% Rationale: Wikipedia suppresses "fragmented, unverified, unreliable" 
% information in favor of vetted articles. Dissenting views 
% (like Sanger's) are visible but marginalized by the dominant consensus.
domain_priors:suppression_score(wikipedia_crowdsourcing_2026, 0.4).

% Enforcement requirements
% Requires active enforcement (The "clever system" of editor hierarchy).
domain_priors:requires_active_enforcement(wikipedia_crowdsourcing_2026).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(wikipedia_crowdsourcing_2026, extractiveness, 0.05).
narrative_ontology:constraint_metric(wikipedia_crowdsourcing_2026, suppression_requirement, 0.4).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(wikipedia_crowdsourcing_2026, global_internet_users). % 15 billion visits monthly
constraint_victim(wikipedia_crowdsourcing_2026, unverified_information_peddlers). % Site bucks the trend of unverified data

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE WIKIMEDIA FOUNDATION (Anusha Alikhan) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-making power)
   WHEN: biographical (Managing 25+ years of growth)
   WHERE: arbitrage (Navigating 300+ languages and global legalities)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the Foundation, the system is a "Rope"—a functional coordination 
   mechanism that "works in practice" to manage 64 million articles 
   without collapse.
   
   NARRATIVE EVIDENCE:
   "Thank God it works in practice, because it would never work in theory".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    wikipedia_crowdsourcing_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ANONYMOUS NEW EDITOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (A new volunteer with no history)
   WHEN: immediate (A single session/edit attempt)
   WHERE: constrained (Cannot access "wider editing powers" yet)
   SCOPE: local (A single article entry)
   
   WHY THIS CLASSIFICATION:
   A new editor faces a "Noose" of hierarchy. They are "anyone who can edit," 
   yet their changes are subject to immediate suppression by the "clever 
   system" of established power-users.
   
   NARRATIVE EVIDENCE:
   "Grants wider editing powers to volunteers once they have built a history 
   of responsible changes".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    wikipedia_crowdsourcing_2026,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DISENCHANTED FOUNDER (Larry Sanger) - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (Observer/Critic)
   WHEN: historical (From 2001 to 2026)
   WHERE: mobile (Has left the project but continues to critique)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   To a critic like Sanger, the "ideological hijacking" is a "Mountain"—an 
   immovable, flawed state that defines the project’s reality and cannot 
   be reformed from within.
   
   NARRATIVE EVIDENCE:
   The site has been "hijacked by ideologues".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    wikipedia_crowdsourcing_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(wikipedia_crowdsourcing_2026_tests).

test(multi_perspective_trust) :-
    constraint_indexing:constraint_classification(wikipedia_crowdsourcing_2026, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(wikipedia_crowdsourcing_2026, noose, context(agent_power(individual_powerless), _, _, _)),
    constraint_indexing:constraint_classification(wikipedia_crowdsourcing_2026, mountain, context(agent_power(analytical), _, _, _)).

test(edit_frequency_governance) :-
    % 342 edits/min requires high suppression/coordination scores to avoid chaos.
    domain_priors:suppression_score(wikipedia_crowdsourcing_2026, S),
    S > 0.3.

:- end_tests(wikipedia_crowdsourcing_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.05):
 * Reasoning: Wikipedia is nearly non-extractive in terms of monetary gain, 
 * but the "currency" of the system is trust and history.
 * * 2. PERSPECTIVE SELECTION:
 * Analyzed the tension between the "Institutional" success (Alikhan), the 
 * "Powerless" barrier to entry (New editor), and the "Analytical" critique 
 * of ideology (Sanger).
 * * 3. AMBIGUITIES:
 * The text mentions the "clever system" without detailing the specific 
 * algorithms or human-mediated checks, creating an Omega around 
 * the true nature of its power distribution.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    wikipedia_governance_bottleneck,
    "Is the hierarchy of editing power a meritocracy (Rope) or a self-reinforcing clique (Noose)?",
    resolution_mechanism("Audit of administrative turnover rates vs. consensus-blocking behaviors"),
    impact("If clique: High extractiveness for new labor. If meritocracy: Scalable Rope."),
    confidence_without_resolution(medium)
).

omega_variable(
    wikipedia_ideological_hijacking,
    "Does consensus on Wikipedia represent 'Truth' (Mountain) or 'Dominant Ideology' (Noose)?",
    resolution_mechanism("Comparative analysis of neutral-point-of-view (NPOV) adherence across controversial topics"),
    impact("If ideology: Suppression score increases. If Truth: Becomes a biological/logical Mountain."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Expert-Led Encyclopedias (Nupedia/Britannica)
 * Viability: Historically the "theory" that should have worked.
 * Suppression: Outscaled by Wikipedia's speed and volume.
 * * ALTERNATIVE 2: Unfettered Free-for-all
 * Viability: The standard "internet discord" model.
 * Suppression: Actively rejected by Wikipedia's "clever system" of trust.
 * * CONCLUSION:
 * Wikipedia succeeded by turning the "Chaos" of the internet (Noose) into a 
 * "Vetted Consensus" (Rope).
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [wikipedia_crowdsourcing_2026].
% Report: ?- multi_index_report(wikipedia_crowdsourcing_2026).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: wikipedia_notability_requirement_2026
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: "Crowdsourcing Wikipedia’s encyclopedia" by Matthew Sparkes
% ============================================================================

:- module(wikipedia_notability_requirement_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: wikipedia_notability_requirement_2026
 * human_readable: Wikipedia Notability Requirement
 * domain: social/technological
 * temporal_scope: 2001-2026
 * spatial_scope: Global (Digital)
 * * SUMMARY:
 * The notability requirement is the gatekeeping policy that determines which topics 
 * merit a dedicated article. It serves to foster "trust on a mass scale" 
 * by ensuring the site remains a verified repository rather than a fragmented 
 * collection of unverified data.
 * * KEY AGENTS:
 * - Admin/Power Editor: Enforcers who use their "wider editing powers" 
 * to delete non-notable content.
 * - New Contributor/Subject: Individuals attempting to establish 
 * a presence within the "clever system" of the encyclopedia.
 * - Wikimedia Foundation: The non-profit overseeing the system 
 * that "works in practice" despite theoretical impossibilities.
 * * NARRATIVE ARC:
 * Wikipedia has transformed into a trusted resource by moving away from the 
 * internet's hallmark of discord and toward a system of verified knowledge. 
 * The notability requirement is the primary tool used by its 260,000 volunteers 
 * to maintain this trust.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(wikipedia_notability_requirement_2026, 0, 10).
narrative_ontology:constraint_claim([wikipedia_notability_requirement_2026], [content_governance]).

% Base extractiveness score (0.4 = Moderate)
% Rationale: It extracts significant "proof-of-work" (labor) from editors 
% to justify a topic's existence. It also "extracts" (denies) the 
% digital presence of those who do not meet the consensus threshold.
domain_priors:base_extractiveness(wikipedia_notability_requirement_2026, 0.4).

% Suppression score (0.7 = High)
% Rationale: Non-notable content is actively deleted and suppressed to keep 
% the site from becoming "unreliable and limited in scope".
domain_priors:suppression_score(wikipedia_notability_requirement_2026, 0.7).

% Enforcement requirements
% Requires active enforcement. 342 edits are made every single minute, 
% many of which involve patrolling and enforcing notability.
domain_priors:requires_active_enforcement(wikipedia_notability_requirement_2026).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(wikipedia_notability_requirement_2026, extractiveness, 0.4).
narrative_ontology:constraint_metric(wikipedia_notability_requirement_2026, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
% Beneficiary: Global readers seeking "trusted resources".
constraint_beneficiary(wikipedia_notability_requirement_2026, global_information_consumers).
% Victim: Niche subjects or new editors whose work is deleted.
constraint_victim(wikipedia_notability_requirement_2026, marginalized_knowledge_producers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: ESTABLISHED ADMIN - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Part of the system that "grants wider editing powers")
   WHEN: biographical (Long-term commitment to "responsible changes")
   WHERE: mobile (Can edit across 300+ languages)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the admin, notability is a "Rope"—a beneficial tool to filter noise and 
   maintain Wikipedia as one of the world's most "essential knowledge hubs".
   
   NARRATIVE EVIDENCE:
   "Trust fosters engagement and commitment so that strangers... are willing 
   to work together".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    wikipedia_notability_requirement_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: NICHE CREATOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless (New volunteer with no "history of changes")
   WHEN: immediate (Attempting to save a single article)
   WHERE: trapped (No alternative "trusted resource" of this scale)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   For a creator whose history or topic is deemed "non-notable," the policy is 
   a "Noose". It suppresses their perspective based on a consensus 
   they do not control.
   
   NARRATIVE EVIDENCE:
   Larry Sanger notes the site has been "hijacked by ideologues" who may 
   use rules to exclude certain voices.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    wikipedia_notability_requirement_2026,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INFORMATION ANALYST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (Observing the "sum total of human knowledge")
   WHEN: historical (Analyzing the internet's hallmarks of discord)
   WHERE: analytical (Independent of the site's power structure)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   From an analytical view, the requirement is a "Mountain"—an unavoidable 
   necessity for any crowdsourced encyclopedia to avoid becoming 
   "unverified [and] unreliable".
   
   NARRATIVE EVIDENCE:
   "It would never work in theory" without these structural constraints.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    wikipedia_notability_requirement_2026,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(wikipedia_notability_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(wikipedia_notability_requirement_2026, T1, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(wikipedia_notability_requirement_2026, T2, context(agent_power(individual_powerless), _, _, _)),
    T1 \= T2.

test(suppression_trust_link) :-
    % Demonstrates that high suppression (0.7) is required to "buck the trend" 
    % of unreliable internet data.
    domain_priors:suppression_score(wikipedia_notability_requirement_2026, S),
    S > 0.5.

:- end_tests(wikipedia_notability_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.4):
 * Reasoning: While Wikipedia is free, the "notability" barrier is a 
 * high-cost labor requirement for contributors to prove their worth.
 * * 2. SUPPRESSION SCORE (0.7):
 * Reasoning: The article explicitly notes that unverified and unreliable data 
 * is the internet norm; Wikipedia's success depends on suppressing that 
 * norm within its boundaries.
 * * 3. PERSPECTIVE SELECTION:
 * Chose to represent the "Institutional" success of the Foundation 
 * against the "Analytical" skepticism of critics like Sanger.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    notability_ideological_bias,
    "Is notability a neutral filter (Rope) or an ideological weapon (Noose)?",
    resolution_mechanism("Audit of deletion rates for marginalized vs. dominant cultural topics"),
    impact("If weaponized: High suppression + High extraction = Noose for diversity."),
    confidence_without_resolution(medium)
).

omega_variable(
    volunteer_labor_sustainability,
    "Can trust be maintained if the 260,000 volunteers burn out under the 342 edit/minute load?",
    resolution_mechanism("Trend analysis of active editor retention and edit-quality"),
    impact("If unsustainable: The 'clever system' collapses into internet discord."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Inclusionism (Store everything)
 * Viability: Theoretically possible with cheap storage.
 * Suppression: Rejected because it makes the site "unreliable and limited in scope".
 * * ALTERNATIVE 2: Expert-Only Curation
 * Viability: The standard encyclopedia model.
 * Suppression: Rejected because it cannot achieve the scale of 64 million articles.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load into system: ?- [wikipedia_notability_requirement_2026].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: winners_curse
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Auction Theory / Behavioral Economics / Thaler (1988)
% ============================================================================

:- module(constraint_winners_curse, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: winners_curse
 * human_readable: The Winner's Curse
 * domain: economic/social
 * temporal_scope: Permanent (Information Asymmetry in Markets)
 * spatial_scope: Global (Competitive Bidding)
 * * SUMMARY:
 * The Winner's Curse is a phenomenon in auction theory where the winning bidder 
 * for an item of uncertain value tends to overpay. This occurs because the winner 
 * is typically the person with the most optimistic estimate of the item's worth, 
 * which is statistically likely to be higher than the actual intrinsic value.
 * * KEY AGENTS:
 * - The Auctioneer (Institutional): Sets the rules of the game to maximize 
 * competitive pressure and extract the highest bid.
 * - The Disciplined Bidder (Individual Moderate): Uses statistical models to 
 * shade their bids downward, treating the constraint as a manageable Rope.
 * - The Aggressive Winner (Individual Powerless): Subject to the "joy of winning" 
 * and incomplete information, finding the victory has become a financial Noose.
 * * NARRATIVE ARC:
 * In a competitive market, the "Curse" functions as a Mountain—a statistical 
 * reality where the mean estimate is closer to the truth than the highest 
 * estimate. For the institutional architect, it is a Rope to pull capital 
 * from participants. For the participant who fails to account for the bias, 
 * it becomes a Noose that strangles their future liquidity.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(winners_curse_interval, 0, 10).
narrative_ontology:constraint_claim(winners_curse, noose).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.6 (Moderate-High). The curse extracts "economic surplus" from 
% the winner and transfers it to the seller, often leaving the winner with 
% negative net value.
domain_priors:base_extractiveness(winners_curse, 0.6).

% Suppression score (0.0-1.0)
% Rationale: 0.5 (Moderate). It suppresses "Rational Equilibrium." The 
% emotional and statistical pressure of the auction makes the alternative 
% of "bidding exactly at value" invisible or impossible to achieve.
domain_priors:suppression_score(winners_curse, 0.5).

% Enforcement requirements
% Emerges naturally from the interaction of heterogeneous estimates and 
% competitive drive.
domain_priors:emerges_naturally(winners_curse).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(winners_curse, extractiveness, 0.6).
narrative_ontology:constraint_metric(winners_curse, suppression_requirement, 0.5).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(winners_curse, [auctioneers, sellers, asset_holders]).
constraint_victim(winners_curse, [aggressive_bidders, overconfident_investors]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MATHEMATICAL ECONOMIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of statistical distributions and game theory.
   WHEN: civilizational - Viewing the curse as a permanent feature of human trade.
   WHERE: analytical - Not a participant in the bidding process.
   SCOPE: global - Universal to all common-value auctions.
   
   WHY THIS CLASSIFICATION:
   To the scientist, the Winner's Curse is a Mountain. It is an unchangeable 
   consequence of probability. In any group where people estimate a hidden 
   value, the highest estimate is mathematically likely to be an outlier. 
   It is a fixed peak of reality that can be mapped but not moved.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    winners_curse,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, analytical, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CORPORATE M&A TEAM - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design bidding strategies and shade offers.
   WHEN: biographical - Managing a series of acquisitions over a career.
   WHERE: arbitrage - Can choose to exit the auction if the price exceeds a model.
   SCOPE: national - Market-wide acquisition strategies.
   
   WHY THIS CLASSIFICATION:
   For the professional bidder, the Curse is a Rope. It is a coordination 
   mechanism for discipline. By assuming they are the "optimistic outlier" 
   if they win, they "tether" their bids to a lower price point. They use 
   the constraint to pull their organization toward profitable deals.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    winners_curse,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(winners_curse, E),
    E < 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EMOTIONAL BIDDER - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the "frenzy" of the live auction.
   WHEN: immediate - The seconds before the hammer falls.
   WHERE: trapped - Cannot exit the psychological commitment once the bid is made.
   SCOPE: local - The immediate auction room/platform.
   
   WHY THIS CLASSIFICATION:
   For the individual caught in a bidding war, the Curse is a Noose. The 
   desire to win "strangles" their rational judgment. When the hammer 
   falls, the "victory" extracts their financial security. They are 
   trapped with an asset worth less than they paid, with no way to undo 
   the transaction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    winners_curse,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(winners_curse, E),
    E > 0.4,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(winners_curse_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Powerless sees Noose
    constraint_indexing:constraint_classification(winners_curse, mountain, context(analytical, civilizational, analytical, global)),
    constraint_indexing:constraint_classification(winners_curse, rope, context(institutional, biographical, arbitrage, national)),
    constraint_indexing:constraint_classification(winners_curse, noose, context(individual_powerless, immediate, trapped, local)).

test(power_extractiveness_overpayment) :-
    % Powerless individuals feel the total extraction of their capital (Noose).
    % Institutional actors shade their bids to manage the extraction (Rope).
    ContextPowerless = context(individual_powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(winners_curse, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(winners_curse, ContextPowerful, Score2),
    Score1 > Score2.

:- end_tests(winners_curse_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.6): The curse is highly extractive because the 
 * "winner" often loses money immediately upon winning. The benefit 
 * is entirely captured by the seller.
 * 2. PERSPECTIVES: Selected the Analyst (Hardware), the Professional (Tool), 
 * and the Amateur (Victim) to highlight the shift from statistical fact 
 * to strategic tool to personal trap.
 * 3. NOOSE LOGIC: Specifically focuses on the "trap" of overconfidence, 
 * where winning a competition is the mechanism that causes the loss.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    valuation_accuracy,
    "In a world of perfect information (Mountain), would the Curse vanish, 
    or is the 'Joy of Winning' an irreducible biological Noose?",
    resolution_mechanism("Comparative study of AI-driven auctions vs. 
    human-emotion-driven auctions"),
    impact("If Mountain: Better data unties the Noose. If Noose: The 
    curse is an eternal part of human ego."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Sealed-Bid/Second-Price Auctions (Vickrey)
 * Viability: High. Theoretically encourages bidders to bid their 
 * true value without fear of the curse.
 * Suppression: Moderate. Sellers often suppress these "fairer" 
 * alternatives because they extract less capital than an open, 
 * ascending-price auction.
 * * CONCLUSION:
 * The existence of "Fair" auction models (Rope) that are often bypassed 
 * for "Exciting" auctions confirms that the Winner's Curse is a Noose 
 * designed or leveraged by institutions to extract maximum value.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_winners_curse].
 * 2. Multi-perspective: ?- multi_index_report(winners_curse).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: xi_mao_ideological_centralization
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Comparative Political Analysis / Historical Jurisprudence
% ============================================================================

:- module(constraint_xi_mao_centralization, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: xi_mao_ideological_centralization
 * human_readable: Ideological Centralization and the "Leadership Core"
 * domain: political
 * temporal_scope: 1949-1976 (Mao); 2012-Present (Xi)
 * spatial_scope: People's Republic of China
 * * SUMMARY:
 * This constraint analyzes the structural parallels between the governance of 
 * Mao Zedong and Xi Jinping, focusing on the centralization of power through 
 * ideological orthodoxy and the elimination of term limits. While Mao utilized 
 * mass mobilization and revolutionary chaos, Xi employs a high-tech, 
 * bureaucratic approach to achieve the same "Leadership Core" status.
 * * KEY AGENTS:
 * - The Supreme Leader: Institutional/Powerful; the architect of the 
 * ideological framework.
 * - The Party Cadre: Individual Powerless; subject to loyalty tests, 
 * criticism/self-criticism sessions, and anti-corruption purges.
 * - The Global Market: Individual Moderate; seeking predictability but 
 * constrained by sudden regulatory shifts for ideological purity.
 * * NARRATIVE ARC:
 * Post-Mao, China wove a Rope of collective leadership and term limits to 
 * prevent the return of a strongman. Under Xi, this Rope has been untied 
 * and replaced by a Mountain of personalistic rule. For the bureaucracy, 
 * the persistent anti-corruption campaigns act as a Noose, extracting absolute 
 * loyalty through the threat of professional and personal destruction.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(chinese_leadership_cycle, 0, 10).
narrative_ontology:constraint_claim(xi_mao_ideological_centralization, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.75. High extraction of political autonomy and informational 
% pluralism to maintain the "Leadership Core" legitimacy.
domain_priors:base_extractiveness(xi_mao_ideological_centralization, 0.75).

% Suppression score (0.0-1.0)
% Rationale: 0.85. Aggressive suppression of dissent, judicial independence, 
% and alternative historical narratives.
domain_priors:suppression_score(xi_mao_ideological_centralization, 0.85).

% Enforcement requirements
% Requires heavy active enforcement (Censorship apparatus, security 
% surveillance, and Party rectification campaigns).
domain_priors:requires_active_enforcement(xi_mao_ideological_centralization).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(xi_mao_ideological_centralization, extractiveness, 0.75).
narrative_ontology:constraint_metric(xi_mao_ideological_centralization, suppression_requirement, 0.85).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(xi_mao_ideological_centralization, ccp_monopoly_stability).
constraint_beneficiary(xi_mao_ideological_centralization, national_rejuvenation_narrative).
constraint_victim(xi_mao_ideological_centralization, institutional_succession_norms).
constraint_victim(xi_mao_ideological_centralization, political_pluralism).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PARTY CADRE - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to "Loyalty Dances" or high-tech 
         equivalent (App usage, self-criticism).
   WHEN: immediate - The constant threat of being "swatted" as a "fly" or "tiger".
   WHERE: trapped - Bound by the disciplinary inspection system.
   SCOPE: local - Their specific administrative or corporate domain.
   
   WHY THIS CLASSIFICATION:
   For the official, the system is a Noose. It extracts continuous pledges of 
   loyalty and "orderly" behavior while choking off any attempt to build 
   independent patronage networks. Failure to align is met with coercive 
   "anti-corruption" removal.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    xi_mao_ideological_centralization,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(xi_mao_ideological_centralization),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SUPREME LEADER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to shape "Xi Jinping Thought" as a constitutional mandate.
   WHEN: biographical - Planning the "2049 Great Rejuvenation".
   WHERE: mobile - Projecting power via the "Belt and Road" and maritime expansion.
   SCOPE: national - Totalizing discourse over the state.
   
   WHY THIS CLASSIFICATION:
   From the center, ideology is a Rope. It is a functional coordination 
   mechanism to unify a vast, potentially fracturing nation under a single 
   vision. It "enriches" the Party's legitimacy by providing a new "Breakthrough 
   in Sinicization".
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    xi_mao_ideological_centralization,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(xi_mao_ideological_centralization, E),
    E < 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE CITIZEN / SUBJECT - Mountain
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Bound by the social credit system and internet controls.
   WHEN: immediate - Daily exposure to mandatory political courses and propaganda.
   WHERE: trapped - Within the digital surveillance firewall.
   SCOPE: local - Domestic and social interactions.
   
   WHY THIS CLASSIFICATION:
   To the subject, the state's ideological presence is a Mountain. It is an 
   unchangeable fact of reality. One does not "negotiate" with the internet 
   filters or the Party's presence in schools; one simply adapts to the 
   terrain to survive.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    xi_mao_ideological_centralization,
    mountain,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(xi_mao_ideological_centralization, S),
    S > 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INDIVIDUAL CITIZEN (SUBJECT) - Noose
   --------------------------------------------------------------------------
   WHO: individual_powerless - Subjects under a totalizing ideological mandate.
   WHEN: generational - Long-term reshaping of national and personal identity.
   WHERE: trapped - Geographically and digitally locked within the mandate.
   SCOPE: local - Impact on the individual's mental margin and social life.
   
   WHY THIS CLASSIFICATION:
   The "Noose" is the state of total ideological synchronization. While 
   the state uses centralization as a "Rope" for national unity, the 
   individual feels the tightening of a mandate that consumes their 
   cognitive and social margin. With a suppression score of 0.95 and 
   existential stakes for non-compliance, the citizen is "trapped" 
   within the system's "Correct Line" with zero degrees of freedom.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    xi_mao_ideological_centralization,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(xi_mao_ideological_centralization),
    !.

% Explicit priors reflecting the totalizing extraction of the ideological noose.
domain_priors:base_extractiveness(xi_mao_ideological_centralization, 0.9).
domain_priors:suppression_score(xi_mao_ideological_centralization, 0.95).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(xi_mao_centralization_tests).

test(multi_perspective_conflict) :-
    % Leader (Rope) vs Cadre (Noose) vs Citizen (Mountain)
    constraint_indexing:constraint_classification(xi_mao_ideological_centralization, T1, context(institutional, biographical, mobile, national)),
    constraint_indexing:constraint_classification(xi_mao_ideological_centralization, T2, context(individual_powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(xi_mao_ideological_centralization, T3, context(individual_powerless, immediate, trapped, local)),
    T1 \= T2.

test(high_suppression_signature) :-
    % Totalizing ideologies require high suppression of pluralism.
    domain_priors:suppression_score(xi_mao_ideological_centralization, S),
    S > 0.8.

:- end_tests(xi_mao_centralization_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. PERSPECTIVE VARIANTS: I distinguished Mao's "Chaos-driven" rule from 
 * Xi's "Order-driven" rule. Mao destroyed the bureaucracy to maintain 
 * power; Xi molds the bureaucracy as an unyielding Rope.
 * 2. FUTURE ARCS: The "Noose" classification for the elite suggests that 
 * while the system is stable in the immediate term, it creates "Brittle 
 * Stability". The lack of a successor (Rope loosening) creates a high 
 * probability of a terminal Mountain-clash (succession crisis) later.
 * 3. EXTRACTIVENESS: Set at 0.75 to reflect the mandatory time/attention 
 * extraction from citizens through digital platforms (e.g. Study the 
 * Great Nation app).
 */

omega_variable(
    succession_vacuum_risk,
    "Does the removal of term limits (Scaffold removal) ensure stability 
     (Rope) or guarantee a future systemic collapse (Noose)?",
    resolution_mechanism("Comparison of CCP internal power transfers post-Xi 
    vs the 1976 post-Mao transition"),
    impact("If peaceful: The Rope held. If chaotic: The concentration was a 
            Noose."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Collective Leadership (Deng/Jiang/Hu Era)
 * Viability: Successfully maintained stability and high growth for decades.
 * Suppression: Actively dismantled by Xi to "re-legitimize" the Party 
 * against perceived corruption and Western influence.
 * * ALTERNATIVE 2: Constitutionalism / Rule of Law
 * Viability: Proposed by liberal factions; would bind the Party to the 
 * law rather than placing the Party above the law.
 * Suppression: Explicitly rejected in "Prong Three" which maintains the 
 * supremacy of the CCP.
 * * CONCLUSION:
 * The dismantling of a functional, stability-producing "Collective Rope" in 
 * favor of personalistic rule indicates that the current centralized 
 * structure is a Noose for the elite and a Mountain for the population.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [xi_mao_ideological_centralization].
% 2. Analyze: ?- multi_index_report(xi_mao_ideological_centralization).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: zipfs_law
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: George Kingsley Zipf (1949) / Quantitative Linguistics
% ============================================================================

:- module(constraint_zipfs_law, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: zipfs_law
 * human_readable: Zipf's Law (Word Frequency)
 * domain: technological/social
 * temporal_scope: Permanent (Universal Law of Information)
 * spatial_scope: Global (All Natural Languages and Large Data Sets)
 * * SUMMARY:
 * Zipf's Law states that in a given corpus of natural language, the frequency 
 * of any word is inversely proportional to its rank in the frequency table. 
 * The most frequent word will occur twice as often as the second most 
 * frequent, three times as often as the third, and so on. This power-law 
 * distribution governs not just words, but city sizes, income distributions, 
 * and internet traffic.
 * * KEY AGENTS:
 * - The Linguist: Analytical observer mapping the "Long Tail" of human 
 * communication and the Principle of Least Effort.
 * - The Search Engine Architect: Institutional agent using the law to 
 * optimize indexing, caching, and compression for the few "head" terms.
 * - The Minority Voice/Long-Tail Content Creator: Individual powerless 
 * agent whose content is mathematically "suppressed" by the extreme dominance 
 * of the high-rank head terms.
 * * NARRATIVE ARC:
 * Zipf's Law functions as a "Mountain" of statistical reality—a byproduct 
 * of efficiency in complex systems. For the engineer, it is a "Rope" for 
 * coordination (allowing for efficient data compression). However, for the 
 * creator in the "Long Tail," it is a "Noose" that strangles visibility, 
 * as the winner-take-all nature of the distribution extracts attention 
 * and redirects it to the already-dominant head.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural identification
narrative_ontology:interval(zipf_interval, 0, 10).
narrative_ontology:constraint_claim(zipfs_law, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Moderate (0.5). Zipf's Law extracts "attention" and "visibility" 
% from the many (the tail) and concentrates it in the few (the head). 
% It is the mathematical foundation of "The Matthew Effect."
domain_priors:base_extractiveness(zipfs_law, 0.5).

% Suppression score (0.0-1.0)
% Rationale: High (0.7). The power-law distribution effectively suppresses 
% the "Equal Distribution" alternative. In a Zipfian world, 50% of 
% information is often invisible to the average observer because it is 
% hidden in the low-frequency tail.
domain_priors:suppression_score(zipfs_law, 0.7).

% Enforcement requirements
% Emerges naturally from the "Principle of Least Effort" in complex systems.
domain_priors:emerges_naturally(zipfs_law).

% Metrics required for Section 1 of the Executive Summary
narrative_ontology:constraint_metric(zipfs_law, extractiveness, 0.5).
narrative_ontology:constraint_metric(zipfs_law, suppression_requirement, 0.7).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(zipfs_law, [search_engines, dominant_languages, head_terms]).
constraint_victim(zipfs_law, [minority_languages, niche_creators, tail_information]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DATA SCIENTIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the universal laws of information.
   WHEN: civilizational - Viewing the distribution as a permanent feature of data.
   WHERE: trapped - Large datasets inevitably settle into this distribution.
   SCOPE: global - Universal across all known large-scale systems.
   
   WHY THIS CLASSIFICATION:
   To the scientist, Zipf's Law is a Mountain. It is an unchangeable 
   feature of "information hardware." Whether you look at ancient Greek, 
   modern English, or the city populations of Mars, the power-law curve 
   is a fixed peak in the statistical topography of the universe.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    zipfs_law,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, civilizational, trapped, global),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE GOOGLE ENGINEER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design algorithms that handle global data.
   WHEN: biographical - Optimizing a search engine over a career.
   WHERE: arbitrage - Can choose how to treat the head vs. the tail.
   SCOPE: global - Managing the world's information.
   
   WHY THIS CLASSIFICATION:
   For the engineer, Zipf's Law is a Rope. It is a coordination mechanism 
   for extreme efficiency. By knowing that a handful of words (the, of, and) 
   make up the vast majority of traffic, they can "tether" their 
   infrastructure to those head terms, using the constraint to pull 
   global search results into existence with minimal latency.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    zipfs_law,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(zipfs_law, E),
    E > 0.3, % Leverage the extraction for performance
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NICHE CONTENT CREATOR - Noose
   --------------------------------------------------------------------------
   
   WHO: individual_powerless - Subject to the "algorithm" and attention limits.
   WHEN: immediate - Today's struggle for views and engagement.
   WHERE: constrained - High cost to compete with "head" category dominance.
   SCOPE: local - Immediate professional viability.
   
   WHY THIS CLASSIFICATION:
   For a creator in a niche topic, Zipf's Law is a Noose. The 
   mathematical distribution of human attention ensures that the 
   "head" captures nearly everything. The Noose of obscurity tightens 
   as the power-law extracts their potential audience, strangling 
   their ability to survive without becoming a generic "head" term.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    zipfs_law,
    noose,
    context(
        agent_power(individual_powerless),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(zipfs_law, E),
    E > 0.4, % Extraction of visibility and viability
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(zipfs_law_tests).

test(multi_perspective_variance) :-
    % Analyst sees Mountain, Institutional sees Rope, Powerless sees Noose
    constraint_indexing:constraint_classification(zipfs_law, mountain, context(analytical, civilizational, trapped, global)),
    constraint_indexing:constraint_classification(zipfs_law, rope, context(institutional, biographical, arbitrage, global)),
    constraint_indexing:constraint_classification(zipfs_law, noose, context(individual_powerless, immediate, constrained, local)).

test(power_extractiveness_attention) :-
    ContextPowerless = context(individual_powerless, immediate, constrained, local),
    ContextPowerful = context(institutional, biographical, arbitrage, global),
    constraint_indexing:extractiveness_for_agent(zipfs_law, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(zipfs_law, ContextPowerful, Score2),
    Score1 > Score2.

:- end_tests(zipfs_law_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.5): Zipf's Law extracts "centrality." It forces 
 * a "rich-get-richer" dynamic where the most common elements are 
 * disproportionately prioritized.
 * 2. SUPPRESSION (0.7): High. It suppresses the idea of an "equal 
 * playing field." In any Zipfian system, a tiny minority of items 
 * will always be orders of magnitude more visible than the majority.
 * 3. NOOSE LOGIC: Specifically focuses on "The Long Tail" as a trap 
 * for those whose survival depends on visibility.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    algorithmic_reversal,
    "Can algorithmic recommendation systems 'untie' the Noose of Zipf's Law 
    by artificially boosting the Long Tail (Rope), or do they inevitably 
    reinforce it via feedback loops (Mountain)?",
    resolution_mechanism("Long-term analysis of platform diversity metrics 
    under different recommendation architectures"),
    impact("If Rope: The distribution of success can be socialized. 
    If Mountain: Inequality is a law of information physics."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Normal Distribution (Bell Curve)
 * Viability: High in physical measurements (height, weight), but 
 * non-existent in communicative and social systems.
 * Suppression: High. The "Long Tail" reality suppresses the bell-curve 
 * fantasy in marketing and search.
 * * CONCLUSION:
 * Since language and social systems refuse to follow a Bell Curve, Zipf's Law 
 * is a Mountain of reality that creates a Noose of obscurity for the tail.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_zipfs_law].
 * 2. Multi-perspective: ?- multi_index_report(zipfs_law).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
