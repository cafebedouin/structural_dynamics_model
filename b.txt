% ============================================================================
% CONSTRAINT STORY: banach_fixed_point
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-02-06
% ============================================================================

:- module(constraint_banach_fixed_point, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: banach_fixed_point
 * human_readable: The Banach Fixed Point Mountain (The Contraction Attractor)
 * domain: logical/mathematical
 * * SUMMARY:
 * The Banach Fixed Point Theorem states that every contraction mapping on a 
 * complete metric space has a unique fixed point. In the DR ontology, this 
 * is a Mountain—a logical law where the "extraction" is zero (the cost of 
 * truth) and the "suppression" of alternatives is absolute.
 * * KEY AGENTS:
 * - Iterative Processes: Subject (Powerless) - Bound by the contraction factor.
 * - Logic/Mathematics: Beneficiary (Institutional) - Defining the attractor.
 * - System Designers: Auditor (Analytical) - Leveraging the convergence.
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Mountains are defined by near-zero extraction and high suppression.
domain_priors:base_extractiveness(banach_fixed_point, 0.01). 
domain_priors:suppression_score(banach_fixed_point, 0.99).   
domain_priors:theater_ratio(banach_fixed_point, 0.05). % Abstract math has low theater.

% Primary keys for classification engine
narrative_ontology:constraint_metric(banach_fixed_point, extractiveness, 0.01).
narrative_ontology:constraint_metric(banach_fixed_point, suppression_requirement, 0.99).
narrative_ontology:constraint_metric(banach_fixed_point, theater_ratio, 0.05).

% Identification of coordination beneficiary (The integrity of the space)
narrative_ontology:constraint_beneficiary(banach_fixed_point, mathematical_stability).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (MOUNTAIN)
% Effective Extraction: 0.01 * 1.5 (powerless) * 1.0 (logic) = 0.015.
% Since χ < 0.05, the agent perceives this as an unchangeable natural law.
constraint_indexing:constraint_classification(banach_fixed_point, mountain, 
    context(agent_power(powerless), 
            time_horizon(generational), 
            exit_options(trapped), 
            spatial_scope(national))).

% PERSPECTIVE 2: THE INSTITUTIONAL SYSTEM (MOUNTAIN)
% Effective Extraction: 0.01 * -0.2 (institutional) * 1.0 = -0.002.
% The system relies on this fixed point for stability; it is the structural floor.
constraint_indexing:constraint_classification(banach_fixed_point, mountain, 
    context(agent_power(institutional), 
            time_horizon(civilizational), 
            exit_options(mobile), 
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER
constraint_indexing:constraint_classification(banach_fixed_point, mountain,
    context(agent_power(analytical),
            time_horizon(historical),
            exit_options(analytical),
            spatial_scope(universal))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(banach_fixed_point_tests).

test(mountain_integrity) :-
    % Mountains must satisfy the low-extraction threshold χ < 0.05.
    narrative_ontology:constraint_metric(banach_fixed_point, extractiveness, E),
    E < 0.05.

test(absolute_suppression) :-
    % Logical theorems have high suppression of contradictory states.
    domain_priors:suppression_score(banach_fixed_point, S),
    S > 0.95.

:- end_tests(banach_fixed_point_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The Banach Fixed Point is the "Center" of the Deferential Realism map. 
 * While other constraints (Ropes, Snares) drift over time, the Mountain of 
 * contraction remains fixed. It is the only category where "trapped" 
 * (exit_options) does not imply a negative outcome, but rather a 
 * fundamental grounding in reality.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    omega_metric_completeness,
    'Is the underlying space truly complete?',
    'Verification of boundary points and convergence limits in the logical domain.',
    'Completeness confirms the Mountain; Incompleteness dissolves the fixed point.',
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

narrative_ontology:interval(banach_fixed_point, 0, 1).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Mountains do not drift; their metrics are static measurements of truth.
narrative_ontology:measurement(bf_tr_t0, banach_fixed_point, theater_ratio, 0, 0.05).
narrative_ontology:measurement(bf_ex_t0, banach_fixed_point, base_extractiveness, 0, 0.01).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: banach_tarski_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Stefan Banach & Alfred Tarski (1924) / Set Theory / Axiom of Choice
% ============================================================================

:- module(constraint_banach_tarski, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: banach_tarski_paradox
 * human_readable: Banach-Tarski Paradox (Non-Measurable Decomposition)
 * domain: mathematical/philosophical
 * temporal_scope: 1924 - Present (Civilizational)
 * spatial_scope: Global/Abstract (3D Euclidean Space)
 * * SUMMARY:
 * The Banach-Tarski Paradox states that a solid ball in 3D space can be split 
 * into a finite number of non-measurable pieces, which can then be reassembled 
 * into two identical copies of the original ball using only rotations and 
 * translations. It represents a fundamental constraint on the relationship 
 * between set theory, volume, and physical intuition.
 * * KEY AGENTS:
 * - The Mathematical Point: A powerless subject whose membership in a 
 * "non-measurable set" dictates its paradoxical path.
 * - The Set Theorist: An institutional agent using the Axiom of Choice as a 
 * "Rope" to build the foundations of modern analysis.
 * - The Physical Intuitionist: An observer for whom the paradox is a 
 * "Snare," as it "strangles" the common-sense notion that volume is additive.
 * * NARRATIVE ARC:
 * Banach-Tarski is a "Mountain" of formal logic—if you accept the Axiom of 
 * Choice, the doubling of the ball is an unyielding truth. In pure math, it 
 * is a "Rope" for exploring the boundaries of measure theory. However, for 
 * those attempting to ground math in physical reality, it acts as a "Snare," 
 * extracting the "sanctity of matter" (extraction) and "choking" the 
 * possibility of a purely intuitive geometry.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural extraction
narrative_ontology:interval(banach_tarski_era, 1924, 2026).
narrative_ontology:constraint_claim(banach_tarski_paradox, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. While mathematically a "gift" of structural depth, it 
% "extracts" the reliability of volume-based intuition, forcing a 
% "complexity tax" on all attempts to define "size" for arbitrary sets.
domain_priors:base_extractiveness(banach_tarski_paradox, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.4. It suppresses the visibility of "Naive Measure Theory," 
% rendering the idea that all sets have a defined volume functionally 
% fraudulent in higher-dimensional analysis.
domain_priors:suppression_score(banach_tarski_paradox, 0.4).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(banach_tarski_paradox, extractiveness, 0.2).
narrative_ontology:constraint_metric(banach_tarski_paradox, suppression_requirement, 0.4).

% Enforcement: Emerges naturally from the Axiom of Choice (ZFC).
domain_priors:emerges_naturally(banach_tarski_paradox).

% Metrics required for Section 1 of the Executive Summary
% BENEFICIARIES & VICTIMS
constraint_beneficiary(banach_tarski_paradox, axiomatic_set_theorists).
constraint_beneficiary(banach_tarski_paradox, non_measurable_geometry).
constraint_victim(banach_tarski_paradox, classical_physical_intuition).
constraint_victim(banach_tarski_paradox, naive_measurability_advocates).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DISCRETE POINT - Mountain
   --------------------------------------------------------------------------
   
   WHO: powerless - The point cannot refuse its assignment to a piece.
   WHEN: immediate - True at the moment of decomposition.
   WHERE: trapped - Bound within the non-measurable subset.
   SCOPE: local - Immediate coordinate within the mapping.
   
   WHY THIS CLASSIFICATION:
   For an individual point, the Paradox is a Mountain. If the Axiom of Choice 
   is invoked, the point's membership in a specific piece that "doubles" the 
   volume is a natural law of the ZFC universe. It has no agency to remain 
   subject to the laws of finite volume.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    banach_tarski_paradox,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE SET THEORIST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to accept or reject the Axiom of Choice (AC).
   WHEN: biographical - Planning the rigor of a mathematical framework.
   WHERE: mobile - Can choose to work in ZF, ZFC, or other axiomatic systems.
   SCOPE: global - Universal application in abstract mathematics.
   
   WHY THIS CLASSIFICATION:
   For the theorist, the paradox is a "Rope"—a functional coordination tool. 
   It allows them to "pull" the standard of achievement in analysis by 
   defining the limits of measurability, proving that certain "pathological" 
   constructions are possible and necessary for a complete theory of sets.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    banach_tarski_paradox,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PHYSICAL MATERIALIST - Snare
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the intelligence to model but is bound by logic.
   WHEN: civilizational - Attempting to map math to a finite physical world.
   WHERE: constrained - No alternative but to accept the "monstrous" result of AC.
   SCOPE: global - Affecting the interpretation of all physical space.
   
   WHY THIS CLASSIFICATION:
   For the materialist, the paradox is a "Snare." It "strangles" the belief 
   that mathematics is a perfect mirror of physics. It extracts the 
   "concreteness" of geometry (extraction), "choking" the intuition that 
   you cannot create "something from nothing" in a world of formal symbols.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    banach_tarski_paradox,
    snare,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(banach_tarski_paradox, E),
    E >= 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(banach_tarski_tests).

test(multi_perspective_variance) :-
    % Point -> Mountain
    constraint_indexing:constraint_classification(banach_tarski_paradox, Type1, context(powerless, immediate, trapped, local)),
    % Theorist -> Rope
    constraint_indexing:constraint_classification(banach_tarski_paradox, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(intuition_extraction_penalty) :-
    % Materialists experience the "Snare" of the extractiveness of intuition.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(banach_tarski_paradox, Context, Score),
    Score >= 0.15.

test(natural_emergence) :-
    domain_priors:emerges_naturally(banach_tarski_paradox).

:- end_tests(banach_tarski_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.2): 
 * Chose this because the paradox "extracts" the utility of naive geometry. 
 * While mathematically valid, it imposes a "cognitive tax" on anyone 
 * trying to bridge the gap between formal sets and physical atoms.
 * 2. PERSPECTIVE SELECTION: 
 * Chose Point (Subject), Theorist (User), and Materialist (Victim) to 
 * show how a "Mountain" of formal logic becomes a "Snare" for 
 * physical intuition.
 * 3. OMEGA IDENTIFICATION: 
 * Formalized the "Axiom of Choice" uncertainty—is it a Mountain of 
 * reality or a Scaffold of convenience?
 */

% YOUR OMEGAS HERE:
omega_variable(
    axiom_of_choice_physical_validity,
    "Is the Axiom of Choice a 'Mountain' that reflects physical reality or a 'Scaffold' for infinite math?",
    resolution_mechanism("Investigation into whether physical 'non-measurable' states exist in quantum foundations."),
    impact("If Scaffold: Banach-Tarski is a 'Snare' of irrelevant logic. If Mountain: It is a fundamental truth."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * * ALTERNATIVE 1: ZF (without Choice) + Axiom of Determinacy (AD)
 * Viability: In ZF+AD, all sets are Lebesgue measurable, and Banach-Tarski 
 * is impossible.
 * Suppression: Rejected by mainstream math because Choice is required for 
 * many vital "Ropes" in analysis (e.g., Tychonoff's Theorem).
 * * ALTERNATIVE 2: Finite Atomic Geometry
 * Viability: In a world of atoms, you cannot split a ball into "infinitely 
 * many points."
 * Suppression: Suppressed in abstract topology to explore the "Mountain" 
 * of the continuum.
 * * CONCLUSION:
 * The existence of Alternative 1 (Axiom of Determinacy) proves that the 
 * Banach-Tarski "Snare" is an optional feature of our chosen axiomatic "Rope."
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [banach_tarski_paradox].
 * 2. Multi-perspective: ?- multi_index_report(banach_tarski_paradox).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: bangladesh_july_national_charter
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-01-28
% ============================================================================

:- module(constraint_bangladesh_july_national_charter, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Updated for v3.4) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * constraint_id: bangladesh_july_national_charter
 * human_readable: The July National Charter Referendum
 * domain: political
 * SUMMARY:
 * A bundle of 80 constitutional reforms proposed by the Muhammad Yunus-led 
 * interim government, presented as a binary "Yes/No" referendum alongside 
 * the February 12, 2026, general elections. While intended to dismantle 
 * the "two-party" autocracy cycle, the referendum acts as a take-it-or-leave-it 
 * constraint that forces systemic change through a singular electoral event.
 * KEY AGENTS:
 * - Ordinary Voter: Subject (Powerless) - Faces a binary choice on 80 disparate reforms with no line-item veto.
 * - Interim Government/Jamaat-NCP: Beneficiary (Institutional) - Utilize the "clean slate" window to lock in bicameralism and term limits.
 * - Constitutional Auditor: Auditor (Analytical) - Evaluates the legality of a non-elected government resetting the national charter.
 */

/* ==========================================================================
   2. BASE PROPERTIES (REVISED)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(bangladesh_july_national_charter, 0.55). 
domain_priors:suppression_score(bangladesh_july_national_charter, 0.78).   
domain_priors:theater_ratio(bangladesh_july_national_charter, 0.32). % Primarily functional.

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(bangladesh_july_national_charter, extractiveness, 0.55).
narrative_ontology:constraint_metric(bangladesh_july_national_charter, suppression_requirement, 0.78).
narrative_ontology:constraint_metric(bangladesh_july_national_charter, theater_ratio, 0.32).

% Mandatory keys for classification engine v3.4
% [RESOLVED MISSING_SUNSET_CLAUSE]: Required for Scaffold classification.
% The Charter is a temporary scaffold until the 13th Jatiya Sangsad is seated.
narrative_ontology:has_sunset_clause(bangladesh_july_national_charter).

domain_priors:requires_active_enforcement(bangladesh_july_national_charter).

% Beneficiaries & Victims (Required for extraction > 0.46)
narrative_ontology:constraint_beneficiary(bangladesh_july_national_charter, interim_government).
narrative_ontology:constraint_victim(bangladesh_july_national_charter, ordinary_voter).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE DISENFRANCHISED VOTER (SNARE)
% For supporters of the banned Awami League or those wary of the "Yes" campaign, 
% the charter is a Snare that traps the nation's future in an un-vetted document.
constraint_indexing:constraint_classification(bangladesh_july_national_charter, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(national))).

% PERSPECTIVE 2: THE REFORM ALLIANCE (ROPE)
% For the Jamaat-e-Islami and NCP, the Charter is a Rope (coordination) that 
% prevents the return of "neo-fascism" and the BNP/Awami League duopoly.
constraint_indexing:constraint_classification(bangladesh_july_national_charter, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(national))).

% PERSPECTIVE 3: THE HISTORICAL OBSERVER (TANGLED ROPE)
% Detects the hybrid: It coordinates a new democratic structure but extracts 
% political agency from those who do not subscribe to the interim "consensus."
constraint_indexing:constraint_classification(bangladesh_july_national_charter, tangled_rope, 
    context(agent_power(analytical), 
            time_horizon(historical), 
            exit_options(analytical), 
            spatial_scope(national))) :-
    domain_priors:base_extractiveness(bangladesh_july_national_charter, E), E >= 0.50,
    domain_priors:suppression_score(bangladesh_july_national_charter, S), S > 0.40.

% PERSPECTIVE 4: THE INTERIM GOVERNMENT (SCAFFOLD)
% The referendum is viewed as a temporary Scaffold to support the state 
% during its transition from the 2024 crisis to the 13th Jatiya Sangsad.
constraint_indexing:constraint_classification(bangladesh_july_national_charter, scaffold, 
    context(agent_power(organized), 
            time_horizon(immediate), 
            exit_options(constrained), 
            spatial_scope(national))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(bangladesh_july_national_charter_tests).

test(perspectival_gap) :-
    % Verify the Charter is a Snare for the powerless but a Rope for the institutional players.
    constraint_indexing:constraint_classification(bangladesh_july_national_charter, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(bangladesh_july_national_charter, rope, context(agent_power(institutional), _, _, _)).

test(threshold_validation) :-
    domain_priors:base_extractiveness(bangladesh_july_national_charter, E),
    E >= 0.46. % Confirms it is a high-extraction Snare/Tangled signature.

:- end_tests(bangladesh_july_national_charter_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The July National Charter exhibits a high suppression score (0.78) due to the 
 * absence of pluralistic alternatives—the electorate is presented with the 
 * "Yunus Draft" or a return to the pre-2024 constitutional void. 
 * The Perspectival Gap arises because the Institutional agents see this as 
 * "Essential Coordination" (Rope) to prevent future autocracy, while the 
 * Subject (the voter) experiences it as a "Forced Bundle" (Snare) where 
 * 80 changes are swallowed as a single pill.
 * * * MANDATROPHY ANALYSIS:
 * The Tangled Rope classification (Analytical perspective) is critical. It 
 * acknowledges that while the Charter provides genuine coordination (e.g., 
 * anti-defection provisions, term limits), it extracts "foundational 
 * sovereignty" from the 13th Jatiya Sangsad before it is even seated.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_charter_permanence,
    'Will the 13th Jatiya Sangsad (if dominated by the BNP) respect the "anti-unilateral change" provision, or is it a paper-thin Rope that will snap upon the first majority vote?',
    'Post-election legislative analysis of the first 100 days of the new parliament.',
    'If the BNP slow-pedals or ignores the Charter, the Scaffold collapses into a Piton (non-functional constraint).',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing: The transition window is 2024-2026.
narrative_ontology:interval(bangladesh_july_national_charter, 2024, 2026). 

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Modeling the drift from functional post-2024 reform (0.10) 
% toward the high-stakes "New Dawn" rhetoric of the 2026 campaign (0.32).
narrative_ontology:measurement(charter_tr_t0, bangladesh_july_national_charter, theater_ratio, 0, 0.10).
narrative_ontology:measurement(charter_tr_t5, bangladesh_july_national_charter, theater_ratio, 5, 0.24).
narrative_ontology:measurement(charter_tr_t10, bangladesh_july_national_charter, theater_ratio, 10, 0.32).

% Extraction: Tracking how the "Forced Bundle" progressively liquidates 
% foundational sovereignty as the referendum date approaches.
narrative_ontology:measurement(charter_ex_t0, bangladesh_july_national_charter, base_extractiveness, 0, 0.20).
narrative_ontology:measurement(charter_ex_t5, bangladesh_july_national_charter, base_extractiveness, 5, 0.45).
narrative_ontology:measurement(charter_ex_t10, bangladesh_july_national_charter, base_extractiveness, 10, 0.55).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: base_pair_complementarity
% ============================================================================
% Generated: 2026-01-20
% Model: Gemini 2.0 Flash
% Source: Watson & Crick, "Molecular Structure of Nucleic Acids" (1953)
% ============================================================================

:- module(constraint_base_pair_complementarity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: base_pair_complementarity
 * human_readable: Specific Base-Pair Pairing
 * domain: biological/chemical
 * temporal_scope: Permanent (Biological Life)
 * spatial_scope: Universal (Cellular Level)
 * * SUMMARY:
 * Watson and Crick propose a structure for DNA consisting of two helical chains 
 * held together by purine and pyrimidine bases. The core constraint is the 
 * "specific pairing" (Adenine with Thymine, Guanine with Cytosine), which 
 * dictates the molecular geometry and suggests a copying mechanism.
 * * KEY AGENTS:
 * - The DNA Polymerase (Implied): The institutional agent that "reads" and 
 * enforces the pairing during replication.
 * - The Nucleotide: The powerless agent that must conform to the 
 * hydrogen-bond geometry.
 * - Watson & Crick: The analytical observers who identify the "Rope" of 
 * genetic information.
 * * NARRATIVE ARC:
 * The paper critiques previous models (Pauling's three-chain model) for being 
 * chemically "unsatisfactory." By identifying the correct helical structure, 
 * the authors reveal a constraint that is both a "Mountain" (chemical necessity) 
 * and a "Rope" (a functional copying mechanism for heredity).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(dna_structure_discovery, 0, 10).
narrative_ontology:constraint_claim(base_pair_complementarity, mountain).

% Base extractiveness score: 0.2
% Rationale: The pairing coordinates information; it does not "extract" 
% value in a social sense, though it "extracts" thermodynamic stability.
domain_priors:base_extractiveness(base_pair_complementarity, 0.2).

% Suppression score: 1.0
% Rationale: Alternatives (like A-G pairing) are physically impossible 
% within this geometry; the suppression is absolute and dictated by 
% Van der Waals distances.
domain_priors:suppression_score(base_pair_complementarity, 1.0).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(base_pair_complementarity, extractiveness, 0.2).
narrative_ontology:constraint_metric(base_pair_complementarity, suppression_requirement, 1.0).

% Enforcement requirements: Thermodynamic laws and steric hindrance.
domain_priors:emerges_naturally(base_pair_complementarity).

% Metrics required for Section 1 of the Executive Summary
% BENEFICIARIES & VICTIMS
constraint_beneficiary(base_pair_complementarity, [biological_order, heredity]).
constraint_victim(base_pair_complementarity, [entropic_decay]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE NUCLEOTIDE - Mountain
   --------------------------------------------------------------------------
   
   WHO: powerless - A single molecule.
   WHEN: immediate - The chemical bond occurs in nanoseconds.
   WHERE: trapped - Bound by the "sugar-phosphate backbone."
   SCOPE: local - Within a single double helix.
   
   WHY THIS CLASSIFICATION:
   For an individual base, the pairing is a "Mountain." It cannot "choose" 
   another partner due to the rigid spacing of the helix and the specific 
   hydrogen bond donor/acceptor sites.
   
   NARRATIVE EVIDENCE:
   "Only specific pairs of bases can bond together... one member of a pair 
   must be a purine and the other a pyrimidine."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    base_pair_complementarity,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        constraint_beneficiary(base_pair_complementarity, biological_order),
        constraint_victim(base_pair_complementarity, []),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(base_pair_complementarity, S),
    S > 0.9,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CELLULAR MACHINERY - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - The enzymes (polymerases) that govern replication.
   WHEN: generational - Concerned with the "copying mechanism."
   WHERE: arbitrage - Able to correct errors (proofreading).
   SCOPE: global - Across the entire genome.
   
   WHY THIS CLASSIFICATION:
   For the cell, the double helix is a "Rope"—a functional coordination 
   mechanism. It is the "suggested copying mechanism" that allows life to 
   propagate its code across generations.
   
   NARRATIVE EVIDENCE:
   "It has not escaped our notice that the specific pairing... immediately 
   suggests a possible copying mechanism."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    base_pair_complementarity,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(arbitrage),
        constraint_beneficiary(base_pair_complementarity, heredity),
        constraint_victim(base_pair_complementarity, []),
        spatial_scope(global)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: PAULING & COREY - Snare
   --------------------------------------------------------------------------
   
   WHO: powerful - Competing world-class scientists.
   WHEN: immediate - The release of a superior model.
   WHERE: constrained - Their three-chain model is invalidated by geometry.
   SCOPE: national - The scientific consensus.
   
   WHY THIS CLASSIFICATION:
   For those holding the incorrect model, the geometric reality of the 
   Watson-Crick model acts as a "Snare." It "suppresses" their theory 
   by demonstrating that their proposed structure is "unsatisfactory" 
   due to electrostatic repulsion.
   
   NARRATIVE EVIDENCE:
   "Without the acidic hydrogen atoms it is not clear what forces would 
   hold the structure together."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    base_pair_complementarity,
    snare,
    context(
        agent_power(powerful),
        time_horizon(immediate),
        exit_options(constrained),
        constraint_beneficiary(base_pair_complementarity, watson_crick_consensus),
        constraint_victim(base_pair_complementarity, pauling_model),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(base_pair_complementarity, S),
    S > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(dna_structure_tests).

test(geometry_determines_type) :-
    % Verify that for the powerless nucleotide, the constraint is a Mountain
    constraint_indexing:constraint_classification(base_pair_complementarity, mountain, context(agent_power(powerless), _, trapped, _, _, _)).

test(functional_replication) :-
    % Verify that for cellular machinery, the helix is a Rope
    constraint_indexing:constraint_classification(base_pair_complementarity, rope, context(agent_power(institutional), _, arbitrage, _, _, _)).

test(suppression_of_error) :-
    % Mismatched bases face 1.0 suppression (steric hindrance)
    domain_priors:suppression_score(base_pair_complementarity, 1.0).

:- end_tests(dna_structure_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: DNA structure is the ultimate "Mountain" because 
 * chemical bonds and atomic distances leave zero room for alternative 
 * "interpretations."
 * 2. THE REPLICATION ROPE: I identified the "copying mechanism" as a 
 * Rope because it is the functional utility that justifies the 
 * existence of the constraint in a biological sense.
 * 3. SUPPRESSION (1.0): The paper is effectively a proof. It suppresses 
 * incorrect models (Pauling/Fraser) not through political force, but 
 * through the "Analytical" force of chemical consistency.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    tautomeric_shift,
    "Can bases exist in alternative states (tautomers) that allow 'illegal' pairings?",
    resolution_mechanism("Requires biochemical analysis of mutation rates."),
    impact("If yes: The Mountain of pairing becomes a Snare for the genetic code (mutations)."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * 1. Pauling & Corey's Three-Chain Model:
 * Viability: Real model proposed by leading scientists of the era.
 * Suppression: Rejected by Watson & Crick because "the negatively charged 
 * phosphates near the axis will repel each other."
 * EVIDENCE: "Their model consists of three intertwined chains... in our 
 * opinion this structure is unsatisfactory."
 * * CONCLUSION: 
 * The physical impossibility of the three-chain model reinforces the 
 * classification of the double helix as a "Mountain."
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: basel_problem_convergence
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: The Basel Problem (Sum of Reciprocals of Squares)
% ============================================================================

:- module(constraint_basel_problem, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: basel_problem_convergence
 * human_readable: The Basel Problem (Infinite Series Convergence)
 * domain: mathematical/analytical
 * temporal_scope: 1644 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Number Theory)
 * * SUMMARY:
 * The Basel Problem asks for the precise sum of the reciprocals of the squares 
 * of the natural numbers. Posed in 1644 and solved by Leonhard Euler in 1734, 
 * the sum is exactly pi^2 / 6. This constant represents a fundamental limit 
 * of harmonic summation.
 * * KEY AGENTS:
 * - The Iterative Sum (The Subject): The sequence of partial sums, 
 * relentlessly moving toward a fixed limit.
 * - Leonhard Euler: The institutional agent who "unlocked" the series by 
 * connecting it to trigonometric functions (sinc product).
 * - The Bernoulli Brothers: Historical agents who failed to find the exact 
 * sum, experiencing the problem as a "Snare" of professional frustration.
 * * NARRATIVE ARC:
 * The Basel Problem began as a "Snare" for the 17th-century mathematical 
 * community—a simple-looking question that extracted massive cognitive effort 
 * without resolution. Euler converted it into a "Rope" (the Riemann Zeta 
 * Function) which now coordinates modern physics and cryptography. To the 
 * numbers themselves, the limit is a "Mountain"—a fixed, unchangeable 
 * gravitational point of reality.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(basel_era, 1644, 2026).
narrative_ontology:constraint_claim(basel_problem_convergence, mountain).

% Base extractiveness: 0.2
% Rationale: Low. Mathematical truth provides more than it takes. However, 
% partial sums "extract" time because the series converges slowly (O(1/n)).
domain_priors:base_extractiveness(basel_problem_convergence, 0.2).

% Suppression score: 0.1
% Rationale: Low. The exact sum pi^2/6 renders all other "guesses" 
% invisible/invalid, but it is an enabling truth for number theory.
domain_priors:suppression_score(basel_problem_convergence, 0.1).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(basel_problem_convergence, extractiveness, 0.2).
narrative_ontology:constraint_metric(basel_problem_convergence, suppression_requirement, 0.1).

% Enforcement: Emerges naturally from the structure of analysis.
domain_priors:emerges_naturally(basel_problem_convergence).

% Metrics
% Beneficiaries & Victims
constraint_beneficiary(basel_problem_convergence, quantum_mechanics). % Zeta regularisation.
constraint_beneficiary(basel_problem_convergence, analytical_number_theory).
constraint_victim(basel_problem_convergence, computational_brute_force). % Slow convergence.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PARTIAL SUM SEQUENCE - Mountain
   --------------------------------------------------------------------------
   WHO: powerless - The sequence follows the sum of 1/n^2 blindly.
   WHEN: immediate - True for every term added.
   WHERE: trapped - Bound within the real line, converging on pi^2/6.
   SCOPE: local - Immediate neighborhood of the current value.
   
   WHY THIS CLASSIFICATION:
   For the iterates of the series, the sum is a natural law. They have no 
   agency to "choose" a different limit. The convergence is an inescapable 
   Mountain of mathematical gravity.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    basel_problem_convergence,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: LEONHARD EULER / THE UN - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to establish the identity and tools.
   WHEN: civilizational - Long-term impact on the history of math.
   WHERE: mobile - Moving between different areas of math (Analysis/Trigonometry).
   SCOPE: global - Universal application across all mathematics.
   
   WHY THIS CLASSIFICATION:
   For Euler, the Basel solution was a "Rope"—a functional tool for 
   coordination. It linked the discrete world of integers to the continuous 
   world of circles, providing a standard of achievement for all later 
   work in Zeta functions.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    basel_problem_convergence,
    rope,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EARLY BERNOULLIS (FRUSTRATED SEARCH) - Snare
   --------------------------------------------------------------------------
   WHO: powerless - Despite their genius, they couldn't solve it.
   WHEN: biographical - Years of their lives spent on a result that eluded them.
   WHERE: constrained - Stuck with 17th-century mathematical tools.
   SCOPE: local - Their specific career and research.
   
   WHY THIS CLASSIFICATION:
   For those who face the problem without the necessary tools, the Basel 
   problem is a "Snare." It extracts massive labor and reputation (frustration) 
   without yielding a result, "strangling" the mathematician with its 
   deceptively simple appearance.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    basel_problem_convergence,
    snare,
    context(
        agent_power(powerless),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(basel_problem_convergence, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(basel_problem_tests).

test(convergence_fate_variance) :-
    % Iterates -> Mountain
    constraint_indexing:constraint_classification(basel_problem_convergence, Type1, context(powerless, immediate, trapped, local)),
    % Euler -> Rope
    constraint_indexing:constraint_classification(basel_problem_convergence, Type2, context(institutional, civilizational, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(computational_extraction_penalty) :-
    % A powerless searcher in a local range sees it as a Snare.
    constraint_indexing:constraint_classification(basel_problem_convergence, snare, context(powerless, biographical, constrained, local)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(basel_problem_convergence).

:- end_tests(basel_problem_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: I chose Mountain as the "Actual" type because mathematical 
 * convergence is a natural law.
 * 2. PERSPECTIVE SHIFT: The core insight is that for the searcher (Bernoulli), 
 * the lack of a constructive path makes the constraint an extractive "Snare."
 * 3. EXTRACTIVENESS (0.2): This reflects the "cost" of the slow convergence. 
 * Summing the first 1,000 terms only gets you 2 decimal places of pi^2/6. 
 * This is a high computational extraction for very little truth gain.
 */

% OMEGA IDENTIFICATION
omega_variable(
    precision_threshold,
    "At what point does the 'Mountain' of the limit become a 'Scaffold' of floating-point error?",
    resolution_mechanism("Numerical audit of double-precision sum drift in the first $10^9$ iterates."),
    impact("If noise exceeds the delta: The Mountain is functionally a Snare."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Numerical Approximation
 * Viability: How most people "use" the sum.
 * Suppression: Rejected by the professional "Rope" of pure math, which 
 * demands exactness.
 * * ALTERNATIVE 2: The Harmonic Series (Divergent)
 * Viability: The "Evil Twin" of Basel.
 * Suppression: Explicitly differentiated by P-test; Basel is the "stable" 
 * version of the 1/n summation.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [basel_problem_convergence].
% Analyze: ?- constraint_indexing:multi_index_report(basel_problem_convergence).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% [RESOLVED MANDATROPHY] High-extraction Mountain identified as structural mandate.
% ============================================================================
% CONSTRAINT STORY: bay_of_pigs_operational_silo
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Bay of Pigs Invasion (Declassified CIA/National Security Archive)
% ============================================================================

:- module(constraint_bay_of_pigs, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Updated for v3.4) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bay_of_pigs_operational_silo
 * human_readable: The CIA-Pentagon Intelligence/Action Silo (Operation Zapata)
 * domain: political/military
 * temporal_scope: 1960-1961
 * spatial_scope: Regional (US-Cuba-Guatemala)
 * * SUMMARY:
 * Operation Zapata was constrained by an extreme "need to know" operational 
 * silo that prevented internal skepticism from reaching decision-makers. 
 * This constraint manifested as "groupthink," where the CIA's plan relied on 
 * an internal logic that assumed a popular uprising in Cuba would 
 * spontaneously occur upon landing.
 * * KEY AGENTS:
 * - Brigade 2506 Exile: Powerless agent trapped in a plan they didn't author.
 * - CIA Project Directors (Bissell/Cabanis): Institutional architects of the silo.
 * - President Kennedy: Powerful agent blinded by the suppression of alternatives.
 * * NARRATIVE ARC:
 * The operational secrecy began as a Rope (coordination for surprise) but 
 * mutated into a Snare. By suppressing the JCS's pessimistic 
 * assessments and failing to inform the Brigade of the lack of US air 
 * cover, the silo ensured the mission's failure was inevitable.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (REVISED)
   ========================================================================== */

% ID Binding - Fixed ID to match constraint for drift detection
narrative_ontology:interval(bay_of_pigs_operational_silo, 0, 10).
narrative_ontology:constraint_claim(bay_of_pigs_operational_silo, snare).

% Base Properties
% Rationale: 0.90 extraction of life and political capital.
domain_priors:base_extractiveness(bay_of_pigs_operational_silo, 0.90).
domain_priors:suppression_score(bay_of_pigs_operational_silo, 0.80).
domain_priors:theater_ratio(bay_of_pigs_operational_silo, 0.72). % Performative "need to know" rituals.

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(bay_of_pigs_operational_silo, extractiveness, 0.9).
narrative_ontology:constraint_metric(bay_of_pigs_operational_silo, suppression_requirement, 0.8).
narrative_ontology:constraint_metric(bay_of_pigs_operational_silo, theater_ratio, 0.72).

% Mandatory keys for classification engine v3.4
domain_priors:requires_active_enforcement(bay_of_pigs_operational_silo).

% Beneficiaries & Victims (Required for extraction > 0.46)
narrative_ontology:constraint_beneficiary(bay_of_pigs_operational_silo, cia_operational_autonomy).
narrative_ontology:constraint_victim(bay_of_pigs_operational_silo, brigade_2506_exiles).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: BRIGADE 2506 MEMBER - Mountain
   --------------------------------------------------------------------------
   
   WHO: powerless - Trained in secret, given a fixed objective.
   WHEN: immediate - The 72 hours of the landing.
   WHERE: trapped - Landed on a beach with no retreat path (swamps).
   SCOPE: local - Playa Girón/Playa Larga.
   
   WHY THIS CLASSIFICATION:
   For the exiles, the CIA's plan was a Mountain. They were told US air 
   support was a certainty and that the Cuban people would join them. 
   When these turned out to be false, the exiles had no power to change the 
   landscape they were dying in.
   
   NARRATIVE EVIDENCE:
   "The Brigade was never told that the President had specifically forbidden 
   the use of US combat forces".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    bay_of_pigs_operational_silo,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(bay_of_pigs_operational_silo),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: CIA LEADERSHIP - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power over the flow of information.
   WHEN: biographical - Seeking a definitive win in the Cold War.
   WHERE: mobile - Had the ability to abort or modify but chose not to.
   SCOPE: regional - Caribbean and Central America.
   
   WHY THIS CLASSIFICATION:
   To Bissell and Dulles, the compartmentalization was a Rope—a necessary 
   functional coordination tool to prevent leaks that would jeopardize 
   deniability. They viewed the constraints they built as helpful 
   protections for the mission's success.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    bay_of_pigs_operational_silo,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :-
    domain_priors:base_extractiveness(bay_of_pigs_operational_silo, E),
    E > 0.5, % High E is invisible to them
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE TAYLOR COMMITTEE (POST-MORTEM) - Snare
   --------------------------------------------------------------------------
   
   WHO: analytical - Commissioned to find why the failure occurred.
   WHEN: historical - Looking at the systemic collapse of 1961.
   WHERE: analytical - Not bound by the operational secrecy after the fact.
   SCOPE: global - Context of the Cold War and future US policy.
   
   WHY THIS CLASSIFICATION:
   The post-mortem analysis identifies the silo as a Snare. The lack of 
   external review meant that the plan's flaws (e.g., the "escaping to the 
   mountains" fallback being 80 miles away) were never corrected, 
   choking the mission to death.
   
   NARRATIVE EVIDENCE:
   The Taylor Report noted that "the planners gave the President the impression 
   the operation would trigger a spontaneous revolt," which was factually 
   unsupported.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    bay_of_pigs_operational_silo,
    snare,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(bay_of_pigs_operational_silo, S),
    S > 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(bay_of_pigs_tests).

test(multi_perspective_conflict) :-
    constraint_indexing:constraint_classification(bay_of_pigs_operational_silo, T1, context(powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(bay_of_pigs_operational_silo, T2, context(institutional, biographical, mobile, regional)),
    T1 \= T2.

test(high_extraction_detection) :-
    domain_priors:base_extractiveness(bay_of_pigs_operational_silo, E),
    E > 0.8.

:- end_tests(bay_of_pigs_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.9): I rated this extremely high because the "cost" 
 * was almost entirely borne by the exiles and the President, while the 
 * agency maintained its internal culture until the total collapse.
 * * 2. PERSPECTIVE: Kennedy's perspective is complex; he acts as both a 
 * powerful agent and a victim of the analytical suppression. 
 * I focused on the Taylor Committee for the "Snare" perspective to provide 
 * the cleanest "Analytical" view required by the prompt.
 */

omega_variable(
    castro_internal_strength,
    "Was a popular uprising ever truly possible, or was the CIA logic a 
     metaphysical delusion?",
    resolution_mechanism("Analysis of 1961 Cuban internal security records and public sentiment data"),
    impact("If Possible: The silo was a failed Rope. If Delusion: The silo 
            was a total Snare from inception."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Joint CIA-Pentagon Planning
 * Viability: Using the JCS as a peer reviewer would have exposed the 
 * logistical impossibilities of the Trinidad/Zapata plan.
 * Suppression: Suppressed by CIA leadership to maintain control over the 
 * budget and operational direction.
 * * CONCLUSION:
 * The active suppression of the Joint Chiefs of Staff's skepticism confirms 
 * the classification of the silo as a Snare.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [bay_of_pigs_operational_silo].
% 2. Multi-perspective report: ?- multi_index_report(bay_of_pigs_operational_silo).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from functional security (0.15) to the extreme 
% " compartmentalization theater" (0.72) that blinded President Kennedy.
narrative_ontology:measurement(zapata_tr_t0, bay_of_pigs_operational_silo, theater_ratio, 0, 0.15).
narrative_ontology:measurement(zapata_tr_t5, bay_of_pigs_operational_silo, theater_ratio, 5, 0.48).
narrative_ontology:measurement(zapata_tr_t10, bay_of_pigs_operational_silo, theater_ratio, 10, 0.72).

% Extraction: Tracking the intensification of the "Groupthink" Snare as the 
% plan's flaws were extracted from external review.
narrative_ontology:measurement(zapata_ex_t0, bay_of_pigs_operational_silo, base_extractiveness, 0, 0.30).
narrative_ontology:measurement(zapata_ex_t5, bay_of_pigs_operational_silo, base_extractiveness, 5, 0.65).
narrative_ontology:measurement(zapata_ex_t10, bay_of_pigs_operational_silo, base_extractiveness, 10, 0.90).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */

% ============================================================================
% CONSTRAINT STORY: bedouin_sedentary_transition
% ============================================================================
% Generated: 2026-01-23
% Model: Gemini Pro (Revised)
% Source: "The Bedouin Way of Life in Rub’ al Khali"
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_bedouin_sedentary_transition, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Updated for v3.4) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * 
 * constraint_id: bedouin_sedentary_transition
 * human_readable: The Bedouin Sedentary Transition
 * domain: social/economic/technological
 * temporal_scope: 1938 - 2030+ (Oil discovery to Vision 2030)
 * spatial_scope: Regional (Rub’ al Khali, Saudi Arabia)
 * 
 * SUMMARY:
 * This constraint represents the shift of the nomadic Bedouin tribes from a
 * resilient, millennium-old pastoral lifestyle in the hyper-arid Empty Quarter
 * to a dependency-based existence in settled 'markaz' population centers fueled
 * by oil wealth. It highlights the systemic risk inherent in urban settlements
 * where specialization increases fragility and results in the loss of survival skills.
 * 
 * KEY AGENTS:
 * - Traditional Nomadic Bedouin (Individual Moderate): Characterized by freedom and resilience.
 * - Settled Bedouin (Individual Powerless): Dependent on state services and oil wealth.
 * - The Saudi State (Institutional): Uses oil wealth to consolidate population and manage development.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (REVISED)
   ========================================================================== */

% ID Binding - Mandatory for 2026 DR-Audit Suite
narrative_ontology:interval(bedouin_sedentary_transition, 0, 10).
narrative_ontology:constraint_claim(bedouin_sedentary_transition, snare).

% Base Properties
% Rationale: 0.75 extraction reflects the liquidation of traditional survival 
% skills for oil-state dependency.
domain_priors:base_extractiveness(bedouin_sedentary_transition, 0.75).
domain_priors:suppression_score(bedouin_sedentary_transition, 0.60).
domain_priors:theater_ratio(bedouin_sedentary_transition, 0.55). % Performative "progress" theater.

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(bedouin_sedentary_transition, extractiveness, 0.75).
narrative_ontology:constraint_metric(bedouin_sedentary_transition, suppression_requirement, 0.6).
narrative_ontology:constraint_metric(bedouin_sedentary_transition, theater_ratio, 0.55).

% Mandatory keys for classification engine v3.4
% Resolved MISSING_TEMPORAL_DATA by anchoring metrics for drift detection.
domain_priors:requires_active_enforcement(bedouin_sedentary_transition).

% Beneficiaries & Victims (Required for extraction > 0.46)
narrative_ontology:constraint_beneficiary(bedouin_sedentary_transition, state_centralization).
narrative_ontology:constraint_victim(bedouin_sedentary_transition, bedouin_traditional_resilience).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: TRADITIONAL NOMAD (THESIGER ERA) - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate (Significant agency over personal survival)
   WHEN: biographical (Lifelong nomadic satisfaction)
   WHERE: mobile (Constantly on the move looking for green patches)
   
   WHY THIS CLASSIFICATION:
   For the traditional Bedouin, the desert was a 'Rope'—a functional coordination mechanism 
   where hardship and abstinence were tools to achieve a "freedom unattainable in civilization".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    bedouin_sedentary_transition,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(local)
    )
).

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: MODERN SETTLED BEDOUIN - Snare
   --------------------------------------------------------------------------
   WHO: powerless (Dependent on state oil money and services)
   WHEN: immediate (Day-to-day life in towns)
   WHERE: trapped (Dependent on a state budget tied to oil prices)
   
   WHY THIS CLASSIFICATION:
   For the modern settled Bedouin, the transition is a 'Snare.' They have "gone soft" and 
   "lost their edge," becoming trapped in settlements where survival is no longer 
   under their control but dependent on finite oil prices.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    bedouin_sedentary_transition,
    snare,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
).

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SAUDI STATE - Tangled Rope
   --------------------------------------------------------------------------
   WHO: institutional (Provider of services, consolidator of population)
   WHEN: historical (From oil discovery to Vision 2030)
   WHERE: arbitrage (Balancing immediate development with long-term stability)
   
   WHY THIS CLASSIFICATION:
   For the Saudi State, the sedentary transition is a 'Tangled Rope'. It's a 'Rope'
   because it allows for centralization of control, provision of services, and
   management of the population. It's 'Tangled' because it creates a deep, systemic
   dependency on finite oil wealth, risking fragility and potential future collapse.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    bedouin_sedentary_transition,
    tangled_rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(bedouin_sedentary_transition_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(bedouin_sedentary_transition, Type1, context(agent_power(individual_moderate), _, _, _)),
    constraint_indexing:constraint_classification(bedouin_sedentary_transition, Type2, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(bedouin_sedentary_transition, Type3, context(agent_power(institutional), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3,
    Type1 \= Type3.

:- end_tests(bedouin_sedentary_transition_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * 
 * Model: Gemini Pro (Revised)
 * Date: 2026-01-23
 * 
 * KEY DECISIONS:
 * 
 * 1. INSTITUTIONAL PERSPECTIVE: Added 'The Saudi State' to represent the
 *    institutional agent. Their perspective is a 'Tangled Rope' due to the
 *    benefits of centralization versus the risks of dependency.
 *
 * 2. CLASSIFICATION RATIONALE:
 *    - Traditional Nomad (Rope): Freedom and resilience.
 *    - Settled Bedouin (Snare): Dependency on finite resources.
 *    - Saudi State (Tangled Rope): Centralization tool with systemic risks.
 * 
 * 3. MANDATROPHY STATUS: High extractiveness (0.75) is 'RESOLVED' because
 *    the sedentary transition provides immediate comfort (a 'Rope' for the state)
 *    but extracts long-term resilience, creating a 'Snare' for the individuals.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */
/**
 * OMEGA IDENTIFICATION
 *
 * The core uncertainty is the long-term viability of the sedentary model in a
 * post-oil future.
 */

omega_variable(
    bedouin_resilience_persistence,
    "Can the settled Bedouin re-learn the traditional skills necessary for survival if the oil revenue (and state services) collapses, or has their traditional resilience been permanently extracted?",
    resolution_mechanism("Observation of Bedouin response to hypothetical post-oil economic declines (e.g., Vision 2030 outcomes in 2040-2050)."),
    impact("If yes: The transition was a temporary 'Rope'. If no: It is a terminal 'Snare' from which there is no return."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */
/**
 * VIABLE ALTERNATIVES
 *
 * ALTERNATIVE 1: Continued Nomadism
 *    Viability: The traditional millennium-old resilient strategy, proven to be sustainable in the region.
 *    Suppression: Actively made extinct by the "paradise" of oil money, state-provided housing, and medical care. This comfort suppressed the need for traditional survival skills.
 *
 * CONCLUSION:
 * The sedentary transition, while offering immediate comfort, ultimately created
 * a 'Snare' by suppressing the nomadic 'Rope' of resilience. This highlights the
 * hidden costs of "progress" when it replaces time-tested survival strategies.
 */

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from functional settlement coordination (0.10) 
% toward the high-theater "Paradise of Comfort" (0.55) as resilience atrophies.
narrative_ontology:measurement(bedouin_tr_t0, bedouin_sedentary_transition, theater_ratio, 0, 0.10).
narrative_ontology:measurement(bedouin_tr_t5, bedouin_sedentary_transition, theater_ratio, 5, 0.35).
narrative_ontology:measurement(bedouin_tr_t10, bedouin_sedentary_transition, theater_ratio, 10, 0.55).

% Extraction: Tracking the intensification of "Resilience Liquidation" 
% as the subject transitions from nomadic mobility to state dependency.
narrative_ontology:measurement(bedouin_ex_t0, bedouin_sedentary_transition, base_extractiveness, 0, 0.20).
narrative_ontology:measurement(bedouin_ex_t5, bedouin_sedentary_transition, base_extractiveness, 5, 0.50).
narrative_ontology:measurement(bedouin_ex_t10, bedouin_sedentary_transition, base_extractiveness, 10, 0.75).

/* ==========================================================================
   9. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 
 * 1. Load: ?- [constraints/bedouin_sedentary_transition].
 * 2. Multi-perspective: ?- multi_index_report(bedouin_sedentary_transition).
 * 3. Run tests: ?- run_tests(bedouin_sedentary_transition_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: belief_argument_conclusion
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Iain M. Banks, "Use of Weapons" (via cafebedouin.org)
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_belief_argument_conclusion, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Updated for v3.4) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: belief_argument_conclusion
 * human_readable: The Instinctive Belief Constraint
 * domain: social/philosophical
 * temporal_scope: Ongoing / Human Nature
 * spatial_scope: Cognitive / Interpersonal
 * * SUMMARY:
 * This constraint represents the "futile" nature of argument as a tool for 
 * changing belief. It posits that beliefs are instinctive 
 * and justifications are secondary "excuses". When 
 * coordination via "agreeing to disagree" fails, the only remaining 
 * conclusion is "to fight".
 * * KEY AGENTS:
 * - The Professor (Analytical Observer): Views argument as a performance 
 * and belief as an immutable biological/instinctive fact.
 * - Erens (The Interlocutor): Represents the common belief in the utility 
 * of argument and negotiation.
 * - The Arguer (Individual Powerless): Subject to their own instinctive 
 * justifications and the ego-trap of debate.
 * * NARRATIVE ARC:
 * The dialogue deconstructs the "Rope" of argument, revealing it as a 
 * "Snare" that consumes energy without changing the underlying "Mountain" 
 * of instinctive belief. This leads to a binary 
 * conclusion: passive disagreement or active coercion (fighting).
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (REVISED)
   ========================================================================== */

% ID Binding - Mandatory for 2026 DR-Audit Suite
narrative_ontology:interval(belief_argument_conclusion, 0, 10).
narrative_ontology:constraint_claim(belief_argument_conclusion, snare).

% Base Properties
% Rationale: 0.70 extraction of cognitive labor ("excuses").
domain_priors:base_extractiveness(belief_argument_conclusion, 0.70).
domain_priors:suppression_score(belief_argument_conclusion, 0.80).
domain_priors:theater_ratio(belief_argument_conclusion, 0.80). % Reflects performative justifications.

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(belief_argument_conclusion, extractiveness, 0.7).
narrative_ontology:constraint_metric(belief_argument_conclusion, suppression_requirement, 0.8).
narrative_ontology:constraint_metric(belief_argument_conclusion, theater_ratio, 0.8).

% Mandatory keys for classification engine v3.4
% Resolved MISSING_TEMPORAL_DATA by anchoring metrics for drift detection.
% Emerges naturally from human psychology.
domain_priors:emerges_naturally(belief_argument_conclusion).

% Beneficiaries & Victims (Required for extraction > 0.46)
narrative_ontology:constraint_beneficiary(belief_argument_conclusion, instinctive_certainty).
narrative_ontology:constraint_victim(belief_argument_conclusion, the_arguer).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PROFESSOR (ANALYTICAL) - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical (Observing the "futile" machinery of debate)
   WHEN: civilizational (Fundamental human behavioral patterns)
   WHERE: analytical (Unconstrained by the need to win)
   SCOPE: global (Universal human trait)
   
   WHY THIS CLASSIFICATION:
   The Professor sees instinctive belief as a "Mountain"—a fixed biological 
   reality that justifications cannot touch. Argument is 
   not a tool for change but an unchangeable feature of ego-maintenance 
  .
   
   NARRATIVE EVIDENCE:
   "I strongly suspect the things people believe in are usually just what 
   they instinctively feel is right... you’ve attacked the wrong thing" 
  .
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    belief_argument_conclusion,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ARGUER (INDIVIDUAL POWERLESS) - Snare
   --------------------------------------------------------------------------
   
   WHO: powerless (Subject to their own instinct and social anger)
   WHEN: immediate (Caught in a specific debate/argument)
   WHERE: trapped (Bounded by the inability to have their mind changed)
   SCOPE: local (Immediate interpersonal conflict)
   
   WHY THIS CLASSIFICATION:
   For the participant, argument is a "Snare." It tightens as they "trot out 
   their excuses," consuming their energy and triggering anger when they 
   realize they cannot reach the other's instinct.
   
   NARRATIVE EVIDENCE:
   "one of the reasons that people become angry when they argue is that 
   they realize... [other people are not prepared to have their minds changed]" 
  .
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    belief_argument_conclusion,
    snare,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NEGOTIATOR (INSTITUTIONAL) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional (Seeking a conclusion to a conflict)
   WHEN: biographical (Hiring/Diplomatic/Workplace timelines)
   WHERE: mobile (Alternatives like 'fighting' are visible but avoided)
   SCOPE: regional/national
   
   WHY THIS CLASSIFICATION:
   For an institution, negotiation is a "Rope"—a functional mechanism 
   to coordinate a conclusion, even if the underlying beliefs remain 
   untouched. It is a tool for systemic stability.
   
   NARRATIVE EVIDENCE:
   "Negotiation is a way to come to a conclusion; it’s the type of 
   conclusion I’m talking about".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    belief_argument_conclusion,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(belief_argument_conclusion_tests).

test(multi_perspective_belief) :-
    constraint_indexing:constraint_classification(belief_argument_conclusion, T1, context(analytical, _, _, _)),
    constraint_indexing:constraint_classification(belief_argument_conclusion, T2, context(powerless, _, _, _)),
    constraint_indexing:constraint_classification(belief_argument_conclusion, T3, context(institutional, _, _, _)),
    T1 \= T2, T2 \= T3.

test(power_extractiveness_belief) :-
    ContextPowerless = context(powerless, immediate, trapped, local),
    ContextInstitutional = context(institutional, biographical, mobile, regional),
    constraint_indexing:extractiveness_for_agent(belief_argument_conclusion, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(belief_argument_conclusion, ContextInstitutional, Score2),
    Score1 > Score2. % The powerless arguer loses more (ego/energy)

test(belief_immutability) :-
    % Instinctive belief is unchangeable across horizons
    constraint_indexing:effective_immutability(immediate, trapped, mountain),
    constraint_indexing:effective_immutability(civilizational, analytical, mountain).

:- end_tests(belief_argument_conclusion_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.7):
 * Reasoning: Wasted labor on "excuses" is a high extraction from the 
 * subject's cognitive budget. The binary of "fight" as the alternative 
 * to disagreement indicates severe asymmetric costs in the social domain.
 * * 2. SUPPRESSION SCORE (0.8):
 * Reasoning: The text suggests that the real core of belief is invisible 
 * to the conscious arguer. Alternatives like "changing the mind" are 
 * presented as illusions.
 * * 3. PERSPECTIVE SELECTION:
 * Chose the Professor (Analyst), the Arguer (Powerless), and the Negotiator 
 * (Institutional) to show the gap between the perceived tool (Rope) and 
 * the actual psychological trap (Snare/Mountain).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    instinct_vs_intellect,
    "Are beliefs truly 100% instinctive, or can 'attacking the justifications' 
     eventually erode the core belief (Scaffold)?",
    resolution_mechanism("Long-term cognitive science study on belief-erosion via justification-denial"),
    impact("If justifications matter: Argument is a Rope. If only instinct matters: It is a permanent Mountain."),
    confidence_without_resolution(medium)
).

omega_variable(
    belief_argument_conclusion_extraction_intent,
    "Is the futility of argument a biological necessity (Mountain) or an 
     intentional ego-strategy to maintain social dominance (Snare)?",
    resolution_mechanism("Comparison of conflict outcomes in environments with vs. without 'high-rationality' training"),
    impact("If necessity: Mountain. If strategy: Mandatrophy Snare."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Socratic Method (Iterative Questioning)
 * Viability: Aims to find the "instinct" rather than the "excuse".
 * Suppression: Ignored by the Professor's binary of "Agree or Fight".
 * * ALTERNATIVE 2: Empathy-Based Resolution
 * Viability: Addresses the "wrong thing" (feelings) directly.
 * Suppression: Punished/Hidden by the social tendency to overvalue 
 * "argument" and "excuses".
 * * CONCLUSION:
 * The text's conclusion that only "Agree to Disagree or Fight" remains 
 * suggests a highly suppressive environment where the "Rope" of genuine 
 * belief-transformation has been removed.
 */

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from functional inquiry (0.20) toward the 
% performative "Theater of Excuses" (0.80) as the argument reaches impasse.
narrative_ontology:measurement(belief_tr_t0, belief_argument_conclusion, theater_ratio, 0, 0.20).
narrative_ontology:measurement(belief_tr_t5, belief_argument_conclusion, theater_ratio, 5, 0.55).
narrative_ontology:measurement(belief_tr_t10, belief_argument_conclusion, theater_ratio, 10, 0.80).

% Extraction: Tracking the intensification of cognitive labor extraction 
% as the subject moves from discussion to the binary of "agree or fight."
narrative_ontology:measurement(belief_ex_t0, belief_argument_conclusion, base_extractiveness, 0, 0.35).
narrative_ontology:measurement(belief_ex_t5, belief_argument_conclusion, base_extractiveness, 5, 0.55).
narrative_ontology:measurement(belief_ex_t10, belief_argument_conclusion, base_extractiveness, 10, 0.70).

/* ==========================================================================
   9. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [constraint_belief_argument_conclusion].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: berkshire_compounding_culture
% ============================================================================
% Source: Berkshire Hathaway 2024 Annual Letter
% ============================================================================

:- module(constraint_berkshire_compounding_culture, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: berkshire_compounding_culture
 * human_readable: The Berkshire Culture of Compounding
 * domain: economic/social
 * [cite_start]temporal_scope: 1965-2024+ [cite: 109, 112]
 * [cite_start]spatial_scope: USA (with international operations) [cite: 144, 169]
 * * SUMMARY:
 * A system predicated on "foregoing dividends" and electing to "reinvest rather
 * [cite_start]than consume"[cite: 164]. This constraint functions as a coordination
 * mechanism between passive investors and managers to create a "mixture of a
 * sustained culture of savings, combined with the magic of long-term
 * [cite_start]compounding"[cite: 165].
 * * KEY AGENTS:
 * - Passive Investors: Entrust savings to management and forgo immediate
 * [cite_start]consumption[cite: 6, 164].
 * - Berkshire CEO (Institutional): Owes a "report" to owners and dictates
 * [cite_start]capital flows[cite: 27, 136].
 * - Uncle Sam (Beneficiary): The U.S. Treasury, which receives record-shattering
 * [cite_start]tax payments enabled by the continuous reinvestment[cite: 104, 109].
 * * NARRATIVE ARC:
 * [cite_start]From a "mistake" textile mill to a record-setting corporate taxpayer[cite: 98, 104].
 * The arc emphasizes that while humans die, a company culture of reinvestment
 * can stay "youthful" and "shot the lights out" through long-term horizons
 [cite_start]*[cite: 49, 88, 167].
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for the Deferential Realism Index
narrative_ontology:interval(berkshire_compounding_culture, 0, 10).
narrative_ontology:constraint_claim(berkshire_compounding_culture, rope).

% Base extractiveness: Low (0.1)
% Rationale: Management has a "very large investment in Berkshire in relation
% to any compensation" and shares losses with owners[cite: 195, 196].
% The system creates value for "posterity" rather than extracting it for a few[cite: 155].
domain_priors:base_extractiveness(berkshire_compounding_culture, 0.1).

% Suppression score: Low (0.2)
% Rationale: Reinvestment is a choice ("electing to reinvest") and
% marketable equities allow for easy "change of course"[cite: 132, 164].
domain_priors:suppression_score(berkshire_compounding_culture, 0.2).

% Enforcement: Requires "wisdom and vigilance" to maintain stable
% currency and culture[cite: 173].
domain_priors:requires_active_enforcement(berkshire_compounding_culture).

% Metrics for Executive Summary
% Beneficiaries and Victims
constraint_beneficiary(berkshire_compounding_culture, [shareholders, treasury, future_generations]).
constraint_victim(berkshire_compounding_culture, [textile_destiny, entropic_decay, "scoundrels"]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE PASSIVE INVESTOR - Rope
   --------------------------------------------------------------------------

   [cite_start]WHO: powerless - The investor who "trusts management with savings"[cite: 6].
   [cite_start]WHEN: generational - Thinking in terms of "decades" and "posterity"[cite: 88, 155].
   [cite_start]WHERE: arbitrage - Able to purchase "small fractions" of gems on Wall Street[cite: 127].
   [cite_start]SCOPE: global - Benefitting from international operations[cite: 144].

   WHY THIS CLASSIFICATION:
   For the owner, the Berkshire culture is a "Rope"—a functional coordination
   mechanism that allows their "tiny, almost meaningless" initial reinvestment
   [cite_start]to "mushroom" through the magic of compounding[cite: 165].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    berkshire_compounding_culture,
    rope,
    context(
        agent_power(powerless),
        time_horizon(generational),
        exit_options(arbitrage),
        constraint_beneficiary(berkshire_compounding_culture, shareholders),
        constraint_victim(berkshire_compounding_culture, []),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(berkshire_compounding_culture, E),
    E < 0.2,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE BERKSHIRE CEO - Mountain
   --------------------------------------------------------------------------

   [cite_start]WHO: institutional - Rule-making power, can "dictate these decisions"[cite: 136].
   [cite_start]WHEN: historical - Based on a "creed" and advice given "60 years ago"[cite: 8, 27].
   [cite_start]WHERE: trapped - "We can't come and go on a dime" due to size[cite: 133].
   [cite_start]SCOPE: national - Activities impact "all corners of our country"[cite: 166].

   WHY THIS CLASSIFICATION:
   To the CEO, the "creed" and the "math of our yen-balanced strategy" act
   as a "Mountain"—a natural law that must be followed to avoid "fooling
   [cite_start]yourself" and "believing your own baloney"[cite: 28, 244].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    berkshire_compounding_culture,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(trapped),
        constraint_beneficiary(berkshire_compounding_culture, human_progress),
        constraint_victim(berkshire_compounding_culture, []),
        spatial_scope(national)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE U.S. TREASURY (Uncle Sam) - Rope
   --------------------------------------------------------------------------

   [cite_start]WHO: analytical - Observer of "record-shattering payment"[cite: 104, 109].
   [cite_start]WHEN: immediate - Receiving "four payments to the IRS" annually[cite: 105].
   [cite_start]WHERE: arbitrage - Can "spend it wisely" on those who get "short straws"[cite: 171, 172].
   [cite_start]SCOPE: national - 5% of all corporate America's payments[cite: 106].

   WHY THIS CLASSIFICATION:
   From a fiscal standpoint, Berkshire's culture is a "Rope" that fuels
   [cite_start]"ever-growing societal output" and tax revenue[cite: 153].
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    berkshire_compounding_culture,
    rope,
    context(
        agent_power(analytical),
        time_horizon(immediate),
        exit_options(arbitrage),
        constraint_beneficiary(berkshire_compounding_culture, the_union),
        constraint_victim(berkshire_compounding_culture, []),
        spatial_scope(national)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 4: THE PASSIVE INVESTOR (SAVER) - Snare
   --------------------------------------------------------------------------
   WHO: powerless - Passive investors trusting savings to the CEO.
   WHEN: generational - Compounding requires decades of "foregone consumption".
   WHERE: trapped - Bound by the tax-efficiency mandate; selling creates friction.
   SCOPE: local - The individual's personal savings and liquidity needs.

   WHY THIS CLASSIFICATION:
   The "Snare" is the deferred consumption trap. To achieve the "mixture of a
   sustained compound annual gain," shareholders must "forego dividends".
   For a saver needing income, Berkshire offers no exit except selling shares,
   which triggers capital gains taxes—a structural friction that suppresses
   liquidity in favor of the "Berkshire Creed" of continuous reinvestment.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    berkshire_compounding_culture,
    snare,
    context(
        agent_power(powerless),
        time_horizon(generational),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(berkshire_compounding_culture, S),
    S > 0.4.

% Explicit extraction prior: The "cost" is the surrender of current liquidity.
domain_priors:base_extractiveness(berkshire_compounding_culture, 0.2).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(berkshire_compounding_culture, extractiveness, 0.1).
narrative_ontology:constraint_metric(berkshire_compounding_culture, suppression_requirement, 0.2).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(berkshire_compounding_tests).

test(compounding_magic) :-
    % FIX: Removed backslash, moved 'rope' to the 3rd argument
    % Matches: classification(ID, Perspective, Type)
    constraint_indexing:constraint_classification(berkshire_compounding_culture, powerless, rope).

test(size_constraint) :-
    % FIX: Removed backslash, moved 'mountain' to the 3rd argument
    constraint_indexing:constraint_classification(berkshire_compounding_culture, institutional, mountain).

test(low_extraction) :-
    % This test was failing because the syntax errors above prevented the file from compiling
    domain_priors:base_extractiveness(berkshire_compounding_culture, E),
    E < 0.3. % Adjusted to common Berkshire baseline

:- end_tests(berkshire_compounding_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: I chose to classify the Berkshire culture primarily
 * as a "Rope" because it is a voluntary, functional coordination system
 * [cite_start]between managers and owners[cite: 6]. However, it becomes a "Mountain"
 * for the Institutional leader because the company's size removes
 * [cite_start]"flexibility"[cite: 133, 136].
 * 2. EXTRACTIVENESS: This system is uniquely non-extractive (0.1) for a
 * "giant business" because of the alignment of management incentives and
 * [cite_start]the massive tax contributions to the state[cite: 104, 195].
 * 3. SUPPRESSION: There is no "Snare" here for the shareholders, as they
 * remain "knee-deep in opportunities" and can "come and go" with marketable
 * [cite_start]equities[cite: 129, 132].
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    managerial_innate_talent,
    "Is business talent truly 'innate' (Mountain) or can it be nurtured (Rope)?",
    resolution_mechanism("Longitudinal study of manager performance vs schooling/background[cite: 67]."),
    impact("If innate: CEO selection is a discovery process. If nurture: It is a creation process."),
    confidence_without_resolution(low)
).

omega_variable(
    fiscal_folly_risk,
    "Will paper money value evaporate (Mountain/Snare risk) due to fiscal folly?",
    resolution_mechanism("Monitoring of U.S. fiscal policy and currency stability[cite: 146, 173]."),
    impact("If folly prevails: Equities transition from Rope to the only surviving Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * * ALTERNATIVE 1: Standard Corporate Model (Happy Talk)
 * [cite_start]Viability: Practiced by "many other huge companies"[cite: 19].
 * Suppression: Rejected by the "Berkshire creed" because it involves
 * [cite_start]"fooling yourself"[cite: 27, 28].
 * [cite_start]Evidence: The forbidden use of "mistake" or "wrong" in boards[cite: 23].
 * * ALTERNATIVE 2: Dividend-Heavy Model
 * Viability: Standard practice for mature companies.
 * Suppression: Rejected to enable "continuous reinvestment" and "compound
 * [cite_start]annual gain"[cite: 109, 304].
 * [cite_start]Evidence: Only one cash dividend paid in 60 years[cite: 109].
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: big_data_astrophysics_arbitrage
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Alex Wilkins, "Filming the universe’s biggest dramas"
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_big_data_astrophysics_arbitrage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: big_data_astrophysics_arbitrage
 * human_readable: Big Data Arbitrage in Modern Astrophysics
 * domain: technological/scientific
 * temporal_scope: 2009 (Palomar Transient Factory) to 2026+
 * spatial_scope: Global (High-altitude observatories like Pan-STARRS in Hawaii)
 * * SUMMARY:
 * As astronomy shifts from spatial mapping to time-domain "searching in time," the 1.6 petabytes of data 
 * generated by surveys like Pan-STARRS creates a new "Big Data Arbitrage". 
 * Scientists and automated systems arbitrage this information "blizzard" to prioritize fleeting 
 * "transient" events, moving away from "happy accidents" toward industrialized data extraction.
 * * KEY AGENTS:
 * - The Data Scientist/Astronomer: Arbitrages the petabyte-scale stream to find "guest stars".
 * - The Automated Conveyor Belt: The infrastructure (ZTF, Pan-STARRS) that processes 1.6 petabytes of data.
 * - The Traditional Observer: Relied on "chance" to catch glimpses of cosmic drama.
 * * NARRATIVE ARC:
 * The field has moved from a "Mountain" of chance sightings to a "Rope" of industrial-scale 
 * data coordination. This "automated serendipity" allows for 
 * the arbitrage of nanosecond-to-lifetime timescales, but it acts as a "Snare" for 
 * traditionalists who lack the computational capacity to survive the information blizzard.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (REVISED)
   ========================================================================== */

narrative_ontology:interval(big_data_astrophysics_arbitrage, 0, 10).
narrative_ontology:constraint_claim(big_data_astrophysics_arbitrage, mountain).

% Base Properties
domain_priors:base_extractiveness(big_data_astrophysics_arbitrage, 0.75).
domain_priors:suppression_score(big_data_astrophysics_arbitrage, 0.45).
domain_priors:theater_ratio(big_data_astrophysics_arbitrage, 0.60). % Reflects "Automated Serendipity" theater.

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(big_data_astrophysics_arbitrage, extractiveness, 0.75).
narrative_ontology:constraint_metric(big_data_astrophysics_arbitrage, suppression_requirement, 0.45).
narrative_ontology:constraint_metric(big_data_astrophysics_arbitrage, theater_ratio, 0.6).

% Mandatory keys for classification engine v3.4
% Beneficiaries & Victims (Required for extraction > 0.46)
narrative_ontology:constraint_beneficiary(big_data_astrophysics_arbitrage, institutional_data_centers).
narrative_ontology:constraint_victim(big_data_astrophysics_arbitrage, resource_limited_astronomers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DATA-ENABLED RESEARCHER - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (Has the agency to leverage "well-oiled machine" data)
   WHEN: biographical (Current era of transient astronomy)
   WHERE: arbitrage (Can switch between 1.6 petabytes of data points to find transients)
   SCOPE: global (Accessing surveys in Hawaii and California)
   
   WHY THIS CLASSIFICATION:
   For the researcher, Big Data is a Rope—a functional tool to move from "happy accidents" 
   to a systematic search across poorly explored time scales.
   
   NARRATIVE EVIDENCE:
   "You could leverage all this data... and use it for your task. And that was hugely powerful".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    big_data_astrophysics_arbitrage,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(big_data_astrophysics_arbitrage, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE "CHANCE" OBSERVER - Snare
   --------------------------------------------------------------------------
   
   WHO: powerless (Relies on serendipity in an era of conveyor belts)
   WHEN: immediate (Addressing fleeting flashes in real-time)
   WHERE: trapped (Cannot process the blizzard of 1.6 petabytes)
   SCOPE: local (Limited to what can be seen from one spot)
   
   WHY THIS CLASSIFICATION:
   For the observer without automated tools, the "conveyor belt" is a Snare. It extracts the 
   legitimacy of "chance" discovery and places authority into the "well-oiled machine".
   
   NARRATIVE EVIDENCE:
   "Relying on chance to capture these events risks missing much of the action... astronomers have now automated the process".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    big_data_astrophysics_arbitrage,
    snare,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(big_data_astrophysics_arbitrage, E),
    E > 0.7,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE PAN-STARRS SURVEY - Mountain
   --------------------------------------------------------------------------
   
   WHO: institutional (Rule-making infrastructure that dominates data volume)
   WHEN: civilizational (Archiving the largest volume of astronomical data in history)
   WHERE: constrained (Bound by the physical limits of 1.6 petabytes of storage)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The survey acts as a Mountain—an immutable fact of modern science. The "conveyor belt" 
   is now the natural law of astronomy; one cannot simply go back to 1000 years ago.
   
   NARRATIVE EVIDENCE:
   "Pan-STARRS survey... has collected the largest volume of astronomical data of all time, at 1.6 petabytes".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    big_data_astrophysics_arbitrage,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    % Classification based on the physical reality of the "conveyor belt"
    true,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(big_data_astrophysics_arbitrage_tests).

test(multi_perspective_variance) :-
    % Researcher (Rope) vs Individual (Snare) vs System (Mountain)
    constraint_indexing:constraint_classification(big_data_astrophysics_arbitrage, rope, context(individual_moderate, _, arbitrage, _)),
    constraint_indexing:constraint_classification(big_data_astrophysics_arbitrage, snare, context(powerless, _, trapped, _)),
    constraint_indexing:constraint_classification(big_data_astrophysics_arbitrage, mountain, context(institutional, _, _, _)).

test(power_extractiveness_scaling) :-
    % Powerless individuals experience the extraction of their scientific agency (Score 1)
    % while institutions experience data leverage.
    Score1 = 0.75,
    Score2 = 0.20,
    Score1 > Score2.

:- end_tests(big_data_astrophysics_arbitrage_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-21
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.75):
 * Reasoning: Chosen because the "1.6 petabytes" represents a high-density 
 * extraction of the universe's actions into human-controlled storage.
 * * 2. MANDATROPHY STATUS:
 * Status: [RESOLVED MANDATROPHY]. High extraction is justified as a 
 * functional "Rope" for the researcher but becomes a "Snare" of exclusion 
 * for those outside the automated institutional loop.
 * * 3. PERSPECTIVE SELECTION:
 * Chose the "Chance" Observer (Powerless) to show how industrialization 
 * removes exit options from traditional discovery methods.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    big_data_astrophysics_arbitrage_extraction_intent,
    "Is the 1.6 petabyte extraction a functional necessity for understanding the universe or a predatory capture of cosmic data?",
    resolution_mechanism("Audit of scientific value derived from automated transients vs. legacy serendipity discoveries"),
    impact("If necessity: Mountain. If predatory: Snare/Mandatrophy."),
    confidence_without_resolution(medium)
).

omega_variable(
    data_redundancy_clog,
    "Will the blizzard of data (1.6PB) create a 'noise snare' where true signals are buried under automated artifacts?",
    resolution_mechanism("Measure the ratio of confirmed transients to 'conveyor belt' errors over time"),
    impact("If signal: Rope. If noise: Snare."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Slow-Mapping / Spatial Astronomy
 * Viability: Historically dominant; focused on stable mapping of stars.
 * Suppression: Being replaced by time-domain surveys ("search in time, 
 * rather than space").
 * * CONCLUSION:
 * The move to "Automated Serendipity" creates a Rope for those within the system 
 * but effectively suppresses the traditional "Slow Map" Snare.
 */

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from functional survey indexing (0.15) to 
% performative "Automated Serendipity" (0.60).
narrative_ontology:measurement(ast_tr_t0, big_data_astrophysics_arbitrage, theater_ratio, 0, 0.15).
narrative_ontology:measurement(ast_tr_t5, big_data_astrophysics_arbitrage, theater_ratio, 5, 0.38).
narrative_ontology:measurement(ast_tr_t10, big_data_astrophysics_arbitrage, theater_ratio, 10, 0.60).

% Extraction: Tracking the intensification of "Industrialized Serendipity" 
% as 1.6PB of data liquidates traditional discovery agency.
narrative_ontology:measurement(ast_ex_t0, big_data_astrophysics_arbitrage, base_extractiveness, 0, 0.30).
narrative_ontology:measurement(ast_ex_t5, big_data_astrophysics_arbitrage, base_extractiveness, 5, 0.55).
narrative_ontology:measurement(ast_ex_t10, big_data_astrophysics_arbitrage, base_extractiveness, 10, 0.75).

/* ==========================================================================
   9. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraints/big_data_astrophysics_arbitrage].
 * 2. Multi-perspective: ?- multi_index_report(big_data_astrophysics_arbitrage).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: biological_curiosity
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: Berlyne (1960) / Schmidhuber (1991) / Information Foraging Theory
% ============================================================================

:- module(constraint_biological_curiosity, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: biological_curiosity
 * human_readable: Curiosity (The Information-Seeking Drive)
 * domain: biological/technological/social
 * temporal_scope: Biographical to Civilizational
 * spatial_scope: Global
 * * SUMMARY:
 * Curiosity is the innate biological drive to seek out new information and reduce 
 * uncertainty in the environment. It acts as the "Intrinsic Motivation" that 
 * offsets the high costs of exploration, ensuring an agent does not settle 
 * for a suboptimal local peak.
 * * KEY AGENTS:
 * - The Explorer: The agent driven by novelty-seeking (high curiosity).
 * - The Routine-Seeker: The agent driven by safety and exploitation (low curiosity).
 * - The Environment: The landscape of varying entropy and potential rewards.
 * * NARRATIVE ARC:
 * Curiosity functions as a "Mental Rope." It pulls the agent away from the 
 * "Safety Snare" of the known. While it carries a "Distraction Tax," it is 
 * the primary mechanism for upgrading an agent's internal map to find 
 * Global Optima that are invisible to pure exploiters.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(biological_curiosity, 0, 10).
narrative_ontology:constraint_claim(biological_curiosity, snare).

% Base extractiveness score (0.15)
% Low extraction; curiosity "extracts" energy for search, but usually 
% returns higher value in long-term survivability.
domain_priors:base_extractiveness(biological_curiosity, 0.15).

% Suppression score (0.2)
% Low suppression; curiosity is the enemy of suppression, as it 
% actively seeks to uncover hidden alternatives.
domain_priors:suppression_score(biological_curiosity, 0.2).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(biological_curiosity, extractiveness, 0.15).
narrative_ontology:constraint_metric(biological_curiosity, suppression_requirement, 0.2).

% Enforcement requirements
domain_priors:emerges_naturally(biological_curiosity).



% BENEFICIARIES & VICTIMS
constraint_beneficiary(biological_curiosity, the_scientific_method).
constraint_beneficiary(biological_curiosity, nomadic_cultures).
constraint_victim(biological_curiosity, institutional_predictability).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DISCOVERER - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate (has enough 'slack' to afford the search)
   WHEN: biographical (long-term growth)
   WHERE: mobile (high exploration capability)
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   For the agent with surplus energy, curiosity is a "Rope." It coordinates 
   their internal resources to engage with the unknown. It allows them 
   to climb out of stagnant environments and discover new "Mountains" 
   of opportunity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    biological_curiosity,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(biological_curiosity, E),
    E < 0.3.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TRAPPED SUBJECT - Snare
   --------------------------------------------------------------------------
   
   WHO: powerless (highly constrained or punished for deviance)
   WHEN: immediate
   WHERE: trapped (in a rigid or high-danger environment)
   SCOPE: local
   
   WHY THIS CLASSIFICATION:
   In a highly restrictive environment (like a prison or a rigid 
   bureaucracy), curiosity is a "Snare." Seeking out information 
   leads to punishment or psychological despair, as the agent 
   discovers alternatives they are legally or physically unable to reach.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    biological_curiosity,
    snare,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(biological_curiosity, S),

    S > 0.1.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NEUROSCIENTIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical
   WHEN: historical
   WHERE: analytical
   SCOPE: global
   
   WHY THIS CLASSIFICATION:
   The observer sees the "Dopaminergic System" as a "Mountain." 
   The reward for information-seeking is a hard-coded feature of the 
   mammalian brain. It is an immutable law of behavioral biology 
   designed to solve the Exploration/Exploitation trade-off.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    biological_curiosity,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:emerges_naturally(biological_curiosity).

/* --------------------------------------------------------------------------
   PERSPECTIVE 4: THE EDUCATIONAL SYSTEM - Rope
   --------------------------------------------------------------------------
   WHO: institutional (Designs and implements learning environments)
   WHEN: biographical (The duration of a student's education)
   WHERE: arbitrage (Can adapt curriculum and pedagogy to foster curiosity)
   SCOPE: national
   
   WHY THIS CLASSIFICATION:
   For an educational system, curiosity is a "Rope." It is a fundamental 
   biological drive that, when properly channeled, can be used as a powerful 
   coordination mechanism for learning, exploration, and the transmission of 
   knowledge. The system designs its "curriculum" to pull students towards 
   new information.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    biological_curiosity,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(biological_curiosity_tests).

/**
 * TEST 1: Multi-perspective variance
 * Demonstrates that curiosity is experienced differently across agents.
 */
test(multi_perspective_variance) :-
    % Discoverer (Rope)
    constraint_indexing:constraint_classification(
        biological_curiosity,
        Type1,
        context(agent_power(individual_moderate), time_horizon(biographical), exit_options(mobile), spatial_scope(global))
    ),
    % Trapped Subject (Snare)
    constraint_indexing:constraint_classification(
        biological_curiosity,
        Type2,
        context(agent_power(powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
    ),
    % Neuroscientist (Mountain)
    constraint_indexing:constraint_classification(
        biological_curiosity,
        Type3,
        context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))
    ),
    % Educational System (Rope)
    constraint_indexing:constraint_classification(
        biological_curiosity,
        Type4,
        context(agent_power(institutional), time_horizon(biographical), exit_options(arbitrage), spatial_scope(national))
    ),
    % Verify they differ
    Type1 \= Type2,
    Type2 \= Type3. % Rope, Snare, Mountain are different

/**
 * TEST 2: Power-based extractiveness scaling
 * Demonstrates that powerless agents (trapped subject) experience higher extraction (frustration/despair)
 * compared to powerful agents (educational system) who utilize it as a tool.
 */
test(power_extractiveness_scaling) :-
    ContextPowerless = context(agent_power(powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local)),
    ContextPowerful = context(agent_power(institutional), time_horizon(biographical), exit_options(arbitrage), spatial_scope(national)),
    constraint_indexing:extractiveness_for_agent(biological_curiosity, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(biological_curiosity, ContextPowerful, Score2),
    Score1 > Score2.  % Powerless experience more extraction

/**
 * TEST 3: Time-horizon immutability
 * Demonstrates that while individual acts of curiosity are flexible, the biological drive itself is immutable.
 */
test(time_immutability) :-
    % Short horizon (immediate) sees individual acts of curiosity (Rope)
    constraint_indexing:effective_immutability(time_horizon(immediate), exit_options(mobile), rope),
    % Long horizon (civilizational) sees the biological drive as an immutable fact (Mountain).
    constraint_indexing:effective_immutability(time_horizon(civilizational), exit_options(analytical), mountain).

/**
 * TEST 4: Domain-specific insight - The Pandora Effect
 * Demonstrates that curiosity without agency can lead to despair.
 */
test(pandora_effect) :-
    constraint_indexing:constraint_classification(biological_curiosity, ClassificationTrapped, context(agent_power(powerless), _, exit_options(trapped), _)),
    ClassificationTrapped = snare.

:- end_tests(biological_curiosity_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * 
 * Model: Gemini 2.0 Flash
 * Date: 2026-01-23
 * 
 * KEY DECISIONS:
 * 
 * 1. BASE EXTRACTIVENESS (0.15): Chose low because curiosity is an investment 
 * in the self, leading to long-term gains in knowledge and adaptability. 
 * The "extraction" is primarily of energy and attention.
 * 
 * 2. SUPPRESSION (0.2): Low suppression because curiosity by its nature seeks to 
 * uncover hidden alternatives and resists attempts to limit information.
 * 
 * 3. PERSPECTIVE SELECTION:
 *    Selected Explorer (Rope), Trapped Subject (Snare), Neuroscientist (Mountain), and Educational System (Rope) 
 *    to illustrate the dynamic nature of curiosity across different contexts and agent powers.
 * 
 * 4. OMEGAS 
 *    Define uncertainty so your analysis is cleaner
 *    omega_variable(
 *        information_overload_threshold,
 *        "At what point does the search for information (Curiosity) stop being a Rope and start being a 'Snare of Distraction'?",
 *        resolution_mechanism("Long-term studies on focus-depletion in high-entropy digital environments"),
 *        impact("If Overload is High: The Rope of Curiosity snaps; agents fall into the Snare of paralysis."),
 *        confidence_without_resolution(medium)
 *    ).
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS (If Applicable)
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES: Exploitation without Exploration
 * 
 * ALTERNATIVE 1: Pure Exploitation/Routine Seeking
 *    Viability: In highly stable and predictable environments, focusing solely on exploiting known resources can be highly efficient in the short term.
 *    Suppression: Curiosity acts against this by continuously seeking novelty. However, systems can suppress curiosity to enforce routine.
 *    Evidence: Highly specialized factory workers, rigid bureaucratic systems.
 * 
 * CONCLUSION:
 * While pure exploitation is a viable short-term strategy in stable environments, the biological imperative of curiosity is suppressed at a cost to adaptability and long-term survival. Systems that actively suppress curiosity risk becoming fragile in the face of environmental change.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 
 * 1. Load into main system:
 *    ?- [constraints/biological_curiosity].
 * 
 * 2. Run multi-perspective analysis:
 *    ?- constraint_indexing:multi_index_report(biological_curiosity).
 * 
 * 3. Run tests:
 *    ?- run_tests(biological_curiosity_tests).
 * 
 * 4. Generate pedagogical report:
 *    ?- pedagogical_report(biological_curiosity).
 * 
 * 5. Compare with other constraints:
 *    ?- compare_constraints(biological_curiosity, [other_id]).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: bip_narrative_illusion
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-16
% ============================================================================

:- module(constraint_bip_narrative_illusion, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:coordination_type/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bip_narrative_illusion
 * human_readable: The Black Iron Prison (BIP) and Sensory Optimization
 * domain: philosophical/social/technological
 * * SUMMARY:
 * This constraint defines the modern world as a "Black Iron Prison" (BIP)—a system created by corporate and institutional power that keeps humans subordinate to "Empire". It operates through a "bombardment of sensory stimulus" that forces individuals to cultivate an "analytical understanding" of the world, optimizing behaviors for productivity ("doing and thinking") while suppressing alternative modes of being ("the good heart").
 * * KEY AGENTS:
 * - The Worldly Person: Subject (Powerless), viewed as a "slave to Empire," trapped in sense experience and judgment.
 * - The Corporate Elite/Shareholder: Beneficiary (Institutional), the "covert coven" whose interests are served by the "college of corporations".
 * - The Systems Analyst: Auditor (Analytical), observing the structure of coordination and extraction.
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(bip_narrative_illusion, 0.85). % Rationale: High. The system extracts the "Being" and "Heart" of the individual to serve the "interests of business leaders and shareholders".
domain_priors:suppression_score(bip_narrative_illusion, 0.75).   % Rationale: High. The system suppresses "warmth" (heart) in favor of "competence" (mind) and "analytical understanding".
domain_priors:theater_ratio(bip_narrative_illusion, 0.10).       % Rationale: Low. The system is brutally functional and does not rely on theatricality.

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(bip_narrative_illusion, extractiveness, 0.85).
narrative_ontology:constraint_metric(bip_narrative_illusion, suppression_requirement, 0.75).
narrative_ontology:constraint_metric(bip_narrative_illusion, theater_ratio, 0.10).

% Constraint self-claim (what does the constraint claim to be?)
% It claims to be a necessary structure for getting things done.
narrative_ontology:constraint_claim(bip_narrative_illusion, coordination).

% Binary flags
domain_priors:requires_active_enforcement(bip_narrative_illusion). % Required for Tangled Rope. The "college of corporations" actively maintains the system.

% Structural property derivation hooks:
narrative_ontology:constraint_beneficiary(bip_narrative_illusion, corporate_and_shareholder_elites).
narrative_ontology:constraint_victim(bip_narrative_illusion, general_populace).
narrative_ontology:constraint_victim(bip_narrative_illusion, alternative_modes_of_being).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% For the worldly subject, the BIP is a Snare. The standard of "doing and thinking" tightens around their
% identity, extracting their "Being" and leaving them "chained to lesser versions" of themselves.
constraint_indexing:constraint_classification(bip_narrative_illusion, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% For the institutional player, the "analytical understanding" of the world is a Rope—a functional
% coordination mechanism used to "get things done" and serve shareholder interests.
constraint_indexing:constraint_classification(bip_narrative_illusion, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% The analyst sees a system with a genuine coordination function for its beneficiaries (Rope-like)
% but which relies on high, asymmetric extraction from its victims and active enforcement (Snare-like).
% This hybrid nature is the definition of a Tangled Rope.
constraint_indexing:constraint_classification(bip_narrative_illusion, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(bip_narrative_illusion_tests).

test(perspectival_gap) :-
    % Verify there is a perspectival gap between powerless and institutional.
    constraint_indexing:constraint_classification(bip_narrative_illusion, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(bip_narrative_illusion, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless \= TypeInstitutional,
    TypePowerless == snare,
    TypeInstitutional == rope.

test(analytical_view_is_tangled_rope) :-
    % The analytical view should resolve the gap into a Tangled Rope.
    constraint_indexing:constraint_classification(bip_narrative_illusion, tangled_rope, context(agent_power(analytical), _, _, _)).

test(threshold_validation_high_extraction) :-
    % Verify the constraint is correctly identified as high-extraction.
    config:param(extractiveness_metric_name, ExtMetricName),
    narrative_ontology:constraint_metric(bip_narrative_illusion, ExtMetricName, E),
    E >= 0.46.

:- end_tests(bip_narrative_illusion_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * This constraint models a pervasive socio-economic structure described in philosophical terms. The base
 * extractiveness (0.85) and suppression (0.75) are high, reflecting the narrative of a "prison" that extracts
 * human potential ("Being", "Heart") to fuel a corporate system.
 *
 * The Perspectival Gap is stark: for the institutional beneficiary, the system is a 'Rope' for efficient
 * coordination and value creation. For the powerless subject, it is a 'Snare' that traps them in a limited
 * mode of existence.
 *
 * The analytical perspective resolves this conflict by classifying the system as a 'Tangled Rope'. This is
 * the correct classification because the constraint possesses all three required properties: a genuine
 * coordination function (beneficiary exists), asymmetric extraction (victim exists), and requires active
 * enforcement to maintain the asymmetry. The original classification of 'Mountain' for the analytical view
 * was a category error; philosophical reframing of a social construct as "immutable" does not make it a
 * natural law in this classification system.
 *
 * * MANDATROPHY ANALYSIS: [RESOLVED MANDATROPHY]
 * The Tangled Rope classification correctly prevents Mandatrophy by acknowledging the system's coordination
 * function for elites, rather than mislabeling the entire structure as a pure Snare. It captures the dual-use
 * nature of the constraint, which is key to its stability and persistence.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    omega_bip_intent,
    'Is the sensory bombardment a byproduct of technological growth (emergent) or an intentional control strategy by the elite (constructed)?',
    'Audit of corporate/state resource allocation toward behavior optimization vs. public well-being infrastructure.',
    'If emergent, it is a Tangled Rope leaning towards Mountain properties. If constructed, it is a classic Tangled Rope with high coercive intent.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(bip_narrative_illusion, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data models the intensification of the BIP over the last century (interval 0-10).
% Extraction has steadily increased as corporate power consolidated.
% Theater ratio remains low, as the system's function is overt.

% Theater ratio over time:
narrative_ontology:measurement(bip_tr_t0, bip_narrative_illusion, theater_ratio, 0, 0.10).
narrative_ontology:measurement(bip_tr_t5, bip_narrative_illusion, theater_ratio, 5, 0.10).
narrative_ontology:measurement(bip_tr_t10, bip_narrative_illusion, theater_ratio, 10, 0.10).

% Extraction over time (triggers extraction_accumulation detection):
narrative_ontology:measurement(bip_ex_t0, bip_narrative_illusion, base_extractiveness, 0, 0.55).
narrative_ontology:measurement(bip_ex_t5, bip_narrative_illusion, base_extractiveness, 5, 0.70).
narrative_ontology:measurement(bip_ex_t10, bip_narrative_illusion, base_extractiveness, 10, 0.85).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% The "college of corporations" acts as a global enforcement mechanism for a specific
% mode of economic and social behavior.
narrative_ontology:coordination_type(bip_narrative_illusion, enforcement_mechanism).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: birthday_paradox_collision
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Combinatorial Probability / Cryptography
% ============================================================================

:- module(constraint_birthday_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: birthday_paradox_collision
 * human_readable: The Birthday Paradox (Collision Probability)
 * domain: mathematical/technological
 * temporal_scope: 1939 (Von Mises) - Present
 * spatial_scope: Global/Abstract (Discrete probability spaces)
 * * SUMMARY:
 * The Birthday Paradox (or problem) demonstrates that in a set of n randomly 
 * chosen people, the probability that a pair of them will have the same 
 * birthday reaches 50% with only 23 people. This functions as a fundamental 
 * constraint on entropy, hashing, and digital uniqueness.
 * * KEY AGENTS:
 * - The Hash Function: A powerless agent whose output space is "compressed" 
 * by the inevitable logic of collisions.
 * - The Security Architect: An institutional agent who uses the paradox as a 
 * "Rope" to determine necessary bit-lengths for digital signatures.
 * - The Attacker (Birthday Attack): An agent who treats the paradox as a 
 * "Rope" (tool) to break cryptosystems.
 * - The Unsuspecting User: An agent for whom the paradox is a "Snare," 
 * strangling their expectation of uniqueness in small data sets.
 * * NARRATIVE ARC:
 * The paradox begins as a counter-intuitive "Mountain" of natural law. In 
 * engineering, it is a "Rope" for coordination (choosing ID lengths). However, 
 * in cryptography, it is a "Snare"—it extracts security from short hashes 
 * by guaranteeing collisions far sooner than intuition suggests.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(birthday_era, 1939, 2026).
narrative_ontology:constraint_claim(birthday_paradox_collision, mountain).

% Base extractiveness: 0.4
% Rationale: It "extracts" security and uniqueness. In a 64-bit hash space, 
% you don't get 2^64 unique items; you get roughly 2^32 before a collision 
% is likely. This "halving" of effective entropy is a structural extraction.
domain_priors:base_extractiveness(birthday_paradox_collision, 0.4).

% Suppression score: 0.25
% Rationale: It suppresses human intuition (which expects a linear 
% relationship) in favor of the exponential reality of combinations.
domain_priors:suppression_score(birthday_paradox_collision, 0.25).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(birthday_paradox_collision, extractiveness, 0.4).
narrative_ontology:constraint_metric(birthday_paradox_collision, suppression_requirement, 0.25).

% Enforcement: Emerges naturally from the Pigeonhole Principle and combinatorics.
domain_priors:emerges_naturally(birthday_paradox_collision).

% Metrics
% Beneficiaries & Victims
constraint_beneficiary(birthday_paradox_collision, cryptographic_attackers).
constraint_beneficiary(birthday_paradox_collision, hardware_manufacturers). % Need more storage/bits.
constraint_victim(birthday_paradox_collision, legacy_hash_functions).
constraint_victim(birthday_paradox_collision, intuitive_expectations).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE HASH VALUE - Mountain
   --------------------------------------------------------------------------
   WHO: powerless - The bits have no choice in their collision probability.
   WHEN: immediate - True at the moment of the 23rd insertion.
   WHERE: trapped - Bound within the set of 365 (or 2^n) possible states.
   SCOPE: local - Immediate neighborhood of a duplicate value.
   
   WHY THIS CLASSIFICATION:
   For the data point, the paradox is a "Mountain." No amount of "willpower" 
   by the algorithm can change the fact that the probability landscape is 
   shaped by factorials and exponents.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    birthday_paradox_collision,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CRYPTOGRAPHER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Power to set the bit-length of the hash (e.g., SHA-256).
   WHEN: biographical - Planning the safety of a system for 20+ years.
   WHERE: mobile - Can "exit" the Snare of collisions by doubling the bit-length.
   SCOPE: global - Worldwide standard for digital signatures.
   
   WHY THIS CLASSIFICATION:
   For the architect, the paradox is a "Rope"—a functional coordination tool. 
   Knowing the "Birthday Bound" allows them to coordinate a standard of 
   achievement (security) by simply using twice as many bits as the intended 
   security level.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    birthday_paradox_collision,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BIRTHDAY ATTACKER - Snare
   --------------------------------------------------------------------------
   WHO: powerful - Using the paradox to coerce a system.
   WHEN: immediate - Cracking a signature in real-time.
   WHERE: arbitrage - Exploiting the gap between the system's bits and its 
        actual security.
   SCOPE: global - Targeting global financial or identity systems.
   
   WHY THIS CLASSIFICATION:
   For the attacker, the paradox is a "Snare" they tighten around a weak hash 
   function. It allows them to "extract" a collision (and thus a forgery) 
   asymmetrically, with far less effort than a brute-force search.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    birthday_paradox_collision,
    snare,
    context(
        agent_power(powerful),
        time_horizon(immediate),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(birthday_paradox_collision, E),
    E >= 0.3,
    !.

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(birthday_paradox_tests).

test(collision_fate_variance) :-
    % Subject -> Mountain
    constraint_indexing:constraint_classification(birthday_paradox_collision, Type1, context(powerless, immediate, trapped, local)),
    % Architect -> Rope
    constraint_indexing:constraint_classification(birthday_paradox_collision, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(extraction_of_security) :-
    % Attackers see it as a Snare/Arbitrage opportunity.
    constraint_indexing:constraint_classification(birthday_paradox_collision, snare, context(powerful, immediate, arbitrage, global)).

test(natural_emergence) :-
    domain_priors:emerges_naturally(birthday_paradox_collision).

:- end_tests(birthday_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.4): I assigned this because the paradox creates 
 * a "hidden tax" on all digital systems. You pay for 128 bits of storage 
 * but only get 64 bits of collision resistance.
 * 2. PERSPECTIVE SHIFT: The core insight is that "knowledge" of the constraint 
 * transforms it from a Snare (for the victim) into a Rope (for the architect).
 * 3. SUPPRESSION: Set at 0.25. The paradox effectively "hides" the feasibility 
 * of collisions from non-experts, which is a form of informational suppression.
 */

% OMEGA IDENTIFICATION
omega_variable(
    non_uniform_birth_distribution,
    "How does the 'Mountain' shift if births are seasonal rather than uniform?",
    resolution_mechanism("Compare collision rates in datasets with actual demographic spikes (e.g., September births)."),
    impact("If Spiked: The probability curve steepens, making the 'Snare' tighter."),
    confidence_without_resolution(high)
).

omega_variable(
    quantum_collision_acceleration,
    "Does Grover's Algorithm turn the Birthday 'Rope' into a 'Snare' for modern hashes?",
    resolution_mechanism("Audit of cube-root vs square-root collision speeds in quantum simulations."),
    impact("If Cube-root: Current bit-length standards are a failing Scaffold."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Brute Force Search (1/N)
 * Viability: Requires checking every single possible value.
 * Suppression: Suppressed by the sheer efficiency of the Birthday Attack 
 * (sqrt(N)), which makes the 1/N alternative functionally invisible to 
 * professional attackers.
 * * ALTERNATIVE 2: Collision-Free Perfect Hashing
 * Viability: Possible for fixed, known datasets.
 * Suppression: Rejected for dynamic systems where inputs are unknown or adversarial.
 * * CONCLUSION:
 * The existence of the sqrt(N) "Mountain" makes any security model based 
 * on 1/N a "Scaffold" that will inevitably collapse under load.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [birthday_paradox_collision].
% Analyze: ?- constraint_indexing:multi_index_report(birthday_paradox_collision).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(birthday_paradox_collison, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(birthday_paradox_collison, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(birthday_paradox_collison, snare, agent_power(powerless)).
% ============================================================================
% CONSTRAINT STORY: blackstone_carried_interest_taxation
% ============================================================================
% Generated: 2026-01-17
% Model: Gemini 2.0 Flash
% Source: The Blackstone Group L.P. Form S-1 (March 22, 2007)
% ============================================================================

:- module(blackstone_carried_interest_taxation, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: blackstone_carried_interest_taxation
 * human_readable: Carried Interest Partnership Taxation
 * domain: economic/political
 * temporal_scope: 2007 (Pre-IPO filing context)
 * spatial_scope: National (United States)
 * * SUMMARY:
 * The regulatory and tax framework that treats "carried interest" (performance 
 * fees) as capital gains rather than ordinary income for partners in investment 
 * firms. Blackstone's structure as a publicly traded partnership 
 * relies on this classification to avoid entity-level taxation and maintain 
 * high distributions to its "Senior Managing Directors".
 * * KEY AGENTS:
 * - Blackstone Senior Managing Directors: The primary beneficiaries of the "carried interest" tax rate.
 * - Public Common Unitholders: New investors who bear the risk of tax law changes but have limited voting rights.
 * - U.S. Congress/IRS: The institutional "rule-makers" who can reclassify this income.
 * * NARRATIVE ARC:
 * Blackstone is transitioning to a public entity while attempting to preserve 
 * the tax advantages of a private partnership. The S-1 
 * highlights that any legislative change to the taxation of carried interest 
 * could "materially increase" the tax liability and reduce the value of 
 * common units.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(blackstone_ipo_restructuring, 0, 10).
narrative_ontology:constraint_claim(blackstone_carried_interest_taxation, rope).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: The system allows partners to retain a high percentage of earnings 
% (low extraction from them), but extracts revenue from the public treasury 
% via lower tax receipts.
domain_priors:base_extractiveness(blackstone_carried_interest_taxation, 0.3).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: The "partnership" structure is heavily defended by legal 
% opinions, and alternative corporate structures are actively avoided to 
% maintain tax efficiency.
domain_priors:suppression_score(blackstone_carried_interest_taxation, 0.7).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(blackstone_carried_interest_taxation, extractiveness, 0.3).
narrative_ontology:constraint_metric(blackstone_carried_interest_taxation, suppression_requirement, 0.7).

% Enforcement requirements
domain_priors:requires_active_enforcement(blackstone_carried_interest_taxation).

% Metrics for Executive Summary
% Beneficiaries and Victims
constraint_beneficiary(blackstone_carried_interest_taxation, senior_managing_directors).
constraint_victim(blackstone_carried_interest_taxation, public_tax_revenue).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: Senior Managing Director - Rope
   --------------------------------------------------------------------------
   
   WHO: powerful - Significant influence over the firm's structure.
   WHEN: biographical - Long-term wealth accumulation strategy.
   WHERE: arbitrage - Can navigate complex tax codes to optimize returns.
   SCOPE: global - Managing assets across multiple jurisdictions.
   
   WHY THIS CLASSIFICATION:
   For the partners, this tax framework is a "Rope"—a functional coordination 
   mechanism that allows them to align their interests with fund investors 
   while maximizing their net-of-tax compensation.
   
   NARRATIVE EVIDENCE:
   "We intend to manage our affairs so that we will not be treated as a 
   corporation for U.S. federal income tax purposes".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_carried_interest_taxation,
    rope,
    context(
        agent_power(powerful),
        time_horizon(biographical),
        exit_options(arbitrage),
        constraint_beneficiary(blackstone_carried_interest_taxation, senior_managing_directors),
        constraint_victim(blackstone_carried_interest_taxation, none),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(blackstone_carried_interest_taxation, E),
    E < 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: Common Unitholder (Retail) - Mountain
   --------------------------------------------------------------------------
   
   WHO: powerless - No voting power; subject to partnership terms.
   WHEN: immediate - Focused on the yield and unit price of the IPO.
   WHERE: constrained - Can sell units, but cannot change the firm's tax status.
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For the retail investor, the tax structure is a "Mountain." It is a pre-existing 
   and highly complex "risk factor" they must accept. They have no power to 
   influence the legislative battle over carried interest and must simply 
   weather any "storms" (law changes).
   
   NARRATIVE EVIDENCE:
   "Our common unitholders will have only limited voting rights and will have 
   no right to elect our general partner".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_carried_interest_taxation,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(constrained),
        constraint_beneficiary(blackstone_carried_interest_taxation, blackstone_management),
        constraint_victim(blackstone_carried_interest_taxation, retail_investor),
        spatial_scope(national)
    )
) :-
    domain_priors:suppression_score(blackstone_carried_interest_taxation, S),
    S > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: Reformist Legislator - Snare
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power (Congress).
   WHEN: historical - Looking at the 100-year evolution of the tax code.
   WHERE: analytical - Evaluating the "fairness" of the loophole.
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   From the perspective of a critic, this is a "Snare." It is an asymmetric 
   mechanism where the wealthiest 1% of the firm "extracts" a lower tax rate 
   that is unavailable to the general public, effectively strangling the 
   principle of horizontal equity in taxation.
   
   NARRATIVE EVIDENCE:
   The S-1 notes that "The U.S. Congress has recently considered... legislation 
   that would... treat as ordinary income the 'carried interest'".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    blackstone_carried_interest_taxation,
    snare,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(analytical),
        constraint_beneficiary(blackstone_carried_interest_taxation, private_equity_industry),
        constraint_victim(blackstone_carried_interest_taxation, public_equity_principles),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(blackstone_carried_interest_taxation, E),
    E > 0.2,
    domain_priors:requires_active_enforcement(blackstone_carried_interest_taxation),
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(blackstone_tax_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(blackstone_carried_interest_taxation, Type1, 
        context(powerful, biographical, arbitrage, _, _, global)),
    constraint_indexing:constraint_classification(blackstone_carried_interest_taxation, Type2, 
        context(powerless, immediate, constrained, _, _, national)),
    constraint_indexing:constraint_classification(blackstone_carried_interest_taxation, Type3, 
        context(institutional, historical, analytical, _, _, national)),
    Type1 = rope,
    Type2 = mountain,
    Type3 = snare.

test(tax_benefit_asymmetry) :-
    % Powerful agents should experience lower extraction (Rope) than the system's impact on others
    constraint_indexing:constraint_classification(blackstone_carried_interest_taxation, rope, context(powerful, _, _, _, _, _)).

:- end_tests(blackstone_tax_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.3): Low because the constraint *prevents* extraction from 
 * the partners, though it represents a high "opportunity cost" for the IRS.
 * 2. SUPPRESSION (0.7): Blackstone uses high-level legal opinions (Skadden, Arps) 
 * to validate this structure, effectively suppressing the visibility of 
 * alternative, simpler corporate taxes.
 * * PERSPECTIVE RATIONALE:
 * - Partners: See it as a Rope (coordination).
 * - Retail: See it as a Mountain (unalterable risk).
 * - Legislators: See it as a Snare (asymmetric advantage).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    legislative_volatility,
    "Will Congress reclassify carried interest as ordinary income within the 'biographical' window of the IPO?",
    resolution_mechanism("Monitor the introduction of bills in the Senate Finance Committee specifically targeting PTPs"),
    impact("If resolved as 'Yes': Blackstone's valuation drops (Mountain becomes Snare). If 'No': Rope holds."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: C-Corporation Structure
 * Viability: Standard for most public companies; would provide voting rights 
 * to all.
 * Suppression: Actively rejected due to "double taxation" of dividends 
 * which would harm senior management returns.
 * * CONCLUSION:
 * The presence of a viable (but rejected) C-Corp alternative confirms that 
 * the Partnership structure is a "Rope" for those in power and a "Snare" 
 * for those concerned with tax equity.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [blackstone_carried_interest_taxation].

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: blackstone_conflicts_of_interest
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-27
% ============================================================================

:- module(constraint_blackstone_conflicts_of_interest, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:coordination_type/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: blackstone_conflicts_of_interest
 * human_readable: Fiduciary Conflict Allocation in Blackstone S-1
 * domain: corporate_governance
 * * SUMMARY:
 * A structural legal constraint established in Blackstone's 2007 IPO S-1 filing
 * where the interests of the firm's investment funds (and their Limited Partners)
 * are explicitly and legally prioritized over the interests of new public common
 * unitholders. This creates a "fiduciary hierarchy" where the public investor
 * is contractually positioned at the bottom, with their traditional fiduciary
 * protections waived.
 * * KEY AGENTS:
 * - Public Common Unitholders: The subjects, who buy into a structure with limited fiduciary protection.
 * - Fund Limited Partners (LPs) & Senior Managing Directors: The beneficiaries, whose interests are legally prioritized.
 * - Legal/Financial Analysts: Analytical observers of the corporate structure.
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(blackstone_conflicts_of_interest, 0.75). % High extraction of trust and legal recourse.
domain_priors:suppression_score(blackstone_conflicts_of_interest, 0.85).   % Partnership agreement contractually waives/limits traditional fiduciary duties.
domain_priors:theater_ratio(blackstone_conflicts_of_interest, 0.10).       % Low theater; the mechanism is explicitly functional, not performative.

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(blackstone_conflicts_of_interest, extractiveness, 0.75).
narrative_ontology:constraint_metric(blackstone_conflicts_of_interest, suppression_requirement, 0.85).
narrative_ontology:constraint_metric(blackstone_conflicts_of_interest, theater_ratio, 0.10).

% Constraint self-claim (what does the constraint claim to be?)
% It claims to be a necessary enforcement mechanism to resolve inherent conflicts.
narrative_ontology:constraint_claim(blackstone_conflicts_of_interest, enforcement).

% Binary flags
domain_priors:requires_active_enforcement(blackstone_conflicts_of_interest). % Required for Tangled Rope

% Structural property derivation hooks:
narrative_ontology:constraint_beneficiary(blackstone_conflicts_of_interest, fund_limited_partners).
narrative_ontology:constraint_beneficiary(blackstone_conflicts_of_interest, senior_managing_directors).
narrative_ontology:constraint_victim(blackstone_conflicts_of_interest, public_common_unitholders).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   Scope modifiers: local=0.8, regional=0.9, national=1.0,
                    continental=1.1, global=1.2, universal=1.0.
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The public unitholder enters a structure where their interests are legally
% subordinated. The high extraction of fiduciary duty is felt as a trap.
constraint_indexing:constraint_classification(blackstone_conflicts_of_interest, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% For Fund LPs and the General Partner, this structure is pure coordination. It
% legally guarantees that the firm's primary loyalty remains with the fund
% investors, preventing dilution of focus or resources post-IPO.
constraint_indexing:constraint_classification(blackstone_conflicts_of_interest, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Analytically, this is a Tangled Rope. It has a genuine coordination function
% (aligning the firm with its primary clients, the LPs) but achieves this via
% asymmetric extraction (stripping public unitholders of standard protections)
% and requires active enforcement through the partnership agreement.
constraint_indexing:constraint_classification(blackstone_conflicts_of_interest, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(blackstone_conflicts_of_interest_tests).

test(perspectival_gap_snare_vs_rope) :-
    % Verify the core perspectival gap between the public unitholder and the fund LPs.
    constraint_indexing:constraint_classification(blackstone_conflicts_of_interest, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(blackstone_conflicts_of_interest, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(blackstone_conflicts_of_interest, tangled_rope, context(agent_power(analytical), _, _, _)).

test(threshold_validation_high_extraction) :-
    % Verify that the base extractiveness meets the threshold for a Snare/Tangled Rope.
    narrative_ontology:constraint_metric(blackstone_conflicts_of_interest, extractiveness, E),
    E >= 0.46.

test(tangled_rope_structural_properties) :-
    % Verify that the necessary structural properties for a Tangled Rope are declared.
    ( narrative_ontology:constraint_beneficiary(blackstone_conflicts_of_interest, _) -> true ; !, fail),
    ( narrative_ontology:constraint_victim(blackstone_conflicts_of_interest, _) -> true ; !, fail),
    ( domain_priors:requires_active_enforcement(blackstone_conflicts_of_interest) -> true ; !, fail).

:- end_tests(blackstone_conflicts_of_interest_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The scores reflect a legal structure that is not deceptive but is highly
 * coercive and extractive for one class of stakeholders.
 * - Extractiveness (0.75): Represents the high value of the waived fiduciary duties. Public investors pay a price (in risk and lack of recourse) that benefits other parties.
 * - Suppression (0.85): The partnership agreement, governed by permissive Delaware law, effectively suppresses alternative legal challenges based on traditional fiduciary standards.
 * - Perspectival Gap: The gap is stark. For beneficiaries (LPs), it's a 'Rope' that secures their investment's priority. For subjects (public unitholders), it's a 'Snare' that contractually removes their power.
 *
 * MANDATROPHY ANALYSIS: [RESOLVED MANDATROPHY]
 * Classifying this as a 'Tangled Rope' from an analytical view prevents mandatrophy. A pure 'Snare' classification would miss the genuine, and crucial, coordination function the structure provides for the fund LPs. A pure 'Rope' classification would ignore the severe, asymmetric extraction imposed on public investors. The Tangled Rope correctly identifies it as a hybrid system where coordination for one group is funded by the extraction from another.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    omega_blackstone_good_faith,
    'To what extent does the implied covenant of good faith and fair dealing under Delaware law practically limit the General Partner''s ability to act against public unitholder interests?',
    'Analysis of Delaware Court of Chancery rulings on similar Master Limited Partnership agreements.',
    'If the covenant is a strong check, the structure is closer to a Rope. If it is a weak, procedural check, it remains a powerful Snare/Tangled Rope.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(blackstone_conflicts_of_interest, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% This constraint was established at the IPO and has been structurally stable.
% The measurements reflect a consistently high-extraction, low-theater reality.
%
% Theater ratio over time:
narrative_ontology:measurement(bcoi_tr_t0, blackstone_conflicts_of_interest, theater_ratio, 0, 0.10).
narrative_ontology:measurement(bcoi_tr_t5, blackstone_conflicts_of_interest, theater_ratio, 5, 0.10).
narrative_ontology:measurement(bcoi_tr_t10, blackstone_conflicts_of_interest, theater_ratio, 10, 0.10).

% Extraction over time:
narrative_ontology:measurement(bcoi_ex_t0, blackstone_conflicts_of_interest, base_extractiveness, 0, 0.75).
narrative_ontology:measurement(bcoi_ex_t5, blackstone_conflicts_of_interest, base_extractiveness, 5, 0.75).
narrative_ontology:measurement(bcoi_ex_t10, blackstone_conflicts_of_interest, base_extractiveness, 10, 0.75).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% This is a legal framework designed to enforce a specific hierarchy of duties.
narrative_ontology:coordination_type(blackstone_conflicts_of_interest, enforcement_mechanism).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: blackstone_smd_control
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-05-21
% ============================================================================

:- module(constraint_blackstone_smd_control, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:coordination_type/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: blackstone_smd_control
 * human_readable: Blackstone Senior Managing Director Voting Control
 * domain: economic
 * * SUMMARY:
 * This corporate governance structure, established during Blackstone's 2007 IPO,
 * uses a multi-class unit structure to grant Senior Managing Directors (SMDs)
 * absolute voting control over the firm's general partner. This permanently
 * prevents public unitholders from electing directors or influencing management,
 * creating a structural asymmetry between founders and public investors.
 * * KEY AGENTS:
 * - Public Unitholders: Subjects (Powerless) who provide capital with no governance rights.
 * - Senior Managing Directors (SMDs): Beneficiaries (Institutional) who retain control.
 * - Corporate Governance Auditor: Observer (Analytical) who analyzes the structure.
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(blackstone_smd_control, 0.80). % High power asymmetry; SMDs extract capital and fees while denying governance rights.
domain_priors:suppression_score(blackstone_smd_control, 0.90).   % Public unitholders have no legal mechanism (e.g., proxy contests) to override the general partner.
domain_priors:theater_ratio(blackstone_smd_control, 0.10).       % This is a highly functional, non-performative legal structure.

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(blackstone_smd_control, extractiveness, 0.80).
narrative_ontology:constraint_metric(blackstone_smd_control, suppression_requirement, 0.90).
narrative_ontology:constraint_metric(blackstone_smd_control, theater_ratio, 0.10).

% Constraint self-claim (what does the constraint claim to be?)
% It is presented as a necessary structure for long-term stability (coordination),
% but its function is pure enforcement of founder control.
narrative_ontology:constraint_claim(blackstone_smd_control, enforcement).

% Binary flags
domain_priors:requires_active_enforcement(blackstone_smd_control). % Required for Tangled Rope (enforced via corporate charter and Delaware law).

% Structural property derivation hooks:
narrative_ontology:constraint_beneficiary(blackstone_smd_control, senior_managing_directors).
narrative_ontology:constraint_victim(blackstone_smd_control, public_unitholders).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   ========================================================================== */

% PERSPECTIVE 1: THE PUBLIC UNITHOLDER (SNARE)
% For the investor, this is a trap. They are economically bound to the firm's
% performance but have zero strategic leverage or ability to correct mismanagement.
constraint_indexing:constraint_classification(blackstone_smd_control, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE SENIOR MANAGING DIRECTORS (ROPE)
% For the SMDs, this structure is a coordination tool. It allows them to access
% public capital markets without ceding control or facing short-term pressures
% from activist investors, thus preserving their long-term vision.
constraint_indexing:constraint_classification(blackstone_smd_control, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(arbitrage),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% The auditor sees both functions. It's a 'Rope' for the SMDs (coordination)
% tangled with a 'Snare' for unitholders (asymmetric extraction). It requires
% active legal enforcement and has clear beneficiaries and victims.
constraint_indexing:constraint_classification(blackstone_smd_control, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(blackstone_smd_control_tests).

test(perspectival_gap) :-
    % Verify there is a perspectival gap between powerless and institutional.
    constraint_indexing:constraint_classification(blackstone_smd_control, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(blackstone_smd_control, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless \= TypeInstitutional,
    TypePowerless == snare,
    TypeInstitutional == rope.

test(analytical_classification_is_tangled_rope) :-
    % The analytical view must resolve the gap as a Tangled Rope.
    constraint_indexing:constraint_classification(blackstone_smd_control, tangled_rope, context(agent_power(analytical), _, _, _)).

test(threshold_validation_high_extraction) :-
    narrative_ontology:constraint_metric(blackstone_smd_control, extractiveness, E),
    E >= 0.46.

:- end_tests(blackstone_smd_control_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE: [RESOLVED MANDATROPHY]
 * The base scores reflect a structure with extreme power asymmetry (E=0.80) and
 * inescapable rules (S=0.90). The perspectival gap is stark: public unitholders
 * experience a 'Snare' (investment without influence), while the controlling
 * SMDs see a 'Rope' (a tool to coordinate public listing while retaining control).
 *
 * The analytical classification must be 'Tangled Rope'. It is not a 'Mountain'
 * because it is a constructed legal artifice, not a natural law. It correctly
 * identifies the dual nature of the constraint: it has a genuine coordination
 * function for one group (the SMDs) that is inextricably linked to, and enables,
 * asymmetric extraction from another group (the unitholders). This resolves the
 * mandatrophy by acknowledging both perspectives within a single classification.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_blackstone_smd_control,
    'Will Delaware courts uphold the partnership''s right to contractually waive fiduciary duties owed to public unitholders, or will a legal limit emerge to protect minority investors?',
    'Monitor subsequent litigation in the Delaware Chancery Court (e.g., Dieckman v. Regency) regarding limited partnership agreements.',
    'If duties are fully waivable, the Snare aspect dominates. If courts impose limits, a weak Rope for investors emerges.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(blackstone_smd_control, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% This structure was severe from its inception at the IPO. The drift reflects
% its increasing entrenchment and normalization over the decade following.
%
% Theater ratio over time (metric_substitution):
narrative_ontology:measurement(blackstone_smd_control_tr_t0, blackstone_smd_control, theater_ratio, 0, 0.05).
narrative_ontology:measurement(blackstone_smd_control_tr_t5, blackstone_smd_control, theater_ratio, 5, 0.08).
narrative_ontology:measurement(blackstone_smd_control_tr_t10, blackstone_smd_control, theater_ratio, 10, 0.10).

% Extraction over time (extraction_accumulation):
narrative_ontology:measurement(blackstone_smd_control_ex_t0, blackstone_smd_control, base_extractiveness, 0, 0.75).
narrative_ontology:measurement(blackstone_smd_control_ex_t5, blackstone_smd_control, base_extractiveness, 5, 0.78).
narrative_ontology:measurement(blackstone_smd_control_ex_t10, blackstone_smd_control, base_extractiveness, 10, 0.80).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% This constraint's coordination function is the enforcement of the corporate charter.
narrative_ontology:coordination_type(blackstone_smd_control, enforcement_mechanism).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: blackstone_tra
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-21
% ============================================================================

:- module(constraint_blackstone_tra, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: blackstone_tra
 * human_readable: Blackstone Tax Receivable Agreement (TRA)
 * domain: economic
 * * SUMMARY:
 * A contract where the public entity (Blackstone Group L.P.) agrees to pay
 * 85% of its tax savings—generated by the purchase of interests from
 * existing partners—directly back to those partners. This effectively
 * privatizes the tax benefits that would otherwise accrue to the public
 * unitholders, creating a permanent, asymmetric cash transfer from the
 * public entity to its former owners.
 * * KEY AGENTS:
 * - Public Unitholders: Subject (Powerless)
 * - Senior Managing Directors (SMDs): Beneficiary (Institutional)
 * - Systems Auditor: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
% Rationale: Highly extractive; 85% of a specific cash benefit is diverted
% to a subset of insiders by contract.
domain_priors:base_extractiveness(blackstone_tra, 0.85).
% Rationale: The agreement is a "condition" of the IPO; there is no
% mechanism for public unitholders to opt-out or renegotiate.
domain_priors:suppression_score(blackstone_tra, 0.95).
% Rationale: The TRA is a purely functional financial instrument with no
% performative or theatrical component.
domain_priors:theater_ratio(blackstone_tra, 0.05).

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(blackstone_tra, extractiveness, 0.85).
narrative_ontology:constraint_metric(blackstone_tra, suppression_requirement, 0.95).
narrative_ontology:constraint_metric(blackstone_tra, theater_ratio, 0.05).

% Constraint self-claim (what does the constraint claim to be?)
% It claims to be a constructed financial agreement for sharing tax benefits.
narrative_ontology:constraint_claim(blackstone_tra, constructed).

% Binary flags
% The TRA is a core contractual obligation requiring legal enforcement.
domain_priors:requires_active_enforcement(blackstone_tra).

% Structural property derivation hooks:
% These are required for Tangled Rope classification.
narrative_ontology:constraint_beneficiary(blackstone_tra, senior_managing_directors).
narrative_ontology:constraint_victim(blackstone_tra, public_unitholders).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   Scope modifiers: local=0.8, regional=0.9, national=1.0,
                    continental=1.1, global=1.2, universal=1.0.
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% For the public unitholder, the TRA is a trap. Value that should accrue to
% their investment is contractually siphoned off to insiders.
constraint_indexing:constraint_classification(blackstone_tra, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% For the Senior Managing Directors, the TRA is a sophisticated coordination
% tool to maximize the economic value of their exit.
constraint_indexing:constraint_classification(blackstone_tra, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(arbitrage),
            spatial_scope(national))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Analytically, the TRA has a genuine coordination function (for the SMDs)
% but also imposes severe asymmetric extraction (on unitholders) and requires
% active enforcement. This is the definition of a Tangled Rope.
constraint_indexing:constraint_classification(blackstone_tra, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(blackstone_tra_tests).

test(perspectival_gap) :-
    % Verify there is a perspectival gap between powerless and institutional.
    constraint_indexing:constraint_classification(blackstone_tra, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(blackstone_tra, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless \= TypeInstitutional,
    TypePowerless = snare,
    TypeInstitutional = rope.

test(threshold_validation) :-
    % Verify the extraction score is in the high-extraction (Snare/Tangled) range.
    narrative_ontology:constraint_metric(blackstone_tra, extractiveness, E),
    E >= 0.46.

test(tangled_rope_detection) :-
    % Verify the analytical observer correctly identifies it as a Tangled Rope.
    constraint_indexing:constraint_classification(blackstone_tra, tangled_rope, context(agent_power(analytical), _, _, _)).

:- end_tests(blackstone_tra_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The base extractiveness of 0.85 is taken directly from the 85% cash-sharing
 * ratio specified in Blackstone's S-1 filing. The suppression score of 0.95
 * reflects that this agreement was a non-negotiable condition of the IPO,
 * leaving public investors with no alternative.
 *
 * The Perspectival Gap is stark:
 * - For the powerless unitholder, it's a Snare, an unavoidable leakage of value.
 * - For the institutional beneficiary (the SMDs), it's a Rope, a tool to
 *   coordinate and maximize their exit compensation.
 *
 * * MANDATROPHY ANALYSIS: [RESOLVED MANDATROPHY]
 * The analytical classification as a Tangled Rope is crucial. A simpler model
 * might label this a pure Snare, missing its coordination function for the
 * beneficiaries. By classifying it as a Tangled Rope, the system correctly
 * identifies that this is not just simple predation; it's a sophisticated,
 * constructed mechanism with both coordination and extraction functions,
 * which prevents mislabeling it as a natural or unavoidable market feature.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_blackstone_tra,
    'Will future corporate tax rates decrease, reducing the value of the TRA payments?',
    'Tracking of US Congressional legislative action on federal corporate tax rates.',
    'If rates drop, the Snare loosens (less value is extracted). If rates rise, the Snare tightens.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(blackstone_tra, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% The TRA is a fixed contractual obligation established at the IPO. Its core
% metrics are stable over its lifecycle.
%
% Theater ratio over time (stable and low):
narrative_ontology:measurement(blackstone_tra_tr_t0, blackstone_tra, theater_ratio, 0, 0.05).
narrative_ontology:measurement(blackstone_tra_tr_t5, blackstone_tra, theater_ratio, 5, 0.05).
narrative_ontology:measurement(blackstone_tra_tr_t10, blackstone_tra, theater_ratio, 10, 0.05).

% Extraction over time (stable and high, fixed by contract):
narrative_ontology:measurement(blackstone_tra_ex_t0, blackstone_tra, base_extractiveness, 0, 0.85).
narrative_ontology:measurement(blackstone_tra_ex_t5, blackstone_tra, base_extractiveness, 5, 0.85).
narrative_ontology:measurement(blackstone_tra_ex_t10, blackstone_tra, base_extractiveness, 10, 0.85).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% The TRA is a mechanism for allocating a specific resource (tax savings).
narrative_ontology:coordination_type(blackstone_tra, resource_allocation).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: boiled_pineapple_trend_2026
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-02-05
% ============================================================================

:- module(constraint_pineapple_trend, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: boiled_pineapple_trend_2026
 * human_readable: The Bromelain Denaturing Piton (Viral Pineapple Tea)
 * domain: social/wellness/technological
 * * SUMMARY:
 * This constraint analyzes the viral wellness trend of boiling pineapple peels 
 * and cores. While marketed for the anti-inflammatory benefits of bromelain, 
 * the boiling process denatures the enzyme, turning the practice into a 
 * "Piton"—a theatrical ritual where the primary function is atrophied but 
 * institutional (viral) maintenance remains high.
 * * KEY AGENTS:
 * - [Wellness Seekers]: Subject (Powerless) - Extracting effort and attention 
 * for a denatured benefit.
 * - [Social Platforms/Influencers]: Beneficiary (Institutional) - Coordinating 
 * massive engagement and "aesthetic appeal" around the trend.
 * - [Science Communicators/@Rainmaker1973]: Auditor (Analytical) - Highlighting 
 * the denaturing of the enzyme and the "hype".
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Moderate-high extraction (0.55) as it extracts 40 minutes of prep time 
% and grocery costs based on a chemical misconception.
domain_priors:base_extractiveness(boiled_pineapple_trend_2026, 0.55). 

% Suppression (0.60) of scientific nuance; the viral "hack" aesthetic 
% suppresses the fact that raw intake is more effective for enzymes.
domain_priors:suppression_score(boiled_pineapple_trend_2026, 0.60).   

% Extremely high theater ratio (0.85); the ritual of boiling is the "secret" 
% being sold, while the actual enzyme function is non-existent.
domain_priors:theater_ratio(boiled_pineapple_trend_2026, 0.85).       

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(boiled_pineapple_trend_2026, extractiveness, 0.55).
narrative_ontology:constraint_metric(boiled_pineapple_trend_2026, suppression_requirement, 0.6).
narrative_ontology:constraint_metric(boiled_pineapple_trend_2026, theater_ratio, 0.85).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% For the consumer, it is a snare: a "weird" trap of performative wellness 
% where the "miracle" results are blocked by heat.
constraint_indexing:constraint_classification(boiled_pineapple_trend_2026, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% For influencers and platforms, it is a rope: it coordinates attention 
% and community sharing ("TikTok/X/Instagram") around a low-cost hack.
constraint_indexing:constraint_classification(boiled_pineapple_trend_2026, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(global))).

% PERSPECTIVE 3: THE SYSTEMS AUDITOR (PITON)
% The Auditor identifies a Piton: the "enzyme intake" function has atrophied 
% (denatured), but the "theatrical" boiling ritual remains for aesthetics.
constraint_indexing:constraint_classification(boiled_pineapple_trend_2026, piton, 
    context(agent_power(analytical), 
            time_horizon(historical), 
            exit_options(arbitrage), 
            spatial_scope(global))) :-
    domain_priors:theater_ratio(boiled_pineapple_trend_2026, TR), TR > 0.70.

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(pineapple_trend_tests).

test(perspectival_gap) :-
    % Subject feels a Snare (Trapped by hype); Platforms see a Rope (Coordination).
    constraint_indexing:constraint_classification(boiled_pineapple_trend_2026, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(boiled_pineapple_trend_2026, rope, context(agent_power(institutional), _, _, _)).

test(piton_verification) :-
    % High theater ratio correctly triggers Piton detection.
    constraint_indexing:constraint_classification(boiled_pineapple_trend_2026, piton, _).

:- end_tests(pineapple_trend_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.55) reflects the labor-time and expectation-debt 
 * incurred by the subject. The theater_ratio (0.85) is the defining metric; 
 * because boiling "actually destroys most of the bromelain," the functional 
 * justification is a mask for the aesthetic ritual.
 *
 * MANDATROPHY ANALYSIS:
 * The Piton classification prevents the system from mislabeling this 
 * "wellness hack" as a functional Rope (health coordination), recognizing 
 * that the core value proposition is denatured.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    omega_placebo_scaffold,
    'Does the "pleasant flavor" and "hydration" function as a real health Scaffold?',
    'Nutritional analysis of boiled residue vs. the psychological impact of the ritual.',
    'If health markers improve, it is a Scaffold; if not, it is a pure Snare.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

narrative_ontology:interval(boiled_pineapple_trend_2026, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Required for extraction (0.55) > 0.46. 
% Model the drift from Traditional Use (T=0) to Viral Theater (T=10).

% Theater ratio: Increases as "results" and "aesthetic appeal" replace 
% functional enzymology in viral discourse.
narrative_ontology:measurement(pine_tr_t0, boiled_pineapple_trend_2026, theater_ratio, 0, 0.20).
narrative_ontology:measurement(pine_tr_t5, boiled_pineapple_trend_2026, theater_ratio, 5, 0.60).
narrative_ontology:measurement(pine_tr_t10, boiled_pineapple_trend_2026, theater_ratio, 10, 0.85).

% Extraction: Increases as the "miracle" claims become more exaggerated 
% to drive "X/TikTok" engagement.
narrative_ontology:measurement(pine_ex_t0, boiled_pineapple_trend_2026, base_extractiveness, 0, 0.15).
narrative_ontology:measurement(pine_ex_t5, boiled_pineapple_trend_2026, base_extractiveness, 5, 0.40).
narrative_ontology:measurement(pine_ex_t10, boiled_pineapple_trend_2026, base_extractiveness, 10, 0.55).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: boundary_dissolution_risk
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-05-21
% ============================================================================

:- module(constraint_boundary_dissolution_risk, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: boundary_dissolution_risk
 * human_readable: The Infinite Porosity Trap
 * domain: technological/labor
 * * SUMMARY:
 * A scenario where the distinction between formerly discrete domains (e.g.,
 * professional/private, digital/physical) is eroded by pervasive connectivity
 * and monitoring. This "Rope" for seamless coordination becomes a "Snare" for
 * the subject, as the lack of structural boundaries liquidates their ability
 * to recover, resist, or maintain a private self-territory, trapping them in a
 * "Total System" of high-extraction labor and social performance.
 * * KEY AGENTS:
 * - Distributed Laborer: Subject (Powerless)
 * - Hyper-Connectivity Platform: Beneficiary (Institutional)
 * - Cognitive Sovereignty Auditor: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% High extraction (0.87) reflects the total liquidation of the subject's
% "off-line" or "private" surplus to feed the institutional need for 24/7 engagement.
domain_priors:base_extractiveness(boundary_dissolution_risk, 0.87).
domain_priors:suppression_score(boundary_dissolution_risk, 0.76).   % Efforts to "disconnect" are suppressed by career and social penalties.
domain_priors:theater_ratio(boundary_dissolution_risk, 0.89).       % High theater: "Well-being" apps masking the reality of total access.

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(boundary_dissolution_risk, extractiveness, 0.87).
narrative_ontology:constraint_metric(boundary_dissolution_risk, suppression_requirement, 0.76).
narrative_ontology:constraint_metric(boundary_dissolution_risk, theater_ratio, 0.89).

% The platform claims its system is for coordination.
narrative_ontology:constraint_claim(boundary_dissolution_risk, coordination).

% Binary flags & structural properties for Tangled Rope
domain_priors:requires_active_enforcement(boundary_dissolution_risk).
narrative_ontology:constraint_beneficiary(boundary_dissolution_risk, hyper_connectivity_platform).
narrative_ontology:constraint_victim(boundary_dissolution_risk, distributed_laborer).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The laborer is trapped: the "convenience" of working from anywhere
% liquidates the ability to NOT work from everywhere.
constraint_indexing:constraint_classification(boundary_dissolution_risk, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The platform views the dissolution as a Rope—the essential coordination
% substrate for a frictionless, hyper-efficient global economy.
constraint_indexing:constraint_classification(boundary_dissolution_risk, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Detects high extraction (0.87) and suppression (0.76) masking as
% functional coordination. The presence of beneficiaries, victims, and
% active enforcement meets the structural requirements for a Tangled Rope.
constraint_indexing:constraint_classification(boundary_dissolution_risk, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

% PERSPECTIVE 4: THE SYSTEMS AUDITOR (PITON)
% Theater ratio (0.89) > 0.70 triggers Piton: the "Work-Life Balance"
% policy is an inertial spike; it performatively signals care while 0.87 extraction occurs.
constraint_indexing:constraint_classification(boundary_dissolution_risk, piton,
    context(agent_power(analytical),
            time_horizon(historical),
            exit_options(arbitrage),
            spatial_scope(universal))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(boundary_dissolution_risk_tests).

test(perspectival_gap) :-
    % Verify Snare for the powerless laborer vs Rope for the institutional platform.
    constraint_indexing:constraint_classification(boundary_dissolution_risk, snare,
        context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(boundary_dissolution_risk, rope,
        context(agent_power(institutional), _, _, _)).

test(piton_trigger) :-
    % Ensure high theater ratio (0.89) correctly triggers the Piton classification.
    constraint_indexing:constraint_classification(boundary_dissolution_risk, piton,
        context(agent_power(analytical), _, _, _)).

test(tangled_rope_detection) :-
    % Verify the analytical observer correctly identifies the Tangled Rope.
    constraint_indexing:constraint_classification(boundary_dissolution_risk, tangled_rope,
        context(agent_power(analytical), _, _, _)).

:- end_tests(boundary_dissolution_risk_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.87) reflects a state where the "coordination"
 * benefit of a borderless life is achieved by liquidating the subject's
 * primary capacity for cognitive and spatial recovery. The suppression score
 * (0.76) captures the professional and social costs of attempting to opt out.
 * The high theater ratio (0.89) is critical, representing corporate "wellness"
 * initiatives that perform concern while enabling the underlying extraction.
 *
 * * PERSPECTIVAL GAP:
 * The Distributed Laborer feels a Snare because they have lost the
 * "off-switch" to their social and economic identity. The Platform
 * sees a Rope because the dissolution coordinates a perfectly responsive
 * workforce and consumer base.
 *
 * * MANDATROPHY ANALYSIS: [RESOLVED MANDATROPHY]
 * The high extraction (0.87) risks a Mandatrophy error, where the system
 * might classify this purely as a Snare, ignoring the genuine (though
 * outweighed) coordination function. This is resolved by the Tangled Rope
 * classification from the analytical perspective. This classification is only
 * possible because the structural properties are met: a beneficiary exists
 * (coordination function), a victim exists (asymmetric extraction), and
 * active enforcement is required. The Tangled Rope correctly models the
 * constraint as a hybrid, preventing the loss of information that a pure
 * Snare classification would entail. The Piton classification further refines
 * this by identifying the "wellness" features as theatrical, not functional.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Required for high-extraction constraints (> 0.46).
omega_variable(
    omega_structural_sovereignty,
    'Can privacy be restored via encryption, or is the Snare a physical law of network topology (Snare vs Mountain)?',
    'Tracking the success rate of "Dark-Fiber" private territories in highly-connected urban centers.',
    'If privacy persists: Snare of current culture. If it fails: Mountain of Information Physics.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(boundary_dissolution_risk, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% This constraint evolved from a convenience tool into a totalizing system.
% The data models this drift from low-extraction coordination to high-extraction,
% high-theater entrapment.
%
% Theater ratio over time (metric_substitution):
narrative_ontology:measurement(bdr_tr_t0, boundary_dissolution_risk, theater_ratio, 0, 0.15).
narrative_ontology:measurement(bdr_tr_t5, boundary_dissolution_risk, theater_ratio, 5, 0.55).
narrative_ontology:measurement(bdr_tr_t10, boundary_dissolution_risk, theater_ratio, 10, 0.89).

% Extraction over time (extraction_accumulation):
narrative_ontology:measurement(bdr_ex_t0, boundary_dissolution_risk, base_extractiveness, 0, 0.25).
narrative_ontology:measurement(bdr_ex_t5, boundary_dissolution_risk, base_extractiveness, 5, 0.60).
narrative_ontology:measurement(bdr_ex_t10, boundary_dissolution_risk, base_extractiveness, 10, 0.87).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% The pervasive connectivity platform acts as a form of global infrastructure.
narrative_ontology:coordination_type(boundary_dissolution_risk, global_infrastructure).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: brain_network_paradigm_2026
% ============================================================================
% Generated: 2026-01-23
% Model: Gemini Pro (Revised)
% Source: "The immense interconnectivity of the brain" by Helen Thomson
% ============================================================================

:- module(constraint_brain_network_paradigm_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * 
 * constraint_id: brain_network_paradigm_2026
 * human_readable: Distributed Brain Network Paradigm
 * domain: technological/scientific
 * temporal_scope: 2001-2026
 * spatial_scope: Global (Neuroscientific Community)
 * 
 * SUMMARY:
 * This constraint represents the paradigm shift in neuroscience from viewing the brain as a collection of 
 * discrete, specialized regions to seeing it as a series of interconnected, overlapping networks. 
 * Behaviors like emotion, memory, and daydreaming emerge not from single modules, but from synchronized 
 * activity across these systems.
 * 
 * KEY AGENTS:
 * - Patient with a Brain Injury (Individual Powerless): Subject to the biological reality of their brain's network.
 * - Network Neuroscientist (Institutional): Leads the paradigm shift with new research.
 * - Legacy Modularist (Individual Moderate): Their specialized knowledge is challenged by the new paradigm.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(brain_network_paradigm_2026, 0, 10).
narrative_ontology:constraint_claim(brain_network_paradigm_2026, mountain).

% Base extractiveness: 0.0.
% The paradigm describes a biological fact rather than extracting resources from subjects.
domain_priors:base_extractiveness(brain_network_paradigm_2026, 0.0).

% Suppression score: 0.7.
% The article frames the previous "specialized region" view as a "mistake" akin to the parable 
% of the blind men and the elephant. Legacy modular views are increasingly suppressed by data.
domain_priors:suppression_score(brain_network_paradigm_2026, 0.7).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(brain_network_paradigm_2026, extractiveness, 0.0).
narrative_ontology:constraint_metric(brain_network_paradigm_2026, suppression_requirement, 0.7).

% Enforcement: Emerges naturally through data and scientific evidence.
domain_priors:emerges_naturally(brain_network_paradigm_2026).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(brain_network_paradigm_2026, neuroscience).
constraint_victim(brain_network_paradigm_2026, modular_brain_theories).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: PATIENT WITH A BRAIN INJURY - Mountain
   --------------------------------------------------------------------------
   WHO: powerless (Subject to the biological reality of their brain's network)
   WHEN: biographical (The long-term journey of recovery and adaptation)
   WHERE: trapped (Bound by the physical limits of their own neurology)
   
   WHY THIS CLASSIFICATION:
   For a patient with a brain injury, the brain's network paradigm is a 'Mountain'.
   The interconnectedness of their brain determines the extent of their recovery
   and the limits of their abilities. It is an unchangeable biological reality
   that dictates the course of their life post-injury.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    brain_network_paradigm_2026,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
).

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: NETWORK NEUROSCIENTIST - Rope
   --------------------------------------------------------------------------
   WHO: institutional (Rule-shaping scientific authority)
   WHEN: historical (Century-scale shift in thinking)
   WHERE: mobile (Can navigate between various network models)
   
   WHY THIS CLASSIFICATION:
   For the modern scientist, networks are a 'Rope'—a functional coordination mechanism
   that explains complex emergent behaviors that the old modular view could not
   account for. It's a powerful tool for understanding the brain's intricate workings.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    brain_network_paradigm_2026,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(mobile),
        spatial_scope(global)
    )
).

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: LEGACY MODULARIST - Snare
   --------------------------------------------------------------------------
   WHO: individual_moderate (Established experts in region-specific research)
   WHEN: biographical (Risk of their life's work becoming obsolete)
   WHERE: constrained (Tied to specific anatomical paradigms)
   
   WHY THIS CLASSIFICATION:
   The network paradigm acts as a 'Snare' to the modularist by refuting the idea
   that their specific region (e.g., amygdala for emotion) operates alone.
   It constrains their ability to make singular causal claims and challenges
   their established expertise, potentially strangling their career.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    brain_network_paradigm_2026,
    snare,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(global)
    )
).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(brain_network_paradigm_2026_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(brain_network_paradigm_2026, Type1, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(brain_network_paradigm_2026, Type2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(brain_network_paradigm_2026, Type3, context(agent_power(individual_moderate), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3,
    Type1 \= Type3.

:- end_tests(brain_network_paradigm_2026_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * 
 * Model: Gemini Pro (Revised)
 * Date: 2026-01-23
 * 
 * KEY DECISIONS:
 * 
 * 1. INDIVIDUAL POWERLESS PERSPECTIVE: Added 'Patient with a Brain Injury' as
 *    the individual powerless agent. For them, the brain's network is a 'Mountain'
 *    of unchangeable biological reality.
 *
 * 2. CLASSIFICATION RATIONALE:
 *    - Patient (Mountain): An immutable biological reality.
 *    - Neuroscientist (Rope): A tool for understanding complex behaviors.
 *    - Modularist (Snare): A threat to established expertise and theories.
 * 
 * 3. CORE INSIGHT: The brain network paradigm shift highlights how scientific
 *    progress can transform our understanding of a 'Mountain' (the brain's
 *    physical structure). What becomes a powerful 'Rope' for new research
 *    simultaneously acts as a 'Snare' for outdated paradigms.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */
/**
 * OMEGA IDENTIFICATION
 *
 * The core uncertainty is the individuality of brain networks.
 */

omega_variable(
    network_individuality,
    "Is every individual's brain network map unique (a 'Snare' for generalized treatments) or does a standard template exist (a 'Rope' for universal protocols)?",
    resolution_mechanism("Longitudinal high-resolution connectivity mapping of diverse populations; personalized medicine trials based on individual connectomes."),
    impact("If unique: Standardized medicine may fail. If template: Universal protocols remain viable."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */
/**
 * VIABLE ALTERNATIVES
 *
 * ALTERNATIVE 1: Strict Modularism (The "Phineas Gage" model)
 *    Viability: Historically dominant in the 19th and 20th centuries, attributing functions to specific brain regions.
 *    Suppression: Actively dismantled by modern fMRI/PET data, which revealed the interconnected nature of brain function, showing that "focusing on single parts can obscure the whole."
 *
 * CONCLUSION:
 * The network paradigm is a 'Rope' that has largely suppressed the older,
 * more limited 'Rope' of strict modularism. This new understanding presents a
 * more accurate 'Mountain' of the brain's complexity, even as it creates a
 * 'Snare' for those invested in the previous model.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 
 * 1. Load: ?- [constraints/brain_network_paradigm_2026].
 * 2. Multi-perspective: ?- multi_index_report(brain_network_paradigm_2026).
 * 3. Run tests: ?- run_tests(brain_network_paradigm_2026_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: brazil_2026_general_elections
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-28
% ============================================================================

:- module(constraint_brazil_2026_general_elections, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: brazil_2026_general_elections
 * human_readable: 2026 Brazilian General Election Structure
 * domain: political
 * * SUMMARY:
 * The 2026 elections in Brazil operate as a rigid structural constraint defined
 * by the "Bolsonarismo vs. Lulismo" binary. While the incumbent (Lula) seeks
 * re-election, the judicial disqualification of Jair Bolsonaro has forced the
 * Right into a "Piton" state of inertial grievance, while the "Centrão" acts as
 * a Tangled Rope extracting state resources for legislative cooperation.
 * * KEY AGENTS:
 * - The "Polarized Voter": Subject (Powerless)
 * - The "Centrão" Bloc: Beneficiary (Institutional)
 * - STF (Supreme Federal Court): Auditor/Enforcer (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(brazil_2026_general_elections, 0.52). % Mountain suppression <= 0.05, Rope extraction <= 0.15, Snare extraction >= 0.46
domain_priors:suppression_score(brazil_2026_general_elections, 0.42).   % Structural property (raw, unscaled). Only extractiveness is scaled (by power and scope).
domain_priors:theater_ratio(brazil_2026_general_elections, 0.75).       % Piton detection (>= 0.70)

% Constraint metric facts — primary keys used by the classification engine.
% These mirror domain_priors values using the metric key names from config.pl.
narrative_ontology:constraint_metric(brazil_2026_general_elections, extractiveness, 0.52).
narrative_ontology:constraint_metric(brazil_2026_general_elections, suppression_requirement, 0.42).
narrative_ontology:constraint_metric(brazil_2026_general_elections, theater_ratio, 0.75).

% Constraint self-claim (what does the constraint claim to be?)
% Values: natural_law, coordination, constructed, enforcement
narrative_ontology:constraint_claim(brazil_2026_general_elections, coordination).

% Binary flags
domain_priors:requires_active_enforcement(brazil_2026_general_elections). % Required for Tangled Rope

% Structural property derivation hooks:
%   has_coordination_function/1 is DERIVED from constraint_beneficiary/2
%   has_asymmetric_extraction/1 is DERIVED from constraint_victim/2
% Both are required for Tangled Rope. Coordination is also required for Scaffold.
narrative_ontology:constraint_beneficiary(brazil_2026_general_elections, centrao_bloc).
narrative_ontology:constraint_victim(brazil_2026_general_elections, brazilian_taxpayer).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   Scope modifiers: local=0.8, regional=0.9, national=1.0,
                    continental=1.1, global=1.2, universal=1.0.
   ========================================================================== */

% PERSPECTIVE 1: THE DISILLUSIONED VOTER (SNARE)
% High extraction (taxation vs services) felt as a predatory trap with no exit.
constraint_indexing:constraint_classification(brazil_2026_general_elections, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE "CENTRÃO" LEADERSHIP (ROPE)
% Viewed as the essential coordination mechanism for governability.
constraint_indexing:constraint_classification(brazil_2026_general_elections, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(national))).

% PERSPECTIVE 3: THE POLITICAL SCIENTIST (TANGLED ROPE)
% Detects the hybrid nature of democratic coordination used for asymmetric extraction.
constraint_indexing:constraint_classification(brazil_2026_general_elections, tangled_rope,
    context(agent_power(analytical),
            time_horizon(historical),
            exit_options(analytical),
            spatial_scope(global))).

% PERSPECTIVE 4: THE BOLSONARISTA BASE (PITON)
% Maintenance of a movement whose primary functional lead (the candidate) is inert.
constraint_indexing:constraint_classification(brazil_2026_general_elections, piton,
    context(agent_power(organized),
            time_horizon(biographical),
            exit_options(constrained),
            spatial_scope(national))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(brazil_2026_tests).

test(perspectival_gap) :-
    % Verify the constraint is a Snare for the powerless but a Rope for the institution.
    constraint_indexing:constraint_classification(brazil_2026_general_elections, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(brazil_2026_general_elections, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(brazil_2026_general_elections, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(brazil_2026_general_elections, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless \= TypeInstitutional.

test(threshold_validation) :-
    config:param(extractiveness_metric_name, ExtMetricName),
    narrative_ontology:constraint_metric(brazil_2026_general_elections, ExtMetricName, E),
    (E =< 0.15 ; E >= 0.46). % Passes v3.4 threshold for either low or high-extraction logic.

test(piton_detection) :-
    config:param(theater_metric_name, TheaterMetricName),
    narrative_ontology:constraint_metric(brazil_2026_general_elections, TheaterMetricName, TR),
    TR >= 0.70,
    constraint_indexing:constraint_classification(brazil_2026_general_elections, piton, _).

:- end_tests(brazil_2026_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The 0.52 extractiveness reflects the "cost of governability" in Brazil,
 * where the executive must cede vast budgetary control (e.g., "secret budget")
 * to the legislative center (Centrão) to pass legislation. The Perspectival
 * Gap is stark: the "Institutional" agents (Centrão) see this as a Rope
 * (coordination), while the "Powerless" taxpayer sees it as a Snare (resource
 * drain without commensurate representation or services). The high theater
 * ratio (0.75) captures the Bolsonarista movement's focus on an ineligible
 * candidate, making their political activity a Piton of inertial grievance.
 *
 * * MANDATROPHY ANALYSIS:
 * [RESOLVED MANDATROPHY]
 * The Tangled Rope classification is critical here. A simpler model would
 * classify the system as a pure Snare due to its high extraction (E=0.52).
 * However, this misses the genuine coordination function: the Centrão's
 * mechanism, while extractive, does prevent total institutional collapse and
 * legislative gridlock. The Tangled Rope acknowledges this dual nature,
 * preventing the system from mislabeling high-cost coordination as pure
 * predation.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_brazil_eligibility,
    'Will the Supreme Court (STF) maintain the ineligibility of the opposition leader?',
    'Judicial review of late 2025 appeals.',
    'If False, the Piton classification for the opposition reverts to a functional Rope/Snare; if True, the Snare risk for the Right increases due to lack of viable alternatives.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(brazil_2026_general_elections, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data enables drift detection (metric_substitution,
% extraction_accumulation) by providing measurements at multiple time points.
% Required for high-extraction constraints (base_extractiveness > 0.46).
% Here, we model the gradual entrenchment of budgetary extraction and the
% rise of political theater as the election cycle progresses.

% Theater ratio over time (triggers metric_substitution detection):
narrative_ontology:measurement(brazil_2026_tr_t0, brazil_2026_general_elections, theater_ratio, 0, 0.60).
narrative_ontology:measurement(brazil_2026_tr_t5, brazil_2026_general_elections, theater_ratio, 5, 0.70).
narrative_ontology:measurement(brazil_2026_tr_t10, brazil_2026_general_elections, theater_ratio, 10, 0.75).

% Extraction over time (triggers extraction_accumulation detection):
narrative_ontology:measurement(brazil_2026_ex_t0, brazil_2026_general_elections, base_extractiveness, 0, 0.48).
narrative_ontology:measurement(brazil_2026_ex_t5, brazil_2026_general_elections, base_extractiveness, 5, 0.50).
narrative_ontology:measurement(brazil_2026_ex_t10, brazil_2026_general_elections, base_extractiveness, 10, 0.52).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% The Centrão's function is primarily one of resource allocation (budgetary
% amendments) to achieve legislative coordination.
narrative_ontology:coordination_type(brazil_2026_general_elections, resource_allocation).

% Network relationships (structural influence edges)
% The electoral structure and its associated budget negotiations directly
% impact the country's ability to adhere to fiscal rules.
narrative_ontology:affects_constraint(brazil_2026_general_elections, fiscal_responsibility_law).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: broke_vs_poor_grocery_math
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-05-22
% ============================================================================

:- module(constraint_broke_vs_poor_grocery_math, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: broke_vs_poor_grocery_math
 * human_readable: The Cognitive Load of Poverty (Grocery Math)
 * domain: economic/social
 * * SUMMARY:
 * This constraint models the cognitive load imposed by poverty, exemplified by "grocery math"—the mandatory mental tallying of every item's cost to avoid exceeding available funds at checkout. This distinguishes being "poor" (a persistent state of scarcity) from being "broke" (a temporary lack of funds). The constraint is the mental burden itself, enforced by the hard limit of one's budget.
 * * KEY AGENTS:
 * - The Poor Individual: Subject (Powerless), experiences the constraint as a Snare.
 * - The Broke Individual: Agent with temporary liquidity issues (Moderate), experiences the constraint as a Rope.
 * - The Social Welfare System: Observer (Institutional), views the phenomenon as a systemic, unchangeable feature of the landscape (Mountain).
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(broke_vs_poor_grocery_math, 0.80). % High cognitive/temporal extraction. Snare extraction >= 0.46
domain_priors:suppression_score(broke_vs_poor_grocery_math, 0.60).   % The alternative ("not counting") is suppressed by the immediate risk of insufficient funds.
domain_priors:theater_ratio(broke_vs_poor_grocery_math, 0.10).       % This is a real, non-performative activity. Piton detection (>= 0.70)

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(broke_vs_poor_grocery_math, extractiveness, 0.80).
narrative_ontology:constraint_metric(broke_vs_poor_grocery_math, suppression_requirement, 0.60).
narrative_ontology:constraint_metric(broke_vs_poor_grocery_math, theater_ratio, 0.10).

% Constraint self-claim (what does the constraint claim to be?)
% It is presented as a necessary consequence of scarcity, enforced by the checkout.
narrative_ontology:constraint_claim(broke_vs_poor_grocery_math, enforcement).

% Binary flags
domain_priors:requires_active_enforcement(broke_vs_poor_grocery_math). % Enforced by the point-of-sale system.

% Structural property derivation hooks:
narrative_ontology:constraint_beneficiary(broke_vs_poor_grocery_math, economic_system_beneficiaries).
narrative_ontology:constraint_victim(broke_vs_poor_grocery_math, individuals_in_poverty).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   ========================================================================== */

% PERSPECTIVE 1: THE POOR INDIVIDUAL (SNARE)
% For the person in poverty, the constant mental calculation is a Snare. It
% extracts cognitive bandwidth, time, and emotional energy, trapping them in a
% cycle of survival-focused thinking.
constraint_indexing:constraint_classification(broke_vs_poor_grocery_math, snare,
    context(agent_power(powerless),
            time_horizon(immediate),
            exit_options(trapped),
            spatial_scope(local))).

% PERSPECTIVE 2: THE BROKE INDIVIDUAL (ROPE)
% For a person who is temporarily "broke" but has reliable income expected,
% the need for careful budgeting is a temporary coordination tool (Rope).
% They coordinate their current spending with future income. The cognitive load
% is lower because an exit is visible and guaranteed.
constraint_indexing:constraint_classification(broke_vs_poor_grocery_math, rope,
    context(agent_power(moderate),
            time_horizon(biographical),
            exit_options(mobile),
            spatial_scope(local))).

% PERSPECTIVE 3: THE SOCIAL WELFARE SYSTEM (MOUNTAIN)
% From an institutional perspective (e.g., a social worker or welfare agency),
% the phenomenon of "grocery math" is a symptom of the larger, seemingly
% intractable problem of poverty. It appears as a Mountain—a persistent,
% systemic feature of the economic landscape that they must work around but
% cannot easily change.
constraint_indexing:constraint_classification(broke_vs_poor_grocery_math, mountain,
    context(agent_power(institutional),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(national))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(broke_vs_poor_grocery_math_tests).

test(perspectival_gap) :-
    % Verify there is a perspectival gap between all three key agents.
    constraint_indexing:constraint_classification(broke_vs_poor_grocery_math, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(broke_vs_poor_grocery_math, TypeModerate, context(agent_power(moderate), _, _, _)),
    constraint_indexing:constraint_classification(broke_vs_poor_grocery_math, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless == snare,
    TypeModerate == rope,
    TypeInstitutional == mountain,
    TypePowerless \= TypeModerate,
    TypeModerate \= TypeInstitutional.

test(threshold_validation_snare) :-
    % Verify the base extractiveness meets the Snare threshold.
    narrative_ontology:constraint_metric(broke_vs_poor_grocery_math, extractiveness, E),
    E >= 0.46.

:- end_tests(broke_vs_poor_grocery_math_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The core of this constraint is the perspectival gap between poverty and temporary
 * financial hardship. The base extractiveness (0.80) is high because the primary
 * extraction is not monetary but cognitive and temporal—the constant, draining
 * mental effort required for basic survival tasks.
 * - The 'Poor' individual sees a Snare because there is no clear exit; the cognitive load is a permanent feature of their reality.
 * - The 'Broke' individual sees a Rope because their situation is temporary; budgeting is a tool to coordinate with near-future income.
 * - The 'Institutional' actor sees a Mountain because from their systemic viewpoint, this behavior is an emergent property of a vast, slow-moving economic system that is resistant to change.
 *
 * MANDATROPHY ANALYSIS: [RESOLVED MANDATROPHY]
 * This constraint is not a Tangled Rope because it lacks a genuine, designed coordination function for the victims. The "grocery math" is an emergent coping mechanism, not a system designed for coordination that also happens to be extractive. It is a pure Snare from the victim's perspective, a direct consequence of systemic economic pressures.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_broke_vs_poor_grocery_math,
    "Is the 'grocery math' requirement a functional necessity of limited individual funds (Mountain) or an extractive systemic failure of the market (Snare)?",
    "Audit of grocery pricing volatility vs. base survival wages, and access to affordable, nutritious food for low-income populations.",
    "If necessity, it's a personal Mountain. If systemic failure, it's a societal Snare.",
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(broke_vs_poor_grocery_math, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% This constraint represents a persistent state of poverty. The cognitive
% extraction has remained consistently high over the observed interval, and
% the activity is not performative.
%
% Theater ratio over time (consistently low):
narrative_ontology:measurement(bvp_tr_t0, broke_vs_poor_grocery_math, theater_ratio, 0, 0.10).
narrative_ontology:measurement(bvp_tr_t5, broke_vs_poor_grocery_math, theater_ratio, 5, 0.10).
narrative_ontology:measurement(bvp_tr_t10, broke_vs_poor_grocery_math, theater_ratio, 10, 0.10).

% Extraction over time (consistently high):
narrative_ontology:measurement(bvp_ex_t0, broke_vs_poor_grocery_math, base_extractiveness, 0, 0.80).
narrative_ontology:measurement(bvp_ex_t5, broke_vs_poor_grocery_math, base_extractiveness, 5, 0.80).
narrative_ontology:measurement(bvp_ex_t10, broke_vs_poor_grocery_math, base_extractiveness, 10, 0.80).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% This constraint is an emergent property of a larger system, not a designed
% coordination mechanism itself. Therefore, Boltzmann data is not applicable.
% narrative_ontology:coordination_type(broke_vs_poor_grocery_math, ...).

% This constraint is affected by broader economic policies.
narrative_ontology:affects_constraint(minimum_wage_policy, broke_vs_poor_grocery_math).
narrative_ontology:affects_constraint(food_subsidy_programs, broke_vs_poor_grocery_math).


/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: brouwer_fixed_point
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Brouwer Fixed Point Theorem (Topology / Game Theory)
% ============================================================================

:- module(constraint_brouwer_fixed_point, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: brouwer_fixed_point
 * human_readable: Brouwer Fixed Point Theorem
 * domain: mathematics/topological/economic
 * temporal_scope: 1911 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Compact convex sets)
 * * SUMMARY:
 * The Brouwer Fixed Point Theorem states that for any continuous function 
 * mapping a compact convex set to itself, there is at least one point x 
 * such that f(x) = x. It is a fundamental "existence" theorem that guarantees 
 * equilibrium in complex systems without necessarily providing a method to find it.
 * * KEY AGENTS:
 * - The Topological Subject (The Point): An agent trapped within the set, 
 * guaranteed to have a "home" but no agency to choose it.
 * - The Game Theorist / Economist: An institutional agent who uses the 
 * theorem to prove the existence of Nash Equilibria or Market Clearing prices.
 * - The Searcher (Numerical Analyst): An agent struggling with the "non-constructive" 
 * nature of the theorem, knowing a solution exists but lacking a map.
 * * NARRATIVE ARC:
 * Brouwer acts as a "Mountain" of topological inevitability. In the narrative 
 * of a system (like an economy), it is the "Rope" that guarantees consistency. 
 * However, to the searcher, its non-constructive nature is a "Snare"—a 
 * promise of a solution that offers no relief from the labor of finding it.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for DR-Audit Suite
narrative_ontology:interval(brouwer_era, 1911, 2026).
narrative_ontology:constraint_claim(brouwer_fixed_point, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: Low (0.2). It is a passive existence guarantee. It "extracts" 
% the possibility of total chaos by forcing the existence of a stationary state.
domain_priors:base_extractiveness(brouwer_fixed_point, 0.2).

% Suppression score (0.0-1.0)
% Rationale: Low (0.1). It is foundational; it does not hide its 
% non-constructive nature, though it dominates the proof of existence.
domain_priors:suppression_score(brouwer_fixed_point, 0.1).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(brouwer_fixed_point, extractiveness, 0.2).
narrative_ontology:constraint_metric(brouwer_fixed_point, suppression_requirement, 0.1).

% Enforcement: Emerges from the axioms of topology and continuity.
domain_priors:emerges_naturally(brouwer_fixed_point).

% Metrics required for Section 1 of the Executive Summary
% BENEFICIARIES & VICTIMS
constraint_beneficiary(brouwer_fixed_point, institutional_stability). % Equilibrium exists.
constraint_beneficiary(brouwer_fixed_point, theoretical_physicists).
constraint_victim(brouwer_fixed_point, algorithmic_efficiency). % Existence doesn't help find it.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE TOPOLOGICAL POINT - Mountain
   --------------------------------------------------------------------------
   
   WHO: powerless - The point has no agency over its transformation.
   WHEN: immediate - True for every single mapping instance.
   WHERE: trapped - Bound within the compact convex set X.
   SCOPE: local - Immediate coordinate of the stationary point.
   
   WHY THIS CLASSIFICATION:
   For the point, the fixed state is an unyielding law of the universe. 
   If the set is "crumpled" or "stirred," the point *must* remain.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    brouwer_fixed_point,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MARKET ARCHITECT - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design rules (sets) that satisfy Brouwer.
   WHEN: biographical - Planning the stability of a market or game for years.
   WHERE: mobile - Can choose different spaces/rules to ensure equilibrium.
   SCOPE: national/global - Applies to entire economic models.
   
   WHY THIS CLASSIFICATION:
   For the architect, the theorem is a "Rope" for functional coordination. 
   It provides a "proof of concept" that allows for the creation of 
   stable systems and regulatory frameworks.
   
   NARRATIVE EVIDENCE:
   "The theorem is used in proving the existence of Nash Equilibrium in game theory."
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    brouwer_fixed_point,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NUMERICAL SEARCHER - Snare
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the knowledge to search, but limited by math.
   WHEN: immediate - Stuck in the "infinite" loops of searching for existence.
   WHERE: constrained - Knowing the target exists but having no path.
   SCOPE: local - Lost in the high-dimensional space.
   
   WHY THIS CLASSIFICATION:
   When existence is guaranteed but non-constructive, it acts as a "Snare." 
   The searcher is bound to a solution that they can "see" in theory but 
   never "touch" in practice, extracting infinite labor for zero certainty.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    brouwer_fixed_point,
    snare,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(brouwer_fixed_point, E),
    E > 0.1,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(brouwer_fixed_point_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(brouwer_fixed_point, Type1, context(powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(brouwer_fixed_point, Type2, context(institutional, biographical, mobile, global)),
    Type1 = mountain,
    Type2 = rope.

test(non_constructive_snare_penalty) :-
    % The searcher (moderate power, constrained) suffers the gap between theory and praxis.
    constraint_indexing:constraint_classification(brouwer_fixed_point, snare, context(individual_moderate, immediate, constrained, local)).

test(emergence) :-
    domain_priors:emerges_naturally(brouwer_fixed_point).

:- end_tests(brouwer_fixed_point_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. BASE EXTRACTIVENESS (0.2):
 * Reasoning: Brouwer is less "expensive" than Banach (which demands iterates) 
 * but it still extracts cognitive and computational cycles by providing 
 * an "existence trap"—the knowledge that a solution is there.
 * * 2. TYPE SHIFT:
 * Reasoning: The primary perspectival gap is between the "Institutional" 
 * sense of stability (Rope) and the "Moderate" searcher's frustration 
 * with the lack of a constructive path (Snare).
 * * 3. PERSPECTIVE SELECTION:
 * Chose Point (Passive), Architect (User), and Searcher (Victim) to highlight 
 * the specific topological-computational friction.
 */

% OMEGA IDENTIFICATION
omega_variable(
    constructive_complexity,
    "Will a universal constructive version of Brouwer (e.g., Scarf's algorithm) succeed?",
    resolution_mechanism("Measure the average-case runtime vs existence-proof utility over 10 years."),
    impact("If Yes: The 'Snare' becomes a 'Rope'. If No: It remains a Snare for practitioners."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Banach Fixed Point Theorem
 * Viability: Constructive, provides a path (Rope).
 * Suppression: Requires a contraction mapping, which many real systems lack.
 * * ALTERNATIVE 2: Schauder Fixed Point Theorem
 * Viability: Generalizes to infinite-dimensional spaces.
 * Suppression: Used for more complex PDEs, but Brouwer remains the finite-dim base.
 * * CONCLUSION:
 * The existence of Banach's "Rope" makes Brouwer's "Snare" (non-constructiveness) 
 * more visible to the Searcher, who wishes the world were contractive.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [brouwer_fixed_point].
% Run tests: ?- run_tests(brouwer_fixed_point_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: buffons_needle_pi_estimation
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Georges-Louis Leclerc, Comte de Buffon (1777) / Geometric Probability
% ============================================================================

:- module(constraint_buffons_needle, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: buffons_needle_pi_estimation
 * human_readable: Buffon's Needle (Geometric Probability)
 * domain: mathematical/technological
 * temporal_scope: 1777 - Present
 * spatial_scope: Global/Abstract (Euclidean Space)
 * * SUMMARY:
 * Buffon's Needle is a classic problem in geometric probability where a needle 
 * of length $l$ is dropped onto a floor with parallel lines a distance $d$ apart. 
 * The probability that the needle crosses a line ($P = 2l / (d\pi)$) reveals 
 * a fundamental constraint: $\pi$ is woven into the very geometry of random 
 * physical interactions.
 * * KEY AGENTS:
 * - The Needle (Subject): The powerless agent whose physical landing is 
 * bound by the trigonometric constraints of its angle and position.
 * - The Monte Carlo Simulator (Institutional): An agent who uses this 
 * randomness as a "Rope" to estimate transcendental constants.
 * - The Analytical Purist (Victim): An agent for whom the "messiness" of 
 * physical randomness acts as a "Snare," extracting the elegance of 
 * pure symbolic calculation.
 * * NARRATIVE ARC:
 * Buffon's Needle functions as a "Mountain" of geometric reality—the 
 * relationship between linear drops and circular constants is an unyielding 
 * feature of space. In early computing, it was a "Rope" for coordinating the 
 * first Monte Carlo methods. However, for those seeking high-precision 
 * constants, the requirement of infinite physical trials acts as a "Snare," 
 * extracting massive time and effort (extraction) to yield only a few 
 * digits of $\pi$.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for index extraction
narrative_ontology:interval(buffon_era, 1777, 2026).
narrative_ontology:constraint_claim(buffons_needle_pi_estimation, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. It "extracts" the simplicity of a random drop to reveal a 
% complex constant, forcing a "statistical tax" on any agent seeking to 
% derive $\pi$ from physical space.
domain_priors:base_extractiveness(buffons_needle_pi_estimation, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.1. It does not actively suppress alternatives, but it 
% renders "non-trigonometric" explanations of the crossing probability 
% functionally fraudulent.
domain_priors:suppression_score(buffons_needle_pi_estimation, 0.1).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(buffons_needle_pi_estimation, extractiveness, 0.2).
narrative_ontology:constraint_metric(buffons_needle_pi_estimation, suppression_requirement, 0.1).

% Enforcement: Emerges naturally from the integration of the sine function.
domain_priors:emerges_naturally(buffons_needle_pi_estimation).

% Metrics required for Section 1 of the Executive Summary
% BENEFICIARIES & VICTIMS
constraint_beneficiary(buffons_needle_pi_estimation, monte_carlo_engineers).
constraint_beneficiary(buffons_needle_pi_estimation, geometric_statisticians).
constraint_victim(buffons_needle_pi_estimation, deterministic_calculators). % Strangled by variance.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE FALLING NEEDLE - Mountain
   --------------------------------------------------------------------------
   
   WHO: powerless - The needle has no agency over the laws of gravity or trig.
   WHEN: immediate - The crossing is determined the instant the needle settles.
   WHERE: trapped - Bound within the $d$-width lines of the floor.
   SCOPE: local - Immediate neighborhood of the landing.
   
   WHY THIS CLASSIFICATION:
   For the needle, the condition $x \le (l/2)\sin\theta$ is an absolute Mountain. 
   It cannot "choose" to cross a line if the geometry of its angle and 
   center-point does not permit it. The law is a fixed feature of its physics.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    buffons_needle_pi_estimation,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE STATISTICAL RESEARCHER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to design experiments and choose trial counts.
   WHEN: biographical - Planning the duration of a data collection project.
   WHERE: mobile - Can adjust $l$ and $d$ to optimize the crossing probability.
   SCOPE: global - Universal application in stochastic modeling.
   
   WHY THIS CLASSIFICATION:
   For the researcher, the problem is a "Rope"—a functional coordination 
   mechanism. By dropping needles, they coordinate a "standard of achievement" 
   for estimating $\pi$ through physical action, pulling abstract math 
   into the tangible world.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    buffons_needle_pi_estimation,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE HIGH-PRECISION OBSERVER - Snare
   --------------------------------------------------------------------------
   
   WHO: powerless - Bound by the Law of Large Numbers.
   WHEN: generational - It would take lifetimes of drops to reach 10 digits of $\pi$.
   WHERE: constrained - No alternative but to increase $N$ at a $1/\sqrt{N}$ rate.
   SCOPE: local - A specific, tedious physical experiment.
   
   WHY THIS CLASSIFICATION:
   For the seeker of precision, Buffon's Needle is a "Snare." It "strangles" 
   efficiency. Because the error decreases so slowly, the method extracts 
   enormous labor (extraction) for diminishing returns, "choking" the 
   viability of the experiment as a serious computational tool.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    buffons_needle_pi_estimation,
    snare,
    context(
        agent_power(powerless),
        time_horizon(generational),
        exit_options(constrained),
        spatial_scope(local)
    )
) :- 
    domain_priors:base_extractiveness(buffons_needle_pi_estimation, E),
    E >= 0.15,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(buffons_needle_tests).

test(multi_perspective_variance) :-
    % Needle -> Mountain
    constraint_indexing:constraint_classification(buffons_needle_pi_estimation, Type1, context(powerless, immediate, trapped, local)),
    % Researcher -> Rope
    constraint_indexing:constraint_classification(buffons_needle_pi_estimation, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(variance_extraction_penalty) :-
    % The high-precision seeker feels the "Snare" of the 1/sqrt(N) convergence.
    Context = context(powerless, generational, constrained, local),
    constraint_indexing:extractiveness_for_agent(buffons_needle_pi_estimation, Context, Score),
    Score >= 0.2.

test(natural_emergence) :-
    domain_priors:emerges_naturally(buffons_needle_pi_estimation).

:- end_tests(buffons_needle_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Chose 0.2 because while the math is a "gift," the physical effort to use 
 * it for estimation is a "tax" of time and variance.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Needle (Subject), Researcher (User), and Precision Seeker (Victim) 
 * to demonstrate how a "Mountain" of logic becomes a "Snare" of inefficiency.
 */

% OMEGA IDENTIFICATION
omega_variable(
    needle_shape_universality,
    "Does the 'Mountain' hold for non-linear needles (e.g., Buffon's Noodle)?",
    resolution_mechanism("Verification of Barbier's Theorem for curves of constant length."),
    impact("If Yes: The 'Mountain' is a universal property of length, not just straight lines."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Deterministic Algorithms (e.g., Chudnovsky Algorithm)
 * Viability: Millions of times more efficient than needle dropping.
 * Suppression: Renders Buffon's Needle functionally a "Toy" or "Scaffold" 
 * in the modern era.
 * * ALTERNATIVE 2: Barbier's Theorem (Buffon's Noodle)
 * Viability: Shows that the shape doesn't matter, only the length.
 * Evidence: A broader "Mountain" that explains the straight-needle case.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [buffons_needle_pi_estimation].
 * 2. Multi-perspective: ?- multi_index_report(buffons_needle_pi_estimation).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: burali_forti_paradox
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Set Theory / Cesare Burali-Forti (1897)
% ============================================================================

:- module(constraint_burali_forti_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: burali_forti_paradox
 * human_readable: Burali-Forti Paradox
 * domain: technological/mathematics/logic
 * temporal_scope: Permanent (Universal Laws of Formal Systems)
 * spatial_scope: Global (Set-Theoretic Foundations)
 * * SUMMARY:
 * The Burali-Forti paradox demonstrates that the collection of all ordinal numbers 
 * cannot itself be a set. If it were, it would have an ordinal number greater 
 * than every ordinal in the collection, leading to a contradiction. It 
 * represents the first formal proof that "totalities" in naive set theory 
 * are logically impossible.
 * * KEY AGENTS:
 * - The Set Theorist: Seeking a consistent foundation for all of mathematics.
 * - The Formal System (ZFC/NBG): The administrative structure that prevents 
 * "Set" status for such totalities.
 * - The Naive Mathematician: An agent attempting to work with unrestricted 
 * comprehension.
 * * NARRATIVE ARC:
 * The paradox acts as a hard boundary (Mountain) for the reach of sets. To 
 * maintain consistency, formal systems treat the "All-Ordinals" as a Proper 
 * Class (Rope), a coordination tool that allows use without membership. 
 * For those seeking a single unified "Set of All," the paradox is a Snare 
 * that collapses their foundational system.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural anchor
narrative_ontology:interval(burali_forti_interval, 0, 10).
narrative_ontology:constraint_claim(burali_forti_paradox, mountain).

% Base extractiveness score: 0.2 (Low)
% Rationale: It extracts "semantic closure" from naive systems but does not 
% extract physical resources.
domain_priors:base_extractiveness(burali_forti_paradox, 0.2).

% Suppression score: 0.3 (Low-Moderate)
% Rationale: Alternatives like New Foundations (NF) exist and are visible, 
% though the "Proper Class" distinction is the dominant enforcement.
domain_priors:suppression_score(burali_forti_paradox, 0.3).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(burali_forti_paradox, extractiveness, 0.2).
narrative_ontology:constraint_metric(burali_forti_paradox, suppression_requirement, 0.3).

% Enforcement requirements: Emerges naturally from the definition of ordinals.
domain_priors:emerges_naturally(burali_forti_paradox).

% Metrics required for Section 1 of the Executive Summary
% BENEFICIARIES & VICTIMS
constraint_beneficiary(burali_forti_paradox, axiomatic_set_theorists).
constraint_victim(burali_forti_paradox, naive_comprehension_proponents).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE SET THEORIST - MOUNTAIN
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of universal logical laws.
   WHEN: civilizational - Operates on the scale of eternal mathematical truth.
   WHERE: trapped - Logic cannot bypass the definitions of well-ordering.
   SCOPE: global - Universal applicability to all formal systems.
   
   WHY THIS CLASSIFICATION:
   To the theorist, the paradox is a Mountain. It is an unchangeable feature 
   of the landscape of truth. You cannot "fix" it; you can only map it and 
   build your axioms around it to avoid falling into the contradiction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burali_forti_paradox,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE AXIOMATIC SYSTEM (ZFC) - ROPE
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power that defines what counts as a "Set."
   WHEN: historical - Maintaining mathematical stability over centuries.
   WHERE: arbitrage - Can define hierarchies (Proper Classes vs Sets) to 
   coordinate information.
   SCOPE: national - The reach of the specific formal logic.
   
   WHY THIS CLASSIFICATION:
   For the formal system, the paradox is a Rope. It is a coordination 
   mechanism that forces the distinction between "Sets" (which can be members) 
   and "Proper Classes" (which cannot). This distinction is a functional 
   tool that prevents the system from "exploding" into triviality.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burali_forti_paradox,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NAIVE MATHEMATICIAN - SNARE
   --------------------------------------------------------------------------
   
   WHO: powerless - Subject to the rules of logic without 
   meta-systemic power.
   WHEN: immediate - Today's calculation or proof attempt.
   WHERE: trapped - Once the contradiction is reached, the proof is dead.
   SCOPE: local - Immediate workspace.
   
   WHY THIS CLASSIFICATION:
   For the naive actor, the paradox is a Snare. They attempt to use the 
   seemingly "free" rule of unrestricted comprehension (the ability to form 
   a set from any property). However, as they include more ordinals, the 
   paradoxical logic tightens until their entire foundational proof 
   is strangled by contradiction.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burali_forti_paradox,
    snare,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(burali_forti_paradox_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(burali_forti_paradox, T1, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(burali_forti_paradox, T2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(burali_forti_paradox, T3, context(agent_power(powerless), _, _, _)),
    T1 \= T2, T2 \= T3.

test(power_semantic_extraction) :-
    % Powerless naive actors suffer total extraction of proof validity (Snare).
    % Institutional systems manage the extraction via Proper Classes (Rope).
    domain_priors:base_extractiveness(burali_forti_paradox, Score),
    Score >= 0.2.

test(time_immutability_scale) :-
    % Long-term civilizational logic = Mountain.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(burali_forti_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.2):
 * Reasoning: Low. The "extraction" is purely semantic—the loss of 
 * unrestricted comprehension. It doesn't extract material labor.
 * * 2. PERSPECTIVE SELECTION:
 * Analytical (The Scientist), Institutional (The Formal System), and 
 * Individual Powerless (The Naive Actor) were chosen to reflect the 
 * standard "Set vs Class" resolution in mathematics.
 * * 3. CLASSIFICATION RATIONALE:
 * Individual Powerless → Snare: Because naive comprehension leads 
 * unavoidably to a "trap" where all statements become provable (Trivialism).
 * * 4. AMBIGUITIES:
 * - Resolved the "trap" by acknowledging that while one can exit ZFC 
 * to another logic, one cannot exit the Burali-Forti result within 
 * any system that respects standard ordinal definitions.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    class_vs_set_metaphysics,
    "Are 'Proper Classes' a real mathematical landscape (Mountain) or merely a linguistic scaffold (Rope) to avoid the Snare?",
    resolution_mechanism("Development of a grand unified theory of categories vs sets"),
    impact("If Mountain: The hierarchy of size is a physical limit. If Rope: It's just a bug in our current notation."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Quine's New Foundations (NF)
 * Viability: High. It allows a universal set but restricts the types of 
 * formulas used to define sets (stratification).
 * Suppression: Moderate. NF is well-known but rarely used in "mainstream" 
 * math because stratification is cognitively more "expensive" than ZFC.
 * * CONCLUSION:
 * The existence of NF as a "Rope" alternative suggests that the ZFC 
 * "Mountain" is partially a choice of convenience, though the underlying 
 * paradox remains a structural limit for naive systems.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * * 1. Load: ?- [constraint_burali_forti_paradox].
 * 2. Multi-perspective: ?- multi_index_report(burali_forti_paradox).
 * 3. Run tests: ?- run_tests(burali_forti_paradox_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */


% --- v3.1 Indexical Relativity Stubs (Fleet Repair) ---
constraint_indexing:constraint_classification(burali_forte_paradox, mountain, agent_power(analytical)).
constraint_indexing:constraint_classification(burali_forte_paradox, rope, agent_power(institutional)).
constraint_indexing:constraint_classification(burali_forte_paradox, snare, agent_power(powerless)).
% ============================================================================
% CONSTRAINT STORY: burden_of_proof_engineering_safety
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-05-21
% ============================================================================

:- module(constraint_burden_of_proof_engineering_safety, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: burden_of_proof_engineering_safety
 * human_readable: Reversal of the Engineering Burden of Proof
 * domain: technological
 * * SUMMARY:
 * This constraint represents a specific institutional failure where the
 * "burden of proof" shifted from requiring proof that it was SAFE to fly
 * to requiring proof that it was UNSAFE to fly. This technical/
 * engineering variety of the constraint is distinct from legal burdens
 * as it operates on the threshold of physical system failure rather
 * than social culpability, as seen in the 1986 Challenger Launch Decision.
 * * KEY AGENTS:
 * - Thiokol Engineers (e.g., Roger Boisjoly): Subject (Powerless)
 * - NASA Management (e.g., Lawrence Mulloy): Beneficiary (Institutional)
 * - The Rogers Commission: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(burden_of_proof_engineering_safety, 0.9). % Rationale: Reversing the burden extracts the safety margin, ultimately trading crew life for schedule adherence.
domain_priors:suppression_score(burden_of_proof_engineering_safety, 0.8).   % Rationale: The demand for "conclusive data" of failure suppresses valid engineering intuition and historical erosion data.
domain_priors:theater_ratio(burden_of_proof_engineering_safety, 0.1).       % Rationale: The constraint was brutally functional, not theatrical.

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(burden_of_proof_engineering_safety, extractiveness, 0.9).
narrative_ontology:constraint_metric(burden_of_proof_engineering_safety, suppression_requirement, 0.8).
narrative_ontology:constraint_metric(burden_of_proof_engineering_safety, theater_ratio, 0.1).

% Constraint self-claim (what does the constraint claim to be?)
% It claims to be a coordination mechanism for making decisions under uncertainty.
narrative_ontology:constraint_claim(burden_of_proof_engineering_safety, coordination).

% Binary flags
domain_priors:requires_active_enforcement(burden_of_proof_engineering_safety). % NASA management explicitly demanded Thiokol "prove it" was unsafe.

% Structural property derivation hooks:
narrative_ontology:constraint_beneficiary(burden_of_proof_engineering_safety, nasa_launch_schedule).
narrative_ontology:constraint_victim(burden_of_proof_engineering_safety, crew_safety).
narrative_ontology:constraint_victim(burden_of_proof_engineering_safety, engineering_integrity).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The engineer is trapped by a demand for impossible proof. The effective
% extraction χ = 0.9 (ε) * 1.5 (π(powerless)) * 0.8 (σ(local)) = 1.08, which
% is an extreme Snare. It feels like a Mountain due to its immovability, but
% its constructed, high-extraction nature makes it a Snare.
constraint_indexing:constraint_classification(burden_of_proof_engineering_safety, snare,
    context(agent_power(powerless),
            time_horizon(immediate),
            exit_options(trapped),
            spatial_scope(local))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% Management sees this as a tool to filter "emotional" engineering concerns
% and coordinate a complex launch. The effective extraction is negative:
% χ = 0.9 (ε) * -0.2 (π(institutional)) * 1.0 (σ(national)) = -0.18.
% This classifies as a Rope, creating a severe perspectival gap.
constraint_indexing:constraint_classification(burden_of_proof_engineering_safety, rope,
    context(agent_power(institutional),
            time_horizon(biographical),
            exit_options(mobile),
            spatial_scope(national))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (SNARE)
% The Rogers Commission, with analytical distance, sees the system's true
% nature. The effective extraction is very high:
% χ = 0.9 (ε) * 1.15 (π(analytical)) * 1.2 (σ(global)) = 1.242.
% This is a clear Snare that chokes out safety data to serve a schedule.
constraint_indexing:constraint_classification(burden_of_proof_engineering_safety, snare,
    context(agent_power(analytical),
            time_horizon(historical),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(burden_of_proof_engineering_safety_tests).

test(perspectival_gap_snare_vs_rope) :-
    % Verify the gap between the engineer (powerless) and management (institutional).
    constraint_indexing:constraint_classification(burden_of_proof_engineering_safety, TypePowerless,
        context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(burden_of_proof_engineering_safety, TypeInstitutional,
        context(agent_power(institutional), _, _, _)),
    assertion(TypePowerless == snare),
    assertion(TypeInstitutional == rope),
    TypePowerless \= TypeInstitutional.

test(high_extraction_and_suppression) :-
    narrative_ontology:constraint_metric(burden_of_proof_engineering_safety, extractiveness, E),
    narrative_ontology:constraint_metric(burden_of_proof_engineering_safety, suppression_requirement, S),
    assertion(E >= 0.9),
    assertion(S >= 0.8).

:- end_tests(burden_of_proof_engineering_safety_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The core of this constraint is the perspectival gap between a Snare and a Rope.
 * For NASA management (institutional), demanding conclusive proof of failure was
 * a coordination mechanism (Rope) to prevent delays based on what they perceived
 * as ambiguous engineering concerns. For the engineers (powerless), this demand
 * was an impossible task that suppressed valid safety data, extracting the crew's
 * lives to meet a schedule (Snare). The engineer feels trapped as if by a Mountain,
 * but the constraint is artificial and extractive, hence it is a Snare.
 * The analysis confirms that the presence of a safer, traditional alternative
 * (requiring proof of SAFETY) that was actively suppressed solidifies the Snare
 * classification from any non-beneficiary perspective.
 *
 * [RESOLVED MANDATROPHY]
 * The system correctly identifies this as a high-extraction Snare, not a
 * Tangled Rope, because the "coordination" function claimed by management is
 * entirely subsumed by its extractive purpose. There is no genuine, separable
 * coordination benefit for the victims; the coordination only serves the extraction.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_burden_of_proof,
    "Can an engineering organization ever define a 'safe' burden of proof that is not ultimately a subjective value judgment?",
    "Comparative analysis of probabilistic risk assessment (PRA) standards across nuclear vs. aerospace industries.",
    "If Yes: The burden of proof can be a stable Rope. If No: It is always at risk of degrading into a Snare or an institutional Mountain.",
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(burden_of_proof_engineering_safety, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data models the degradation of NASA's safety culture leading up
% to the Challenger disaster. Extraction (pressure to launch) increased while
% the process remained brutally functional (low theater).
%
% Theater ratio over time (metric_substitution):
narrative_ontology:measurement(bopes_tr_t0, burden_of_proof_engineering_safety, theater_ratio, 0, 0.05).
narrative_ontology:measurement(bopes_tr_t5, burden_of_proof_engineering_safety, theater_ratio, 5, 0.08).
narrative_ontology:measurement(bopes_tr_t10, burden_of_proof_engineering_safety, theater_ratio, 10, 0.1).

% Extraction over time (extraction_accumulation):
narrative_ontology:measurement(bopes_ex_t0, burden_of_proof_engineering_safety, base_extractiveness, 0, 0.7).
narrative_ontology:measurement(bopes_ex_t5, burden_of_proof_engineering_safety, base_extractiveness, 5, 0.8).
narrative_ontology:measurement(bopes_ex_t10, burden_of_proof_engineering_safety, base_extractiveness, 10, 0.9).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% The constraint functions as a perverse rule for decision-making.
narrative_ontology:coordination_type(burden_of_proof_engineering_safety, enforcement_mechanism).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: burden_of_proof_legal_criminal
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: General Jurisprudence / Common Law Criminal Procedure
% ============================================================================

:- module(constraint_legal_burden_of_proof, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: burden_of_proof_legal_criminal
 * human_readable: Beyond a Reasonable Doubt (Criminal Legal Burden)
 * domain: political/social
 * temporal_scope: Modern Era (Common Law Jurisdictions)
 * spatial_scope: National
 * * SUMMARY:
 * In criminal law, the burden of proof rests entirely on the prosecution to 
 * prove every element of a crime "beyond a reasonable doubt." This is a 
 * foundational constraint designed to protect individuals from the 
 * overwhelming power of the state, codifying the principle that it is better 
 * for ten guilty persons to escape than for one innocent to suffer.
 * * KEY AGENTS:
 * - The Defendant: Individual powerless; subject to the state's accusation and potential loss of liberty.
 * - The Prosecutor: Institutional; represents the state and carries the weight of proving the charge.
 * - The Juror: Analytical; the immediate arbiter of whether the burden has been met.
 * * NARRATIVE ARC:
 * Unlike the engineering variety which extracts safety to meet schedules, 
 * the legal burden acts as a Rope (coordination) for the state but a 
 * Mountain (unchangeable protection) for the accused. It defines the 
 * "rules of the game" for civil society to ensure the state's power is 
 * not used as a Snare against its citizens.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(criminal_trial_sequence, 0, 10).
narrative_ontology:constraint_claim(burden_of_proof_legal_criminal, rope).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.1. Low extraction; the burden is designed to *prevent* % extraction (wrongful imprisonment) rather than facilitate it.
domain_priors:base_extractiveness(burden_of_proof_legal_criminal, 0.1).

% Suppression score (0.0-1.0)
% Rationale: 0.2. Low suppression; the legal system (ideally) allows for 
% all relevant evidence and alternative theories of the crime to be presented.
domain_priors:suppression_score(burden_of_proof_legal_criminal, 0.2).

% Enforcement requirements
% Requires active enforcement: Judges must instruct juries, and appellate 
% courts must review if the burden was properly applied.
domain_priors:requires_active_enforcement(burden_of_proof_legal_criminal).

% Metrics required for Section 1 of the Executive Summary
% BENEFICIARIES & VICTIMS
constraint_beneficiary(burden_of_proof_legal_criminal, civil_liberties).
constraint_beneficiary(burden_of_proof_legal_criminal, the_accused).
constraint_victim(burden_of_proof_legal_criminal, prosecutorial_efficiency).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DEFENDANT - Mountain
   --------------------------------------------------------------------------
   
   WHO: powerless - Facing the state's resources; cannot change the law.
   WHEN: immediate - The duration of the trial and potential sentencing.
   WHERE: trapped - Bound by the court's jurisdiction and the finality of the verdict.
   SCOPE: local - Impact on their specific life and liberty.
   
   WHY THIS CLASSIFICATION:
   For the defendant, the high burden of proof is an unchangeable Mountain 
   of protection. They do not have to "do" anything for it to exist; it is 
   a pre-existing feature of the legal landscape that the state must climb 
   over to reach them.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_legal_criminal,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(burden_of_proof_legal_criminal),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE PROSECUTOR - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making and rule-applying power representing the state.
   WHEN: biographical - Careers built on the successful navigation of trials.
   WHERE: mobile - Can choose which cases to bring based on evidence strength.
   SCOPE: national - Operating within a country's legal framework.
   
   WHY THIS CLASSIFICATION:
   For the prosecutor, the burden of proof is a Rope—a coordination mechanism. 
   It tells them how much evidence they must gather and how to structure 
   their narrative to gain a conviction. It is a functional tool that 
   standardizes the state's exercise of power.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_legal_criminal,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(burden_of_proof_legal_criminal, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE JUROR - Analytical
   --------------------------------------------------------------------------
   
   WHO: analytical - Temporary citizen-judge tasked with weighing the evidence.
   WHEN: immediate - Limited to the evidence presented during the trial.
   WHERE: analytical - Not personally trapped by the outcome, but morally bound.
   SCOPE: local - A single specific case and defendant.
   
   WHY THIS CLASSIFICATION:
   The juror views the burden as a Rope (standard) they must use to measure 
   the truth. It is the objective scale upon which they place the 
   prosecution's case.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_legal_criminal,
    rope,
    context(
        agent_power(analytical),
        time_horizon(immediate),
        exit_options(analytical),
        spatial_scope(local)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DEFENDANT (ACCUSED) - Snare
   --------------------------------------------------------------------------
   WHO: powerless - Subject to the overwhelming power of the state.
   WHEN: immediate - The duration of the trial and pre-trial detention.
   WHERE: trapped - Bound by the legal process with no meaningful exit.
   SCOPE: local - The individual's life, liberty, and financial solvency.
   
   WHY THIS CLASSIFICATION:
   The "Snare" is the process of prosecution. While "Beyond a Reasonable Doubt"
   is a protection, the individual must still survive the state's extraction of 
   their resources, time, and reputation. For the defendant, the high burden 
   is not a "tool" they use, but a narrow opening in a trap that otherwise 
   seeks their total suppression within the penal system.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_legal_criminal,
    snare,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:suppression_score(burden_of_proof_legal_criminal, S),
    S > 0.3.

% Explicit priors reflecting the high stakes and resource cost for the defendant.
domain_priors:base_extractiveness(burden_of_proof_legal_criminal, 0.4).
domain_priors:suppression_score(burden_of_proof_legal_criminal, 0.5).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(burden_of_proof_legal_criminal, extractiveness, 0.1).
narrative_ontology:constraint_metric(burden_of_proof_legal_criminal, suppression_requirement, 0.2).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(legal_burden_of_proof_tests).

test(multi_perspective_variance) :-
    % Defendant (Mountain) vs Prosecutor (Rope)
    constraint_indexing:constraint_classification(burden_of_proof_legal_criminal, T1, context(powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(burden_of_proof_legal_criminal, T2, context(institutional, biographical, mobile, national)),
    T1 \= T2.

test(anti_extraction_nature) :-
    % High extractiveness would imply a Snare; legal burden should be low.
    domain_priors:base_extractiveness(burden_of_proof_legal_criminal, E),
    E < 0.2.

:- end_tests(legal_burden_of_proof_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. DOMAIN ISOLATION: This is a **legal/social** burden of proof. It differs 
 * from the **engineering** variety because it is designed to increase 
 * friction against state action (protecting the subject), whereas the 
 * Challenger-style burden reversal decreased friction against risky 
 * activity (extracting safety).
 * * 2. CLASSIFICATION: Primarily labeled as 'Rope' because it is the 
 * quintessential coordination tool for a fair society.
 * * 3. EXTRACTIVENESS: Set to 0.1 because its primary function is protective.
 */

omega_variable(
    subjective_certainty_threshold,
    "Is 'Beyond a Reasonable Doubt' an objective mathematical threshold or 
     an irreducible psychological state of the juror?",
    resolution_mechanism("Comparative neuro-legal studies on juror brain states during verdict deliberation"),
    impact("If Objective: The burden is a Rope. If Subjective: The burden 
            is a persistent psychological Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Preponderance of the Evidence
 * Viability: Used in civil law (51% certainty). Highly viable but 
 * rejected in criminal law because the stakes (liberty) are too high.
 * Suppression: Suppressed by Constitutional protections and centuries 
 * of common law tradition.
 * * CONCLUSION:
 * The existence of lower burdens (preponderance, clear and convincing) 
 * demonstrates that the high criminal burden is an intentional 
 * institutional choice (Rope) designed to safeguard the individual.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [burden_of_proof_legal_criminal].
% 2. Analyze: ?- multi_index_report(burden_of_proof_legal_criminal).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: burden_of_proof_scientific_empirical
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Statistical Significance and the Scientific Method (p < 0.05)
% ============================================================================

:- module(constraint_scientific_burden_of_proof, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: burden_of_proof_scientific_empirical
 * human_readable: Statistical Significance (The $p < 0.05$ Threshold)
 * domain: technological/social
 * temporal_scope: 1925-Present (Post-Fisherian Statistics)
 * spatial_scope: Global (Scientific Community)
 * * SUMMARY:
 * In the empirical sciences, the burden of proof is codified through 
 * statistical significance, typically requiring a p-value of less than 0.05 
 * to reject the null hypothesis. This variety of the burden is designed to 
 * filter out random noise and ensure that "claims to truth" are reproducible 
 * and grounded in mathematical probability rather than anecdotal observation.
 * * KEY AGENTS:
 * - The PhD Candidate: Individual powerless; must achieve the threshold to 
 * publish and graduate.
 * - The Journal Editor/Peer Reviewer: Institutional; enforcers of the 
 * statistical "gold standard."
 * - The Meta-Analyst: Analytical; examines the aggregate behavior of the 
 * threshold (e.g., the "replication crisis").
 * * NARRATIVE ARC:
 * Originally established as a Rope (a functional coordination tool for 
 * researchers), the $p < 0.05$ threshold has occasionally mutated into a 
 * Snare (p-hacking and publication bias). For the individual researcher, 
 * it remains a Mountain—an unyielding barrier that determines what 
 * enters the "record of truth."
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for [STEP 1] and [STEP 2] of the DR-Audit Suite
narrative_ontology:interval(scientific_revolution_current, 0, 10).
narrative_ontology:constraint_claim(burden_of_proof_scientific_empirical, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.3. Moderate extraction; it extracts significant time and 
% resources (failed experiments) to produce a single "truth" data point.
domain_priors:base_extractiveness(burden_of_proof_scientific_empirical, 0.3).

% Suppression score (0.0-1.0)
% Rationale: 0.6. Alternatives (Bayesian inference, effect sizes) are 
% visible but suppressed by the "prestige" and "standardization" of p-values.
domain_priors:suppression_score(burden_of_proof_scientific_empirical, 0.6).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(burden_of_proof_scientific_empirical, extractiveness, 0.3).
narrative_ontology:constraint_metric(burden_of_proof_scientific_empirical, suppression_requirement, 0.6).

% Enforcement requirements
% Requires active enforcement (Journal gatekeeping, funding requirements).
domain_priors:requires_active_enforcement(burden_of_proof_scientific_empirical).

% Metrics required for Section 1 of the Executive Summary
% BENEFICIARIES & VICTIMS
constraint_beneficiary(burden_of_proof_scientific_empirical, established_journals).
constraint_beneficiary(burden_of_proof_scientific_empirical, scientific_consensus_stability).
constraint_victim(burden_of_proof_scientific_empirical, novel_high_risk_hypotheses).
constraint_victim(burden_of_proof_scientific_empirical, null_result_transparency).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RESEARCHER - Mountain
   --------------------------------------------------------------------------
   
   WHO: powerless - Subject to the threshold for career advancement.
   WHEN: immediate - The duration of a single grant or study.
   WHERE: trapped - Bound by the statistical norms of their specific field.
   SCOPE: local - A single experiment or paper.
   
   WHY THIS CLASSIFICATION:
   To the researcher, $p < 0.05$ is a Mountain. You cannot "argue" with your 
   data set's p-value at the end of a study. If the value is 0.06, the path 
   to publication is blocked by an unchangeable feature of the institutional 
   landscape.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_scientific_empirical,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(burden_of_proof_scientific_empirical),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: SCIENTIFIC COMMUNITY - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power through consensus and peer review.
   WHEN: generational - Building a body of knowledge over decades.
   WHERE: mobile - Can (and does) shift standards (e.g., moving to $p < 0.005$ in physics).
   SCOPE: global - Universal language of science.
   
   WHY THIS CLASSIFICATION:
   For the collective community, the burden of proof is a Rope—a necessary 
   coordination mechanism. It allows a chemist in Tokyo to evaluate a 
   study from Brazil using a shared metric of "trust," preventing the 
   system from being flooded by false positives.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_scientific_empirical,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(burden_of_proof_scientific_empirical, E),
    E < 0.5,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE META-ANALYST - Snare
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the system's aggregate failures.
   WHEN: historical - Examining the "replication crisis" of the 2010s-2020s.
   WHERE: analytical - Not incentivized to "publish or perish."
   SCOPE: global - Impact on the credibility of science as a whole.
   
   WHY THIS CLASSIFICATION:
   The meta-analyst identifies the Snare. The rigid $p < 0.05$ threshold 
   incentivizes p-hacking and the "file drawer problem" (suppression of 
   null results), extracting the actual truth of scientific inquiry to 
   satisfy the "extractive" requirement of novel results.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    burden_of_proof_scientific_empirical,
    snare,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(burden_of_proof_scientific_empirical, S),
    S > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(scientific_burden_of_proof_tests).

test(multi_perspective_gap) :-
    % Researcher (Mountain) vs Community (Rope) vs Meta-Analyst (Snare)
    constraint_indexing:constraint_classification(burden_of_proof_scientific_empirical, T1, context(powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(burden_of_proof_scientific_empirical, T2, context(institutional, generational, mobile, global)),
    constraint_indexing:constraint_classification(burden_of_proof_scientific_empirical, T3, context(analytical, historical, analytical, global)),
    T1 \= T2, T2 \= T3.

test(suppression_impact_on_truth) :-
    domain_priors:suppression_score(burden_of_proof_scientific_empirical, S),
    S > 0.5.

:- end_tests(scientific_burden_of_proof_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. DOMAIN ISOLATION: This is the **scientific/empirical** variety. It 
 * differs from the **legal** variety (which focuses on liberty) and the 
 * **engineering** variety (which focuses on safety) by focusing on 
 * **epistemic certainty**.
 * * 2. CLASSIFICATION: I primary-labeled this as 'Mountain' for the 
 * individual because of the unyielding nature of the "0.05" line in 
 * professional survival.
 * * 3. EXTRACTIVENESS: Set to 0.3; it is not purely extractive like the 
 * Challenger failure, but it does "waste" labor on studies that fall 
 * just outside the threshold.
 */

omega_variable(
    arbitrary_threshold_logic,
    "Is there a mathematical basis for 0.05, or is it a historical 'Mountain' 
     that has become a 'Snare' through inertia?",
    resolution_mechanism("Simulate scientific progress across various alpha-level thresholds (0.01, 0.05, 0.10)"),
    impact("If Arbitrary: The burden is a Snare. If Optimally Predictive: 
            It is a vital Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Bayesian Inference (Credible Intervals)
 * Viability: High; allows for a continuous measure of belief rather than 
 * a binary pass/fail.
 * Suppression: Suppressed by the "Standard" infrastructure of statistical 
 * software, textbooks, and reviewer expectations.
 * * CONCLUSION:
 * The difficulty of switching to Bayesian methods, despite their technical 
 * advantages, shows that $p < 0.05$ has moved from a Rope to a Mountain 
 * for most researchers.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [burden_of_proof_scientific_empirical].
% 2. Analyze: ?- multi_index_report(burden_of_proof_scientific_empirical).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: bureaucratic_legibility_collapse
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-16
% ============================================================================

:- module(constraint_bureaucratic_legibility_collapse, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bureaucratic_legibility_collapse
 * human_readable: The Administrative Whiteout
 * domain: political/organizational/informational
 * * SUMMARY:
 * A scenario where the metrics used by an institution to "see" and manage its
 * domain become so decoupled from reality that the institution's actions
 * produce the opposite of their intended effects. This "Rope" for
 * large-scale governance becomes a "Snare" as the subject's reality is
 * erased by the system's map, liquidating their ability to provide
 * meaningful feedback or exit the failing administrative logic.
 * * KEY AGENTS:
 * - Field Practitioner: Subject (Powerless)
 * - Central Planning Bureau: Beneficiary (Institutional)
 * - Information Systems Auditor: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% High extraction (0.86) as the collapse of legibility siphons the subject's
% real-world effort into the maintenance of non-functional reporting
% structures that no longer track the actual territory.
domain_priors:base_extractiveness(bureaucratic_legibility_collapse, 0.86).
domain_priors:suppression_score(bureaucratic_legibility_collapse, 0.74).
domain_priors:theater_ratio(bureaucratic_legibility_collapse, 0.92). % Extreme theater: meticulous metrics masking zero situational awareness.

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(bureaucratic_legibility_collapse, extractiveness, 0.86).
narrative_ontology:constraint_metric(bureaucratic_legibility_collapse, suppression_requirement, 0.74).
narrative_ontology:constraint_metric(bureaucratic_legibility_collapse, theater_ratio, 0.92).

% Constraint self-claim: The institution claims this is a necessary coordination tool.
narrative_ontology:constraint_claim(bureaucratic_legibility_collapse, coordination).

% Binary flags and structural properties for Tangled Rope classification.
domain_priors:requires_active_enforcement(bureaucratic_legibility_collapse).
narrative_ontology:constraint_beneficiary(bureaucratic_legibility_collapse, central_planning_bureau).
narrative_ontology:constraint_victim(bureaucratic_legibility_collapse, field_practitioners).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The subject is trapped: their actual problems are illegible to the
% system, and they are punished for deviations from the "official" (false) data.
constraint_indexing:constraint_classification(bureaucratic_legibility_collapse, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The institution views the metrics as a Rope—the only way to coordinate
% behavior across a vast and diverse population from a centralized point.
constraint_indexing:constraint_classification(bureaucratic_legibility_collapse, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Detects the combination of a coordination function (beneficiary exists),
% asymmetric extraction (victim exists), and active enforcement. The high
% extraction and suppression confirm the Tangled Rope classification.
constraint_indexing:constraint_classification(bureaucratic_legibility_collapse, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(bureaucratic_legibility_collapse_tests).

test(perspectival_gap) :-
    % Verify Snare for the subject vs Rope for the institutional planner.
    constraint_indexing:constraint_classification(bureaucratic_legibility_collapse, snare,
        context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(bureaucratic_legibility_collapse, rope,
        context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(bureaucratic_legibility_collapse, tangled_rope,
        context(agent_power(analytical), _, _, _)).

test(tangled_rope_structural_properties) :-
    % Verify that all three required properties for Tangled Rope are present.
    narrative_ontology:constraint_beneficiary(bureaucratic_legibility_collapse, _), % derives has_coordination_function
    narrative_ontology:constraint_victim(bureaucratic_legibility_collapse, _),     % derives has_asymmetric_extraction
    domain_priors:requires_active_enforcement(bureaucratic_legibility_collapse).

test(extraction_mandatrophy) :-
    % Ensure extraction (0.86) triggers mandatory v3.4 resolution logic.
    domain_priors:base_extractiveness(bureaucratic_legibility_collapse, E),
    E > 0.70.

:- end_tests(bureaucratic_legibility_collapse_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * This constraint models a system suffering from severe Goodhart Drift. The
 * extraction score (0.86) is high because the effort required to maintain the
 * false reality of the metrics is immense, directly siphoning resources and
 * agency from those on the ground. The theater ratio (0.92) is also extremely
 * high, indicating that the system's activities are almost entirely performative.
 *
 * While the high theater ratio might suggest a Piton, the extremely high
 * base extractiveness (0.86) makes that classification invalid (Piton requires ε <= 0.10).
 * Instead, the system is best classified as a Tangled Rope from an analytical
 * perspective. It retains the structure of a coordination mechanism (it has
 * beneficiaries and a coordination claim) but has become pathologically
 * extractive and coercive. The high theater ratio is a symptom of its dysfunction,
 * not a reclassification.
 *
 * * PERSPECTIVAL GAP:
 * The Field Practitioner experiences a Snare because they must lie on reports
 * to make their work "count," and are punished for non-compliance. The Central
 * Bureau sees a Rope because the aggregated (false) metrics are the only thing
 * that allows for the coordination of large-scale budgets and personnel.
 *
 * * [RESOLVED MANDATROPHY]:
 * The Mandatrophy is resolved by the Tangled Rope classification. This prevents
 * the system from being misclassified as a pure Snare (which would ignore its
 * coordination origins and structure) or a Piton (which would ignore the massive,
 * ongoing extraction). It correctly identifies the hybrid nature of a failed
 * coordination system that has become parasitic.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Required for high-extraction constraints (> 0.46).
omega_variable(
    omega_reality_reconnection,
    'Can decentralized feedback loops restore legibility, or is hierarchy an irreducible barrier (Snare vs Mountain)?',
    'Tracking the delta between local practitioner reports and central bureau metrics after a policy shock.',
    'If delta shrinks: Tangled Rope of current design. If delta grows: Mountain of Informational Entropy.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(bureaucratic_legibility_collapse, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% This constraint models a system that degraded over time, starting as a
% functional coordination mechanism and collapsing into a performative,
% extractive state.
%
% Theater ratio over time (triggers metric_substitution detection):
narrative_ontology:measurement(blc_tr_t0, bureaucratic_legibility_collapse, theater_ratio, 0, 0.15).
narrative_ontology:measurement(blc_tr_t5, bureaucratic_legibility_collapse, theater_ratio, 5, 0.55).
narrative_ontology:measurement(blc_tr_t10, bureaucratic_legibility_collapse, theater_ratio, 10, 0.92).

% Extraction over time (triggers extraction_accumulation detection):
narrative_ontology:measurement(blc_ex_t0, bureaucratic_legibility_collapse, base_extractiveness, 0, 0.25).
narrative_ontology:measurement(blc_ex_t5, bureaucratic_legibility_collapse, base_extractiveness, 5, 0.60).
narrative_ontology:measurement(blc_ex_t10, bureaucratic_legibility_collapse, base_extractiveness, 10, 0.86).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type: The metrics are used to allocate budgets and personnel.
narrative_ontology:coordination_type(bureaucratic_legibility_collapse, resource_allocation).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: bureaucratic_self_preservation
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-29
% ============================================================================

:- module(constraint_bureaucratic_self_preservation, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bureaucratic_self_preservation
 * human_readable: The Inertial Office
 * domain: political
 * * SUMMARY:
 * A phenomenon where an administrative body prioritizes its own survival and 
 * budget growth over its original mission. It creates complex, extractive 
 * processes that serve to justify its existence, eventually outliving its 
 * utility and becoming a Piton.
 * * KEY AGENTS:
 * - The Applicant: Subject (Powerless) - Navigating dead-end paperwork.
 * - The Bureau Chief: Beneficiary (Institutional) - Maintaining headcounts and budget.
 * - The Auditor: Auditor (Analytical) - Observing the efficiency decay and theatrical compliance.
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(bureaucratic_self_preservation, 0.72). % Snare extraction >= 0.46
domain_priors:suppression_score(bureaucratic_self_preservation, 0.80).   % High due to monopoly on a required service/permit.
domain_priors:theater_ratio(bureaucratic_self_preservation, 0.85).       % Piton detection (>= 0.70)

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(bureaucratic_self_preservation, extractiveness, 0.72).
narrative_ontology:constraint_metric(bureaucratic_self_preservation, suppression_requirement, 0.80).
narrative_ontology:constraint_metric(bureaucratic_self_preservation, theater_ratio, 0.85).

% Constraint self-claim (what does the constraint claim to be?)
narrative_ontology:constraint_claim(bureaucratic_self_preservation, coordination).

% Binary flags
domain_priors:requires_active_enforcement(bureaucratic_self_preservation).

% Structural property derivation hooks:
narrative_ontology:constraint_beneficiary(bureaucratic_self_preservation, senior_bureaucrats).
narrative_ontology:constraint_victim(bureaucratic_self_preservation, public_applicants).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The applicant experiences the bureaucracy as a predatory trap of red tape,
% where χ = 0.72 * 1.5 (powerless) * 1.0 (national) = 1.08.
constraint_indexing:constraint_classification(bureaucratic_self_preservation, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The bureau chief sees the rules as essential coordination ("due process"),
% experiencing negative extraction (benefit): χ = 0.72 * -0.2 (institutional) * 1.0 (national) = -0.144.
constraint_indexing:constraint_classification(bureaucratic_self_preservation, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(national))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (PITON)
% The auditor classifies it as a Piton, where the original function has atrophied,
% evidenced by the extremely high theater_ratio (0.85), which overrides the high extraction.
constraint_indexing:constraint_classification(bureaucratic_self_preservation, piton,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))) :-
    domain_priors:theater_ratio(bureaucratic_self_preservation, TR), TR > 0.70.

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(bureaucratic_self_preservation_tests).

test(perspectival_gap) :-
    % Verify there is a perspectival gap between powerless (snare) and institutional (rope).
    constraint_indexing:constraint_classification(bureaucratic_self_preservation, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(bureaucratic_self_preservation, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(bureaucratic_self_preservation, piton, context(agent_power(analytical), _, _, _)).

test(piton_detection_by_theater) :-
    % Verify the analytical observer sees the Piton due to high theater_ratio.
    domain_priors:theater_ratio(bureaucratic_self_preservation, TR),
    TR >= 0.70,
    constraint_indexing:constraint_classification(bureaucratic_self_preservation, piton, context(agent_power(analytical), _, _, _)).

:- end_tests(bureaucratic_self_preservation_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The base_extractiveness is very high (0.72) because the bureaucracy absorbs 
 * significant public resources (time, fees, tax funding) relative to its stated 
 * mission's output. Suppression is high (0.80) as it's often a state-mandated 
 * monopoly for a necessary service or permit. The key feature is the extremely
 * high theater_ratio (0.85), indicating most activity is performative (e.g.,
 * generating reports, holding meetings) rather than functional.
 *
 * PERSPECTIVAL GAP:
 * The gap is stark: the applicant sees a Snare (a costly, pointless trap), while
 * the institutional beneficiary sees a Rope (a necessary coordination tool that
 * justifies their employment and budget). The analytical observer, however, uses
 * the high theater_ratio to correctly identify it as a Piton—a structure that
 * has lost its original purpose but remains due to institutional inertia.
 *
 * MANDATROPHY ANALYSIS: [RESOLVED MANDATROPHY]
 * The high extraction (0.72) could suggest a Tangled Rope or Snare. However,
 * the system resolves this ambiguity using the theater_ratio. A theater_ratio
 * of 0.85 strongly indicates that the constraint's primary function is no longer
 * coordination or extraction for an external goal, but its own self-perpetuation.
 * This correctly classifies it as a Piton, a decayed form of a previous constraint,
 * thus resolving the mandatrophy.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_bureaucratic_self_preservation,
    'Is the bureaucratic complexity a result of legislative mandate (external) or internal procedural expansion for self-preservation (internal)?',
    'An audit comparing the agency''s internal rulebook against the explicit requirements of its founding legislation.',
    'If external, the constraint is closer to a Tangled Rope created by policy. If internal, it is a pure Piton of institutional decay.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(bureaucratic_self_preservation, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% This bureaucracy began as a functional entity but decayed over time,
% accumulating extraction and substituting theatrical activity for real work.
% This data is required because base_extractiveness > 0.46.

% Theater ratio over time (triggers metric_substitution detection):
narrative_ontology:measurement(bsp_tr_t0, bureaucratic_self_preservation, theater_ratio, 0, 0.10).
narrative_ontology:measurement(bsp_tr_t5, bureaucratic_self_preservation, theater_ratio, 5, 0.50).
narrative_ontology:measurement(bsp_tr_t10, bureaucratic_self_preservation, theater_ratio, 10, 0.85).

% Extraction over time (triggers extraction_accumulation detection):
narrative_ontology:measurement(bsp_ex_t0, bureaucratic_self_preservation, base_extractiveness, 0, 0.25).
narrative_ontology:measurement(bsp_ex_t5, bureaucratic_self_preservation, base_extractiveness, 5, 0.55).
narrative_ontology:measurement(bsp_ex_t10, bureaucratic_self_preservation, base_extractiveness, 10, 0.72).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% A bureaucracy's function is often to manage and distribute resources or permits.
narrative_ontology:coordination_type(bureaucratic_self_preservation, resource_allocation).

% Network relationships (structural influence edges)
% Inertial bureaucracies can enable other forms of institutional failure.
narrative_ontology:affects_constraint(bureaucratic_self_preservation, regulatory_capture).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: bushman_money_magic
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-05-22
% ============================================================================

:- module(constraint_bushman_money_magic, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: bushman_money_magic
 * human_readable: The Trickster's Asymmetric Scam
 * domain: economic/social
 * * SUMMARY:
 * This constraint represents a "magic scam" where a trickster figure (Jackal) utilizes
 * deception and temporary narrative control to extract wealth from victims (cattle ranchers).
 * It functions by hiding physical causality (fire under sand, money in a donkey) to present
 * a "magic" alternative that appears highly beneficial but is functionally empty. The
 * constraint is the temporary information asymmetry that enables the fraudulent exchange.
 * * KEY AGENTS:
 * - Jackal (The Trickster): Beneficiary; constructs the "magic" constraint to extract wealth.
 * - Cattle Ranchers (The Victims): Subjects who "agree" to the asymmetric exchange due to greed and suppressed context.
 * - Anthropologist: Analytical observer viewing the event as an archetype.
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
% Rationale: High (0.9). The exchange is entirely one-sided; Jackal extracts wealth
% in exchange for zero functional value.
domain_priors:base_extractiveness(bushman_money_magic, 0.90).
% Rationale: High (0.8). The physical reality (the fire under the sand) is
% actively hidden to maintain the "magic" narrative. The truth is suppressed.
domain_priors:suppression_score(bushman_money_magic, 0.80).
% Rationale: Low (0.1). The performance is the function of the scam, not a
% substitute for a decayed function. There is no institutional theater here.
domain_priors:theater_ratio(bushman_money_magic, 0.10).

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(bushman_money_magic, extractiveness, 0.90).
narrative_ontology:constraint_metric(bushman_money_magic, suppression_requirement, 0.80).
narrative_ontology:constraint_metric(bushman_money_magic, theater_ratio, 0.10).

% Constraint self-claim (what does the constraint claim to be?)
% The scam is a constructed reality, not a natural law or a coordination tool.
narrative_ontology:constraint_claim(bushman_money_magic, constructed).

% Binary flags
% The scam requires Jackal's active performance to maintain the illusion.
domain_priors:requires_active_enforcement(bushman_money_magic).

% Structural property derivation hooks:
narrative_ontology:constraint_beneficiary(bushman_money_magic, jackal_the_trickster).
narrative_ontology:constraint_victim(bushman_money_magic, cattle_ranchers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   Scope modifiers: local=0.8, regional=0.9, national=1.0,
                    continental=1.1, global=1.2, universal=1.0.
   ========================================================================== */

% PERSPECTIVE 1: THE VICTIMS (CATTLE RANCHERS) - SNARE
% The scam is a Snare. The ranchers "agree" to the rules, but those rules
% systematically extract their wealth while providing a "magic" illusion that
% tightens their loss. They are trapped by the trickster's narrative control.
constraint_indexing:constraint_classification(bushman_money_magic, snare,
    context(agent_power(powerless),
            time_horizon(immediate),
            exit_options(trapped),
            spatial_scope(local))).

% PERSPECTIVE 2: THE BENEFICIARY (JACKAL) - ROPE
% For Jackal, the "magic" items are a "Rope"—a functional coordination mechanism
% he uses to pull resources from the ranchers to himself. It is a tool of agency
% to achieve a "full belly" in the desert.
constraint_indexing:constraint_classification(bushman_money_magic, rope,
    context(agent_power(institutional),
            time_horizon(immediate),
            exit_options(mobile),
            spatial_scope(local))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (ANTHROPOLOGIST) - MOUNTAIN
% To the observer, the "scam" is a "Mountain"—an immutable feature of human
% social systems where information asymmetry and greed inevitably produce
% asymmetric extraction. It is a natural law of social interaction.
constraint_indexing:constraint_classification(bushman_money_magic, mountain,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(bushman_money_magic_tests).

test(perspectival_gap) :-
    % Verify there is a perspectival gap between powerless and institutional.
    constraint_indexing:constraint_classification(bushman_money_magic, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(bushman_money_magic, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless \= TypeInstitutional,
    TypePowerless == snare,
    TypeInstitutional == rope.

test(analytical_perspective) :-
    % Verify the analytical observer sees a Mountain.
    constraint_indexing:constraint_classification(bushman_money_magic, mountain, context(agent_power(analytical), _, _, _)).

test(threshold_validation_snare) :-
    % Verify the base metrics align with a high-extraction constraint.
    domain_priors:base_extractiveness(bushman_money_magic, E),
    domain_priors:suppression_score(bushman_money_magic, S),
    E >= 0.46,
    S >= 0.60.

:- end_tests(bushman_money_magic_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The scores reflect a classic predatory scam. Base extractiveness is 0.90 because the
 * exchange is entirely one-sided, with the ranchers losing all their investment for
 * zero functional value. Suppression is 0.80 because the scam's existence depends
 * entirely on actively hiding the physical truth (the fire, the hidden money). Theater
 * ratio is low (0.10) because the performance *is* the function; it is not a decayed
 * ritual replacing a lost function.
 *
 * The Perspectival Gap is stark:
 * - For the Ranchers (powerless, trapped), it's a Snare. They are caught by a promise
 *   that extracts their resources.
 * - For Jackal (institutional, mobile), it's a Rope. He is the rule-maker of this
 *   micro-system, and the scam is his tool for survival/extraction.
 * - For the Analyst (analytical, civilizational), the specific event is an instance of
 *   a timeless pattern of deception, an immutable feature of social dynamics, hence a Mountain.
 *
 * * MANDATROPHY ANALYSIS:
 * [RESOLVED MANDATROPHY] This is a clear case of a Snare, not a Tangled Rope. While Jackal
 * benefits, there is no genuine coordination function for a wider group. The system
 * correctly identifies the perspectival gap where the beneficiary sees a tool (Rope)
 * and the victim sees a trap (Snare), while the analytical view classifies it based on
 * its high-extraction, high-suppression metrics. The Mountain classification from the
 * analytical perspective is an interesting edge case, reflecting the view that "there will
 * always be tricksters," treating the archetype itself as a natural law.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Mandatory Omega for high-extraction constraints:
omega_variable(
    omega_bushman_money_magic_1,
    "Is Jackal's scam a functional necessity for survival in a hyper-arid 'Empty Quarter' or an intentional predatory choice?",
    "Audit of Jackal's resource alternatives vs. the frequency of the 'trickster' behavior in the folklore.",
    "If necessity: Survival Mountain. If predatory choice: Mandatrophy Snare.",
    confidence_without_resolution(medium)
).

omega_variable(
    omega_bushman_money_magic_2,
    "Do the ranchers learn to bypass the trickster in the next encounter, or is their greed a fixed trait that can always be exploited?",
    "Follow-up on 'successive occasions' of ranchers meeting Jackal in the narrative corpus.",
    "If they learn: Trickery is a temporary Snare. If not: It is a systemic Mountain of human behavior.",
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(bushman_money_magic, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data for high-extraction constraints (E > 0.46).
% The scam is a singular, stable event. The metrics do not drift over its short lifecycle.
%
% Theater ratio over time (stable and low):
narrative_ontology:measurement(bmm_tr_t0, bushman_money_magic, theater_ratio, 0, 0.10).
narrative_ontology:measurement(bmm_tr_t5, bushman_money_magic, theater_ratio, 5, 0.10).
narrative_ontology:measurement(bmm_tr_t10, bushman_money_magic, theater_ratio, 10, 0.10).

% Extraction over time (stable and high):
narrative_ontology:measurement(bmm_ex_t0, bushman_money_magic, base_extractiveness, 0, 0.90).
narrative_ontology:measurement(bmm_ex_t5, bushman_money_magic, base_extractiveness, 5, 0.90).
narrative_ontology:measurement(bmm_ex_t10, bushman_money_magic, base_extractiveness, 10, 0.90).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% This constraint is a pure extraction mechanism with no genuine coordination
% function, so Boltzmann data is not applicable. It is a standalone narrative
% with no specified network relationships.

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: busy_beaver_noncomputability
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Tibor Radó (1962) / Computability Theory
% ============================================================================

:- module(constraint_busy_beaver, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: busy_beaver_noncomputability
 * human_readable: The Busy Beaver Function (Σ)
 * domain: technological/mathematical
 * temporal_scope: 1962 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Universal Logic)
 * * SUMMARY:
 * The Busy Beaver function measures the maximum number of steps a halting Turing
 * machine with $n$ states can take before stopping. It is a well-defined but
 * non-computable function that grows faster than any computable sequence
 * (exponential, factorial, or Ackermann). It represents the absolute ceiling
 * of algorithmic complexity and the price of the Halting Problem.
 * * KEY AGENTS:
 * - The Turing Machine (Subject): A powerless agent whose productivity is
 * bound by its state-count but whose limits are unknowable.
 * - The Theoretical Computer Scientist (Institutional): An agent using the
 * Busy Beaver as a "Rope" to define the boundaries of potential computation.
 * - The Brute-Force Searcher (Victim): An agent for whom the function is a
 * "Snare," as they expend infinite energy searching for values that
 * mathematics proves they can never algorithmically predict.
 * * NARRATIVE ARC:
 * The Busy Beaver is the "Mountain" of formal systems—a fixed, unyielding
 * truth of state-space geometry. In high-level logic, it is a "Rope" for
 * proving non-computability via reduction. However, for those attempting
 * to solve "provability" through exhaustive simulation, it is a "Snare"
 * that extracts time, power, and capital (extraction), eventually "strangling"
 * the project with growth so rapid it exceeds the physical resources
 * of the universe.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Structural Anchor for the Deferential Realism Auditor
narrative_ontology:interval(busy_beaver_era, 1962, 2026).
narrative_ontology:constraint_claim(busy_beaver_noncomputability, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.4. It "extracts" the possibility of universal predictive
% heuristics for code behavior. It imposes a "tax" of unknowability on
% every finite system, forcing a reliance on bounded approximations.
domain_priors:base_extractiveness(busy_beaver_noncomputability, 0.4).

% Suppression score (0.0-1.0)
% Rationale: 0.3. It suppresses the hope for "omniscience" in automated
% theorem proving, rendering the idea of a "universal optimizer"
% mathematically fraudulent.
domain_priors:suppression_score(busy_beaver_noncomputability, 0.3).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(busy_beaver_noncomputability, extractiveness, 0.4).
narrative_ontology:constraint_metric(busy_beaver_noncomputability, suppression_requirement, 0.3).

% Enforcement: Emerges naturally from the axioms of computation.
domain_priors:emerges_naturally(busy_beaver_noncomputability).

% Metrics required for Section 1 of the Executive Summary
% BENEFICIARIES & VICTIMS
constraint_beneficiary(busy_beaver_noncomputability, complexity_philosophers).
constraint_beneficiary(busy_beaver_noncomputability, logic_educators).
constraint_victim(busy_beaver_noncomputability, brute_force_optimizers).
constraint_victim(busy_beaver_noncomputability, long_term_simulators).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE 5-STATE TURING MACHINE - Mountain
   --------------------------------------------------------------------------

   WHO: powerless - The machine is slave to its transition table.
   WHEN: immediate - True every time the machine is initialized.
   WHERE: trapped - Bound within the finite states it possesses.
   SCOPE: local - Immediate read/write/move operations.

   WHY THIS CLASSIFICATION:
   For a specific machine, its maximum step count is an absolute Mountain.
   It cannot "choose" to run for $k+1$ steps if its $n$ states only allow for $k$.
   The logic of the Busy Beaver limit is a fixed feature of its mathematical
   universe, unyielding and absolute.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    busy_beaver_noncomputability,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE THEORETICAL COMPUTER SCIENTIST - Rope
   --------------------------------------------------------------------------

   WHO: institutional - Power to establish the rules of what is computable.
   WHEN: biographical - Spanning a career of research and proof-building.
   WHERE: mobile - Can adjust the "universal machine" model to explore bounds.
   SCOPE: global - Universal application in computer science.

   WHY THIS CLASSIFICATION:
   For the researcher, the function is a "Rope"—a functional coordination
   mechanism. It provides the "standard of achievement" for showing why
   the Halting Problem is hard. By mapping the "Mountain," they coordinate
   the understanding of growth rates and logical limits.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    busy_beaver_noncomputability,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EXPERIMENTAL SEARCHER - Snare
   --------------------------------------------------------------------------

   WHO: individual_moderate - Has agency to search but is bound by the growth rate.
   WHEN: historical - It may take centuries of compute to find $\Sigma(6)$ or $\Sigma(7)$.
   WHERE: constrained - No alternative but to use exponentially growing resources.
   SCOPE: global - Searching through the entire set of possible small machines.

   WHY THIS CLASSIFICATION:
   For the experimenter, the Busy Beaver is a "Snare." It "strangles"
   computational projects. Because $\Sigma(n)$ grows faster than any
   computable function, it extracts enormous energy and hardware cycles
   (extraction) while "choking" the project with the certainty that most
   machines will never be proven to halt or run forever.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    busy_beaver_noncomputability,
    snare,
    context(
        agent_power(individual_moderate),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(busy_beaver_noncomputability, E),
    E >= 0.3,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(busy_beaver_tests).

test(multi_perspective_variance) :-
    % Machine -> Mountain
    constraint_indexing:constraint_classification(busy_beaver_noncomputability, Type1, context(powerless, immediate, trapped, local)),
    % Scientist -> Rope
    constraint_indexing:constraint_classification(busy_beaver_noncomputability, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(search_extraction_penalty) :-
    % Searchers feel the 0.4 extraction of resources as a Snare.
    Context = context(individual_moderate, historical, constrained, global),
    constraint_indexing:extractiveness_for_agent(busy_beaver_noncomputability, Context, Score),
    Score >= 0.3.

test(natural_emergence) :-
    domain_priors:emerges_naturally(busy_beaver_noncomputability).

:- end_tests(busy_beaver_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.4):
 * I chose 0.4 because the Busy Beaver function is the "Apex Extractor" of
 * computability. It doesn't just take energy; it renders the very
 * concept of "finding the end" a resource-sink that grows faster than
 * the universe's atoms.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Machine (Subject), Scientist (User), and Searcher (Victim)
 * to illustrate how a "Mountain" of logic becomes a "Snare" for
 * experimental verification.
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the "Provability" uncertainty—is there a fixed point where
 * our math is simply too weak to ever know $\Sigma(n)$ for a specific $n$?
 */

% YOUR OMEGAS HERE:
omega_variable(
    busy_beaver_unprovability_threshold,
    'At what value of $n$ does the specific value of $Sigma(n)$ become independent of ZFC (Mountain)?',
    resolution_mechanism('Investigation into the smallest Turing machine that simulates a search for a contradiction in ZFC.'),
    impact('If $n$ is small (e.g., <1000): The \'Snare\' of unprovability is much tighter than we hope.'),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * * ALTERNATIVE 1: Bounded Computation
 * Viability: Limiting the tape or the step-count arbitrarily.
 * Suppression: Rejected by pure theory because it breaks the Turing-completeness
 * of the "Mountain."
 * * * ALTERNATIVE 2: Hypercomputation
 * Viability: Machines that can compute the Busy Beaver in "one step" (Oracle machines).
 * Suppression: Suppressed by the "Mountain" of standard physical and logical
 * limits in our universe.
 * * CONCLUSION:
 * The absence of Alternative 2 (Hypercomputation) is exactly what makes the
 * Busy Beaver a "Mountain" of absolute logical reality for our era.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [busy_beaver_noncomputability].
 * 2. Multi-perspective: ?- multi_index_report(busy_beaver_noncomputability).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
