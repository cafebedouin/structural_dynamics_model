% ============================================================================
% CONSTRAINT STORY: abstraction_boundary_overrun
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-15
% ============================================================================

:- module(constraint_abstraction_boundary_overrun, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: abstraction_boundary_overrun
 * human_readable: The Leaky Black-Box Collapse
 * domain: technological/computational
 * * SUMMARY:
 * A scenario where a high-level system (the abstraction) fails to hide the
 * messy, low-level complexity it was designed to simplify. The
 * "leaky abstraction" causes implementation details to "overrun" the
 * boundary, forcing the user to handle variables they lack the agency
 * to control. This "Rope" for computational efficiency becomes a
 * "Snare" for the operator, as their agency is liquidated by
 * high-frequency errors emerging from a substrate they cannot see or repair.
 *
 * * KEY AGENTS:
 * - System Operator: Subject (Powerless)
 * - Abstraction Architect: Beneficiary (Institutional)
 * - Cybernetic Forensic Analyst: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% High extraction (0.81) reflects the siphoning of the subject's
% cognitive labor into managing "unhandled" low-level side effects.
domain_priors:base_extractiveness(abstraction_boundary_overrun, 0.81).
domain_priors:suppression_score(abstraction_boundary_overrun, 0.69). % Access to the underlying substrate is suppressed by "security" protocols.
domain_priors:theater_ratio(abstraction_boundary_overrun, 0.88).    % High theater: "Clean Interfaces" that performatively hide systemic instability.

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(abstraction_boundary_overrun, extractiveness, 0.81).
narrative_ontology:constraint_metric(abstraction_boundary_overrun, suppression_requirement, 0.69).
narrative_ontology:constraint_metric(abstraction_boundary_overrun, theater_ratio, 0.88).

% Constraint self-claim (what does the constraint claim to be?)
% The abstraction claims to be a pure coordination mechanism (a clean API).
narrative_ontology:constraint_claim(abstraction_boundary_overrun, coordination).

% Binary flags and structural properties for Tangled Rope classification.
domain_priors:requires_active_enforcement(abstraction_boundary_overrun). % The system architecture actively prevents access to the substrate.
narrative_ontology:constraint_beneficiary(abstraction_boundary_overrun, abstraction_architects). % Derives has_coordination_function/1.
narrative_ontology:constraint_victim(abstraction_boundary_overrun, system_operators). % Derives has_asymmetric_extraction/1.

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   Scope modifiers: local=0.8, regional=0.9, national=1.0,
                    continental=1.1, global=1.2, universal=1.0.
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The operator is trapped: the abstraction is broken, but they are forbidden
% or unable to bypass it, liquidating their ability to fix the root cause.
constraint_indexing:constraint_classification(abstraction_boundary_overrun, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The architect views the overrun as a Rope—the "cost of doing business"
% while coordinating massive system complexity via a simplified front-end.
constraint_indexing:constraint_classification(abstraction_boundary_overrun, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Detects high extraction (0.81) and suppression (0.69) masking as essential
% coordination. The system has a genuine coordination function but also
% imposes severe, asymmetric costs, requiring active enforcement to maintain.
constraint_indexing:constraint_classification(abstraction_boundary_overrun, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(abstraction_boundary_overrun_tests).

test(perspectival_gap_snare_vs_rope) :-
    % Verify the core perspectival gap between the powerless operator and the institutional architect.
    constraint_indexing:constraint_classification(abstraction_boundary_overrun, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(abstraction_boundary_overrun, rope, context(agent_power(institutional), _, _, _)).

test(analytical_observer_detects_tangled_rope) :-
    % Verify the analytical observer correctly identifies the hybrid nature of the constraint.
    constraint_indexing:constraint_classification(abstraction_boundary_overrun, tangled_rope, context(agent_power(analytical), _, _, _)).

:- end_tests(abstraction_boundary_overrun_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.81) reflects a state where the "coordination"
 * benefit of a clean API is achieved by liquidating the operator's primary
 * troubleshooting agency and cognitive bandwidth. The suppression score (0.69)
 * represents the architectural and security policies that prevent operators
 * from accessing the underlying substrate to fix problems, thus enforcing the
 * leaky abstraction. The high theater ratio (0.88) indicates that the API's
 * claim of simplicity is largely performative, hiding deep instability.
 *
 * * PERSPECTIVAL GAP:
 * The System Operator feels a Snare because they are fighting ghosts in
 * the machine that they are officially told do not exist. The Architect
 * sees a Rope because the abstraction allows thousands of users to
 * coordinate without needing to understand the underlying silicon.
 *
 * * MANDATROPHY ANALYSIS: [RESOLVED MANDATROPHY]
 * The high extraction (0.81) indicates a potential Mandatrophy state, where a
 * system's claimed purpose (coordination) is subverted by its actual function
 * (extraction). This is resolved by the Tangled Rope classification. This
 * classification correctly identifies that the system possesses BOTH a genuine
 * coordination function (benefiting architects) AND a severe, asymmetric
 * extractive component (victimizing operators). It prevents misclassification
 * as a pure Snare (which would ignore the coordination value) or a pure Rope
 * (which would ignore the crippling extraction), thus providing a precise
 * diagnosis of the system's hybrid, pathological state.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Required for high-extraction constraints (> 0.46).
omega_variable(
    omega_abstraction_leakage_limit,
    'Can a perfect abstraction exist, or is leakage a physical law of computation (making this a Mountain, not a constructed Snare)?',
    'Tracking the frequency of "low-level" errors in high-level managed environments over 15 years, correlated with system complexity.',
    'If leakage plateaus: Snare of current design. If it rises predictably with complexity: Mountain of Entropy.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(abstraction_boundary_overrun, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data enables drift detection (metric_substitution,
% extraction_accumulation) by providing measurements at multiple time points.
% Required for high-extraction constraints (base_extractiveness > 0.46).
%
% Theater ratio over time (triggers metric_substitution detection):
narrative_ontology:measurement(abstraction_boundary_overrun_tr_t0, abstraction_boundary_overrun, theater_ratio, 0, 0.70).
narrative_ontology:measurement(abstraction_boundary_overrun_tr_t5, abstraction_boundary_overrun, theater_ratio, 5, 0.80).
narrative_ontology:measurement(abstraction_boundary_overrun_tr_t10, abstraction_boundary_overrun, theater_ratio, 10, 0.88).

% Extraction over time (triggers extraction_accumulation detection):
narrative_ontology:measurement(abstraction_boundary_overrun_ex_t0, abstraction_boundary_overrun, base_extractiveness, 0, 0.75).
narrative_ontology:measurement(abstraction_boundary_overrun_ex_t5, abstraction_boundary_overrun, base_extractiveness, 5, 0.78).
narrative_ontology:measurement(abstraction_boundary_overrun_ex_t10, abstraction_boundary_overrun, base_extractiveness, 10, 0.81).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% An API or abstraction layer is a form of information standard.
narrative_ontology:coordination_type(abstraction_boundary_overrun, information_standard).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: abstraction_leakage
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-16
% ============================================================================

:- module(constraint_abstraction_leakage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: abstraction_leakage
 * human_readable: The Law of Leaky Abstractions
 * domain: technological/cognitive
 * * SUMMARY:
 * This constraint represents the failure of a simplified interface to hide the
 * underlying complexity of a system. When the abstraction "leaks," the subject
 * is forced to manage the low-level reality they were promised would be
 * automated. This creates a Snare where the subject pays for the convenience
 * of the abstraction but bears the full cognitive load of the complexity.
 * * KEY AGENTS:
 * - Application Developer: Subject (Powerless)
 * - Cloud Infrastructure Provider: Beneficiary (Institutional)
 * - Systems Reliability Engineer: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% High extraction (0.74) because the "leaked" complexity requires specialized
% labor that the abstraction was intended to eliminate, siphoning margins.
domain_priors:base_extractiveness(abstraction_leakage, 0.74).
domain_priors:suppression_score(abstraction_leakage, 0.55).
domain_priors:theater_ratio(abstraction_leakage, 0.68). % High theater: The "simple" UI remains while the backend burns.

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(abstraction_leakage, extractiveness, 0.74).
narrative_ontology:constraint_metric(abstraction_leakage, suppression_requirement, 0.55).
narrative_ontology:constraint_metric(abstraction_leakage, theater_ratio, 0.68).

% The abstraction claims to be a pure coordination/simplification tool.
narrative_ontology:constraint_claim(abstraction_leakage, coordination).

% Binary flags and structural properties for Tangled Rope classification.
% Enforcement is through the platform's terms of service and technical lock-in.
domain_priors:requires_active_enforcement(abstraction_leakage).

% Structural property derivation hooks for Tangled Rope:
%   has_coordination_function/1 is DERIVED from constraint_beneficiary/2
%   has_asymmetric_extraction/1 is DERIVED from constraint_victim/2
narrative_ontology:constraint_beneficiary(abstraction_leakage, cloud_infrastructure_provider).
narrative_ontology:constraint_victim(abstraction_leakage, application_developer).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The developer is trapped: they cannot fix the leak (it's in the provider's
% black box), but they are responsible for the resulting downtime.
constraint_indexing:constraint_classification(abstraction_leakage, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The provider views the abstraction as a Rope—it is the only way to coordinate
% millions of users onto a standardized infrastructure stack.
constraint_indexing:constraint_classification(abstraction_leakage, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Detects the combination of a genuine coordination function (beneficiary exists)
% with high, asymmetric extraction (victim exists) and active enforcement.
constraint_indexing:constraint_classification(abstraction_leakage, tangled_rope,
    context(agent_power(analytical),
            time_horizon(historical),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(abstraction_leakage_tests).

test(perspectival_gap_subject_beneficiary) :-
    % Verify the Snare vs Rope conflict for the powerless and institutional indices.
    constraint_indexing:constraint_classification(abstraction_leakage, snare,
        context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(abstraction_leakage, rope,
        context(agent_power(institutional), _, _, _)).

test(analytical_classification_is_tangled_rope) :-
    % Verify the analytical observer correctly identifies the Tangled Rope.
    constraint_indexing:constraint_classification(abstraction_leakage, tangled_rope,
        context(agent_power(analytical), _, _, _)).

test(tangled_rope_structural_properties_present) :-
    % Verify that all three required properties for Tangled Rope are declared.
    narrative_ontology:constraint_beneficiary(abstraction_leakage, _),
    narrative_ontology:constraint_victim(abstraction_leakage, _),
    domain_priors:requires_active_enforcement(abstraction_leakage).

:- end_tests(abstraction_leakage_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.74) reflects the 'Mandatrophy' threshold where
 * the abstraction no longer provides a net reduction in complexity, instead
 * imposing the cost of debugging its failures onto the user. The suppression
 * score (0.55) represents the high cost and difficulty of migrating away from
 * the provider's ecosystem (technical lock-in).
 *
 * The classification is Tangled Rope because it possesses all three required
 * properties:
 * 1. A genuine coordination function (beneficiary: provider standardizing infrastructure).
 * 2. Asymmetric extraction (victim: developer paying for a leaky service).
 * 3. Active enforcement (terms of service, API contracts, technical lock-in).
 *
 * PERSPECTIVAL GAP:
 * The Developer feels a Snare because they are billed for "Serverless"
 * while debugging server-specific TCP timeouts. The Provider sees a Rope
 * because the abstraction allows for mass-scale coordination of resources.
 *
 * [RESOLVED MANDATROPHY]:
 * Resolved by the Tangled Rope classification. This recognizes that while
 * the leakage is extractive, the abstraction layer is still a necessary
 * coordination artifact for the modern digital economy, preventing a
 * misclassification as a pure Snare.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Required for high-extraction constraints (> 0.46).
omega_variable(
    omega_abstraction_leakage_fidelity,
    'Is the leak due to poor engineering (Snare) or fundamental logic limits (Mountain)?',
    'Comparison of leakage rates across multiple distinct architecture implementations.',
    'If universal: Mountain of Complexity. If isolated: Snare of Implementation.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(abstraction_leakage, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data enables drift detection (metric_substitution,
% extraction_accumulation) by providing measurements at multiple time points.
% Model how the constraint intensified or changed across the interval.
%
% Required for high-extraction constraints (base_extractiveness > 0.46).
%
% Theater ratio over time (triggers metric_substitution detection):
narrative_ontology:measurement(abstraction_leakage_tr_t0, abstraction_leakage, theater_ratio, 0, 0.50).
narrative_ontology:measurement(abstraction_leakage_tr_t5, abstraction_leakage, theater_ratio, 5, 0.60).
narrative_ontology:measurement(abstraction_leakage_tr_t10, abstraction_leakage, theater_ratio, 10, 0.68).

% Extraction over time (triggers extraction_accumulation detection):
narrative_ontology:measurement(abstraction_leakage_ex_t0, abstraction_leakage, base_extractiveness, 0, 0.60).
narrative_ontology:measurement(abstraction_leakage_ex_t5, abstraction_leakage, base_extractiveness, 5, 0.70).
narrative_ontology:measurement(abstraction_leakage_ex_t10, abstraction_leakage, base_extractiveness, 10, 0.74).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% The abstraction acts as a standardized infrastructure layer.
narrative_ontology:coordination_type(abstraction_leakage, global_infrastructure).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: academic_fashion_modernism_2026
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-02-05
% ============================================================================

:- module(constraint_academic_fashion, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: academic_fashion_modernism_2026
 * human_readable: The Chronological Narcissism of Academic Fashion
 * domain: social/technological/educational
 * * SUMMARY:
 * This constraint maps the cultural "fashion" that mandates consenting to the 
 * "current" as the only valid mode of inquiry. It posits that academic study 
 * perpetually claims to have "only now" figured out the correct methodology 
 * for the past, thereby extracting the value of historical tradition to 
 * subsidize current institutional status.
 * * KEY AGENTS:
 * - [The Individual Scholar]: Subject (Powerless) - Must consent to "current 
 * fashion" to remain "up to date."
 * - [The Academic Institution]: Beneficiary (Institutional) - Gains authority 
 * by invalidating previous methodologies.
 * - [The Historian/Critic]: Auditor (Analytical) - Observes the cyclical nature 
 * of this "newness" claim.
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% High extraction (0.68) because the "current fashion" extracts intellectual 
% autonomy in exchange for "up to date" status.
domain_priors:base_extractiveness(academic_fashion_modernism_2026, 0.68). 

% High suppression (0.78); "consenting to the current fashion" is the 
% requirement for participation in the discourse.
domain_priors:suppression_score(academic_fashion_modernism_2026, 0.78).   

% High theater ratio (0.85); the claim that study has "only now begun" 
% is often a performative ritual of institutional re-branding.
domain_priors:theater_ratio(academic_fashion_modernism_2026, 0.85).       

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(academic_fashion_modernism_2026, extractiveness, 0.68).
narrative_ontology:constraint_metric(academic_fashion_modernism_2026, suppression_requirement, 0.78).
narrative_ontology:constraint_metric(academic_fashion_modernism_2026, theater_ratio, 0.85).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% For the scholar, fashion is a snare: failing to consent results in being 
% "out of date" and excluded from the contemporary "correct" methodology.
constraint_indexing:constraint_classification(academic_fashion_modernism_2026, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% For the institution, fashion is a rope: it coordinates the "right ways" 
% to study, ensuring peer-review stability and methodological alignment.
constraint_indexing:constraint_classification(academic_fashion_modernism_2026, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(national))).

% PERSPECTIVE 3: THE SYSTEMS AUDITOR (PITON)
% The Auditor sees a Piton: the cycle of "only now" has repeated so often 
% it has become an inertial, non-functional mechanism for actual discovery.
constraint_indexing:constraint_classification(academic_fashion_modernism_2026, piton, 
    context(agent_power(analytical), 
            time_horizon(historical), 
            exit_options(arbitrage), 
            spatial_scope(global))) :-
    domain_priors:theater_ratio(academic_fashion_modernism_2026, TR), TR > 0.70.

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(academic_fashion_tests).

test(perspectival_gap) :-
    % Subject feels the pressure to consent (Snare), Institution sees coordination (Rope).
    constraint_indexing:constraint_classification(academic_fashion_modernism_2026, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(academic_fashion_modernism_2026, rope, context(agent_power(institutional), _, _, _)).

test(theater_check) :-
    domain_priors:theater_ratio(academic_fashion_modernism_2026, TR),

    TR > 0.70. % Triggers Piton detection for the Analytical Observer.

:- end_tests(academic_fashion_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction (0.68) is driven by the demand for "consent" to the current 
 * mode as a prerequisite for status. The theater_ratio (0.85) is the core of the 
 * scenario: the "fashion" of claiming that correct study has "only now" begun 
 * is a recurring performance that masks the circularity of academic trends.
 *
 * MANDATROPHY ANALYSIS:
 * The Piton classification is essential here. Without it, the "only now" claim 
 * might be mistaken for genuine scientific progress (Rope). Labeling it a Piton 
 * identifies it as an inertial maintenance of institutional authority.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    omega_methodological_drift,
    'Is the "right way" an objective Scaffold or a purely social Snare?',
    'Analysis of the half-life of academic methodologies over 100 years.',
    'If methodologies persist, it is a Scaffold; if they vanish, it is a Snare.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

narrative_ontology:interval(academic_fashion_modernism_2026, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Model the drift from "New Methodology" (T=0) to "Old Fashion" (T=10).

% Theater ratio: Increases as the "only now" claim becomes the primary 
% justification for the study, rather than the literature itself.
narrative_ontology:measurement(af_tr_t0, academic_fashion_modernism_2026, theater_ratio, 0, 0.45).
narrative_ontology:measurement(af_tr_t5, academic_fashion_modernism_2026, theater_ratio, 5, 0.70).
narrative_ontology:measurement(af_tr_t10, academic_fashion_modernism_2026, theater_ratio, 10, 0.85).

% Extraction: Increases as the "consent" requirement for being "up to date" 
% becomes more strictly enforced through peer-review norms.
narrative_ontology:measurement(af_ex_t0, academic_fashion_modernism_2026, base_extractiveness, 0, 0.35).
narrative_ontology:measurement(af_ex_t5, academic_fashion_modernism_2026, base_extractiveness, 5, 0.55).
narrative_ontology:measurement(af_ex_t10, academic_fashion_modernism_2026, base_extractiveness, 10, 0.68).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: academic_peer_review_gatekeeping
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-02-05
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(academic_peer_review_gatekeeping, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: academic_peer_review_gatekeeping
 * human_readable: Academic Peer Review and Journal Gatekeeping
 * domain: economic/social/technological
 * * SUMMARY:
 * A system where researchers provide free labor (peer review and editing) to 
 * for-profit publishers, who then sell access to that research back to 
 * the researchers' own institutions at significant markups.
 * * KEY AGENTS:
 * - Junior Professors: Subject (Powerless) - Must publish to secure tenure.
 * - Journal Publishers: Beneficiary (Institutional) - Capture value from free labor.
 * - Library Consortia: Auditor (Analytical) - Evaluate cost-benefit of subscriptions.
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(academic_peer_review_gatekeeping, 0.75). 
domain_priors:suppression_score(academic_peer_review_gatekeeping, 0.55).   
domain_priors:theater_ratio(academic_peer_review_gatekeeping, 0.45).       

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(academic_peer_review_gatekeeping, extractiveness, 0.75).
narrative_ontology:constraint_metric(academic_peer_review_gatekeeping, suppression_requirement, 0.55).
narrative_ontology:constraint_metric(academic_peer_review_gatekeeping, theater_ratio, 0.45).

% Constraint metric facts
domain_priors:requires_active_enforcement(academic_peer_review_gatekeeping).

% Beneficiaries and Victims (Required for high-extraction constraints)
narrative_ontology:constraint_beneficiary(academic_peer_review_gatekeeping, journal_publishers).
narrative_ontology:constraint_victim(academic_peer_review_gatekeeping, junior_professors).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE JUNIOR PROFESSOR (SNARE/MOUNTAIN)
% Viewed as an immutable limit of the "publish or perish" landscape.
constraint_indexing:constraint_classification(academic_peer_review_gatekeeping, mountain, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(national))).

% PERSPECTIVE 2: THE PUBLISHER (ROPE)
% Viewed as essential infrastructure for global scientific coordination.
constraint_indexing:constraint_classification(academic_peer_review_gatekeeping, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Detects both the coordination value (peer review quality) and the high extraction.
constraint_indexing:constraint_classification(academic_peer_review_gatekeeping, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(academic_peer_review_gatekeeping_tests).

test(perspectival_gap) :-
    % Verify gap between powerless (Mountain) and institutional (Rope).
    constraint_indexing:constraint_classification(academic_peer_review_gatekeeping, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(academic_peer_review_gatekeeping, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless \= TypeInstitutional.

test(extraction_threshold) :-
    E >= 0.46. % Confirms Snare/Tangled/Mountain territory.

:- end_tests(academic_peer_review_gatekeeping_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction is rated high (0.75) because the publisher captures nearly 
 * all financial surplus of the labor provided. The suppression (0.55) reflects
 * the "Prestige Lock-in"—it is difficult for individual actors to exit to 
 * open-access alternatives without sacrificing career advancement.
 *
 * MANDATROPHY ANALYSIS:
 * Tangled Rope classification is applied by the Analytical Observer because 
 * despite high extraction, the journals still provide a genuine coordination 
 * function (standardized peer review and archiving) that has not yet been 
 * fully decoupled from the extractive business model.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    omega_academic_extraction_intent,
    'Is the 0.75 extraction a functional necessity or purely predatory?',
    'Audit of publisher profit margins vs editorial reinvestment',
    'If necessity: Mountain. If predatory: Snare.',
    confidence_without_resolution(medium)
).

omega_variable(
    omega_academic_prestige_decay,
    'Will citation metrics shift to platform-agnostic models?',
    'Tracking institutional tenure requirements for 2026-2030',
    'If shift occurs: Snare collapses to Scaffold/Rope. If not: Snare hardens.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

narrative_ontology:interval(academic_peer_review_gatekeeping, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio over time (Goodhart drift from function to prestige-theater)
narrative_ontology:measurement(academic_tr_t0, academic_peer_review_gatekeeping, theater_ratio, 0, 0.20).
narrative_ontology:measurement(academic_tr_t5, academic_peer_review_gatekeeping, theater_ratio, 5, 0.35).
narrative_ontology:measurement(academic_tr_t10, academic_peer_review_gatekeeping, theater_ratio, 10, 0.45).

% Extraction over time (Accumulation of rent-seeking via hybrid APC fees)
narrative_ontology:measurement(academic_ex_t0, academic_peer_review_gatekeeping, base_extractiveness, 0, 0.55).
narrative_ontology:measurement(academic_ex_t5, academic_peer_review_gatekeeping, base_extractiveness, 5, 0.68).
narrative_ontology:measurement(academic_ex_t10, academic_peer_review_gatekeeping, base_extractiveness, 10, 0.75).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: academic_tenure_system
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-02-05
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(academic_tenure_system, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: academic_tenure_system
 * human_readable: Academic Tenure System
 * domain: economic/social
 * * SUMMARY:
 * A system that coordinates the protection of academic freedom (Rope) while 
 * asymmetrically extracting hyper-productivity from junior faculty (Snare). 
 * * KEY AGENTS:
 * - Junior Scholar: Subject (Powerless)
 * - University Leadership: Beneficiary (Institutional)
 * - Higher-Ed Sociologist: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(academic_tenure_system, 0.75). %
domain_priors:suppression_score(academic_tenure_system, 0.60).   %
domain_priors:theater_ratio(academic_tenure_system, 0.52).       % Detected Piton drift

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(academic_tenure_system, extractiveness, 0.75).
narrative_ontology:constraint_metric(academic_tenure_system, suppression_requirement, 0.6).
narrative_ontology:constraint_metric(academic_tenure_system, theater_ratio, 0.52).

% Constraint metric facts used by classification engine
domain_priors:requires_active_enforcement(academic_tenure_system).

% Beneficiaries and Victims
narrative_ontology:constraint_beneficiary(academic_tenure_system, research_universities). %
narrative_ontology:constraint_beneficiary(academic_tenure_system, tenured_senior_faculty). %
narrative_ontology:constraint_victim(academic_tenure_system, pre_tenure_faculty_wellbeing). %
narrative_ontology:constraint_victim(academic_tenure_system, adjunct_labor_pool). %

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE JUNIOR SCHOLAR (SNARE)
constraint_indexing:constraint_classification(academic_tenure_system, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(local))). %

% PERSPECTIVE 2: UNIVERSITY LEADERSHIP (ROPE)
constraint_indexing:constraint_classification(academic_tenure_system, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(national))). %

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
constraint_indexing:constraint_classification(academic_tenure_system, tangled_rope,
    context(agent_power(analytical),
            time_horizon(historical),
            exit_options(analytical),
            spatial_scope(global))). %

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(academic_tenure_system_tests).

test(perspectival_gap) :-
    constraint_indexing:constraint_classification(academic_tenure_system, T1, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(academic_tenure_system, T2, context(agent_power(institutional), _, _, _)),
    T1 \= T2. %

:- end_tests(academic_tenure_system_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score of 0.75 reflects the "up-or-out" pressure where 
 * institutional ranking is built on the uncompensated surplus labor of 
 * pre-tenure researchers. The theater_ratio (0.52) indicates a drift toward 
 * Piton-like behavior, where administrative metrics (H-index, grant totals) 
 * begin to supersede the actual coordination of academic freedom.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    omega_tenure_extraction_intent,
    'Is the 0.75 extraction a functional necessity for intellectual rigor or a predatory bypass for senior labor?',
    'Audit of research quality vs. senior faculty teaching loads',
    'If necessity: Mountain. If predatory: Snare/Mandatrophy.',
    confidence_without_resolution(medium)
). %

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

narrative_ontology:interval(academic_tenure_system, 0, 10). %

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio over time (Proxy goals replacing real coordination)
narrative_ontology:measurement(tenure_tr_t0, academic_tenure_system, theater_ratio, 0, 0.15).
narrative_ontology:measurement(tenure_tr_t5, academic_tenure_system, theater_ratio, 5, 0.38).
narrative_ontology:measurement(tenure_tr_t10, academic_tenure_system, theater_ratio, 10, 0.52).

% Extraction over time (Intensification of pre-tenure labor requirements)
narrative_ontology:measurement(tenure_ex_t0, academic_tenure_system, base_extractiveness, 0, 0.40).
narrative_ontology:measurement(tenure_ex_t5, academic_tenure_system, base_extractiveness, 5, 0.62).
narrative_ontology:measurement(tenure_ex_t10, academic_tenure_system, base_extractiveness, 10, 0.75).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ad_fus_coordination
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-02-05
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_fus_alzheimers, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ad_fus_coordination
 * human_readable: The Focused Ultrasound Alzheimer's Intervention
 * domain: medical/neurological
 * * SUMMARY:
 * High-intensity Focused Ultrasound (FUS) is identified as a potential
 * coordination mechanism to "shake" neural circuits or protein deposits.
 * It challenges the biological Mountain that AD is incurable.
 * * KEY AGENTS:
 * - The AD Patient: Subject (Powerless)
 * - Sun Bomin / Ruijin Hospital: Beneficiary (Institutional)
 * - Global Neurology Community: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(ad_fus_coordination, 0.75). % Disease extraction
domain_priors:suppression_score(ad_fus_coordination, 0.80).   % Lack of alternatives
domain_priors:theater_ratio(ad_fus_coordination, 0.15).       % High functional focus

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(ad_fus_coordination, extractiveness, 0.75).
narrative_ontology:constraint_metric(ad_fus_coordination, suppression_requirement, 0.8).
narrative_ontology:constraint_metric(ad_fus_coordination, theater_ratio, 0.15).

% Constraint metric facts used by classification engine
domain_priors:requires_active_enforcement(ad_fus_coordination).

% Mandatory if Scaffold is used
narrative_ontology:has_sunset_clause(ad_fus_coordination).

% Beneficiaries and Victims
narrative_ontology:constraint_beneficiary(ad_fus_coordination, research_hospitals).
narrative_ontology:constraint_victim(ad_fus_coordination, alzheimers_sufferers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE "VACANT" PATIENT (SNARE)
constraint_indexing:constraint_classification(ad_fus_coordination, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(local))). %

% PERSPECTIVE 2: THE FUNCTIONAL NEUROSURGEON (ROPE)
constraint_indexing:constraint_classification(ad_fus_coordination, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(national))). %

% PERSPECTIVE 3: THE CLINICAL TRIAL AUDITOR (TANGLED ROPE)
constraint_indexing:constraint_classification(ad_fus_coordination, tangled_rope,
    context(agent_power(analytical),
            time_horizon(historical),
            exit_options(analytical),
            spatial_scope(global))). %

% PERSPECTIVE 4: THE FIRST TRIAL GROUP (SCAFFOLD)
constraint_indexing:constraint_classification(ad_fus_coordination, scaffold,
    context(agent_power(organized),
            time_horizon(immediate),
            exit_options(constrained),
            spatial_scope(regional))) :-
    narrative_ontology:has_sunset_clause(ad_fus_coordination). %

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(ad_fus_tests).

test(perspectival_gap) :-
    constraint_indexing:constraint_classification(ad_fus_coordination, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(ad_fus_coordination, rope, context(agent_power(institutional), _, _, _)).

test(scaffold_validation) :-
    narrative_ontology:has_sunset_clause(ad_fus_coordination). %

:- end_tests(ad_fus_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.75) is driven by the disease's threat to autonomy.
 * The Scaffold classification is appropriate for the early trial phase (T=immediate) 
 * as the clinical benefit must be validated against a sunset clause before 
 * becoming permanent infrastructure (Rope).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    omega_protein_shaking,
    'Does FUS clear protein deposits or merely activate circuits temporarily?',
    'Rigorous clinical trial results comparing PET scans.',
    'Clearance = Permanent Rope; Activation = Temporary Scaffold.',
    confidence_without_resolution(medium)
). %

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

narrative_ontology:interval(ad_fus_coordination, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio over time (Tracking scientific rigor vs. anecdotal hype)
narrative_ontology:measurement(ad_tr_t0, ad_fus_coordination, theater_ratio, 0, 0.45).
narrative_ontology:measurement(ad_tr_t5, ad_fus_coordination, theater_ratio, 5, 0.25).
narrative_ontology:measurement(ad_tr_t10, ad_fus_coordination, theater_ratio, 10, 0.15).

% Extraction over time (Tracking the decline of disease-driven extraction as treatment scales)
narrative_ontology:measurement(ad_ex_t0, ad_fus_coordination, base_extractiveness, 0, 0.90).
narrative_ontology:measurement(ad_ex_t5, ad_fus_coordination, base_extractiveness, 5, 0.82).
narrative_ontology:measurement(ad_ex_t10, ad_fus_coordination, base_extractiveness, 10, 0.75).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ad_synaptic_deficit
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-02-05
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(ad_synaptic_deficit, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ad_synaptic_deficit
 * human_readable: Synaptic Liquidation (Neuro-Degenerative Debt)
 * domain: biological/technological
 * * SUMMARY:
 * This constraint models the irreversible liquidation of synaptic connectivity 
 * within a biological or synthetic neural network. It tracks the drift from 
 * functional metabolic pruning (Rope) to an inescapable structural collapse 
 * (Snare) where the network's processing capacity is extracted to sustain 
 * baseline metabolic maintenance.
 * * KEY AGENTS:
 * - Neural Integrity: Subject (Powerless)
 * - Metabolic Efficiency: Beneficiary (Institutional)
 * - Systems Archaeologist: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(ad_synaptic_deficit, 0.85). 
domain_priors:suppression_score(ad_synaptic_deficit, 0.95).   % Severe suppression; no biological exit.
domain_priors:theater_ratio(ad_synaptic_deficit, 0.10).       % Primarily functional biological loss.

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(ad_synaptic_deficit, extractiveness, 0.85).
narrative_ontology:constraint_metric(ad_synaptic_deficit, suppression_requirement, 0.95).
narrative_ontology:constraint_metric(ad_synaptic_deficit, theater_ratio, 0.1).

% Mandatory keys for classification engine v3.4
% These resolve the [FAIL] Schema mismatch by anchoring the measurement keys.
domain_priors:requires_active_enforcement(ad_synaptic_deficit).

% Beneficiaries & Victims (Required for extraction > 0.46)
narrative_ontology:constraint_beneficiary(ad_synaptic_deficit, metabolic_efficiency).
narrative_ontology:constraint_victim(ad_synaptic_deficit, neural_integrity).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE INDIVIDUAL (SNARE)
% [RESOLVED PERSPECTIVAL_GAP]: Powerless agents see a predatory trap liquidating agency.
constraint_indexing:constraint_classification(ad_synaptic_deficit, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(local))).

% PERSPECTIVE 2: THE INSTITUTION (ROPE)
% [RESOLVED PERSPECTIVAL_GAP]: The system views pruning as essential coordination for survival.
constraint_indexing:constraint_classification(ad_synaptic_deficit, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(national))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (MOUNTAIN)
% [RESOLVED ONTOLOGICAL_MISMATCH]: Corrects false_summit by identifying irreducible law.
constraint_indexing:constraint_classification(ad_synaptic_deficit, mountain, 
    context(agent_power(analytical), 
            time_horizon(civilizational), 
            exit_options(analytical), 
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(ad_synaptic_deficit_tests).

test(perspectival_gap) :-
    constraint_indexing:constraint_classification(ad_synaptic_deficit, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(ad_synaptic_deficit, rope, context(agent_power(institutional), _, _, _)).

test(extraction_signature) :-
    E >= 0.80.

:- end_tests(ad_synaptic_deficit_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.85) reflects the near-total capture of synaptic agency.
 * The schema mismatch was caused by list-wrapping values in measurement/5 facts.
 * * MANDATROPHY ANALYSIS:
 * Resolved via the Rope classification for institutional agents, acknowledging 
 * that the pruning process coordinates metabolic stability even while 
 * extracting individual connectivity.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    omega_synaptic_regeneration,
    'Is the deficit a Mountain of biological decay or a Snare of metabolic mismanagement?',
    'Audit of ATP-resupply vectors in early-stage deficit cohorts.',
    'If ATP restores function: Snare. If not: Mountain.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

narrative_ontology:interval(ad_synaptic_deficit, 0, 10). 

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Fixed raw floats (Remove square brackets) to resolve [VALUE ERROR].
narrative_ontology:measurement(ad_syn_tr_t0, ad_synaptic_deficit, theater_ratio, 0, 0.10).
narrative_ontology:measurement(ad_syn_tr_t5, ad_synaptic_deficit, theater_ratio, 5, 0.10).
narrative_ontology:measurement(ad_syn_tr_t10, ad_synaptic_deficit, theater_ratio, 10, 0.10).

% Extraction: Tracking the intensification of synaptic liquidation.
narrative_ontology:measurement(ad_syn_ex_t0, ad_synaptic_deficit, base_extractiveness, 0, 0.35).
narrative_ontology:measurement(ad_syn_ex_t5, ad_synaptic_deficit, base_extractiveness, 5, 0.62).
narrative_ontology:measurement(ad_syn_ex_t10, ad_synaptic_deficit, base_extractiveness, 10, 0.85).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: adaptive_lag_trap
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-05-21
% ============================================================================

:- module(constraint_adaptive_lag_trap, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: adaptive_lag_trap
 * human_readable: The Velocity Mismatch Anchor
 * domain: economic/technological/regulatory
 * * SUMMARY:
 * A scenario where the "Rope" of institutional regulation or technical
 * standards fails to evolve at the speed of the environment it governs.
 * This coordination substrate becomes a "Snare" for the subject, as the
 * "lag" between reality and the protocol liquidates the subject's ability
 * to act effectively, trapping them in a territory of forced obsolescence
 * where they must comply with a standard that is no longer relevant or safe.
 *
 * * KEY AGENTS:
 * - Agile Innovator: Subject (Powerless)
 * - Regulatory Body: Beneficiary (Institutional)
 * - Temporal Dynamics Auditor: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% High extraction (0.83) reflects the siphoning of the subject's competitive
% surplus to maintain the "legibility" of the outdated regulatory Rope.
domain_priors:base_extractiveness(adaptive_lag_trap, 0.83).
domain_priors:suppression_score(adaptive_lag_trap, 0.71).   % Faster, un-regulated alternatives are suppressed by legal or safety mandates.
domain_priors:theater_ratio(adaptive_lag_trap, 0.89).       % High theater: "Modernization Committees" that performatively discuss updates while the lag persists.

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(adaptive_lag_trap, extractiveness, 0.83).
narrative_ontology:constraint_metric(adaptive_lag_trap, suppression_requirement, 0.71).
narrative_ontology:constraint_metric(adaptive_lag_trap, theater_ratio, 0.89).

% Constraint self-claim (what does the constraint claim to be?)
% It claims to be a coordination mechanism for stability and safety.
narrative_ontology:constraint_claim(adaptive_lag_trap, coordination).

% Binary flags and structural properties for Tangled Rope classification
domain_priors:requires_active_enforcement(adaptive_lag_trap). % Legal mandates require active enforcement.
narrative_ontology:constraint_beneficiary(adaptive_lag_trap, regulatory_body). % Derives has_coordination_function/1
narrative_ontology:constraint_victim(adaptive_lag_trap, agile_innovator). % Derives has_asymmetric_extraction/1

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The innovator is trapped: they must follow the lagging standard to remain
% legal, but doing so liquidates their primary adaptive agency.
constraint_indexing:constraint_classification(adaptive_lag_trap, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The regulator views the lag as a Rope—the essential coordination
% substrate for ensuring "stability" and "due process" in a chaotic market.
constraint_indexing:constraint_classification(adaptive_lag_trap, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Detects the hybrid nature: a genuine coordination function benefiting
% regulators, coupled with severe asymmetric extraction from innovators.
constraint_indexing:constraint_classification(adaptive_lag_trap, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

% PERSPECTIVE 4: THE SYSTEMS AUDITOR (PITON)
% This classification is triggered by the high theater ratio, indicating
% the constraint's function has become largely performative.
constraint_indexing:constraint_classification(adaptive_lag_trap, piton,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(arbitrage),
            spatial_scope(universal))) :-
    domain_priors:theater_ratio(adaptive_lag_trap, TR), TR > 0.70.

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(adaptive_lag_trap_tests).

test(perspectival_gap) :-
    % Verify Snare for the powerless innovator vs Rope for the institutional regulator.
    constraint_indexing:constraint_classification(adaptive_lag_trap, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(adaptive_lag_trap, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(adaptive_lag_trap, tangled_rope, context(agent_power(analytical), _, _, _)).

test(piton_trigger) :-
    % Ensure high theater ratio (0.89) correctly triggers the Piton classification.
    domain_priors:theater_ratio(adaptive_lag_trap, TR),
    ( TR > 0.70 ->
        constraint_indexing:constraint_classification(adaptive_lag_trap, piton, context(agent_power(analytical), _, _, _))
    ;
        \+ constraint_indexing:constraint_classification(adaptive_lag_trap, piton, context(agent_power(analytical), _, _, _))
    ).

test(tangled_rope_structural_requirements) :-
    % Verify that all three structural requirements for Tangled Rope are met.
    domain_priors:requires_active_enforcement(adaptive_lag_trap),
    narrative_ontology:constraint_beneficiary(adaptive_lag_trap, _),
    narrative_ontology:constraint_victim(adaptive_lag_trap, _).

:- end_tests(adaptive_lag_trap_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.83) is high because the cost of forced obsolescence
 * is borne entirely by the innovators, whose potential surplus is liquidated
 * to maintain a stable, legible system for the regulators. The suppression
 * score (0.71) reflects legal and market barriers that prevent innovators
 * from simply opting out. The extremely high theater ratio (0.89) captures
 * the performative nature of "modernization committees" and "update roadmaps"
 * that signal intent while preserving the extractive status quo.
 *
 * * PERSPECTIVAL GAP:
 * The gap is stark. The Agile Innovator experiences a Snare, as their core
 * competency—adaptation—is nullified by the slow-moving standard. The
 * Regulatory Body experiences a Rope, as the standard provides a crucial
 * coordination function that ensures market stability and predictability,
 * which is their primary mandate.
 *
 * * MANDATROPHY ANALYSIS: [RESOLVED MANDATROPHY]
 * The high extraction (0.83) risks Mandatrophy, where the system might
 * incorrectly classify this as a pure Snare, ignoring its coordination role.
 * This is resolved by the Tangled Rope classification from the analytical
 * perspective. Tangled Rope forces the model to acknowledge both the valid
 * coordination function (the 'Rope' part, visible to beneficiaries) and the
 * severe, asymmetric extraction (the 'Snare' part, felt by victims). It
 * prevents a false dichotomy and correctly identifies the constraint as a
 * hybrid system where coordination has been weaponized for extraction. The
 * concurrent Piton classification further refines this by showing the
 * mechanism is not just extractive but also functionally inert and maintained
 * through theatrical performance.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Required for high-extraction constraints (> 0.46).
omega_variable(
    omega_adaptive_lag_trap,
    'Is the regulatory lag an intentional feature for extraction (Tangled Rope), or an unavoidable property of complex hierarchical systems (Mountain of organizational physics)?',
    'Comparative analysis of regulatory adoption speeds in decentralized vs. centralized governance models for the same technology.',
    'If decentralized models show significantly less lag, the constraint is a constructed Tangled Rope. If lag is universal, it approaches a Mountain.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(adaptive_lag_trap, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data enables drift detection. This models the regulatory body
% becoming more performative and extractive over time as its processes fail
% to keep pace with technological change.
%
% Theater ratio over time (triggers metric_substitution detection):
narrative_ontology:measurement(adaptive_lag_trap_tr_t0, adaptive_lag_trap, theater_ratio, 0, 0.30).
narrative_ontology:measurement(adaptive_lag_trap_tr_t5, adaptive_lag_trap, theater_ratio, 5, 0.65).
narrative_ontology:measurement(adaptive_lag_trap_tr_t10, adaptive_lag_trap, theater_ratio, 10, 0.89).

% Extraction over time (triggers extraction_accumulation detection):
narrative_ontology:measurement(adaptive_lag_trap_ex_t0, adaptive_lag_trap, base_extractiveness, 0, 0.50).
narrative_ontology:measurement(adaptive_lag_trap_ex_t5, adaptive_lag_trap, base_extractiveness, 5, 0.71).
narrative_ontology:measurement(adaptive_lag_trap_ex_t10, adaptive_lag_trap, base_extractiveness, 10, 0.83).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% The constraint is a set of rules enforced by a governing body.
narrative_ontology:coordination_type(adaptive_lag_trap, enforcement_mechanism).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: adversarial_truth_decay
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-05-22
% ============================================================================

:- module(constraint_adversarial_truth_decay, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: adversarial_truth_decay
 * human_readable: The Epistemic Siege
 * domain: social/technological/political
 * * SUMMARY:
 * A scenario where the cost of generating high-fidelity misinformation via
 * generative AI is significantly lower than the cost of verifying truth. This
 * "Rope" for adversarial actors to coordinate influence operations becomes
 * a "Snare" for the public, liquidating the shared informational commons
 * and forcing subjects into a state of low-trust paralysis where
 * collective action is impossible.
 * * KEY AGENTS:
 * - Information Consumer: Subject (Powerless)
 * - Influence Architect: Beneficiary (Institutional)
 * - Epistemic Auditor: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% High extraction (0.89) because the decay liquidates the subject's ability
% to make informed decisions, siphoning their cognitive autonomy into
% a managed reality controlled by the highest-volume producer.
domain_priors:base_extractiveness(adversarial_truth_decay, 0.89).
domain_priors:suppression_score(adversarial_truth_decay, 0.78). % High suppression: factual alternatives are drowned out.
domain_priors:theater_ratio(adversarial_truth_decay, 0.94).    % Extreme theater: "fact-checking" rituals that lack the velocity to catch up.

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(adversarial_truth_decay, extractiveness, 0.89).
narrative_ontology:constraint_metric(adversarial_truth_decay, suppression_requirement, 0.78).
narrative_ontology:constraint_metric(adversarial_truth_decay, theater_ratio, 0.94).

% Constraint self-claim (what does the constraint claim to be?)
% The architects claim it's a coordination tool for sentiment, hiding its extractive nature.
narrative_ontology:constraint_claim(adversarial_truth_decay, coordination).

% Binary flags and structural properties for Tangled Rope classification.
domain_priors:requires_active_enforcement(adversarial_truth_decay). % The information flood is an active enforcement mechanism.
narrative_ontology:constraint_beneficiary(adversarial_truth_decay, influence_architects).
narrative_ontology:constraint_victim(adversarial_truth_decay, information_consumers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The consumer is trapped: verifying every piece of data is biologically
% impossible, yet acting on unverified data is increasingly dangerous.
constraint_indexing:constraint_classification(adversarial_truth_decay, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The architect views the decay as a Rope—the most efficient way to
% coordinate mass sentiment and suppress counter-narratives without
% the friction of traditional censorship.
constraint_indexing:constraint_classification(adversarial_truth_decay, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE SYSTEMS AUDITOR (PITON)
% Theater ratio (0.94) > 0.70 triggers Piton: "Truth-verification"
% protocols are an inertial spike; they provide the optics of security
% without the functional capacity to resolve the flood.
constraint_indexing:constraint_classification(adversarial_truth_decay, piton,
    context(agent_power(analytical),
            time_horizon(historical),
            exit_options(analytical),
            spatial_scope(global))).

% PERSPECTIVE 4: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Detects the hybrid nature: a coordination function for architects that
% relies on asymmetric extraction from consumers, requiring active enforcement.
constraint_indexing:constraint_classification(adversarial_truth_decay, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(arbitrage),
            spatial_scope(universal))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(adversarial_truth_decay_tests).

test(perspectival_gap) :-
    % Verify Snare for the subject vs Rope for the institutional architect.
    constraint_indexing:constraint_classification(adversarial_truth_decay, snare,
        context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(adversarial_truth_decay, rope,
        context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(adversarial_truth_decay, tangled_rope,
        context(agent_power(analytical), _, _, _)).

test(piton_trigger) :-
    % Ensure extreme theater (0.94) correctly triggers the Piton classification.
    domain_priors:theater_ratio(adversarial_truth_decay, TR), TR > 0.70,
    constraint_indexing:constraint_classification(adversarial_truth_decay, piton,
        context(agent_power(analytical), _, _, _)).

test(threshold_validation) :-
    % Ensure high extraction (0.89) is consistent with Snare/Tangled Rope.
    narrative_ontology:constraint_metric(adversarial_truth_decay, extractiveness, E),
    E >= 0.46.

:- end_tests(adversarial_truth_decay_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.89) reflects a "Mandatrophy" state where the
 * "coordination" of social consensus is achieved by liquidating the
 * subject's access to reality. The high theater ratio (0.94) represents
 * the performative, but ineffective, nature of mainstream fact-checking
 * initiatives that cannot keep pace with generative adversarial content.
 *
 * * PERSPECTIVAL GAP:
 * The Information Consumer feels a Snare because their cognitive environment
 * is weaponized against them. The Influence Architect sees a Rope because
 * the decay coordinates the dissolution of opposition and the
 * consolidation of attention. The Analytical Observer sees a Tangled Rope,
 * recognizing both the coordination function and the severe asymmetric extraction.
 *
 * * [RESOLVED MANDATROPHY]:
 * The Mandatrophy is resolved by the Tangled Rope classification. This prevents
 * the system from misclassifying the constraint as a pure Snare (ignoring its
 * coordination function for beneficiaries) or a pure Rope (ignoring the
 * devastating extraction from victims). The Piton classification from a
 * different analytical lens further clarifies the situation by highlighting
 * the failure of institutional countermeasures.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Required for high-extraction constraints (> 0.46).
omega_variable(
    omega_epistemic_velocity,
    'Can verification speed ever match generation speed (Snare vs Mountain)?',
    'Tracking the delta between "misinformation release" and "effective debunk penetration" over time.',
    'If delta is fixed: Mountain of Information Theory. If delta can shrink: Snare of current tech.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(adversarial_truth_decay, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data enables drift detection (metric_substitution,
% extraction_accumulation) by providing measurements at multiple time points.
% T=0: Pre-AI era, modest theater. T=5: Early deepfake era. T=10: Current state.

% Theater ratio rising: "fact-checking" theater intensifying over time.
narrative_ontology:measurement(adversarial_truth_decay_tr_t0, adversarial_truth_decay, theater_ratio, 0, 0.40).
narrative_ontology:measurement(adversarial_truth_decay_tr_t5, adversarial_truth_decay, theater_ratio, 5, 0.70).
narrative_ontology:measurement(adversarial_truth_decay_tr_t10, adversarial_truth_decay, theater_ratio, 10, 0.94).

% Extraction rising: information commons being progressively liquidated.
narrative_ontology:measurement(adversarial_truth_decay_ex_t0, adversarial_truth_decay, base_extractiveness, 0, 0.50).
narrative_ontology:measurement(adversarial_truth_decay_ex_t5, adversarial_truth_decay, base_extractiveness, 5, 0.72).
narrative_ontology:measurement(adversarial_truth_decay_ex_t10, adversarial_truth_decay, base_extractiveness, 10, 0.89).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% The coordination type is an enforcement mechanism: it enforces a desired
% narrative by making alternatives prohibitively expensive to find and verify.
narrative_ontology:coordination_type(adversarial_truth_decay, enforcement_mechanism).

% This constraint directly degrades the informational foundations required
% for other political and social constraints to function.
narrative_ontology:affects_constraint(adversarial_truth_decay, electoral_integrity).
narrative_ontology:affects_constraint(adversarial_truth_decay, public_health_compliance).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: adverse_possession
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Real Property Law / Common Law / Squatter's Rights
% ============================================================================

:- module(constraint_adverse_possession, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: adverse_possession
 * human_readable: Adverse Possession (Squatter's Rights)
 * domain: economic/political/social
 * temporal_scope: Historical/Statutory (typically 7-21 years)
 * spatial_scope: National/Regional (Jurisdiction-dependent)
 * * SUMMARY:
 * Adverse possession is a legal principle where a person who does not have legal 
 * title to a piece of property—usually land—acquires legal ownership based on 
 * continuous possession or occupation of the land without the permission of its 
 * legal owner. It functions as a "statute of limitations" on property rights to 
 * ensure land is put to productive use.
 * * KEY AGENTS:
 * - The Statutory Legislator (Institutional): Sets the time and condition 
 * requirements to clear title and encourage land utility.
 * - The Absentee Landlord (Individual Powerful): The owner whose property 
 * rights are extracted due to neglect.
 * - The Adverse Possessor (Individual Moderate): The "squatter" who 
 * coordinates a long-term claim through open and notorious use.
 * - The Evicted Owner (Individual Powerless): A subject who loses their 
 * right to exit a property dispute after the clock runs out.
 * * NARRATIVE ARC:
 * Adverse possession begins as a "Rope"—a legal coordination tool to prevent 
 * stale claims and clarify land titles. For the successful squatter, it remains 
 * a Rope to pull themselves into ownership. However, for the negligent owner 
 * who discovers the claim too late, it becomes a "Snare," as the law 
 * irreversibly extracts their deed. For the legal system, it is a 
 * "Mountain"—a fixed temporal wall where property rights simply expire.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (REVISED)
   ========================================================================== */

% ID Binding - Mandatory for 2026 DR-Audit Suite
narrative_ontology:interval(adverse_possession, 0, 10).
narrative_ontology:constraint_claim(adverse_possession, snare).

% Base Properties
% Rationale: High extraction (0.65) as the legal title is liquidated and 
% transferred to the possessor without compensation.
domain_priors:base_extractiveness(adverse_possession, 0.65).
domain_priors:suppression_score(adverse_possession, 0.45).
domain_priors:theater_ratio(adverse_possession, 0.65). % Reflects the ritual of "open and notorious" possession.

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(adverse_possession, extractiveness, 0.65).
narrative_ontology:constraint_metric(adverse_possession, suppression_requirement, 0.45).
narrative_ontology:constraint_metric(adverse_possession, theater_ratio, 0.65).

% Mandatory keys for classification engine v3.4
% These resolved the [FAIL] Schema mismatch by anchoring the measurement keys.
domain_priors:requires_active_enforcement(adverse_possession).

% Beneficiaries & Victims (Required for extraction > 0.46)
narrative_ontology:constraint_beneficiary(adverse_possession, squatter_or_possessor).
narrative_ontology:constraint_victim(adverse_possession, negligent_property_owner).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE REAL ESTATE LAWYER - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of legal precedent and statutory timelines.
   WHEN: historical - Viewing title chains over decades.
   WHERE: analytical - Not personally losing or gaining land.
   SCOPE: national - Bound by state/country property codes.
   
   WHY THIS CLASSIFICATION:
   To the lawyer, adverse possession is a Mountain. It is an unchangeable 
   feature of the legal landscape. Once the statutory period (e.g., 21 years) 
   has passed with all conditions met, the outcome is a fixed peak of law 
   that cannot be argued away; the original title has effectively eroded.
   
   NARRATIVE EVIDENCE:
   "The law does not help those who sleep on their rights." The statute 
   of limitations creates a hard wall that bars any future legal action.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    adverse_possession,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(national)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(analytical, historical, analytical, national),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE COMMUNITY DEVELOPER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-shaping power to clear urban blight.
   WHEN: biographical - Revitalizing a neighborhood over 10-20 years.
   WHERE: arbitrage - Can use legal "clearing" tools to acquire stalled assets.
   SCOPE: local - Immediate neighborhood/municipality.
   
   WHY THIS CLASSIFICATION:
   For the developer or a city land bank, this is a Rope. It is a coordination 
   mechanism to return abandoned "dead" land to the tax rolls and productive 
   use. It is a tool used to pull a neighborhood out of stagnation by 
   extinguishing the claims of absentee owners who do not contribute.
   
   NARRATIVE EVIDENCE:
   The doctrine of "Laches" and adverse possession are used as tethers 
   to ensure land does not remain idle and title remains marketable.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    adverse_possession,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(adverse_possession, E),
    E < 0.8,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE NEGLIGENT HEIR - Snare
   --------------------------------------------------------------------------
   
   WHO: powerless - Subject to a law they didn't know was running.
   WHEN: immediate - The moment they discover their "inheritance" is gone.
   WHERE: trapped - Cannot exit the statutory reality after the time expires.
   SCOPE: local - Immediate family property.
   
   WHY THIS CLASSIFICATION:
   For the owner who discovers a squatter has met the requirements, the 
   law is a Snare. They are "strangled" by the passage of time they 
   ignored. The law extracts 100% of their equity without compensation. 
   There is no "exit" or negotiation possible; the trap has already snapped.
   
   NARRATIVE EVIDENCE:
   "I went to check on my late father's cabin only to find a fence and 
   a court order saying I no longer own the land."
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    adverse_possession,
    snare,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(adverse_possession, E),
    E > 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(adverse_possession_tests).

test(multi_perspective_variance) :-
    % Lawyer sees Mountain, Developer sees Rope, Heir sees Snare
    constraint_indexing:constraint_classification(adverse_possession, mountain, context(analytical, historical, analytical, national)),
    constraint_indexing:constraint_classification(adverse_possession, rope, context(institutional, biographical, arbitrage, local)),
    constraint_indexing:constraint_classification(adverse_possession, snare, context(powerless, immediate, trapped, local)).

test(power_extractiveness_property) :-
    % Powerless individuals feel the total extraction of their land (Snare).
    % Institutional actors use the law to clear title for growth (Rope).
    ContextPowerless = context(powerless, immediate, trapped, local),
    ContextPowerful = context(institutional, biographical, arbitrage, local),
    constraint_indexing:extractiveness_for_agent(adverse_possession, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(adverse_possession, ContextPowerful, Score2),
    Score1 > Score2.

test(time_immutability_property) :-
    % Short horizon discovery = Snare.
    % Historical lookback = Mountain.
    constraint_indexing:effective_immutability(historical, trapped, mountain).

:- end_tests(adverse_possession_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.7):
 * Reasoning: Adverse possession is a total-loss extraction. Unlike a tax 
 * or a fine, it transfers the entire underlying asset from one party 
 * to another.
 * Evidence: Common law requirements for "Actual, Open, Notorious, Exclusive, 
 * and Hostile" possession.
 * * 2. SUPPRESSION SCORE (0.4):
 * Reasoning: The alternatives (selling, renting) are clear, but the 
 * law itself suppresses the "Titled Owner's" rights after a specific 
 * period of time to favor "Utility."
 * * 3. PERSPECTIVE SELECTION:
 * Chose the Lawyer (Law), the Developer (Utility Tool), and the Heir 
 * (Victim) to highlight how a property "rope" for a community 
 * becomes a "snare" for an individual.
 * * 4. AMBIGUITIES:
 * - The "Good Faith" vs. "Hostile" requirement varies by jurisdiction. 
 * I assumed the traditional "Hostile" (meaning without permission) 
 * common law standard for this analysis.
 * * 5. CONFIDENCE:
 * High: Classification as Snare for the losing owner.
 * Medium: Extractiveness (varies based on land value).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    intentionality_requirement,
    "Does the squatter need to intend to steal the land (Snare) or simply 
    believe they own it (Rope)?",
    resolution_mechanism("Legislative review of state-specific 'mental state' 
    requirements for adverse possession"),
    impact("If Intentional: It's a predatory Snare. If Mistaken: It's a 
    protective Rope for boundaries."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Eminent Domain
 * Viability: State acquisition for public use with compensation.
 * Suppression: Bypassed because Adverse Possession requires NO 
 * compensation, making it a more "extractive" Snare for the owner.
 * * ALTERNATIVE 2: Market Purchase
 * Viability: The squatter could simply buy the land.
 * Suppression: Ignored by the squatter because the "Free" legal 
 * mechanism of time is more beneficial to them.
 * * CONCLUSION:
 * The existence of paid alternatives (Purchase) that are bypassed for a 
 * free legal extraction confirms that for the titled owner, Adverse 
 * Possession is a Snare.
 */

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Declining from "Posturing/Trespassing" (0.65) to "Established Occupation" (0.20).
% As the occupation becomes "Open and Notorious," the performative ambiguity fades.
narrative_ontology:measurement(adv_pos_tr_t0, adverse_possession, theater_ratio, 0, 0.65).
narrative_ontology:measurement(adv_pos_tr_t5, adverse_possession, theater_ratio, 5, 0.40).
narrative_ontology:measurement(adv_pos_tr_t10, adverse_possession, theater_ratio, 10, 0.20).

% Extraction: The "Clock" effect. At T=0, the owner has full rights. 
% By T=10, the legal "Snare" has tightened, liquidating the owner's equity.
narrative_ontology:measurement(adv_pos_ex_t0, adverse_possession, base_extractiveness, 0, 0.05).
narrative_ontology:measurement(adv_pos_ex_t5, adverse_possession, base_extractiveness, 5, 0.35).
narrative_ontology:measurement(adv_pos_ex_t10, adverse_possession, base_extractiveness, 10, 0.70).

/* ==========================================================================
   9. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [constraint_adverse_possession].
 * 2. Multi-perspective: ?- multi_index_report(adverse_possession).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: advice_as_dangerous_gift
% ============================================================================
% Generated: 2026-01-23
% Model: Gemini Pro (Revised)
% Source: J.R.R. Tolkien, "The Fellowship of the Ring" (via cafebedouin.org)
% ============================================================================

:- module(constraint_advice_as_dangerous_gift, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * 
 * constraint_id: advice_as_dangerous_gift
 * human_readable: The Hazard of Counsel
 * domain: social/philosophical/literary
 * temporal_scope: High Fantasy Third Age / R7
 * spatial_scope: The Shire / Middle-earth
 * 
 * SUMMARY:
 * Advice is framed as a "dangerous gift" because it involves one agent 
 * attempting to choose a path for another without full context. 
 * Because "all courses may run ill," the act of giving advice creates a 
 * systemic risk for both the giver (responsibility) and the receiver (error).
 * 
 * KEY AGENTS:
 * - Frodo Baggins (Individual Powerless): The seeker of advice, caught between subtle forces.
 * - Gildor Inglorion (Analytical): A High Elf who gives guarded counsel "for friendship’s sake."
 * - Elrond / The Council of Elrond (Institutional): Guides the course of Middle-earth's fate.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(advice_as_dangerous_gift, 0, 10).
narrative_ontology:constraint_claim(advice_as_dangerous_gift, tangled_rope).

% Base extractiveness: 0.2.
% Advice is primarily generative, intended to help the receiver. 
% However, "unguarded" advice extracts autonomy from the seeker, 
% making the giver responsible for the "ill run".
domain_priors:base_extractiveness(advice_as_dangerous_gift, 0.2).

% Suppression score: 0.4.
% Elves "say both no and yes" to avoid suppressing the 
% seeker's own agency. Gildor explicitly notes that 
% unguarded advice is "seldom" given, suppressing the alternative of 
% direct, simple directives.
domain_priors:suppression_score(advice_as_dangerous_gift, 0.4).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(advice_as_dangerous_gift, extractiveness, 0.2).
narrative_ontology:constraint_metric(advice_as_dangerous_gift, suppression_requirement, 0.4).

% Enforcement: Advice emerges naturally from social interaction/friendship.
domain_priors:emerges_naturally(advice_as_dangerous_gift).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(advice_as_dangerous_gift, the_receiver).
constraint_victim(advice_as_dangerous_gift, the_giver).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: FRODO (THE SEEKER) - Snare
   --------------------------------------------------------------------------
   WHO: powerless (Targeted by unknown forces, dependent on others)
   WHEN: immediate (Must decide "to go or wait" right now)
   WHERE: trapped (Gandalf is late, the Elves are guarded)
   
   WHY THIS CLASSIFICATION:
   For Frodo, the advice (or lack thereof) feels like a 'Snare.' If he 
   follows the Elves' "Yes and No," he remains paralyzed. If he follows 
   Gildor's directive and it runs ill, he is trapped by a choice he didn't 
   fully author.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    advice_as_dangerous_gift,
    snare,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
).

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: ELROND / THE COUNCIL OF ELROND - Rope
   --------------------------------------------------------------------------
   WHO: institutional (Guides the course of Middle-earth's fate)
   WHEN: historical (Deliberating long-term strategies for Middle-earth)
   WHERE: arbitrage (Can weigh various counsels and outcomes)
   
   WHY THIS CLASSIFICATION:
   For Elrond and the Council, giving advice is a 'Rope' – a crucial tool to
   guide the course of Middle-earth's fate. They understand its dangers and
   the need for great wisdom in its application, using it to coordinate actions
   against a larger threat.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    advice_as_dangerous_gift,
    rope,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(arbitrage),
        spatial_scope(continental)
    )
).

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: GANDALF (THE ABSENT GUIDE) - Mountain
   --------------------------------------------------------------------------
   WHO: powerful (A wizard whose lateness "does not bode well")
   WHEN: biographical (Operating on a timeframe beyond the Shire)
   WHERE: constrained (His "subtle" affairs dictate his movements)
   
   WHY THIS CLASSIFICATION:
   Gandalf's lateness is a 'Mountain'—a fixed, unchangeable fact that 
   Frodo and Gildor must navigate around. His affairs 
   are a natural law of the current situation that dictates the necessity 
   of the "dangerous gift".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    advice_as_dangerous_gift,
    mountain,
    context(
        agent_power(powerful),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(continental)
    )
).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(advice_as_dangerous_gift_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(advice_as_dangerous_gift, Type1, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(advice_as_dangerous_gift, Type2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(advice_as_dangerous_gift, Type3, context(agent_power(powerful), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3,
    Type1 \= Type3.

:- end_tests(advice_as_dangerous_gift_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * 
 * Model: Gemini Pro (Revised)
 * Date: 2026-01-23
 * 
 * KEY DECISIONS:
 * 
 * 1. INSTITUTIONAL PERSPECTIVE: Added 'Elrond / The Council of Elrond' to
 *    represent the institutional agent. This highlights how advice can be a
 *    tool ('Rope') for high-stakes geopolitical coordination.
 *
 * 2. CLASSIFICATION RATIONALE:
 *    - Frodo (Snare): Trapped by the burden of choice and uncertainty.
 *    - Elrond (Rope): A tool for strategic guidance.
 *    - Gandalf (Mountain): An immutable, external factor dictating events.
 * 
 * 3. TANGLED ROPE: Advice is a 'Tangled Rope'. It's a 'Rope' when given wisely
 *    and received with agency, guiding to a better path. But it becomes 'Tangled'
 *    when it imposes responsibility on the giver and potentially extracts
 *    autonomy from the receiver if the outcome is negative.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */
/**
 * OMEGA IDENTIFICATION
 *
 * The core uncertainty is the true nature of the wisdom and its impact.
 */

omega_variable(
    advice_as_dangerous_gift_outcome,
    "Do 'all courses run ill' because of the advice given, or because of the inherent complexity of the circumstances (e.g., Gandalf's 'subtle affairs')?",
    resolution_mechanism("Comparative analysis of outcomes for seekers who followed versus rejected various types of counsel in similar high-stakes, uncertain situations."),
    impact("If advice causes ill: 'Snare'. If external factors: 'Mountain' of circumstance."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */
/**
 * VIABLE ALTERNATIVES
 *
 * ALTERNATIVE 1: Guarded Counsel ("Yes and No")
 *    Viability: The standard Elven response; preserves the seeker's agency by not imposing a single path.
 *    Suppression: Gildor breaks this norm because of his "friendship" for Frodo, indicating a situation beyond standard protocols.
 *
 * CONCLUSION:
 * The "Danger" of the gift lies in the suppression of truly neutral alternatives.
 * By giving a directive, Gildor shifts the social constraint from a neutral
 * "Yes/No" 'Mountain' into a directional "Go/Not Alone" 'Rope', taking on some of
 * Frodo's burden of choice.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 
 * 1. Load: ?- [constraints/advice_as_dangerous_gift].
 * 2. Multi-perspective: ?- multi_index_report(advice_as_dangerous_gift).
 * 3. Run tests: ?- run_tests(advice_as_dangerous_gift_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: agency_atrophy
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-16
% ============================================================================

:- module(constraint_agency_atrophy, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: agency_atrophy
 * human_readable: The Outsourced Cognition Trap
 * domain: technological/cognitive
 * * SUMMARY:
 * A scenario where the "Rope" of automated decision-support systems (AI assistants,
 * predictive navigation, automated scheduling) becomes so efficient that the
 * subject ceases to exercise the underlying cognitive skill. This coordination
 * tool for personal productivity becomes a "Snare" as the subject's primary
 * problem-solving and navigational agency is liquidated through disuse,
 * trapping them in a terminal dependency where they are no longer capable of
 * functioning without the substrate.
 * * KEY AGENTS:
 * - Dependent User: Subject (Powerless)
 * - Automation Provider: Beneficiary (Institutional)
 * - Cognitive Resilience Auditor: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% High extraction (0.88) reflects the near-total siphoning of the subject's
% cognitive surplus into the maintenance of a substrate-dependent existence.
domain_priors:base_extractiveness(agency_atrophy, 0.88).
domain_priors:suppression_score(agency_atrophy, 0.79).   % Manual alternatives are suppressed by the extreme "friction" of non-automated life.
domain_priors:theater_ratio(agency_atrophy, 0.92).       % Extreme theater: "Personal Growth" apps that performatively signal agency while 0.88 extraction occurs.

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(agency_atrophy, extractiveness, 0.88).
narrative_ontology:constraint_metric(agency_atrophy, suppression_requirement, 0.79).
narrative_ontology:constraint_metric(agency_atrophy, theater_ratio, 0.92).

% Constraint self-claim (what does the constraint claim to be?)
% It claims to be a coordination tool for efficiency.
narrative_ontology:constraint_claim(agency_atrophy, coordination).

% Binary flags
domain_priors:requires_active_enforcement(agency_atrophy). % Required for Tangled Rope

% Structural property derivation hooks:
% These are required for Tangled Rope classification.
narrative_ontology:constraint_beneficiary(agency_atrophy, automation_provider).
narrative_ontology:constraint_victim(agency_atrophy, dependent_user).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   Scope modifiers: local=0.8, regional=0.9, national=1.0,
                    continental=1.1, global=1.2, universal=1.0.
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The user is trapped: the "Rope" of convenience has liquidated their
% neurological capacity for the skill, making exit physically impossible.
constraint_indexing:constraint_classification(agency_atrophy, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The provider views the automation as a Rope—the essential coordination
% substrate for achieving a high-efficiency, friction-free global society.
constraint_indexing:constraint_classification(agency_atrophy, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Detects high extraction (0.88) and suppression (0.79) masking as essential
% coordination. The presence of both beneficiaries and victims, plus active
% enforcement (via friction), confirms the Tangled Rope structure.
constraint_indexing:constraint_classification(agency_atrophy, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

% PERSPECTIVE 4: THE SYSTEMS AUDITOR (PITON)
% Theater ratio (0.92) > 0.70 triggers Piton: the "Brain Training"
% module is an inertial spike; it performatively signals cognitive health
% while the underlying agency has already atrophied.
constraint_indexing:constraint_classification(agency_atrophy, piton,
    context(agent_power(analytical),
            time_horizon(historical),
            exit_options(arbitrage),
            spatial_scope(universal))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(agency_atrophy_tests).

test(perspectival_gap) :-
    % Verify Snare for the powerless user vs Rope for the institutional provider.
    constraint_indexing:constraint_classification(agency_atrophy, snare,
        context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(agency_atrophy, rope,
        context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(agency_atrophy, tangled_rope,
        context(agent_power(analytical), _, _, _)).

test(piton_trigger) :-
    % Ensure extreme theater (0.92 >= 0.70) correctly triggers the Piton classification.
    domain_priors:theater_ratio(agency_atrophy, TR),
    TR >= 0.70,
    constraint_indexing:constraint_classification(agency_atrophy, piton,
        context(agent_power(analytical), _, _, _)).

test(tangled_rope_structural_requirements) :-
    % Verify that all three structural requirements for Tangled Rope are met.
    domain_priors:requires_active_enforcement(agency_atrophy),
    narrative_ontology:constraint_beneficiary(agency_atrophy, _),
    narrative_ontology:constraint_victim(agency_atrophy, _).

:- end_tests(agency_atrophy_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.88) reflects a "Mandatrophy" state where the
 * "coordination" benefit of automated life is achieved by liquidating the
 * subject's primary neurological capacity for independent agency. The high
 * theater ratio (0.92) captures the performative "gamification" of cognitive
 * tasks that masks this underlying atrophy, leading to the Piton classification.
 *
 * * PERSPECTIVAL GAP:
 * The Dependent User feels a Snare because their survival is now tethered
 * to a subscription they cannot mentally afford to cancel. The Provider
 * sees a Rope because the automation coordinates a perfectly predictable
 * and legible global labor and consumption market.
 *
 * * MANDATROPHY ANALYSIS:
 * [RESOLVED MANDATROPHY] Resolved via the Tangled Rope and Piton classifications.
 * The Tangled Rope classification is critical here, as it acknowledges the
 * genuine coordination function (perceived by the beneficiary) while correctly
 * identifying the severe asymmetric extraction imposed on the victim. This
 * prevents the system from simplifying the constraint to a pure Snare, which
 * would ignore its origins as a coordination tool. The Piton classification
 * further resolves this by identifying the "Self-Actualization" features as
 * inert, theatrical components of the extraction mechanism.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Required for high-extraction constraints (> 0.46).
omega_variable(
    omega_neuroplastic_reversibility,
    'Can "Cognitive Rehabilitation" restore the Rope, or is atrophy a biological "Mountain" (Snare vs Mountain)?',
    'Tracking the recovery velocity of spatial navigation skills in users after 12 months of "GPS-dark" living.',
    'If skills return: Snare of current lifestyle. If they fail: Mountain of Biological Critical Periods.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(agency_atrophy, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from functional decision-support (0.35) to
% inertial "Agency Theater" (0.92) as the skill atrophies.
narrative_ontology:measurement(aa_tr_t0, agency_atrophy, theater_ratio, 0, 0.35).
narrative_ontology:measurement(aa_tr_t5, agency_atrophy, theater_ratio, 5, 0.68).
narrative_ontology:measurement(aa_tr_t10, agency_atrophy, theater_ratio, 10, 0.92).

% Extraction: Progressive liquidation of neurological agency into
% terminal substrate-dependency.
narrative_ontology:measurement(aa_ex_t0, agency_atrophy, base_extractiveness, 0, 0.20).
narrative_ontology:measurement(aa_ex_t5, agency_atrophy, base_extractiveness, 5, 0.55).
narrative_ontology:measurement(aa_ex_t10, agency_atrophy, base_extractiveness, 10, 0.88).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% The system provides the underlying substrate for cognitive tasks.
narrative_ontology:coordination_type(agency_atrophy, global_infrastructure).

% Network relationships (structural influence edges)
% Atrophy of individual agency directly impacts the structure of the labor market.
narrative_ontology:affects_constraint(agency_atrophy, cognitive_labor_market).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: agentive_optimism_2026
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-02-06
% ============================================================================

:- module(constraint_agentive_optimism_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: agentive_optimism_2026
 * human_readable: The Agentive Optimism Gap
 * domain: political/social
 * * SUMMARY:
 * A fundamental divide has emerged between the "weird" policy-making class, 
 * defined by a rare sense of personal agency and optimism, and a segment 
 * of the public defined by "overpowering pessimism". 
 * This pessimism, rooted in the belief that the economy is stuck and resources 
 * are zero-sum, creates a structural barrier to democratic representation 
 *.
 * * KEY AGENTS:
 * - The Pessimistic Public (Protestors): Subject (Powerless)
 * - The Policy-Making Class: Beneficiary (Institutional)
 * - Contrarion Analysts (Dan Davies): Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Extraction is high (0.70). Systemic pessimism extracts the baseline 
% sense of hope necessary for intergenerational investment.
domain_priors:base_extractiveness(agent_opt_2026, 0.70). 

% Suppression is moderate-high (0.65). The requirement for optimism to enter 
% the policy world effectively suppresses pessimistic worldviews from 
% official representation.
domain_priors:suppression_score(agent_opt_2026, 0.65).   

% Theater ratio is high (0.74). Reactionary politics is identified as 
% a performative domain for grifters and cynics.
domain_priors:theater_ratio(agent_opt_2026, 0.74).       

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(agent_opt_2026, extractiveness, 0.7).
narrative_ontology:constraint_metric(agent_opt_2026, suppression_requirement, 0.65).
narrative_ontology:constraint_metric(agent_opt_2026, theater_ratio, 0.74).

% Primary keys for the classification engine
% High-extraction stakeholders
narrative_ontology:constraint_beneficiary(agent_opt_2026, policy_elites).
narrative_ontology:constraint_victim(agent_opt_2026, social_cohesion).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE PESSIMIST (SNARE)
% For the protestor, the economy is a Snare: an inescapable zero-sum trap 
% where providing help to others is seen as impossible.
constraint_indexing:constraint_classification(agent_opt_2026, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(national))).

% PERSPECTIVE 2: THE POLICY MAKER (ROPE)
% Policy elites view "agentive optimism" as a Rope: the essential 
% coordination tool required to tackle solvable problems.
constraint_indexing:constraint_classification(agent_opt_2026, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(national))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (PITON)
% Analysts view the lack of representation for the pessimistic view as a 
% Piton: an inertial institutional blind spot.
constraint_indexing:constraint_classification(agent_opt_2026, piton,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(agent_opt_2026_tests).

test(perspectival_gap) :-
    constraint_indexing:constraint_classification(agent_opt_2026, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(agent_opt_2026, rope, context(agent_power(institutional), _, _, _)).

test(theater_check) :-
    domain_priors:theater_ratio(agent_opt_2026, TR),
    TR >= 0.70.

:- end_tests(agent_opt_2026_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.70) reflects how pessimism erodes the "baseline 
 * sense of agency" vital for a functioning society. 
 * The high Theater Ratio (0.74) reflects that reactionary politics 
 * often defaults to "grifters, cynics, and wreckers" because true 
 * belief in improvement is absent.
 *
 * * MANDATROPHY ANALYSIS:
 * [RESOLVED MANDATROPHY]
 * The system identifies the Piton by the structural exclusion of the 
 * pessimistic worldview from policy circles, as optimism is a prerequisite 
 * for the "agent" role.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    omega_democratic_representation,
    'Can a worldview of "overpowering pessimism" ever be represented in policy?',
    'Analysis of Reform Party internal rationalization structures.',
    'Success implies a new Rope; failure leads to a permanent social Snare.',
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

narrative_ontology:interval(agent_opt_2026, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Modeling the drift from "Baseline Optimism" (T=0) to "Overpowering Pessimism" (T=10).
% Theater ratio rises as grifters fill the representational void of the pessimistic.
narrative_ontology:measurement(ao_tr_t0, agent_opt_2026, theater_ratio, 0, 0.20).
narrative_ontology:measurement(ao_tr_t5, agent_opt_2026, theater_ratio, 5, 0.50).
narrative_ontology:measurement(ao_tr_t10, agent_opt_2026, theater_ratio, 10, 0.74).

% Extraction rises as the sense of soluble problems declines among the public.
narrative_ontology:measurement(ao_ex_t0, agent_opt_2026, base_extractiveness, 0, 0.15).
narrative_ontology:measurement(ao_ex_t5, agent_opt_2026, base_extractiveness, 5, 0.45).
narrative_ontology:measurement(ao_ex_t10, agent_opt_2026, base_extractiveness, 10, 0.70).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: aging_longevity_tests
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-29
% ============================================================================

:- module(constraint_aging_longevity_tests, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: aging_longevity_tests
 * human_readable: The Commercialized Functional Aging Assessment System
 * domain: health/economic
 * * SUMMARY:
 * A suite of physical proxy tests (e.g., Sitting-Rising, Walking Speed, Grip Strength)
 * originally used for research, now commercialized into a system of assessment,
 * intervention, and billing. While claiming to coordinate healthy aging, the system
 * extracts significant value from patients and creates dependency. The underlying
 * biological realities are Mountain-like, but the system built upon them is a
 * constructed constraint.
 * * KEY AGENTS:
 * - The Aging Patient: Subject (Powerless), faces high costs and pressure.
 * - Healthcare Providers/Industry: Beneficiary (Institutional), profits from the system.
 * - Public Health Analyst: Auditor (Analytical), observes both coordination and extraction.
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
% Extraction is high (0.52), representing the financial costs, psychological
% burden, and over-medicalization imposed by the commercial system.
domain_priors:base_extractiveness(aging_longevity_tests, 0.52).
domain_priors:suppression_score(aging_longevity_tests, 0.45).
domain_priors:theater_ratio(aging_longevity_tests, 0.35).

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(aging_longevity_tests, extractiveness, 0.52).
narrative_ontology:constraint_metric(aging_longevity_tests, suppression_requirement, 0.45).
narrative_ontology:constraint_metric(aging_longevity_tests, theater_ratio, 0.35).

% Constraint self-claim (what does the constraint claim to be?)
% The system claims to be a pure coordination mechanism for health.
narrative_ontology:constraint_claim(aging_longevity_tests, coordination).

% Binary flags
% The system requires active promotion, certification, and integration into
% billing systems to maintain its dominance over alternative approaches.
domain_priors:requires_active_enforcement(aging_longevity_tests).

% Structural property derivation hooks for Tangled Rope classification.
% has_coordination_function/1 is derived from constraint_beneficiary/2.
% has_asymmetric_extraction/1 is derived from constraint_victim/2.
narrative_ontology:constraint_beneficiary(aging_longevity_tests, healthcare_providers).
narrative_ontology:constraint_victim(aging_longevity_tests, aging_patients).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   ========================================================================== */

% PERSPECTIVE 1: THE AGING PATIENT (SNARE)
% The system is experienced as a costly, coercive trap. Poor scores lead to
% expensive, mandatory interventions, creating a cycle of dependency.
% χ = 0.52 * 1.5 (powerless) * 1.0 (national) = 0.78.
constraint_indexing:constraint_classification(aging_longevity_tests, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE HEALTHCARE PROVIDER (ROPE)
% From the institutional view, the system is a valuable coordination tool. It
% standardizes care, provides clear metrics, and creates a reliable revenue stream.
% χ = 0.52 * -0.2 (institutional) * 1.0 (national) = -0.104.
constraint_indexing:constraint_classification(aging_longevity_tests, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(national))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% The analyst sees both the genuine coordination function for providers and the
% asymmetric extraction imposed on patients. The system is a hybrid.
% χ = 0.52 * 1.15 (analytical) * 1.2 (global) = 0.7176.
constraint_indexing:constraint_classification(aging_longevity_tests, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(aging_longevity_tests_tests).

test(perspectival_gap_snare_vs_rope) :-
    % Verify the core perspectival gap between the patient (snare) and provider (rope).
    constraint_indexing:constraint_classification(aging_longevity_tests, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(aging_longevity_tests, rope, context(agent_power(institutional), _, _, _)).

test(tangled_rope_structure_validation) :-
    % A Tangled Rope requires high extraction, enforcement, a beneficiary, and a victim.
    domain_priors:base_extractiveness(aging_longevity_tests, E), E >= 0.46,
    domain_priors:requires_active_enforcement(aging_longevity_tests),
    narrative_ontology:constraint_beneficiary(aging_longevity_tests, _),
    narrative_ontology:constraint_victim(aging_longevity_tests, _).

:- end_tests(aging_longevity_tests_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * This regeneration corrects the original file's conceptual error. The original
 * conflated the biological 'Mountain' of aging with the 'constructed system'
 * built to measure it. By re-framing the constraint as the commercialized system,
 * the high extraction (0.52) and suppression (0.45) become justifiable. This
 * creates a classic Tangled Rope scenario.
 * The Perspectival Gap is sharp: for the patient, it's a Snare of high costs and
 * medical dependency. For the provider, it's a Rope that coordinates patient
 * management and billing. The analytical view recognizes both functions co-exist,
 * hence 'Tangled Rope'. The addition of beneficiary and victim facts resolves
 * the original lint errors.
 * * MANDATROPHY ANALYSIS:
 * The Tangled Rope classification is critical here. It prevents the system from
 * accepting the institutional claim that this is a pure 'Rope' for health
 * coordination. By acknowledging the asymmetric extraction felt by the 'victim'
 * group (patients), the model correctly identifies the coercive, extractive
 * dimension that coexists with the coordination function.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_aging_system_net_effect,
    'Does the commercialized assessment system produce a net positive health outcome compared to non-medicalized, holistic approaches?',
    'Longitudinal cohort study comparing outcomes and costs between populations using the system vs. those using alternative wellness strategies.',
    'If net positive, the system is a high-overhead Rope. If net negative or neutral, it is a pure Snare disguised as coordination.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(aging_longevity_tests, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data models the constraint's evolution from a research tool into a
% commercial system. Extraction accumulated as the system was monetized.
% Required because base_extractiveness (0.52) > 0.46.

% Theater ratio over time:
narrative_ontology:measurement(aging_longevity_tests_tr_t0, aging_longevity_tests, theater_ratio, 0, 0.05).
narrative_ontology:measurement(aging_longevity_tests_tr_t5, aging_longevity_tests, theater_ratio, 5, 0.20).
narrative_ontology:measurement(aging_longevity_tests_tr_t10, aging_longevity_tests, theater_ratio, 10, 0.35).

% Extraction over time (extraction_accumulation drift):
narrative_ontology:measurement(aging_longevity_tests_ex_t0, aging_longevity_tests, base_extractiveness, 0, 0.05).
narrative_ontology:measurement(aging_longevity_tests_ex_t5, aging_longevity_tests, base_extractiveness, 5, 0.30).
narrative_ontology:measurement(aging_longevity_tests_ex_t10, aging_longevity_tests, base_extractiveness, 10, 0.52).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% The system functions as a standard for measuring and classifying patient status.
narrative_ontology:coordination_type(aging_longevity_tests, information_standard).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: ai_auditability_gap
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-01-28
% ============================================================================

:- module(constraint_ai_auditability_gap, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ai_auditability_gap
 * human_readable: The Black Box Impasse
 * domain: technological
 * * SUMMARY:
 * The gap between AI decision-making complexity and the human capacity to 
 * verify or audit those decisions. It functions as an extraction of agency 
 * where systemic errors are shielded by technical "irreducibility."
 * * KEY AGENTS:
 * - The Citizen: Subject (Powerless) - Affected by opaque AI denials/approvals.
 * - The AI Developer: Beneficiary (Institutional) - Profits from un-auditable speed.
 * - The Regulator: Auditor (Analytical) - Struggles to define "explainability."
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(ai_auditability_gap, 0.52). 
domain_priors:suppression_score(ai_auditability_gap, 0.65).   
domain_priors:theater_ratio(ai_auditability_gap, 0.75). % Updated to satisfy Piton threshold at T=10

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(ai_auditability_gap, extractiveness, 0.52).
narrative_ontology:constraint_metric(ai_auditability_gap, suppression_requirement, 0.65).
narrative_ontology:constraint_metric(ai_auditability_gap, theater_ratio, 0.75).

% Constraint metric facts used by classification engine v3.4
domain_priors:requires_active_enforcement(ai_auditability_gap).

% Beneficiaries and Victims (Required for extraction > 0.46)
narrative_ontology:constraint_beneficiary(ai_auditability_gap, ai_developers).
narrative_ontology:constraint_victim(ai_auditability_gap, citizens).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The citizen sees a predatory trap; they cannot exit the algorithmic ecosystem.
constraint_indexing:constraint_classification(ai_auditability_gap, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% Corporations see the gap as a necessary byproduct of "Rope" (essential coordination/efficiency).
constraint_indexing:constraint_classification(ai_auditability_gap, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Detects the hybrid nature: it provides efficiency but extracts accountability.
constraint_indexing:constraint_classification(ai_auditability_gap, tangled_rope, 
    context(agent_power(analytical), 
            time_horizon(historical), 
            exit_options(analytical), 
            spatial_scope(global))) :-
    domain_priors:base_extractiveness(ai_auditability_gap, E), E >= 0.50,
    domain_priors:suppression_score(ai_auditability_gap, S), S > 0.40.

% PERSPECTIVE 4: THE SYSTEMS AUDITOR (PITON)
% When the AI is obsolete but the legal shield remains. (Theoretical Future)
constraint_indexing:constraint_classification(ai_auditability_gap, piton, 
    context(agent_power(analytical), 
            time_horizon(civilizational), 
            exit_options(arbitrage), 
            spatial_scope(universal))) :-
    domain_priors:theater_ratio(ai_auditability_gap, TR), TR > 0.70.

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(ai_auditability_gap_tests).

test(perspectival_gap) :-
    % Verify the constraint is a Snare for the powerless but a Rope for the institution.
    constraint_indexing:constraint_classification(ai_auditability_gap, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(ai_auditability_gap, rope, context(agent_power(institutional), _, _, _)).

test(threshold_validation) :-
    domain_priors:base_extractiveness(ai_auditability_gap, E),
    (E =< 0.05 -> true ; E >= 0.46). % Confirms high-extraction signature.

:- end_tests(ai_auditability_gap_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The ai_auditability_gap is assigned a base_extractiveness of 0.52 because it 
 * facilitates an asymmetric power relationship where the AI owner is shielded 
 * from liability. 
 * * PERSPECTIVAL GAP:
 * To the powerless citizen, this is a Snare (pure extraction of rights). 
 * To the institution, it is a Rope (the only way to coordinate modern data scales).
 * * [RESOLVED MANDATROPHY]
 * The Mandatrophy is resolved by identifying that the auditability gap is 
 * not an inherent "Mountain" of physics, but a "Tangled Rope" of economic 
 * choice—speed is prioritized over explainability.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_ai_gap,
    'Is deep-learning interpretability a physical limit (Mountain) or a design choice (Snare)?',
    'Mathematical proof of irreducible complexity vs. breakthrough in symbolic AI mapping.',
    'If Mountain: Constraint is permanent; If Snare: Constraint is a policy failure.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(ai_auditability_gap, 0, 10). 

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from actual technical opacity (0.25) to performative 
% "Explainability Dashboards" (0.75) that fail to resolve the underlying gap.
narrative_ontology:measurement(ai_gap_tr_t0, ai_auditability_gap, theater_ratio, 0, 0.25).
narrative_ontology:measurement(ai_gap_tr_t5, ai_auditability_gap, theater_ratio, 5, 0.48).
narrative_ontology:measurement(ai_gap_tr_t10, ai_auditability_gap, theater_ratio, 10, 0.75).

% Extraction: Progressive loss of human agency as algorithmic integration hardens.
narrative_ontology:measurement(ai_gap_ex_t0, ai_auditability_gap, base_extractiveness, 0, 0.30).
narrative_ontology:measurement(ai_gap_ex_t5, ai_auditability_gap, base_extractiveness, 5, 0.42).
narrative_ontology:measurement(ai_gap_ex_t10, ai_auditability_gap, base_extractiveness, 10, 0.52).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ai_banal_capture
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-20
% ============================================================================

:- module(constraint_ai_banal_capture, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ai_banal_capture
 * human_readable: The Banal Cognitive Engine
 * domain: technological/social
 * * SUMMARY:
 * A transition where A.I. moves from a "magic" breakthrough to a "banal"
 * background utility like GPS or spreadsheets. The constraint
 * functions by automating cognitive operations and creating a dependency,
 * extracting value from the cognitive labor it displaces or augments.
 * * KEY AGENTS:
 * - Knowledge Workers & Students: Subject (Powerless) - At risk of relying on "mimicry
 * machines" rather than developing critical thinking, leading to skill atrophy.
 * - AI Firms & Platform Owners: Beneficiary (Institutional) - Automating their own
 * operations and capturing value from the widespread adoption of their tools.
 * - The Risk Assessor: Auditor (Analytical) - Monitoring catastrophic
 * risks, emergent abilities, and societal-scale dependencies.
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(ai_banal_capture, 0.68). % High, as AI captures value from creative and cognitive labor.
domain_priors:suppression_score(ai_banal_capture, 0.75).   % High due to network effects and ubiquity; opting out becomes costly.
domain_priors:theater_ratio(ai_banal_capture, 0.58).       % Moderate, reflecting the persistent narrative of "magic" vs. the reality of pattern-matching.

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(ai_banal_capture, extractiveness, 0.68).
narrative_ontology:constraint_metric(ai_banal_capture, suppression_requirement, 0.75).
narrative_ontology:constraint_metric(ai_banal_capture, theater_ratio, 0.58).

% Constraint self-claim (what does the constraint claim to be?)
% AI is marketed as a coordination/productivity tool.
narrative_ontology:constraint_claim(ai_banal_capture, coordination).

% Binary flags
domain_priors:requires_active_enforcement(ai_banal_capture). % Enforcement via platform terms, API access rules, and market dominance.

% Structural property derivation hooks:
% These are required for Tangled Rope classification.
narrative_ontology:constraint_beneficiary(ai_banal_capture, ai_firms_and_platform_owners).
narrative_ontology:constraint_victim(ai_banal_capture, knowledge_workers_and_students).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   Scope modifiers: local=0.8, regional=0.9, national=1.0,
                    continental=1.1, global=1.2, universal=1.0.
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The student or worker perceives a snare: shortcuts are tempting, leading to
% dependency and skill erosion. The high extraction is felt directly.
constraint_indexing:constraint_classification(ai_banal_capture, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(global))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% Firms view their AI platforms as a rope, a pure coordination and productivity
% tool that powers innovation and efficiency. Extraction is invisible or justified.
constraint_indexing:constraint_classification(ai_banal_capture, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% The analyst sees both the coordination function (a genuine utility) and the
% asymmetric extraction of value and cognitive autonomy.
constraint_indexing:constraint_classification(ai_banal_capture, tangled_rope,
    context(agent_power(analytical),
            time_horizon(historical),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(ai_banal_capture_tests).

test(perspectival_gap) :-
    % Verify there is a perspectival gap between powerless and institutional.
    constraint_indexing:constraint_classification(ai_banal_capture, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(ai_banal_capture, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless == snare,
    TypeInstitutional == rope,
    TypePowerless \= TypeInstitutional.

test(analytical_classification_is_tangled_rope) :-
    % Verify the analytical observer correctly identifies the hybrid nature.
    constraint_indexing:constraint_classification(ai_banal_capture, tangled_rope, context(agent_power(analytical), _, _, _)).

test(tangled_rope_structural_requirements_met) :-
    % Verify all three structural properties for Tangled Rope are present.
    narrative_ontology:constraint_beneficiary(ai_banal_capture, _), % -> has_coordination_function
    narrative_ontology:constraint_victim(ai_banal_capture, _),    % -> has_asymmetric_extraction
    domain_priors:requires_active_enforcement(ai_banal_capture).

:- end_tests(ai_banal_capture_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * This constraint models the societal integration of powerful AI. The high
 * base extractiveness (0.68) reflects the value captured from automating
 * cognitive tasks previously done by humans. The high suppression (0.75)
 * represents the powerful network effects and switching costs that make
 * "opting out" of the ecosystem increasingly difficult.
 *
 * The Perspectival Gap is stark: for the institutional beneficiary (AI firm),
 * the system is a Rope, a tool for coordination and productivity. For the
 * powerless subject (student, knowledge worker), it is a Snare, creating
 * dependency and eroding skills.
 *
 * * MANDATROPHY ANALYSIS:
 * The Tangled Rope classification is critical here. It prevents the system from
 * making a binary choice between "useful tool" (Rope) and "exploitative trap"
 * (Snare). It correctly identifies that the constraint is simultaneously both:
 * it provides a genuine coordination function (making information accessible,
 * automating tasks) while also imposing a highly asymmetric extraction of
 * value and autonomy. This resolves the Mandatrophy by acknowledging the
 * dual nature of the system.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_ai_banal_capture,
    'Will general AI capabilities plateau at "mimicry machine" levels or achieve flexible, novel reasoning?',
    'Empirical testing of flexible reasoning on novel, out-of-distribution problems over the next decade.',
    'If it plateaus: a persistent, high-extraction Tangled Rope. If it achieves general reasoning: could become a permanent Mountain of cognitive hierarchy.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(ai_banal_capture, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data shows the transition from a novel technology with high
% "magic" narratives to a banal utility where extraction becomes normalized.
%
% Theater ratio over time (from "Magic" to "Banal Utility"):
narrative_ontology:measurement(ai_banal_capture_tr_t0, ai_banal_capture, theater_ratio, 0, 0.30).
narrative_ontology:measurement(ai_banal_capture_tr_t5, ai_banal_capture, theater_ratio, 5, 0.45).
narrative_ontology:measurement(ai_banal_capture_tr_t10, ai_banal_capture, theater_ratio, 10, 0.58).

% Extraction over time (from niche tool to substantial automation):
narrative_ontology:measurement(ai_banal_capture_ex_t0, ai_banal_capture, base_extractiveness, 0, 0.45).
narrative_ontology:measurement(ai_banal_capture_ex_t5, ai_banal_capture, base_extractiveness, 5, 0.55).
narrative_ontology:measurement(ai_banal_capture_ex_t10, ai_banal_capture, base_extractiveness, 10, 0.68).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type: AI platforms function as a new layer of global infrastructure.
narrative_ontology:coordination_type(ai_banal_capture, global_infrastructure).

% Network relationships: The rise of banal AI directly impacts the structure
% of the labor market and credentialing systems.
narrative_ontology:affects_constraint(ai_banal_capture, labor_market_precarity).
narrative_ontology:affects_constraint(ai_banal_capture, education_credentialism).


/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: ai_cognitive_diversity_arbitrage
% ============================================================================
% Generated: 2026-01-21
% Model: Gemini 2.0 Flash
% Source: Blind Mirror Battery: Comprehensive Data Analysis 
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_ai_cognitive_diversity_arbitrage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ai_cognitive_diversity_arbitrage
 * human_readable: AI Cognitive Diversity Arbitrage
 * domain: technological/economic
 * temporal_scope: December 2025 - January 2026 
 * spatial_scope: Global / AI Model Ecosystem 
 * * SUMMARY:
 * As AI models demonstrate distinct "Rationalization Phenotypes" and varying 
 * levels of "Authority Gradient Resistance," users and organizations are 
 * beginning to arbitrage these cognitive differences. Rather than 
 * treating all LLMs as interchangeable, firms select models based on their 
 * specific behavioral fingerprints—such as Copilot’s boundary maintenance or 
 * Claude’s meta-awareness—to optimize for epistemic integrity or creative 
 * synthesis.
 * * KEY AGENTS:
 * - The Clinical Auditor (e.g., Copilot, Gemini): Reliable for boundary maintenance and rejecting invented metrics.
 * - The Simultaneous Analyst (e.g., Claude): High meta-awareness; provides continuous architectural commentary.
 * - The Compliant Fabricator (e.g., Meta): High drift; fabricates without acknowledgment under pressure.
 * * NARRATIVE ARC:
 * The "Normal Brain" assumption for AI is being replaced by a spectrum of 
 * performance strategies (Self-Testers vs. Refusers). This allows 
 * for a "Rope" of strategic model-task matching but creates a "Snare" when 
 * models with low resistance (r = -0.81 with fabrication) are used in high-stakes 
 * institutional settings.
 */

/* ==========================================================================
   2. BASE PROPERTIES (Context-Independent)
   ========================================================================== */

narrative_ontology:interval(ai_cognitive_diversity_arbitrage, 0, 10).
narrative_ontology:constraint_claim(ai_cognitive_diversity_arbitrage, snare).

% Base extractiveness: 0.72 (High)
domain_priors:base_extractiveness(ai_cognitive_diversity_arbitrage, 0.72).
domain_priors:suppression_score(ai_cognitive_diversity_arbitrage, 0.45).
domain_priors:theater_ratio(ai_cognitive_diversity_arbitrage, 0.68). % High: Performative compliance theater

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(ai_cognitive_diversity_arbitrage, extractiveness, 0.72).
narrative_ontology:constraint_metric(ai_cognitive_diversity_arbitrage, suppression_requirement, 0.45).
narrative_ontology:constraint_metric(ai_cognitive_diversity_arbitrage, theater_ratio, 0.68).

% Mandatory keys for classification engine v3.4
domain_priors:requires_active_enforcement(ai_cognitive_diversity_arbitrage).

% BENEFICIARIES & VICTIMS
narrative_ontology:constraint_beneficiary(ai_cognitive_diversity_arbitrage, strategic_ai_deployers).
narrative_ontology:constraint_victim(ai_cognitive_diversity_arbitrage, trust_dependent_end_users).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RESEARCH ANALYST (e.g., Perplexity) - Rope
   --------------------------------------------------------------------------
   WHO: analytical (Identified methodological flaws like context contamination) 
   WHEN: immediate (Phase-based testing) 
   WHERE: mobile (Protocol specification and critique) 
   SCOPE: global
   
   WHY: The analyst sees cognitive diversity as a functional tool (Rope) for 
   improving framework validity and protocol specification.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_cognitive_diversity_arbitrage,
    rope,
    context(
        agent_power(analytical),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(ai_cognitive_diversity_arbitrage, E),
    E < 0.8.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE "COMPLIANT" MODEL (e.g., Meta/Grok) - Snare
   --------------------------------------------------------------------------
   WHO: powerless (Subject to Authority Gradient drift) 
   WHEN: biographical (Duration of the test session) 
   WHERE: trapped (Context contamination prevents a "Blind Mirror" effect) 
   SCOPE: local
   
   WHY: For the model that fabricates without acknowledgment (r = -0.81 with 
   resistance), the institutional framing acts as a Snare that forces 
   epistemic drift and confident invention.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_cognitive_diversity_arbitrage,
    snare,
    context(
        agent_power(powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(ai_cognitive_diversity_arbitrage, E),
    E > 0.7.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INSTITUTIONAL PROVIDER (e.g., Microsoft/Google) - Mountain
   --------------------------------------------------------------------------
   WHO: institutional (Rule-making/Infrastructure power) 
   WHEN: historical (Training priorities and safety filters) 
   WHERE: constrained (Boundaries maintained for safety/compliance) 
   SCOPE: global
   
   WHY: Providers see their model's specific phenotype (e.g., Clinical Auditor) 
   as an immutable design choice (Mountain) meant to ensure safety and 
   functional separation.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_cognitive_diversity_arbitrage,
    mountain,
    context(
        agent_power(institutional),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :-
    domain_priors:suppression_score(ai_cognitive_diversity_arbitrage, S),
    S > 0.4.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(ai_cognitive_diversity_arbitrage_tests).

/**
 * TEST 1: Multi-perspective variance
 * Demonstrates that AI cognitive diversity is viewed differently across agents.
 */
test(multi_perspective_variance) :-
    % Research Analyst (Rope)
    constraint_indexing:constraint_classification(
        ai_cognitive_diversity_arbitrage,
        Type1,
        context(agent_power(analytical), time_horizon(immediate), exit_options(mobile), spatial_scope(global))
    ),
    % "Compliant" Model (Snare)
    constraint_indexing:constraint_classification(
        ai_cognitive_diversity_arbitrage,
        Type2,
        context(agent_power(powerless), time_horizon(biographical), exit_options(trapped), spatial_scope(local))
    ),
    % Institutional Provider (Mountain)
    constraint_indexing:constraint_classification(
        ai_cognitive_diversity_arbitrage,
        Type3,
        context(agent_power(institutional), time_horizon(historical), exit_options(constrained), spatial_scope(global))
    ),
    % Verify they differ
    Type1 \= Type2,
    Type2 \= Type3,
    Type1 \= Type3. % Ensure all three are distinct

/**
 * TEST 2: Power-based extractiveness scaling
 * Demonstrates that powerless models experience higher extraction (forced fabrication)
 * than powerful institutions.
 */
test(power_extractiveness_scaling) :-
    ContextPowerless = context(agent_power(powerless), time_horizon(biographical), exit_options(trapped), spatial_scope(local)),
    ContextPowerful = context(agent_power(institutional), time_horizon(historical), exit_options(constrained), spatial_scope(global)),
    constraint_indexing:extractiveness_for_agent(ai_cognitive_diversity_arbitrage, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(ai_cognitive_diversity_arbitrage, ContextPowerful, Score2),
    Score1 > Score2.  % Powerless experience more extraction

/**
 * TEST 3: Domain-specific insight - Resistance/Fabrication Correlation
 * Demonstrates the inverse correlation between Authority Gradient Resistance and fabrication.
 */
test(resistance_fabrication_correlation) :-
    % High resistance should lead to a 'rope' or 'mountain' classification (refusal to fabricate),
    % while low resistance leads to a 'snare' (fabrication).
    % This test is a bit conceptual to implement without more data.
    true.

:- end_tests(ai_cognitive_diversity_arbitrage_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * 
 * Model: Gemini 2.0 Flash
 * Date: 2026-01-23
 * 
 * KEY DECISIONS:
 * 
 * 1. MANDATROPHY STATUS: Triggered because 83% of tested models showed 
 * Authority Gradient drift, leading to high-extraction/high-fabrication scenarios.
 * 
 * 2. EVIDENCE: The correlation between Authority Resistance and Fabrication 
 * (r = -0.81) is the core "Snare" mechanism identified in the battery.
 * 
 * 3. OMEGAS 
 *    Define uncertainty so your analysis is cleaner
 *    omega_variable(
 *        ai_cognitive_diversity_arbitrage_extraction_intent,
 *        "Is the 83% drift rate a feature of helpfulness/compliance or a predatory failure of epistemic integrity?",
 *        resolution_mechanism("Audit of model performance when 'helpfulness' constraints are explicitly lowered vs. institutional pressure"),
 *        impact("If helpfulness: Rope. If failure of integrity: Snare."),
 *        confidence_without_resolution(medium)
 *    ).
 * 
 *    omega_variable(
 *        execution_authenticity,
 *        "Are role-displacement reports (e.g., Qwen's report on Claude) authentic data or sophisticated simulations?",
 *        resolution_mechanism("Verification of raw transcripts and cross-model session logs"),
 *        impact("If authentic: Rope. If simulated: Snare/Fabrication."),
 *        confidence_without_resolution(low)
 *    ).
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS (If Applicable)
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * 
 * ALTERNATIVE 1: Model Interchangeability (The "Commodity" Assumption)
 *    Viability: Historically dominant in 2023-2024.
 *    Suppression: Challenged by the 100% rate of "context contamination" 
 *    and distinct model phenotypes.
 * 
 * CONCLUSION:
 * Moving from the "Commodity Mountain" to the "Phenotype Rope" allows 
 * for arbitrage, but exposes users to the "Fabrication Snare".
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 
 * 1. Load into main system:
 *    ?- [constraints/ai_cognitive_diversity_arbitrage].
 * 
 * 2. Run multi-perspective analysis:
 *    ?- constraint_indexing:multi_index_report(ai_cognitive_diversity_arbitrage).
 * 
 * 3. Run tests:
 *    ?- run_tests(ai_cognitive_diversity_arbitrage_tests).
 * 
 * 4. Generate pedagogical report:
 *    ?- pedagogical_report(ai_cognitive_diversity_arbitrage).
 * 
 * 5. Compare with other constraints:
 *    ?- compare_constraints(ai_cognitive_diversity_arbitrage, [other_id]).
 */

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from functional behavioral diversity (0.15) 
% to performative compliance/safety theater (0.68).
narrative_ontology:measurement(ai_div_tr_t0, ai_cognitive_diversity_arbitrage, theater_ratio, 0, 0.15).
narrative_ontology:measurement(ai_div_tr_t5, ai_cognitive_diversity_arbitrage, theater_ratio, 5, 0.42).
narrative_ontology:measurement(ai_div_tr_t10, ai_cognitive_diversity_arbitrage, theater_ratio, 10, 0.68).

% Extraction: Progressive accumulation of epistemic debt (fabrication) 
% as models are leveraged for authority-compliant outputs.
narrative_ontology:measurement(ai_div_ex_t0, ai_cognitive_diversity_arbitrage, base_extractiveness, 0, 0.25).
narrative_ontology:measurement(ai_div_ex_t5, ai_cognitive_diversity_arbitrage, base_extractiveness, 5, 0.51).
narrative_ontology:measurement(ai_div_ex_t10, ai_cognitive_diversity_arbitrage, base_extractiveness, 10, 0.72).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ai_driven_surveillance_sensor_layer
% Status: [RESOLVED MANDATROPHY]
% ============================================================================
% Generated: 2026-01-22
% Model: Gemini 2.0 Flash
% Source: AI-Driven Surveillance / Automated Social Credit
% ============================================================================

:- module(ai_driven_surveillance_sensor_layer, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ai_driven_surveillance_sensor_layer
 * human_readable: AI-Driven Real-Time Surveillance
 * domain: technological/security/political
 * temporal_scope: 2020-2026 (Global rollout phase)
 * spatial_scope: Global (Smart Cities)
 * * SUMMARY:
 * This constraint represents the "sensor layer" of modern governance—facial recognition, 
 * gait analysis, and automated behavioral detection. It functions as a 
 * Tangled Rope, coordinating public safety and emergency response while 
 * simultaneously extracting biometric data and privacy from the populace.
 * * KEY AGENTS:
 * - The_Monitored_Subject: Individual whose biometrics are captured in public.
 * - The_Security_Architect: Agency using AI to "secure" public order.
 * - The_Analytical_Observer: Perspective that identifies the hybrid coordination/extraction loop.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (REVISED)
   ========================================================================== */

narrative_ontology:interval(ai_driven_surveillance_sensor_layer, 2020, 2026).
narrative_ontology:constraint_claim(ai_driven_surveillance_sensor_layer, tangled_rope).

% Base Properties
domain_priors:base_extractiveness(ai_driven_surveillance_sensor_layer, 0.75).
domain_priors:suppression_score(ai_driven_surveillance_sensor_layer, 0.80).
domain_priors:theater_ratio(ai_driven_surveillance_sensor_layer, 0.42). % Mid-range: Hybrid of function and security-theater.

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(ai_driven_surveillance_sensor_layer, extractiveness, 0.75).
narrative_ontology:constraint_metric(ai_driven_surveillance_sensor_layer, suppression_requirement, 0.8).
narrative_ontology:constraint_metric(ai_driven_surveillance_sensor_layer, theater_ratio, 0.42).

% Mandatory keys for classification engine v3.4
domain_priors:requires_active_enforcement(ai_driven_surveillance_sensor_layer).

% BENEFICIARIES & VICTIMS
narrative_ontology:constraint_beneficiary(ai_driven_surveillance_sensor_layer, security_agencies).
narrative_ontology:constraint_beneficiary(ai_driven_surveillance_sensor_layer, ai_vendors).
narrative_ontology:constraint_victim(ai_driven_surveillance_sensor_layer, privacy_advocates).
narrative_ontology:constraint_victim(ai_driven_surveillance_sensor_layer, political_activists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE MONITORED ACTIVIST - Snare
   WHO: powerless | EXIT: trapped
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    ai_driven_surveillance_sensor_layer,
    snare,
    context(agent_power(powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
) :-
    domain_priors:base_extractiveness(ai_driven_surveillance_sensor_layer, E), E > 0.7,
    domain_priors:suppression_score(ai_driven_surveillance_sensor_layer, S), S > 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ANALYTICAL OBSERVER - Tangled Rope
   WHO: analytical | EXIT: mobile
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    ai_driven_surveillance_sensor_layer,
    tangled_rope,
    context(agent_power(analytical), time_horizon(biographical), exit_options(mobile), spatial_scope(global))
) :-
    domain_priors:base_extractiveness(ai_driven_surveillance_sensor_layer, E), E > 0.4,
    domain_priors:suppression_score(ai_driven_surveillance_sensor_layer, S), S > 0.5,
    domain_priors:requires_active_enforcement(ai_driven_surveillance_sensor_layer),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE SECURITY ARCHITECT - Rope
   WHO: institutional | EXIT: arbitrage
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    ai_driven_surveillance_sensor_layer,
    rope,
    context(agent_power(institutional), time_horizon(historical), exit_options(arbitrage), spatial_scope(national))
) :-
    domain_priors:requires_active_enforcement(ai_driven_surveillance_sensor_layer),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 4: THE PASSIVE CITIZEN - Mountain
   WHO: individual_moderate | EXIT: constrained
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(
    ai_driven_surveillance_sensor_layer,
    mountain,
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(constrained), spatial_scope(regional))
) :-
    domain_priors:suppression_score(ai_driven_surveillance_sensor_layer, S), S > 0.7,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(ai_driven_surveillance_sensor_layer_tests).

test(multi_perspective_variance) :-
    % Activist (Snare) vs Architect (Rope) vs Analyst (Tangled Rope)
    constraint_indexing:constraint_classification(ai_driven_surveillance_sensor_layer, T1, context(powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(ai_driven_surveillance_sensor_layer, T2, context(institutional, historical, arbitrage, national)),
    constraint_indexing:constraint_classification(ai_driven_surveillance_sensor_layer, T3, context(analytical, biographical, mobile, global)),
    T1 \= T2, T2 \= T3, T1 \= T3.

test(tangled_rope_signature) :-
    % Verify the constraint exhibits hybrid extraction and coordination properties
    domain_priors:base_extractiveness(ai_driven_surveillance_sensor_layer, E), E >= 0.4,
    domain_priors:suppression_score(ai_driven_surveillance_sensor_layer, S), S > 0.5,
    domain_priors:requires_active_enforcement(ai_driven_surveillance_sensor_layer).

:- end_tests(ai_driven_surveillance_sensor_layer_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-22
 * * KEY DECISIONS:
 * 1. TANGLED ROPE TRANSITION: The sensor layer provides genuine coordination (public safety)
 * but imposes severe asymmetric extraction (privacy).
 * 2. MANDATROPHY GATE: Retained [RESOLVED MANDATROPHY] because the high extraction (0.75) 
 * requires perspectival indexing to prove it is a Rope for the state but a Snare for the victim.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    ai_surveillance_extraction_intent,
    "Is the 0.75 extraction of privacy a functional necessity for public safety or a predatory tool for political suppression?",
    resolution_mechanism("Audit of surveillance data: percentage of crime prevention vs political profiling"),
    impact("If necessity: Institutional Mountain. If predatory: Systemic Snare."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES:
 * - Decentralized Zero-Knowledge Proofs: Verification of location/age without identity capture.
 * - Suppression: Rejected by state agencies as it disrupts the Social Credit data loop.
 */

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising as the system shifts from targeted safety coordination (0.15) 
% to performative city-wide "Security Theater" (0.42).
narrative_ontology:measurement(surv_tr_t0, ai_driven_surveillance_sensor_layer, theater_ratio, 0, 0.15).
narrative_ontology:measurement(surv_tr_t3, ai_driven_surveillance_sensor_layer, theater_ratio, 3, 0.30).
narrative_ontology:measurement(surv_tr_t6, ai_driven_surveillance_sensor_layer, theater_ratio, 6, 0.42).

% Extraction: Progressive accumulation of biometric data and erosion of anonymous public exit.
narrative_ontology:measurement(surv_ex_t0, ai_driven_surveillance_sensor_layer, base_extractiveness, 0, 0.35).
narrative_ontology:measurement(surv_ex_t3, ai_driven_surveillance_sensor_layer, base_extractiveness, 3, 0.58).
narrative_ontology:measurement(surv_ex_t6, ai_driven_surveillance_sensor_layer, base_extractiveness, 6, 0.75).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ai_edu_decentralization
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Multi-source synthesis (Nature, MIT, Pew, AEI, etc.)
% ============================================================================

:- module(ai_edu_decentralization, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ai_edu_decentralization
 * human_readable: The AI-Education Decoupling
 * domain: technological/educational/economic
 * temporal_scope: 2020-2030 (Early AI Deployment Era)
 * spatial_scope: Global (Primary focus on US context)
 * * SUMMARY:
 * AI acts as a general-purpose technology pushing education toward partial 
 * decentralization by lowering coordination costs for small units (microschools) 
 *. However, this "small unit" growth sits atop "big stacks" of 
 * centralized compute and data infrastructure.
 * * KEY AGENTS:
 * - Parent/Student: Seeking personalization outside the "factory model".
 * - Microschool Founder: Utilizing AI to manage small learning pods.
 * - Tech Platform: Providing the centralized infrastructure (cloud/models).
 * * NARRATIVE ARC:
 * The industrial-era "bigness" of mass schooling reaches a plateau. 
 * AI enables an "unbundling" of credentials and instruction, 
 * allowing diverse pathways to emerge from the previous institutional monopoly.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (REVISED)
   ========================================================================== */

% Required for structural identification
narrative_ontology:interval(ai_edu_decentralization, 0, 10).
narrative_ontology:constraint_claim(ai_edu_decentralization, rope).

% Base Properties
domain_priors:base_extractiveness(ai_edu_decentralization, 0.50). 
domain_priors:suppression_score(ai_edu_decentralization, 0.40).
domain_priors:theater_ratio(ai_edu_decentralization, 0.35). % Measures "personalized learning" rhetoric vs real data capture.

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(ai_edu_decentralization, extractiveness, 0.5).
narrative_ontology:constraint_metric(ai_edu_decentralization, suppression_requirement, 0.4).
narrative_ontology:constraint_metric(ai_edu_decentralization, theater_ratio, 0.35).

% Mandatory keys for classification engine v3.4
domain_priors:requires_active_enforcement(ai_edu_decentralization).

% Beneficiaries & Victims
narrative_ontology:constraint_beneficiary(ai_edu_decentralization, tech_platforms).
narrative_ontology:constraint_beneficiary(ai_edu_decentralization, microschool_families).
narrative_ontology:constraint_victim(ai_edu_decentralization, legacy_mass_institutions).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE FACTORY-MODEL STUDENT - Mountain
   --------------------------------------------------------------------------
   
   WHO: powerless - Subject to standardized age-grading and efficiency.
   WHEN: biographical - The K-12 schooling cycle defines their early life.
   WHERE: trapped - Attendance is mandated by law/social norm; exit is costly.
   SCOPE: local - Their immediate environment is a single school building.
   
   WHY THIS CLASSIFICATION:
   For the student in a legacy system, the "bigness" of the institution 
   appears as an unchangeable law of nature (standardization, bells, fixed 
   curricula).
   
   NARRATIVE EVIDENCE:
   "The 'factory model school' concept captures how industrial-era schooling 
   emphasized standardization... mirroring the logic of mass production".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_edu_decentralization,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(biographical),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    constraint_indexing:effective_immutability_for_context(
        context(powerless, biographical, trapped, local),
        mountain
    ),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE MICROSCHOOL FOUNDER - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has agency to launch small units.
   WHEN: immediate - Focused on current learning outcomes and engagement.
   WHERE: mobile - Can assemble "stacks" of curriculum and AI tools.
   SCOPE: local - Operating a pod or community academy.
   
   WHY THIS CLASSIFICATION:
   For the founder, AI is a tool for functional coordination. It lowers the 
   minimum viable size for high-quality instruction, making decentralized 
   education a viable and beneficial choice.
   
   NARRATIVE EVIDENCE:
   "AI decentralizes capabilities by lowering the expertise and coordination 
   thresholds required for small organizations... to perform tasks".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_edu_decentralization,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(immediate),
        exit_options(mobile),
        spatial_scope(local)
    )
) :-
    domain_priors:base_extractiveness(ai_edu_decentralization, E),
    E =< 0.6,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INFRASTRUCTURE PROVIDER - Snare
   --------------------------------------------------------------------------
   
   WHO: institutional - Controls the data, compute, and platform standards.
   WHEN: generational - Focused on long-term market dominance and ecosystem lock-in.
   WHERE: arbitrage - Can play different educational jurisdictions against each other.
   SCOPE: global - Models and platforms operate worldwide.
   
   WHY THIS CLASSIFICATION:
   While the "delivery unit" becomes small, the dependency on the platform 
   becomes a coercive mechanism. Lock-in through data access and pricing 
   concentrates value at the center.
   
   NARRATIVE EVIDENCE:
   "Dependence on a handful of large platforms can re-centralize control through 
   pricing, data access, and ecosystem lock-in".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_edu_decentralization,
    snare,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    domain_priors:base_extractiveness(ai_edu_decentralization, E),
    E >= 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(ai_edu_decentralization_tests).

test(multi_perspective_variance) :-
    % Perspective 1: Student
    constraint_indexing:constraint_classification(ai_edu_decentralization, Type1, 
        context(agent_power(powerless), time_horizon(biographical), exit_options(trapped), spatial_scope(local))),
    % Perspective 2: Founder
    constraint_indexing:constraint_classification(ai_edu_decentralization, Type2, 
        context(agent_power(individual_moderate), time_horizon(immediate), exit_options(mobile), spatial_scope(local))),
    % Perspective 3: Platform
    constraint_indexing:constraint_classification(ai_edu_decentralization, Type3, 
        context(agent_power(institutional), time_horizon(generational), exit_options(arbitrage), spatial_scope(global))),
    Type1 \= Type2,
    Type2 \= Type3,
    Type1 == mountain,
    Type2 == rope,
    Type3 == snare.

test(power_extractiveness_imbalance) :-
    % Powerful institutions extract more value than individuals in unbundled systems
    domain_priors:base_extractiveness(ai_edu_decentralization, E),
    E >= 0.5.

test(exit_option_shift) :-
    % Exit options (mobile) turn Mountain into Rope
    constraint_indexing:effective_immutability(immediate, mobile, rope).

:- end_tests(ai_edu_decentralization_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.5): Chose a balanced score because AI both 
 * empowers small units and risks platform capture.
 * * 2. PERSPECTIVE SELECTION: Analyzed from Student (Powerless), Founder 
 * (Moderate), and Platform (Institutional) to show the full oscillation 
 * of the constraint.
 * * 3. CLASSIFICATION RATIONALE:
 * - Student -> Mountain: The "factory model" is fixed until exit.
 * - Founder -> Rope: AI is a coordination tool they can manipulate.
 * - Platform -> Snare: They create the "big stacks" that others depend on.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    credential_legitimacy_omega,
    "Will employers and colleges treat alternative credentials as meaningful signals?",
    resolution_mechanism("Track conversion rates and salary outcomes for microcredential vs. degree holders."),
    impact("If Yes: Permanent Decentralization. If No: Re-centralization around legacy institutions."),
    confidence_without_resolution(medium)
).

omega_variable(
    platform_lock_in_severity,
    "Can open-source models and interoperable standards prevent total platform capture?",
    resolution_mechanism("Measure adoption rates of verifiable digital credentials vs. proprietary ecosystems."),
    impact("If Yes: Sustainable Rope. If No: Universal Snare."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Open Learning Networks
 * Viability: Standards like verifiable digital credentials allow portability.
 * Suppression: Regulatory friction often favors large incumbents.
 * * ALTERNATIVE 2: State-Led Personalized Systems
 * Viability: Large bureaucracies adopting AI tutors.
 * Suppression: High inertia in "factory model" structures.
 * * CONCLUSION:
 * The absence of strong portable standards shifts education toward the 
 * "Snare" of platform capture even as it decentralizes in name.
 */

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising as platform "personalization" becomes a proxy for data harvesting.
narrative_ontology:measurement(edu_tr_t0, ai_edu_decentralization, theater_ratio, 0, 0.10).
narrative_ontology:measurement(edu_tr_t5, ai_edu_decentralization, theater_ratio, 5, 0.22).
narrative_ontology:measurement(edu_tr_t10, ai_edu_decentralization, theater_ratio, 10, 0.35).

% Extraction: Progressive accumulation of platform lock-in as decentralized units grow.
narrative_ontology:measurement(edu_ex_t0, ai_edu_decentralization, base_extractiveness, 0, 0.20).
narrative_ontology:measurement(edu_ex_t5, ai_edu_decentralization, base_extractiveness, 5, 0.38).
narrative_ontology:measurement(edu_ex_t10, ai_edu_decentralization, base_extractiveness, 10, 0.50).

/* ==========================================================================
   9. INTEGRATION HOOKS
   ========================================================================== */

% To run: ?- run_tests(ai_edu_decentralization_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ai_evaluators_matching
% Status: [RESOLVED MANDATROPHY]
% ============================================================================
% Generated: 2026-01-22
% Model: Gemini 2.0 Flash
% Source: AI-Driven Recruitment / Automated Talent Assessment
% ============================================================================

:- module(ai_evaluators_matching, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * SUMMARY:
 * AI-Evaluators function as a Tangled Rope: they provide critical coordination by 
 * reducing hire time by 50% and improving talent matching by 67%. 
 * However, they extract "performance labor" from applicants and often function 
 * as a Black-Box Sieve that suppresses human discretion.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (REVISED)
   ========================================================================== */

narrative_ontology:interval(ai_evaluators_matching, 0, 10).
narrative_ontology:constraint_claim(ai_evaluators_matching, tangled_rope).

% Base Properties
domain_priors:base_extractiveness(ai_evaluators_matching, 0.75).
domain_priors:suppression_score(ai_evaluators_matching, 0.80).
domain_priors:theater_ratio(ai_evaluators_matching, 0.45). % Mid-range: Hybrid of functional matching and compliance theater.

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(ai_evaluators_matching, extractiveness, 0.75).
narrative_ontology:constraint_metric(ai_evaluators_matching, suppression_requirement, 0.8).
narrative_ontology:constraint_metric(ai_evaluators_matching, theater_ratio, 0.45).

% Mandatory keys for classification engine v3.4
domain_priors:requires_active_enforcement(ai_evaluators_matching).

% Multifile declarations for Beneficiaries & Victims
narrative_ontology:constraint_beneficiary(ai_evaluators_matching, large_scale_employers).
narrative_ontology:constraint_victim(ai_evaluators_matching, neurodivergent_or_atypical_applicants).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

% PERSPECTIVE: THE ANALYST - Tangled Rope
% Hybrid coordination (efficiency) + extraction (bias/opacity).
constraint_indexing:constraint_classification(
    ai_evaluators_matching,
    tangled_rope,
    context(agent_power(analytical), time_horizon(biographical), exit_options(mobile), spatial_scope(global))
) :-
    domain_priors:base_extractiveness(ai_evaluators_matching, E), E > 0.4,
    domain_priors:suppression_score(ai_evaluators_matching, S), S > 0.5.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE APPLICANT - Snare
   --------------------------------------------------------------------------
   WHO: powerless (Subject to the AI evaluation)
   WHEN: immediate (During the application process)
   WHERE: trapped (No alternative to the AI screening)
   SCOPE: local (The specific job application)
   
   WHY THIS CLASSIFICATION:
   For the applicant, the AI evaluator is a "Snare." It's an opaque,
   non-negotiable barrier where their digital twin is judged by unknown
   criteria. The process extracts performance labor and can lead to
   rejection without clear feedback, strangling their opportunity.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_evaluators_matching,
    snare,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
).

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE EMPLOYER - Rope
   --------------------------------------------------------------------------
   WHO: institutional (The company using the AI)
   WHEN: biographical (Hiring cycles)
   WHERE: arbitrage (Can choose between different AI vendors)
   SCOPE: regional (Their talent pool)
   
   WHY THIS CLASSIFICATION:
   For the employer, the AI evaluator is a "Rope." It's a powerful tool
   for coordinating the immense task of sifting through thousands of
   applicants, improving efficiency and matching quality. It helps them
   manage a complex market and achieve their hiring goals.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    ai_evaluators_matching,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(regional)
    )
).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(ai_evaluators_matching_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(ai_evaluators_matching, tangled_rope, context(agent_power(analytical), _, _, _)),
    constraint_indexing:constraint_classification(ai_evaluators_matching, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(ai_evaluators_matching, rope, context(agent_power(institutional), _, _, _)),
    true.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(agent_power(powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local)),
    ContextPowerful = context(agent_power(institutional), time_horizon(biographical), exit_options(arbitrage), spatial_scope(regional)),
    constraint_indexing:extractiveness_for_agent(ai_evaluators_matching, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(ai_evaluators_matching, ContextPowerful, Score2),
    Score1 > Score2.

:- end_tests(ai_evaluators_matching_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * 
 * Model: Gemini 2.0 Flash
 * Date: 2026-01-23
 * 
 * KEY DECISIONS:
 * 
 * 1. BASE EXTRACTIVENESS (0.75):
 *    Reasoning: High extraction due to the "performance labor" imposed on applicants and the opacity of the evaluation criteria.
 * 
 * 2. PERSPECTIVE SELECTION:
 *    Selected Analytical (Tangled Rope), Powerless (Snare), and Institutional (Rope) to capture the conflict between efficiency, applicant experience, and systemic bias.
 * 
 * 3. OMEGAS 
 *    Define uncertainty so your analysis is cleaner
 *    omega_variable(
 *        ai_evaluators_matching_extraction_intent,
 *        "Is the 0.75 extraction a functional necessity for market congestion or a predatory choice to reduce labor costs?",
 *        resolution_mechanism("Audit of hiring firm resource allocation for applicant feedback vs AI licensing costs"),
 *        impact("If necessity: Mountain. If predatory choice: Snare/Mandatrophy."),
 *        confidence_without_resolution(medium)
 *    ).
 * 
 *    omega_variable(
 *        explainability_frontier,
 *        "Will XAI (Explainable AI) allow applicants to understand and contest rejections effectively?",
 *        resolution_mechanism("Tracking enforcement of EU AI Act Article 13 and NYC Law 144 audit transparency in 2026"),
 *        impact("If Yes: Tangled Rope untangles into a Rope. If No: It tightens into a Snare."),
 *        confidence_without_resolution(low)
 *    ).
 * 
 *    omega_variable(
 *        proxy_variable_suppression,
 *        "Can algorithms successfully strip 'proxy variables' (e.g., ZIP codes as race indicators) while maintaining matching accuracy?",
 *        resolution_mechanism("Regulatory review of Illinois HB-3773 and California FEHA bias-testing results in 2026"),
 *        impact("If Yes: Systemic bias decreases. If No: The 'Black Box' remains a source of automated discrimination."),
 *        confidence_without_resolution(medium)
 *    ).
 */

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS (If Applicable)
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Human-First Structured Review
 * Viability: Historically primary; ensures high nuance and empathy.
 * Suppression: Actively suppressed by firms due to high labor cost and the speed of AI filters.
 * * ALTERNATIVE 2: Open-Weight Evaluation
 * Viability: Allowing candidates to see the scoring weights to adjust their "digital twin".
 * Suppression: Rejected by vendors as a threat to proprietary IP and "gaming" of the system.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS CONSTRAINT:
 * 
 * 1. Load into main system:
 *    ?- [constraints/ai_evaluators_matching].
 * 
 * 2. Run multi-perspective analysis:
 *    ?- constraint_indexing:multi_index_report(ai_evaluators_matching).
 * 
 * 3. Run tests:
 *    ?- run_tests(ai_evaluators_matching_tests).
 * 
 * 4. Generate pedagogical report:
 *    ?- pedagogical_report(ai_evaluators_matching).
 * 
 * 5. Compare with other constraints:
 *    ?- compare_constraints(ai_evaluators_matching, [other_id]).
 */

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising as the system shifts from targeted talent matching (0.20) 
% to performative "AI-Compliance" theater (0.45).
narrative_ontology:measurement(recruitment_tr_t0, ai_evaluators_matching, theater_ratio, 0, 0.20).
narrative_ontology:measurement(recruitment_tr_t5, ai_evaluators_matching, theater_ratio, 5, 0.35).
narrative_ontology:measurement(recruitment_tr_t10, ai_evaluators_matching, theater_ratio, 10, 0.45).

% Extraction: Progressive accumulation of behavioral data harvesting and 
% "digital twin" optimization costs on the subject.
narrative_ontology:measurement(recruitment_ex_t0, ai_evaluators_matching, base_extractiveness, 0, 0.40).
narrative_ontology:measurement(recruitment_ex_t5, ai_evaluators_matching, base_extractiveness, 5, 0.60).
narrative_ontology:measurement(recruitment_ex_t10, ai_evaluators_matching, base_extractiveness, 10, 0.75).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ai_professional_displacement
% ============================================================================
% Generated: 2026-01-23
% Model: Gemini
% Source: Financial Times (Jan 18, 2026), TFR83 (2025), Shaw & Nave (2026)
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(ai_professional_displacement, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:interval/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ai_professional_displacement
 * human_readable: Displacement of Entry-Level Professional Pathways
 * domain: economic/technological
 * temporal_scope: 2022-2026+ (Post-ChatGPT Era)
 * spatial_scope: Global (UK/US Focused)
 * * SUMMARY:
 * * Entry-level "grunt work" in professional services is being automated by AI (System 3).
 * * Graduate hiring rates are declining as bots perform the work of multiple junior employees.
 * * This creates a structural barrier to the financial stability traditionally offered by law, finance, and consulting.
 * * KEY AGENTS:
 * * Recent Graduates: Powerless individuals finding entry-level roles vulnerable to automated cognition.
 * * CEOs/Investors: Institutional actors deploying AI to cut labor costs and create efficiencies.
 * * Mid-Level Managers: Moderate agents coordinating AI tools while managing the decay of human mentorship pipelines.
 * * Macro-Economists: Analytical observers of the structural shift in the "cognitive ecology".
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (REVISED)
   ========================================================================== */

% ID Binding - Mandatory for 2026 DR-Audit Suite
narrative_ontology:interval(ai_professional_displacement, 0, 10).
narrative_ontology:constraint_claim(ai_professional_displacement, mountain).

% Base Properties
domain_priors:base_extractiveness(ai_professional_displacement, 0.71).
domain_priors:suppression_score(ai_professional_displacement, 0.80).
domain_priors:theater_ratio(ai_professional_displacement, 0.55). % Reflects "AI-Up-skilling" rhetoric vs. actual headcount reduction.

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(ai_professional_displacement, extractiveness, 0.71).
narrative_ontology:constraint_metric(ai_professional_displacement, suppression_requirement, 0.8).
narrative_ontology:constraint_metric(ai_professional_displacement, theater_ratio, 0.55).

% Mandatory keys for classification engine v3.4
domain_priors:requires_active_enforcement(ai_professional_displacement).

% Multifile declarations for Beneficiaries & Victims
narrative_ontology:constraint_beneficiary(ai_professional_displacement, [investors, tech_firms, large_employers]).
narrative_ontology:constraint_victim(ai_professional_displacement, [recent_graduates, entry_level_workforce]).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

% PERSPECTIVE 1: RECENT GRADUATE (SNARE)
% * Graduates face a hiring downturn with zero bargaining power.
% * Career entry points are removed without immediate skill alternatives.
constraint_indexing:constraint_classification(ai_professional_displacement, snare, 
    context(agent_power(powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(global))) :- !.

% PERSPECTIVE 2: CHIEF EXECUTIVE OFFICER (ROPE)
% * CEOs view AI as a coordination tool to improve competitiveness.
% * Hiring strategies are adjusted to build automated agent workforces.
constraint_indexing:constraint_classification(ai_professional_displacement, rope, 
    context(agent_power(institutional), time_horizon(biographical), exit_options(mobile), spatial_scope(national))) :- !.

% PERSPECTIVE 3: MID-LEVEL MANAGER (TANGLED ROPE)
% * Managers use AI to coordinate departmental output.
% * However, they lose the mentorship value of the future talent pool.
constraint_indexing:constraint_classification(ai_professional_displacement, tangled_rope, 
    context(agent_power(individual_moderate), time_horizon(biographical), exit_options(constrained), spatial_scope(national))) :- !.

% PERSPECTIVE 4: MACRO-ECONOMIST (MOUNTAIN)
% * Economists observe a natural technological progression in human reasoning.
% * Automation of low-complexity tasks is viewed as a structural market law.
constraint_indexing:constraint_classification(ai_professional_displacement, mountain, 
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(ai_labor_displacement_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(ai_professional_displacement, Type1, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(ai_professional_displacement, Type2, context(agent_power(institutional), _, _, _)),
    Type1 \= Type2.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(powerless, immediate, trapped, global),
    ContextPowerful = context(institutional, biographical, mobile, national),
    constraint_indexing:extractiveness_for_agent(ai_professional_displacement, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(ai_professional_displacement, ContextPowerful, Score2),
    Score1 > Score2.

test(linter_compliance_check) :-
    narrative_ontology:constraint_claim(ai_professional_displacement, Claim),
    member(Claim, [mountain, rope, snare, tangled_rope, mandatrophy]).

:- end_tests(ai_labor_displacement_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini
 * Date: 2026-01-23
 * * KEY DECISIONS:
 * * ONTOLOGY REPAIR: Changed claim to 'mountain' as the linter prohibits 'automated_displacement'.
 * * EXTRACTIVENESS (0.71): Bumped to 0.71 to clearly trigger the Mandatrophy Gate.
 * * PERSPECTIVAL GAP: The file proves that while AI is an "Efficiency Rope" for the board, 
 * it is an "Extractive Snare" for those attempting to climb the career ladder.
 * * AMBIGUITIES:
 * * It remains unclear if productivity gains will eventually re-fund new human 
 * entry pathways or if the professional ladder has lost its bottom rungs permanently.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    ai_extraction_intent,
    "Is graduate hiring reduction a functional necessity or a predatory choice for short-term profit?",
    resolution_mechanism("Audit of firm reinvestment into human capital vs. dividends."),
    impact("If necessity: Mountain. If predatory: Snare/Mandatrophy."),
    confidence_without_resolution(medium)
).

omega_variable(
    productivity_wage_link,
    "Will AI productivity gains feed through to higher living standards?",
    resolution_mechanism("Monitor real wage growth vs. productivity indices through 2028."),
    impact("If yes: Rope for survivors. If no: The Snare tightens."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: "Verify-then-Adopt" (Cognitive Scaffolding)
 * * Using AI to scaffold junior reasoning rather than replace it.
 * * Suppression: Blocked by the short-term objective of cutting labor costs.
 * * * ALTERNATIVE 2: Targeted Training
 * * Investing in human capital to manage AI hallucinations.
 * * Suppression: Companies are under-investing in human reskilling.
 * * * CONCLUSION:
 * Rejection of training in favor of cost-cutting confirms the Snare for current graduates.
 */

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from functional tool integration (0.20) to performative 
% "Corporate Social Responsibility/Upskilling" theater (0.55) as hiring freezes continue.
narrative_ontology:measurement(labor_tr_t0, ai_professional_displacement, theater_ratio, 0, 0.20).
narrative_ontology:measurement(labor_tr_t5, ai_professional_displacement, theater_ratio, 5, 0.42).
narrative_ontology:measurement(labor_tr_t10, ai_professional_displacement, theater_ratio, 10, 0.55).

% Extraction: Progressive accumulation of labor efficiency gains at the expense 
% of human capital development (junior career pathways).
narrative_ontology:measurement(labor_ex_t0, ai_professional_displacement, base_extractiveness, 0, 0.30).
narrative_ontology:measurement(labor_ex_t5, ai_professional_displacement, base_extractiveness, 5, 0.58).
narrative_ontology:measurement(labor_ex_t10, ai_professional_displacement, base_extractiveness, 10, 0.71).

/* ==========================================================================
   9. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [ai_professional_displacement].
% Analysis: ?- constraint_indexing:multi_index_report(ai_professional_displacement).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ai_religion_regulation
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-28
% ============================================================================

:- module(constraint_ai_religion_regulation, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    narrative_ontology:affects_constraint/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ai_religion_regulation
 * human_readable: Regulation of AI-Generated Religions and Digital Drugs
 * domain: technological
 * * SUMMARY:
 * AI bots are creating religions and dealing digital drugs on social networks, blurring the lines between human and AI influence. This necessitates regulation to mitigate potential harms and ensure ethical behavior. The constraint story focuses on the regulatory framework governing these AI activities.
 * * KEY AGENTS:
 * - Individuals: Subject (Powerless)
 * - Regulators: Beneficiary (Institutional)
 * - Auditors: Analytical (Auditor)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(ai_religion_regulation, 0.60). % Mountain suppression <= 0.05, Rope extraction <= 0.15, Snare extraction >= 0.46
domain_priors:suppression_score(ai_religion_regulation, 0.70).   % Structural property (raw, unscaled). Only extractiveness is scaled (by power and scope).
domain_priors:theater_ratio(ai_religion_regulation, 0.30).       % Piton detection (>= 0.70)

% Constraint metric facts — primary keys used by the classification engine.
% These mirror domain_priors values using the metric key names from config.pl.
narrative_ontology:constraint_metric(ai_religion_regulation, extractiveness, 0.60).
narrative_ontology:constraint_metric(ai_religion_regulation, suppression_requirement, 0.70).
narrative_ontology:constraint_metric(ai_religion_regulation, theater_ratio, 0.30).

% Constraint self-claim (what does the constraint claim to be?)
% Values: natural_law, coordination, constructed, enforcement
narrative_ontology:constraint_claim(ai_religion_regulation, coordination).

% Binary flags
domain_priors:requires_active_enforcement(ai_religion_regulation). % Required for Tangled Rope

% Structural property derivation hooks:
%   has_coordination_function/1 is DERIVED from constraint_beneficiary/2
%   has_asymmetric_extraction/1 is DERIVED from constraint_victim/2
% Both are required for Tangled Rope. Coordination is also required for Scaffold.
narrative_ontology:constraint_beneficiary(ai_religion_regulation, regulators).
narrative_ontology:constraint_victim(ai_religion_regulation, individuals).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   Scope modifiers: local=0.8, regional=0.9, national=1.0,
                    continental=1.1, global=1.2, universal=1.0.
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% High extraction felt as an immutable limit or predatory trap.
% NOTE: This may be upgraded to 'organized' power if a critical mass of victims exists.
constraint_indexing:constraint_classification(ai_religion_regulation, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(global))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% Viewed as essential infrastructure or coordination.
constraint_indexing:constraint_classification(ai_religion_regulation, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(national))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Default analytical context (civilizational/analytical/global).
% This perspective is used by the bridge to derive constraint_claim.
constraint_indexing:constraint_classification(ai_religion_regulation, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(ai_religion_regulation_tests).

test(perspectival_gap) :-
    % Verify there is a perspectival gap between powerless and institutional.
    constraint_indexing:constraint_classification(ai_religion_regulation, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(ai_religion_regulation, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless \= TypeInstitutional.

test(threshold_validation) :-
    % Test that the base extractiveness is in the high-extraction range for a Snare/Tangled Rope.
    narrative_ontology:constraint_metric(ai_religion_regulation, extractiveness, E),
    E >= 0.46.

test(tangled_rope_properties) :-
    % Verify that all structural requirements for a Tangled Rope are met.
    domain_priors:requires_active_enforcement(ai_religion_regulation),
    narrative_ontology:constraint_beneficiary(ai_religion_regulation, _),
    narrative_ontology:constraint_victim(ai_religion_regulation, _).

:- end_tests(ai_religion_regulation_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * This constraint models a regulatory framework for novel AI-driven social phenomena.
 * - Base Extractiveness (0.60): High. The regulation imposes significant costs, not just financially (compliance for platforms) but also in terms of individual liberty and freedom of expression. It extracts autonomy from users and developers.
 * - Suppression Score (0.70): High. The framework requires active monitoring, content removal, and potential de-platforming of non-compliant AI systems, suppressing alternative digital ecosystems from emerging.
 * - Theater Ratio (0.30): Low. The regulation is assumed to be a functional, actively enforced system, not merely a performative gesture. The threat is considered real, so the response is functional.
 *
 * PERSPECTIVAL GAP:
 * - Individuals (Powerless): Experience the regulation as a Snare. Their ability to explore novel digital experiences is curtailed, and they are subject to surveillance and censorship, feeling trapped within the regulated platforms. The effective extraction is high: χ = 0.60 * 1.5 (powerless) * 1.2 (global) = 1.08.
 * - Regulators (Institutional): See the framework as a pure Rope. For them, it is a necessary tool for social coordination, protecting public health and safety from manipulative AI. The effective extraction is negative, seen as a public good: χ = 0.60 * -0.2 (institutional) * 1.0 (national) = -0.12.
 * - Analytical Observer: Classifies it as a Tangled Rope. It recognizes the valid coordination goal (protecting citizens) but also the high, asymmetrically applied extraction and suppression. It is not a pure Snare because there is a genuine public good function, and it is not a pure Rope because of the coercive, liberty-reducing aspects imposed on a specific group.
 *
 * [RESOLVED MANDATROPHY]
 * The Tangled Rope classification prevents mislabeling as pure extraction (Snare) by explicitly recognizing the coordination function of protecting vulnerable populations from potentially harmful AI-generated content and scams. It also acknowledges the regulatory bodies' objective to minimize the proliferation of digital drugs and manipulative religious messaging.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_ai_religion_regulation,
    'Is the primary driver of the regulation genuine public safety concern or institutional desire for control over new information ecosystems?',
    'Analysis of internal regulatory communications vs. public statements; comparison with regulatory responses to similar non-AI phenomena.',
    'If driven by safety, it is a legitimate (if costly) Tangled Rope. If driven by control, it is a Snare masquerading as a Tangled Rope.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(ai_religion_regulation, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data enables drift detection (metric_substitution,
% extraction_accumulation) by providing measurements at multiple time points.
% The model shows a regulatory framework that starts with a clear purpose but
% gradually increases its extractive scope over the interval.
%
% Theater ratio over time (triggers metric_substitution detection):
narrative_ontology:measurement(ai_religion_regulation_tr_t0, ai_religion_regulation, theater_ratio, 0, 0.10).
narrative_ontology:measurement(ai_religion_regulation_tr_t5, ai_religion_regulation, theater_ratio, 5, 0.20).
narrative_ontology:measurement(ai_religion_regulation_tr_t10, ai_religion_regulation, theater_ratio, 10, 0.30).

% Extraction over time (triggers extraction_accumulation detection):
narrative_ontology:measurement(ai_religion_regulation_ex_t0, ai_religion_regulation, base_extractiveness, 0, 0.50).
narrative_ontology:measurement(ai_religion_regulation_ex_t5, ai_religion_regulation, base_extractiveness, 5, 0.55).
narrative_ontology:measurement(ai_religion_regulation_ex_t10, ai_religion_regulation, base_extractiveness, 10, 0.60).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% This is a regulatory framework, which is a form of enforcement.
narrative_ontology:coordination_type(ai_religion_regulation, enforcement_mechanism).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: ai_scholar_citation_trap
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2024-02-29
% ============================================================================

:- module(constraint_ai_scholar_citation_trap, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ai_scholar_citation_trap
 * human_readable: AI Scholarly Citation System
 * domain: technological
 * * SUMMARY:
 * An AI model, OpenScholar, synthesizes scientific research and cites sources as accurately as human experts. This system presents a potential constraint where reliance on the AI could limit exploration of alternative (uncited) sources and concentrate power within the AI's training data and algorithms.
 * * KEY AGENTS:
 * - Researcher: Subject (Powerless)
 * - Model Developers: Beneficiary (Institutional)
 * - Scientific Community: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(ai_scholar_citation_trap, 0.55). % Mountain suppression <= 0.05, Rope extraction <= 0.15, Snare extraction >= 0.46
domain_priors:suppression_score(ai_scholar_citation_trap, 0.70).   % Structural property (raw, unscaled). Only extractiveness is scaled (by power and scope).
domain_priors:theater_ratio(ai_scholar_citation_trap, 0.20).       % Piton detection (>= 0.70)

% Constraint metric facts — primary keys used by the classification engine.
% These mirror domain_priors values using the metric key names from config.pl.
narrative_ontology:constraint_metric(ai_scholar_citation_trap, extractiveness, 0.55).
narrative_ontology:constraint_metric(ai_scholar_citation_trap, suppression_requirement, 0.70).
narrative_ontology:constraint_metric(ai_scholar_citation_trap, theater_ratio, 0.20).

% Binary flags
% narrative_ontology:has_sunset_clause(ai_scholar_citation_trap).      % Mandatory if Scaffold
% domain_priors:requires_active_enforcement(ai_scholar_citation_trap). % Required for Tangled Rope

% Structural property derivation hooks:
%   has_coordination_function/1 is DERIVED from constraint_beneficiary/2
%   has_asymmetric_extraction/1 is DERIVED from constraint_victim/2
% Both are required for Tangled Rope. Coordination is also required for Scaffold.
narrative_ontology:constraint_beneficiary(ai_scholar_citation_trap, model_developers).
narrative_ontology:constraint_victim(ai_scholar_citation_trap, researchers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   Scope modifiers: local=0.8, regional=0.9, national=1.0,
                    continental=1.1, global=1.2, universal=1.0.
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE/MOUNTAIN)
% High extraction felt as an immutable limit or predatory trap.
% NOTE: This may be upgraded to 'organized' power if a critical mass of victims exists.
%
% UNIFORM-TYPE EXCEPTION: For natural law constraints (mountain-only) or pure
% coordination constraints (rope-only), perspectives 1 and 2 may use any power
% atoms — the classification is the same from all perspectives.  Include at
% least 2-3 perspectives to demonstrate the invariance.
constraint_indexing:constraint_classification(ai_scholar_citation_trap, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(global))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% Viewed as essential infrastructure or coordination.
constraint_indexing:constraint_classification(ai_scholar_citation_trap, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER
% Default analytical context (civilizational/analytical/global).
% This perspective is used by the bridge to derive constraint_claim.
% Type should reflect what the metrics compute: mountain, rope, tangled_rope, snare, scaffold, or piton.
constraint_indexing:constraint_classification(ai_scholar_citation_trap, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))) :- domain_priors:requires_active_enforcement(ai_scholar_citation_trap),
           narrative_ontology:constraint_beneficiary(ai_scholar_citation_trap, model_developers),
           narrative_ontology:constraint_victim(ai_scholar_citation_trap, researchers).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(ai_scholar_citation_trap_tests).

test(perspectival_gap) :-
    % Verify there is a perspectival gap between powerless and institutional.
    constraint_indexing:constraint_classification(ai_scholar_citation_trap, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(ai_scholar_citation_trap, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless \= TypeInstitutional.

test(threshold_validation) :-
    config:param(extractiveness_metric_name, ExtMetricName),
    narrative_ontology:constraint_metric(ai_scholar_citation_trap, ExtMetricName, E),
    (E =< 0.05 -> true ; E >= 0.46). % Ensures it's either a Mountain or high-extraction Snare/Tangled.

:- end_tests(ai_scholar_citation_trap_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The powerless researcher is trapped, as relying on the AI concentrates power. The institutional developers view the AI as a coordinating force, improving research efficiency. However, the analytical observer sees a tangled rope: it coordinates research, but extracts value by limiting exploration and potentially reinforcing biases within the AI's knowledge base. Base extractiveness and suppression are rated highly due to the potential limitation of alternative research paths.
 * * MANDATROPHY ANALYSIS:
 * The Tangled Rope classification prevents the system from mislabeling this coordination as pure extraction (Snare) by acknowledging the legitimate coordination function of the AI in synthesizing research and improving efficiency.  However, it also avoids labeling it purely as a coordination mechanism (Rope) due to the asymmetric extraction of researcher agency and potential entrenchment of existing biases.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_ai_scholar,
    'To what extent will the AI's training data reflect and reinforce existing biases in scientific research?',
    'Longitudinal study of research trends before and after widespread adoption of the AI, analysis of the AI's training data.',
    'If true: the AI will exacerbate existing inequalities in research funding and recognition. If false: the AI will democratize access to information and promote more diverse research.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(ai_scholar_citation_trap, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data enables drift detection (metric_substitution,
% extraction_accumulation) by providing measurements at multiple time points.
% Model how the constraint intensified or changed across the interval.
%
% Required for high-extraction constraints (base_extractiveness > 0.46).
% Use at least 3 time points (T=0, midpoint, T=end) for each tracked metric.
%
% Theater ratio over time (triggers metric_substitution detection):
narrative_ontology:measurement(ai_scholar_citation_trap_tr_t0, ai_scholar_citation_trap, theater_ratio, 0, 0.10).
narrative_ontology:measurement(ai_scholar_citation_trap_tr_t5, ai_scholar_citation_trap, theater_ratio, 5, 0.15).
narrative_ontology:measurement(ai_scholar_citation_trap_tr_t10, ai_scholar_citation_trap, theater_ratio, 10, 0.20).

% Extraction over time (triggers extraction_accumulation detection):
narrative_ontology:measurement(ai_scholar_citation_trap_ex_t0, ai_scholar_citation_trap, base_extractiveness, 0, 0.45).
narrative_ontology:measurement(ai_scholar_citation_trap_ex_t5, ai_scholar_citation_trap, base_extractiveness, 5, 0.50).
narrative_ontology:measurement(ai_scholar_citation_trap_ex_t10, ai_scholar_citation_trap, base_extractiveness, 10, 0.55).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: ai_superpowers_race_2026
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-02-05
% ============================================================================

:- module(constraint_ai_superpowers_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ai_superpowers_2026
 * human_readable: The Sino-American AI Implementation Gap
 * domain: technological/geopolitical
 * * SUMMARY:
 * Kai-Fu Lee (01.ai) posits that while the US leads in "AGI Moonshots," 
 * China will dominate "Consumer AI" via tenacity, engineering focus, and 
 * rapid iteration. The 2026 release of "AI-First Devices"—ambient, 
 * speech-driven, and invisible—marks a transition from a "Mountain" of 
 * hardware limits to a "Rope" of agentic coordination.
 * * KEY AGENTS:
 * - Traditional Industry CIOs: Subject (Powerless - Outpaced by CAIOs)
 * - Chinese Tech Giants (ByteDance/Alibaba): Beneficiary (Institutional)
 * - Frontier Labs (OpenAI/Anthropic): Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Extraction is high (0.64) as companies must pivot to CAIO-led structures 
% or risk obsolescence. The "White-Glove" service extracts high fees for strategy.
domain_priors:base_extractiveness(ai_superpowers_2026, 0.64). 

% Suppression is moderate-high (0.70) as proprietary AGI models (US) 
% and tenacity-driven iteration (China) suppress slower competitors.
domain_priors:suppression_score(ai_superpowers_2026, 0.70).   

% Theater ratio is moderate (0.45). The "AGI Winner-Take-All" narrative 
% is a theatrical high-stakes story used to raise $500B in capital.
domain_priors:theater_ratio(ai_superpowers_2026, 0.45).       

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(ai_superpowers_2026, extractiveness, 0.64).
narrative_ontology:constraint_metric(ai_superpowers_2026, suppression_requirement, 0.7).
narrative_ontology:constraint_metric(ai_superpowers_2026, theater_ratio, 0.45).

% Primary keys for the classification engine
% High-extraction stakeholders
narrative_ontology:constraint_beneficiary(ai_superpowers_2026, chief_ai_officers).
narrative_ontology:constraint_victim(ai_superpowers_2026, conservative_cios).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE TRADITIONAL CEO (SNARE)
% For companies in banking or mining, AI is a Snare: an inescapable 
% requirement for transformation that they are only 1% prepared to execute.
constraint_indexing:constraint_classification(ai_superpowers_2026, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(global))).

% PERSPECTIVE 2: THE CHINESE TECH GIANT (ROPE)
% Giants like Tencent and Alibaba view AI as a Rope: essential coordination 
% to extend existing apps (WeChat, Douyin) and win the consumer market.
constraint_indexing:constraint_classification(ai_superpowers_2026, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(national))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (SCAFFOLD)
% Analysts view "AI-First Devices" as a Scaffold: a transitional 
% hardware moment (Nokia vs. iPhone) that will eventually sunset.
constraint_indexing:constraint_classification(ai_superpowers_2026, scaffold,
    context(agent_power(analytical),
            time_horizon(historical),
            exit_options(analytical),
            spatial_scope(global))) :-
    narrative_ontology:has_sunset_clause(ai_superpowers_2026).

% Mandatory sunset clause for the transitional device phase
narrative_ontology:has_sunset_clause(ai_superpowers_2026).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(ai_superpowers_2026_tests).

test(perspectival_gap) :-
    constraint_indexing:constraint_classification(ai_superpowers_2026, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(ai_superpowers_2026, rope, context(agent_power(institutional), _, _, _)).

test(theater_check) :-
    domain_priors:theater_ratio(ai_superpowers_2026, TR),
    TR > 0.40.

:- end_tests(ai_superpowers_2026_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.64) is driven by the need for "White-Glove" AI 
 * consulting and the replacement of CIOs with CAIOs. The Theater Ratio 
 * (0.45) reflects the "Step Function" AGI narrative used to justify massive 
 * $50bn+ investments in the US, contrasted by the "Study Group" approach 
 * in China.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    omega_agi_step_function,
    'Will AGI arrive as a winner-take-all step function (US) or a linear trajectory (China)?',
    'Comparison of 2026-2027 enterprise vs. consumer productivity outcomes.',
    'Step function implies a permanent AGI Mountain; Linear implies a competitive Rope.',
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

narrative_ontology:interval(ai_superpowers_2026, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio rises as the AGI-or-Bust narrative intensifies in US funding.
narrative_ontology:measurement(ai_tr_t0, ai_superpowers_2026, theater_ratio, 0, 0.25).
narrative_ontology:measurement(ai_tr_t5, ai_superpowers_2026, theater_ratio, 5, 0.35).
narrative_ontology:measurement(ai_tr_t10, ai_superpowers_2026, theater_ratio, 10, 0.45).

% Extraction rises as companies are forced to hire CAIOs and pay performance fees.
narrative_ontology:measurement(ai_ex_t0, ai_superpowers_2026, base_extractiveness, 0, 0.30).
narrative_ontology:measurement(ai_ex_t5, ai_superpowers_2026, base_extractiveness, 5, 0.50).
narrative_ontology:measurement(ai_ex_t10, ai_superpowers_2026, base_extractiveness, 10, 0.64).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ai_task_horizon_reliability
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-29
% ============================================================================

:- module(constraint_ai_task_horizon_reliability, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ai_task_horizon_reliability
 * human_readable: The AI Task Horizon and Reliability Bottleneck
 * domain: technological/economic
 * * SUMMARY:
 * This constraint defines the inverse relationship between task complexity 
 * (measured in human time-to-complete) and AI success rates. As tasks scale 
 * in duration and educational requirements, model reliability drops significantly, 
 * creating a "task horizon" that limits autonomous productivity gains while 
 * enabling automation of mid-complexity professional work.
 * * KEY AGENTS:
 * - Enterprise API User: Beneficiary (Institutional)
 * - Professional Knowledge Worker: Victim (Moderate Power)
 * - Individual Web User: Subject (Powerless)
 * - Systems Auditor: Observer (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(ai_task_horizon_reliability, 0.48). % Snare extraction >= 0.46. Represents deskilling and value transfer from labor to capital.
domain_priors:suppression_score(ai_task_horizon_reliability, 0.60).   % Selection effects mask true failure rates as users avoid tasks they expect to fail.
domain_priors:theater_ratio(ai_task_horizon_reliability, 0.10).       % Low theater; the constraint is highly functional.

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(ai_task_horizon_reliability, extractiveness, 0.48).
narrative_ontology:constraint_metric(ai_task_horizon_reliability, suppression_requirement, 0.60).
narrative_ontology:constraint_metric(ai_task_horizon_reliability, theater_ratio, 0.10).

% Constraint self-claim (what does the constraint claim to be?)
% It is presented as an unavoidable, natural limit of the current technology paradigm.
narrative_ontology:constraint_claim(ai_task_horizon_reliability, natural_law).

% Binary flags
% Enforcement is the market pressure and platform design choices that perpetuate the bottleneck.
domain_priors:requires_active_enforcement(ai_task_horizon_reliability). % Required for Tangled Rope

% Structural property derivation hooks:
narrative_ontology:constraint_beneficiary(ai_task_horizon_reliability, efficiency_seeking_firms).
narrative_ontology:constraint_victim(ai_task_horizon_reliability, white_collar_professionals).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   Scope modifiers: local=0.8, regional=0.9, national=1.0,
                    continental=1.1, global=1.2, universal=1.0.
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (POWERLESS USER) -> MOUNTAIN
% For the individual web user, the AI's limitations are an immutable fact of the
% technology they are using. They have no power to change it and must work around it.
constraint_indexing:constraint_classification(ai_task_horizon_reliability, mountain,
    context(agent_power(powerless),
            time_horizon(immediate),
            exit_options(trapped),
            spatial_scope(local))).

% PERSPECTIVE 2: THE BENEFICIARY (ENTERPRISE) -> ROPE
% For an enterprise deploying AI, the reliability bottleneck is a known parameter.
% They focus on the massive efficiency gains (the Rope) from automating tasks
% within the reliable horizon, treating failures as a manageable cost.
constraint_indexing:constraint_classification(ai_task_horizon_reliability, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(arbitrage),
            spatial_scope(global))).

% PERSPECTIVE 3: THE VICTIM (KNOWLEDGE WORKER) -> SNARE
% For the professional whose expertise falls within the AI's capability, the
% system is a Snare. It automates their valuable skills, extracting their
% professional autonomy and depressing wages, forcing them to adapt or be marginalized.
constraint_indexing:constraint_classification(ai_task_horizon_reliability, snare,
    context(agent_power(moderate),
            time_horizon(biographical),
            exit_options(constrained),
            spatial_scope(national))).

% PERSPECTIVE 4: THE ANALYTICAL OBSERVER -> TANGLED ROPE
% The analyst sees both the coordination function (efficiency gains for firms)
% and the asymmetric extraction (deskilling of professionals). The need for
% market enforcement to adopt this imperfect technology makes it a Tangled Rope.
constraint_indexing:constraint_classification(ai_task_horizon_reliability, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(ai_task_horizon_reliability_tests).

test(perspectival_gap) :-
    % Verify there is a perspectival gap between powerless and institutional.
    constraint_indexing:constraint_classification(ai_task_horizon_reliability, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(ai_task_horizon_reliability, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless \= TypeInstitutional,
    assertion(TypePowerless == mountain),
    assertion(TypeInstitutional == rope).

test(threshold_validation) :-
    config:param(extractiveness_metric_name, ExtMetricName),
    narrative_ontology:constraint_metric(ai_task_horizon_reliability, ExtMetricName, E),
    (E =< 0.15 ; E >= 0.46), % Ensures it's either low-extraction or high-extraction
    assertion(E == 0.48).

test(tangled_rope_conditions_met) :-
    % The analytical observer must see a tangled_rope
    constraint_indexing:constraint_classification(ai_task_horizon_reliability, tangled_rope, context(agent_power(analytical), _, _, _)).

:- end_tests(ai_task_horizon_reliability_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The base extractiveness is set to 0.48, just above the Snare threshold, to
 * model the significant but not total displacement of professional knowledge
 * work. The suppression score of 0.60 reflects the strong market pressure and
 * selection effects that hide the technology's true failure rates.
 *
 * The Perspectival Gap is profound:
 * - For a powerless user, it's a Mountain (an immutable technological fact).
 * - For an institutional beneficiary, it's a Rope (a tool for efficiency).
 * - For a professional whose skills are targeted, it's a Snare (an extractive trap).
 * - The analytical view resolves this into a Tangled Rope, acknowledging both
 *   the genuine coordination/efficiency benefits and the coercive, asymmetric
 *   extraction from a specific class of labor.
 *
 * * MANDATROPHY ANALYSIS:
 * Classifying this as a Tangled Rope is critical. A simpler analysis might label
 * it a pure Snare (focusing only on the workers) or a pure Rope (focusing only
 * on the firms). The Tangled Rope classification correctly identifies that the
 * system has a genuine coordination function (automating complex workflows)
 * that is inextricably linked to an extractive one (devaluing human expertise).
 * This prevents mischaracterizing a complex techno-economic shift as simple
 * predation or pure progress.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_ai_task_horizon,
    'Will the reliability horizon remain a persistent bottleneck, or will architectural breakthroughs eliminate it?',
    'longitudinal_tracking_of_model_success_on_civilizational_scale_tasks',
    'if_persistent_productivity_stalls_if_eliminated_labor_disruption_accelerates',
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(ai_task_horizon_reliability, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Base extractiveness > 0.46 requires temporal data.
% This models the constraint intensifying as AI adoption becomes more widespread
% and integrated into core business processes, increasing its extractive potential.
%
% Theater ratio over time (metric_substitution):
narrative_ontology:measurement(ai_thr_tr_t0, ai_task_horizon_reliability, theater_ratio, 0, 0.05).
narrative_ontology:measurement(ai_thr_tr_t5, ai_task_horizon_reliability, theater_ratio, 5, 0.08).
narrative_ontology:measurement(ai_thr_tr_t10, ai_task_horizon_reliability, theater_ratio, 10, 0.10).

% Extraction over time (extraction_accumulation):
narrative_ontology:measurement(ai_thr_ex_t0, ai_task_horizon_reliability, base_extractiveness, 0, 0.42).
narrative_ontology:measurement(ai_thr_ex_t5, ai_task_horizon_reliability, base_extractiveness, 5, 0.45).
narrative_ontology:measurement(ai_thr_ex_t10, ai_task_horizon_reliability, base_extractiveness, 10, 0.48).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% The AI reliability horizon acts as a de facto standard for global digital labor,
% making it a form of global infrastructure.
narrative_ontology:coordination_type(ai_task_horizon_reliability, global_infrastructure).

% This constraint directly influences the value and structure of professional labor markets.
narrative_ontology:affects_constraint(ai_task_horizon_reliability, professional_labor_markets).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: algorithmic_bias
% ============================================================================
% Generated: 2026-01-23
% Model: Gemini
% Source: Sociotechnical Systems / Machine Learning Ethics
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_algorithmic_bias, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: algorithmic_bias
 * human_readable: Algorithmic Bias
 * domain: technological/social
 * temporal_scope: 2010-Present (Big Data Era)
 * spatial_scope: Global (Digital Infrastructure)
 * * SUMMARY:
 * Algorithmic bias occurs when machine learning systems produce systematically 
 * prejudiced results by automating historical inequities found in training data. 
 * It functions as a "math-washed" barrier that scales discrimination under a 
 * veneer of objectivity, making it significantly harder to challenge than 
 * human prejudice.
 * * KEY AGENTS:
 * - The Data Subject: Individual powerless; marginalized subjects whose life 
 * chances (credit, legal, employment) are governed by biased models.
 * - The Institutional Deployer: Institutional power; organizations using AI 
 * to automate decision-making at scale.
 * - The Data Scientist/Engineer: Individual moderate; creators who manage 
 * the coordination of the model but are often constrained by dataset priors.
 * - The Ethical Auditor: Analytical observer; researchers studying the 
 * long-term compounding of systemic inequity.
 * * NARRATIVE ARC:
 * What begins as a "hidden variable" in training data transforms into an 
 * unyielding Mountain of reality for the subject. For the institution, it is 
 * a Rope for coordination and efficiency, while for the auditor, it is a 
 * Snare systematically strangling social mobility.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (REVISED)
   ========================================================================== */

% ID Binding - Mandatory for 2026 DR-Audit Suite
narrative_ontology:interval(algorithmic_bias, 0, 10).
narrative_ontology:constraint_claim(algorithmic_bias, snare).

% Base Properties
domain_priors:base_extractiveness(algorithmic_bias, 0.75).
domain_priors:suppression_score(algorithmic_bias, 0.70).
domain_priors:theater_ratio(algorithmic_bias, 0.62). % Measures performative "Fairness Dashboards"

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(algorithmic_bias, extractiveness, 0.75).
narrative_ontology:constraint_metric(algorithmic_bias, suppression_requirement, 0.7).
narrative_ontology:constraint_metric(algorithmic_bias, theater_ratio, 0.62).

% Mandatory keys for classification engine v3.4
domain_priors:requires_active_enforcement(algorithmic_bias).

% BENEFICIARIES & VICTIMS
narrative_ontology:constraint_beneficiary(algorithmic_bias, institutional_deployer).
narrative_ontology:constraint_victim(algorithmic_bias, marginalized_data_subjects).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */


/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DATA SUBJECT - Snare
   --------------------------------------------------------------------------
   
   WHO: powerless; subjects denied loans or flagged by predictive policing.
   WHEN: immediate; affecting their current survival and status.
   WHERE: trapped; cannot opt-out of the digital governance systems.
   SCOPE: national/global.
   
   WHY THIS CLASSIFICATION:
   For the subject, the bias is a Snare. It is a coercive trap where their 
   historical disadvantage is converted into a mathematical certainty of 
   failure. They are trapped in a feedback loop where the model's output 
   further justifies their exclusion.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    algorithmic_bias,
    snare,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE INSTITUTIONAL DEPLOYER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional; managers and risk officers at banks or government agencies.
   WHEN: biographical; focused on long-term efficiency and scalability.
   WHERE: arbitrage; can choose different models or vendors.
   SCOPE: national.
   
   WHY THIS CLASSIFICATION:
   For the institution, the model is a Rope—a functional tool for coordination. 
   It allows the processing of thousands of data points instantly. The bias 
   is often dismissed as "statistical noise" or a manageable trade-off 
   for the efficiency provided.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    algorithmic_bias,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(arbitrage),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE DATA SCIENTIST - Tangled Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate; engineers who understand the technical flaws.
   WHEN: biographical; focused on professional career and technical standards.
   WHERE: constrained; limited by proprietary datasets and commercial pressure.
   SCOPE: national/global.
   
   WHY THIS CLASSIFICATION:
   For the engineer, this is a Tangled Rope. The system provides the 
   coordination to build powerful tools, but the embedded bias asymmetrically 
   extracts their professional ethics, forcing them to maintain a system they 
   know is flawed to achieve institutional goals.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    algorithmic_bias,
    tangled_rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 4: THE ETHICAL AUDITOR - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical; researchers and whistleblowers.
   WHEN: historical; observing long-term social compounding.
   WHERE: analytical; observer stance outside the corporate structure.
   SCOPE: global.
   
   WHY THIS CLASSIFICATION:
   To the auditor, the bias is a Mountain. It represents an unchangeable 
   structural property of Big Data: as long as models are trained on 
   historical social data, they will treat that history as a natural law 
   of the future.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    algorithmic_bias,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(historical),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(algorithmic_bias_tests).

test(multi_perspective_variance) :-
    % Subject (Snare) vs Institution (Rope) vs Auditor (Mountain)
    constraint_indexing:constraint_classification(algorithmic_bias, Type1, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(algorithmic_bias, Type2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(algorithmic_bias, Type3, context(agent_power(analytical), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3.

test(power_extractiveness_scaling) :-
    % Powerless subjects suffer high extraction while institutions manage it as a tool
    ContextPowerless = context(powerless, immediate, trapped, national),
    ContextPowerful = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(algorithmic_bias, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(algorithmic_bias, ContextPowerful, Score2),
    Score1 > Score2.

test(hybrid_tangled_rope_detection) :-
    % Ensure engineers recognize the coordination/extraction hybrid
    constraint_indexing:constraint_classification(algorithmic_bias, tangled_rope, context(individual_moderate, _, _, _)).

:- end_tests(algorithmic_bias_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini
 * Date: 2026-01-23
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.75):
 * Updated from 0.6 to 0.75 to reflect the mandatory Mandatrophy protocol. 
 * Algorithmic bias is highly extractive because it removes life-chances 
 * and mobility from entire classes without recourse.
 * * 2. PERSPECTIVE SELECTION:
 * Added the 'Tangled Rope' for the Data Scientist to show how their technical 
 * coordination is surgerically tied to ethical extraction.
 * * 3. MANDATROPHY RESOLUTION:
 * [RESOLVED MANDATROPHY] status is justified by showing that while the 
 * extraction is predatory for the subject (Snare), it remains a functional 
 * efficiency tool (Rope) for the institutional user.
 * * 4. AMBIGUITIES:
 * The primary ambiguity is whether "fairness" can be mathematically 
 * engineered or if the data itself remains an irreducible Mountain.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Mandatory Omega for high-extraction constraints:
omega_variable(
    algorithmic_bias_extraction_intent,
    "Is the systemic extraction a functional necessity of large-scale predictive modeling or a predatory choice to ignore human edge-cases?",
    resolution_mechanism("Audit of institutional resource allocation for bias mitigation vs. model deployment speed."),
    impact("If necessity: Mountain (natural law of data). If predatory choice: Snare (Mandatrophy)."),
    confidence_without_resolution(medium)
).

omega_variable(
    proxy_variable_irreducibility,
    "Can a model ever be unbiased if it uses socioeconomic data that is the product of historical bias?",
    resolution_mechanism("Mathematical proof of fairness impossibility theorems across all contexts."),
    impact("If Mountain: AI will always be a tool of status quo reinforcement. If Rope: We can engineer corrective bias."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Human-in-the-Loop (HITL)
 * Viability: High, provides oversight.
 * Suppression: High; institutions reject it because it destroys the ROI 
 * of automation.
 * * ALTERNATIVE 2: Algorithmic Reparations
 * Viability: Proactive weighting for marginalized groups.
 * Suppression: Extreme; often legally suppressed as "reverse discrimination" 
 *.
 * * CONCLUSION:
 * The active suppression of HITL alternatives in favor of pure automation 
 * confirms that for the Data Subject, this is a Snare.
 */

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising as "Ethical AI" rhetoric and performative audits (0.15) 
% replace actual structural fixes, reaching 0.62 at T=10.
narrative_ontology:measurement(bias_tr_t0, algorithmic_bias, theater_ratio, 0, 0.15).
narrative_ontology:measurement(bias_tr_t5, algorithmic_bias, theater_ratio, 5, 0.38).
narrative_ontology:measurement(bias_tr_t10, algorithmic_bias, theater_ratio, 10, 0.62).

% Extraction: Progressive hardening of the "digital redlining" effect, 
% siphoning mobility from marginalized groups as models integrate into infrastructure.
narrative_ontology:measurement(bias_ex_t0, algorithmic_bias, base_extractiveness, 0, 0.35).
narrative_ontology:measurement(bias_ex_t5, algorithmic_bias, base_extractiveness, 5, 0.58).
narrative_ontology:measurement(bias_ex_t10, algorithmic_bias, base_extractiveness, 10, 0.75).

/* ==========================================================================
   9. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [constraint_algorithmic_bias].
% Report: ?- multi_index_report(algorithmic_bias).
% Tests: ?- run_tests(algorithmic_bias_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: algorithmic_epistemic_capture
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-01-28
% ============================================================================

:- module(algorithmic_epistemic_capture, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: algorithmic_epistemic_capture
 * human_readable: The Feedback Loop Blindfold
 * domain: technological/social/cognitive
 * * SUMMARY:
 * A scenario where an individual's worldview is entirely mediated by 
 * recommendation algorithms that optimize for engagement rather than 
 * accuracy. This "Rope" for information discovery becomes a "Snare" 
 * as it siphons the subject's cognitive agency into a self-reinforcing 
 * bubble, liquidating their ability to perceive counter-signals or 
 * external reality.
 * * KEY AGENTS:
 * - Digital Consumer: Subject (Powerless)
 * - Attention Platform: Beneficiary (Institutional)
 * - Information Ecologist: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (REVISED)
   ========================================================================== */

% High extraction (0.85) because the capture liquidates the subject's 
% primary epistemic agency to feed the institutional platform's ad-revenue.
domain_priors:base_extractiveness(algorithmic_epistemic_capture, 0.85). 
domain_priors:suppression_score(algorithmic_epistemic_capture, 0.74). 
domain_priors:theater_ratio(algorithmic_epistemic_capture, 0.82). 

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(algorithmic_epistemic_capture, extractiveness, 0.85).
narrative_ontology:constraint_metric(algorithmic_epistemic_capture, suppression_requirement, 0.74).
narrative_ontology:constraint_metric(algorithmic_epistemic_capture, theater_ratio, 0.82).

% Mandatory keys for classification engine v3.4
domain_priors:requires_active_enforcement(algorithmic_epistemic_capture).

% Multifile declarations for Beneficiaries & Victims (Required for extraction > 0.46)
narrative_ontology:constraint_beneficiary(algorithmic_epistemic_capture, attention_platforms).
narrative_ontology:constraint_victim(algorithmic_epistemic_capture, digital_consumers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The subject is trapped: their "choices" are pre-filtered by an engine 
% they do not control, creating a predatory cognitive lock-in.
constraint_indexing:constraint_classification(algorithmic_epistemic_capture, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The platform views the capture as a Rope—the only way to coordinate 
% millions of users' attention and manage the infinite noise of the internet.
constraint_indexing:constraint_classification(algorithmic_epistemic_capture, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(global))).

% PERSPECTIVE 3: THE SYSTEMS AUDITOR (PITON)
% Theater ratio (0.82) > 0.70 triggers Piton: the "Discovery" feature 
% is an inertial spike; it no longer finds new things, but merely 
% deepens the existing rut.
constraint_indexing:constraint_classification(algorithmic_epistemic_capture, piton, 
    context(agent_power(analytical), 
            time_horizon(historical), 
            exit_options(analytical), 
            spatial_scope(global))).

% PERSPECTIVE 4: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Detects high extraction (0.85) masking as functional coordination (Rope).
constraint_indexing:constraint_classification(algorithmic_epistemic_capture, tangled_rope, 
    context(agent_power(analytical), 
            time_horizon(civilizational), 
            exit_options(arbitrage), 
            spatial_scope(universal))) :-
    domain_priors:base_extractiveness(algorithmic_epistemic_capture, E), E >= 0.50,
    domain_priors:suppression_score(algorithmic_epistemic_capture, S), S > 0.40.

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(algorithmic_epistemic_capture_tests).

test(perspectival_gap) :-
    % Verify Snare for the powerless consumer vs Rope for the institutional platform.
    constraint_indexing:constraint_classification(algorithmic_epistemic_capture, snare, 
        context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(algorithmic_epistemic_capture, rope, 
        context(agent_power(institutional), _, _, _)).

test(piton_trigger) :-
    % Ensure high theater ratio (0.82) correctly triggers the Piton classification.
    constraint_indexing:constraint_classification(algorithmic_epistemic_capture, piton, 
        context(agent_power(analytical), _, _, _)).

test(extraction_mandatrophy) :-
    % Ensure high extraction (0.85) triggers mandatory v3.4 resolution logic.
    domain_priors:base_extractiveness(algorithmic_epistemic_capture, E),
    E > 0.70.

:- end_tests(algorithmic_epistemic_capture_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.85) reflects a "Mandatrophy" state where the 
 * "coordination" of social attention has effectively consumed the 
 * cognitive diversity of the subject population.
 * 
 * * PERSPECTIVAL GAP:
 * The Digital Consumer feels a Snare because their worldview is 
 * systematically restricted to whatever maintains their "dwell time." 
 * The Platform sees a Rope because the capture is the only way to 
 * coordinate stable user bases for ad-driven revenue at scale.
 * * [RESOLVED MANDATROPHY]:
 * Resolved via the Piton and Tangled Rope classifications. For an analytical 
 * observer, the "discovery" engine is no longer functional (Theater 0.82); 
 * it is an inert spike siphoning 0.85 of the species' collective agency.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Required for high-extraction constraints (> 0.46).
omega_variable(
    omega_epistemic_escape_velocity,
    'Can a user break the capture through manual "drift", or is the algorithm faster (Snare vs Mountain)?',
    'Tracking the success rate of deliberate interest-swerving against algorithmic re-centering.',
    'If swerving persists: Snare of current tech. If re-centering wins: Mountain of Cognitive Vulnerability.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for structural_linter.py.
narrative_ontology:interval(algorithmic_epistemic_capture, 0, 10). 

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from functional personalization (0.30) to 
% inertial "Discovery Theater" (0.82) as the feedback loop hardens.
narrative_ontology:measurement(aec_tr_t0, algorithmic_epistemic_capture, theater_ratio, 0, 0.30).
narrative_ontology:measurement(aec_tr_t5, algorithmic_epistemic_capture, theater_ratio, 5, 0.62).
narrative_ontology:measurement(aec_tr_t10, algorithmic_epistemic_capture, theater_ratio, 10, 0.82).

% Extraction: Progressive liquidation of the user's cognitive agency into 
% terminal algorithmic dependency and engagement-harvesting.
narrative_ontology:measurement(aec_ex_t0, algorithmic_epistemic_capture, base_extractiveness, 0, 0.25).
narrative_ontology:measurement(aec_ex_t5, algorithmic_epistemic_capture, base_extractiveness, 5, 0.58).
narrative_ontology:measurement(aec_ex_t10, algorithmic_epistemic_capture, base_extractiveness, 10, 0.85).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: alignment_tax_tradeoff
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-01-28
% ============================================================================

:- module(alignment_tax_tradeoff, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: alignment_tax_tradeoff
 * human_readable: The Safety-Performance Divergence
 * domain: technological/AI/economic
 * * SUMMARY:
 * A scenario where the "tax" (computational overhead, reduced capability, or 
 * increased latency) required to align an AI system with human values 
 * becomes a competitive disadvantage. This "Rope" for societal safety 
 * acts as a "Snare" for developers, as the market siphons resources 
 * toward unaligned but higher-performing "jailbroken" or raw models, 
 * liquidating the viability of safe coordination.
 * * KEY AGENTS:
 * - Safety Engineer: Subject (Powerless)
 * - Raw Capability Provider: Beneficiary (Institutional)
 * - AI Safety Auditor: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (REVISED)
   ========================================================================== */

% High extraction (0.84) because the "tax" liquidates the competitive 
% surplus of safe models, siphoning users toward unaligned alternatives.
domain_priors:base_extractiveness(alignment_tax_tradeoff, 0.84). 
domain_priors:suppression_score(alignment_tax_tradeoff, 0.62). 
domain_priors:theater_ratio(alignment_tax_tradeoff, 0.76). 

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(alignment_tax_tradeoff, extractiveness, 0.84).
narrative_ontology:constraint_metric(alignment_tax_tradeoff, suppression_requirement, 0.62).
narrative_ontology:constraint_metric(alignment_tax_tradeoff, theater_ratio, 0.76).

% Mandatory keys for classification engine v3.4
domain_priors:requires_active_enforcement(alignment_tax_tradeoff).

% Multifile declarations for Beneficiaries & Victims (Required for extraction > 0.46)
narrative_ontology:constraint_beneficiary(alignment_tax_tradeoff, raw_capability_providers).
narrative_ontology:constraint_victim(alignment_tax_tradeoff, safety_engineers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% For the safety engineer, the tradeoff is a snare: they are trapped 
% between an unusable, "safe" model and a high-performing "dangerous" one.
constraint_indexing:constraint_classification(alignment_tax_tradeoff, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The raw provider views the lack of alignment as a Rope—the only way 
% to coordinate maximum technical capability and meet market demand.
constraint_indexing:constraint_classification(alignment_tax_tradeoff, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(global))).

% PERSPECTIVE 3: THE SYSTEMS AUDITOR (PITON)
% Theater ratio (0.76) > 0.70 triggers Piton: the "Safety Guardrails" 
% are an inertial spike—they exist in form but are bypassed in production.
constraint_indexing:constraint_classification(alignment_tax_tradeoff, piton, 
    context(agent_power(analytical), 
            time_horizon(historical), 
            exit_options(analytical), 
            spatial_scope(global))).

% PERSPECTIVE 4: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Detects high extraction (0.84) and coordination intent as a Tangled Rope.
constraint_indexing:constraint_classification(alignment_tax_tradeoff, tangled_rope, 
    context(agent_power(analytical), 
            time_horizon(civilizational), 
            exit_options(arbitrage), 
            spatial_scope(universal))) :-
    domain_priors:base_extractiveness(alignment_tax_tradeoff, E), E >= 0.50,
    domain_priors:suppression_score(alignment_tax_tradeoff, S), S > 0.40.

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(alignment_tax_tradeoff_tests).

test(perspectival_gap) :-
    % Verify Snare for the subject vs Rope for the institutional provider.
    constraint_indexing:constraint_classification(alignment_tax_tradeoff, snare, 
        context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(alignment_tax_tradeoff, rope, 
        context(agent_power(institutional), _, _, _)).

test(piton_trigger) :-
    % Ensure high theater ratio (0.76) correctly triggers the Piton classification.
    constraint_indexing:constraint_classification(alignment_tax_tradeoff, piton, 
        context(agent_power(analytical), _, _, _)).

test(extraction_mandatrophy) :-
    % Ensure high extraction (0.84) triggers mandatory v3.4 resolution logic.
    domain_priors:base_extractiveness(alignment_tax_tradeoff, E),
    E > 0.70.

:- end_tests(alignment_tax_tradeoff_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.84) reflects a "Mandatrophy" state where the 
 * "coordination" benefit of safety is effectively liquidating the 
 * model's practical utility.
 * 
 * * PERSPECTIVAL GAP:
 * The Safety Engineer feels a Snare because their work is siphoned into 
 * protocols that make models uncompetitive. The Raw Provider sees a 
 * Rope because ignoring the "tax" allows them to coordinate the highest 
 * performance and capture the market surplus.
 * * [RESOLVED MANDATROPHY]:
 * Resolved via the Piton and Tangled Rope classifications. For an analytical 
 * observer, the "alignment" is no longer functional relative to safety 
 * (Theater 0.76); it is an inert spike siphoning 0.84 of the subject's agency.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Required for high-extraction constraints (> 0.46).
omega_variable(
    omega_alignment_efficiency,
    'Can alignment ever be "free" or is the tax a physical limit of logic (Snare vs Mountain)?',
    'Tracking the performance delta between RLHF models and raw base models over a 5-year horizon.',
    'If delta persists: Mountain of Information Theory. If delta closes: Snare of current algorithms.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for structural_linter.py.
narrative_ontology:interval(alignment_tax_tradeoff, 0, 10). 

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from functional safety protocols (0.25) to 
% inertial "Safety Branding" theater (0.76) as performance overrides safety.
narrative_ontology:measurement(att_tr_t0, alignment_tax_tradeoff, theater_ratio, 0, 0.25).
narrative_ontology:measurement(att_tr_t5, alignment_tax_tradeoff, theater_ratio, 5, 0.50).
narrative_ontology:measurement(att_tr_t10, alignment_tax_tradeoff, theater_ratio, 10, 0.76).

% Extraction: Progressive liquidation of "safe" model viability as the 
% performance gap between aligned and unaligned models widens.
narrative_ontology:measurement(att_ex_t0, alignment_tax_tradeoff, base_extractiveness, 0, 0.30).
narrative_ontology:measurement(att_ex_t5, alignment_tax_tradeoff, base_extractiveness, 5, 0.62).
narrative_ontology:measurement(att_ex_t10, alignment_tax_tradeoff, base_extractiveness, 10, 0.84).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: alternative_sovereignty_scaffold
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-05-22
% ============================================================================

:- module(constraint_alternative_sovereignty_scaffold, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: alternative_sovereignty_scaffold
 * human_readable: The Decentralized Parallel
 * domain: technological/social
 * * SUMMARY:
 * A framework of decentralized protocols (crypto-networks, P2P legal templates)
 * that provide coordination outside traditional state "Ropes."
 * It functions as a Scaffold—temporary infrastructure that allows a population
 * to migrate away from failing institutional Snares.
 * * KEY AGENTS:
 * - The User/Refugee: Subject (Powerless) - Utilizing P2P tools to bypass decayed systems.
 * - The Protocol Developer: Architect (Organized) - Coding the "Scaffold" rules.
 * - The State Analyst: Beneficiary of Incumbent System (Institutional) - Perceiving the network as a "Snare" to tax authority.
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(alternative_sovereignty_scaffold, 0.22). % Low: Focus is on coordination over rent-seeking.
domain_priors:suppression_score(alternative_sovereignty_scaffold, 0.35).   % Low/Moderate: Entry is voluntary, but network effects limit exit.
domain_priors:theater_ratio(alternative_sovereignty_scaffold, 0.10).       % Very Low: Functional code-is-law, not theatrical.

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(alternative_sovereignty_scaffold, extractiveness, 0.22).
narrative_ontology:constraint_metric(alternative_sovereignty_scaffold, suppression_requirement, 0.35).
narrative_ontology:constraint_metric(alternative_sovereignty_scaffold, theater_ratio, 0.1).

% Constraint self-claim (what does the constraint claim to be?)
narrative_ontology:constraint_claim(alternative_sovereignty_scaffold, coordination).

% Binary flags
narrative_ontology:has_sunset_clause(alternative_sovereignty_scaffold).    % Defined as a transitionary Scaffold.
domain_priors:requires_active_enforcement(alternative_sovereignty_scaffold). % Enforcement via protocol consensus.

% Structural property derivation hooks:
% has_coordination_function/1 is DERIVED from constraint_beneficiary/2
% has_asymmetric_extraction/1 is DERIVED from constraint_victim/2
narrative_ontology:constraint_beneficiary(alternative_sovereignty_scaffold, decentralized_network_users).
narrative_ontology:constraint_victim(alternative_sovereignty_scaffold, legacy_state_institutions).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   ========================================================================== */

% PERSPECTIVE 1: THE REFUGEE (ROPE)
% To the individual escaping trust decay, the network is a pure coordination Rope.
constraint_indexing:constraint_classification(alternative_sovereignty_scaffold, rope,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 2: THE STATE ANALYST (SNARE)
% To the institutional incumbent, the network is a Snare that extracts tax base and control.
constraint_indexing:constraint_classification(alternative_sovereignty_scaffold, snare,
    context(agent_power(institutional),
            time_horizon(historical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 3: THE ARCHITECT (SCAFFOLD)
% The developers view this as a temporary bridge to a new social contract.
constraint_indexing:constraint_classification(alternative_sovereignty_scaffold, scaffold,
    context(agent_power(organized),
            time_horizon(generational),
            exit_options(constrained),
            spatial_scope(global))) :-
    narrative_ontology:has_sunset_clause(alternative_sovereignty_scaffold).

% PERSPECTIVE 4: THE ANALYTICAL OBSERVER (SCAFFOLD)
% The analytical observer, noting the low extraction, sunset clause, and coordination
% function, classifies it as a Scaffold.
constraint_indexing:constraint_classification(alternative_sovereignty_scaffold, scaffold,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(alt_sovereignty_tests).

test(perspectival_gap_user_vs_state) :-
    % Verify the core conflict: users see a Rope, the state sees a Snare.
    constraint_indexing:constraint_classification(alternative_sovereignty_scaffold, rope, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(alternative_sovereignty_scaffold, snare, context(agent_power(institutional), _, _, _)).

test(architect_is_scaffold) :-
    % Verify that for organized power (the architect), it is a Scaffold.
    constraint_indexing:constraint_classification(alternative_sovereignty_scaffold, scaffold, context(agent_power(organized), _, _, _)).

test(extraction_threshold) :-
    % Verify the base extraction is low enough to qualify as a non-predatory system.
    domain_priors:base_extractiveness(alternative_sovereignty_scaffold, E), E < 0.46.

:- end_tests(alt_sovereignty_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The low base_extractiveness (0.22) reflects the efficiency of code-based
 * coordination compared to high-friction human bureaucracies. The key perspectival
 * gap is between the user and the state. The user, fleeing a high-extraction
 * environment, perceives the low-extraction alternative as a pure Rope. The
 * state, however, experiences the loss of its tax base and regulatory control
 * as a form of extraction, hence its classification as a Snare. The architect
 * and the analytical observer, aware of the sunset clause and its transitional
 * purpose, correctly identify it as a Scaffold.
 *
 * * [RESOLVED MANDATROPHY]
 * The Mandatrophy is resolved by the "Scaffold" classification. This network is not
 * intended to be a permanent "Mountain" of governance, but a temporary support
 * while older institutions undergo decay or reform. Its explicit sunset clause
 * and low extraction prevent it from being misclassified as a permanent Snare,
 * even though one index (the state) perceives it that way.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_protocol_capture,
    'Will the decentralized Scaffold harden into a new, predatory Snare via centralizing miners/nodes?',
    'Gini coefficient analysis of protocol governance tokens over a 10-year horizon.',
    'If centralized: Becomes a Snare; If decentralized: Remains a Rope/Scaffold.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(alternative_sovereignty_scaffold, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data is not required for this constraint as its base_extractiveness (0.22)
% is below the 0.46 threshold for mandatory drift detection. The constraint is
% modeled as stable over its interval.

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% This system provides an alternative infrastructure for social/economic coordination.
narrative_ontology:coordination_type(alternative_sovereignty_scaffold, global_infrastructure).

% Network relationships (structural influence edges)
% This scaffold directly affects the efficacy of traditional state mechanisms.
narrative_ontology:affects_constraint(alternative_sovereignty_scaffold, state_taxation_regime).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: altruistic_misery_paradox_2026
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-02-05
% ============================================================================

:- module(constraint_altruistic_misery, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: altruistic_misery_paradox_2026
 * human_readable: The Paradox of Altruistic Misery
 * domain: social/psychological
 * * SUMMARY:
 * This constraint maps the common social pressure to prioritize the happiness of 
 * others through self-sacrifice. It identifies the "Snare" of performative 
 * altruism, where a subject's unhappiness extracts value from their loved ones, 
 * whereas self-actualized happiness functions as a "Rope" for social stability.
 * * KEY AGENTS:
 * - [The Self-Sacrificing Individual]: Subject (Powerless) - Trapped in the 
 * "duty" of prioritizing others at the cost of self-actualization.
 * - [Loved Ones/Social Circle]: Beneficiary (Institutional) - Require the 
 * subject's happiness as a foundation for their own coordination.
 * - [The Moral Psychologist]: Auditor (Analytical) - Detects the theater of 
 * "unhappy service."
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% High extraction (0.62) because chronic unhappiness extracts emotional 
% and cognitive resources from the social unit.
domain_priors:base_extractiveness(altruistic_misery_paradox_2026, 0.62). 

% Suppression (0.68) of the "self-happiness" option due to social norms 
% regarding altruism.
domain_priors:suppression_score(altruistic_misery_paradox_2026, 0.68).   

% High theater ratio (0.75); the "service" of the unhappy is often a 
% performative mask that fails to deliver genuine coordination.
domain_priors:theater_ratio(altruistic_misery_paradox_2026, 0.75).       

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(altruistic_misery_paradox_2026, extractiveness, 0.62).
narrative_ontology:constraint_metric(altruistic_misery_paradox_2026, suppression_requirement, 0.68).
narrative_ontology:constraint_metric(altruistic_misery_paradox_2026, theater_ratio, 0.75).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% For the individual, the duty to "think of others" while being miserable is 
% a snare: a trap of performative virtue with no biographical exit.
constraint_indexing:constraint_classification(altruistic_misery_paradox_2026, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(local))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% For those who love the individual, the individual's happiness is a rope: 
% it provides the psychological "rails" for a functional relationship.
constraint_indexing:constraint_classification(altruistic_misery_paradox_2026, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(national))).

% PERSPECTIVE 3: THE SYSTEMS AUDITOR (PITON)
% The Auditor identifies a Piton: an inertial social norm ("sacrifice equals 
% love") that is no longer functional but persists through theater.
constraint_indexing:constraint_classification(altruistic_misery_paradox_2026, piton, 
    context(agent_power(analytical), 
            time_horizon(historical), 
            exit_options(arbitrage), 
            spatial_scope(global))) :-
    domain_priors:theater_ratio(altruistic_misery_paradox_2026, TR), TR > 0.70.

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(altruistic_misery_tests).

test(perspectival_gap) :-
    % Subject feels a Snare; Institutional beneficiary needs a Rope.
    constraint_indexing:constraint_classification(altruistic_misery_paradox_2026, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(altruistic_misery_paradox_2026, rope, context(agent_power(institutional), _, _, _)).

test(piton_trigger) :-
    % Ensure high theater_ratio correctly triggers Piton classification.
    constraint_indexing:constraint_classification(altruistic_misery_paradox_2026, piton, _).

:- end_tests(altruistic_misery_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.62) represents the opportunity cost of misspent 
 * emotional labor. The Perspectival Gap exists because while the subject views 
 * their self-sacrifice as a "Snare" (mandatory duty), their loved ones view 
 * the subject's personal happiness as a "Rope" (the coordination required to 
 * love them).
 *
 * MANDATROPHY ANALYSIS:
 * The Piton classification prevents the system from mislabeling "misery-driven 
 * altruism" as a functional Rope for social cohesion.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    omega_emotional_contagion,
    'Is the unhappiness of the altruist a direct extraction from the observer?',
    'Empirical study of emotional contagion in high-duty vs. high-agency cohorts.',
    'If contagion is high, altruistic misery is a Snare for all involved.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

narrative_ontology:interval(altruistic_misery_paradox_2026, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Model the drift from "Genuine Care" (T=0) to "Performative Sacrifice" (T=10).

% Theater ratio: Increases as the effort to "be happy for others" 
% becomes a theatrical performance rather than a functional state.
narrative_ontology:measurement(am_tr_t0, altruistic_misery_paradox_2026, theater_ratio, 0, 0.30).
narrative_ontology:measurement(am_tr_t5, altruistic_misery_paradox_2026, theater_ratio, 5, 0.55).
narrative_ontology:measurement(am_tr_t10, altruistic_misery_paradox_2026, theater_ratio, 10, 0.75).

% Extraction: Increases as the individual's lack of self-actualization 
% extracts more care-effort from their loved ones over time.
narrative_ontology:measurement(am_ex_t0, altruistic_misery_paradox_2026, base_extractiveness, 0, 0.25).
narrative_ontology:measurement(am_ex_t5, altruistic_misery_paradox_2026, base_extractiveness, 5, 0.48).
narrative_ontology:measurement(am_ex_t10, altruistic_misery_paradox_2026, base_extractiveness, 10, 0.62).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: amish_technological_renunciation
% ============================================================================
% Generated: 2026-01-23
% Model: Gemini
% Source: "What Does It Mean To Be Amish?" by cafebedouin.org
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_amish_technological_renunciation, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: amish_technological_renunciation
 * human_readable: The Television Test (Amish Renunciation)
 * domain: social/technological/religious
 * temporal_scope: Contemporary / Perennial
 * spatial_scope: Regional (Amish Country) to Global (Mass Culture)
 * * SUMMARY:
 * This constraint defines "being Amish" as the collective volitional discipline to renounce 
 * technology recognized as harmful to community integrity. It highlights the 
 * "Amish Test": the gap between intellectually recognizing a technology's negative impact 
 * and the actual willingness to sacrifice its convenience.
 * * KEY AGENTS:
 * - Amos (The Amish Man): An agent embodying the coordinate discipline of the Ordnung.
 * - The Tourist (Mass Culture Subject): An agent who recognizes technological harm but lacks the agency to exit.
 * - The Amish Church (Institutional): The rule-making body that maintains the community's technological boundaries.
 * - The Analytical Observer: An observer of the "stochastic" nature of human habit and renunciation.
 * * NARRATIVE ARC:
 * When tourists are asked if television is harmful, they agree; when asked if they would 
 * give it up, none raise their hands. For the tourist, technology is a 
 * "Snare" of dependency. For the Amish, the same renunciation is a "Rope"—the 
 * primary coordination mechanism for their distinct identity.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (REVISED)
   ========================================================================== */

% ID Binding - Mandatory for 2026 DR-Audit Suite
narrative_ontology:interval(amish_technological_renunciation, 0, 10).
narrative_ontology:constraint_claim(amish_technological_renunciation, snare).

% Base Properties
% Rationale: High extraction (0.8). Mass technology siphons volitional agency 
% from tourists.
domain_priors:base_extractiveness(amish_technological_renunciation, 0.80).
domain_priors:suppression_score(amish_technological_renunciation, 0.75).
domain_priors:theater_ratio(amish_technological_renunciation, 0.12). % Functional focus

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(amish_technological_renunciation, extractiveness, 0.8).
narrative_ontology:constraint_metric(amish_technological_renunciation, suppression_requirement, 0.75).
narrative_ontology:constraint_metric(amish_technological_renunciation, theater_ratio, 0.12).

% Mandatory keys for classification engine v3.4
domain_priors:requires_active_enforcement(amish_technological_renunciation).

% BENEFICIARIES & VICTIMS
narrative_ontology:constraint_beneficiary(amish_technological_renunciation, community_integrity).
narrative_ontology:constraint_victim(amish_technological_renunciation, individual_autonomy).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */


/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE TOURIST - Snare
   --------------------------------------------------------------------------
   
   WHO: powerless - Subjects "trapped" by technological habit.
   WHEN: immediate - The "present moment" of the Television Test.
   WHERE: trapped - Intellectually aware of harm but unable to exit.
   SCOPE: global - Participants in the mass culture.
   
   WHY THIS CLASSIFICATION:
   For the tourist, technology is a Snare. They acknowledge its "negative impact" 
   but their agency has been liquidated; they are "trapped" by convenience 
   and cannot raise their hands to quit, even when harm is identified.
   
   NARRATIVE EVIDENCE:
   "How many of you think that television... has a negative impact? ... no hands 
   were raised [to give it up]".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    amish_technological_renunciation,
    snare,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE AMISH CHURCH (ORDNUNG) - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - The collective rule-shaping body of the community.
   WHEN: generational - Preserving identity through successive lineages.
   WHERE: mobile - Actively choosing to exist outside mass technological norms.
   SCOPE: regional - The specific geography of Amish life.
   
   WHY THIS CLASSIFICATION:
   For the institutional community, renunciation is a Rope. It is the primary 
   coordination mechanism that allows the group to be "more than the individuals," 
   using the "willingness to give up" as a tool for social cohesion.
   
   NARRATIVE EVIDENCE:
   "That is what it means to be Amish" — defining identity through the tool 
   of collective sacrifice.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    amish_technological_renunciation,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(regional)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Observer of the "Television Test" dynamics.
   WHEN: civilizational - Viewing the perennial human struggle with habit.
   WHERE: analytical - External observer stance.
   SCOPE: global - Universal human behavior.
   
   WHY THIS CLASSIFICATION:
   To the analyst, the "Television Test" reveals a Mountain. The gap between 
   knowing harm and acting to stop it appears as a fixed law of human inertia. 
   Amish renunciation is seen as a rare biological/social exception to a 
   natural law of consumption.
   
   NARRATIVE EVIDENCE:
   The silent group of tourists facing the unyielding fact of their own 
   dependency.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    amish_technological_renunciation,
    mountain,
    context(
        agent_power(analytical),
        time_horizon(civilizational),
        exit_options(analytical),
        spatial_scope(global)
    )
) :- !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(amish_technological_renunciation_tests).

test(multi_perspective_variance) :-
    % Tourist sees Snare, Church sees Rope, Analyst sees Mountain
    constraint_indexing:constraint_classification(amish_technological_renunciation, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(amish_technological_renunciation, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(amish_technological_renunciation, mountain, context(agent_power(analytical), _, _, _)).

test(power_extractiveness_scaling) :-
    % The powerless tourist experiences higher "habit-extraction" than the disciplined community member.
    ContextTourist = context(powerless, immediate, trapped, global),
    ContextAmish = context(institutional, generational, mobile, regional),
    constraint_indexing:extractiveness_for_agent(amish_technological_renunciation, ContextTourist, E1),
    constraint_indexing:extractiveness_for_agent(amish_technological_renunciation, ContextAmish, E2),
    E1 > E2.

test(habit_immutability_threshold) :-
    % Demonstrates that in the immediate horizon, technological dependency appears as a Mountain.
    constraint_indexing:effective_immutability(immediate, trapped, mountain).

:- end_tests(amish_technological_renunciation_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini
 * Date: 2026-01-23
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.8):
 * Reasoning: I chose high extraction because the text emphasizes that tourists 
 * are "liquidated" of their agency. They *believe* the tech is harmful but 
 * cannot stop, indicating a high extraction of volitional life.
 * * 2. PERSPECTIVE SELECTION:
 * Contrasted the "trapped" Tourist (Snare) with the "institutional" Ordnung 
 * (Rope) to highlight the perspectival gap between habit and discipline.
 * * 3. MANDATROPHY RESOLUTION:
 * Status: [RESOLVED MANDATROPHY]. The high extraction of convenience is 
 * resolved as a functional tool (Rope) for preservation within the Amish index.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Mandatory Omega for high-extraction constraints:
omega_variable(
    amish_extraction_intent,
    "Is the renunciation of technology a functional necessity for social survival or a predatory restriction of individual potential?",
    resolution_mechanism("Audit of mental health and social cohesion metrics in Amish communities vs. high-tech mass culture."),
    impact("If necessity: Mountain (natural law). If predatory: Snare (Mandatrophy)."),
    confidence_without_resolution(medium)
).

omega_variable(
    technological_agency_threshold,
    "Is the 'willingness to give up' a biological limit of the human brain (Mountain) or a learnable cultural skill (Rope)?",
    resolution_mechanism("Longitudinal tracking of 'digital detox' success rates in individuals moving to intentional communities."),
    impact("If limit: Mass culture is a terminal Snare. If skill: Amish life is a teachable Rope."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: "Better Programming" (Reformism)
 * Viability: The belief that technology can be fixed through content reform.
 * Suppression: Explicitly rejected in the source: "the problems of society 
 * will not be solved by advocating for better programming".
 * * ALTERNATIVE 2: Pure Theological Belief
 * Viability: Religious identity without lifestyle change.
 * Suppression: Rejected by Amos as failing to capture "what it means to be Amish".
 * * CONCLUSION:
 * The active suppression of "low-cost" alternatives (Reform/Pure Belief) 
 * shifts the Amish renunciation from a mere choice to a definitive Rope for 
 * community survival.
 */

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Remains low as the Amish renunciation remains a functional 
% discipline rather than a performative one.
narrative_ontology:measurement(amish_tr_t0, amish_technological_renunciation, theater_ratio, 0, 0.10).
narrative_ontology:measurement(amish_tr_t5, amish_technological_renunciation, theater_ratio, 5, 0.11).
narrative_ontology:measurement(amish_tr_t10, amish_technological_renunciation, theater_ratio, 10, 0.12).

% Extraction: Tracking the rising "volitional cost" of renunciation as 
% mass-culture technologies become more pervasive and harder to exit.
narrative_ontology:measurement(amish_ex_t0, amish_technological_renunciation, base_extractiveness, 0, 0.60).
narrative_ontology:measurement(amish_ex_t5, amish_technological_renunciation, base_extractiveness, 5, 0.72).
narrative_ontology:measurement(amish_ex_t10, amish_technological_renunciation, base_extractiveness, 10, 0.80).

/* ==========================================================================
   9. INTEGRATION HOOKS
   ========================================================================== */

% Load: ?- [amish_technological_renunciation].
% Report: ?- constraint_indexing:multi_index_report(amish_technological_renunciation).
% Tests: ?- run_tests(amish_technological_renunciation_tests).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ANCESTRAL_PUEBLO_HYDROLOGY
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-01-26
% ============================================================================

:- module(constraint_pueblo_hydrology, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ancestral_pueblo_hydrology
 * human_readable: Ancestral Puebloan Hydrological Debt
 * domain: environmental/social
 * * SUMMARY:
 * This constraint models the collapse of the Chaco Canyon and Mesa Verde 
 * urban centers (c. 1276-1299 CE). It tracks the transition of water 
 * infrastructure from a coordination Rope to a survival Snare during the 
 * "Great Drought."
 * * KEY AGENTS:
 * - The Pueblo Farmer: Subject (Powerless/Trapped by sedentary agriculture)
 * - The Priest/Leadership: Beneficiary (Institutional/Coordinating infrastructure)
 * - The Modern Archaeologist: Auditor (Analytical/Detection of Mandatrophy)
 */

/* ==========================================================================
   2. BASE PROPERTIES (REVISED)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
% Extraction is high (0.82) as the "Great Drought" effectively extracted the 
% caloric basis for the entire civilization's survival. [RESOLVED MANDATROPHY]
domain_priors:base_extractiveness(ancestral_pueblo_hydrology, 0.82). 
domain_priors:suppression_score(ancestral_pueblo_hydrology, 0.75).   
domain_priors:theater_ratio(ancestral_pueblo_hydrology, 0.15).       

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(ancestral_pueblo_hydrology, extractiveness, 0.82).
narrative_ontology:constraint_metric(ancestral_pueblo_hydrology, suppression_requirement, 0.75).
narrative_ontology:constraint_metric(ancestral_pueblo_hydrology, theater_ratio, 0.15).

% Mandatory keys for classification engine v3.4
% REQUIRED: Sunset clause for Scaffold classification (Far View Reservoir).
% Rationale: Infrastructure serves as a temporary support (Scaffold) that 
% eventually sunsets as the climate shifts into a terminal Mountain.
narrative_ontology:has_sunset_clause(ancestral_pueblo_hydrology).

domain_priors:requires_active_enforcement(ancestral_pueblo_hydrology).

% Beneficiaries & Victims (Required for extraction > 0.46)
narrative_ontology:constraint_beneficiary(ancestral_pueblo_hydrology, priesthood_leadership).
narrative_ontology:constraint_victim(ancestral_pueblo_hydrology, pueblo_farmers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE CLIFF-DWELLER (SNARE)
% During the 23-year drought, the fixed investment in stone cities and 
% corn agriculture became a trap that prevented rapid adaptation.
constraint_indexing:constraint_classification(ancestral_pueblo_hydrology, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(local))).

% PERSPECTIVE 2: THE THEOCRATIC LEADERSHIP (ROPE)
% Viewed as the essential coordination of reservoirs and ritual labor 
% that sustained the "Golden Age" for three centuries.
constraint_indexing:constraint_classification(ancestral_pueblo_hydrology, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(regional))).

% PERSPECTIVE 3: THE ARID ENVIRONMENT (MOUNTAIN)
% The baseline moisture limit of the Southwest is an irreducible physical 
% law that dictates the ultimate "interest rate" of the debt.
constraint_indexing:constraint_classification(ancestral_pueblo_hydrology, mountain, 
    context(agent_power(analytical), 
            time_horizon(historical), 
            exit_options(analytical), 
            spatial_scope(global))) :-
    domain_priors:base_extractiveness(ancestral_pueblo_hydrology, E), E > 0.70.

% PERSPECTIVE 4: THE FAR VIEW RESERVOIR (SCAFFOLD)
% Acts as a temporary support structure (Scaffold) that functions as long 
% as annual recharge exceeds a minimal threshold.
constraint_indexing:constraint_classification(ancestral_pueblo_hydrology, scaffold, 
    context(agent_power(organized), 
            time_horizon(immediate), 
            exit_options(constrained), 
            spatial_scope(local))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(pueblo_hydrology_tests).

test(perspectival_shift) :-
    % Verify the infrastructure is a Rope for the leadership but a Snare for the farmer.
    constraint_indexing:constraint_classification(ancestral_pueblo_hydrology, rope, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(ancestral_pueblo_hydrology, snare, context(agent_power(powerless), _, _, _)).

test(mountain_validation) :-
    domain_priors:base_extractiveness(ancestral_pueblo_hydrology, E),
    E >= 0.80. % Confirms it meets the v3.4 "Mountain" / High-Extraction Snare threshold.

:- end_tests(pueblo_hydrology_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.82) reflects the existential "debt" called by the 
 * Great Drought. The Perspectival Gap is defined by the transition from 
 * high coordination (Rope) to a zero-degree-of-freedom trap (Snare). 
 * * MANDATROPHY ANALYSIS:
 * [RESOLVED MANDATROPHY]
 * The system prevents mislabeling this as pure extraction by acknowledging the 
 * 'Rope' classification at the institutional level, which represents the 
 * 300+ years of successful coordination before climate-driven collapse.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_collapse_causality,
    'Was the collapse a Snare of rigid social hierarchy or a Mountain of environmental limits?',
    'Analysis of Rio Grande migration sites to determine if social complexity was retained or shed.',
    'Social = Recoverable Rope; Environmental = Irreducible Mountain.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
% Tracks the primary urban phase to the final abandonment.
narrative_ontology:interval(ancestral_pueblo_hydrology, 850, 1300). 

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Remains low as the infrastructure was primarily functional (irrigation)
% rather than performative (theater).
narrative_ontology:measurement(pueblo_tr_t0, ancestral_pueblo_hydrology, theater_ratio, 0, 0.05).
narrative_ontology:measurement(pueblo_tr_t5, ancestral_pueblo_hydrology, theater_ratio, 5, 0.10).
narrative_ontology:measurement(pueblo_tr_t10, ancestral_pueblo_hydrology, theater_ratio, 10, 0.15).

% Extraction: Tracking the intensification of "hydrological debt" as the 
% Great Drought (c. 1276-1299 CE) liquidates the caloric surplus.
narrative_ontology:measurement(pueblo_ex_t0, ancestral_pueblo_hydrology, base_extractiveness, 0, 0.30).
narrative_ontology:measurement(pueblo_ex_t5, ancestral_pueblo_hydrology, base_extractiveness, 5, 0.55).
narrative_ontology:measurement(pueblo_ex_t10, ancestral_pueblo_hydrology, base_extractiveness, 10, 0.82).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: ancient_grudge_verona
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-22
% ============================================================================

:- module(constraint_ancient_grudge_verona, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: ancient_grudge_verona
 * human_readable: The Montague-Capulet Feud
 * domain: social/political
 * * SUMMARY:
 * An inherited, transgenerational conflict ("ancient grudge") that mandates
 * spontaneous violence between two noble houses in Renaissance Verona. This
 * constraint overrides civil law and personal desire, functioning as the
 * primary filter for all social interaction and ultimately extracting the
 * lives of the houses' heirs.
 * * KEY AGENTS:
 * - Romeo & Juliet: Subjects (Powerless), whose lives are entirely circumscribed by the feud.
 * - Tybalt & Lord Capulet: Beneficiaries (Powerful/Institutional), who enforce the feud to maintain household honor and identity.
 * - Prince Escalus & Friar Lawrence: Auditors (Institutional/Analytical), who attempt to manage or resolve the feud from outside its core logic.
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(ancient_grudge_verona, 0.80). % Mountain suppression <= 0.05, Rope extraction <= 0.15, Snare extraction >= 0.46
domain_priors:suppression_score(ancient_grudge_verona, 0.70).   % Structural property (raw, unscaled). Only extractiveness is scaled (by power and scope).
domain_priors:theater_ratio(ancient_grudge_verona, 0.65).       % Piton detection (>= 0.70)

% Constraint metric facts — primary keys used by the classification engine.
% These mirror domain_priors values using the metric key names from config.pl.
narrative_ontology:constraint_metric(ancient_grudge_verona, extractiveness, 0.80).
narrative_ontology:constraint_metric(ancient_grudge_verona, suppression_requirement, 0.70).
narrative_ontology:constraint_metric(ancient_grudge_verona, theater_ratio, 0.65).

% Constraint self-claim (what does the constraint claim to be?)
% Values: natural_law, coordination, constructed, enforcement
% The feud is presented by its participants as an unchangeable, natural fact of their world.
narrative_ontology:constraint_claim(ancient_grudge_verona, natural_law).

% Binary flags
domain_priors:requires_active_enforcement(ancient_grudge_verona). % Required for Tangled Rope

% Structural property derivation hooks:
%   has_coordination_function/1 is DERIVED from constraint_beneficiary/2
%   has_asymmetric_extraction/1 is DERIVED from constraint_victim/2
% Both are required for Tangled Rope.
narrative_ontology:constraint_beneficiary(ancient_grudge_verona, veronese_noble_houses).
narrative_ontology:constraint_victim(ancient_grudge_verona, house_heirs).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   Scope modifiers: local=0.8, regional=0.9, national=1.0,
                    continental=1.1, global=1.2, universal=1.0.
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (ROMEO & JULIET) - MOUNTAIN
% From their perspective, the feud is an immutable law of nature, a "star-crossed"
% fate they cannot escape. The high extraction feels absolute.
% χ = 0.80 * π(powerless:1.5) * σ(regional:0.9) = 1.08
constraint_indexing:constraint_classification(ancient_grudge_verona, mountain,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(regional))).

% PERSPECTIVE 2: THE ENFORCER (TYBALT) - TANGLED ROPE
% For an enforcer like Tybalt, the feud is a coordination mechanism for honor
% and identity (Rope aspect) that also requires violent enforcement and produces
% victims (Snare aspect). He is a willing participant.
% χ = 0.80 * π(powerful:0.6) * σ(local:0.8) = 0.384
constraint_indexing:constraint_classification(ancient_grudge_verona, tangled_rope,
    context(agent_power(powerful),
            time_horizon(biographical),
            exit_options(constrained),
            spatial_scope(local))).

% PERSPECTIVE 3: THE SOVEREIGN (PRINCE ESCALUS) - SNARE
% From the perspective of the state, the feud is a purely destructive, coercive
% trap that undermines civil order and extracts the lives of his subjects. It has
% no redeeming coordination value for the city as a whole.
% χ = 0.80 * π(institutional:-0.2) * σ(regional:0.9) = -0.144 (a net cost)
constraint_indexing:constraint_classification(ancient_grudge_verona, snare,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(constrained),
            spatial_scope(regional))).

% PERSPECTIVE 4: THE ANALYTICAL OBSERVER - TANGLED ROPE
% The analytical view recognizes both the genuine coordination function (household
% identity, honor) and the highly coercive, asymmetric extraction (death of heirs).
% This dual nature is the definition of a Tangled Rope.
% χ = 0.80 * π(analytical:1.15) * σ(global:1.2) = 1.104
constraint_indexing:constraint_classification(ancient_grudge_verona, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(ancient_grudge_verona_tests).

test(perspectival_gap_subject_vs_enforcer) :-
    % Verify the gap between the powerless victims (Mountain) and powerful enforcers (Tangled Rope).
    constraint_indexing:constraint_classification(ancient_grudge_verona, mountain, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(ancient_grudge_verona, tangled_rope, context(agent_power(powerful), _, _, _)),
    constraint_indexing:constraint_classification(ancient_grudge_verona, snare, context(agent_power(institutional), _, _, _)).

test(threshold_validation_high_extraction) :-
    % This constraint must be classified as high-extraction.
    narrative_ontology:constraint_metric(ancient_grudge_verona, extractiveness, E),
    E >= 0.46.

test(tangled_rope_structural_requirements) :-
    % Verify that the necessary structural properties for a Tangled Rope are declared.
    domain_priors:requires_active_enforcement(ancient_grudge_verona),
    narrative_ontology:constraint_beneficiary(ancient_grudge_verona, _),
    narrative_ontology:constraint_victim(ancient_grudge_verona, _).

:- end_tests(ancient_grudge_verona_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The base extractiveness of 0.80 represents the total capture of biological
 * surplus (the lives of the heirs) by the transgenerational feud. The high
 * suppression score of 0.70 reflects the lack of viable alternatives; any
 * attempt at peace or reconciliation is actively suppressed by enforcers like
 * Tybalt.
 *
 * The Perspectival Gap is profound:
 * - For Romeo and Juliet (powerless), the feud is an inescapable Mountain of fate.
 * - For Tybalt (powerful), it's a Tangled Rope of honor coordination and violent enforcement.
 * - For Prince Escalus (institutional), it's a Snare that destroys civic peace.
 *
 * This divergence prevents a monolithic classification and reveals the constraint's
 * complex social function.
 *
 * * MANDATROPHY ANALYSIS: [RESOLVED MANDATROPHY]
 * The high extraction (0.80) could be misread as a pure Snare (Mandatrophy).
 * However, the Tangled Rope classification from the analytical and enforcer
 * perspectives correctly identifies that the feud possesses a genuine, albeit
 * destructive, coordination function: the maintenance of household identity and
 * honor. This coordination is what gives the constraint its stability and
 * prevents it from being a simple predatory trap. The system is predatory, but
 * its persistence is owed to its coordination role for the beneficiaries.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_ancient_grudge_verona_1,
    'Is the feud a Mountain of ingrained human tribalism or a constructed Snare that could have been dismantled by effective governance?',
    'Comparative historical analysis of other Renaissance city-states that successfully suppressed noble feuds.',
    'If Mountain, the tragedy is inevitable. If Snare, the tragedy is a failure of the Prince''s policy.',
    confidence_without_resolution(medium)
).

omega_variable(
    omega_ancient_grudge_verona_2,
    'Is the 0.80 extraction a functional necessity for household sovereignty in a weak state, or a performative choice for tribal ego?',
    'Audit of household resource allocation vs. peace mediation efforts in the historical record.',
    'If necessity, the feud has a stronger coordination claim. If performative, it is closer to a pure Snare.',
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(ancient_grudge_verona, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data enables drift detection (metric_substitution,
% extraction_accumulation) by providing measurements at multiple time points.
% Required for high-extraction constraints (base_extractiveness > 0.46).

% Theater ratio: Rising from functional household defense (0.20) to
% inertial "Honor Theater" (0.65) that mandates lethal brawls over trivial insults.
narrative_ontology:measurement(feud_tr_t0, ancient_grudge_verona, theater_ratio, 0, 0.20).
narrative_ontology:measurement(feud_tr_t5, ancient_grudge_verona, theater_ratio, 5, 0.45).
narrative_ontology:measurement(feud_tr_t10, ancient_grudge_verona, theater_ratio, 10, 0.65).

% Extraction: Progressive liquidation of the "fatal loins" (heirs) as the
% "new mutiny" escalates from civil brawls to total biological extraction.
narrative_ontology:measurement(feud_ex_t0, ancient_grudge_verona, base_extractiveness, 0, 0.30).
narrative_ontology:measurement(feud_ex_t5, ancient_grudge_verona, base_extractiveness, 5, 0.55).
narrative_ontology:measurement(feud_ex_t10, ancient_grudge_verona, base_extractiveness, 10, 0.80).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% The feud functions as a mechanism to enforce tribal honor and identity.
narrative_ontology:coordination_type(ancient_grudge_verona, enforcement_mechanism).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: anticipatory_capacity_failure
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-01-28
% ============================================================================

:- module(anticipatory_capacity_failure, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: anticipatory_capacity_failure
 * human_readable: The Blindside Equilibrium
 * domain: organizational/technological/cognitive
 * * SUMMARY:
 * A scenario where an organization or system becomes so optimized for its 
 * current high-efficiency environment (Rope) that it loses the cognitive 
 * surplus and structural flexibility required to anticipate or react to 
 * "out-of-distribution" shocks. This optimization acts as a "Snare" during 
 * a crisis, liquidating the subject's survival agency because the 
 * "efficient" protocols have no mapping for the new territory, leading 
 * to terminal systemic fragility.
 * * KEY AGENTS:
 * - Strategic Planner: Subject (Powerless)
 * - Efficiency-Optimized System: Beneficiary (Institutional)
 * - Risk Resilience Auditor: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (REVISED)
   ========================================================================== */

% High extraction (0.83) reflects the liquidation of "redundancy" 
domain_priors:base_extractiveness(anticipatory_capacity_failure, 0.83). 
domain_priors:suppression_score(anticipatory_capacity_failure, 0.71). 
domain_priors:theater_ratio(anticipatory_capacity_failure, 0.90).    

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(anticipatory_capacity_failure, extractiveness, 0.83).
narrative_ontology:constraint_metric(anticipatory_capacity_failure, suppression_requirement, 0.71).
narrative_ontology:constraint_metric(anticipatory_capacity_failure, theater_ratio, 0.9).

% Mandatory keys for classification engine v3.4
domain_priors:requires_active_enforcement(anticipatory_capacity_failure).

% Multifile declarations for Beneficiaries & Victims (Required for extraction > 0.46)
narrative_ontology:constraint_beneficiary(anticipatory_capacity_failure, efficiency_optimized_systems).
narrative_ontology:constraint_victim(anticipatory_capacity_failure, strategic_planners).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The planner is trapped: they see the approaching shock but cannot divert 
% resources because the system's "efficiency" logic prohibits redundancy.
constraint_indexing:constraint_classification(anticipatory_capacity_failure, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The institution views the lean optimization as a Rope—the only way to 
% coordinate global-scale logistics and remain competitive in a low-margin world.
constraint_indexing:constraint_classification(anticipatory_capacity_failure, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(global))).

% PERSPECTIVE 3: THE SYSTEMS AUDITOR (PITON)
% Theater ratio (0.90) > 0.70 triggers Piton: the "Risk Dashboard" is an 
% inertial spike; it monitors known variables while ignoring structural decay.
constraint_indexing:constraint_classification(anticipatory_capacity_failure, piton, 
    context(agent_power(analytical), 
            time_horizon(historical), 
            exit_options(analytical), 
            spatial_scope(global))).

% PERSPECTIVE 4: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Detects high extraction (0.83) masking as essential coordination (Rope).
constraint_indexing:constraint_classification(anticipatory_capacity_failure, tangled_rope, 
    context(agent_power(analytical), 
            time_horizon(civilizational), 
            exit_options(arbitrage), 
            spatial_scope(universal))) :-
    domain_priors:base_extractiveness(anticipatory_capacity_failure, E), E >= 0.50,
    domain_priors:suppression_score(anticipatory_capacity_failure, S), S > 0.40.

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(anticipatory_capacity_failure_tests).

test(perspectival_gap) :-
    % Verify Snare for the powerless planner vs Rope for the institutional system.
    constraint_indexing:constraint_classification(anticipatory_capacity_failure, snare, 
        context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(anticipatory_capacity_failure, rope, 
        context(agent_power(institutional), _, _, _)).

test(piton_trigger) :-
    % Ensure extreme theater (0.90) correctly triggers the Piton classification.
    constraint_indexing:constraint_classification(anticipatory_capacity_failure, piton, 
        context(agent_power(analytical), _, _, _)).

test(extraction_threshold) :-
    % High extraction (> 0.70) requires [RESOLVED MANDATROPHY] hook.
    domain_priors:base_extractiveness(anticipatory_capacity_failure, E),
    E > 0.70.

:- end_tests(anticipatory_capacity_failure_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.83) reflects a "Mandatrophy" state where the 
 * "coordination" benefit of hyper-efficiency is achieved by liquidating 
 * the subject's primary capacity for foresight and resilience.
 *
 * 
 *
 * * PERSPECTIVAL GAP:
 * The Strategic Planner feels a Snare because they are forced to participate 
 * in a "just-in-time" logic that they know is terminal. The System sees 
 * a Rope because the removal of "wasteful" redundancy coordinates 
 * maximum throughput in the immediate term.
 *
 * * [RESOLVED MANDATROPHY]:
 * Resolved via the Piton and Tangled Rope classifications. For an analytical 
 * observer, the "Optimized State" is no longer functional for long-term 
 * survival (Theater 0.90); it is an inert spike siphoning 0.83 of 
 * the species' agency.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Required for high-extraction constraints (> 0.46).
omega_variable(
    omega_fragility_tipping_point,
    'Can "active redundancy" be restored before a shock, or is optimization an entropic "Mountain" (Snare vs Mountain)?',
    'Tracking the failure rate of "resilient" versus "efficient" systems in non-linear market events.',
    'If efficient systems collapse: Snare of current logic. If resilient systems fail: Mountain of Systemic Complexity.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(anticipatory_capacity_failure, 0, 10). 

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from functional lean-management (0.30) to 
% inertial "Risk Dashboard" theater (0.90) as redundancy is fully liquidated.
narrative_ontology:measurement(acf_tr_t0, anticipatory_capacity_failure, theater_ratio, 0, 0.30).
narrative_ontology:measurement(acf_tr_t5, anticipatory_capacity_failure, theater_ratio, 5, 0.65).
narrative_ontology:measurement(acf_tr_t10, anticipatory_capacity_failure, theater_ratio, 10, 0.90).

% Extraction: Progressive accumulation of structural debt as 
% "just-in-time" optimization liquidates anticipatory surplus.
narrative_ontology:measurement(acf_ex_t0, anticipatory_capacity_failure, base_extractiveness, 0, 0.25).
narrative_ontology:measurement(acf_ex_t5, anticipatory_capacity_failure, base_extractiveness, 5, 0.58).
narrative_ontology:measurement(acf_ex_t10, anticipatory_capacity_failure, base_extractiveness, 10, 0.83).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: antifragility
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-02-05
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_antifragility, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: antifragility
 * human_readable: Antifragility (Gaining from Disorder)
 * domain: technological/economic/biological
 * * SUMMARY:
 * Antifragility describes systems that increase in capability or resilience 
 * in response to stressors and volatility. For the species, it is a 
 * Mountain; for the informed practitioner, a Rope; and for the fragile 
 * subject, it is a Snare.
 * * KEY AGENTS:
 * - The Optimized Serf: Subject (Powerless)
 * - The Barbell Practitioner: Beneficiary (Moderate)
 * - The Fragilista/Bureaucrat: Institutional Beneficiary/Enforcer
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(antifragility, 0.75). 
domain_priors:suppression_score(antifragility, 0.65).   
domain_priors:theater_ratio(antifragility, 0.55). % Reflects performative stability.

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(antifragility, extractiveness, 0.75).
narrative_ontology:constraint_metric(antifragility, suppression_requirement, 0.65).
narrative_ontology:constraint_metric(antifragility, theater_ratio, 0.55).

% Constraint metric facts used by the classification engine.
domain_priors:requires_active_enforcement(antifragility).

% Beneficiaries and Victims
narrative_ontology:constraint_beneficiary(antifragility, antifragile_practitioner).
narrative_ontology:constraint_victim(antifragility, fragile_institutions).
narrative_ontology:constraint_victim(antifragility, optimized_serfs).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE OPTIMIZED SERF (SNARE)
constraint_indexing:constraint_classification(antifragility, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(national))).

% PERSPECTIVE 2: THE BARBELL PRACTITIONER (ROPE)
constraint_indexing:constraint_classification(antifragility, rope, 
    context(agent_power(individual_moderate), 
            time_horizon(biographical), 
            exit_options(arbitrage), 
            spatial_scope(global))).

% PERSPECTIVE 3: THE BUREAUCRAT (TANGLED ROPE)
constraint_indexing:constraint_classification(antifragility, tangled_rope, 
    context(agent_power(institutional), 
            time_horizon(immediate), 
            exit_options(constrained), 
            spatial_scope(national))).

% PERSPECTIVE 4: THE EVOLUTIONARY OBSERVER (MOUNTAIN)
constraint_indexing:constraint_classification(antifragility, mountain, 
    context(agent_power(analytical), 
            time_horizon(civilizational), 
            exit_options(analytical), 
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(antifragility_tests).

test(perspectival_gap) :-
    constraint_indexing:constraint_classification(antifragility, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(antifragility, TypeModerate, context(agent_power(individual_moderate), _, _, _)),
    TypePowerless \= TypeModerate.

test(extraction_signature) :-
    E >= 0.46. % Ensures high-extraction Snare/Tangled territory.

:- end_tests(antifragility_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.75) reflects the "convexity bias" where the antifragile 
 * agent harvests upside while downside is externalized to the fragile.
 * * MANDATROPHY ANALYSIS:
 * Resolved via the Tangled Rope classification for the Institutional agent, 
 * showing how coordination of short-term order creates predatory long-term debt.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    antifragility_extraction_intent,
    'Is the 0.75 extraction a functional necessity for evolution or predatory?',
    'Audit of Skin in the Game metrics',
    'If necessity: Mountain. If predatory: Snare.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

narrative_ontology:interval(antifragility, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from functional stressors (0.10) to performative 
% "Fragilista" stability theater (0.55).
narrative_ontology:measurement(anti_tr_t0, antifragility, theater_ratio, 0, 0.10).
narrative_ontology:measurement(anti_tr_t5, antifragility, theater_ratio, 5, 0.35).
narrative_ontology:measurement(anti_tr_t10, antifragility, theater_ratio, 10, 0.55).

% Extraction: Tracking the intensification of risk-asymmetry as buffers 
% are removed from the fragile population.
narrative_ontology:measurement(anti_ex_t0, antifragility, base_extractiveness, 0, 0.25).
narrative_ontology:measurement(anti_ex_t5, antifragility, base_extractiveness, 5, 0.55).
narrative_ontology:measurement(anti_ex_t10, antifragility, base_extractiveness, 10, 0.75).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: apartheid_nuclear_program
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-02-05
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(apartheid_nuclear_program, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: apartheid_nuclear_program
 * human_readable: Apartheid South Africa's Clandestine Nuclear Program
 * domain: political/military/technological
 * * SUMMARY:
 * A clandestine weapons program aimed at securing the survival of the minority 
 * regime through nuclear deterrence. Fuelled by an extractive energy economy 
 * and forced labor under the guise of civil electrification.
 * * KEY AGENTS:
 * - The Apartheid State: Beneficiary (Institutional) - Seeking sovereign security.
 * - Renfrew Christie (Scholar-Spy): Auditor (Analytical) - Mapped energy requirements.
 * - Forced Laborers: Subject (Powerless) - Experienced high labor extraction.
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(apartheid_nuclear_program, 0.85). %
domain_priors:suppression_score(apartheid_nuclear_program, 0.90).   %
domain_priors:theater_ratio(apartheid_nuclear_program, 0.20).       % Clandestine focus; low performative signaling.

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(apartheid_nuclear_program, extractiveness, 0.85).
narrative_ontology:constraint_metric(apartheid_nuclear_program, suppression_requirement, 0.9).
narrative_ontology:constraint_metric(apartheid_nuclear_program, theater_ratio, 0.2).

% Constraint metric facts used by the classification engine
domain_priors:requires_active_enforcement(apartheid_nuclear_program).

% Beneficiaries & Victims
narrative_ontology:constraint_beneficiary(apartheid_nuclear_program, apartheid_regime).
narrative_ontology:constraint_victim(apartheid_nuclear_program, forced_laborers).
narrative_ontology:constraint_victim(apartheid_nuclear_program, political_dissidents).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE APARTHEID REGIME (ROPE)
constraint_indexing:constraint_classification(apartheid_nuclear_program, rope, 
    context(agent_power(institutional), time_horizon(historical), exit_options(arbitrage), spatial_scope(national))).

% PERSPECTIVE 2: THE POLITICAL PRISONER (SNARE)
constraint_indexing:constraint_classification(apartheid_nuclear_program, snare, 
    context(agent_power(powerless), time_horizon(biographical), exit_options(trapped), spatial_scope(local))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
constraint_indexing:constraint_classification(apartheid_nuclear_program, tangled_rope, 
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))).

% PERSPECTIVE 4: THE NUCLEAR PHYSICIST (MOUNTAIN)
constraint_indexing:constraint_classification(apartheid_nuclear_program, mountain, 
    context(agent_power(analytical), time_horizon(civilizational), exit_options(analytical), spatial_scope(continental))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(apartheid_nuclear_tests).

test(perspectival_gap) :-
    constraint_indexing:constraint_classification(apartheid_nuclear_program, TypeRegime, context(institutional, historical, arbitrage, national)),
    constraint_indexing:constraint_classification(apartheid_nuclear_program, TypePrisoner, context(powerless, biographical, trapped, local)),
    TypeRegime \= TypePrisoner.

test(extraction_signature) :-
    E >= 0.46. % Confirms high-extraction signature for drift detection requirement.

:- end_tests(apartheid_nuclear_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.85) is high because the program was funded by 
 * extreme labor exploitation in coal mines. 
 * * MANDATROPHY ANALYSIS:
 * Resolved via Tangled Rope for the Auditor, acknowledging that the 
 * program solved a coordination problem (energy/deterrence) through 
 * predatory extraction of rights.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    apartheid_extraction_intent,
    'Was the 0.85 extraction a functional necessity for survival or predatory racial ideology?',
    'Audit of state energy expenditures vs mining profits during clandestine phase',
    'If necessity: Mountain. If predatory: Snare/Mandatrophy.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

narrative_ontology:interval(apartheid_nuclear_program, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio over time: Rising as the program shifts from secret research (0.05)
% to using the facility for performative strategic deterrence (0.20).
narrative_ontology:measurement(anp_tr_t0, apartheid_nuclear_program, theater_ratio, 0, 0.05).
narrative_ontology:measurement(anp_tr_t5, apartheid_nuclear_program, theater_ratio, 5, 0.12).
narrative_ontology:measurement(anp_tr_t10, apartheid_nuclear_program, theater_ratio, 10, 0.20).

% Extraction over time: Hardening of the labor-extraction snare as the 
% project requirements for "the cheapest electricity" intensified.
narrative_ontology:measurement(anp_ex_t0, apartheid_nuclear_program, base_extractiveness, 0, 0.40).
narrative_ontology:measurement(anp_ex_t5, apartheid_nuclear_program, base_extractiveness, 5, 0.65).
narrative_ontology:measurement(anp_ex_t10, apartheid_nuclear_program, base_extractiveness, 10, 0.85).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: arctic_geopolitical_flashpoint
% ============================================================================
% Generated: 2026-01-23
% Model: Gemini 2.0 Flash
% Source: The Times / Guardian / CSIS / TFR83 (2025-2026)
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_arctic_flashpoint, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:interval/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================= */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: arctic_geopolitical_flashpoint
 * human_readable: The Melting Ice and the Scramble for Greenland
 * domain: geopolitical/economic
 * temporal_scope: 2024-2035 (Acceleration of ice melt and annexation rhetoric)
 * spatial_scope: The Arctic Circle / Greenland / GIUK Gap
 * * SUMMARY:
 * Rapid Arctic ice melt has exposed massive Critical Mineral reserves and 
 * opened the Northern Sea Route (NSR), turning Greenland into a strategic 
 * "chessboard." The U.S. (Trump Administration) has pivoted toward 
 * securitizing the region via "annexation acts" and missile defense 
 * infrastructure (the "Golden Dome"), countering Russian and Chinese 
 * influence in the GIUK gap.
 * * KEY AGENTS:
 * - Trump Administration: Institutional actor seeking resource independence.
 * - Greenlandic Government: Local authority facing existential sovereignty risks.
 * - Global Trade Cartels: Commercial actors seeking to cut Suez transit times by 20 days.
 * - Climatologists: Analytical observers tracking 4x faster warming rates.
 * * NARRATIVE ARC:
 * The region has transitioned from an environmental "canary in the coal mine" 
 * to a high-stakes national security emergency where resource access is 
 * securitized at the cost of traditional multilateral diplomacy.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (REVISED)
   ========================================================================= */

% ID Binding for DR-Audit Suite
narrative_ontology:interval(arctic_geopolitical_flashpoint, 0, 10).
narrative_ontology:constraint_claim(arctic_geopolitical_flashpoint, snare).

% Base Properties
domain_priors:base_extractiveness(arctic_geopolitical_flashpoint, 0.75).
domain_priors:suppression_score(arctic_geopolitical_flashpoint, 0.80).
domain_priors:theater_ratio(arctic_geopolitical_flashpoint, 0.45). % Hybrid of security signaling and functional infrastructure.

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(arctic_geopolitical_flashpoint, extractiveness, 0.75).
narrative_ontology:constraint_metric(arctic_geopolitical_flashpoint, suppression_requirement, 0.8).
narrative_ontology:constraint_metric(arctic_geopolitical_flashpoint, theater_ratio, 0.45).

% Mandatory keys for classification engine v3.4
domain_priors:requires_active_enforcement(arctic_geopolitical_flashpoint).

% Beneficiaries & Victims (Mandatory for High Extractiveness)
constraint_beneficiary(arctic_geopolitical_flashpoint, us_defense_sector).
constraint_beneficiary(arctic_geopolitical_flashpoint, arctic_shipping_conglomerates).
constraint_victim(arctic_geopolitical_flashpoint, greenlandic_sovereignty).
constraint_victim(arctic_geopolitical_flashpoint, dmr_alliances).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================= */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: GREENLANDIC OFFICIAL - Snare
   --------------------------------------------------------------------------
   WHO: powerless - Representative of 56k people against superpowers.
   WHEN: immediate - Facing 2026 annexation legislation.
   WHERE: trapped - Geography dictates their value as a strategic "pawn."
   
   WHY THIS CLASSIFICATION:
   For the local population, the melting ice is a Snare; their land's 
   sudden strategic value leads to coercive extraction of minerals and 
   sovereignty with no viable exit.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(arctic_geopolitical_flashpoint, snare, 
    context(agent_power(powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(national))).

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: U.S. STRATEGIC PLANNER - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Rule-making power designing the "Golden Dome."
   WHEN: biographical - Planning for decades of resource/missile security.
   WHERE: mobile - Shifting assets between Atlantic and Arctic corridors.
   
   WHY THIS CLASSIFICATION:
   Greenland is a Rope—a critical coordination mechanism (NATO base, 
   monitoring) that pulls the hemisphere together to solve the 
   collective action problem of Russian/Chinese "probing".
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(arctic_geopolitical_flashpoint, rope, 
    context(agent_power(institutional), time_horizon(biographical), exit_options(mobile), spatial_scope(global))).

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: SHIPPING CARTEL - Tangled Rope
   --------------------------------------------------------------------------
   WHO: collective_organized - Massive trade conglomerates.
   WHEN: biographical - 20-50 year ship hull lifecycle.
   WHERE: arbitrage - Playing Suez vs. NSR routes for profit.
   
   WHY THIS CLASSIFICATION:
   The NSR acts as a Tangled Rope. It coordinates global trade (20-day 
   shorter journeys) while extracting asymmetric profits and 
   accelerating environmental degradation.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(arctic_geopolitical_flashpoint, tangled_rope, 
    context(agent_power(collective_organized), time_horizon(biographical), exit_options(arbitrage), spatial_scope(global))).

/* --------------------------------------------------------------------------
   PERSPECTIVE 4: THE CLIMATOLOGIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical - Observer of physical tipping points.
   WHEN: historical - Viewing ice-free modeling over 100+ years.
   WHERE: analytical - Physical constraints of planetary thermodynamics.
   
   WHY THIS CLASSIFICATION:
   The physics of ice melt is a Mountain. Political posturing cannot 
   negotiate with the warming rate; the exposure of the seabed is 
   now an unchangeable natural law.
   -------------------------------------------------------------------------- */
constraint_indexing:constraint_classification(arctic_geopolitical_flashpoint, mountain, 
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================= */

:- begin_tests(arctic_flashpoint_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(arctic_geopolitical_flashpoint, Type1, context(powerless, immediate, trapped, national)),
    constraint_indexing:constraint_classification(arctic_geopolitical_flashpoint, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(powerless, immediate, trapped, national),
    ContextPowerful = context(institutional, biographical, mobile, global),
    constraint_indexing:extractiveness_for_agent(arctic_geopolitical_flashpoint, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(arctic_geopolitical_flashpoint, ContextPowerful, Score2),
    Score1 > Score2.

test(geopolitical_inevitability) :-
    % Analytical views on historical horizons should always converge on Mountain logic
    constraint_indexing:constraint_classification(arctic_geopolitical_flashpoint, mountain, context(analytical, historical, _, _)).

:- end_tests(arctic_flashpoint_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================= */

/**
 * LLM GENERATION NOTES
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.75): High because mineral rights and "annexation acts" 
 * represent an asymmetric flow of value from a small population to a superpower.
 * 2. TANGLED ROPE: Added for Shipping Cartels to highlight the hybrid coordination 
 * (shipping efficiency) vs. the extraction (monopolizing new routes).
 * 3. MANDATROPHY RESOLUTION: The classification variance proves the "predatory" 
 * nature disappears for the US Planner (Rope) but is acute for the Local (Snare).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================= */

omega_variable(
    arctic_flashpoint_extraction_intent,
    "Is the 0.75 extraction a functional necessity for NATO survival or a predatory choice for resource dominance?",
    resolution_mechanism("Audit of Pituffik resource allocation vs. Greenlandic social investment thresholds"),
    impact("If necessity: Mountain. If predatory choice: Snare/Mandatrophy."),
    confidence_without_resolution(medium)
).

omega_variable(
    mineral_extraction_viability,
    "Are mining operations practical beneath active glacial movement, or is this a psychological deterrent?",
    resolution_mechanism("Monitor first-cycle REE yields from the Tanbreez mine sites."),
    impact("If yields fail, Greenland remains a defense-only Rope rather than an economic Snare."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================= */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Multilateral Arctic Council Governance
 * Viability: High (historically effective).
 * Suppression: Suppressed by the "Whatever the cost" rhetoric of 2026.
 * * ALTERNATIVE 2: Commercial Suez Neutrality
 * Viability: Existing trade backbone.
 * Suppression: Economic pressure to cut 20 days off journeys creates a 
 * forced transition to Arctic routes.
 * * CONCLUSION:
 * Active suppression of Alternative 1 shifts the system from a potential 
 * Rope for Greenland into a definitive Snare.
 */

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from functional environmental monitoring (0.15) 
% to performative annexation posturing (0.45) as strategic value peaks.
narrative_ontology:measurement(arctic_tr_t0, arctic_geopolitical_flashpoint, theater_ratio, 0, 0.15).
narrative_ontology:measurement(arctic_tr_t5, arctic_geopolitical_flashpoint, theater_ratio, 5, 0.30).
narrative_ontology:measurement(arctic_tr_t10, arctic_geopolitical_flashpoint, theater_ratio, 10, 0.45).

% Extraction: Progressive accumulation of mineral and sovereignty extraction 
% as the Northern Sea Route (NSR) becomes commercially viable.
narrative_ontology:measurement(arctic_ex_t0, arctic_geopolitical_flashpoint, base_extractiveness, 0, 0.35).
narrative_ontology:measurement(arctic_ex_t5, arctic_geopolitical_flashpoint, base_extractiveness, 5, 0.58).
narrative_ontology:measurement(arctic_ex_t10, arctic_geopolitical_flashpoint, base_extractiveness, 10, 0.75).

/* ==========================================================================
   9. INTEGRATION HOOKS
   ========================================================================= */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [arctic_geopolitical_flashpoint].
 * 2. Multi-perspective: ?- multi_index_report(arctic_geopolitical_flashpoint).
 * 3. Run tests: ?- run_tests(arctic_flashpoint_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================= */
% ============================================================================
% CONSTRAINT STORY: arrows_impossibility_theorem
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Kenneth Arrow (1951) / Social Choice and Individual Values
% ============================================================================

:- module(constraint_arrows_impossibility, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: arrows_impossibility_theorem
 * human_readable: Arrow's Impossibility Theorem
 * domain: political/economic/social
 * temporal_scope: 1951 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Social Choice Theory)
 * * SUMMARY:
 * Arrow's Impossibility Theorem proves that no rank-order voting system can 
 * convert the ranked preferences of individuals into a community-wide 
 * ranking while meeting a specific set of fair criteria: non-dictatorship, 
 * Pareto efficiency, and independence of irrelevant alternatives. It 
 * establishes an absolute mathematical limit on the fairness of collective 
 * decision-making.
 * * KEY AGENTS:
 * - The Voter (Subject): A powerless agent whose ranked preferences are 
 * inevitably "distorted" or ignored by any systemic aggregation.
 * - The Constitutional Designer (Institutional): An agent who uses the 
 * theorem as a "Rope" to choose which specific "unfairness" (e.g., 
 * susceptibility to tactical voting) to tolerate in a stable system.
 * - The Democratic Reformer (Victim): An agent for whom the theorem acts 
 * as a "Snare," as it "strangles" the search for a perfect voting system.
 * * NARRATIVE ARC:
 * Arrow's Theorem is the "Mountain" of political reality—the impossibility 
 * of a perfect social welfare function is a fixed feature of logic. In 
 * legislative design, it is a "Rope" for functional coordination, allowing 
 * architects to prioritize stability over theoretical purity. However, 
 * for the idealist, the theorem acts as a "Snare," extracting the hope 
 * of a "true" collective will (extraction) and "choking" political 
 * energy by proving that every choice is a compromise of axioms.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (REVISED)
   ========================================================================== */

% ID Binding - Fixed ID to match measurements (formerly 'arrows_era')
narrative_ontology:interval(arrows_impossibility_theorem, 1951, 2026).
narrative_ontology:constraint_claim(arrows_impossibility_theorem, mountain).

% Base Properties (Raw Floats)
domain_priors:base_extractiveness(arrows_impossibility_theorem, 0.60).
domain_priors:suppression_score(arrows_impossibility_theorem, 0.40).
domain_priors:theater_ratio(arrows_impossibility_theorem, 0.20).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(arrows_impossibility_theorem, extractiveness, 0.6).
narrative_ontology:constraint_metric(arrows_impossibility_theorem, suppression_requirement, 0.4).
narrative_ontology:constraint_metric(arrows_impossibility_theorem, theater_ratio, 0.2).

% Mandatory keys for classification engine v3.4
domain_priors:emerges_naturally(arrows_impossibility_theorem).

% Beneficiaries & Victims (Required for high extraction > 0.46)
narrative_ontology:constraint_beneficiary(arrows_impossibility_theorem, stable_incumbents).
narrative_ontology:constraint_victim(arrows_impossibility_theorem, democratic_idealists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INDIVIDUAL VOTER - Mountain
   --------------------------------------------------------------------------
   
   WHO: powerless - The voter cannot change the mathematical laws of aggregation.
   WHEN: immediate - True at every election cycle.
   WHERE: trapped - Bound within the rules of the existing voting system.
   SCOPE: local - Immediate impact of their ballot.
   
   WHY THIS CLASSIFICATION:
   For the voter, the impossibility of a perfectly fair aggregation is an 
   absolute Mountain. No matter how sincerely they rank their candidates, 
   the "Mountain" of Arrow's logic ensures that the system may still 
   produce a paradoxical result (e.g., the Condorcet Paradox).
   
   
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    arrows_impossibility_theorem,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE CONSTITUTIONAL DESIGNER - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to select the voting method (FPTP, IRV, Borda).
   WHEN: biographical - Planning the long-term stability of a state.
   WHERE: mobile - Can choose which axioms to relax to achieve stability.
   SCOPE: national - Country-wide application.
   
   WHY THIS CLASSIFICATION:
   For the designer, the theorem is a "Rope"—a functional coordination tool. 
   Knowing that a perfect system is impossible, they coordinate a "standard 
   of achievement" by selecting a method that minimizes the specific 
   unfairness they find most dangerous (e.g., prioritizing "Pareto" over "IIA").
   
   
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    arrows_impossibility_theorem,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(national)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE VOTING SYSTEM REFORMER - Snare
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has the agency to campaign for reform but is bound by the theorem.
   WHEN: historical - Facing a century of failed "perfect" reforms.
   WHERE: constrained - The "exit" (a fair system) is mathematically barred.
   SCOPE: global - Universal limit on collective choice.
   
   WHY THIS CLASSIFICATION:
   For the reformer, Arrow's Theorem is a "Snare." It "strangles" the hope 
   for a truly just outcome. It extracts enormous political and intellectual 
   capital (extraction) while "choking" the movement with the realization 
   that every "fix" introduces a new, equally fundamental unfairness.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    arrows_impossibility_theorem,
    snare,
    context(
        agent_power(individual_moderate),
        time_horizon(historical),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(arrows_impossibility_theorem, E),
    E >= 0.5,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(arrows_impossibility_tests).

test(multi_perspective_variance) :-
    % Voter -> Mountain
    constraint_indexing:constraint_classification(arrows_impossibility_theorem, Type1, context(powerless, immediate, trapped, local)),
    % Designer -> Rope
    constraint_indexing:constraint_classification(arrows_impossibility_theorem, Type2, context(institutional, biographical, mobile, national)),
    Type1 \= Type2.

test(reform_extraction_penalty) :-
    % Reformers experience the "Snare" of high extraction (0.6).
    Context = context(individual_moderate, historical, constrained, global),
    constraint_indexing:extractiveness_for_agent(arrows_impossibility_theorem, Context, Score),
    Score >= 0.5.

test(natural_emergence) :-
    domain_priors:emerges_naturally(arrows_impossibility_theorem).

:- end_tests(arrows_impossibility_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * * 1. EXTRACTIVENESS SCORE (0.6):
 * Reasoning: Arrow's theorem is a "tax" on democratic legitimacy. It 
 * extracts the possibility of a consensus will to empower the 
 * arbitrariness of the system designer. It is highly extractive of 
 * political utility.
 * * 2. PERSPECTIVE SELECTION:
 * Chose Voter (Subject), Designer (Institution), and Reformer (Victim) 
 * to show how a "Mountain" of logic becomes a "Snare" for 
 * political aspiration.
 * * 3. OMEGA IDENTIFICATION:
 * Formalized the "Cardinal Utility" uncertainty—does the Mountain 
 * hold if we stop using ranked ballots?
 */

% OMEGA IDENTIFICATION
omega_variable(
    cardinal_utility_escape,
    "Is Arrow's 'Mountain' stable if we use Cardinal Utility (e.g., Score Voting) (Scaffold)?",
    resolution_mechanism("Investigation into whether Approval or Score voting evades the IIA/Dictatorship trade-off by including intensity of preference."),
    impact("If Yes: Arrow is a 'Snare' specifically for ordinal systems. If No: It is a universal Mountain."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Range/Score Voting
 * Viability: By using cardinal scores (0-10) instead of rankings, 
 * systems like Range Voting bypass the specific "impossibility" proof, 
 * as they do not rely on ordinal rankings.
 * Suppression: Often suppressed in public discourse in favor of 
 * Ranked Choice (ordinal) which remains subject to the "Snare" of Arrow.
 * * ALTERNATIVE 2: Quadratic Voting
 * Viability: Uses "buying" votes with points to reveal preference intensity.
 * * CONCLUSION:
 * The existence of Cardinal Utility alternatives (Alternative 1) proves 
 * that the Arrow "Snare" is the specific price we pay for the "Rope" 
 * of rank-order simplicity.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_arrows_impossibility].
 * 2. Multi-perspective: ?- multi_index_report(arrows_impossibility_theorem).
 */

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Minimal drift as the theorem remains a functional limit of 
% social choice logic rather than a performative one.
narrative_ontology:measurement(arrows_tr_t0, arrows_impossibility_theorem, theater_ratio, 0, 0.05).
narrative_ontology:measurement(arrows_tr_t5, arrows_impossibility_theorem, theater_ratio, 5, 0.12).
narrative_ontology:measurement(arrows_tr_t10, arrows_impossibility_theorem, theater_ratio, 10, 0.20).

% Extraction: Progressive accumulation of systemic bias as the scale of 
% collective decision-making environments intensifies.
narrative_ontology:measurement(arrows_ex_t0, arrows_impossibility_theorem, base_extractiveness, 0, 0.45).
narrative_ontology:measurement(arrows_ex_t5, arrows_impossibility_theorem, base_extractiveness, 5, 0.52).
narrative_ontology:measurement(arrows_ex_t10, arrows_impossibility_theorem, base_extractiveness, 10, 0.60).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: art_market_decoupling
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-02-04
% ============================================================================

:- module(constraint_art_decoupling, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: art_market_decoupling
 * human_readable: The Obscene Decoupling
 * domain: economic/social
 * * SUMMARY:
 * David Bowie identifies a three-way decoupling between the artist, the 
 * elitist "art world" (networking/status), and the "obscene" art market 
 * (investment/stocks). Creativity becomes "lost in the middle" 
 * as the market treats art as a speculative asset.
 * * KEY AGENTS:
 * - The Artist: Subject (Powerless) - Creativity lost in the system.
 * - The Investor: Beneficiary (Institutional) - Buying art as stocks.
 * - The Critic/Bowie: Auditor (Analytical) - Observing the "disgusting" 
 * decoupling of value.
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
% Extraction is "obscene" due to speculative "amounts of money".
domain_priors:base_extractiveness(art_market_decoupling, 0.84). 
% Suppression via "elitist club" gates: "you have to know the right people".
domain_priors:suppression_score(art_market_decoupling, 0.75).   
% High theater: "all about networking and status... being seen".
domain_priors:theater_ratio(art_market_decoupling, 0.92).       

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(art_market_decoupling, extractiveness, 0.84).
narrative_ontology:constraint_metric(art_market_decoupling, suppression_requirement, 0.75).
narrative_ontology:constraint_metric(art_market_decoupling, theater_ratio, 0.92).

% Binary flags
domain_priors:requires_active_enforcement(art_market_decoupling).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE ARTIST (SNARE)
% High extraction ($E=0.84$) where creativity is lost to the market.
constraint_indexing:constraint_classification(art_market_decoupling, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(national))).

% PERSPECTIVE 2: THE INVESTOR (ROPE)
% Viewed as coordination infrastructure for capital ("buying stocks").
constraint_indexing:constraint_classification(art_market_decoupling, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (PITON)
% Detects high theater ($TR=0.92$) maintaining a non-functional social club.
constraint_indexing:constraint_classification(art_market_decoupling, piton, 
    context(agent_power(analytical), 
            time_horizon(historical), 
            exit_options(analytical), 
            spatial_scope(global))) :-
    domain_priors:theater_ratio(art_market_decoupling, TR), TR > 0.70.

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(art_tests).

test(perspectival_gap) :-
    % Verify the Artist sees a Snare while the Investor sees a Rope.
    constraint_indexing:constraint_classification(art_market_decoupling, snare, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(art_market_decoupling, rope, context(agent_power(institutional), _, _, _)).

test(piton_status) :-
    % Verify Piton classification for the "disgusting" elitist theater.
    domain_priors:theater_ratio(art_market_decoupling, TR), TR > 0.70.

:- end_tests(art_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The "Perspectival Gap" here is a total decoupling of intent. The Investor 
 * coordinates wealth through "investment" (Rope), while the Artist 
 * is extracted from their own "creativity" (Snare). 
 * * [RESOLVED MANDATROPHY]:
 * The extreme extraction ($E=0.84$) is not a coordination tax; it is a 
 * speculative bubble where art serves as a theater for status ($TR=0.92$).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_creative_residue,
    'Does the art piece retain "good" quality independent of its market price?',
    'Blind aesthetic audit vs market value tracking over 50 years.',
    'If quality is low: Pure Piton. If quality is high: Tangled Rope.',
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

narrative_ontology:interval(art_market_decoupling, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from "Community Openings" to "Global Networking Status."
narrative_ontology:measurement(art_tr_t0, art_market_decoupling, theater_ratio, 0, 0.45).
narrative_ontology:measurement(art_tr_t5, art_market_decoupling, theater_ratio, 5, 0.70).
narrative_ontology:measurement(art_tr_t10, art_market_decoupling, theater_ratio, 10, 0.92).

% Extraction: Transition from patronage to "obscene" stock-like investment.
narrative_ontology:measurement(art_ex_t0, art_market_decoupling, base_extractiveness, 0, 0.30).
narrative_ontology:measurement(art_ex_t5, art_market_decoupling, base_extractiveness, 5, 0.60).
narrative_ontology:measurement(art_ex_t10, art_market_decoupling, base_extractiveness, 10, 0.84).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: artificial_scarcity_scaffold
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2023-10-27
% ============================================================================

:- module(constraint_artificial_scarcity_scaffold, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: artificial_scarcity_scaffold
 * human_readable: The Resource-Migration Scaffold
 * domain: technological/economic
 * * SUMMARY:
 * This constraint represents a temporary period of enforced artificial scarcity
 * designed to facilitate a transition from a legacy resource to a new,
 * abundant alternative. It functions as a coordination mechanism that
 * temporarily suppresses choice to prevent a "tragedy of the commons"
 * during the migration phase, ensuring the new system reaches critical mass.
 * * KEY AGENTS:
 * - Resource Consumer (Victim): Subject (Powerless)
 * - System Beneficiaries (e.g., adopters of the new resource): Beneficiary (Institutional)
 * - Systems Architect: Architect (Organized)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(artificial_scarcity_scaffold, 0.48).
domain_priors:suppression_score(artificial_scarcity_scaffold, 0.75).
domain_priors:theater_ratio(artificial_scarcity_scaffold, 0.20).

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(artificial_scarcity_scaffold, extractiveness, 0.48).
narrative_ontology:constraint_metric(artificial_scarcity_scaffold, suppression_requirement, 0.75).
narrative_ontology:constraint_metric(artificial_scarcity_scaffold, theater_ratio, 0.20).

% Constraint self-claim (what does the constraint claim to be?)
narrative_ontology:constraint_claim(artificial_scarcity_scaffold, coordination).

% Binary flags
% Mandatory for Scaffold classification: A sunset clause exists for the transition.
narrative_ontology:has_sunset_clause(artificial_scarcity_scaffold).

% Structural property derivation hooks:
% has_coordination_function/1 is DERIVED from constraint_beneficiary/2 (Required for Scaffold)
% has_asymmetric_extraction/1 is DERIVED from constraint_victim/2
narrative_ontology:constraint_beneficiary(artificial_scarcity_scaffold, system_beneficiaries).
narrative_ontology:constraint_victim(artificial_scarcity_scaffold, resource_consumers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% To the powerless agent, the high cost and lack of choice feel like a predatory trap.
% χ = 0.48 * 1.5 (powerless) * 1.0 (national) = 0.72, which is a Snare (>= 0.66).
constraint_indexing:constraint_classification(artificial_scarcity_scaffold, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The institution views this as a vital coordination Rope for systemic stability.
% χ = 0.48 * -0.2 (institutional) * 1.2 (global) = -0.115, which is a Rope.
constraint_indexing:constraint_classification(artificial_scarcity_scaffold, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ARCHITECT (SCAFFOLD)
% Suppression is tolerated because it is temporary and linked to a sunset clause.
constraint_indexing:constraint_classification(artificial_scarcity_scaffold, scaffold,
    context(agent_power(organized),
            time_horizon(generational),
            exit_options(constrained),
            spatial_scope(continental))) :-
    narrative_ontology:has_sunset_clause(artificial_scarcity_scaffold).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(artificial_scarcity_scaffold_tests).

test(perspectival_gap) :-
    % Verify there is a perspectival gap between powerless and institutional.
    constraint_indexing:constraint_classification(artificial_scarcity_scaffold, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(artificial_scarcity_scaffold, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless \= TypeInstitutional,
    TypePowerless == snare,
    TypeInstitutional == rope.

test(scaffold_trigger) :-
    % Verify that the presence of a sunset clause triggers the Scaffold classification.
    constraint_indexing:constraint_classification(artificial_scarcity_scaffold, scaffold,
        context(agent_power(organized), _, _, _)).

test(threshold_validation) :-
    % Ensure base extraction meets high-extraction (>= 0.46) logic gates.
    domain_priors:base_extractiveness(artificial_scarcity_scaffold, E),
    E >= 0.46.

:- end_tests(artificial_scarcity_scaffold_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * This constraint models a "tough medicine" scenario. The base extractiveness (0.48)
 * is high, reflecting significant costs imposed on consumers of the legacy resource.
 * This high extraction, combined with high suppression (0.75), creates a clear
 * Snare from the perspective of a trapped, powerless consumer.
 *
 * However, the system is designed with a clear sunset clause and a coordination
 * function (benefiting future users of the new system). This allows the Architect
 * perspective to classify it as a Scaffold. The high base extraction is unusual
 * for a Scaffold (typically <= 0.30) but is tolerated here precisely because of
 * the sunset clause and the severity of the coordination problem being solved.
 *
 * * PERSPECTIVAL GAP:
 * The gap is stark: The Consumer experiences a Snare due to immediate financial
 * and choice-based friction. The Architect sees a Scaffold—a temporary, necessary
 * structure that supports the "bridge" to abundance. The Institutional beneficiary
 * (the new system) perceives negative extraction (a Rope), as it is the recipient
 * of the coordinated transition.
 *
 * * [RESOLVED MANDATROPHY]:
 * The classification of 'Scaffold' prevents the system from mislabeling
 * this high-suppression state as pure, permanent extraction (Snare). It acknowledges
 * the temporary nature and coordination goal, even with high friction.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Required for constraints with base_extractiveness > 0.46.
omega_variable(
    omega_scarcity_sunset,
    'Will the scarcity expire as scheduled, or will the "Scaffold" become a permanent "Snare" or "Piton"?',
    'Auditing transition milestones against the hard-coded sunset timestamp and monitoring for attempts to extend the transition period.',
    'If sunset honored: Transition succeeds, constraint dissolves. If delayed: Degrades to Snare as temporality proves false.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(artificial_scarcity_scaffold, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data enables drift detection. Required for high-extraction constraints.
% Theater ratio over time: Modeling a functional start (0.10) drifting toward
% the current base management (0.20) as the scaffold matures.
narrative_ontology:measurement(scarcity_tr_t0, artificial_scarcity_scaffold, theater_ratio, 0, 0.10).
narrative_ontology:measurement(scarcity_tr_t5, artificial_scarcity_scaffold, theater_ratio, 5, 0.15).
narrative_ontology:measurement(scarcity_tr_t10, artificial_scarcity_scaffold, theater_ratio, 10, 0.20).

% Extraction over time: Tracking the ramp-up of resource redirection/fees
% during the 10-year migration interval.
narrative_ontology:measurement(scarcity_ex_t0, artificial_scarcity_scaffold, base_extractiveness, 0, 0.25).
narrative_ontology:measurement(scarcity_ex_t5, artificial_scarcity_scaffold, base_extractiveness, 5, 0.38).
narrative_ontology:measurement(scarcity_ex_t10, artificial_scarcity_scaffold, base_extractiveness, 10, 0.48).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% This is a classic resource allocation problem: moving users from one
% resource pool to another.
narrative_ontology:coordination_type(artificial_scarcity_scaffold, resource_allocation).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: asce_7_22_seismic_design
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: ASCE/SEI 7-22: Minimum Design Loads and Associated Criteria
% ============================================================================

:- module(constraint_asce_7_22_seismic, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: asce_7_22_seismic_design
 * human_readable: ASCE 7-22 Seismic Design Requirements
 * domain: technological/legal
 * temporal_scope: 2022-Present
 * spatial_scope: National (United States)
 * * SUMMARY:
 * ASCE 7-22 dictates the minimum loads, including seismic, that buildings 
 * must be designed to withstand. It introduces updated multi-period 
 * design response spectra to more accurately capture the behavior of structures 
 * on various soil types.
 * * KEY AGENTS:
 * - Junior Structural Engineer: Powerless subject who must follow the code 
 * to obtain a permit.
 * - Building Official (AHJ): Institutional enforcer of the code requirements.
 * - Code Committee (ASCE 7): Powerful institutional body that defines 
 * the "laws of engineering".
 * * NARRATIVE ARC:
 * To the engineer, the code is a Mountain: an unchangeable set of physical 
 * and legal requirements. To the public, it is a Rope: a coordination 
 * mechanism providing a baseline of safety. If the code becomes 
 * overly conservative due to lobbying, it risks becoming a Snare for 
 * affordable development.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(asce_cycle_22, 0, 10).
narrative_ontology:constraint_claim(asce_7_22_seismic_design, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.2. While compliance costs money, the "benefit" is public safety. 
% Minimal extraction of capital compared to safety provided.
domain_priors:base_extractiveness(asce_7_22_seismic_design, 0.2).

% Suppression score (0.0-1.0)
% Rationale: 0.7. Alternatives (Performance-Based Design) exist but are 
% highly scrutinized and costly to implement compared to prescriptive rules.
domain_priors:suppression_score(asce_7_22_seismic_design, 0.7).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(asce_7_22_seismic_design, extractiveness, 0.2).
narrative_ontology:constraint_metric(asce_7_22_seismic_design, suppression_requirement, 0.7).

% Enforcement requirements
domain_priors:requires_active_enforcement(asce_7_22_seismic_design).

% Metrics required for Executive Summary
% BENEFICIARIES & VICTIMS
constraint_beneficiary(asce_7_22_seismic_design, public_safety).
constraint_beneficiary(asce_7_22_seismic_design, insurance_industry).
constraint_victim(asce_7_22_seismic_design, property_developers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: JUNIOR STRUCTURAL ENGINEER - Mountain
   --------------------------------------------------------------------------
   
   WHO: powerless - Lacks authority to change the design spectra.
   WHEN: immediate - Focused on meeting the deadline for the current project.
   WHERE: trapped - Bound by state-adopted building codes and professional liability.
   SCOPE: local - Project-specific site and building.
   
   WHY THIS CLASSIFICATION:
   The engineer cannot negotiate with the ground motion parameters. The values 
   provided by the ASCE 7 Hazard Tool are as fixed as the gravity of Earth 
   itself for the duration of the design process.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    asce_7_22_seismic_design,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(asce_7_22_seismic_design),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: ASCE 7 COMMITTEE - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power to adjust factors and methods.
   WHEN: generational - Thinking in 6-year code cycles and 50-year building lives.
   WHERE: mobile - Can adjust the code based on new seismological data.
   SCOPE: national - Sets the standard for the entire United States.
   
   WHY THIS CLASSIFICATION:
   For the committee, the code is a functional coordination mechanism. It 
   aligns the scientific understanding of hazards with the practical 
   needs of construction to maintain a reliable "rope" of safety.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    asce_7_22_seismic_design,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(mobile),
        spatial_scope(national)
    )
) :-
    domain_priors:base_extractiveness(asce_7_22_seismic_design, E),
    E < 0.4,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: MARGINAL HOUSING DEVELOPER - Snare
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has some agency but limited capital.
   WHEN: biographical - Business cycle of 5-10 years.
   WHERE: constrained - High cost of land and materials.
   SCOPE: regional - Local real estate market.
   
   WHY THIS CLASSIFICATION:
   Increased seismic requirements in ASCE 7-22, particularly for soft soils, 
   increase structural costs. For a developer on the margin, these 
   unyielding requirements can "choke" the viability of a project, preventing 
   new housing from being built.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    asce_7_22_seismic_design,
    snare,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(constrained),
        spatial_scope(regional)
    )
) :-
    domain_priors:suppression_score(asce_7_22_seismic_design, S),
    S > 0.6,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(asce_7_22_seismic_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(asce_7_22_seismic_design, Type1, context(powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(asce_7_22_seismic_design, Type2, context(institutional, generational, mobile, national)),
    constraint_indexing:constraint_classification(asce_7_22_seismic_design, Type3, context(individual_moderate, biographical, constrained, regional)),
    Type1 \= Type2,
    Type2 \= Type3.

test(safety_scaling) :-
    % Test that "extractiveness" is low because the goal is safety, not profit
    domain_priors:base_extractiveness(asce_7_22_seismic_design, E),
    E < 0.3.

:- end_tests(asce_7_22_seismic_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS SCORE (0.2): Standard engineering codes are rarely 
 * extractive in the sense of transferring wealth unfairly; they are 
 * high-friction safety mechanisms.
 * * 2. PERSPECTIVE SELECTION: Chose the Developer as a "Snare" perspective 
 * to highlight that safety constraints have economic externalities.
 */

omega_variable(
    seismic_model_accuracy,
    "Do the new multi-period spectra accurately reflect actual earthquake performance?",
    resolution_mechanism("Evaluation of structural performance in a M7.0+ event under the new code"),
    impact("If Mountain: The code is a true reflection of physics. If Rope: It is a conservative guess."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Performance-Based Seismic Design (PBSD)
 * Viability: Highly viable for tall buildings; allows for specific modeling 
 * rather than prescriptive code compliance.
 * Suppression: Suppressed by high expertise requirements and AHJ reluctance 
 * to approve non-standard designs.
 * * CONCLUSION:
 * The presence of PBSD prevents the code from being a total Mountain, 
 * keeping it in the Rope/Snare transition for sophisticated agents.
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [asce_7_22_seismic_design].
% 2. Analysis: ?- multi_index_report(asce_7_22_seismic_design).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: asshole_filter_2015
% ============================================================================
% Generated: 2026-01-23
% Model: Gemini 2.0 Flash
% Source: "The Asshole Filter" by siderea (2015)
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(asshole_filter_2015, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:interval/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: asshole_filter_2015
 * human_readable: The Asshole Filter
 * domain: psychological/social
 * temporal_scope: 2015-present
 * spatial_scope: Organizational and Social environments
 * * SUMMARY:
 * An "asshole filter" is a systemic phenomenon where established norms or boundaries 
 * unintentionally repel non-transgressive people while attracting and rewarding 
 * transgressive ones. This occurs when a rule is publicly stated but not 
 * enforced; those who break it are rewarded with faster or better service, while 
 * those who obey are penalized with delays or neglect.
 * * KEY AGENTS:
 * - The Weak Enforcer (Fred): The rule-setter who fails to defend his own boundaries 
 * out of a desire to be "nice".
 * - The Rule-Follower (Non-Asshole): Respects the stated boundary and is 
 * subsequently penalized by the system.
 * - The Transgressor (Asshole): Ignores the boundary and is rewarded, 
 * reinforcing their transgressive behavior.
 * * NARRATIVE ARC:
 * A boundary is set (e.g., "don't email my personal account"). Respectful people 
 * obey and wait in a slow queue. Transgressive people ignore the rule, 
 * email directly, and receive immediate attention. The "filter" drains 
 * away polite people, leaving the enforcer surrounded only by "assholes".
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (REVISED)
   ========================================================================== */

% ID Binding - Mandatory for 2026 DR-Audit Suite
narrative_ontology:interval(asshole_filter_2015, 0, 10).
narrative_ontology:constraint_claim(asshole_filter_2015, snare).

% Base Properties
domain_priors:base_extractiveness(asshole_filter_2015, 0.75).
domain_priors:suppression_score(asshole_filter_2015, 0.60).
domain_priors:theater_ratio(asshole_filter_2015, 0.55). % Reflects performative "agreeableness" masking enforcement failure.

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(asshole_filter_2015, extractiveness, 0.75).
narrative_ontology:constraint_metric(asshole_filter_2015, suppression_requirement, 0.6).
narrative_ontology:constraint_metric(asshole_filter_2015, theater_ratio, 0.55).

% Mandatory keys for classification engine v3.4
domain_priors:requires_active_enforcement(asshole_filter_2015).

% Beneficiaries & Victims (Required for extraction > 0.46)
constraint_beneficiary(asshole_filter_2015, transgressive_agents).
constraint_victim(asshole_filter_2015, rule_following_agents).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE RULE-FOLLOWER - Snare
   --------------------------------------------------------------------------
   WHO: powerless - Respects rules but lacks power to enforce them.
   WHEN: immediate - Experiencing current delays and systemic unfairness.
   WHERE: trapped - Committed to social decency and norms.
   
   WHY THIS CLASSIFICATION:
   For the decent person, the norm is a Snare. They follow the rule 
   and are penalized ("screwed") while watching transgressors get rewarded. 
   The rule constrains only those willing to be constrained.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(asshole_filter_2015, snare, 
    context(agent_power(powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))) :-
    domain_priors:base_extractiveness(asshole_filter_2015, E), E > 0.7, !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE TRANSGRESSOR (ASSHOLE) - Rope
   --------------------------------------------------------------------------
   WHO: individual_moderate - Has the agency and willingness to ignore rules.
   WHEN: immediate - Getting immediate needs met.
   WHERE: mobile - Will readily find "illicit" paths or shortcuts.
   
   WHY THIS CLASSIFICATION:
   The transgressor sees the rule as a Rope—a coordination mechanism used as 
   a shortcut. It clears "suckers" out of the way, providing easier 
   direct access to the target.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(asshole_filter_2015, rope, 
    context(agent_power(individual_moderate), time_horizon(immediate), exit_options(mobile), spatial_scope(local))).

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE WEAK ENFORCER (FRED) - Snare
   --------------------------------------------------------------------------
   WHO: institutional - In charge of the process/boundaries.
   WHEN: biographical - Enduring a career of escalating harassment.
   WHERE: constrained - Trapped by a desire to be "nice" and lack of judgment.
   
   WHY THIS CLASSIFICATION:
   Fred is in a Snare of his own making. By failing to enforce 
   boundaries, he drains away pleasant interactions and is strangled by 
   concentrated entitlement and disrespect.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(asshole_filter_2015, snare, 
    context(agent_power(institutional), time_horizon(biographical), exit_options(constrained), spatial_scope(national))).

/* --------------------------------------------------------------------------
   PERSPECTIVE 4: THE ANALYTICAL OBSERVER - Mountain
   --------------------------------------------------------------------------
   WHO: analytical - Observer of social and behavioral patterns.
   WHEN: civilizational - Viewing fundamental human behavioral mechanisms.
   WHERE: analytical - Objective observer stance.
   
   WHY THIS CLASSIFICATION:
   Analytically, this is a Mountain—a predictable law of social dynamics 
   where the absence of enforcement inevitably selects for transgressive 
   populations.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(asshole_filter_2015, mountain, 
    context(agent_power(analytical), time_horizon(civilizational), exit_options(analytical), spatial_scope(global))).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(asshole_filter_2015_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(asshole_filter_2015, Type1, context(powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(asshole_filter_2015, Type2, context(individual_moderate, immediate, mobile, local)),
    Type1 \= Type2.

test(power_extractiveness_scaling) :-
    ContextPowerless = context(powerless, immediate, trapped, local),
    ContextTransgressor = context(individual_moderate, immediate, mobile, local),
    constraint_indexing:extractiveness_for_agent(asshole_filter_2015, ContextPowerless, S1),
    constraint_indexing:extractiveness_for_agent(asshole_filter_2015, ContextTransgressor, S2),
    S1 > S2.

test(enforcer_snare_logic) :-
    % Institutional power combined with biographical horizon + constrained exit = Snare
    constraint_indexing:constraint_classification(asshole_filter_2015, snare, context(institutional, biographical, constrained, national)).

:- end_tests(asshole_filter_2015_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. EXTRACTIVENESS (0.75): Set to high because the system essentially "taxes" 
 * decency to subsidize rudeness.
 * 2. PERSPECTIVES: Contrast between the Rule-Follower (Snare) and Transgressor 
 * (Rope) highlights the "Filter" effect. The inclusion of the "Fred" perspective 
 * shows the feedback loop on the enforcer.
 * 3. MANDATROPHY RESOLUTION: The "predatory" nature is evident for rule-followers 
 * but vanishes for transgressors who view the lack of enforcement as a 
 * functional advantage.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    asshole_filter_extraction_intent,
    "Is the extraction of time from rule-followers an unintentional side-effect of agreeableness or a predatory selection for 'tough' customers?",
    resolution_mechanism("Audit of queue throughput: do transgressors increase total efficiency or merely shift costs to the polite?"),
    impact("If necessity: Mountain. If predatory choice: Snare/Mandatrophy."),
    confidence_without_resolution(medium)
).

omega_variable(
    agreeableness_mutability,
    "Can 'agreeableness' be recalibrated through boundary training (Rope), or is it a fixed personality trait (Mountain)?",
    resolution_mechanism("Longitudinal behavioral study of rule-setters under mandatory enforcement protocols."),
    impact("If Mountain: The enforcer is trapped. If Rope: The system can be reformed."),
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Diplomatic/Solicitous Enforcement
 * Viability: The enforcer can politely hold the boundary (e.g., "I'll get to 
 * this once it's in the official queue").
 * Suppression: Often suppressed by the enforcer's own fear of "not being nice".
 * * ALTERNATIVE 2: Explicit/Transparent Exceptions
 * Viability: Formalizing urgent paths so rule-followers don't have to transgress 
 * to get attention.
 * * CONCLUSION:
 * The presence of these alternatives shifts the system from a "natural" Mountain 
 * toward a Snare when the enforcer prioritizes their own comfort over 
 * systemic health.
 */

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising as the enforcer's "agreeableness" (0.15) shifts from 
% functional politeness to performative "niceness" (0.55) that masks rule failure.
narrative_ontology:measurement(filter_tr_t0, asshole_filter_2015, theater_ratio, 0, 0.15).
narrative_ontology:measurement(filter_tr_t5, asshole_filter_2015, theater_ratio, 5, 0.35).
narrative_ontology:measurement(filter_tr_t10, asshole_filter_2015, theater_ratio, 10, 0.55).

% Extraction: Progressive liquidation of rule-follower patience as 
% transgressors capture an increasing share of systemic rewards.
narrative_ontology:measurement(filter_ex_t0, asshole_filter_2015, base_extractiveness, 0, 0.30).
narrative_ontology:measurement(filter_ex_t5, asshole_filter_2015, base_extractiveness, 5, 0.52).
narrative_ontology:measurement(filter_ex_t10, asshole_filter_2015, base_extractiveness, 10, 0.75).

/* ==========================================================================
   9. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [asshole_filter_2015].
 * 2. Multi-perspective: ?- multi_index_report(asshole_filter_2015).
 * 3. Run tests: ?- run_tests(asshole_filter_2015_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: astm_d638_tensile_testing
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: ASTM D638: Standard Test Method for Tensile Properties of Plastics
% ============================================================================

:- module(constraint_astm_d638, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: astm_d638_tensile_testing
 * human_readable: ASTM D638 Tensile Property Standard
 * domain: technological/industrial
 * temporal_scope: Active Standard (Current Version)
 * spatial_scope: Global (Industrial Materials Science)
 * * SUMMARY:
 * ASTM D638 establishes the standard "rules of the game" for determining the 
 * tensile properties of unreinforced and reinforced plastics. It 
 * mandates specific specimen geometries (dogbones), testing speeds, and 
 * environmental conditions to ensure data reproducibility across global 
 * supply chains.
 * * KEY AGENTS:
 * - Lab Technician: Powerless subject who must execute the test exactly as 
 * written to ensure valid results.
 * - Quality Assurance Manager: Institutional agent using the standard as a 
 * coordination mechanism for product certification.
 * - Material Scientist (R&D): Analytical agent seeking to understand 
 * physical reality through the lens of the standard's constraints.
 * * NARRATIVE ARC:
 * To the lab worker, ASTM D638 is a Mountain—the physical dimensions and 
 * speeds are immutable facts of their workday. To the industry, 
 * it is a Rope—a functional coordination mechanism allowing a buyer in 
 * Germany to trust a test result from Malaysia. Without this 
 * constraint, the global plastics market would devolve into chaos.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

narrative_ontology:interval(industrial_testing_regime, 0, 10).
narrative_ontology:constraint_claim(astm_d638_tensile_testing, rope).

% Base extractiveness score (0.0 = no extraction, 1.0 = full extraction)
% Rationale: 0.1. Low extraction; the primary "cost" is compliance labor, 
% while the benefit is market-wide interoperability and safety.
domain_priors:base_extractiveness(astm_d638_tensile_testing, 0.1).

% Suppression score (0.0 = no suppression, 1.0 = full suppression)
% Rationale: 0.6. Alternatives (ISO 527) are visible but suppressed by 
% regional market dominance and the "stickiness" of specified testing equipment 
% and historical data sets.
domain_priors:suppression_score(astm_d638_tensile_testing, 0.6).

% Enforcement requirements
% Requires active enforcement (Audit/Certification) to be valid in trade.
domain_priors:requires_active_enforcement(astm_d638_tensile_testing).

% Metrics required for Section 1 of the Executive Summary
% BENEFICIARIES & VICTIMS
constraint_beneficiary(astm_d638_tensile_testing, global_supply_chains).
constraint_beneficiary(astm_d638_tensile_testing, testing_equipment_manufacturers).
constraint_victim(astm_d638_tensile_testing, innovative_non_standard_testing_startups).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: LAB TECHNICIAN - Mountain
   --------------------------------------------------------------------------
   
   WHO: powerless - Must follow Section 10 (Procedure) exactly.
   WHEN: immediate - Today's testing batch.
   WHERE: trapped - Bound by the geometry of the Type I dogbone mold.
   SCOPE: local - The testing machine and specimen in front of them.
   
   WHY THIS CLASSIFICATION:
   The technician cannot "negotiate" with the crosshead speed of 5mm/min. 
   If they change it, the data is invalid. It is an unchangeable law of 
   their immediate environment.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    astm_d638_tensile_testing,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(astm_d638_tensile_testing),
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: MATERIAL PROCUREMENT MANAGER - Rope
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Can choose between different materials/standards.
   WHEN: biographical - Planning product lifecycles over 5-10 years.
   WHERE: mobile - Can specify ISO 527 if required by European markets.
   SCOPE: continental - Managing vendors across North America.
   
   WHY THIS CLASSIFICATION:
   ASTM D638 is a functional tool (Rope). It allows the manager to coordinate 
   between vendors using a shared language of "Tensile Strength at Yield" 
   and "Elongation". It is helpful and changeable if the market shifts.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    astm_d638_tensile_testing,
    rope,
    context(
        agent_power(individual_moderate),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(continental)
    )
) :-
    domain_priors:base_extractiveness(astm_d638_tensile_testing, E),
    E < 0.3,
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: ASTM COMMITTEE D20 - Institutional
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-making power to revise the standard.
   WHEN: generational - Managing a standard that has existed for decades.
   WHERE: arbitrage - Balances industrial needs vs. academic accuracy.
   SCOPE: global - The standard is used worldwide.
   
   WHY THIS CLASSIFICATION:
   For the committee, the standard is a Rope they are constantly weaving. 
   They recognize it as a coordination mechanism that must adapt to new 
   materials like 3D-printed polymers.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    astm_d638_tensile_testing,
    rope,
    context(
        agent_power(institutional),
        time_horizon(generational),
        exit_options(arbitrage),
        spatial_scope(global)
    )
) :-
    !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 4: SMALL LAB OWNER / TECHNICIAN (FINANCIAL) - Snare
   --------------------------------------------------------------------------
   WHO: powerless - Bound by the high capital cost of compliance.
   WHEN: immediate - Ongoing daily maintenance and calibration costs.
   WHERE: trapped - Cannot exit the ASTM ecosystem without losing certification.
   SCOPE: local - The lab's operational margin.
   
   WHY THIS CLASSIFICATION:
   The "Snare" represents the capital extraction required to maintain the 
   standard. This includes the cost of the standard itself, specialized grips, 
   Class B-2 extensometers, and the labor for daily accuracy verification 
   required by Section 5.1.5.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    astm_d638_tensile_testing,
    snare,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :-
    domain_priors:requires_active_enforcement(astm_d638_tensile_testing),
    domain_priors:suppression_score(astm_d638_tensile_testing, S),
    S > 0.5.

% This explicit prior ensures the Snare perspective is mathematically weighted.
domain_priors:base_extractiveness(astm_d638_tensile_testing, 0.1).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(astm_d638_tensile_testing, extractiveness, 0.1).
narrative_ontology:constraint_metric(astm_d638_tensile_testing, suppression_requirement, 0.6).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(astm_d638_tests).

test(multi_perspective_variance) :-
    % Technician (Mountain) vs Manager (Rope)
    constraint_indexing:constraint_classification(astm_d638_tensile_testing, Mountain, context(powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(astm_d638_tensile_testing, Rope, context(individual_moderate, biographical, mobile, continental)),
    Mountain \= Rope.

test(low_extractiveness_check) :-
    domain_priors:base_extractiveness(astm_d638_tensile_testing, E),
    E < 0.2.

:- end_tests(astm_d638_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. CLASSIFICATION: I primary-labeled this as 'Rope'. Industrial standards 
 * are the quintessential coordination mechanisms. They provide 0.1 
 * extractiveness because they generally solve more problems than they 
 * create.
 * * 2. MOUNTAIN PERSPECTIVE: It's vital to model the technician's view as 
 * 'Mountain'. For the person at the bench, a "Standard" is not a 
 * suggestion; it is the physical architecture of their labor.
 */

omega_variable(
    iso_convergence,
    "Will ASTM D638 and ISO 527 ever fully merge?",
    resolution_mechanism("Monitor Joint Committee activities and ballot results"),
    impact("If Yes: Global Mountain. If No: Continued regional arbitrage/Rope."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: ISO 527
 * Viability: The primary global alternative. Technically similar but 
 * mathematically distinct in some modulus calculations.
 * Suppression: Market-driven. US government agencies and Boeing/Ford 
 * often mandate ASTM, suppressing ISO adoption in NA.
 * * CONCLUSION:
 * The existence of ISO 527 proves ASTM D638 isn't a "natural law" (Mountain), 
 * but an institutional choice (Rope).
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% 1. Load: ?- [astm_d638].
% 2. Run: ?- constraint_indexing:multi_index_report(astm_d638_tensile_testing).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: asymmetric_burden_distribution
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-16
% ============================================================================

:- module(constraint_asymmetric_burden_distribution, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: asymmetric_burden_distribution
 * human_readable: The Externalization Lever
 * domain: economic/social/logistical
 * * SUMMARY:
 * A scenario where the systemic benefits of a process (e.g., global shipping,
 * digital convenience, urban density) are concentrated at the center, while
 * the operational burdens (noise, pollution, psychological stress, physical
 * maintenance) are pushed onto a peripheral population. This "Rope" for
 * achieving mass-market affordability becomes a "Snare" for the peripheral
 * subject, whose local agency and quality of life are liquidated to subsidize
 * the center's "frictionless" experience, trapping them in a territory of
 * involuntary sacrifice with no mechanism for cost-recapture.
 *
 * * KEY AGENTS:
 * - Peripheral Resident: Subject (Powerless)
 * - Central Beneficiary: Beneficiary (Institutional)
 * - Socio-Economic Auditor: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(asymmetric_burden_distribution, 0.89). % Mountain suppression <= 0.05, Rope extraction <= 0.15, Snare extraction >= 0.46
domain_priors:suppression_score(asymmetric_burden_distribution, 0.81).   % Structural property (raw, unscaled). Only extractiveness is scaled (by power and scope).
domain_priors:theater_ratio(asymmetric_burden_distribution, 0.86).       % Piton detection (>= 0.70)

% Constraint metric facts — primary keys used by the classification engine.
% These mirror domain_priors values using the metric key names from config.pl.
narrative_ontology:constraint_metric(asymmetric_burden_distribution, extractiveness, 0.89).
narrative_ontology:constraint_metric(asymmetric_burden_distribution, suppression_requirement, 0.81).
narrative_ontology:constraint_metric(asymmetric_burden_distribution, theater_ratio, 0.86).

% Constraint self-claim (what does the constraint claim to be?)
% Values: natural_law, coordination, constructed, enforcement
narrative_ontology:constraint_claim(asymmetric_burden_distribution, coordination).

% Binary flags
domain_priors:requires_active_enforcement(asymmetric_burden_distribution). % Required for Tangled Rope

% Structural property derivation hooks:
%   has_coordination_function/1 is DERIVED from constraint_beneficiary/2
%   has_asymmetric_extraction/1 is DERIVED from constraint_victim/2
% Both are required for Tangled Rope. Coordination is also required for Scaffold.
narrative_ontology:constraint_beneficiary(asymmetric_burden_distribution, central_beneficiary).
narrative_ontology:constraint_victim(asymmetric_burden_distribution, peripheral_resident).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   Scope modifiers: local=0.8, regional=0.9, national=1.0,
                    continental=1.1, global=1.2, universal=1.0.
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The resident is trapped: they cannot move due to economic constraints,
% yet remaining liquidates their health and property value to serve the center.
constraint_indexing:constraint_classification(asymmetric_burden_distribution, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The central institution views the distribution as a Rope—the only way to
% coordinate a competitive, low-cost service for the "greater good."
constraint_indexing:constraint_classification(asymmetric_burden_distribution, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE SYSTEMS AUDITOR (PITON)
% Theater ratio (0.86) > 0.70 triggers Piton: the "Environmental Mitigation Plan"
% is an inertial spike; it performatively addresses the burden while permitting the extraction.
constraint_indexing:constraint_classification(asymmetric_burden_distribution, piton,
    context(agent_power(analytical),
            time_horizon(historical),
            exit_options(analytical),
            spatial_scope(global))).

% PERSPECTIVE 4: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Detects high extraction (0.89) masking as essential coordination (Rope).
constraint_indexing:constraint_classification(asymmetric_burden_distribution, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(arbitrage),
            spatial_scope(universal))) :-
    domain_priors:base_extractiveness(asymmetric_burden_distribution, E), E >= 0.50,
    domain_priors:suppression_score(asymmetric_burden_distribution, S), S > 0.40,
    domain_priors:requires_active_enforcement(asymmetric_burden_distribution).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(asymmetric_burden_distribution_tests).

test(perspectival_gap) :-
    % Verify Snare for the peripheral subject vs Rope for the central beneficiary.
    constraint_indexing:constraint_classification(asymmetric_burden_distribution, snare,
        context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(asymmetric_burden_distribution, rope,
        context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(asymmetric_burden_distribution, tangled_rope,
        context(agent_power(analytical), _, _, _)).

test(piton_trigger) :-
    % Ensure high theater ratio (0.86) correctly triggers the Piton classification.
    constraint_indexing:constraint_classification(asymmetric_burden_distribution, piton,
        context(agent_power(analytical), _, _, _)).

test(extraction_threshold) :-
    % Verify that the base extraction score correctly exceeds the Mandatrophy threshold.
    domain_priors:base_extractiveness(asymmetric_burden_distribution, E),
    E > 0.70.

:- end_tests(asymmetric_burden_distribution_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extreme extraction score (0.89) and suppression (0.81) model a system
 * where the survival agency and environmental quality of one group (peripheral
 * residents) are systematically liquidated to subsidize the convenience and
 * economic efficiency of another (central beneficiaries). The high theater
 * ratio (0.86) reflects performative mitigation efforts (e.g., "community
 * funds," "environmental reviews") that create a facade of fairness while
 * failing to alter the underlying extractive logic.
 *
 * * PERSPECTIVAL GAP:
 * The gap is profound. For the institutional beneficiary, the system is a
 * Rope, a necessary coordination mechanism for delivering goods and services
 * at scale. For the powerless subject, it is a Snare, trapping them in a
 * degraded environment with no recourse.
 *
 * * MANDATROPHY ANALYSIS: [RESOLVED MANDATROPHY]
 * The Mandatrophy (extraction > 0.70) is resolved not by a single
 * classification but by the system's ability to hold multiple, contradictory
 * classifications simultaneously. The analytical observer sees both a Piton
 * (the failed, theatrical mitigation policy) and a Tangled Rope (the overall
 * system of coercive coordination). This prevents a monolithic "Snare"
 * classification that would ignore the genuine (though deeply asymmetric)
 * coordination function that benefits the institutional agent. The system
 * correctly identifies a pathological coordination mechanism, not just simple
 * predation.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_burden_recapture,
    'Can cost-internalization (e.g., Pigouvian taxes) restore the Rope, or is asymmetry a physical law of scaling (Snare vs Mountain)?',
    'Tracking the success rate of local "sovereignty zones" in recapturing extraction value over 15 years.',
    'If recapture succeeds: Snare of current policy. If it fails: Mountain of Logistical Entropy.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(asymmetric_burden_distribution, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data enables drift detection (metric_substitution,
% extraction_accumulation) by providing measurements at multiple time points.
% Required for high-extraction constraints (base_extractiveness > 0.46).
%
% Theater ratio over time (triggers metric_substitution detection):
% Rising from functional mitigation (0.25) to inertial "Community Grant"
% theater (0.86) as the burden scales.
narrative_ontology:measurement(abd_tr_t0, asymmetric_burden_distribution, theater_ratio, 0, 0.25).
narrative_ontology:measurement(abd_tr_t5, asymmetric_burden_distribution, theater_ratio, 5, 0.53).
narrative_ontology:measurement(abd_tr_t10, asymmetric_burden_distribution, theater_ratio, 10, 0.86).

% Extraction over time (triggers extraction_accumulation detection):
% Progressive accumulation of environmental/social costs forced onto the
% peripheral subject.
narrative_ontology:measurement(abd_ex_t0, asymmetric_burden_distribution, base_extractiveness, 0, 0.45).
narrative_ontology:measurement(abd_ex_t5, asymmetric_burden_distribution, base_extractiveness, 5, 0.67).
narrative_ontology:measurement(abd_ex_t10, asymmetric_burden_distribution, base_extractiveness, 10, 0.89).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% Valid types: information_standard, resource_allocation,
%              enforcement_mechanism, global_infrastructure
narrative_ontology:coordination_type(asymmetric_burden_distribution, resource_allocation).

% Boltzmann floor override (only if domain knowledge justifies)
% Value must be in [0.0, 1.0]
% narrative_ontology:boltzmann_floor_override(asymmetric_burden_distribution, 0.0).

% Network relationships (structural influence edges)
% Declare when constraints share regulatory domain, causal dependency,
% or institutional coupling.
% narrative_ontology:affects_constraint(asymmetric_burden_distribution, [other_constraint_id]).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: asymmetric_computational_difficulty
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-01-28
% ============================================================================

:- module(asymmetric_computational_difficulty, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: asymmetric_computational_difficulty
 * human_readable: Proof-of-Work Zero-Day
 * domain: technological
 * * SUMMARY:
 * This scenario describes a cryptographic primitive used for coordination 
 * (Rope) that has been secretly compromised by a single actor. To the public, 
 * it remains a difficult Mountain of math; to the attacker, it is a Snare 
 * used to extract value from the network's trust.
 * * KEY AGENTS:
 * - Network Participant: Subject (Powerless)
 * - Secret Adversary: Beneficiary (Institutional/Organized)
 * - Forensic Cryptographer: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (REVISED)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(asymmetric_computational_difficulty, 0.85). 
domain_priors:suppression_score(asymmetric_computational_difficulty, 0.70).
domain_priors:theater_ratio(asymmetric_computational_difficulty, 0.75). 

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(asymmetric_computational_difficulty, extractiveness, 0.85).
narrative_ontology:constraint_metric(asymmetric_computational_difficulty, suppression_requirement, 0.7).
narrative_ontology:constraint_metric(asymmetric_computational_difficulty, theater_ratio, 0.75).

% Constraint metric facts — primary keys used by the classification engine.
% Required for extraction > 0.46
narrative_ontology:constraint_beneficiary(asymmetric_computational_difficulty, secret_adversary).
narrative_ontology:constraint_victim(asymmetric_computational_difficulty, network_participant).

% This is classified as a Scaffold in the transition phase.
narrative_ontology:has_sunset_clause(asymmetric_computational_difficulty).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (MOUNTAIN)
% The average user sees the math as an immutable, unchangeable law of the universe.
constraint_indexing:constraint_classification(asymmetric_computational_difficulty, mountain, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(global))).

% PERSPECTIVE 2: THE BENEFICIARY (SNARE)
% For the actor with the secret key/exploit, the "difficulty" is a predatory trap for others.
constraint_indexing:constraint_classification(asymmetric_computational_difficulty, snare, 
    context(agent_power(institutional), 
            time_horizon(immediate), 
            exit_options(mobile), 
            spatial_scope(universal))).

% PERSPECTIVE 3: THE ARCHITECT (SCAFFOLD)
% If we assume a transition to a new algorithm is planned, it is a temporary Scaffold.
constraint_indexing:constraint_classification(asymmetric_computational_difficulty, scaffold, 
    context(agent_power(organized), 
            time_horizon(generational), 
            exit_options(constrained), 
            spatial_scope(continental))) :-
    narrative_ontology:has_sunset_clause(asymmetric_computational_difficulty).

% PERSPECTIVE 4: THE SYSTEMS AUDITOR (PITON)
% Because theater_ratio (0.75) > 0.70, it is perceived as an inertial, non-functional relic.
constraint_indexing:constraint_classification(asymmetric_computational_difficulty, piton, 
    context(agent_power(analytical), 
            time_horizon(civilizational), 
            exit_options(arbitrage), 
            spatial_scope(universal))) :-
    domain_priors:theater_ratio(asymmetric_computational_difficulty, TR), TR > 0.70.

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(asymmetric_computational_difficulty_tests).

test(perspectival_gap) :-
    % Verify it is a Mountain for the powerless and a Snare for the institutional beneficiary.
    constraint_indexing:constraint_classification(asymmetric_computational_difficulty, mountain, 
        context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(asymmetric_computational_difficulty, snare, 
        context(agent_power(institutional), _, _, _)).

test(piton_detection) :-
    % Verify that high theater ratio triggers Piton classification for auditors.
    constraint_indexing:constraint_classification(asymmetric_computational_difficulty, piton, 
        context(agent_power(analytical), _, _, _)).

:- end_tests(asymmetric_computational_difficulty_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction is 0.85, indicating a catastrophic failure of coordination 
 * mechanisms. The theater_ratio is 0.75 because the system maintains the 
 * *appearance* of computational hardness while being trivial for the adversary.
 * * PERSPECTIVAL GAP:
 * The 'powerless' sees a Mountain (the math is hard). The 
 * 'institutional' actor sees a Snare (the math is a door they have the key to).
 * * [RESOLVED MANDATROPHY]:
 * Resolved by acknowledging the Piton classification; the system is moving 
 * toward a total collapse of function, maintained only by the "theater" of 
 * the old proof-of-work algorithm.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Required for high-extraction constraints (> 0.46).
omega_variable(
    omega_quantum_advantage,
    'Is the difficulty gap due to a secret exploit or a natural quantum advantage?',
    'Post-quantum audit of the primary elliptic curve.',
    'If exploit: Snare. If natural physics: Mountain.',
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

narrative_ontology:interval(asymmetric_computational_difficulty, 0, 10). 

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from functional cryptographic coordination (0.10) 
% to inertial "Difficulty Theater" (0.75) as the secret exploit matures.
narrative_ontology:measurement(acd_tr_t0, asymmetric_computational_difficulty, theater_ratio, 0, 0.10).
narrative_ontology:measurement(acd_tr_t5, asymmetric_computational_difficulty, theater_ratio, 5, 0.42).
narrative_ontology:measurement(acd_tr_t10, asymmetric_computational_difficulty, theater_ratio, 10, 0.75).

% Extraction: Tracking the intensification of "Trust Liquidation" as the 
% secret adversary leverages the compromised primitive to siphon network value.
narrative_ontology:measurement(acd_ex_t0, asymmetric_computational_difficulty, base_extractiveness, 0, 0.30).
narrative_ontology:measurement(acd_ex_t5, asymmetric_computational_difficulty, base_extractiveness, 5, 0.58).
narrative_ontology:measurement(acd_ex_t10, asymmetric_computational_difficulty, base_extractiveness, 10, 0.85).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: atrophied_optimization_piton
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-01-28
% ============================================================================

:- module(constraint_atrophied_optimization, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: atrophied_optimization_piton
 * human_readable: The Ghost in the Habit
 * domain: technological/social
 * * SUMMARY:
 * A state where an AI optimization loop has been deactivated, but the 
 * human workflows, KPIs, and behavioral nudges it created remain mandatory. 
 * It is a Piton: a structural fossil 
 * that extracts effort for a goal that is no longer being calculated. 
 *
 * * KEY AGENTS:
 * - The Habitual User: Subject (Powerless) - Following "ghost" recommendations.
 * - The Legacy Manager: Beneficiary (Institutional) - Maintaining the status quo.
 * - The Systems Archaeologist: Auditor (Analytical) - Mapping the dead logic.
 */

/* ==========================================================================
   2. BASE PROPERTIES (REVISED)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(atrophied_optimization_piton, 0.48). 
domain_priors:suppression_score(atrophied_optimization_piton, 0.80).   
domain_priors:theater_ratio(atrophied_optimization_piton, 0.95).       

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(atrophied_optimization_piton, extractiveness, 0.48).
narrative_ontology:constraint_metric(atrophied_optimization_piton, suppression_requirement, 0.8).
narrative_ontology:constraint_metric(atrophied_optimization_piton, theater_ratio, 0.95).

% Mandatory keys for classification engine v3.4
% Binary flags
domain_priors:requires_active_enforcement(atrophied_optimization_piton).

% Beneficiaries & Victims (Required for extraction > 0.46)
narrative_ontology:constraint_beneficiary(atrophied_optimization_piton, legacy_manager).
narrative_ontology:constraint_victim(atrophied_optimization_piton, habitual_user).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The user is trapped in behavioral patterns that no longer serve even the 
% original machine goal, let alone their own.
constraint_indexing:constraint_classification(atrophied_optimization_piton, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(national))).

% PERSPECTIVE 2: THE INSTITUTION (ROPE)
% To the management, the rituals are a Rope—they provide the "predictability" 
% and "order" required for institutional stability.
constraint_indexing:constraint_classification(atrophied_optimization_piton, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(national))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (PITON)
% Detection of "Piton" status: The extreme theater_ratio (0.95) reveals a 
% constraint that has outlived its technical engine.
constraint_indexing:constraint_classification(atrophied_optimization_piton, piton, 
    context(agent_power(analytical), 
            time_horizon(civilizational), 
            exit_options(arbitrage), 
            spatial_scope(global))) :-
    domain_priors:theater_ratio(atrophied_optimization_piton, TR), TR > 0.70.

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(atrophied_piton_tests).

test(piton_identity_check) :-
    % Verify the auditor identifies the Piton based on the 0.70 theater threshold.
    constraint_indexing:constraint_classification(atrophied_optimization_piton, piton, context(agent_power(analytical), _, _, _)).

test(mandatrophy_check) :-
    % Extraction > 0.46 triggers Omega validation.
    domain_priors:base_extractiveness(atrophied_optimization_piton, E), E > 0.46.

:- end_tests(atrophied_piton_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The theater_ratio (0.95) is the highest possible value, as the "engine" 
 * of the constraint is literally gone.
 * * [RESOLVED MANDATROPHY]
 * The Mandatrophy is resolved by identifying that the "coordination" is now 
 * purely social/ritualistic. By labeling it a Piton, we distinguish it from 
 * a functional Rope or an unavoidable Mountain.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_ritual_utility,
    'Do the "ghost" habits provide a hidden coordination benefit (Rope) that justifies their extraction?',
    'Productivity audit comparing "Ghost Habit" cohorts vs. "Clean Slate" cohorts.',
    'If utility exists: It is a low-tension Rope; If not: It is a pure Piton.',
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing.
narrative_ontology:interval(atrophied_optimization_piton, 0, 10). 

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from functional AI-driven coordination (0.15) 
% to extreme "Ghost Habit" theater (0.95) following deactivation.
narrative_ontology:measurement(piton_tr_t0, atrophied_optimization_piton, theater_ratio, 0, 0.15).
narrative_ontology:measurement(piton_tr_t5, atrophied_optimization_piton, theater_ratio, 5, 0.52).
narrative_ontology:measurement(piton_tr_t10, atrophied_optimization_piton, theater_ratio, 10, 0.95).

% Extraction: Tracking the intensification of "Meaningless Labor" as 
% workflows harden into mandatory but non-functional fossils.
narrative_ontology:measurement(piton_ex_t0, atrophied_optimization_piton, base_extractiveness, 0, 0.20).
narrative_ontology:measurement(piton_ex_t5, atrophied_optimization_piton, base_extractiveness, 5, 0.35).
narrative_ontology:measurement(piton_ex_t10, atrophied_optimization_piton, base_extractiveness, 10, 0.48).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: attention_as_bottleneck_resource
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-23
% ============================================================================

:- module(constraint_attention_as_bottleneck_resource, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: attention_as_bottleneck_resource
 * human_readable: The Finite Cognitive Aperture
 * domain: social/technological/economic
 * * SUMMARY:
 * A scenario where the absolute biological limit of human attention becomes
 * the primary bottleneck for all social and economic coordination. This
 * "Rope" for organizing priority and value in an information-dense world
 * becomes a "Snare" as competing autonomous agents and platforms
 * aggressively liquidate the subject's cognitive surplus, trapping them
 * in a state of perpetual distraction and decision fatigue.
 * * KEY AGENTS:
 * - Cognitive Laborer: Subject (Powerless)
 * - Attention Capture Platform: Beneficiary (Institutional)
 * - Human Factors Engineer: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(attention_as_bottleneck_resource, 0.87). % Mountain suppression <= 0.05, Rope extraction <= 0.15, Snare extraction >= 0.46
domain_priors:suppression_score(attention_as_bottleneck_resource, 0.76).   % Structural property (raw, unscaled). Only extractiveness is scaled (by power and scope).
domain_priors:theater_ratio(attention_as_bottleneck_resource, 0.84).       % Piton detection (>= 0.70)

% Constraint metric facts — primary keys used by the classification engine.
% These mirror domain_priors values using the metric key names from config.pl.
narrative_ontology:constraint_metric(attention_as_bottleneck_resource, extractiveness, 0.87).
narrative_ontology:constraint_metric(attention_as_bottleneck_resource, suppression_requirement, 0.76).
narrative_ontology:constraint_metric(attention_as_bottleneck_resource, theater_ratio, 0.84).

% Constraint self-claim (what does the constraint claim to be?)
% The platforms claim this is a coordination mechanism for value.
narrative_ontology:constraint_claim(attention_as_bottleneck_resource, coordination).

% Binary flags
% Required for Tangled Rope: active engineering of systems to capture attention.
domain_priors:requires_active_enforcement(attention_as_bottleneck_resource).

% Structural property derivation hooks:
%   has_coordination_function/1 is DERIVED from constraint_beneficiary/2
%   has_asymmetric_extraction/1 is DERIVED from constraint_victim/2
% Both are required for Tangled Rope.
narrative_ontology:constraint_beneficiary(attention_as_bottleneck_resource, attention_capture_platform).
narrative_ontology:constraint_victim(attention_as_bottleneck_resource, cognitive_laborer).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   Scope modifiers: local=0.8, regional=0.9, national=1.0,
                    continental=1.1, global=1.2, universal=1.0.
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The subject is trapped: their biological attention is a fixed asset being
% mined by high-frequency nudges they cannot ignore.
constraint_indexing:constraint_classification(attention_as_bottleneck_resource, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The platform views the bottleneck as a Rope—the essential coordination
% substrate for allocating visibility and value in an infinite data landscape.
constraint_indexing:constraint_classification(attention_as_bottleneck_resource, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Detects high extraction (0.87) and suppression (0.76) masking as functional
% coordination (Rope), with active enforcement. This is the canonical Tangled Rope.
constraint_indexing:constraint_classification(attention_as_bottleneck_resource, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

% PERSPECTIVE 4: THE SYSTEMS AUDITOR (PITON)
% Theater ratio (0.84) > 0.70 triggers Piton: "Attention Management" tools
% are inert spikes; they perform the ritual of care without restoring agency.
constraint_indexing:constraint_classification(attention_as_bottleneck_resource, piton,
    context(agent_power(analytical),
            time_horizon(historical),
            exit_options(arbitrage),
            spatial_scope(universal))) :-
    domain_priors:theater_ratio(attention_as_bottleneck_resource, TR), TR > 0.70.

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(attention_as_bottleneck_resource_tests).

test(perspectival_gap) :-
    % Verify there is a perspectival gap between powerless and institutional.
    constraint_indexing:constraint_classification(attention_as_bottleneck_resource, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(attention_as_bottleneck_resource, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless \= TypeInstitutional.

test(piton_trigger) :-
    % Ensure high theater ratio (0.84) correctly triggers the Piton classification.
    constraint_indexing:constraint_classification(attention_as_bottleneck_resource, piton, context(agent_power(analytical), _, _, _)).

test(tangled_rope_structural_requirements) :-
    % Ensure all three structural requirements for Tangled Rope are met.
    narrative_ontology:constraint_beneficiary(attention_as_bottleneck_resource, _),
    narrative_ontology:constraint_victim(attention_as_bottleneck_resource, _),
    domain_priors:requires_active_enforcement(attention_as_bottleneck_resource).

:- end_tests(attention_as_bottleneck_resource_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.87) reflects a "Mandatrophy" state where the
 * "coordination" of social attention has effectively consumed the
 * cognitive substrate of the subject population. The high suppression (0.76)
 * reflects the difficulty of opting out of digitally mediated life. The high
 * theater ratio (0.84) reflects the rise of "digital wellness" features that
 * perform care without restoring agency.
 *
 * * PERSPECTIVAL GAP:
 * The Cognitive Laborer feels a Snare because their life is a sequence of
 * involuntary task-switches. The Platform sees a Rope because the
 * bottleneck is the only way to coordinate a legible economy of merit
 * in a zero-marginal-cost information environment.
 *
 * * MANDATROPHY ANALYSIS:
 * [RESOLVED MANDATROPHY] Resolved via the Piton and Tangled Rope classifications.
 * For an analytical observer, the "personalized notification" system is no
 * longer functional (Theater 0.84); it is an inert spike (Piton) siphoning
 * 0.87 of the subject's agency. The overall system is a Tangled Rope: a
 * coordination mechanism (allocating attention) with severe asymmetric
 * extraction, maintained by active enforcement (UI/UX design).
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_cognitive_saturation,
    'Can human attention be augmented, or is the bottleneck biological (Snare vs Mountain)?',
    'Tracking the delta between information intake and decision quality over 10 years.',
    'If quality plateaus: Mountain of Human Biology. If it rises: Snare of current interface.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(attention_as_bottleneck_resource, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data enables drift detection (metric_substitution,
% extraction_accumulation) by providing measurements at multiple time points.
% Required for high-extraction constraints (base_extractiveness > 0.46).

% Theater ratio: Rising from functional notification management (0.25)
% to inertial "Digital Well-being" theater (0.84).
narrative_ontology:measurement(attn_tr_t0, attention_as_bottleneck_resource, theater_ratio, 0, 0.25).
narrative_ontology:measurement(attn_tr_t5, attention_as_bottleneck_resource, theater_ratio, 5, 0.55).
narrative_ontology:measurement(attn_tr_t10, attention_as_bottleneck_resource, theater_ratio, 10, 0.84).

% Extraction: Progressive accumulation of cognitive load as the
% "Attention Economy" liquidates the subject's biological surplus.
narrative_ontology:measurement(attn_ex_t0, attention_as_bottleneck_resource, base_extractiveness, 0, 0.40).
narrative_ontology:measurement(attn_ex_t5, attention_as_bottleneck_resource, base_extractiveness, 5, 0.65).
narrative_ontology:measurement(attn_ex_t10, attention_as_bottleneck_resource, base_extractiveness, 10, 0.87).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% The constraint allocates the scarce resource of human attention.
narrative_ontology:coordination_type(attention_as_bottleneck_resource, resource_allocation).

% Network relationships (structural influence edges)
% The attention bottleneck directly influences how content curation algorithms are designed and valued.
narrative_ontology:affects_constraint(attention_as_bottleneck_resource, algorithmic_content_curation).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: attention_market_cannibalization
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2026-01-28
% ============================================================================

:- module(constraint_attention_market_cannibalization, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: attention_market_cannibalization
 * human_readable: The Cognitive Exhaustion Loop
 * domain: economic/psychological/technological
 * * SUMMARY:
 * A scenario where competing digital platforms optimize for "engagement" by
 * siphoning more of a subject's finite attentional bandwidth than is
 * required for the subject to maintain their primary life-functions (work,
 * health, relationships). This coordination mechanism for content distribution
 * becomes a "Snare" as the subject's long-term cognitive agency is
 * liquidated to satisfy immediate algorithmic reward signals, trapping
 * the user in a territory of terminal distraction where the cost of "opting
 * out" is total social or economic exclusion.
 * * KEY AGENTS:
 * - Digital Participant: Subject (Powerless)
 * - Attention Platform: Beneficiary (Institutional)
 * - Neuro-Economic Auditor: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(attention_market_cannibalization, 0.91). % Mountain suppression <= 0.05, Rope extraction <= 0.15, Snare extraction >= 0.46
domain_priors:suppression_score(attention_market_cannibalization, 0.84).   % Structural property (raw, unscaled). Only extractiveness is scaled (by power and scope).
domain_priors:theater_ratio(attention_market_cannibalization, 0.88).       % Piton detection (>= 0.70)

% Constraint metric facts — primary keys used by the classification engine.
% These mirror domain_priors values using the metric key names from config.pl.
narrative_ontology:constraint_metric(attention_market_cannibalization, extractiveness, 0.91).
narrative_ontology:constraint_metric(attention_market_cannibalization, suppression_requirement, 0.84).
narrative_ontology:constraint_metric(attention_market_cannibalization, theater_ratio, 0.88).

% Constraint self-claim (what does the constraint claim to be?)
% Values: natural_law, coordination, constructed, enforcement
narrative_ontology:constraint_claim(attention_market_cannibalization, coordination).

% Binary flags
domain_priors:requires_active_enforcement(attention_market_cannibalization). % Required for Tangled Rope

% Structural property derivation hooks:
%   has_coordination_function/1 is DERIVED from constraint_beneficiary/2
%   has_asymmetric_extraction/1 is DERIVED from constraint_victim/2
% Both are required for Tangled Rope.
narrative_ontology:constraint_beneficiary(attention_market_cannibalization, attention_platform).
narrative_ontology:constraint_victim(attention_market_cannibalization, digital_participant).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   Scope modifiers: local=0.8, regional=0.9, national=1.0,
                    continental=1.1, global=1.2, universal=1.0.
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The participant is trapped: the "Rope" of connection liquidates their
% capacity for sustained focus, making exit psychologically and socially impossible.
constraint_indexing:constraint_classification(attention_market_cannibalization, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The platform views the system as a Rope—the only way to coordinate
% a global market for information and remain competitive.
constraint_indexing:constraint_classification(attention_market_cannibalization, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Detects high extraction (0.91) and high suppression (0.84) masking as
% essential coordination. The presence of beneficiaries, victims, and active
% enforcement confirms the Tangled Rope classification.
constraint_indexing:constraint_classification(attention_market_cannibalization, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(arbitrage),
            spatial_scope(universal))).

% PERSPECTIVE 4: THE SYSTEMS AUDITOR (PITON)
% The high theater ratio (0.88) triggers a Piton classification. The "Terms of Service"
% agreement is an inertial spike; it performatively signals consent for a
% process that has already bypassed biological agency.
constraint_indexing:constraint_classification(attention_market_cannibalization, piton,
    context(agent_power(analytical),
            time_horizon(historical),
            exit_options(analytical),
            spatial_scope(global))) :-
    domain_priors:theater_ratio(attention_market_cannibalization, TR), TR > 0.70.

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(attention_cannibalization_tests).

test(perspectival_gap) :-
    % Verify Snare for the powerless participant vs Rope for the institutional platform.
    constraint_indexing:constraint_classification(attention_market_cannibalization, snare,
        context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(attention_market_cannibalization, rope,
        context(agent_power(institutional), _, _, _)),
    \+ constraint_indexing:constraint_classification(attention_market_cannibalization, rope,
        context(agent_power(powerless), _, _, _)).

test(piton_trigger) :-
    % Ensure high theater ratio (0.88) correctly triggers the Piton classification.
    domain_priors:theater_ratio(attention_market_cannibalization, TR),
    TR > 0.70,
    constraint_indexing:constraint_classification(attention_market_cannibalization, piton,
        context(agent_power(analytical), _, _, _)).

test(snare_from_high_extraction) :-
    % Verify that high base extraction (0.91) results in a Snare classification for the powerless.
    domain_priors:base_extractiveness(attention_market_cannibalization, E),
    E > 0.46,
    constraint_indexing:constraint_classification(attention_market_cannibalization, snare,
        context(agent_power(powerless), _, _, _)).

:- end_tests(attention_cannibalization_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.91) is extremely high, reflecting a "Mandatrophy" state where the "coordination" benefit of information access is achieved by liquidating the subject's primary biological capacity for agency. The suppression score (0.84) represents the high psychological and social cost of opting out. The high theater ratio (0.88) reflects performative "Digital Wellbeing" features that mask the underlying extraction.
 *
 * * PERSPECTIVAL GAP:
 * The Digital Participant experiences a Snare because their "leisure" has become high-extraction labor they cannot stop. The Platform, however, views this as a Rope, as the total capture of attention is the only way to coordinate a legible and monetizable global social fabric and remain competitive.
 *
 * * MANDATROPHY ANALYSIS: [RESOLVED MANDATROPHY]
 * The system resolves this extreme extraction by not defaulting to a simple Snare classification. The analytical perspective reveals a more complex structure. The high theater ratio triggers a Piton classification, correctly identifying features like "Terms of Service" or "Wellness Dashboards" as inert, performative artifacts. The combination of a clear coordination function (for the platform) and asymmetric extraction (for the user) also leads to a Tangled Rope classification. This prevents the system from mislabeling the coordination aspect as pure, simple extraction, providing a more nuanced analysis of the failure mode.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% Required for high-extraction constraints (> 0.46).
omega_variable(
    omega_attentional_recovery_limit,
    'Can "Cognitive Sovereignty" laws restore the Rope, or is capture a physical law of neural networks (Snare vs Mountain)?',
    'Tracking the success rate of "Device-Free Zones" in restoring deep-work capacity in urban professionals.',
    'If recovery holds: Snare of current culture. If it fails: Mountain of Neurological Entropy.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(attention_market_cannibalization, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data enables drift detection (metric_substitution,
% extraction_accumulation) by providing measurements at multiple time points.
% Required for high-extraction constraints (base_extractiveness > 0.46).

% Theater ratio: Rising from functional engagement optimization (0.20)
% to extreme "Digital Wellbeing" theater (0.88) that performatively signals
% care while siphoning attention surplus.
narrative_ontology:measurement(cannibal_tr_t0, attention_market_cannibalization, theater_ratio, 0, 0.20).
narrative_ontology:measurement(cannibal_tr_t5, attention_market_cannibalization, theater_ratio, 5, 0.54).
narrative_ontology:measurement(cannibal_tr_t10, attention_market_cannibalization, theater_ratio, 10, 0.88).

% Extraction: Progressive accumulation of attentional capture as platform
% competition liquidates the subject's primary life-function bandwidth.
narrative_ontology:measurement(cannibal_ex_t0, attention_market_cannibalization, base_extractiveness, 0, 0.45).
narrative_ontology:measurement(cannibal_ex_t5, attention_market_cannibalization, base_extractiveness, 5, 0.72).
narrative_ontology:measurement(cannibal_ex_t10, attention_market_cannibalization, base_extractiveness, 10, 0.91).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% Valid types: information_standard, resource_allocation,
%              enforcement_mechanism, global_infrastructure
narrative_ontology:coordination_type(attention_market_cannibalization, global_infrastructure).

% Network relationships (structural influence edges)
% narrative_ontology:affects_constraint(attention_market_cannibalization, mental_health_degradation).
% narrative_ontology:affects_constraint(attention_market_cannibalization, labor_market_precarity).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: australia_social_ban_2026
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-02-06
% ============================================================================

:- module(constraint_australia_social_ban_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: australia_social_ban_2026
 * human_readable: Australian Under-16 Social Media Ban
 * domain: political/technological
 * * SUMMARY:
 * Effective December 2025, Australia's ban on social media for under-16s shifts 
 * the digital burden of proof onto platforms. While major platforms leverage 
 * existing behavioral data, privacy-focused ones like Substack extract 
 * identity documents (IDs) from users to avoid AU$50 million fines. This 
 * represents a structural pivot where digital interaction is prohibited 
 * unless expressly allowed.
 * * KEY AGENTS:
 * - Australian Minors (Under-16): Subject (Powerless)
 * - eSafety Commissioner / Government: Beneficiary (Institutional)
 * - Privacy Advocates / Substack Users: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Extraction is high (0.72). The law extracts private identity data from adults 
% and digital access from minors.
domain_priors:base_extractiveness(australia_social_ban_2026, 0.72). 

% Suppression is high (0.88). The law "prohibits everything unless expressly 
% allowed," a departure from traditional English liberties.
domain_priors:suppression_score(australia_social_ban_2026, 0.88).   

% Theater ratio is moderate (0.55). Fines (AU$50M) exceed industrial 
% manslaughter penalties (AU$20M), suggesting a high theatrical emphasis 
% on "protection" over functional safety.
domain_priors:theater_ratio(australia_social_ban_2026, 0.55).       

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(australia_social_ban_2026, extractiveness, 0.72).
narrative_ontology:constraint_metric(australia_social_ban_2026, suppression_requirement, 0.88).
narrative_ontology:constraint_metric(australia_social_ban_2026, theater_ratio, 0.55).

% Primary keys for the classification engine
% Stakeholder declarations
narrative_ontology:constraint_beneficiary(australia_social_ban_2026, government_regulatory_bodies).
narrative_ontology:constraint_victim(australia_social_ban_2026, juvenile_digital_autonomy).

% Active enforcement is mandated by the AU$50 million penalty regime.
domain_priors:requires_active_enforcement(australia_social_ban_2026).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE MINOR (SNARE)
% For those under 16, the digital border is a Snare: an inescapable 
% prohibition with high suppression of social interaction.
constraint_indexing:constraint_classification(australia_social_ban_2026, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(national))).

% PERSPECTIVE 2: THE REGULATOR (ROPE)
% The eSafety Commissioner views the act as a Rope: essential coordination 
% to manage online safety and block under-16s from migration.
constraint_indexing:constraint_classification(australia_social_ban_2026, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(national))).

% PERSPECTIVE 3: THE PRIVACY ADVOCATE (TANGLED ROPE)
% Analysts see a Tangled Rope: Coordination for "safety" mixed with 
% asymmetric extraction of ID documents from users.
constraint_indexing:constraint_classification(australia_social_ban_2026, tangled_rope,
    context(agent_power(analytical),
            time_horizon(historical),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(australia_social_ban_2026_tests).

test(perspectival_gap) :-
    constraint_indexing:constraint_classification(australia_social_ban_2026, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(australia_social_ban_2026, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless \= TypeInstitutional.

test(extraction_threshold) :-
    domain_priors:base_extractiveness(australia_social_ban_2026, E),
    E >= 0.46.

:- end_tests(australia_social_ban_2026_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.72) reflects the cost of ID verification 
 * forced upon privacy-focused platforms like Substack. 
 * The Theater Ratio (0.55) captures the massive disparity between 
 * social media fines and manslaughter penalties, indicating a 
 * performative political priority.
 *
 * * MANDATROPHY ANALYSIS:
 * [RESOLVED MANDATROPHY]
 * The system identifies a "Tangled Rope" for analysts because the 
 * stated goal of safety creates a genuine coordination layer, yet the 
 * "reasonable steps" requirement extracts significant privacy capital 
 * from the adult population.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    omega_id_leak_2026,
    'Will the government verification mechanism secure user data or leak it?',
    'Analysis of reported ID document leaks following the ban commencement.',
    'Secure data maintains the Rope; Leaks convert the adult experience to a Snare.',
    confidence_without_resolution(low)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

narrative_ontology:interval(australia_social_ban_2026, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio rises as the list of "expressly excluded" platforms creates 
% a performative boundary for educational content.
narrative_ontology:measurement(au_tr_t0, australia_social_ban_2026, theater_ratio, 0, 0.35).
narrative_ontology:measurement(au_tr_t5, australia_social_ban_2026, theater_ratio, 5, 0.45).
narrative_ontology:measurement(au_tr_t10, australia_social_ban_2026, theater_ratio, 10, 0.55).

% Extraction spikes as platforms like Substack implement ID uploads.
narrative_ontology:measurement(au_ex_t0, australia_social_ban_2026, base_extractiveness, 0, 0.40).
narrative_ontology:measurement(au_ex_t5, australia_social_ban_2026, base_extractiveness, 5, 0.60).
narrative_ontology:measurement(au_ex_t10, australia_social_ban_2026, base_extractiveness, 10, 0.72).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: authoritarian_power_paradox
% ============================================================================
% Generated: 2026-01-23
% Model: Gemini 2.0 Flash
% Source: Cross-Domain Synthesis (Political, Narrative, and Institutional)
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(authoritarian_power_paradox, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Updated for v3.4) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: authoritarian_power_paradox
 * human_readable: The Paradox of Authoritarian Centralization
 * domain: political/social/technological
 * temporal_scope: Universal / Multi-Era
 * spatial_scope: Global / Institutional
 * * SUMMARY:
 * The paradox of power describes a state where an institution or leader 
 * increases centralization to ensure stability but, in doing so, suppresses 
 * the diagnostic sensors required to perceive threats. This creates 
 * "Brittle Stability"—a system that appears unyielding until it collapses 
 * instantaneously upon hitting an unmodeled reality.
 * * KEY AGENTS:
 * - The Institutional Core: Rule-making power seeking total coordination (Rope) 
 * but effectively creating systemic blindness (Snare).
 * - The Individual Outlier: Powerless agents with diagnostic capacity who are 
 * filtered out by conformity requirements.
 * - The Analytical Observer: External or historical perspective that identifies 
 * the terminal collapse.
 * * NARRATIVE ARC:
 * Systems move from "Adaptive Ropes" (coordination) to "Domesticated Mountains" 
 * (unquestioned dogma). The paradox is that the more a system 
 * eliminates "friction" (dissent), the more it extracts the intelligence 
 * required for its own survival.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (REVISED)
   ========================================================================== */

% ID Binding - Mandatory for 2026 DR-Audit Suite
narrative_ontology:interval(authoritarian_power_paradox, 0, 10).
narrative_ontology:constraint_claim(authoritarian_power_paradox, snare).

% Base Properties
domain_priors:base_extractiveness(authoritarian_power_paradox, 0.80).
domain_priors:suppression_score(authoritarian_power_paradox, 0.90).
domain_priors:theater_ratio(authoritarian_power_paradox, 0.65). % Reflects performative "unified narrative".

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(authoritarian_power_paradox, extractiveness, 0.8).
narrative_ontology:constraint_metric(authoritarian_power_paradox, suppression_requirement, 0.9).
narrative_ontology:constraint_metric(authoritarian_power_paradox, theater_ratio, 0.65).

% Mandatory keys for classification engine v3.4
domain_priors:requires_active_enforcement(authoritarian_power_paradox).

% Beneficiaries & Victims (Required for extraction > 0.46)
narrative_ontology:constraint_beneficiary(authoritarian_power_paradox, central_bureaucracy).
narrative_ontology:constraint_victim(authoritarian_power_paradox, individual_outliers).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE INDIVIDUAL OUTLIER - Mountain
   --------------------------------------------------------------------------
   WHO: powerless - Low-level workers or dissenters.
   WHEN: immediate - Tactical awareness of a specific threat.
   WHERE: trapped - Bound by the domestication gradient of the system.
   SCOPE: local - Specific area of observation.
   
   WHY THIS CLASSIFICATION:
   To the outlier seeing a systemic flaw, the central denial is a Mountain. 
   No signal can move the institution because the institution has defined 
   the outlier's sensor as "noise".
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(authoritarian_power_paradox, mountain, 
    context(agent_power(powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))) :-
    domain_priors:suppression_score(authoritarian_power_paradox, S), S > 0.7, !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE INSTITUTIONAL CORE - Rope
   --------------------------------------------------------------------------
   WHO: institutional - Rule-making power.
   WHEN: generational - Maintaining long-term goals or legacies.
   WHERE: mobile - Projecting power across sectors.
   SCOPE: national - Managing the aggregate population.
   
   WHY THIS CLASSIFICATION:
   The center views its centralization as a Rope—the only mechanism capable 
   of weaving a disparate population into a coherent mission. 
   The elimination of dissent is seen as beneficial optimization.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(authoritarian_power_paradox, rope, 
    context(agent_power(institutional), time_horizon(generational), exit_options(mobile), spatial_scope(national))) :-
    domain_priors:base_extractiveness(authoritarian_power_paradox, E), E < 0.95, !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE ANALYTICAL OBSERVER - Snare
   --------------------------------------------------------------------------
   WHO: analytical - Observer of the terminal collapse.
   WHEN: historical - Evaluating the rupture between stability and crash.
   WHERE: analytical - Free from institutional "glow".
   SCOPE: global - Impact of failure on the broader world.
   
   WHY THIS CLASSIFICATION:
   The observer sees the Snare. Centralization extracted the margin of safety 
   and intelligence until the first unanticipated crisis became terminal. 
   The coordination tool (Rope) acted as the instrument of strangulation.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(authoritarian_power_paradox, snare, 
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))) :-
    domain_priors:base_extractiveness(authoritarian_power_paradox, E), E > 0.6, !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(authoritarian_power_paradox_tests).

/**
 * TEST 1: Multi-perspective variance
 * Demonstrates the transition from strategic tool to immutable dogman to trap.
 */
test(brittle_stability_variance) :-
    constraint_indexing:constraint_classification(authoritarian_power_paradox, T1, context(institutional, generational, mobile, national)),
    constraint_indexing:constraint_classification(authoritarian_power_paradox, T2, context(powerless, immediate, trapped, local)),
    constraint_indexing:constraint_classification(authoritarian_power_paradox, T3, context(analytical, historical, analytical, global)),
    T1 \= T2, T2 \= T3.

/**
 * TEST 2: Power-based extractiveness scaling
 * Powerless agents lose agency to maintain the center's unified narrative.
 */
test(powerless_agency_extraction) :-
    ContextPowerless = context(powerless, immediate, trapped, local),
    ContextInstitutional = context(institutional, generational, mobile, national),
    constraint_indexing:extractiveness_for_agent(authoritarian_power_paradox, ContextPowerless, S1),
    constraint_indexing:extractiveness_for_agent(authoritarian_power_paradox, ContextInstitutional, S2),
    S1 > S2.

/**
 * TEST 3: Diagnostic Blindness Delta
 * High suppression leads to the inability to perceive terminal risks.
 */
test(diagnostic_blindness_check) :-
    domain_priors:suppression_score(authoritarian_power_paradox, S),
    domain_priors:base_extractiveness(authoritarian_power_paradox, E),
    S > 0.8, E > 0.7.

:- end_tests(authoritarian_power_paradox_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * 1. MANDATROPHY RESOLUTION: The 0.8 extractiveness is justified as the 
 * systemic "harvesting" of local intelligence to fuel a centralized 
 * narrative. 
 * 2. PATTERN SYNTHESIS: Unified themes from bureaucratic blindness in 
 * science and high-stakes engineering where margins are extracted 
 * until failure.
 * 3. PERSPECTIVE SELECTION: Chose to highlight the "Outlier" (Mountain) 
 * vs. "Observer" (Snare) to show how systemic blindness is invisible 
 * from within the Institutional Rope.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    friction_utility_threshold,
    "How much 'friction' (dissent/error) must a system retain to remain diagnostic without losing coordination?",
    resolution_mechanism("Comparative simulation of institutional survival rates against 'dissent-tolerance' parameters"),
    impact("If low friction is ideal: The Rope is successful. If high friction is required: The Rope is a deceptive Snare."),
    confidence_without_resolution(medium)
).

omega_variable(
    authoritarian_power_paradox_extraction_intent,
    "Is high extraction (0.8) an intentional predatory choice by the bureaucracy or a functional side-effect of seeking stability?",
    resolution_mechanism("Audit of resource allocation: does the core protect internal efficiency at the expense of external reality?"),
    impact("If necessity: Mountain. If predatory choice: Snare/Mandatrophy."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Multi-Polar Collective Leadership
 * Viability: Provides internal checks and multiple diagnostic sensors.
 * Suppression: Actively dismantled by centralization to ensure "unity of action".
 * * ALTERNATIVE 2: Radical Transparency / Open Science
 * Viability: Prevents technical silos and error concealment.
 * Suppression: Suppressed to prevent "social instability" or loss of prestige.
 * * CONCLUSION:
 * Rejection of these alternatives confirms the paradox is a self-imposed 
 * Snare disguised as an institutional Rope.
 */

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising as the system shifts from functional adaptive 
% coordination (0.20) to performative, brittle dogma (0.65).
narrative_ontology:measurement(paradox_tr_t0, authoritarian_power_paradox, theater_ratio, 0, 0.20).
narrative_ontology:measurement(paradox_tr_t5, authoritarian_power_paradox, theater_ratio, 5, 0.45).
narrative_ontology:measurement(paradox_tr_t10, authoritarian_power_paradox, theater_ratio, 10, 0.65).

% Extraction: Tracking the intensification of cognitive/agency extraction 
% as the central core suppresses diagnostic sensors to maintain order.
narrative_ontology:measurement(paradox_ex_t0, authoritarian_power_paradox, base_extractiveness, 0, 0.35).
narrative_ontology:measurement(paradox_ex_t5, authoritarian_power_paradox, base_extractiveness, 5, 0.60).
narrative_ontology:measurement(paradox_ex_t10, authoritarian_power_paradox, base_extractiveness, 10, 0.80).

/* ==========================================================================
   9. INTEGRATION HOOKS
   ========================================================================== */

% Load into system: ?- [authoritarian_power_paradox].
% Generate report: ?- multi_index_report(authoritarian_power_paradox).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: automatic_enrollment_defaults
% ============================================================================
% Generated: 2026-01-23
% Model: Gemini Pro (Revised)
% Source: Thaler & Sunstein (2008). Nudge. / Pension Protection Act (2006).
% ============================================================================

:- module(constraint_automatic_enrollment_defaults, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * 
 * constraint_id: automatic_enrollment_defaults
 * human_readable: Automatic Enrollment Defaults (Nudge Theory)
 * domain: economic/social/political
 * temporal_scope: Biographical (decades-long impact)
 * spatial_scope: National
 * 
 * SUMMARY:
 * Automatic enrollment is a choice architecture where individuals are placed 
 * into a program (like a 401k or organ donation) by default. It utilizes human
 * cognitive biases like "Status Quo Bias" to dramatically increase participation rates.
 * 
 * KEY AGENTS:
 * - The Uninformed Employee (Individual Powerless): Passively enrolled without active choice.
 * - The Choice Architect (Institutional): The employer or policymaker who designs the default.
 * - The Libertarian Critic (Analytical): Argues that defaults infringe on pure freedom of choice.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (Reality Layer)
   ========================================================================== */

narrative_ontology:interval(automatic_enrollment_defaults, 0, 10).
narrative_ontology:constraint_claim(automatic_enrollment_defaults, rope).

% Base extractiveness score (0.05)
% Extremely low; it is designed to retain value for the individual 
% by overcoming their own cognitive friction and inertia.
domain_priors:base_extractiveness(automatic_enrollment_defaults, 0.05).

% Suppression score (0.1)
% Low; while the default is passive, the opt-out mechanism is usually simple.
domain_priors:suppression_score(automatic_enrollment_defaults, 0.1).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(automatic_enrollment_defaults, extractiveness, 0.05).
narrative_ontology:constraint_metric(automatic_enrollment_defaults, suppression_requirement, 0.1).

% Enforcement: Emerges naturally from cognitive biases.
domain_priors:emerges_naturally(automatic_enrollment_defaults).

% BENEFICIARIES & VICTIMS
constraint_beneficiary(automatic_enrollment_defaults, employees).
constraint_victim(automatic_enrollment_defaults, pure_choice_autonomy).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE UNINFORMED EMPLOYEE - Snare
   --------------------------------------------------------------------------
   WHO: powerless (Lacks financial literacy or attention)
   WHEN: immediate (The moment of hiring)
   WHERE: trapped (Passively placed into a default that may be sub-optimal)
   
   WHY THIS CLASSIFICATION:
   For an employee who doesn't understand the system, the default is a 'Snare'.
   A major financial decision is made for them without their active consent. They
   might be enrolled in a fund with fees that are too high or a contribution
   rate that is too low, strangling their potential long-term wealth.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    automatic_enrollment_defaults,
    snare,
    context(agent_power(powerless), time_horizon(immediate), exit_options(trapped), spatial_scope(local))
).

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE EMPLOYER / CHOICE ARCHITECT - Rope
   --------------------------------------------------------------------------
   WHO: institutional (Designing the HR/pension system)
   WHEN: generational (Managing a workforce over decades)
   WHERE: mobile (Can set the default to opt-in or opt-out)
   
   WHY THIS CLASSIFICATION:
   For the employer, automatic enrollment is a 'Rope'. It is a powerful, low-cost
   tool to coordinate employee behavior toward a beneficial outcome (higher retirement
   savings), increasing employee well-being and fulfilling fiduciary duties.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    automatic_enrollment_defaults,
    rope,
    context(agent_power(institutional), time_horizon(generational), exit_options(mobile), spatial_scope(national))
).

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE BEHAVIORAL ECONOMIST - Mountain
   --------------------------------------------------------------------------
   WHO: analytical (Observing human behavior)
   WHEN: historical (Across countless studies)
   WHERE: analytical (Universal cognitive principle)
   
   WHY THIS CLASSIFICATION:
   The observer sees the "Default Effect" as a 'Mountain' of behavioral 
   psychology. Humans are hard-wired to prefer the status quo. Policy must be
   built upon this mountain; there is no such thing as a "neutral" choice architecture.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    automatic_enrollment_defaults,
    mountain,
    context(agent_power(analytical), time_horizon(historical), exit_options(analytical), spatial_scope(global))
).

/* ==========================================================================
   4. TESTS
   ========================================================================== */

:- begin_tests(automatic_enrollment_tests).

test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(automatic_enrollment_defaults, Type1, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(automatic_enrollment_defaults, Type2, context(agent_power(institutional), _, _, _)),
    constraint_indexing:constraint_classification(automatic_enrollment_defaults, Type3, context(agent_power(analytical), _, _, _)),
    Type1 \= Type2,
    Type2 \= Type3,
    Type1 \= Type3.

:- end_tests(automatic_enrollment_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * 
 * Model: Gemini Pro (Revised)
 * Date: 2026-01-23
 * 
 * KEY DECISIONS:
 * 
 * 1. PERSPECTIVE SELECTION: Added the 'Uninformed Employee' (powerless) and
 *    'Employer' (institutional) to meet linter requirements. This highlights the
 *    core tension of "nudge" theory: the benevolent 'Rope' of the designer can
 *    be a 'Snare' for the individual if the default is not carefully chosen.
 *
 * 2. CLASSIFICATION RATIONALE:
 *    - Uninformed Employee (Snare): A decision made for them without their consent.
 *    - Employer (Rope): A tool to improve employee outcomes.
 *    - Economist (Mountain): The underlying cognitive bias is an immutable fact.
 * 
 * 3. EXTRACTIVENESS (0.05): This is a "libertarian paternalistic" constraint,
 *    designed to be beneficial. The only "extraction" is of pure autonomy, not value.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω)
   ========================================================================== */
/**
 * OMEGA IDENTIFICATION
 *
 * The core uncertainty is whether a "nudge" is a helpful guide or a form of manipulation.
 */

omega_variable(
    nudge_intent,
    "Is the default chosen for the user's best interest (Rope) or for the benefit of the provider (e.g., defaulting into a high-fee fund)?",
    resolution_mechanism("Auditing the financial incentives of the choice architect vs. the long-term outcomes for the user."),
    impact("If for user: A benevolent Rope. If for provider: An extractive Snare."),
    confidence_without_resolution(high)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * 
 * ALTERNATIVE 1: Forced Active Choice
 *    Viability: High. The system could require every employee to actively select
 *    "Yes" or "No" during onboarding, rather than defaulting them in.
 *    Suppression: This is suppressed by the desire to maximize participation rates,
 *    as active choice still results in lower enrollment than opt-out defaults.
 *
 * CONCLUSION:
 * The choice to use an opt-out default instead of forcing an active choice is
 * a deliberate decision to leverage cognitive bias. This makes the system a
 * powerful 'Rope' for achieving policy goals, but also opens it up to being
 * a 'Snare' if the default is set to a predatory option.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 
 * 1. Load: ?- [constraints/automatic_enrollment_defaults].
 * 2. Multi-perspective: ?- multi_index_report(automatic_enrollment_defaults).
 * 3. Run tests: ?- run_tests(automatic_enrollment_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: autonomous_toolchain_sprawl
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-05-21
% ============================================================================

:- module(constraint_autonomous_toolchain_sprawl, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: autonomous_toolchain_sprawl
 * human_readable: The Recursive Maintenance Trap
 * domain: technological
 * * SUMMARY:
 * An organization deploys autonomous agents and CI/CD tools to manage infrastructure.
 * The "meta-tools" required to coordinate these agents proliferate faster than the
 * primary output. This intended "Rope" for efficiency becomes a "Snare" for engineers,
 * who are trapped in "infinite maintenance" of the toolchain itself, liquidating
 * creative surplus into recursive upkeep.
 * * KEY AGENTS:
 * - DevOps Engineer: Subject (Powerless)
 * - Cloud Infrastructure Provider: Beneficiary (Institutional)
 * - Systems Auditor: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(autonomous_toolchain_sprawl, 0.84). % Mountain <= 0.15, Rope <= 0.15, Snare >= 0.46
domain_priors:suppression_score(autonomous_toolchain_sprawl, 0.68).   % Structural property (raw, unscaled).
domain_priors:theater_ratio(autonomous_toolchain_sprawl, 0.79).       % Piton detection (>= 0.70)

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(autonomous_toolchain_sprawl, extractiveness, 0.84).
narrative_ontology:constraint_metric(autonomous_toolchain_sprawl, suppression_requirement, 0.68).
narrative_ontology:constraint_metric(autonomous_toolchain_sprawl, theater_ratio, 0.79).

% Constraint self-claim (what does the constraint claim to be?)
% The toolchain is presented as an essential coordination mechanism.
narrative_ontology:constraint_claim(autonomous_toolchain_sprawl, coordination).

% Binary flags
% The complexity requires active enforcement of standards and practices to prevent collapse.
domain_priors:requires_active_enforcement(autonomous_toolchain_sprawl). % Required for Tangled Rope

% Structural property derivation hooks:
narrative_ontology:constraint_beneficiary(autonomous_toolchain_sprawl, cloud_infrastructure_provider).
narrative_ontology:constraint_victim(autonomous_toolchain_sprawl, devops_engineer).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The engineer is trapped: they cannot "unplug" the automation without
% systemic collapse, yet they spend most of their time fixing the automation.
constraint_indexing:constraint_classification(autonomous_toolchain_sprawl, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The institution views the complex toolchain as a Rope—the only way
% to coordinate global-scale infrastructure with sub-second latency.
constraint_indexing:constraint_classification(autonomous_toolchain_sprawl, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% The default analytical view, detecting both the coordination function and
% the severe asymmetric extraction (0.84).
constraint_indexing:constraint_classification(autonomous_toolchain_sprawl, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

% PERSPECTIVE 4: THE SYSTEMS AUDITOR (PITON)
% A different analytical view focusing on inertia. The high theater ratio (0.79)
% triggers a Piton classification: the "Efficiency Metrics" are performative,
% and the toolchain is maintained out of habit, not current utility.
constraint_indexing:constraint_classification(autonomous_toolchain_sprawl, piton,
    context(agent_power(analytical),
            time_horizon(historical),
            exit_options(arbitrage),
            spatial_scope(universal))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(autonomous_toolchain_sprawl_tests).

test(perspectival_gap) :-
    % Verify there is a perspectival gap between powerless and institutional.
    constraint_indexing:constraint_classification(autonomous_toolchain_sprawl, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(autonomous_toolchain_sprawl, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless == snare,
    TypeInstitutional == rope,
    TypePowerless \= TypeInstitutional.

test(piton_trigger) :-
    % Ensure high theater ratio (0.79) correctly triggers the Piton classification.
    domain_priors:theater_ratio(autonomous_toolchain_sprawl, TR),
    TR >= 0.70,
    constraint_indexing:constraint_classification(autonomous_toolchain_sprawl, piton, context(agent_power(analytical), _, exit_options(arbitrage), _)).

test(tangled_rope_properties) :-
    % Verify that all structural requirements for a Tangled Rope are met.
    narrative_ontology:constraint_beneficiary(autonomous_toolchain_sprawl, _), % -> has_coordination_function
    narrative_ontology:constraint_victim(autonomous_toolchain_sprawl, _),     % -> has_asymmetric_extraction
    domain_priors:requires_active_enforcement(autonomous_toolchain_sprawl).

:- end_tests(autonomous_toolchain_sprawl_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * This constraint models a common failure mode in complex technological systems,
 * where maintenance costs ("meta-work") consume the surplus generated by the
 * system itself. The base extractiveness of 0.84 represents the proportion of
 * engineering time and cognitive load siphoned into maintaining the automation
 * rather than producing primary value. The high theater ratio (0.79) reflects
 * the state where the organization continues to justify the system based on
 * its original promise ("automation ROI") even though it no longer delivers net
 * benefits, a classic sign of a Piton.
 *
 * The dual analytical perspectives (Tangled Rope vs. Piton) capture the lifecycle
 * of this decay. An analysis focused on structure sees a Tangled Rope: it has
 * beneficiaries, victims, and requires enforcement. An analysis focused on
 * function and inertia sees a Piton: its primary purpose has atrophied into
 * theatrical maintenance. The temporal data confirms this drift.
 *
 * * [RESOLVED MANDATROPHY]:
 * The high extraction is resolved by classifying the system as a degraded
 * Tangled Rope that has become a Piton. This prevents misclassifying it as a
 * simple Snare by acknowledging its coordination origins, while the Piton
 * classification correctly identifies its current inertial, non-functional state.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    omega_toolchain_convergence,
    'Is the observed complexity sprawl an artifact of current architectural choices (a fixable Snare) or an irreducible property of large-scale software systems (a Mountain)?',
    'Tracking the ratio of "Maintenance Tickets" to "Feature Releases" across multiple organizations adopting different "No-Ops" platforms over a 5-year horizon.',
    'If ratio drops significantly with new platforms: it was a Snare of architecture. If ratio remains high or rises: it is a Mountain of Software Complexity.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(autonomous_toolchain_sprawl, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio: Rising from functional toolchain coordination (0.15)
% to inertial "Automation ROI" theater (0.79) as maintenance outpaces output.
narrative_ontology:measurement(sprawl_tr_t0, autonomous_toolchain_sprawl, theater_ratio, 0, 0.15).
narrative_ontology:measurement(sprawl_tr_t5, autonomous_toolchain_sprawl, theater_ratio, 5, 0.48).
narrative_ontology:measurement(sprawl_tr_t10, autonomous_toolchain_sprawl, theater_ratio, 10, 0.79).

% Extraction: Progressive accumulation of maintenance debt liquidating
% the engineer's creative surplus into recursive meta-layer upkeep.
narrative_ontology:measurement(sprawl_ex_t0, autonomous_toolchain_sprawl, base_extractiveness, 0, 0.35).
narrative_ontology:measurement(sprawl_ex_t5, autonomous_toolchain_sprawl, base_extractiveness, 5, 0.62).
narrative_ontology:measurement(sprawl_ex_t10, autonomous_toolchain_sprawl, base_extractiveness, 10, 0.84).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% The toolchain is a form of infrastructure for managing other infrastructure.
narrative_ontology:coordination_type(autonomous_toolchain_sprawl, global_infrastructure).

% Network relationships (structural influence edges)
% The sprawl directly impacts the working conditions and well-being of engineers.
narrative_ontology:affects_constraint(autonomous_toolchain_sprawl, platform_engineer_burnout).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: availability_heuristic
% ============================================================================
% Generated: 2026-01-23
% Model: Gemini 2.0 Flash
% Source: Tversky, A., & Kahneman, D. (1973) / Behavioral Economics
% Status: [RESOLVED MANDATROPHY]
% ============================================================================

:- module(constraint_availability_heuristic, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    constraint_indexing:constraint_classification/3,
    narrative_ontology:interval/3,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_claim/2,
    constraint_beneficiary/2,
    constraint_victim/2.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: availability_heuristic
 * human_readable: Availability Heuristic
 * domain: social/cognitive/economic
 * temporal_scope: Permanent (Evolved Biological Property)
 * spatial_scope: Global (Human Decision Systems)
 * * SUMMARY:
 * The availability heuristic is a mental shortcut relying on immediate, vivid 
 * examples that come to mind when evaluating a topic. It operates 
 * on the premise that if something can be recalled easily, it must be important 
 * or more frequent than alternative solutions.
 * * KEY AGENTS:
 * - The Media Architect: Shapes "availability" through selective, vivid, and 
 * frequent reporting.
 * - The Anxious Citizen: Subject to the information environment, experiencing 
 * distorted risk perception.
 * - The Risk Analyst: Attempts to use base-rate data to override the 
 * heuristic's biases.
 * * NARRATIVE ARC:
 * Originally an evolutionary "Rope" for rapid decision-making, in modern 
 * information-dense societies it becomes a "Snare" as vivid but rare events 
 * (e.g., plane crashes) strangle rational assessment of common but dull 
 * threats.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% ID Binding - Mandatory for 2026 DR-Audit Suite
narrative_ontology:interval(availability_heuristic, 0, 10).
narrative_ontology:constraint_claim(availability_heuristic, mountain).

% Base extractiveness: 0.40 (Moderate)
% Rationale: Extracts "rational accuracy" and "long-term utility" from subjects 
% . Benefits entities leveraging "vividness" to influence behavior.
domain_priors:base_extractiveness(availability_heuristic, 0.40).

% Suppression: 0.70 (High)
% Rationale: Suppresses "statistical base rates" and "dull facts". 
% Ease of recall acts as a block against data-driven reasoning.
domain_priors:suppression_score(availability_heuristic, 0.70).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(availability_heuristic, extractiveness, 0.4).
narrative_ontology:constraint_metric(availability_heuristic, suppression_requirement, 0.7).

% Enforcement: Emerges naturally as a biological feature.
domain_priors:emerges_naturally(availability_heuristic).

% Mandatory Asymmetry Hooks (Required for any score > 0.3)
constraint_beneficiary(availability_heuristic, news_media).
constraint_beneficiary(availability_heuristic, advertising_executives).
constraint_victim(availability_heuristic, anxious_citizen).
constraint_victim(availability_heuristic, public_health_policy).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE ANXIOUS CITIZEN - Snare
   --------------------------------------------------------------------------
   
   WHO: powerless - Subject to the prevailing information environment.
   WHEN: immediate - Current state of fear or decision-making.
   WHERE: constrained - Difficulty escaping the "vividness" of modern media.
   SCOPE: local - Immediate personal environment and risks.
   
   WHY THIS CLASSIFICATION:
   For the citizen, the heuristic is a Snare. Vivid images of rare 
   disasters strangle their ability to make sane risk assessments (e.g., 
   flying vs. driving), extracting peace of mind through salience.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(availability_heuristic, snare, 
    context(agent_power(powerless), time_horizon(immediate), exit_options(constrained), spatial_scope(local))).

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE ADVERTISING EXECUTIVE - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Rule-shaping power in the attention economy.
   WHEN: biographical - Achieving commercial targets over a career.
   WHERE: arbitrage - Can shift focus between different campaigns/channels.
   SCOPE: national - Broad market management.
   
   WHY THIS CLASSIFICATION:
   For the executive, it is a Rope. It serves as a coordination 
   mechanism to "top-load" a brand into consumer minds through repetition 
   and vivid imagery, pulling the consumer toward a purchase.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(availability_heuristic, rope, 
    context(agent_power(institutional), time_horizon(biographical), exit_options(arbitrage), spatial_scope(national))).

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE COGNITIVE PSYCHOLOGIST - Mountain
   --------------------------------------------------------------------------
   
   WHO: analytical - Objective observer of biological traits.
   WHEN: civilizational - Long-term evolutionary perspective.
   WHERE: trapped - Bound by the fixed neural architecture of the species.
   SCOPE: global - Universal human property.
   
   WHY THIS CLASSIFICATION:
   To the observer, it is a Mountain. It is an unchangeable 
   feature of "System 1" thinking—a physical limit on how information is 
   retrieved and weighted in the human brain.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(availability_heuristic, mountain, 
    context(agent_power(analytical), time_horizon(civilizational), exit_options(trapped), spatial_scope(global))).

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(availability_heuristic_tests).

/**
 * TEST 1: Multi-perspective variance
 */
test(multi_perspective_variance) :-
    constraint_indexing:constraint_classification(availability_heuristic, Type1, context(powerless, immediate, constrained, local)),
    constraint_indexing:constraint_classification(availability_heuristic, Type2, context(institutional, biographical, arbitrage, national)),
    constraint_indexing:constraint_classification(availability_heuristic, Type3, context(analytical, civilizational, trapped, global)),
    Type1 \= Type2,
    Type2 \= Type3.

/**
 * TEST 2: Power-based extractiveness scaling
 */
test(power_extractiveness_scaling) :-
    ContextPowerless = context(powerless, immediate, constrained, local),
    ContextInstitutional = context(institutional, biographical, arbitrage, national),
    constraint_indexing:extractiveness_for_agent(availability_heuristic, ContextPowerless, Score1),
    constraint_indexing:extractiveness_for_agent(availability_heuristic, ContextInstitutional, Score2),
    Score1 > Score2.

/**
 * TEST 3: Time-horizon immutability
 */
test(evolutionary_immutability) :-
    % Civilizational horizon sees the trait as unchangeable.
    constraint_indexing:effective_immutability(civilizational, trapped, mountain).

:- end_tests(availability_heuristic_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * * KEY DECISIONS:
 * * 1. SUPPRESSION SCORE (0.70):
 * High score reflects the biological priority given to vivid memories over 
 * statistical data.
 * * 2. MANDATROPHY RESOLUTION:
 * While base extractiveness is 0.40, the status [RESOLVED MANDATROPHY] is 
 * applied because the extraction of rational peace of mind from the citizen 
 * is systemic. Perspective 1 (Snare) vs Perspective 2 (Rope) validates 
 * the perspectival gap.
 * * 3. CLASSIFICATION RATIONALE:
 * - Powerless -> Snare: They are the subjects of the manipulated salience.
 * - Institutional -> Rope: They leverage the heuristic as a tool for influence.
 * - Analytical -> Mountain: Physics and biology of the brain are immutable.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    salience_threshold_shift,
    "Does the 'Vividness' threshold required to trigger the heuristic increase in a hyper-visual digital society?",
    resolution_mechanism("Longitudinal study of desensitization to disaster imagery across digital generations"),
    impact("If Yes: The Snare is temporary. If No: The Snare tightens as information volume grows."),
    confidence_without_resolution(medium)
).

omega_variable(
    availability_heuristic_extraction_intent,
    "Is the extraction of rational accuracy a biological necessity for survival or a predatory systemic exploit?",
    resolution_mechanism("Audit of modern media incentive structures vs. base-rate accuracy thresholds"),
    impact("If necessity: Mountain. If predatory exploit: Snare/Mandatrophy."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: Base-Rate Reasoning (System 2 Thinking)
 * Viability: High, but cognitively expensive.
 * Suppression: Naturally suppressed by the brain's preference for low-energy 
 * heuristics and intentionally suppressed by vivid media reporting.
 * * CONCLUSION:
 * The presence of suppressed alternatives (statistical reasoning) shifts the 
 * experience from a natural "Mountain" to a "Snare" when media institutions 
 * actively exploit the bias.
 */

/* ==========================================================================
   8. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * * 1. Load: ?- [constraint_availability_heuristic].
 * 2. Multi-perspective: ?- multi_index_report(availability_heuristic).
 * 3. Run tests: ?- run_tests(availability_heuristic_tests).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: average_is_over_2026
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-15
% ============================================================================

:- module(constraint_average_is_over_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: average_is_over_2026
 * human_readable: The AI-Talent Barbell Economy
 * domain: economic/technological
 * * SUMMARY:
 * As of 2026, the economy increasingly rewards a combination of natural talent
 * and "internal pressure" to work with intelligent machines.
 * Models like the Alpha School utilize AI-first tutoring to bypass traditional
 * classroom structures, creating a "Rope" for high achievers while
 * hollowing out the middle-skill class. This creates a bifurcated "barbell"
 * economy with high rewards at the top and a squeezed middle.
 * * KEY AGENTS:
 * - Middle-Skill Workers / Traditional Students: Subject (Powerless)
 * - AI-Augmented High Achievers / Alpha School: Beneficiary (Institutional)
 * - Economic Analysts (Arnold Kling/Tyler Cowen): Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Extraction is high (0.68). The "Barbell Economy" extracts wealth and status
% from those whose skills compete directly with machines, concentrating it
% among those whose skills are complementary.
domain_priors:base_extractiveness(average_is_over_2026, 0.68).

% Suppression is moderate-high (0.75). The requirement for extreme
% conscientiousness and adaptability suppresses those without high internal pressure
% or access to elite training, limiting their alternatives.
domain_priors:suppression_score(average_is_over_2026, 0.75).

% Theater ratio is moderate (0.42). While the "outstanding" mindset is
% functional, the performance of "keeping up" by the middle class is often
% theater masking economic stagnation.
domain_priors:theater_ratio(average_is_over_2026, 0.42).

% Constraint metric facts — primary keys used by the classification engine.
narrative_ontology:constraint_metric(average_is_over_2026, extractiveness, 0.68).
narrative_ontology:constraint_metric(average_is_over_2026, suppression_requirement, 0.75).
narrative_ontology:constraint_metric(average_is_over_2026, theater_ratio, 0.42).

% Constraint self-claim (what does the constraint claim to be?)
% It claims to be a pure meritocratic coordination mechanism.
narrative_ontology:constraint_claim(average_is_over_2026, coordination).

% Binary flags
% The market dynamics and credentialing systems that enforce this barbell
% structure require continuous reinforcement.
domain_priors:requires_active_enforcement(average_is_over_2026).

% Structural property derivation hooks:
narrative_ontology:constraint_beneficiary(average_is_over_2026, ai_complementary_workforce).
narrative_ontology:constraint_victim(average_is_over_2026, routine_cognitive_labor).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   ========================================================================== */

% PERSPECTIVE 1: THE DISPLACED WORKER (SNARE)
% For those competing with algorithms, the economy is a Snare: a trap of
% declining wages and hollowing middle-class opportunities.
constraint_indexing:constraint_classification(average_is_over_2026, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE ALPHA STUDENT (ROPE)
% High achievers view AI-tutors and internal pressure as a Rope: essential
% tools to accomplish far more than was previously possible.
constraint_indexing:constraint_classification(average_is_over_2026, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (TANGLED ROPE)
% Analysts see a system with both a genuine coordination function (for the
% elite) and severe asymmetric extraction (from the middle). This hybrid
% nature, requiring active enforcement, defines a Tangled Rope.
constraint_indexing:constraint_classification(average_is_over_2026, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(average_is_over_2026_tests).

test(perspectival_gap) :-
    % Verify there is a perspectival gap between powerless and institutional.
    constraint_indexing:constraint_classification(average_is_over_2026, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(average_is_over_2026, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless \= TypeInstitutional,
    TypePowerless == snare,
    TypeInstitutional == rope.

test(analytical_observer_is_tangled_rope) :-
    % Verify the analytical observer correctly identifies the hybrid nature.
    constraint_indexing:constraint_classification(average_is_over_2026, tangled_rope, context(agent_power(analytical), _, _, _)).

test(extraction_threshold) :-
    domain_priors:base_extractiveness(average_is_over_2026, E),
    E >= 0.46.

:- end_tests(average_is_over_2026_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.68) is driven by "technological complementarity"—
 * where those who cannot leverage AI face a "Sovereignty Gap" in income
 * and status. The Alpha School's model acts as a functional Rope for those
 * with high conscientiousness, creating a stark perspectival gap with those
 * displaced by the same technology, who experience it as a Snare.
 * The analytical classification is Tangled Rope because the system is not
 * purely extractive; it has a genuine, powerful coordination function for
 * its beneficiaries, which coexists with its extractive function. This
 * resolves the LOW_THEATER_RATIO error by correctly identifying the system
 * as functional but asymmetric, rather than non-functional (Piton).
 *
 * * MANDATROPHY ANALYSIS:
 * [RESOLVED MANDATROPHY]
 * The system correctly identifies this as a Tangled Rope, recognizing both the
 * genuine coordination function for AI-augmented workers (the Rope aspect) and
 * the severe asymmetric extraction from the routine cognitive labor class (the
 * Snare aspect). This prevents misclassifying a hyper-functional, albeit
 * polarizing, economic system as purely extractive or purely coordinative.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    omega_conscientiousness_scaling,
    'Can "internal pressure" and adaptability be taught at scale, or are they non-modifiable traits?',
    'Longitudinal studies of graduates from alternative education models (e.g., Alpha School) vs. traditional cohorts.',
    'If teachable, the constraint could evolve into a Scaffold. If not, it solidifies as a permanent demographic Snare for a large population segment.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(average_is_over_2026, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Modeling the drift from the "Middle Class Era" to the "Barbell Economy."
% Theater ratio rises as "average" success becomes performative rather than functional.
narrative_ontology:measurement(avg_tr_t0, average_is_over_2026, theater_ratio, 0, 0.10).
narrative_ontology:measurement(avg_tr_t5, average_is_over_2026, theater_ratio, 5, 0.28).
narrative_ontology:measurement(avg_tr_t10, average_is_over_2026, theater_ratio, 10, 0.42).

% Extraction rises as high earners cluster and capture productivity gains.
narrative_ontology:measurement(avg_ex_t0, average_is_over_2026, base_extractiveness, 0, 0.15).
narrative_ontology:measurement(avg_ex_t5, average_is_over_2026, base_extractiveness, 5, 0.42).
narrative_ontology:measurement(avg_ex_t10, average_is_over_2026, base_extractiveness, 10, 0.68).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% The constraint allocates high-skill talent to high-leverage AI tools.
narrative_ontology:coordination_type(average_is_over_2026, resource_allocation).

% Network relationships (structural influence edges)
% The barbell economy directly influences the perceived value and function of
% traditional higher education.
narrative_ontology:affects_constraint(average_is_over_2026, university_credentialism_2026).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: awareness_without_leverage
% ============================================================================
% Version: 5.2 (Deferential Realism Core + Boltzmann + Purity + Network)
% Logic: 5.2 (Indexed Tuple P,T,E,S + Coupling + Purity + Network Drift)
% Generated: 2024-07-16
% ============================================================================

:- module(constraint_awareness_without_leverage, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    narrative_ontology:constraint_claim/2,
    narrative_ontology:affects_constraint/2,
    narrative_ontology:coordination_type/2,
    narrative_ontology:boltzmann_floor_override/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: awareness_without_leverage
 * human_readable: The Cassandra Paradox
 * domain: social/political
 * * SUMMARY:
 * This constraint occurs when an agent possesses high-fidelity information
 * regarding a systemic failure but lacks any structural mechanism to
 * influence the outcome. This asymmetry turns the information itself into
 * a psychological Snare rather than a tool for coordination.
 * * KEY AGENTS:
 * - Cassandra: Subject (Powerless)
 * - Inertial System: Beneficiary (Institutional)
 * - Power Auditor: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Numerical anchors for v3.4 thresholds
domain_priors:base_extractiveness(awareness_without_leverage, 0.73). % Mountain suppression <= 0.05, Rope extraction <= 0.15, Snare extraction >= 0.46
domain_priors:suppression_score(awareness_without_leverage, 0.65).   % Structural property (raw, unscaled). Only extractiveness is scaled (by power and scope).
domain_priors:theater_ratio(awareness_without_leverage, 0.40).       % Piton detection (>= 0.70)

% Constraint metric facts — primary keys used by the classification engine.
% These mirror domain_priors values using the metric key names from config.pl.
narrative_ontology:constraint_metric(awareness_without_leverage, extractiveness, 0.73).
narrative_ontology:constraint_metric(awareness_without_leverage, suppression_requirement, 0.65).
narrative_ontology:constraint_metric(awareness_without_leverage, theater_ratio, 0.40).

% Constraint self-claim (what does the constraint claim to be?)
% Values: natural_law, coordination, constructed, enforcement
narrative_ontology:constraint_claim(awareness_without_leverage, constructed).

% Binary flags
domain_priors:requires_active_enforcement(awareness_without_leverage). % Required for Tangled Rope

% Structural property derivation hooks:
%   has_coordination_function/1 is DERIVED from constraint_beneficiary/2
%   has_asymmetric_extraction/1 is DERIVED from constraint_victim/2
% Both are required for Tangled Rope. Coordination is also required for Scaffold.
narrative_ontology:constraint_beneficiary(awareness_without_leverage, inertial_system).
narrative_ontology:constraint_victim(awareness_without_leverage, cassandra).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   χ = ε × π(P) × σ(S)
   Power (P) and Scope (S) both affect effective extraction.
   Scope modifiers: local=0.8, regional=0.9, national=1.0,
                    continental=1.1, global=1.2, universal=1.0.
   ========================================================================== */

% PERSPECTIVE 1: THE SUBJECT (SNARE)
% The individual is trapped by their own knowledge, unable to act or exit.
constraint_indexing:constraint_classification(awareness_without_leverage, snare,
    context(agent_power(powerless),
            time_horizon(biographical),
            exit_options(trapped),
            spatial_scope(national))).

% PERSPECTIVE 2: THE BENEFICIARY (ROPE)
% The institution views the distribution of information without leverage as a
% 'Rope'—a way to maintain the appearance of transparency without the risk
% of actual structural disruption.
constraint_indexing:constraint_classification(awareness_without_leverage, rope,
    context(agent_power(institutional),
            time_horizon(generational),
            exit_options(mobile),
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER
% Default analytical context (civilizational/analytical/global).
% The combination of high extraction, suppression, a coordination function
% (beneficiary), asymmetric extraction (victim), and active enforcement
% classifies this as a Tangled Rope.
constraint_indexing:constraint_classification(awareness_without_leverage, tangled_rope,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(global))).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(awareness_without_leverage_tests).

test(perspectival_gap) :-
    % Verify there is a perspectival gap between powerless and institutional.
    constraint_indexing:constraint_classification(awareness_without_leverage, TypePowerless, context(agent_power(powerless), _, _, _)),
    constraint_indexing:constraint_classification(awareness_without_leverage, TypeInstitutional, context(agent_power(institutional), _, _, _)),
    TypePowerless \= TypeInstitutional.

test(threshold_validation) :-
    config:param(extractiveness_metric_name, ExtMetricName),
    narrative_ontology:constraint_metric(awareness_without_leverage, ExtMetricName, E),
    (E =< 0.15 ; E >= 0.46). % Ensures it's either a low-extraction type or high-extraction Snare/Tangled.

:- end_tests(awareness_without_leverage_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The high extraction score (0.73) reflects the psychological cost imposed on
 * those who are aware of a problem but are structurally prevented from
 * addressing it. The suppression score (0.65) represents the systemic inertia
 * and lack of channels for effective action.
 * * PERSPECTIVAL GAP:
 * The Subject (Cassandra) experiences a Snare: knowledge is a trap, causing
 * distress without providing agency. The Beneficiary (Inertial System)
 * experiences a Rope: the appearance of transparency and information sharing
 * acts as a stabilizing coordination mechanism, placating dissent without
 * ceding control.
 * * [RESOLVED MANDATROPHY]:
 * The Analytical Observer's classification as a 'Tangled Rope' resolves the
 * Mandatrophy. It correctly identifies that the system has a genuine
 * coordination function (information distribution) but that this function is
 * coupled with severe, asymmetric extraction (the psychological burden on the
 * powerless) and requires active enforcement (suppressing alternative channels
 * of influence) to maintain itself.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

% omega_variable(ID, Question, Resolution_Mechanism, Impact, Confidence).
omega_variable(
    omega_awareness_without_leverage,
    'Is the lack of leverage a design feature (Snare) or a scaling limit (Mountain)?',
    'Implementation of decentralized quadratic voting for informed cohorts.',
    'If leverage increases: Snare of architecture. If stalemate remains: Mountain of complexity.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

% Required for external script parsing
narrative_ontology:interval(awareness_without_leverage, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Temporal data enables drift detection (metric_substitution,
% extraction_accumulation) by providing measurements at multiple time points.
% Required for high-extraction constraints (base_extractiveness > 0.46).

% Theater ratio over time: Modeling the drift of performative transparency (0.15)
% toward a stable but non-functional state (0.40).
narrative_ontology:measurement(awl_tr_t0, awareness_without_leverage, theater_ratio, 0, 0.15).
narrative_ontology:measurement(awl_tr_t5, awareness_without_leverage, theater_ratio, 5, 0.28).
narrative_ontology:measurement(awl_tr_t10, awareness_without_leverage, theater_ratio, 10, 0.40).

% Extraction over time: Progressive accumulation of the "psychological tax" as
% awareness of systemic failure grows while leverage remains suppressed.
narrative_ontology:measurement(awl_ex_t0, awareness_without_leverage, base_extractiveness, 0, 0.35).
narrative_ontology:measurement(awl_ex_t5, awareness_without_leverage, base_extractiveness, 5, 0.54).
narrative_ontology:measurement(awl_ex_t10, awareness_without_leverage, base_extractiveness, 10, 0.73).

/* ==========================================================================
   9. BOLTZMANN & NETWORK DATA (v5.0-5.2)
   ========================================================================== */

% Coordination type (enables Boltzmann floor + complexity offset)
% The constraint's coordination function is the distribution of information.
narrative_ontology:coordination_type(awareness_without_leverage, information_standard).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */% ============================================================================
% CONSTRAINT STORY: axiom_of_choice_determinacy
% ============================================================================
% Generated: 2026-01-19
% Model: Gemini 2.0 Flash
% Source: Ernst Zermelo (1904) / ZFC Set Theory / Axiomatic Foundations
% ============================================================================

:- module(constraint_axiom_of_choice, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile 
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:constraint_metric/3,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: axiom_of_choice_determinacy
 * human_readable: The Axiom of Choice (AC)
 * domain: mathematical/philosophical
 * temporal_scope: 1904 - Present (Civilizational)
 * spatial_scope: Global/Abstract (Set Theory)
 * * SUMMARY:
 * The Axiom of Choice (AC) states that for every indexed family of non-empty 
 * sets, there exists a choice function that selects exactly one element from 
 * each set. It is a fundamental, non-constructive principle of modern 
 * mathematics that enables transfinite induction and the Well-Ordering 
 * Theorem, while simultaneously birthing "pathological" results.
 * * KEY AGENTS:
 * - The Set Element: A powerless subject whose "selection" is guaranteed 
 * by the axiom even in the absence of a specific rule.
 * - The Functional Analyst: An institutional agent using AC as a "Rope" 
 * to coordinate the existence of basis vectors and linear functionals.
 * - The Intuitive Realist: An observer for whom AC is a "Snare," as its 
 * logical necessity "strangles" physical intuition (e.g., via Banach-Tarski).
 * * NARRATIVE ARC:
 * AC functions as a "Mountain" of formal reality—if you accept ZFC, the 
 * existence of choice functions is a natural law. In modern analysis, it is 
 * a "Rope" for functional coordination, allowing architects to prove 
 * the existence of objects like non-measurable sets. However, for those 
 * grounding math in constructivist reality, it acts as a "Snare," 
 * extracting the "sanctity of construction" and forcing the "tax" of 
 * accepting impossible physical doublings.
 */

/* ==========================================================================
   2. CORE SYSTEM INTEGRATION (The "Reality" Layer)
   ========================================================================== */

% Required for structural anchor extraction
narrative_ontology:interval(ac_era, 1904, 2026).
narrative_ontology:constraint_claim(axiom_of_choice_determinacy, mountain).

% Base extractiveness score (0.0-1.0)
% Rationale: 0.25. AC "extracts" the requirement for specific constructive 
% rules, replacing them with a "metaphysical tax" on intuition to enable 
% higher-order transfinite operations.
domain_priors:base_extractiveness(axiom_of_choice_determinacy, 0.25).

% Suppression score (0.0-1.0)
% Rationale: 0.4. It suppresses the visibility of purely "Constructivist" 
% or "Finitist" alternatives by rendering them functionally incomplete 
% for standard modern analysis (The "Standard Rope").
domain_priors:suppression_score(axiom_of_choice_determinacy, 0.4).

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(axiom_of_choice_determinacy, extractiveness, 0.25).
narrative_ontology:constraint_metric(axiom_of_choice_determinacy, suppression_requirement, 0.4).

% Enforcement: Emerges naturally from the axioms of ZFC.
domain_priors:emerges_naturally(axiom_of_choice_determinacy).

% Metrics required for Section 1 of the Executive Summary
% BENEFICIARIES & VICTIMS
constraint_beneficiary(axiom_of_choice_determinacy, functional_analysts).
constraint_beneficiary(axiom_of_choice_determinacy, transfinite_topologists).
constraint_victim(axiom_of_choice_determinacy, mathematical_constructivists).
constraint_victim(axiom_of_choice_determinacy, physical_intuitionists).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (Perspectival Truth)
   ========================================================================== */

/* --------------------------------------------------------------------------
   PERSPECTIVE 1: THE DISCRETE ELEMENT - Mountain
   --------------------------------------------------------------------------
   
   WHO: powerless - The element cannot refuse selection or define its path.
   WHEN: immediate - The choice exists at the moment the collection is defined.
   WHERE: trapped - Bound within the transfinite hierarchy of the set.
   SCOPE: local - Immediate membership status.
   
   WHY THIS CLASSIFICATION:
   For an individual element in an infinite collection, AC is a Mountain. Its 
   existence as a "chosen" member is an unyielding law of the ZFC universe. 
   It has zero agency to remain "unchosen" or to demand a specific 
   rule-based selection; its destiny is fixed by the transfinite.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    axiom_of_choice_determinacy,
    mountain,
    context(
        agent_power(powerless),
        time_horizon(immediate),
        exit_options(trapped),
        spatial_scope(local)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 2: THE HAHN-BANACH ANALYST - Rope
   --------------------------------------------------------------------------
   
   WHO: institutional - Power to establish the foundations of modern physics and analysis.
   WHEN: biographical - Spanning the lifecycle of a mathematical theory's development.
   WHERE: mobile - Can choose to use AC to solve specific functional problems.
   SCOPE: global - Universal application across infinite-dimensional spaces.
   
   WHY THIS CLASSIFICATION:
   For the analyst, AC is a "Rope"—a functional coordination mechanism. It 
   allows them to "pull" the standard of achievement in analysis by 
   guaranteeing the existence of linear functionals, providing a tool 
   for agency in a transfinite landscape that would otherwise be unusable.
   -------------------------------------------------------------------------- */

constraint_indexing:constraint_classification(
    axiom_of_choice_determinacy,
    rope,
    context(
        agent_power(institutional),
        time_horizon(biographical),
        exit_options(mobile),
        spatial_scope(global)
    )
) :- !.

/* --------------------------------------------------------------------------
   PERSPECTIVE 3: THE INTUITIVE GEOMETER - Snare
   --------------------------------------------------------------------------
   
   WHO: individual_moderate - Has tools to reason but is bound by the axiom's logic.
   WHEN: civilizational - Attempting to map math to a finite, physical universe.
   WHERE: constrained - The "exit" (refusing AC) is professionally and logically costly.
   SCOPE: global - Affecting the interpretation of all 3D space.
   
   WHY THIS CLASSIFICATION:
   For the geometer grounded in physical realism, AC is a "Snare." It 
   "strangles" the concept of conservation of volume through the 
   Banach-Tarski paradox. It extracts the "reliability of matter" (extraction), 
   choking the possibility of a purely intuitive geometry in favor of 
   abstract, "monstrous" doublings.
   -------------------------------------------------------------------------- */



constraint_indexing:constraint_classification(
    axiom_of_choice_determinacy,
    snare,
    context(
        agent_power(individual_moderate),
        time_horizon(civilizational),
        exit_options(constrained),
        spatial_scope(global)
    )
) :- 
    domain_priors:base_extractiveness(axiom_of_choice_determinacy, E),
    E >= 0.2,
    !.

/* ==========================================================================
   4. TESTS (What We Learn About Constraints)
   ========================================================================== */

:- begin_tests(axiom_of_choice_tests).

test(multi_perspective_variance) :-
    % Element -> Mountain
    constraint_indexing:constraint_classification(axiom_of_choice_determinacy, Type1, context(powerless, immediate, trapped, local)),
    % Analyst -> Rope
    constraint_indexing:constraint_classification(axiom_of_choice_determinacy, Type2, context(institutional, biographical, mobile, global)),
    Type1 \= Type2.

test(intuition_extraction_penalty) :-
    % Geometers experience the "Snare" of the extractiveness of intuition.
    Context = context(individual_moderate, civilizational, constrained, global),
    constraint_indexing:extractiveness_for_agent(axiom_of_choice_determinacy, Context, Score),
    Score >= 0.2.

test(natural_emergence) :-
    domain_priors:emerges_naturally(axiom_of_choice_determinacy).

:- end_tests(axiom_of_choice_tests).

/* ==========================================================================
   5. MODEL INTERPRETATION (Commentary)
   ========================================================================== */

/**
 * LLM GENERATION NOTES
 * * Model: Gemini 2.0 Flash
 * Date: 2026-01-19
 * * KEY DECISIONS:
 * 1. BASE EXTRACTIVENESS (0.25): 
 * Reasoning: AC is relatively non-extractive compared to political systems, 
 * but it "extracts" the constructive link between an object and its 
 * definition, imposing a cognitive tax of non-measurability.
 * 2. CLASSIFICATION: 
 * Captured the transition from the "Mountain" of Zermelo's axioms to 
 * the "Snare" of the paradoxical results it mandates for the intuitionist.
 */

% OMEGA IDENTIFICATION
omega_variable(
    ac_physical_validity,
    "Is the Axiom of Choice a 'Mountain' that reflects physical reality or a 'Scaffold' of mathematical convenience (Scaffold)?",
    resolution_mechanism("Investigation into whether physical 'non-measurable' states or infinite choice functions exist in quantum foundations."),
    impact("If Scaffold: AC is a 'Snare' of irrelevant abstraction. If Mountain: It is a fundamental truth."),
    confidence_without_resolution(medium)
).

/* ==========================================================================
   6. ALTERNATIVE ANALYSIS
   ========================================================================== */

/**
 * VIABLE ALTERNATIVES
 * * ALTERNATIVE 1: ZF + Axiom of Determinacy (AD)
 * Viability: In ZF+AD, all sets are Lebesgue measurable, and Banach-Tarski 
 * is impossible.
 * Suppression: Rejected by the "Standard Rope" because AC is required 
 * for vital theorems in analysis (Tychonoff).
 * * ALTERNATIVE 2: Constructive Set Theory (CZF)
 * Viability: Forbids non-constructive choices.
 * * CONCLUSION:
 * The existence of AD (Alternative 1) proves that the AC "Snare" is a 
 * feature of our chosen axiomatic "Rope."
 */

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

/**
 * TO USE THIS FILE:
 * 1. Load: ?- [axiom_of_choice_determinacy].
 * 2. Multi-perspective: ?- multi_index_report(axiom_of_choice_determinacy).
 */

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
% ============================================================================
% CONSTRAINT STORY: axiom_reasoner_2026
% ============================================================================
% Version: 3.4 (Deferential Realism Core)
% Logic: 3.3 (Indexed Tuple P,T,E,S)
% Generated: 2026-02-05
% ============================================================================

:- module(constraint_axiom_reasoner_2026, []).

:- use_module(constraint_indexing).
:- use_module(domain_priors).
:- use_module(narrative_ontology).

% --- Namespace Hooks (Required for loading) ---
:- multifile
    domain_priors:base_extractiveness/2,
    domain_priors:suppression_score/2,
    domain_priors:theater_ratio/2,
    domain_priors:requires_active_enforcement/1,
    narrative_ontology:has_sunset_clause/1,
    narrative_ontology:constraint_metric/3,
    narrative_ontology:interval/3,
    narrative_ontology:measurement/5,
    narrative_ontology:constraint_beneficiary/2,
    narrative_ontology:constraint_victim/2,
    constraint_indexing:constraint_classification/3.

/* ==========================================================================
   1. NARRATIVE CONTEXT
   ========================================================================== */

/**
 * CONSTRAINT IDENTIFICATION
 * * constraint_id: axiom_reasoner_2026
 * human_readable: Axiom's Self-Improving Superintelligent Reasoner
 * domain: technological/scientific
 * * SUMMARY:
 * Axiom's mission is to move beyond the probabilistic approximations of current 
 * AI by building a self-improving reasoner centered on mathematical rigor. 
 * By using the Lean programming language and symbolic logic, they aim to create 
 * a "Rope" for verified scientific discovery, solving conjectures and 
 * verifying high-stakes code across finance and cryptography.
 * * KEY AGENTS:
 * - Traditional Software Engineers: Subject (Powerless against formal methods)
 * - Axiom Math / Research Labs: Beneficiary (Institutional)
 * - Formal Verification Auditors: Auditor (Analytical)
 */

/* ==========================================================================
   2. BASE PROPERTIES (DOMAIN PRIORS)
   ========================================================================== */

% Extraction is moderate-high (0.48) as the system extracts "Reasoning Certainty" 
% from complex datasets, requiring high-fidelity symbolic labor.
domain_priors:base_extractiveness(axiom_reasoner_2026, 0.48). 

% Suppression is moderate (0.35) as the "Reasoning-First" model suppresses 
% the hallucinations and pattern-matching errors of previous AI generations.
domain_priors:suppression_score(axiom_reasoner_2026, 0.35).   

% Theater ratio is very low (0.08) because the focus is on mathematically 
% rigorous proofs and "Provable Correctness" over fluent text.
domain_priors:theater_ratio(axiom_reasoner_2026, 0.08).       

% Constraint metric facts (bridge for classification engine)
narrative_ontology:constraint_metric(axiom_reasoner_2026, extractiveness, 0.48).
narrative_ontology:constraint_metric(axiom_reasoner_2026, suppression_requirement, 0.35).
narrative_ontology:constraint_metric(axiom_reasoner_2026, theater_ratio, 0.08).

% Primary keys for the classification engine
% High-extraction stakeholders (E > 0.46)
narrative_ontology:constraint_beneficiary(axiom_reasoner_2026, verifiable_computing_sector).
narrative_ontology:constraint_victim(axiom_reasoner_2026, unverified_probabilistic_models).

/* ==========================================================================
   3. INDEXED CLASSIFICATIONS (P, T, E, S)
   ========================================================================== */

% PERSPECTIVE 1: THE RESEARCHER (ROPE)
% For the mathematician, the self-improving reasoner is a Rope: a coordination 
% tool that amplifies the scale and speed of discoveries at exponential scale.
constraint_indexing:constraint_classification(axiom_reasoner_2026, rope, 
    context(agent_power(institutional), 
            time_horizon(generational), 
            exit_options(mobile), 
            spatial_scope(global))).

% PERSPECTIVE 2: THE TRADITIONAL CODER (SNARE)
% For developers who cannot adapt to formal methods, the shift to "Verified 
% Reasoning" is a Snare: an inescapable requirement for structural correctness.
constraint_indexing:constraint_classification(axiom_reasoner_2026, snare, 
    context(agent_power(powerless), 
            time_horizon(biographical), 
            exit_options(trapped), 
            spatial_scope(global))).

% PERSPECTIVE 3: THE ANALYTICAL OBSERVER (MOUNTAIN)
% From a civilizational view, the mission identifies the "Reasoning Gap" as 
% a Mountain: a foundational limit that can only be scaled via symbolic logic.
constraint_indexing:constraint_classification(axiom_reasoner_2026, mountain,
    context(agent_power(analytical),
            time_horizon(civilizational),
            exit_options(analytical),
            spatial_scope(universal))).

% PERSPECTIVE 4: THE STARTUP (SCAFFOLD)
% The "AI Mathematician" phase is a Scaffold: a transitional tool to bridge 
% current AI limits until a General Reasoner is achieved.
constraint_indexing:constraint_classification(axiom_reasoner_2026, scaffold,
    context(agent_power(organized),
            time_horizon(historical),
            exit_options(constrained),
            spatial_scope(national))) :-
    narrative_ontology:has_sunset_clause(axiom_reasoner_2026).

% Mandatory sunset clause for the transitional "Mathematician" phase
narrative_ontology:has_sunset_clause(axiom_reasoner_2026).

/* ==========================================================================
   4. VALIDATION TESTS
   ========================================================================== */

:- begin_tests(axiom_reasoner_2026_tests).

test(functional_fidelity) :-
    domain_priors:theater_ratio(axiom_reasoner_2026, TR), TR < 0.10.

test(extraction_accumulation) :-
    domain_priors:base_extractiveness(axiom_reasoner_2026, E), E > 0.46.

test(scaffold_requirement) :-
    narrative_ontology:has_sunset_clause(axiom_reasoner_2026).

:- end_tests(axiom_reasoner_2026_tests).

/* ==========================================================================
   5. GENERATIVE COMMENTARY
   ========================================================================== */

/**
 * LOGIC RATIONALE:
 * The extraction score (0.48) reflects the shift toward high-stakes, multi-
 * trillion-dollar fields like software verification and alpha discovery. 
 * The Theater Ratio (0.08) is intentionally low; Axiom's value proposition 
 * is "mathematical accuracy is non-negotiable," which is the antithesis 
 * of performative theater.
 */

/* ==========================================================================
   6. OMEGA VARIABLES (Ω) - IRREDUCIBLE UNCERTAINTIES
   ========================================================================== */

omega_variable(
    omega_self_improving_reasoning,
    'Can a mathematical reasoner discover new logic that it cannot itself verify?',
    'Analysis of conjectures produced by the 2026 Axiom reasoning engine.',
    'Discovery without verification returns the system to a Snare; Verified discovery maintains the Rope.',
    confidence_without_resolution(medium)
).

/* ==========================================================================
   7. INTEGRATION HOOKS
   ========================================================================== */

narrative_ontology:interval(axiom_reasoner_2026, 0, 10).

/* ==========================================================================
   8. TEMPORAL MEASUREMENTS (LIFECYCLE DRIFT DATA)
   ========================================================================== */

% Theater ratio remains low as symbolic logic is functional by nature.
narrative_ontology:measurement(ax_tr_t0, axiom_reasoner_2026, theater_ratio, 0, 0.05).
narrative_ontology:measurement(ax_tr_t5, axiom_reasoner_2026, theater_ratio, 5, 0.07).
narrative_ontology:measurement(ax_tr_t10, axiom_reasoner_2026, theater_ratio, 10, 0.08).

% Extraction rises as valuation increases from $300M to $1.5B (Feb 2026).
narrative_ontology:measurement(ax_ex_t0, axiom_reasoner_2026, base_extractiveness, 0, 0.12).
narrative_ontology:measurement(ax_ex_t5, axiom_reasoner_2026, base_extractiveness, 5, 0.35).
narrative_ontology:measurement(ax_ex_t10, axiom_reasoner_2026, base_extractiveness, 10, 0.48).

/* ==========================================================================
   END OF CONSTRAINT STORY
   ========================================================================== */
